{
  "version": 3,
  "sources": ["../../@web3auth/modal/dist/lib.esm/packages/modal/src/react/hooks/useWeb3AuthInner.js", "../../@web3auth/modal/dist/lib.esm/packages/modal/src/react/context/Web3AuthInnerContext.js", "../../@web3auth/modal/dist/lib.esm/packages/modal/src/react/hooks/useWeb3Auth.js"],
  "sourcesContent": ["import { WalletInitializationError } from '@web3auth/no-modal';\nimport { useContext } from 'react';\nimport { Web3AuthInnerContext } from '../context/Web3AuthInnerContext.js';\n\nconst useWeb3AuthInner = () => {\n  const context = useContext(Web3AuthInnerContext);\n  if (!context) {\n    throw WalletInitializationError.fromCode(1000, \"usage of useWeb3Auth not wrapped in `Web3AuthContextProvider`.\");\n  }\n  return context;\n};\n\nexport { useWeb3AuthInner };\n", "import { CONNECTOR_STATUS, WalletInitializationError, CONNECTOR_EVENTS, ANALYTICS_INTEGRATION_TYPE } from '@web3auth/no-modal';\nimport { createContext, useState, useMemo, useCallback, useEffect, createElement } from 'react';\nimport { Web3Auth } from '../../modalManager.js';\n\nconst Web3AuthInnerContext = /*#__PURE__*/createContext(null);\nfunction Web3AuthInnerProvider(params) {\n  const {\n    children,\n    config,\n    initialState\n  } = params;\n  const {\n    web3AuthOptions\n  } = config;\n  const [isInitializing, setIsInitializing] = useState(false);\n  const [initError, setInitError] = useState(null);\n  const [provider, setProvider] = useState(null);\n  const [isInitialized, setIsInitialized] = useState(false);\n  const [isMFAEnabled, setIsMFAEnabled] = useState(false);\n  const web3Auth = useMemo(() => {\n    setProvider(null);\n    return new Web3Auth(web3AuthOptions, initialState);\n  }, [web3AuthOptions, initialState]);\n  const [isConnected, setIsConnected] = useState(web3Auth.status === CONNECTOR_STATUS.CONNECTED);\n  const [status, setStatus] = useState(web3Auth.status);\n  const getPlugin = useCallback(name => {\n    if (!web3Auth) throw WalletInitializationError.notReady();\n    return web3Auth.getPlugin(name);\n  }, [web3Auth]);\n  useEffect(() => {\n    const controller = new AbortController();\n    async function init() {\n      try {\n        setInitError(null);\n        setIsInitializing(true);\n        web3Auth.setAnalyticsProperties({\n          integration_type: ANALYTICS_INTEGRATION_TYPE.REACT_HOOKS\n        });\n        await web3Auth.init({\n          signal: controller.signal\n        });\n      } catch (error) {\n        setInitError(error);\n      } finally {\n        setIsInitializing(false);\n      }\n    }\n    if (web3Auth) init();\n    return () => {\n      controller.abort();\n    };\n  }, [web3Auth, config]);\n  useEffect(() => {\n    const notReadyListener = () => setStatus(web3Auth.status);\n    const readyListener = () => {\n      setStatus(web3Auth.status);\n      setIsInitialized(true);\n    };\n    const connectedListener = data => {\n      setStatus(web3Auth.status);\n      // we do this because of rehydration issues. status connected is fired first but web3auth sdk is not ready yet.\n      if (web3Auth.status === CONNECTOR_STATUS.CONNECTED) {\n        setIsInitialized(true);\n        setIsConnected(true);\n        setProvider(data.provider);\n      }\n    };\n    const disconnectedListener = () => {\n      setStatus(web3Auth.status);\n      setIsConnected(false);\n      setProvider(null);\n    };\n    const connectingListener = () => {\n      setStatus(web3Auth.status);\n    };\n    const errorListener = () => {\n      setStatus(web3Auth.status);\n    };\n    const rehydrationErrorListener = () => {\n      setStatus(web3Auth.status);\n      setIsConnected(false);\n      setProvider(null);\n    };\n    const mfaEnabledListener = isMFAEnabled => {\n      if (typeof isMFAEnabled === \"boolean\") setIsMFAEnabled(isMFAEnabled);\n    };\n    if (web3Auth) {\n      // web3Auth is initialized here.\n      setStatus(web3Auth.status);\n      web3Auth.on(CONNECTOR_EVENTS.NOT_READY, notReadyListener);\n      web3Auth.on(CONNECTOR_EVENTS.READY, readyListener);\n      web3Auth.on(CONNECTOR_EVENTS.CONNECTED, connectedListener);\n      web3Auth.on(CONNECTOR_EVENTS.DISCONNECTED, disconnectedListener);\n      web3Auth.on(CONNECTOR_EVENTS.CONNECTING, connectingListener);\n      web3Auth.on(CONNECTOR_EVENTS.ERRORED, errorListener);\n      web3Auth.on(CONNECTOR_EVENTS.REHYDRATION_ERROR, rehydrationErrorListener);\n      web3Auth.on(CONNECTOR_EVENTS.MFA_ENABLED, mfaEnabledListener);\n    }\n    return () => {\n      if (web3Auth) {\n        web3Auth.off(CONNECTOR_EVENTS.NOT_READY, notReadyListener);\n        web3Auth.off(CONNECTOR_EVENTS.READY, readyListener);\n        web3Auth.off(CONNECTOR_EVENTS.CONNECTED, connectedListener);\n        web3Auth.off(CONNECTOR_EVENTS.DISCONNECTED, disconnectedListener);\n        web3Auth.off(CONNECTOR_EVENTS.CONNECTING, connectingListener);\n        web3Auth.off(CONNECTOR_EVENTS.ERRORED, errorListener);\n        web3Auth.off(CONNECTOR_EVENTS.REHYDRATION_ERROR, rehydrationErrorListener);\n        web3Auth.off(CONNECTOR_EVENTS.MFA_ENABLED, mfaEnabledListener);\n        web3Auth.cleanup();\n      }\n    };\n  }, [web3Auth]);\n  const value = useMemo(() => {\n    return {\n      web3Auth,\n      isConnected,\n      isInitialized,\n      provider,\n      status,\n      isInitializing,\n      initError,\n      isMFAEnabled,\n      getPlugin,\n      setIsMFAEnabled\n    };\n  }, [web3Auth, isConnected, isMFAEnabled, setIsMFAEnabled, isInitialized, provider, status, getPlugin, isInitializing, initError]);\n  return /*#__PURE__*/createElement(Web3AuthInnerContext.Provider, {\n    value\n  }, children);\n}\n\nexport { Web3AuthInnerContext, Web3AuthInnerProvider };\n", "import { useWeb3AuthInner } from './useWeb3AuthInner.js';\n\nconst useWeb3Auth = () => {\n  const {\n    initError,\n    isConnected,\n    isInitialized,\n    isInitializing,\n    provider,\n    status,\n    web3Auth,\n    getPlugin\n  } = useWeb3AuthInner();\n  return {\n    initError,\n    isConnected,\n    isInitialized,\n    isInitializing,\n    provider,\n    status,\n    web3Auth,\n    getPlugin\n  };\n};\n\nexport { useWeb3Auth };\n"],
  "mappings": "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",
  "names": ["import_react", "isMFAEnabled"]
}
