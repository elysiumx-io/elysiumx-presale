const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DzYeB6fl.js","assets/is-plan-event-enabled-DS1Agtkw.js","assets/index-UbORLzn6.js","assets/index-B1XmwByX.js","assets/hmac-XaMk_Pys.js","assets/sha256-CjTAiWzm.js","assets/solanaRpcMiddlewares-Bhsm-lJf.js","assets/index-CNcAfzVy.js","assets/index-Dygkxhw4.js"])))=>i.map(i=>d[i]);
var SB=Object.defineProperty;var m4=t=>{throw TypeError(t)};var CB=(t,e,n)=>e in t?SB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ks=(t,e,n)=>CB(t,typeof e!="symbol"?e+"":e,n),Kw=(t,e,n)=>e.has(t)||m4("Cannot "+n);var Le=(t,e,n)=>(Kw(t,e,"read from private field"),n?n.call(t):e.get(t)),Vt=(t,e,n)=>e.has(t)?m4("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Rt=(t,e,n,r)=>(Kw(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Kn=(t,e,n)=>(Kw(t,e,"access private method"),n);var F0=(t,e,n,r)=>({set _(i){Rt(t,e,i,n)},get _(){return Le(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Hi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function AB(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Vw={},jf={},v4;function IB(){if(v4)return jf;v4=1,jf.byteLength=s,jf.toByteArray=c,jf.fromByteArray=p;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(g){var m=g.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=g.indexOf("=");v===-1&&(v=m);var _=v===m?0:4-v%4;return[v,_]}function s(g){var m=a(g),v=m[0],_=m[1];return(v+_)*3/4-_}function l(g,m,v){return(m+v)*3/4-v}function c(g){var m,v=a(g),_=v[0],w=v[1],I=new n(l(g,_,w)),k=0,$=w>0?_-4:_,L;for(L=0;L<$;L+=4)m=e[g.charCodeAt(L)]<<18|e[g.charCodeAt(L+1)]<<12|e[g.charCodeAt(L+2)]<<6|e[g.charCodeAt(L+3)],I[k++]=m>>16&255,I[k++]=m>>8&255,I[k++]=m&255;return w===2&&(m=e[g.charCodeAt(L)]<<2|e[g.charCodeAt(L+1)]>>4,I[k++]=m&255),w===1&&(m=e[g.charCodeAt(L)]<<10|e[g.charCodeAt(L+1)]<<4|e[g.charCodeAt(L+2)]>>2,I[k++]=m>>8&255,I[k++]=m&255),I}function u(g){return t[g>>18&63]+t[g>>12&63]+t[g>>6&63]+t[g&63]}function f(g,m,v){for(var _,w=[],I=m;I<v;I+=3)_=(g[I]<<16&16711680)+(g[I+1]<<8&65280)+(g[I+2]&255),w.push(u(_));return w.join("")}function p(g){for(var m,v=g.length,_=v%3,w=[],I=16383,k=0,$=v-_;k<$;k+=I)w.push(f(g,k,k+I>$?$:k+I));return _===1?(m=g[v-1],w.push(t[m>>2]+t[m<<4&63]+"==")):_===2&&(m=(g[v-2]<<8)+g[v-1],w.push(t[m>>10]+t[m>>4&63]+t[m<<2&63]+"=")),w.join("")}return jf}var U0={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var y4;function kB(){return y4||(y4=1,U0.read=function(t,e,n,r,i){var o,a,s=i*8-r-1,l=(1<<s)-1,c=l>>1,u=-7,f=n?i-1:0,p=n?-1:1,g=t[e+f];for(f+=p,o=g&(1<<-u)-1,g>>=-u,u+=s;u>0;o=o*256+t[e+f],f+=p,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=a*256+t[e+f],f+=p,u-=8);if(o===0)o=1-c;else{if(o===l)return a?NaN:(g?-1:1)*(1/0);a=a+Math.pow(2,r),o=o-c}return(g?-1:1)*a*Math.pow(2,o-r)},U0.write=function(t,e,n,r,i,o){var a,s,l,c=o*8-i-1,u=(1<<c)-1,f=u>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=r?0:o-1,m=r?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+f>=1?e+=p/l:e+=p*Math.pow(2,1-f),e*l>=2&&(a++,l/=2),a+f>=u?(s=0,a=u):a+f>=1?(s=(e*l-1)*Math.pow(2,i),a=a+f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+g]=s&255,g+=m,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+g]=a&255,g+=m,a/=256,c-=8);t[n+g-m]|=v*128}),U0}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var w4;function ka(){return w4||(w4=1,function(t){const e=IB(),n=kB(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=I,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=o(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const te=new Uint8Array(1),W={foo:function(){return 42}};return Object.setPrototypeOf(W,Uint8Array.prototype),Object.setPrototypeOf(te,W),te.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function a(te){if(te>i)throw new RangeError('The value "'+te+'" is invalid for option "size"');const W=new Uint8Array(te);return Object.setPrototypeOf(W,s.prototype),W}function s(te,W,Y){if(typeof te=="number"){if(typeof W=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(te)}return l(te,W,Y)}s.poolSize=8192;function l(te,W,Y){if(typeof te=="string")return p(te,W);if(ArrayBuffer.isView(te))return m(te);if(te==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof te);if(we(te,ArrayBuffer)||te&&we(te.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(we(te,SharedArrayBuffer)||te&&we(te.buffer,SharedArrayBuffer)))return v(te,W,Y);if(typeof te=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const le=te.valueOf&&te.valueOf();if(le!=null&&le!==te)return s.from(le,W,Y);const ge=_(te);if(ge)return ge;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof te[Symbol.toPrimitive]=="function")return s.from(te[Symbol.toPrimitive]("string"),W,Y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof te)}s.from=function(te,W,Y){return l(te,W,Y)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function c(te){if(typeof te!="number")throw new TypeError('"size" argument must be of type number');if(te<0)throw new RangeError('The value "'+te+'" is invalid for option "size"')}function u(te,W,Y){return c(te),te<=0?a(te):W!==void 0?typeof Y=="string"?a(te).fill(W,Y):a(te).fill(W):a(te)}s.alloc=function(te,W,Y){return u(te,W,Y)};function f(te){return c(te),a(te<0?0:w(te)|0)}s.allocUnsafe=function(te){return f(te)},s.allocUnsafeSlow=function(te){return f(te)};function p(te,W){if((typeof W!="string"||W==="")&&(W="utf8"),!s.isEncoding(W))throw new TypeError("Unknown encoding: "+W);const Y=k(te,W)|0;let le=a(Y);const ge=le.write(te,W);return ge!==Y&&(le=le.slice(0,ge)),le}function g(te){const W=te.length<0?0:w(te.length)|0,Y=a(W);for(let le=0;le<W;le+=1)Y[le]=te[le]&255;return Y}function m(te){if(we(te,Uint8Array)){const W=new Uint8Array(te);return v(W.buffer,W.byteOffset,W.byteLength)}return g(te)}function v(te,W,Y){if(W<0||te.byteLength<W)throw new RangeError('"offset" is outside of buffer bounds');if(te.byteLength<W+(Y||0))throw new RangeError('"length" is outside of buffer bounds');let le;return W===void 0&&Y===void 0?le=new Uint8Array(te):Y===void 0?le=new Uint8Array(te,W):le=new Uint8Array(te,W,Y),Object.setPrototypeOf(le,s.prototype),le}function _(te){if(s.isBuffer(te)){const W=w(te.length)|0,Y=a(W);return Y.length===0||te.copy(Y,0,0,W),Y}if(te.length!==void 0)return typeof te.length!="number"||Fe(te.length)?a(0):g(te);if(te.type==="Buffer"&&Array.isArray(te.data))return g(te.data)}function w(te){if(te>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return te|0}function I(te){return+te!=te&&(te=0),s.alloc(+te)}s.isBuffer=function(W){return W!=null&&W._isBuffer===!0&&W!==s.prototype},s.compare=function(W,Y){if(we(W,Uint8Array)&&(W=s.from(W,W.offset,W.byteLength)),we(Y,Uint8Array)&&(Y=s.from(Y,Y.offset,Y.byteLength)),!s.isBuffer(W)||!s.isBuffer(Y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(W===Y)return 0;let le=W.length,ge=Y.length;for(let ke=0,Re=Math.min(le,ge);ke<Re;++ke)if(W[ke]!==Y[ke]){le=W[ke],ge=Y[ke];break}return le<ge?-1:ge<le?1:0},s.isEncoding=function(W){switch(String(W).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(W,Y){if(!Array.isArray(W))throw new TypeError('"list" argument must be an Array of Buffers');if(W.length===0)return s.alloc(0);let le;if(Y===void 0)for(Y=0,le=0;le<W.length;++le)Y+=W[le].length;const ge=s.allocUnsafe(Y);let ke=0;for(le=0;le<W.length;++le){let Re=W[le];if(we(Re,Uint8Array))ke+Re.length>ge.length?(s.isBuffer(Re)||(Re=s.from(Re)),Re.copy(ge,ke)):Uint8Array.prototype.set.call(ge,Re,ke);else if(s.isBuffer(Re))Re.copy(ge,ke);else throw new TypeError('"list" argument must be an Array of Buffers');ke+=Re.length}return ge};function k(te,W){if(s.isBuffer(te))return te.length;if(ArrayBuffer.isView(te)||we(te,ArrayBuffer))return te.byteLength;if(typeof te!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof te);const Y=te.length,le=arguments.length>2&&arguments[2]===!0;if(!le&&Y===0)return 0;let ge=!1;for(;;)switch(W){case"ascii":case"latin1":case"binary":return Y;case"utf8":case"utf-8":return Ee(te).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y*2;case"hex":return Y>>>1;case"base64":return _e(te).length;default:if(ge)return le?-1:Ee(te).length;W=(""+W).toLowerCase(),ge=!0}}s.byteLength=k;function $(te,W,Y){let le=!1;if((W===void 0||W<0)&&(W=0),W>this.length||((Y===void 0||Y>this.length)&&(Y=this.length),Y<=0)||(Y>>>=0,W>>>=0,Y<=W))return"";for(te||(te="utf8");;)switch(te){case"hex":return M(this,W,Y);case"utf8":case"utf-8":return S(this,W,Y);case"ascii":return j(this,W,Y);case"latin1":case"binary":return A(this,W,Y);case"base64":return E(this,W,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,W,Y);default:if(le)throw new TypeError("Unknown encoding: "+te);te=(te+"").toLowerCase(),le=!0}}s.prototype._isBuffer=!0;function L(te,W,Y){const le=te[W];te[W]=te[Y],te[Y]=le}s.prototype.swap16=function(){const W=this.length;if(W%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Y=0;Y<W;Y+=2)L(this,Y,Y+1);return this},s.prototype.swap32=function(){const W=this.length;if(W%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Y=0;Y<W;Y+=4)L(this,Y,Y+3),L(this,Y+1,Y+2);return this},s.prototype.swap64=function(){const W=this.length;if(W%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Y=0;Y<W;Y+=8)L(this,Y,Y+7),L(this,Y+1,Y+6),L(this,Y+2,Y+5),L(this,Y+3,Y+4);return this},s.prototype.toString=function(){const W=this.length;return W===0?"":arguments.length===0?S(this,0,W):$.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(W){if(!s.isBuffer(W))throw new TypeError("Argument must be a Buffer");return this===W?!0:s.compare(this,W)===0},s.prototype.inspect=function(){let W="";const Y=t.INSPECT_MAX_BYTES;return W=this.toString("hex",0,Y).replace(/(.{2})/g,"$1 ").trim(),this.length>Y&&(W+=" ... "),"<Buffer "+W+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(W,Y,le,ge,ke){if(we(W,Uint8Array)&&(W=s.from(W,W.offset,W.byteLength)),!s.isBuffer(W))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof W);if(Y===void 0&&(Y=0),le===void 0&&(le=W?W.length:0),ge===void 0&&(ge=0),ke===void 0&&(ke=this.length),Y<0||le>W.length||ge<0||ke>this.length)throw new RangeError("out of range index");if(ge>=ke&&Y>=le)return 0;if(ge>=ke)return-1;if(Y>=le)return 1;if(Y>>>=0,le>>>=0,ge>>>=0,ke>>>=0,this===W)return 0;let Re=ke-ge,rt=le-Y;const Bt=Math.min(Re,rt),at=this.slice(ge,ke),xt=W.slice(Y,le);for(let kt=0;kt<Bt;++kt)if(at[kt]!==xt[kt]){Re=at[kt],rt=xt[kt];break}return Re<rt?-1:rt<Re?1:0};function z(te,W,Y,le,ge){if(te.length===0)return-1;if(typeof Y=="string"?(le=Y,Y=0):Y>2147483647?Y=2147483647:Y<-2147483648&&(Y=-2147483648),Y=+Y,Fe(Y)&&(Y=ge?0:te.length-1),Y<0&&(Y=te.length+Y),Y>=te.length){if(ge)return-1;Y=te.length-1}else if(Y<0)if(ge)Y=0;else return-1;if(typeof W=="string"&&(W=s.from(W,le)),s.isBuffer(W))return W.length===0?-1:H(te,W,Y,le,ge);if(typeof W=="number")return W=W&255,typeof Uint8Array.prototype.indexOf=="function"?ge?Uint8Array.prototype.indexOf.call(te,W,Y):Uint8Array.prototype.lastIndexOf.call(te,W,Y):H(te,[W],Y,le,ge);throw new TypeError("val must be string, number or Buffer")}function H(te,W,Y,le,ge){let ke=1,Re=te.length,rt=W.length;if(le!==void 0&&(le=String(le).toLowerCase(),le==="ucs2"||le==="ucs-2"||le==="utf16le"||le==="utf-16le")){if(te.length<2||W.length<2)return-1;ke=2,Re/=2,rt/=2,Y/=2}function Bt(xt,kt){return ke===1?xt[kt]:xt.readUInt16BE(kt*ke)}let at;if(ge){let xt=-1;for(at=Y;at<Re;at++)if(Bt(te,at)===Bt(W,xt===-1?0:at-xt)){if(xt===-1&&(xt=at),at-xt+1===rt)return xt*ke}else xt!==-1&&(at-=at-xt),xt=-1}else for(Y+rt>Re&&(Y=Re-rt),at=Y;at>=0;at--){let xt=!0;for(let kt=0;kt<rt;kt++)if(Bt(te,at+kt)!==Bt(W,kt)){xt=!1;break}if(xt)return at}return-1}s.prototype.includes=function(W,Y,le){return this.indexOf(W,Y,le)!==-1},s.prototype.indexOf=function(W,Y,le){return z(this,W,Y,le,!0)},s.prototype.lastIndexOf=function(W,Y,le){return z(this,W,Y,le,!1)};function P(te,W,Y,le){Y=Number(Y)||0;const ge=te.length-Y;le?(le=Number(le),le>ge&&(le=ge)):le=ge;const ke=W.length;le>ke/2&&(le=ke/2);let Re;for(Re=0;Re<le;++Re){const rt=parseInt(W.substr(Re*2,2),16);if(Fe(rt))return Re;te[Y+Re]=rt}return Re}function D(te,W,Y,le){return Ie(Ee(W,te.length-Y),te,Y,le)}function B(te,W,Y,le){return Ie(ye(W),te,Y,le)}function O(te,W,Y,le){return Ie(_e(W),te,Y,le)}function y(te,W,Y,le){return Ie(ue(W,te.length-Y),te,Y,le)}s.prototype.write=function(W,Y,le,ge){if(Y===void 0)ge="utf8",le=this.length,Y=0;else if(le===void 0&&typeof Y=="string")ge=Y,le=this.length,Y=0;else if(isFinite(Y))Y=Y>>>0,isFinite(le)?(le=le>>>0,ge===void 0&&(ge="utf8")):(ge=le,le=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ke=this.length-Y;if((le===void 0||le>ke)&&(le=ke),W.length>0&&(le<0||Y<0)||Y>this.length)throw new RangeError("Attempt to write outside buffer bounds");ge||(ge="utf8");let Re=!1;for(;;)switch(ge){case"hex":return P(this,W,Y,le);case"utf8":case"utf-8":return D(this,W,Y,le);case"ascii":case"latin1":case"binary":return B(this,W,Y,le);case"base64":return O(this,W,Y,le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,W,Y,le);default:if(Re)throw new TypeError("Unknown encoding: "+ge);ge=(""+ge).toLowerCase(),Re=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(te,W,Y){return W===0&&Y===te.length?e.fromByteArray(te):e.fromByteArray(te.slice(W,Y))}function S(te,W,Y){Y=Math.min(te.length,Y);const le=[];let ge=W;for(;ge<Y;){const ke=te[ge];let Re=null,rt=ke>239?4:ke>223?3:ke>191?2:1;if(ge+rt<=Y){let Bt,at,xt,kt;switch(rt){case 1:ke<128&&(Re=ke);break;case 2:Bt=te[ge+1],(Bt&192)===128&&(kt=(ke&31)<<6|Bt&63,kt>127&&(Re=kt));break;case 3:Bt=te[ge+1],at=te[ge+2],(Bt&192)===128&&(at&192)===128&&(kt=(ke&15)<<12|(Bt&63)<<6|at&63,kt>2047&&(kt<55296||kt>57343)&&(Re=kt));break;case 4:Bt=te[ge+1],at=te[ge+2],xt=te[ge+3],(Bt&192)===128&&(at&192)===128&&(xt&192)===128&&(kt=(ke&15)<<18|(Bt&63)<<12|(at&63)<<6|xt&63,kt>65535&&kt<1114112&&(Re=kt))}}Re===null?(Re=65533,rt=1):Re>65535&&(Re-=65536,le.push(Re>>>10&1023|55296),Re=56320|Re&1023),le.push(Re),ge+=rt}return T(le)}const C=4096;function T(te){const W=te.length;if(W<=C)return String.fromCharCode.apply(String,te);let Y="",le=0;for(;le<W;)Y+=String.fromCharCode.apply(String,te.slice(le,le+=C));return Y}function j(te,W,Y){let le="";Y=Math.min(te.length,Y);for(let ge=W;ge<Y;++ge)le+=String.fromCharCode(te[ge]&127);return le}function A(te,W,Y){let le="";Y=Math.min(te.length,Y);for(let ge=W;ge<Y;++ge)le+=String.fromCharCode(te[ge]);return le}function M(te,W,Y){const le=te.length;(!W||W<0)&&(W=0),(!Y||Y<0||Y>le)&&(Y=le);let ge="";for(let ke=W;ke<Y;++ke)ge+=He[te[ke]];return ge}function x(te,W,Y){const le=te.slice(W,Y);let ge="";for(let ke=0;ke<le.length-1;ke+=2)ge+=String.fromCharCode(le[ke]+le[ke+1]*256);return ge}s.prototype.slice=function(W,Y){const le=this.length;W=~~W,Y=Y===void 0?le:~~Y,W<0?(W+=le,W<0&&(W=0)):W>le&&(W=le),Y<0?(Y+=le,Y<0&&(Y=0)):Y>le&&(Y=le),Y<W&&(Y=W);const ge=this.subarray(W,Y);return Object.setPrototypeOf(ge,s.prototype),ge};function R(te,W,Y){if(te%1!==0||te<0)throw new RangeError("offset is not uint");if(te+W>Y)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(W,Y,le){W=W>>>0,Y=Y>>>0,le||R(W,Y,this.length);let ge=this[W],ke=1,Re=0;for(;++Re<Y&&(ke*=256);)ge+=this[W+Re]*ke;return ge},s.prototype.readUintBE=s.prototype.readUIntBE=function(W,Y,le){W=W>>>0,Y=Y>>>0,le||R(W,Y,this.length);let ge=this[W+--Y],ke=1;for(;Y>0&&(ke*=256);)ge+=this[W+--Y]*ke;return ge},s.prototype.readUint8=s.prototype.readUInt8=function(W,Y){return W=W>>>0,Y||R(W,1,this.length),this[W]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(W,Y){return W=W>>>0,Y||R(W,2,this.length),this[W]|this[W+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(W,Y){return W=W>>>0,Y||R(W,2,this.length),this[W]<<8|this[W+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(W,Y){return W=W>>>0,Y||R(W,4,this.length),(this[W]|this[W+1]<<8|this[W+2]<<16)+this[W+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(W,Y){return W=W>>>0,Y||R(W,4,this.length),this[W]*16777216+(this[W+1]<<16|this[W+2]<<8|this[W+3])},s.prototype.readBigUInt64LE=Ve(function(W){W=W>>>0,X(W,"offset");const Y=this[W],le=this[W+7];(Y===void 0||le===void 0)&&ae(W,this.length-8);const ge=Y+this[++W]*2**8+this[++W]*2**16+this[++W]*2**24,ke=this[++W]+this[++W]*2**8+this[++W]*2**16+le*2**24;return BigInt(ge)+(BigInt(ke)<<BigInt(32))}),s.prototype.readBigUInt64BE=Ve(function(W){W=W>>>0,X(W,"offset");const Y=this[W],le=this[W+7];(Y===void 0||le===void 0)&&ae(W,this.length-8);const ge=Y*2**24+this[++W]*2**16+this[++W]*2**8+this[++W],ke=this[++W]*2**24+this[++W]*2**16+this[++W]*2**8+le;return(BigInt(ge)<<BigInt(32))+BigInt(ke)}),s.prototype.readIntLE=function(W,Y,le){W=W>>>0,Y=Y>>>0,le||R(W,Y,this.length);let ge=this[W],ke=1,Re=0;for(;++Re<Y&&(ke*=256);)ge+=this[W+Re]*ke;return ke*=128,ge>=ke&&(ge-=Math.pow(2,8*Y)),ge},s.prototype.readIntBE=function(W,Y,le){W=W>>>0,Y=Y>>>0,le||R(W,Y,this.length);let ge=Y,ke=1,Re=this[W+--ge];for(;ge>0&&(ke*=256);)Re+=this[W+--ge]*ke;return ke*=128,Re>=ke&&(Re-=Math.pow(2,8*Y)),Re},s.prototype.readInt8=function(W,Y){return W=W>>>0,Y||R(W,1,this.length),this[W]&128?(255-this[W]+1)*-1:this[W]},s.prototype.readInt16LE=function(W,Y){W=W>>>0,Y||R(W,2,this.length);const le=this[W]|this[W+1]<<8;return le&32768?le|4294901760:le},s.prototype.readInt16BE=function(W,Y){W=W>>>0,Y||R(W,2,this.length);const le=this[W+1]|this[W]<<8;return le&32768?le|4294901760:le},s.prototype.readInt32LE=function(W,Y){return W=W>>>0,Y||R(W,4,this.length),this[W]|this[W+1]<<8|this[W+2]<<16|this[W+3]<<24},s.prototype.readInt32BE=function(W,Y){return W=W>>>0,Y||R(W,4,this.length),this[W]<<24|this[W+1]<<16|this[W+2]<<8|this[W+3]},s.prototype.readBigInt64LE=Ve(function(W){W=W>>>0,X(W,"offset");const Y=this[W],le=this[W+7];(Y===void 0||le===void 0)&&ae(W,this.length-8);const ge=this[W+4]+this[W+5]*2**8+this[W+6]*2**16+(le<<24);return(BigInt(ge)<<BigInt(32))+BigInt(Y+this[++W]*2**8+this[++W]*2**16+this[++W]*2**24)}),s.prototype.readBigInt64BE=Ve(function(W){W=W>>>0,X(W,"offset");const Y=this[W],le=this[W+7];(Y===void 0||le===void 0)&&ae(W,this.length-8);const ge=(Y<<24)+this[++W]*2**16+this[++W]*2**8+this[++W];return(BigInt(ge)<<BigInt(32))+BigInt(this[++W]*2**24+this[++W]*2**16+this[++W]*2**8+le)}),s.prototype.readFloatLE=function(W,Y){return W=W>>>0,Y||R(W,4,this.length),n.read(this,W,!0,23,4)},s.prototype.readFloatBE=function(W,Y){return W=W>>>0,Y||R(W,4,this.length),n.read(this,W,!1,23,4)},s.prototype.readDoubleLE=function(W,Y){return W=W>>>0,Y||R(W,8,this.length),n.read(this,W,!0,52,8)},s.prototype.readDoubleBE=function(W,Y){return W=W>>>0,Y||R(W,8,this.length),n.read(this,W,!1,52,8)};function F(te,W,Y,le,ge,ke){if(!s.isBuffer(te))throw new TypeError('"buffer" argument must be a Buffer instance');if(W>ge||W<ke)throw new RangeError('"value" argument is out of bounds');if(Y+le>te.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(W,Y,le,ge){if(W=+W,Y=Y>>>0,le=le>>>0,!ge){const rt=Math.pow(2,8*le)-1;F(this,W,Y,le,rt,0)}let ke=1,Re=0;for(this[Y]=W&255;++Re<le&&(ke*=256);)this[Y+Re]=W/ke&255;return Y+le},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(W,Y,le,ge){if(W=+W,Y=Y>>>0,le=le>>>0,!ge){const rt=Math.pow(2,8*le)-1;F(this,W,Y,le,rt,0)}let ke=le-1,Re=1;for(this[Y+ke]=W&255;--ke>=0&&(Re*=256);)this[Y+ke]=W/Re&255;return Y+le},s.prototype.writeUint8=s.prototype.writeUInt8=function(W,Y,le){return W=+W,Y=Y>>>0,le||F(this,W,Y,1,255,0),this[Y]=W&255,Y+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(W,Y,le){return W=+W,Y=Y>>>0,le||F(this,W,Y,2,65535,0),this[Y]=W&255,this[Y+1]=W>>>8,Y+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(W,Y,le){return W=+W,Y=Y>>>0,le||F(this,W,Y,2,65535,0),this[Y]=W>>>8,this[Y+1]=W&255,Y+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(W,Y,le){return W=+W,Y=Y>>>0,le||F(this,W,Y,4,4294967295,0),this[Y+3]=W>>>24,this[Y+2]=W>>>16,this[Y+1]=W>>>8,this[Y]=W&255,Y+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(W,Y,le){return W=+W,Y=Y>>>0,le||F(this,W,Y,4,4294967295,0),this[Y]=W>>>24,this[Y+1]=W>>>16,this[Y+2]=W>>>8,this[Y+3]=W&255,Y+4};function U(te,W,Y,le,ge){se(W,le,ge,te,Y,7);let ke=Number(W&BigInt(4294967295));te[Y++]=ke,ke=ke>>8,te[Y++]=ke,ke=ke>>8,te[Y++]=ke,ke=ke>>8,te[Y++]=ke;let Re=Number(W>>BigInt(32)&BigInt(4294967295));return te[Y++]=Re,Re=Re>>8,te[Y++]=Re,Re=Re>>8,te[Y++]=Re,Re=Re>>8,te[Y++]=Re,Y}function K(te,W,Y,le,ge){se(W,le,ge,te,Y,7);let ke=Number(W&BigInt(4294967295));te[Y+7]=ke,ke=ke>>8,te[Y+6]=ke,ke=ke>>8,te[Y+5]=ke,ke=ke>>8,te[Y+4]=ke;let Re=Number(W>>BigInt(32)&BigInt(4294967295));return te[Y+3]=Re,Re=Re>>8,te[Y+2]=Re,Re=Re>>8,te[Y+1]=Re,Re=Re>>8,te[Y]=Re,Y+8}s.prototype.writeBigUInt64LE=Ve(function(W,Y=0){return U(this,W,Y,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Ve(function(W,Y=0){return K(this,W,Y,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(W,Y,le,ge){if(W=+W,Y=Y>>>0,!ge){const Bt=Math.pow(2,8*le-1);F(this,W,Y,le,Bt-1,-Bt)}let ke=0,Re=1,rt=0;for(this[Y]=W&255;++ke<le&&(Re*=256);)W<0&&rt===0&&this[Y+ke-1]!==0&&(rt=1),this[Y+ke]=(W/Re>>0)-rt&255;return Y+le},s.prototype.writeIntBE=function(W,Y,le,ge){if(W=+W,Y=Y>>>0,!ge){const Bt=Math.pow(2,8*le-1);F(this,W,Y,le,Bt-1,-Bt)}let ke=le-1,Re=1,rt=0;for(this[Y+ke]=W&255;--ke>=0&&(Re*=256);)W<0&&rt===0&&this[Y+ke+1]!==0&&(rt=1),this[Y+ke]=(W/Re>>0)-rt&255;return Y+le},s.prototype.writeInt8=function(W,Y,le){return W=+W,Y=Y>>>0,le||F(this,W,Y,1,127,-128),W<0&&(W=255+W+1),this[Y]=W&255,Y+1},s.prototype.writeInt16LE=function(W,Y,le){return W=+W,Y=Y>>>0,le||F(this,W,Y,2,32767,-32768),this[Y]=W&255,this[Y+1]=W>>>8,Y+2},s.prototype.writeInt16BE=function(W,Y,le){return W=+W,Y=Y>>>0,le||F(this,W,Y,2,32767,-32768),this[Y]=W>>>8,this[Y+1]=W&255,Y+2},s.prototype.writeInt32LE=function(W,Y,le){return W=+W,Y=Y>>>0,le||F(this,W,Y,4,2147483647,-2147483648),this[Y]=W&255,this[Y+1]=W>>>8,this[Y+2]=W>>>16,this[Y+3]=W>>>24,Y+4},s.prototype.writeInt32BE=function(W,Y,le){return W=+W,Y=Y>>>0,le||F(this,W,Y,4,2147483647,-2147483648),W<0&&(W=4294967295+W+1),this[Y]=W>>>24,this[Y+1]=W>>>16,this[Y+2]=W>>>8,this[Y+3]=W&255,Y+4},s.prototype.writeBigInt64LE=Ve(function(W,Y=0){return U(this,W,Y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Ve(function(W,Y=0){return K(this,W,Y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function G(te,W,Y,le,ge,ke){if(Y+le>te.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("Index out of range")}function Q(te,W,Y,le,ge){return W=+W,Y=Y>>>0,ge||G(te,W,Y,4),n.write(te,W,Y,le,23,4),Y+4}s.prototype.writeFloatLE=function(W,Y,le){return Q(this,W,Y,!0,le)},s.prototype.writeFloatBE=function(W,Y,le){return Q(this,W,Y,!1,le)};function ne(te,W,Y,le,ge){return W=+W,Y=Y>>>0,ge||G(te,W,Y,8),n.write(te,W,Y,le,52,8),Y+8}s.prototype.writeDoubleLE=function(W,Y,le){return ne(this,W,Y,!0,le)},s.prototype.writeDoubleBE=function(W,Y,le){return ne(this,W,Y,!1,le)},s.prototype.copy=function(W,Y,le,ge){if(!s.isBuffer(W))throw new TypeError("argument should be a Buffer");if(le||(le=0),!ge&&ge!==0&&(ge=this.length),Y>=W.length&&(Y=W.length),Y||(Y=0),ge>0&&ge<le&&(ge=le),ge===le||W.length===0||this.length===0)return 0;if(Y<0)throw new RangeError("targetStart out of bounds");if(le<0||le>=this.length)throw new RangeError("Index out of range");if(ge<0)throw new RangeError("sourceEnd out of bounds");ge>this.length&&(ge=this.length),W.length-Y<ge-le&&(ge=W.length-Y+le);const ke=ge-le;return this===W&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Y,le,ge):Uint8Array.prototype.set.call(W,this.subarray(le,ge),Y),ke},s.prototype.fill=function(W,Y,le,ge){if(typeof W=="string"){if(typeof Y=="string"?(ge=Y,Y=0,le=this.length):typeof le=="string"&&(ge=le,le=this.length),ge!==void 0&&typeof ge!="string")throw new TypeError("encoding must be a string");if(typeof ge=="string"&&!s.isEncoding(ge))throw new TypeError("Unknown encoding: "+ge);if(W.length===1){const Re=W.charCodeAt(0);(ge==="utf8"&&Re<128||ge==="latin1")&&(W=Re)}}else typeof W=="number"?W=W&255:typeof W=="boolean"&&(W=Number(W));if(Y<0||this.length<Y||this.length<le)throw new RangeError("Out of range index");if(le<=Y)return this;Y=Y>>>0,le=le===void 0?this.length:le>>>0,W||(W=0);let ke;if(typeof W=="number")for(ke=Y;ke<le;++ke)this[ke]=W;else{const Re=s.isBuffer(W)?W:s.from(W,ge),rt=Re.length;if(rt===0)throw new TypeError('The value "'+W+'" is invalid for argument "value"');for(ke=0;ke<le-Y;++ke)this[ke+Y]=Re[ke%rt]}return this};const J={};function Z(te,W,Y){J[te]=class extends Y{constructor(){super(),Object.defineProperty(this,"message",{value:W.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${te}]`,this.stack,delete this.name}get code(){return te}set code(ge){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ge,writable:!0})}toString(){return`${this.name} [${te}]: ${this.message}`}}}Z("ERR_BUFFER_OUT_OF_BOUNDS",function(te){return te?`${te} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Z("ERR_INVALID_ARG_TYPE",function(te,W){return`The "${te}" argument must be of type number. Received type ${typeof W}`},TypeError),Z("ERR_OUT_OF_RANGE",function(te,W,Y){let le=`The value of "${te}" is out of range.`,ge=Y;return Number.isInteger(Y)&&Math.abs(Y)>2**32?ge=ee(String(Y)):typeof Y=="bigint"&&(ge=String(Y),(Y>BigInt(2)**BigInt(32)||Y<-(BigInt(2)**BigInt(32)))&&(ge=ee(ge)),ge+="n"),le+=` It must be ${W}. Received ${ge}`,le},RangeError);function ee(te){let W="",Y=te.length;const le=te[0]==="-"?1:0;for(;Y>=le+4;Y-=3)W=`_${te.slice(Y-3,Y)}${W}`;return`${te.slice(0,Y)}${W}`}function ie(te,W,Y){X(W,"offset"),(te[W]===void 0||te[W+Y]===void 0)&&ae(W,te.length-(Y+1))}function se(te,W,Y,le,ge,ke){if(te>Y||te<W){const Re=typeof W=="bigint"?"n":"";let rt;throw W===0||W===BigInt(0)?rt=`>= 0${Re} and < 2${Re} ** ${(ke+1)*8}${Re}`:rt=`>= -(2${Re} ** ${(ke+1)*8-1}${Re}) and < 2 ** ${(ke+1)*8-1}${Re}`,new J.ERR_OUT_OF_RANGE("value",rt,te)}ie(le,ge,ke)}function X(te,W){if(typeof te!="number")throw new J.ERR_INVALID_ARG_TYPE(W,"number",te)}function ae(te,W,Y){throw Math.floor(te)!==te?(X(te,Y),new J.ERR_OUT_OF_RANGE("offset","an integer",te)):W<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${W}`,te)}const de=/[^+/0-9A-Za-z-_]/g;function me(te){if(te=te.split("=")[0],te=te.trim().replace(de,""),te.length<2)return"";for(;te.length%4!==0;)te=te+"=";return te}function Ee(te,W){W=W||1/0;let Y;const le=te.length;let ge=null;const ke=[];for(let Re=0;Re<le;++Re){if(Y=te.charCodeAt(Re),Y>55295&&Y<57344){if(!ge){if(Y>56319){(W-=3)>-1&&ke.push(239,191,189);continue}else if(Re+1===le){(W-=3)>-1&&ke.push(239,191,189);continue}ge=Y;continue}if(Y<56320){(W-=3)>-1&&ke.push(239,191,189),ge=Y;continue}Y=(ge-55296<<10|Y-56320)+65536}else ge&&(W-=3)>-1&&ke.push(239,191,189);if(ge=null,Y<128){if((W-=1)<0)break;ke.push(Y)}else if(Y<2048){if((W-=2)<0)break;ke.push(Y>>6|192,Y&63|128)}else if(Y<65536){if((W-=3)<0)break;ke.push(Y>>12|224,Y>>6&63|128,Y&63|128)}else if(Y<1114112){if((W-=4)<0)break;ke.push(Y>>18|240,Y>>12&63|128,Y>>6&63|128,Y&63|128)}else throw new Error("Invalid code point")}return ke}function ye(te){const W=[];for(let Y=0;Y<te.length;++Y)W.push(te.charCodeAt(Y)&255);return W}function ue(te,W){let Y,le,ge;const ke=[];for(let Re=0;Re<te.length&&!((W-=2)<0);++Re)Y=te.charCodeAt(Re),le=Y>>8,ge=Y%256,ke.push(ge),ke.push(le);return ke}function _e(te){return e.toByteArray(me(te))}function Ie(te,W,Y,le){let ge;for(ge=0;ge<le&&!(ge+Y>=W.length||ge>=te.length);++ge)W[ge+Y]=te[ge];return ge}function we(te,W){return te instanceof W||te!=null&&te.constructor!=null&&te.constructor.name!=null&&te.constructor.name===W.name}function Fe(te){return te!==te}const He=function(){const te="0123456789abcdef",W=new Array(256);for(let Y=0;Y<16;++Y){const le=Y*16;for(let ge=0;ge<16;++ge)W[le+ge]=te[Y]+te[ge]}return W}();function Ve(te){return typeof BigInt>"u"?Je:te}function Je(){throw new Error("BigInt not supported")}}(Vw)),Vw}var MB=ka(),Gw={exports:{}},b4;function Yl(){if(b4)return Gw.exports;b4=1;var t=Gw.exports={},e,n;function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=r}catch{e=r}try{typeof clearTimeout=="function"?n=clearTimeout:n=i}catch{n=i}})();function o(v){if(e===setTimeout)return setTimeout(v,0);if((e===r||!e)&&setTimeout)return e=setTimeout,setTimeout(v,0);try{return e(v,0)}catch{try{return e.call(null,v,0)}catch{return e.call(this,v,0)}}}function a(v){if(n===clearTimeout)return clearTimeout(v);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(v);try{return n(v)}catch{try{return n.call(null,v)}catch{return n.call(this,v)}}}var s=[],l=!1,c,u=-1;function f(){!l||!c||(l=!1,c.length?s=c.concat(s):u=-1,s.length&&p())}function p(){if(!l){var v=o(f);l=!0;for(var _=s.length;_;){for(c=s,s=[];++u<_;)c&&c[u].run();u=-1,_=s.length}c=null,l=!1,a(v)}}t.nextTick=function(v){var _=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)_[w-1]=arguments[w];s.push(new g(v,_)),s.length===1&&!l&&o(p)};function g(v,_){this.fun=v,this.array=_}g.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function m(){}return t.on=m,t.addListener=m,t.once=m,t.off=m,t.removeListener=m,t.removeAllListeners=m,t.emit=m,t.prependListener=m,t.prependOnceListener=m,t.listeners=function(v){return[]},t.binding=function(v){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(v){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},Gw.exports}var OB=Yl();const RB=Hi(OB);window.Buffer=MB.Buffer;window.process=RB;var Yw={exports:{}},$f={},Jw={exports:{}},Kt={},E4;function TB(){if(E4)return Kt;E4=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function p(R){return R===null||typeof R!="object"?null:(R=f&&R[f]||R["@@iterator"],typeof R=="function"?R:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function _(R,F,U){this.props=R,this.context=F,this.refs=v,this.updater=U||g}_.prototype.isReactComponent={},_.prototype.setState=function(R,F){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,F,"setState")},_.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function w(){}w.prototype=_.prototype;function I(R,F,U){this.props=R,this.context=F,this.refs=v,this.updater=U||g}var k=I.prototype=new w;k.constructor=I,m(k,_.prototype),k.isPureReactComponent=!0;var $=Array.isArray,L=Object.prototype.hasOwnProperty,z={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function P(R,F,U){var K,G={},Q=null,ne=null;if(F!=null)for(K in F.ref!==void 0&&(ne=F.ref),F.key!==void 0&&(Q=""+F.key),F)L.call(F,K)&&!H.hasOwnProperty(K)&&(G[K]=F[K]);var J=arguments.length-2;if(J===1)G.children=U;else if(1<J){for(var Z=Array(J),ee=0;ee<J;ee++)Z[ee]=arguments[ee+2];G.children=Z}if(R&&R.defaultProps)for(K in J=R.defaultProps,J)G[K]===void 0&&(G[K]=J[K]);return{$$typeof:t,type:R,key:Q,ref:ne,props:G,_owner:z.current}}function D(R,F){return{$$typeof:t,type:R.type,key:F,ref:R.ref,props:R.props,_owner:R._owner}}function B(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function O(R){var F={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(U){return F[U]})}var y=/\/+/g;function E(R,F){return typeof R=="object"&&R!==null&&R.key!=null?O(""+R.key):F.toString(36)}function S(R,F,U,K,G){var Q=typeof R;(Q==="undefined"||Q==="boolean")&&(R=null);var ne=!1;if(R===null)ne=!0;else switch(Q){case"string":case"number":ne=!0;break;case"object":switch(R.$$typeof){case t:case e:ne=!0}}if(ne)return ne=R,G=G(ne),R=K===""?"."+E(ne,0):K,$(G)?(U="",R!=null&&(U=R.replace(y,"$&/")+"/"),S(G,F,U,"",function(ee){return ee})):G!=null&&(B(G)&&(G=D(G,U+(!G.key||ne&&ne.key===G.key?"":(""+G.key).replace(y,"$&/")+"/")+R)),F.push(G)),1;if(ne=0,K=K===""?".":K+":",$(R))for(var J=0;J<R.length;J++){Q=R[J];var Z=K+E(Q,J);ne+=S(Q,F,U,Z,G)}else if(Z=p(R),typeof Z=="function")for(R=Z.call(R),J=0;!(Q=R.next()).done;)Q=Q.value,Z=K+E(Q,J++),ne+=S(Q,F,U,Z,G);else if(Q==="object")throw F=String(R),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return ne}function C(R,F,U){if(R==null)return R;var K=[],G=0;return S(R,K,"","",function(Q){return F.call(U,Q,G++)}),K}function T(R){if(R._status===-1){var F=R._result;F=F(),F.then(function(U){(R._status===0||R._status===-1)&&(R._status=1,R._result=U)},function(U){(R._status===0||R._status===-1)&&(R._status=2,R._result=U)}),R._status===-1&&(R._status=0,R._result=F)}if(R._status===1)return R._result.default;throw R._result}var j={current:null},A={transition:null},M={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:A,ReactCurrentOwner:z};function x(){throw Error("act(...) is not supported in production builds of React.")}return Kt.Children={map:C,forEach:function(R,F,U){C(R,function(){F.apply(this,arguments)},U)},count:function(R){var F=0;return C(R,function(){F++}),F},toArray:function(R){return C(R,function(F){return F})||[]},only:function(R){if(!B(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Kt.Component=_,Kt.Fragment=n,Kt.Profiler=i,Kt.PureComponent=I,Kt.StrictMode=r,Kt.Suspense=l,Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,Kt.act=x,Kt.cloneElement=function(R,F,U){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var K=m({},R.props),G=R.key,Q=R.ref,ne=R._owner;if(F!=null){if(F.ref!==void 0&&(Q=F.ref,ne=z.current),F.key!==void 0&&(G=""+F.key),R.type&&R.type.defaultProps)var J=R.type.defaultProps;for(Z in F)L.call(F,Z)&&!H.hasOwnProperty(Z)&&(K[Z]=F[Z]===void 0&&J!==void 0?J[Z]:F[Z])}var Z=arguments.length-2;if(Z===1)K.children=U;else if(1<Z){J=Array(Z);for(var ee=0;ee<Z;ee++)J[ee]=arguments[ee+2];K.children=J}return{$$typeof:t,type:R.type,key:G,ref:Q,props:K,_owner:ne}},Kt.createContext=function(R){return R={$$typeof:a,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:o,_context:R},R.Consumer=R},Kt.createElement=P,Kt.createFactory=function(R){var F=P.bind(null,R);return F.type=R,F},Kt.createRef=function(){return{current:null}},Kt.forwardRef=function(R){return{$$typeof:s,render:R}},Kt.isValidElement=B,Kt.lazy=function(R){return{$$typeof:u,_payload:{_status:-1,_result:R},_init:T}},Kt.memo=function(R,F){return{$$typeof:c,type:R,compare:F===void 0?null:F}},Kt.startTransition=function(R){var F=A.transition;A.transition={};try{R()}finally{A.transition=F}},Kt.unstable_act=x,Kt.useCallback=function(R,F){return j.current.useCallback(R,F)},Kt.useContext=function(R){return j.current.useContext(R)},Kt.useDebugValue=function(){},Kt.useDeferredValue=function(R){return j.current.useDeferredValue(R)},Kt.useEffect=function(R,F){return j.current.useEffect(R,F)},Kt.useId=function(){return j.current.useId()},Kt.useImperativeHandle=function(R,F,U){return j.current.useImperativeHandle(R,F,U)},Kt.useInsertionEffect=function(R,F){return j.current.useInsertionEffect(R,F)},Kt.useLayoutEffect=function(R,F){return j.current.useLayoutEffect(R,F)},Kt.useMemo=function(R,F){return j.current.useMemo(R,F)},Kt.useReducer=function(R,F,U){return j.current.useReducer(R,F,U)},Kt.useRef=function(R){return j.current.useRef(R)},Kt.useState=function(R){return j.current.useState(R)},Kt.useSyncExternalStore=function(R,F,U){return j.current.useSyncExternalStore(R,F,U)},Kt.useTransition=function(){return j.current.useTransition()},Kt.version="18.3.1",Kt}var x4;function Mv(){return x4||(x4=1,Jw.exports=TB()),Jw.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _4;function PB(){if(_4)return $f;_4=1;var t=Mv(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(s,l,c){var u,f={},p=null,g=null;c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(g=l.ref);for(u in l)r.call(l,u)&&!o.hasOwnProperty(u)&&(f[u]=l[u]);if(s&&s.defaultProps)for(u in l=s.defaultProps,l)f[u]===void 0&&(f[u]=l[u]);return{$$typeof:e,type:s,key:p,ref:g,props:f,_owner:i.current}}return $f.Fragment=n,$f.jsx=a,$f.jsxs=a,$f}var S4;function NB(){return S4||(S4=1,Yw.exports=PB()),Yw.exports}var re=NB(),z0={},Zw={exports:{}},pi={},Qw={exports:{}},Xw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C4;function LB(){return C4||(C4=1,function(t){function e(A,M){var x=A.length;A.push(M);e:for(;0<x;){var R=x-1>>>1,F=A[R];if(0<i(F,M))A[R]=M,A[x]=F,x=R;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var M=A[0],x=A.pop();if(x!==M){A[0]=x;e:for(var R=0,F=A.length,U=F>>>1;R<U;){var K=2*(R+1)-1,G=A[K],Q=K+1,ne=A[Q];if(0>i(G,x))Q<F&&0>i(ne,G)?(A[R]=ne,A[Q]=x,R=Q):(A[R]=G,A[K]=x,R=K);else if(Q<F&&0>i(ne,x))A[R]=ne,A[Q]=x,R=Q;else break e}}return M}function i(A,M){var x=A.sortIndex-M.sortIndex;return x!==0?x:A.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,f=null,p=3,g=!1,m=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(A){for(var M=n(c);M!==null;){if(M.callback===null)r(c);else if(M.startTime<=A)r(c),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(c)}}function $(A){if(v=!1,k(A),!m)if(n(l)!==null)m=!0,T(L);else{var M=n(c);M!==null&&j($,M.startTime-A)}}function L(A,M){m=!1,v&&(v=!1,w(P),P=-1),g=!0;var x=p;try{for(k(M),f=n(l);f!==null&&(!(f.expirationTime>M)||A&&!O());){var R=f.callback;if(typeof R=="function"){f.callback=null,p=f.priorityLevel;var F=R(f.expirationTime<=M);M=t.unstable_now(),typeof F=="function"?f.callback=F:f===n(l)&&r(l),k(M)}else r(l);f=n(l)}if(f!==null)var U=!0;else{var K=n(c);K!==null&&j($,K.startTime-M),U=!1}return U}finally{f=null,p=x,g=!1}}var z=!1,H=null,P=-1,D=5,B=-1;function O(){return!(t.unstable_now()-B<D)}function y(){if(H!==null){var A=t.unstable_now();B=A;var M=!0;try{M=H(!0,A)}finally{M?E():(z=!1,H=null)}}else z=!1}var E;if(typeof I=="function")E=function(){I(y)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,C=S.port2;S.port1.onmessage=y,E=function(){C.postMessage(null)}}else E=function(){_(y,0)};function T(A){H=A,z||(z=!0,E())}function j(A,M){P=_(function(){A(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,T(L))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(A){switch(p){case 1:case 2:case 3:var M=3;break;default:M=p}var x=p;p=M;try{return A()}finally{p=x}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,M){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var x=p;p=A;try{return M()}finally{p=x}},t.unstable_scheduleCallback=function(A,M,x){var R=t.unstable_now();switch(typeof x=="object"&&x!==null?(x=x.delay,x=typeof x=="number"&&0<x?R+x:R):x=R,A){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=x+F,A={id:u++,callback:M,priorityLevel:A,startTime:x,expirationTime:F,sortIndex:-1},x>R?(A.sortIndex=x,e(c,A),n(l)===null&&A===n(c)&&(v?(w(P),P=-1):v=!0,j($,x-R))):(A.sortIndex=F,e(l,A),m||g||(m=!0,T(L))),A},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(A){var M=p;return function(){var x=p;p=M;try{return A.apply(this,arguments)}finally{p=x}}}}(Xw)),Xw}var A4;function DB(){return A4||(A4=1,Qw.exports=LB()),Qw.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I4;function BB(){if(I4)return pi;I4=1;var t=Mv(),e=DB();function n(d){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+d,b=1;b<arguments.length;b++)h+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(d,h){a(d,h),a(d+"Capture",h)}function a(d,h){for(i[d]=h,d=0;d<h.length;d++)r.add(h[d])}var s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},f={};function p(d){return l.call(f,d)?!0:l.call(u,d)?!1:c.test(d)?f[d]=!0:(u[d]=!0,!1)}function g(d,h,b,N){if(b!==null&&b.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return N?!1:b!==null?!b.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function m(d,h,b,N){if(h===null||typeof h>"u"||g(d,h,b,N))return!0;if(N)return!1;if(b!==null)switch(b.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function v(d,h,b,N,q,V,oe){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=N,this.attributeNamespace=q,this.mustUseProperty=b,this.propertyName=d,this.type=h,this.sanitizeURL=V,this.removeEmptyString=oe}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){_[d]=new v(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var h=d[0];_[h]=new v(h,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){_[d]=new v(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){_[d]=new v(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){_[d]=new v(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){_[d]=new v(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){_[d]=new v(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){_[d]=new v(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){_[d]=new v(d,5,!1,d.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function I(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var h=d.replace(w,I);_[h]=new v(h,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var h=d.replace(w,I);_[h]=new v(h,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var h=d.replace(w,I);_[h]=new v(h,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){_[d]=new v(d,1,!1,d.toLowerCase(),null,!1,!1)}),_.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){_[d]=new v(d,1,!1,d.toLowerCase(),null,!0,!0)});function k(d,h,b,N){var q=_.hasOwnProperty(h)?_[h]:null;(q!==null?q.type!==0:N||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(m(h,b,q,N)&&(b=null),N||q===null?p(h)&&(b===null?d.removeAttribute(h):d.setAttribute(h,""+b)):q.mustUseProperty?d[q.propertyName]=b===null?q.type===3?!1:"":b:(h=q.attributeName,N=q.attributeNamespace,b===null?d.removeAttribute(h):(q=q.type,b=q===3||q===4&&b===!0?"":""+b,N?d.setAttributeNS(N,h,b):d.setAttribute(h,b))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),z=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),O=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),A=Symbol.iterator;function M(d){return d===null||typeof d!="object"?null:(d=A&&d[A]||d["@@iterator"],typeof d=="function"?d:null)}var x=Object.assign,R;function F(d){if(R===void 0)try{throw Error()}catch(b){var h=b.stack.trim().match(/\n( *(at )?)/);R=h&&h[1]||""}return`
`+R+d}var U=!1;function K(d,h){if(!d||U)return"";U=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Pe){var N=Pe}Reflect.construct(d,[],h)}else{try{h.call()}catch(Pe){N=Pe}d.call(h.prototype)}else{try{throw Error()}catch(Pe){N=Pe}d()}}catch(Pe){if(Pe&&N&&typeof Pe.stack=="string"){for(var q=Pe.stack.split(`
`),V=N.stack.split(`
`),oe=q.length-1,ve=V.length-1;1<=oe&&0<=ve&&q[oe]!==V[ve];)ve--;for(;1<=oe&&0<=ve;oe--,ve--)if(q[oe]!==V[ve]){if(oe!==1||ve!==1)do if(oe--,ve--,0>ve||q[oe]!==V[ve]){var xe=`
`+q[oe].replace(" at new "," at ");return d.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",d.displayName)),xe}while(1<=oe&&0<=ve);break}}}finally{U=!1,Error.prepareStackTrace=b}return(d=d?d.displayName||d.name:"")?F(d):""}function G(d){switch(d.tag){case 5:return F(d.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return d=K(d.type,!1),d;case 11:return d=K(d.type.render,!1),d;case 1:return d=K(d.type,!0),d;default:return""}}function Q(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case H:return"Fragment";case z:return"Portal";case D:return"Profiler";case P:return"StrictMode";case E:return"Suspense";case S:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case O:return(d.displayName||"Context")+".Consumer";case B:return(d._context.displayName||"Context")+".Provider";case y:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case C:return h=d.displayName||null,h!==null?h:Q(d.type)||"Memo";case T:h=d._payload,d=d._init;try{return Q(d(h))}catch{}}return null}function ne(d){var h=d.type;switch(d.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=h.render,d=d.displayName||d.name||"",h.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(h);case 8:return h===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function J(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function Z(d){var h=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function ee(d){var h=Z(d)?"checked":"value",b=Object.getOwnPropertyDescriptor(d.constructor.prototype,h),N=""+d[h];if(!d.hasOwnProperty(h)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var q=b.get,V=b.set;return Object.defineProperty(d,h,{configurable:!0,get:function(){return q.call(this)},set:function(oe){N=""+oe,V.call(this,oe)}}),Object.defineProperty(d,h,{enumerable:b.enumerable}),{getValue:function(){return N},setValue:function(oe){N=""+oe},stopTracking:function(){d._valueTracker=null,delete d[h]}}}}function ie(d){d._valueTracker||(d._valueTracker=ee(d))}function se(d){if(!d)return!1;var h=d._valueTracker;if(!h)return!0;var b=h.getValue(),N="";return d&&(N=Z(d)?d.checked?"true":"false":d.value),d=N,d!==b?(h.setValue(d),!0):!1}function X(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function ae(d,h){var b=h.checked;return x({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:b??d._wrapperState.initialChecked})}function de(d,h){var b=h.defaultValue==null?"":h.defaultValue,N=h.checked!=null?h.checked:h.defaultChecked;b=J(h.value!=null?h.value:b),d._wrapperState={initialChecked:N,initialValue:b,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function me(d,h){h=h.checked,h!=null&&k(d,"checked",h,!1)}function Ee(d,h){me(d,h);var b=J(h.value),N=h.type;if(b!=null)N==="number"?(b===0&&d.value===""||d.value!=b)&&(d.value=""+b):d.value!==""+b&&(d.value=""+b);else if(N==="submit"||N==="reset"){d.removeAttribute("value");return}h.hasOwnProperty("value")?ue(d,h.type,b):h.hasOwnProperty("defaultValue")&&ue(d,h.type,J(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(d.defaultChecked=!!h.defaultChecked)}function ye(d,h,b){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var N=h.type;if(!(N!=="submit"&&N!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+d._wrapperState.initialValue,b||h===d.value||(d.value=h),d.defaultValue=h}b=d.name,b!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,b!==""&&(d.name=b)}function ue(d,h,b){(h!=="number"||X(d.ownerDocument)!==d)&&(b==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+b&&(d.defaultValue=""+b))}var _e=Array.isArray;function Ie(d,h,b,N){if(d=d.options,h){h={};for(var q=0;q<b.length;q++)h["$"+b[q]]=!0;for(b=0;b<d.length;b++)q=h.hasOwnProperty("$"+d[b].value),d[b].selected!==q&&(d[b].selected=q),q&&N&&(d[b].defaultSelected=!0)}else{for(b=""+J(b),h=null,q=0;q<d.length;q++){if(d[q].value===b){d[q].selected=!0,N&&(d[q].defaultSelected=!0);return}h!==null||d[q].disabled||(h=d[q])}h!==null&&(h.selected=!0)}}function we(d,h){if(h.dangerouslySetInnerHTML!=null)throw Error(n(91));return x({},h,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function Fe(d,h){var b=h.value;if(b==null){if(b=h.children,h=h.defaultValue,b!=null){if(h!=null)throw Error(n(92));if(_e(b)){if(1<b.length)throw Error(n(93));b=b[0]}h=b}h==null&&(h=""),b=h}d._wrapperState={initialValue:J(b)}}function He(d,h){var b=J(h.value),N=J(h.defaultValue);b!=null&&(b=""+b,b!==d.value&&(d.value=b),h.defaultValue==null&&d.defaultValue!==b&&(d.defaultValue=b)),N!=null&&(d.defaultValue=""+N)}function Ve(d){var h=d.textContent;h===d._wrapperState.initialValue&&h!==""&&h!==null&&(d.value=h)}function Je(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function te(d,h){return d==null||d==="http://www.w3.org/1999/xhtml"?Je(h):d==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var W,Y=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,b,N,q){MSApp.execUnsafeLocalFunction(function(){return d(h,b,N,q)})}:d}(function(d,h){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=h;else{for(W=W||document.createElement("div"),W.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=W.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;h.firstChild;)d.appendChild(h.firstChild)}});function le(d,h){if(h){var b=d.firstChild;if(b&&b===d.lastChild&&b.nodeType===3){b.nodeValue=h;return}}d.textContent=h}var ge={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ke=["Webkit","ms","Moz","O"];Object.keys(ge).forEach(function(d){ke.forEach(function(h){h=h+d.charAt(0).toUpperCase()+d.substring(1),ge[h]=ge[d]})});function Re(d,h,b){return h==null||typeof h=="boolean"||h===""?"":b||typeof h!="number"||h===0||ge.hasOwnProperty(d)&&ge[d]?(""+h).trim():h+"px"}function rt(d,h){d=d.style;for(var b in h)if(h.hasOwnProperty(b)){var N=b.indexOf("--")===0,q=Re(b,h[b],N);b==="float"&&(b="cssFloat"),N?d.setProperty(b,q):d[b]=q}}var Bt=x({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function at(d,h){if(h){if(Bt[d]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(n(137,d));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(n(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(n(61))}if(h.style!=null&&typeof h.style!="object")throw Error(n(62))}}function xt(d,h){if(d.indexOf("-")===-1)return typeof h.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kt=null;function Lt(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Zt=null,zn=null,Ze=null;function Ct(d){if(d=_f(d)){if(typeof Zt!="function")throw Error(n(280));var h=d.stateNode;h&&(h=t0(h),Zt(d.stateNode,d.type,h))}}function Ht(d){zn?Ze?Ze.push(d):Ze=[d]:zn=d}function It(){if(zn){var d=zn,h=Ze;if(Ze=zn=null,Ct(d),h)for(d=0;d<h.length;d++)Ct(h[d])}}function wt(d,h){return d(h)}function ce(){}var he=!1;function $e(d,h,b){if(he)return d(h,b);he=!0;try{return wt(d,h,b)}finally{he=!1,(zn!==null||Ze!==null)&&(ce(),It())}}function qe(d,h){var b=d.stateNode;if(b===null)return null;var N=t0(b);if(N===null)return null;b=N[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(d=d.type,N=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!N;break e;default:d=!1}if(d)return null;if(b&&typeof b!="function")throw Error(n(231,h,typeof b));return b}var Qe=!1;if(s)try{var _t={};Object.defineProperty(_t,"passive",{get:function(){Qe=!0}}),window.addEventListener("test",_t,_t),window.removeEventListener("test",_t,_t)}catch{Qe=!1}function Cn(d,h,b,N,q,V,oe,ve,xe){var Pe=Array.prototype.slice.call(arguments,3);try{h.apply(b,Pe)}catch(Ye){this.onError(Ye)}}var Wt=!1,Ft=null,er=!1,fn=null,mn={onError:function(d){Wt=!0,Ft=d}};function Ls(d,h,b,N,q,V,oe,ve,xe){Wt=!1,Ft=null,Cn.apply(mn,arguments)}function hn(d,h,b,N,q,V,oe,ve,xe){if(Ls.apply(this,arguments),Wt){if(Wt){var Pe=Ft;Wt=!1,Ft=null}else throw Error(n(198));er||(er=!0,fn=Pe)}}function Qt(d){var h=d,b=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,(h.flags&4098)!==0&&(b=h.return),d=h.return;while(d)}return h.tag===3?b:null}function Zn(d){if(d.tag===13){var h=d.memoizedState;if(h===null&&(d=d.alternate,d!==null&&(h=d.memoizedState)),h!==null)return h.dehydrated}return null}function si(d){if(Qt(d)!==d)throw Error(n(188))}function Wr(d){var h=d.alternate;if(!h){if(h=Qt(d),h===null)throw Error(n(188));return h!==d?null:d}for(var b=d,N=h;;){var q=b.return;if(q===null)break;var V=q.alternate;if(V===null){if(N=q.return,N!==null){b=N;continue}break}if(q.child===V.child){for(V=q.child;V;){if(V===b)return si(q),d;if(V===N)return si(q),h;V=V.sibling}throw Error(n(188))}if(b.return!==N.return)b=q,N=V;else{for(var oe=!1,ve=q.child;ve;){if(ve===b){oe=!0,b=q,N=V;break}if(ve===N){oe=!0,N=q,b=V;break}ve=ve.sibling}if(!oe){for(ve=V.child;ve;){if(ve===b){oe=!0,b=V,N=q;break}if(ve===N){oe=!0,N=V,b=q;break}ve=ve.sibling}if(!oe)throw Error(n(189))}}if(b.alternate!==N)throw Error(n(190))}if(b.tag!==3)throw Error(n(188));return b.stateNode.current===b?d:h}function or(d){return d=Wr(d),d!==null?Na(d):null}function Na(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var h=Na(d);if(h!==null)return h;d=d.sibling}return null}var La=e.unstable_scheduleCallback,ai=e.unstable_cancelCallback,ec=e.unstable_shouldYield,tc=e.unstable_requestPaint,vn=e.unstable_now,nc=e.unstable_getCurrentPriorityLevel,Ds=e.unstable_ImmediatePriority,_o=e.unstable_UserBlockingPriority,Jo=e.unstable_NormalPriority,rc=e.unstable_LowPriority,Kr=e.unstable_IdlePriority,Zo=null,kr=null;function ic(d){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(Zo,d,void 0,(d.current.flags&128)===128)}catch{}}var Ri=Math.clz32?Math.clz32:Cu,vy=Math.log,yy=Math.LN2;function Cu(d){return d>>>=0,d===0?32:31-(vy(d)/yy|0)|0}var Au=64,Qo=4194304;function Da(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function oc(d,h){var b=d.pendingLanes;if(b===0)return 0;var N=0,q=d.suspendedLanes,V=d.pingedLanes,oe=b&268435455;if(oe!==0){var ve=oe&~q;ve!==0?N=Da(ve):(V&=oe,V!==0&&(N=Da(V)))}else oe=b&~q,oe!==0?N=Da(oe):V!==0&&(N=Da(V));if(N===0)return 0;if(h!==0&&h!==N&&(h&q)===0&&(q=N&-N,V=h&-h,q>=V||q===16&&(V&4194240)!==0))return h;if((N&4)!==0&&(N|=b&16),h=d.entangledLanes,h!==0)for(d=d.entanglements,h&=N;0<h;)b=31-Ri(h),q=1<<b,N|=d[b],h&=~q;return N}function wy(d,h){switch(d){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function by(d,h){for(var b=d.suspendedLanes,N=d.pingedLanes,q=d.expirationTimes,V=d.pendingLanes;0<V;){var oe=31-Ri(V),ve=1<<oe,xe=q[oe];xe===-1?((ve&b)===0||(ve&N)!==0)&&(q[oe]=wy(ve,h)):xe<=h&&(d.expiredLanes|=ve),V&=~ve}}function af(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Up(){var d=Au;return Au<<=1,(Au&4194240)===0&&(Au=64),d}function Iu(d){for(var h=[],b=0;31>b;b++)h.push(d);return h}function sc(d,h,b){d.pendingLanes|=h,h!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,h=31-Ri(h),d[h]=b}function Ey(d,h){var b=d.pendingLanes&~h;d.pendingLanes=h,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=h,d.mutableReadLanes&=h,d.entangledLanes&=h,h=d.entanglements;var N=d.eventTimes;for(d=d.expirationTimes;0<b;){var q=31-Ri(b),V=1<<q;h[q]=0,N[q]=-1,d[q]=-1,b&=~V}}function ku(d,h){var b=d.entangledLanes|=h;for(d=d.entanglements;b;){var N=31-Ri(b),q=1<<N;q&h|d[N]&h&&(d[N]|=h),b&=~q}}var Xt=0;function Bs(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var zp,lf,So,qp,Hp,cf=!1,Mu=[],Xo=null,Mr=null,Co=null,ac=new Map,es=new Map,ts=[],uf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wp(d,h){switch(d){case"focusin":case"focusout":Xo=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Co=null;break;case"pointerover":case"pointerout":ac.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":es.delete(h.pointerId)}}function Ba(d,h,b,N,q,V){return d===null||d.nativeEvent!==V?(d={blockedOn:h,domEventName:b,eventSystemFlags:N,nativeEvent:V,targetContainers:[q]},h!==null&&(h=_f(h),h!==null&&lf(h)),d):(d.eventSystemFlags|=N,h=d.targetContainers,q!==null&&h.indexOf(q)===-1&&h.push(q),d)}function Kp(d,h,b,N,q){switch(h){case"focusin":return Xo=Ba(Xo,d,h,b,N,q),!0;case"dragenter":return Mr=Ba(Mr,d,h,b,N,q),!0;case"mouseover":return Co=Ba(Co,d,h,b,N,q),!0;case"pointerover":var V=q.pointerId;return ac.set(V,Ba(ac.get(V)||null,d,h,b,N,q)),!0;case"gotpointercapture":return V=q.pointerId,es.set(V,Ba(es.get(V)||null,d,h,b,N,q)),!0}return!1}function df(d){var h=uc(d.target);if(h!==null){var b=Qt(h);if(b!==null){if(h=b.tag,h===13){if(h=Zn(b),h!==null){d.blockedOn=h,Hp(d.priority,function(){So(b)});return}}else if(h===3&&b.stateNode.current.memoizedState.isDehydrated){d.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}d.blockedOn=null}function ns(d){if(d.blockedOn!==null)return!1;for(var h=d.targetContainers;0<h.length;){var b=bn(d.domEventName,d.eventSystemFlags,h[0],d.nativeEvent);if(b===null){b=d.nativeEvent;var N=new b.constructor(b.type,b);kt=N,b.target.dispatchEvent(N),kt=null}else return h=_f(b),h!==null&&lf(h),d.blockedOn=b,!1;h.shift()}return!0}function ff(d,h,b){ns(d)&&b.delete(h)}function xy(){cf=!1,Xo!==null&&ns(Xo)&&(Xo=null),Mr!==null&&ns(Mr)&&(Mr=null),Co!==null&&ns(Co)&&(Co=null),ac.forEach(ff),es.forEach(ff)}function lc(d,h){d.blockedOn===h&&(d.blockedOn=null,cf||(cf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xy)))}function cc(d){function h(q){return lc(q,d)}if(0<Mu.length){lc(Mu[0],d);for(var b=1;b<Mu.length;b++){var N=Mu[b];N.blockedOn===d&&(N.blockedOn=null)}}for(Xo!==null&&lc(Xo,d),Mr!==null&&lc(Mr,d),Co!==null&&lc(Co,d),ac.forEach(h),es.forEach(h),b=0;b<ts.length;b++)N=ts[b],N.blockedOn===d&&(N.blockedOn=null);for(;0<ts.length&&(b=ts[0],b.blockedOn===null);)df(b),b.blockedOn===null&&ts.shift()}var pe=$.ReactCurrentBatchConfig,Ce=!0;function Ue(d,h,b,N){var q=Xt,V=pe.transition;pe.transition=null;try{Xt=1,cn(d,h,b,N)}finally{Xt=q,pe.transition=V}}function ct(d,h,b,N){var q=Xt,V=pe.transition;pe.transition=null;try{Xt=4,cn(d,h,b,N)}finally{Xt=q,pe.transition=V}}function cn(d,h,b,N){if(Ce){var q=bn(d,h,b,N);if(q===null)Dy(d,h,N,Pt,b),Wp(d,N);else if(Kp(q,d,h,b,N))N.stopPropagation();else if(Wp(d,N),h&4&&-1<uf.indexOf(d)){for(;q!==null;){var V=_f(q);if(V!==null&&zp(V),V=bn(d,h,b,N),V===null&&Dy(d,h,N,Pt,b),V===q)break;q=V}q!==null&&N.stopPropagation()}else Dy(d,h,N,null,b)}}var Pt=null;function bn(d,h,b,N){if(Pt=null,d=Lt(N),d=uc(d),d!==null)if(h=Qt(d),h===null)d=null;else if(b=h.tag,b===13){if(d=Zn(h),d!==null)return d;d=null}else if(b===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;d=null}else h!==d&&(d=null);return Pt=d,null}function qn(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nc()){case Ds:return 1;case _o:return 4;case Jo:case rc:return 16;case Kr:return 536870912;default:return 16}default:return 16}}var En=null,yn=null,sr=null;function li(){if(sr)return sr;var d,h=yn,b=h.length,N,q="value"in En?En.value:En.textContent,V=q.length;for(d=0;d<b&&h[d]===q[d];d++);var oe=b-d;for(N=1;N<=oe&&h[b-N]===q[V-N];N++);return sr=q.slice(d,1<N?1-N:void 0)}function Hn(d){var h=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&h===13&&(d=13)):d=h,d===10&&(d=13),32<=d||d===13?d:0}function vr(){return!0}function Vr(){return!1}function Dn(d){function h(b,N,q,V,oe){this._reactName=b,this._targetInst=q,this.type=N,this.nativeEvent=V,this.target=oe,this.currentTarget=null;for(var ve in d)d.hasOwnProperty(ve)&&(b=d[ve],this[ve]=b?b(V):V[ve]);return this.isDefaultPrevented=(V.defaultPrevented!=null?V.defaultPrevented:V.returnValue===!1)?vr:Vr,this.isPropagationStopped=Vr,this}return x(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),h}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ao=Dn(Or),ja=x({},Or,{view:0,detail:0}),Ou=Dn(ja),$a,_y,hf,Vp=x({},ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cy,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==hf&&(hf&&d.type==="mousemove"?($a=d.screenX-hf.screenX,_y=d.screenY-hf.screenY):_y=$a=0,hf=d),$a)},movementY:function(d){return"movementY"in d?d.movementY:_y}}),oS=Dn(Vp),QL=x({},Vp,{dataTransfer:0}),XL=Dn(QL),eD=x({},ja,{relatedTarget:0}),Sy=Dn(eD),tD=x({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),nD=Dn(tD),rD=x({},Or,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),iD=Dn(rD),oD=x({},Or,{data:0}),sS=Dn(oD),sD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cD(d){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(d):(d=lD[d])?!!h[d]:!1}function Cy(){return cD}var uD=x({},ja,{key:function(d){if(d.key){var h=sD[d.key]||d.key;if(h!=="Unidentified")return h}return d.type==="keypress"?(d=Hn(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?aD[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cy,charCode:function(d){return d.type==="keypress"?Hn(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Hn(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),dD=Dn(uD),fD=x({},Vp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aS=Dn(fD),hD=x({},ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cy}),pD=Dn(hD),gD=x({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),mD=Dn(gD),vD=x({},Vp,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),yD=Dn(vD),wD=[9,13,27,32],Ay=s&&"CompositionEvent"in window,pf=null;s&&"documentMode"in document&&(pf=document.documentMode);var bD=s&&"TextEvent"in window&&!pf,lS=s&&(!Ay||pf&&8<pf&&11>=pf),cS=" ",uS=!1;function dS(d,h){switch(d){case"keyup":return wD.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fS(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Ru=!1;function ED(d,h){switch(d){case"compositionend":return fS(h);case"keypress":return h.which!==32?null:(uS=!0,cS);case"textInput":return d=h.data,d===cS&&uS?null:d;default:return null}}function xD(d,h){if(Ru)return d==="compositionend"||!Ay&&dS(d,h)?(d=li(),sr=yn=En=null,Ru=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return lS&&h.locale!=="ko"?null:h.data;default:return null}}var _D={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hS(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h==="input"?!!_D[d.type]:h==="textarea"}function pS(d,h,b,N){Ht(N),h=Qp(h,"onChange"),0<h.length&&(b=new Ao("onChange","change",null,b,N),d.push({event:b,listeners:h}))}var gf=null,mf=null;function SD(d){TS(d,0)}function Gp(d){var h=Du(d);if(se(h))return d}function CD(d,h){if(d==="change")return h}var gS=!1;if(s){var Iy;if(s){var ky="oninput"in document;if(!ky){var mS=document.createElement("div");mS.setAttribute("oninput","return;"),ky=typeof mS.oninput=="function"}Iy=ky}else Iy=!1;gS=Iy&&(!document.documentMode||9<document.documentMode)}function vS(){gf&&(gf.detachEvent("onpropertychange",yS),mf=gf=null)}function yS(d){if(d.propertyName==="value"&&Gp(mf)){var h=[];pS(h,mf,d,Lt(d)),$e(SD,h)}}function AD(d,h,b){d==="focusin"?(vS(),gf=h,mf=b,gf.attachEvent("onpropertychange",yS)):d==="focusout"&&vS()}function ID(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Gp(mf)}function kD(d,h){if(d==="click")return Gp(h)}function MD(d,h){if(d==="input"||d==="change")return Gp(h)}function OD(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var Io=typeof Object.is=="function"?Object.is:OD;function vf(d,h){if(Io(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var b=Object.keys(d),N=Object.keys(h);if(b.length!==N.length)return!1;for(N=0;N<b.length;N++){var q=b[N];if(!l.call(h,q)||!Io(d[q],h[q]))return!1}return!0}function wS(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function bS(d,h){var b=wS(d);d=0;for(var N;b;){if(b.nodeType===3){if(N=d+b.textContent.length,d<=h&&N>=h)return{node:b,offset:h-d};d=N}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=wS(b)}}function ES(d,h){return d&&h?d===h?!0:d&&d.nodeType===3?!1:h&&h.nodeType===3?ES(d,h.parentNode):"contains"in d?d.contains(h):d.compareDocumentPosition?!!(d.compareDocumentPosition(h)&16):!1:!1}function xS(){for(var d=window,h=X();h instanceof d.HTMLIFrameElement;){try{var b=typeof h.contentWindow.location.href=="string"}catch{b=!1}if(b)d=h.contentWindow;else break;h=X(d.document)}return h}function My(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h&&(h==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||h==="textarea"||d.contentEditable==="true")}function RD(d){var h=xS(),b=d.focusedElem,N=d.selectionRange;if(h!==b&&b&&b.ownerDocument&&ES(b.ownerDocument.documentElement,b)){if(N!==null&&My(b)){if(h=N.start,d=N.end,d===void 0&&(d=h),"selectionStart"in b)b.selectionStart=h,b.selectionEnd=Math.min(d,b.value.length);else if(d=(h=b.ownerDocument||document)&&h.defaultView||window,d.getSelection){d=d.getSelection();var q=b.textContent.length,V=Math.min(N.start,q);N=N.end===void 0?V:Math.min(N.end,q),!d.extend&&V>N&&(q=N,N=V,V=q),q=bS(b,V);var oe=bS(b,N);q&&oe&&(d.rangeCount!==1||d.anchorNode!==q.node||d.anchorOffset!==q.offset||d.focusNode!==oe.node||d.focusOffset!==oe.offset)&&(h=h.createRange(),h.setStart(q.node,q.offset),d.removeAllRanges(),V>N?(d.addRange(h),d.extend(oe.node,oe.offset)):(h.setEnd(oe.node,oe.offset),d.addRange(h)))}}for(h=[],d=b;d=d.parentNode;)d.nodeType===1&&h.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<h.length;b++)d=h[b],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var TD=s&&"documentMode"in document&&11>=document.documentMode,Tu=null,Oy=null,yf=null,Ry=!1;function _S(d,h,b){var N=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;Ry||Tu==null||Tu!==X(N)||(N=Tu,"selectionStart"in N&&My(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),yf&&vf(yf,N)||(yf=N,N=Qp(Oy,"onSelect"),0<N.length&&(h=new Ao("onSelect","select",null,h,b),d.push({event:h,listeners:N}),h.target=Tu)))}function Yp(d,h){var b={};return b[d.toLowerCase()]=h.toLowerCase(),b["Webkit"+d]="webkit"+h,b["Moz"+d]="moz"+h,b}var Pu={animationend:Yp("Animation","AnimationEnd"),animationiteration:Yp("Animation","AnimationIteration"),animationstart:Yp("Animation","AnimationStart"),transitionend:Yp("Transition","TransitionEnd")},Ty={},SS={};s&&(SS=document.createElement("div").style,"AnimationEvent"in window||(delete Pu.animationend.animation,delete Pu.animationiteration.animation,delete Pu.animationstart.animation),"TransitionEvent"in window||delete Pu.transitionend.transition);function Jp(d){if(Ty[d])return Ty[d];if(!Pu[d])return d;var h=Pu[d],b;for(b in h)if(h.hasOwnProperty(b)&&b in SS)return Ty[d]=h[b];return d}var CS=Jp("animationend"),AS=Jp("animationiteration"),IS=Jp("animationstart"),kS=Jp("transitionend"),MS=new Map,OS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fa(d,h){MS.set(d,h),o(h,[d])}for(var Py=0;Py<OS.length;Py++){var Ny=OS[Py],PD=Ny.toLowerCase(),ND=Ny[0].toUpperCase()+Ny.slice(1);Fa(PD,"on"+ND)}Fa(CS,"onAnimationEnd"),Fa(AS,"onAnimationIteration"),Fa(IS,"onAnimationStart"),Fa("dblclick","onDoubleClick"),Fa("focusin","onFocus"),Fa("focusout","onBlur"),Fa(kS,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LD=new Set("cancel close invalid load scroll toggle".split(" ").concat(wf));function RS(d,h,b){var N=d.type||"unknown-event";d.currentTarget=b,hn(N,h,void 0,d),d.currentTarget=null}function TS(d,h){h=(h&4)!==0;for(var b=0;b<d.length;b++){var N=d[b],q=N.event;N=N.listeners;e:{var V=void 0;if(h)for(var oe=N.length-1;0<=oe;oe--){var ve=N[oe],xe=ve.instance,Pe=ve.currentTarget;if(ve=ve.listener,xe!==V&&q.isPropagationStopped())break e;RS(q,ve,Pe),V=xe}else for(oe=0;oe<N.length;oe++){if(ve=N[oe],xe=ve.instance,Pe=ve.currentTarget,ve=ve.listener,xe!==V&&q.isPropagationStopped())break e;RS(q,ve,Pe),V=xe}}}if(er)throw d=fn,er=!1,fn=null,d}function An(d,h){var b=h[zy];b===void 0&&(b=h[zy]=new Set);var N=d+"__bubble";b.has(N)||(PS(h,d,2,!1),b.add(N))}function Ly(d,h,b){var N=0;h&&(N|=4),PS(b,d,N,h)}var Zp="_reactListening"+Math.random().toString(36).slice(2);function bf(d){if(!d[Zp]){d[Zp]=!0,r.forEach(function(b){b!=="selectionchange"&&(LD.has(b)||Ly(b,!1,d),Ly(b,!0,d))});var h=d.nodeType===9?d:d.ownerDocument;h===null||h[Zp]||(h[Zp]=!0,Ly("selectionchange",!1,h))}}function PS(d,h,b,N){switch(qn(h)){case 1:var q=Ue;break;case 4:q=ct;break;default:q=cn}b=q.bind(null,h,b,d),q=void 0,!Qe||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(q=!0),N?q!==void 0?d.addEventListener(h,b,{capture:!0,passive:q}):d.addEventListener(h,b,!0):q!==void 0?d.addEventListener(h,b,{passive:q}):d.addEventListener(h,b,!1)}function Dy(d,h,b,N,q){var V=N;if((h&1)===0&&(h&2)===0&&N!==null)e:for(;;){if(N===null)return;var oe=N.tag;if(oe===3||oe===4){var ve=N.stateNode.containerInfo;if(ve===q||ve.nodeType===8&&ve.parentNode===q)break;if(oe===4)for(oe=N.return;oe!==null;){var xe=oe.tag;if((xe===3||xe===4)&&(xe=oe.stateNode.containerInfo,xe===q||xe.nodeType===8&&xe.parentNode===q))return;oe=oe.return}for(;ve!==null;){if(oe=uc(ve),oe===null)return;if(xe=oe.tag,xe===5||xe===6){N=V=oe;continue e}ve=ve.parentNode}}N=N.return}$e(function(){var Pe=V,Ye=Lt(b),Xe=[];e:{var Ke=MS.get(d);if(Ke!==void 0){var lt=Ao,pt=d;switch(d){case"keypress":if(Hn(b)===0)break e;case"keydown":case"keyup":lt=dD;break;case"focusin":pt="focus",lt=Sy;break;case"focusout":pt="blur",lt=Sy;break;case"beforeblur":case"afterblur":lt=Sy;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=oS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=XL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=pD;break;case CS:case AS:case IS:lt=nD;break;case kS:lt=mD;break;case"scroll":lt=Ou;break;case"wheel":lt=yD;break;case"copy":case"cut":case"paste":lt=iD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=aS}var vt=(h&4)!==0,Wn=!vt&&d==="scroll",Me=vt?Ke!==null?Ke+"Capture":null:Ke;vt=[];for(var Se=Pe,Oe;Se!==null;){Oe=Se;var tt=Oe.stateNode;if(Oe.tag===5&&tt!==null&&(Oe=tt,Me!==null&&(tt=qe(Se,Me),tt!=null&&vt.push(Ef(Se,tt,Oe)))),Wn)break;Se=Se.return}0<vt.length&&(Ke=new lt(Ke,pt,null,b,Ye),Xe.push({event:Ke,listeners:vt}))}}if((h&7)===0){e:{if(Ke=d==="mouseover"||d==="pointerover",lt=d==="mouseout"||d==="pointerout",Ke&&b!==kt&&(pt=b.relatedTarget||b.fromElement)&&(uc(pt)||pt[js]))break e;if((lt||Ke)&&(Ke=Ye.window===Ye?Ye:(Ke=Ye.ownerDocument)?Ke.defaultView||Ke.parentWindow:window,lt?(pt=b.relatedTarget||b.toElement,lt=Pe,pt=pt?uc(pt):null,pt!==null&&(Wn=Qt(pt),pt!==Wn||pt.tag!==5&&pt.tag!==6)&&(pt=null)):(lt=null,pt=Pe),lt!==pt)){if(vt=oS,tt="onMouseLeave",Me="onMouseEnter",Se="mouse",(d==="pointerout"||d==="pointerover")&&(vt=aS,tt="onPointerLeave",Me="onPointerEnter",Se="pointer"),Wn=lt==null?Ke:Du(lt),Oe=pt==null?Ke:Du(pt),Ke=new vt(tt,Se+"leave",lt,b,Ye),Ke.target=Wn,Ke.relatedTarget=Oe,tt=null,uc(Ye)===Pe&&(vt=new vt(Me,Se+"enter",pt,b,Ye),vt.target=Oe,vt.relatedTarget=Wn,tt=vt),Wn=tt,lt&&pt)t:{for(vt=lt,Me=pt,Se=0,Oe=vt;Oe;Oe=Nu(Oe))Se++;for(Oe=0,tt=Me;tt;tt=Nu(tt))Oe++;for(;0<Se-Oe;)vt=Nu(vt),Se--;for(;0<Oe-Se;)Me=Nu(Me),Oe--;for(;Se--;){if(vt===Me||Me!==null&&vt===Me.alternate)break t;vt=Nu(vt),Me=Nu(Me)}vt=null}else vt=null;lt!==null&&NS(Xe,Ke,lt,vt,!1),pt!==null&&Wn!==null&&NS(Xe,Wn,pt,vt,!0)}}e:{if(Ke=Pe?Du(Pe):window,lt=Ke.nodeName&&Ke.nodeName.toLowerCase(),lt==="select"||lt==="input"&&Ke.type==="file")var yt=CD;else if(hS(Ke))if(gS)yt=MD;else{yt=ID;var Mt=AD}else(lt=Ke.nodeName)&&lt.toLowerCase()==="input"&&(Ke.type==="checkbox"||Ke.type==="radio")&&(yt=kD);if(yt&&(yt=yt(d,Pe))){pS(Xe,yt,b,Ye);break e}Mt&&Mt(d,Ke,Pe),d==="focusout"&&(Mt=Ke._wrapperState)&&Mt.controlled&&Ke.type==="number"&&ue(Ke,"number",Ke.value)}switch(Mt=Pe?Du(Pe):window,d){case"focusin":(hS(Mt)||Mt.contentEditable==="true")&&(Tu=Mt,Oy=Pe,yf=null);break;case"focusout":yf=Oy=Tu=null;break;case"mousedown":Ry=!0;break;case"contextmenu":case"mouseup":case"dragend":Ry=!1,_S(Xe,b,Ye);break;case"selectionchange":if(TD)break;case"keydown":case"keyup":_S(Xe,b,Ye)}var Ot;if(Ay)e:{switch(d){case"compositionstart":var Tt="onCompositionStart";break e;case"compositionend":Tt="onCompositionEnd";break e;case"compositionupdate":Tt="onCompositionUpdate";break e}Tt=void 0}else Ru?dS(d,b)&&(Tt="onCompositionEnd"):d==="keydown"&&b.keyCode===229&&(Tt="onCompositionStart");Tt&&(lS&&b.locale!=="ko"&&(Ru||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Ru&&(Ot=li()):(En=Ye,yn="value"in En?En.value:En.textContent,Ru=!0)),Mt=Qp(Pe,Tt),0<Mt.length&&(Tt=new sS(Tt,d,null,b,Ye),Xe.push({event:Tt,listeners:Mt}),Ot?Tt.data=Ot:(Ot=fS(b),Ot!==null&&(Tt.data=Ot)))),(Ot=bD?ED(d,b):xD(d,b))&&(Pe=Qp(Pe,"onBeforeInput"),0<Pe.length&&(Ye=new sS("onBeforeInput","beforeinput",null,b,Ye),Xe.push({event:Ye,listeners:Pe}),Ye.data=Ot))}TS(Xe,h)})}function Ef(d,h,b){return{instance:d,listener:h,currentTarget:b}}function Qp(d,h){for(var b=h+"Capture",N=[];d!==null;){var q=d,V=q.stateNode;q.tag===5&&V!==null&&(q=V,V=qe(d,b),V!=null&&N.unshift(Ef(d,V,q)),V=qe(d,h),V!=null&&N.push(Ef(d,V,q))),d=d.return}return N}function Nu(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function NS(d,h,b,N,q){for(var V=h._reactName,oe=[];b!==null&&b!==N;){var ve=b,xe=ve.alternate,Pe=ve.stateNode;if(xe!==null&&xe===N)break;ve.tag===5&&Pe!==null&&(ve=Pe,q?(xe=qe(b,V),xe!=null&&oe.unshift(Ef(b,xe,ve))):q||(xe=qe(b,V),xe!=null&&oe.push(Ef(b,xe,ve)))),b=b.return}oe.length!==0&&d.push({event:h,listeners:oe})}var DD=/\r\n?/g,BD=/\u0000|\uFFFD/g;function LS(d){return(typeof d=="string"?d:""+d).replace(DD,`
`).replace(BD,"")}function Xp(d,h,b){if(h=LS(h),LS(d)!==h&&b)throw Error(n(425))}function e0(){}var By=null,jy=null;function $y(d,h){return d==="textarea"||d==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var Fy=typeof setTimeout=="function"?setTimeout:void 0,jD=typeof clearTimeout=="function"?clearTimeout:void 0,DS=typeof Promise=="function"?Promise:void 0,$D=typeof queueMicrotask=="function"?queueMicrotask:typeof DS<"u"?function(d){return DS.resolve(null).then(d).catch(FD)}:Fy;function FD(d){setTimeout(function(){throw d})}function Uy(d,h){var b=h,N=0;do{var q=b.nextSibling;if(d.removeChild(b),q&&q.nodeType===8)if(b=q.data,b==="/$"){if(N===0){d.removeChild(q),cc(h);return}N--}else b!=="$"&&b!=="$?"&&b!=="$!"||N++;b=q}while(b);cc(h)}function Ua(d){for(;d!=null;d=d.nextSibling){var h=d.nodeType;if(h===1||h===3)break;if(h===8){if(h=d.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return d}function BS(d){d=d.previousSibling;for(var h=0;d;){if(d.nodeType===8){var b=d.data;if(b==="$"||b==="$!"||b==="$?"){if(h===0)return d;h--}else b==="/$"&&h++}d=d.previousSibling}return null}var Lu=Math.random().toString(36).slice(2),rs="__reactFiber$"+Lu,xf="__reactProps$"+Lu,js="__reactContainer$"+Lu,zy="__reactEvents$"+Lu,UD="__reactListeners$"+Lu,zD="__reactHandles$"+Lu;function uc(d){var h=d[rs];if(h)return h;for(var b=d.parentNode;b;){if(h=b[js]||b[rs]){if(b=h.alternate,h.child!==null||b!==null&&b.child!==null)for(d=BS(d);d!==null;){if(b=d[rs])return b;d=BS(d)}return h}d=b,b=d.parentNode}return null}function _f(d){return d=d[rs]||d[js],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function Du(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(n(33))}function t0(d){return d[xf]||null}var qy=[],Bu=-1;function za(d){return{current:d}}function In(d){0>Bu||(d.current=qy[Bu],qy[Bu]=null,Bu--)}function xn(d,h){Bu++,qy[Bu]=d.current,d.current=h}var qa={},Rr=za(qa),ci=za(!1),dc=qa;function ju(d,h){var b=d.type.contextTypes;if(!b)return qa;var N=d.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===h)return N.__reactInternalMemoizedMaskedChildContext;var q={},V;for(V in b)q[V]=h[V];return N&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=h,d.__reactInternalMemoizedMaskedChildContext=q),q}function ui(d){return d=d.childContextTypes,d!=null}function n0(){In(ci),In(Rr)}function jS(d,h,b){if(Rr.current!==qa)throw Error(n(168));xn(Rr,h),xn(ci,b)}function $S(d,h,b){var N=d.stateNode;if(h=h.childContextTypes,typeof N.getChildContext!="function")return b;N=N.getChildContext();for(var q in N)if(!(q in h))throw Error(n(108,ne(d)||"Unknown",q));return x({},b,N)}function r0(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||qa,dc=Rr.current,xn(Rr,d),xn(ci,ci.current),!0}function FS(d,h,b){var N=d.stateNode;if(!N)throw Error(n(169));b?(d=$S(d,h,dc),N.__reactInternalMemoizedMergedChildContext=d,In(ci),In(Rr),xn(Rr,d)):In(ci),xn(ci,b)}var $s=null,i0=!1,Hy=!1;function US(d){$s===null?$s=[d]:$s.push(d)}function qD(d){i0=!0,US(d)}function Ha(){if(!Hy&&$s!==null){Hy=!0;var d=0,h=Xt;try{var b=$s;for(Xt=1;d<b.length;d++){var N=b[d];do N=N(!0);while(N!==null)}$s=null,i0=!1}catch(q){throw $s!==null&&($s=$s.slice(d+1)),La(Ds,Ha),q}finally{Xt=h,Hy=!1}}return null}var $u=[],Fu=0,o0=null,s0=0,Vi=[],Gi=0,fc=null,Fs=1,Us="";function hc(d,h){$u[Fu++]=s0,$u[Fu++]=o0,o0=d,s0=h}function zS(d,h,b){Vi[Gi++]=Fs,Vi[Gi++]=Us,Vi[Gi++]=fc,fc=d;var N=Fs;d=Us;var q=32-Ri(N)-1;N&=~(1<<q),b+=1;var V=32-Ri(h)+q;if(30<V){var oe=q-q%5;V=(N&(1<<oe)-1).toString(32),N>>=oe,q-=oe,Fs=1<<32-Ri(h)+q|b<<q|N,Us=V+d}else Fs=1<<V|b<<q|N,Us=d}function Wy(d){d.return!==null&&(hc(d,1),zS(d,1,0))}function Ky(d){for(;d===o0;)o0=$u[--Fu],$u[Fu]=null,s0=$u[--Fu],$u[Fu]=null;for(;d===fc;)fc=Vi[--Gi],Vi[Gi]=null,Us=Vi[--Gi],Vi[Gi]=null,Fs=Vi[--Gi],Vi[Gi]=null}var Ti=null,Pi=null,kn=!1,ko=null;function qS(d,h){var b=Qi(5,null,null,0);b.elementType="DELETED",b.stateNode=h,b.return=d,h=d.deletions,h===null?(d.deletions=[b],d.flags|=16):h.push(b)}function HS(d,h){switch(d.tag){case 5:var b=d.type;return h=h.nodeType!==1||b.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(d.stateNode=h,Ti=d,Pi=Ua(h.firstChild),!0):!1;case 6:return h=d.pendingProps===""||h.nodeType!==3?null:h,h!==null?(d.stateNode=h,Ti=d,Pi=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(b=fc!==null?{id:Fs,overflow:Us}:null,d.memoizedState={dehydrated:h,treeContext:b,retryLane:1073741824},b=Qi(18,null,null,0),b.stateNode=h,b.return=d,d.child=b,Ti=d,Pi=null,!0):!1;default:return!1}}function Vy(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Gy(d){if(kn){var h=Pi;if(h){var b=h;if(!HS(d,h)){if(Vy(d))throw Error(n(418));h=Ua(b.nextSibling);var N=Ti;h&&HS(d,h)?qS(N,b):(d.flags=d.flags&-4097|2,kn=!1,Ti=d)}}else{if(Vy(d))throw Error(n(418));d.flags=d.flags&-4097|2,kn=!1,Ti=d}}}function WS(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Ti=d}function a0(d){if(d!==Ti)return!1;if(!kn)return WS(d),kn=!0,!1;var h;if((h=d.tag!==3)&&!(h=d.tag!==5)&&(h=d.type,h=h!=="head"&&h!=="body"&&!$y(d.type,d.memoizedProps)),h&&(h=Pi)){if(Vy(d))throw KS(),Error(n(418));for(;h;)qS(d,h),h=Ua(h.nextSibling)}if(WS(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));e:{for(d=d.nextSibling,h=0;d;){if(d.nodeType===8){var b=d.data;if(b==="/$"){if(h===0){Pi=Ua(d.nextSibling);break e}h--}else b!=="$"&&b!=="$!"&&b!=="$?"||h++}d=d.nextSibling}Pi=null}}else Pi=Ti?Ua(d.stateNode.nextSibling):null;return!0}function KS(){for(var d=Pi;d;)d=Ua(d.nextSibling)}function Uu(){Pi=Ti=null,kn=!1}function Yy(d){ko===null?ko=[d]:ko.push(d)}var HD=$.ReactCurrentBatchConfig;function Sf(d,h,b){if(d=b.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(n(309));var N=b.stateNode}if(!N)throw Error(n(147,d));var q=N,V=""+d;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===V?h.ref:(h=function(oe){var ve=q.refs;oe===null?delete ve[V]:ve[V]=oe},h._stringRef=V,h)}if(typeof d!="string")throw Error(n(284));if(!b._owner)throw Error(n(290,d))}return d}function l0(d,h){throw d=Object.prototype.toString.call(h),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d))}function VS(d){var h=d._init;return h(d._payload)}function GS(d){function h(Me,Se){if(d){var Oe=Me.deletions;Oe===null?(Me.deletions=[Se],Me.flags|=16):Oe.push(Se)}}function b(Me,Se){if(!d)return null;for(;Se!==null;)h(Me,Se),Se=Se.sibling;return null}function N(Me,Se){for(Me=new Map;Se!==null;)Se.key!==null?Me.set(Se.key,Se):Me.set(Se.index,Se),Se=Se.sibling;return Me}function q(Me,Se){return Me=Qa(Me,Se),Me.index=0,Me.sibling=null,Me}function V(Me,Se,Oe){return Me.index=Oe,d?(Oe=Me.alternate,Oe!==null?(Oe=Oe.index,Oe<Se?(Me.flags|=2,Se):Oe):(Me.flags|=2,Se)):(Me.flags|=1048576,Se)}function oe(Me){return d&&Me.alternate===null&&(Me.flags|=2),Me}function ve(Me,Se,Oe,tt){return Se===null||Se.tag!==6?(Se=Fw(Oe,Me.mode,tt),Se.return=Me,Se):(Se=q(Se,Oe),Se.return=Me,Se)}function xe(Me,Se,Oe,tt){var yt=Oe.type;return yt===H?Ye(Me,Se,Oe.props.children,tt,Oe.key):Se!==null&&(Se.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===T&&VS(yt)===Se.type)?(tt=q(Se,Oe.props),tt.ref=Sf(Me,Se,Oe),tt.return=Me,tt):(tt=T0(Oe.type,Oe.key,Oe.props,null,Me.mode,tt),tt.ref=Sf(Me,Se,Oe),tt.return=Me,tt)}function Pe(Me,Se,Oe,tt){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Oe.containerInfo||Se.stateNode.implementation!==Oe.implementation?(Se=Uw(Oe,Me.mode,tt),Se.return=Me,Se):(Se=q(Se,Oe.children||[]),Se.return=Me,Se)}function Ye(Me,Se,Oe,tt,yt){return Se===null||Se.tag!==7?(Se=Ec(Oe,Me.mode,tt,yt),Se.return=Me,Se):(Se=q(Se,Oe),Se.return=Me,Se)}function Xe(Me,Se,Oe){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return Se=Fw(""+Se,Me.mode,Oe),Se.return=Me,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case L:return Oe=T0(Se.type,Se.key,Se.props,null,Me.mode,Oe),Oe.ref=Sf(Me,null,Se),Oe.return=Me,Oe;case z:return Se=Uw(Se,Me.mode,Oe),Se.return=Me,Se;case T:var tt=Se._init;return Xe(Me,tt(Se._payload),Oe)}if(_e(Se)||M(Se))return Se=Ec(Se,Me.mode,Oe,null),Se.return=Me,Se;l0(Me,Se)}return null}function Ke(Me,Se,Oe,tt){var yt=Se!==null?Se.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return yt!==null?null:ve(Me,Se,""+Oe,tt);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case L:return Oe.key===yt?xe(Me,Se,Oe,tt):null;case z:return Oe.key===yt?Pe(Me,Se,Oe,tt):null;case T:return yt=Oe._init,Ke(Me,Se,yt(Oe._payload),tt)}if(_e(Oe)||M(Oe))return yt!==null?null:Ye(Me,Se,Oe,tt,null);l0(Me,Oe)}return null}function lt(Me,Se,Oe,tt,yt){if(typeof tt=="string"&&tt!==""||typeof tt=="number")return Me=Me.get(Oe)||null,ve(Se,Me,""+tt,yt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case L:return Me=Me.get(tt.key===null?Oe:tt.key)||null,xe(Se,Me,tt,yt);case z:return Me=Me.get(tt.key===null?Oe:tt.key)||null,Pe(Se,Me,tt,yt);case T:var Mt=tt._init;return lt(Me,Se,Oe,Mt(tt._payload),yt)}if(_e(tt)||M(tt))return Me=Me.get(Oe)||null,Ye(Se,Me,tt,yt,null);l0(Se,tt)}return null}function pt(Me,Se,Oe,tt){for(var yt=null,Mt=null,Ot=Se,Tt=Se=0,cr=null;Ot!==null&&Tt<Oe.length;Tt++){Ot.index>Tt?(cr=Ot,Ot=null):cr=Ot.sibling;var rn=Ke(Me,Ot,Oe[Tt],tt);if(rn===null){Ot===null&&(Ot=cr);break}d&&Ot&&rn.alternate===null&&h(Me,Ot),Se=V(rn,Se,Tt),Mt===null?yt=rn:Mt.sibling=rn,Mt=rn,Ot=cr}if(Tt===Oe.length)return b(Me,Ot),kn&&hc(Me,Tt),yt;if(Ot===null){for(;Tt<Oe.length;Tt++)Ot=Xe(Me,Oe[Tt],tt),Ot!==null&&(Se=V(Ot,Se,Tt),Mt===null?yt=Ot:Mt.sibling=Ot,Mt=Ot);return kn&&hc(Me,Tt),yt}for(Ot=N(Me,Ot);Tt<Oe.length;Tt++)cr=lt(Ot,Me,Tt,Oe[Tt],tt),cr!==null&&(d&&cr.alternate!==null&&Ot.delete(cr.key===null?Tt:cr.key),Se=V(cr,Se,Tt),Mt===null?yt=cr:Mt.sibling=cr,Mt=cr);return d&&Ot.forEach(function(Xa){return h(Me,Xa)}),kn&&hc(Me,Tt),yt}function vt(Me,Se,Oe,tt){var yt=M(Oe);if(typeof yt!="function")throw Error(n(150));if(Oe=yt.call(Oe),Oe==null)throw Error(n(151));for(var Mt=yt=null,Ot=Se,Tt=Se=0,cr=null,rn=Oe.next();Ot!==null&&!rn.done;Tt++,rn=Oe.next()){Ot.index>Tt?(cr=Ot,Ot=null):cr=Ot.sibling;var Xa=Ke(Me,Ot,rn.value,tt);if(Xa===null){Ot===null&&(Ot=cr);break}d&&Ot&&Xa.alternate===null&&h(Me,Ot),Se=V(Xa,Se,Tt),Mt===null?yt=Xa:Mt.sibling=Xa,Mt=Xa,Ot=cr}if(rn.done)return b(Me,Ot),kn&&hc(Me,Tt),yt;if(Ot===null){for(;!rn.done;Tt++,rn=Oe.next())rn=Xe(Me,rn.value,tt),rn!==null&&(Se=V(rn,Se,Tt),Mt===null?yt=rn:Mt.sibling=rn,Mt=rn);return kn&&hc(Me,Tt),yt}for(Ot=N(Me,Ot);!rn.done;Tt++,rn=Oe.next())rn=lt(Ot,Me,Tt,rn.value,tt),rn!==null&&(d&&rn.alternate!==null&&Ot.delete(rn.key===null?Tt:rn.key),Se=V(rn,Se,Tt),Mt===null?yt=rn:Mt.sibling=rn,Mt=rn);return d&&Ot.forEach(function(_B){return h(Me,_B)}),kn&&hc(Me,Tt),yt}function Wn(Me,Se,Oe,tt){if(typeof Oe=="object"&&Oe!==null&&Oe.type===H&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case L:e:{for(var yt=Oe.key,Mt=Se;Mt!==null;){if(Mt.key===yt){if(yt=Oe.type,yt===H){if(Mt.tag===7){b(Me,Mt.sibling),Se=q(Mt,Oe.props.children),Se.return=Me,Me=Se;break e}}else if(Mt.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===T&&VS(yt)===Mt.type){b(Me,Mt.sibling),Se=q(Mt,Oe.props),Se.ref=Sf(Me,Mt,Oe),Se.return=Me,Me=Se;break e}b(Me,Mt);break}else h(Me,Mt);Mt=Mt.sibling}Oe.type===H?(Se=Ec(Oe.props.children,Me.mode,tt,Oe.key),Se.return=Me,Me=Se):(tt=T0(Oe.type,Oe.key,Oe.props,null,Me.mode,tt),tt.ref=Sf(Me,Se,Oe),tt.return=Me,Me=tt)}return oe(Me);case z:e:{for(Mt=Oe.key;Se!==null;){if(Se.key===Mt)if(Se.tag===4&&Se.stateNode.containerInfo===Oe.containerInfo&&Se.stateNode.implementation===Oe.implementation){b(Me,Se.sibling),Se=q(Se,Oe.children||[]),Se.return=Me,Me=Se;break e}else{b(Me,Se);break}else h(Me,Se);Se=Se.sibling}Se=Uw(Oe,Me.mode,tt),Se.return=Me,Me=Se}return oe(Me);case T:return Mt=Oe._init,Wn(Me,Se,Mt(Oe._payload),tt)}if(_e(Oe))return pt(Me,Se,Oe,tt);if(M(Oe))return vt(Me,Se,Oe,tt);l0(Me,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"?(Oe=""+Oe,Se!==null&&Se.tag===6?(b(Me,Se.sibling),Se=q(Se,Oe),Se.return=Me,Me=Se):(b(Me,Se),Se=Fw(Oe,Me.mode,tt),Se.return=Me,Me=Se),oe(Me)):b(Me,Se)}return Wn}var zu=GS(!0),YS=GS(!1),c0=za(null),u0=null,qu=null,Jy=null;function Zy(){Jy=qu=u0=null}function Qy(d){var h=c0.current;In(c0),d._currentValue=h}function Xy(d,h,b){for(;d!==null;){var N=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,N!==null&&(N.childLanes|=h)):N!==null&&(N.childLanes&h)!==h&&(N.childLanes|=h),d===b)break;d=d.return}}function Hu(d,h){u0=d,Jy=qu=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&h)!==0&&(di=!0),d.firstContext=null)}function Yi(d){var h=d._currentValue;if(Jy!==d)if(d={context:d,memoizedValue:h,next:null},qu===null){if(u0===null)throw Error(n(308));qu=d,u0.dependencies={lanes:0,firstContext:d}}else qu=qu.next=d;return h}var pc=null;function ew(d){pc===null?pc=[d]:pc.push(d)}function JS(d,h,b,N){var q=h.interleaved;return q===null?(b.next=b,ew(h)):(b.next=q.next,q.next=b),h.interleaved=b,zs(d,N)}function zs(d,h){d.lanes|=h;var b=d.alternate;for(b!==null&&(b.lanes|=h),b=d,d=d.return;d!==null;)d.childLanes|=h,b=d.alternate,b!==null&&(b.childLanes|=h),b=d,d=d.return;return b.tag===3?b.stateNode:null}var Wa=!1;function tw(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZS(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function qs(d,h){return{eventTime:d,lane:h,tag:0,payload:null,callback:null,next:null}}function Ka(d,h,b){var N=d.updateQueue;if(N===null)return null;if(N=N.shared,(tn&2)!==0){var q=N.pending;return q===null?h.next=h:(h.next=q.next,q.next=h),N.pending=h,zs(d,b)}return q=N.interleaved,q===null?(h.next=h,ew(N)):(h.next=q.next,q.next=h),N.interleaved=h,zs(d,b)}function d0(d,h,b){if(h=h.updateQueue,h!==null&&(h=h.shared,(b&4194240)!==0)){var N=h.lanes;N&=d.pendingLanes,b|=N,h.lanes=b,ku(d,b)}}function QS(d,h){var b=d.updateQueue,N=d.alternate;if(N!==null&&(N=N.updateQueue,b===N)){var q=null,V=null;if(b=b.firstBaseUpdate,b!==null){do{var oe={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};V===null?q=V=oe:V=V.next=oe,b=b.next}while(b!==null);V===null?q=V=h:V=V.next=h}else q=V=h;b={baseState:N.baseState,firstBaseUpdate:q,lastBaseUpdate:V,shared:N.shared,effects:N.effects},d.updateQueue=b;return}d=b.lastBaseUpdate,d===null?b.firstBaseUpdate=h:d.next=h,b.lastBaseUpdate=h}function f0(d,h,b,N){var q=d.updateQueue;Wa=!1;var V=q.firstBaseUpdate,oe=q.lastBaseUpdate,ve=q.shared.pending;if(ve!==null){q.shared.pending=null;var xe=ve,Pe=xe.next;xe.next=null,oe===null?V=Pe:oe.next=Pe,oe=xe;var Ye=d.alternate;Ye!==null&&(Ye=Ye.updateQueue,ve=Ye.lastBaseUpdate,ve!==oe&&(ve===null?Ye.firstBaseUpdate=Pe:ve.next=Pe,Ye.lastBaseUpdate=xe))}if(V!==null){var Xe=q.baseState;oe=0,Ye=Pe=xe=null,ve=V;do{var Ke=ve.lane,lt=ve.eventTime;if((N&Ke)===Ke){Ye!==null&&(Ye=Ye.next={eventTime:lt,lane:0,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null});e:{var pt=d,vt=ve;switch(Ke=h,lt=b,vt.tag){case 1:if(pt=vt.payload,typeof pt=="function"){Xe=pt.call(lt,Xe,Ke);break e}Xe=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=vt.payload,Ke=typeof pt=="function"?pt.call(lt,Xe,Ke):pt,Ke==null)break e;Xe=x({},Xe,Ke);break e;case 2:Wa=!0}}ve.callback!==null&&ve.lane!==0&&(d.flags|=64,Ke=q.effects,Ke===null?q.effects=[ve]:Ke.push(ve))}else lt={eventTime:lt,lane:Ke,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},Ye===null?(Pe=Ye=lt,xe=Xe):Ye=Ye.next=lt,oe|=Ke;if(ve=ve.next,ve===null){if(ve=q.shared.pending,ve===null)break;Ke=ve,ve=Ke.next,Ke.next=null,q.lastBaseUpdate=Ke,q.shared.pending=null}}while(!0);if(Ye===null&&(xe=Xe),q.baseState=xe,q.firstBaseUpdate=Pe,q.lastBaseUpdate=Ye,h=q.shared.interleaved,h!==null){q=h;do oe|=q.lane,q=q.next;while(q!==h)}else V===null&&(q.shared.lanes=0);vc|=oe,d.lanes=oe,d.memoizedState=Xe}}function XS(d,h,b){if(d=h.effects,h.effects=null,d!==null)for(h=0;h<d.length;h++){var N=d[h],q=N.callback;if(q!==null){if(N.callback=null,N=b,typeof q!="function")throw Error(n(191,q));q.call(N)}}}var Cf={},is=za(Cf),Af=za(Cf),If=za(Cf);function gc(d){if(d===Cf)throw Error(n(174));return d}function nw(d,h){switch(xn(If,h),xn(Af,d),xn(is,Cf),d=h.nodeType,d){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:te(null,"");break;default:d=d===8?h.parentNode:h,h=d.namespaceURI||null,d=d.tagName,h=te(h,d)}In(is),xn(is,h)}function Wu(){In(is),In(Af),In(If)}function eC(d){gc(If.current);var h=gc(is.current),b=te(h,d.type);h!==b&&(xn(Af,d),xn(is,b))}function rw(d){Af.current===d&&(In(is),In(Af))}var Rn=za(0);function h0(d){for(var h=d;h!==null;){if(h.tag===13){var b=h.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||b.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var iw=[];function ow(){for(var d=0;d<iw.length;d++)iw[d]._workInProgressVersionPrimary=null;iw.length=0}var p0=$.ReactCurrentDispatcher,sw=$.ReactCurrentBatchConfig,mc=0,Tn=null,tr=null,ar=null,g0=!1,kf=!1,Mf=0,WD=0;function Tr(){throw Error(n(321))}function aw(d,h){if(h===null)return!1;for(var b=0;b<h.length&&b<d.length;b++)if(!Io(d[b],h[b]))return!1;return!0}function lw(d,h,b,N,q,V){if(mc=V,Tn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,p0.current=d===null||d.memoizedState===null?YD:JD,d=b(N,q),kf){V=0;do{if(kf=!1,Mf=0,25<=V)throw Error(n(301));V+=1,ar=tr=null,h.updateQueue=null,p0.current=ZD,d=b(N,q)}while(kf)}if(p0.current=y0,h=tr!==null&&tr.next!==null,mc=0,ar=tr=Tn=null,g0=!1,h)throw Error(n(300));return d}function cw(){var d=Mf!==0;return Mf=0,d}function os(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?Tn.memoizedState=ar=d:ar=ar.next=d,ar}function Ji(){if(tr===null){var d=Tn.alternate;d=d!==null?d.memoizedState:null}else d=tr.next;var h=ar===null?Tn.memoizedState:ar.next;if(h!==null)ar=h,tr=d;else{if(d===null)throw Error(n(310));tr=d,d={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},ar===null?Tn.memoizedState=ar=d:ar=ar.next=d}return ar}function Of(d,h){return typeof h=="function"?h(d):h}function uw(d){var h=Ji(),b=h.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=d;var N=tr,q=N.baseQueue,V=b.pending;if(V!==null){if(q!==null){var oe=q.next;q.next=V.next,V.next=oe}N.baseQueue=q=V,b.pending=null}if(q!==null){V=q.next,N=N.baseState;var ve=oe=null,xe=null,Pe=V;do{var Ye=Pe.lane;if((mc&Ye)===Ye)xe!==null&&(xe=xe.next={lane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),N=Pe.hasEagerState?Pe.eagerState:d(N,Pe.action);else{var Xe={lane:Ye,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null};xe===null?(ve=xe=Xe,oe=N):xe=xe.next=Xe,Tn.lanes|=Ye,vc|=Ye}Pe=Pe.next}while(Pe!==null&&Pe!==V);xe===null?oe=N:xe.next=ve,Io(N,h.memoizedState)||(di=!0),h.memoizedState=N,h.baseState=oe,h.baseQueue=xe,b.lastRenderedState=N}if(d=b.interleaved,d!==null){q=d;do V=q.lane,Tn.lanes|=V,vc|=V,q=q.next;while(q!==d)}else q===null&&(b.lanes=0);return[h.memoizedState,b.dispatch]}function dw(d){var h=Ji(),b=h.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=d;var N=b.dispatch,q=b.pending,V=h.memoizedState;if(q!==null){b.pending=null;var oe=q=q.next;do V=d(V,oe.action),oe=oe.next;while(oe!==q);Io(V,h.memoizedState)||(di=!0),h.memoizedState=V,h.baseQueue===null&&(h.baseState=V),b.lastRenderedState=V}return[V,N]}function tC(){}function nC(d,h){var b=Tn,N=Ji(),q=h(),V=!Io(N.memoizedState,q);if(V&&(N.memoizedState=q,di=!0),N=N.queue,fw(oC.bind(null,b,N,d),[d]),N.getSnapshot!==h||V||ar!==null&&ar.memoizedState.tag&1){if(b.flags|=2048,Rf(9,iC.bind(null,b,N,q,h),void 0,null),lr===null)throw Error(n(349));(mc&30)!==0||rC(b,h,q)}return q}function rC(d,h,b){d.flags|=16384,d={getSnapshot:h,value:b},h=Tn.updateQueue,h===null?(h={lastEffect:null,stores:null},Tn.updateQueue=h,h.stores=[d]):(b=h.stores,b===null?h.stores=[d]:b.push(d))}function iC(d,h,b,N){h.value=b,h.getSnapshot=N,sC(h)&&aC(d)}function oC(d,h,b){return b(function(){sC(h)&&aC(d)})}function sC(d){var h=d.getSnapshot;d=d.value;try{var b=h();return!Io(d,b)}catch{return!0}}function aC(d){var h=zs(d,1);h!==null&&To(h,d,1,-1)}function lC(d){var h=os();return typeof d=="function"&&(d=d()),h.memoizedState=h.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Of,lastRenderedState:d},h.queue=d,d=d.dispatch=GD.bind(null,Tn,d),[h.memoizedState,d]}function Rf(d,h,b,N){return d={tag:d,create:h,destroy:b,deps:N,next:null},h=Tn.updateQueue,h===null?(h={lastEffect:null,stores:null},Tn.updateQueue=h,h.lastEffect=d.next=d):(b=h.lastEffect,b===null?h.lastEffect=d.next=d:(N=b.next,b.next=d,d.next=N,h.lastEffect=d)),d}function cC(){return Ji().memoizedState}function m0(d,h,b,N){var q=os();Tn.flags|=d,q.memoizedState=Rf(1|h,b,void 0,N===void 0?null:N)}function v0(d,h,b,N){var q=Ji();N=N===void 0?null:N;var V=void 0;if(tr!==null){var oe=tr.memoizedState;if(V=oe.destroy,N!==null&&aw(N,oe.deps)){q.memoizedState=Rf(h,b,V,N);return}}Tn.flags|=d,q.memoizedState=Rf(1|h,b,V,N)}function uC(d,h){return m0(8390656,8,d,h)}function fw(d,h){return v0(2048,8,d,h)}function dC(d,h){return v0(4,2,d,h)}function fC(d,h){return v0(4,4,d,h)}function hC(d,h){if(typeof h=="function")return d=d(),h(d),function(){h(null)};if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function pC(d,h,b){return b=b!=null?b.concat([d]):null,v0(4,4,hC.bind(null,h,d),b)}function hw(){}function gC(d,h){var b=Ji();h=h===void 0?null:h;var N=b.memoizedState;return N!==null&&h!==null&&aw(h,N[1])?N[0]:(b.memoizedState=[d,h],d)}function mC(d,h){var b=Ji();h=h===void 0?null:h;var N=b.memoizedState;return N!==null&&h!==null&&aw(h,N[1])?N[0]:(d=d(),b.memoizedState=[d,h],d)}function vC(d,h,b){return(mc&21)===0?(d.baseState&&(d.baseState=!1,di=!0),d.memoizedState=b):(Io(b,h)||(b=Up(),Tn.lanes|=b,vc|=b,d.baseState=!0),h)}function KD(d,h){var b=Xt;Xt=b!==0&&4>b?b:4,d(!0);var N=sw.transition;sw.transition={};try{d(!1),h()}finally{Xt=b,sw.transition=N}}function yC(){return Ji().memoizedState}function VD(d,h,b){var N=Ja(d);if(b={lane:N,action:b,hasEagerState:!1,eagerState:null,next:null},wC(d))bC(h,b);else if(b=JS(d,h,b,N),b!==null){var q=Yr();To(b,d,N,q),EC(b,h,N)}}function GD(d,h,b){var N=Ja(d),q={lane:N,action:b,hasEagerState:!1,eagerState:null,next:null};if(wC(d))bC(h,q);else{var V=d.alternate;if(d.lanes===0&&(V===null||V.lanes===0)&&(V=h.lastRenderedReducer,V!==null))try{var oe=h.lastRenderedState,ve=V(oe,b);if(q.hasEagerState=!0,q.eagerState=ve,Io(ve,oe)){var xe=h.interleaved;xe===null?(q.next=q,ew(h)):(q.next=xe.next,xe.next=q),h.interleaved=q;return}}catch{}finally{}b=JS(d,h,q,N),b!==null&&(q=Yr(),To(b,d,N,q),EC(b,h,N))}}function wC(d){var h=d.alternate;return d===Tn||h!==null&&h===Tn}function bC(d,h){kf=g0=!0;var b=d.pending;b===null?h.next=h:(h.next=b.next,b.next=h),d.pending=h}function EC(d,h,b){if((b&4194240)!==0){var N=h.lanes;N&=d.pendingLanes,b|=N,h.lanes=b,ku(d,b)}}var y0={readContext:Yi,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useInsertionEffect:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useSyncExternalStore:Tr,useId:Tr,unstable_isNewReconciler:!1},YD={readContext:Yi,useCallback:function(d,h){return os().memoizedState=[d,h===void 0?null:h],d},useContext:Yi,useEffect:uC,useImperativeHandle:function(d,h,b){return b=b!=null?b.concat([d]):null,m0(4194308,4,hC.bind(null,h,d),b)},useLayoutEffect:function(d,h){return m0(4194308,4,d,h)},useInsertionEffect:function(d,h){return m0(4,2,d,h)},useMemo:function(d,h){var b=os();return h=h===void 0?null:h,d=d(),b.memoizedState=[d,h],d},useReducer:function(d,h,b){var N=os();return h=b!==void 0?b(h):h,N.memoizedState=N.baseState=h,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:h},N.queue=d,d=d.dispatch=VD.bind(null,Tn,d),[N.memoizedState,d]},useRef:function(d){var h=os();return d={current:d},h.memoizedState=d},useState:lC,useDebugValue:hw,useDeferredValue:function(d){return os().memoizedState=d},useTransition:function(){var d=lC(!1),h=d[0];return d=KD.bind(null,d[1]),os().memoizedState=d,[h,d]},useMutableSource:function(){},useSyncExternalStore:function(d,h,b){var N=Tn,q=os();if(kn){if(b===void 0)throw Error(n(407));b=b()}else{if(b=h(),lr===null)throw Error(n(349));(mc&30)!==0||rC(N,h,b)}q.memoizedState=b;var V={value:b,getSnapshot:h};return q.queue=V,uC(oC.bind(null,N,V,d),[d]),N.flags|=2048,Rf(9,iC.bind(null,N,V,b,h),void 0,null),b},useId:function(){var d=os(),h=lr.identifierPrefix;if(kn){var b=Us,N=Fs;b=(N&~(1<<32-Ri(N)-1)).toString(32)+b,h=":"+h+"R"+b,b=Mf++,0<b&&(h+="H"+b.toString(32)),h+=":"}else b=WD++,h=":"+h+"r"+b.toString(32)+":";return d.memoizedState=h},unstable_isNewReconciler:!1},JD={readContext:Yi,useCallback:gC,useContext:Yi,useEffect:fw,useImperativeHandle:pC,useInsertionEffect:dC,useLayoutEffect:fC,useMemo:mC,useReducer:uw,useRef:cC,useState:function(){return uw(Of)},useDebugValue:hw,useDeferredValue:function(d){var h=Ji();return vC(h,tr.memoizedState,d)},useTransition:function(){var d=uw(Of)[0],h=Ji().memoizedState;return[d,h]},useMutableSource:tC,useSyncExternalStore:nC,useId:yC,unstable_isNewReconciler:!1},ZD={readContext:Yi,useCallback:gC,useContext:Yi,useEffect:fw,useImperativeHandle:pC,useInsertionEffect:dC,useLayoutEffect:fC,useMemo:mC,useReducer:dw,useRef:cC,useState:function(){return dw(Of)},useDebugValue:hw,useDeferredValue:function(d){var h=Ji();return tr===null?h.memoizedState=d:vC(h,tr.memoizedState,d)},useTransition:function(){var d=dw(Of)[0],h=Ji().memoizedState;return[d,h]},useMutableSource:tC,useSyncExternalStore:nC,useId:yC,unstable_isNewReconciler:!1};function Mo(d,h){if(d&&d.defaultProps){h=x({},h),d=d.defaultProps;for(var b in d)h[b]===void 0&&(h[b]=d[b]);return h}return h}function pw(d,h,b,N){h=d.memoizedState,b=b(N,h),b=b==null?h:x({},h,b),d.memoizedState=b,d.lanes===0&&(d.updateQueue.baseState=b)}var w0={isMounted:function(d){return(d=d._reactInternals)?Qt(d)===d:!1},enqueueSetState:function(d,h,b){d=d._reactInternals;var N=Yr(),q=Ja(d),V=qs(N,q);V.payload=h,b!=null&&(V.callback=b),h=Ka(d,V,q),h!==null&&(To(h,d,q,N),d0(h,d,q))},enqueueReplaceState:function(d,h,b){d=d._reactInternals;var N=Yr(),q=Ja(d),V=qs(N,q);V.tag=1,V.payload=h,b!=null&&(V.callback=b),h=Ka(d,V,q),h!==null&&(To(h,d,q,N),d0(h,d,q))},enqueueForceUpdate:function(d,h){d=d._reactInternals;var b=Yr(),N=Ja(d),q=qs(b,N);q.tag=2,h!=null&&(q.callback=h),h=Ka(d,q,N),h!==null&&(To(h,d,N,b),d0(h,d,N))}};function xC(d,h,b,N,q,V,oe){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(N,V,oe):h.prototype&&h.prototype.isPureReactComponent?!vf(b,N)||!vf(q,V):!0}function _C(d,h,b){var N=!1,q=qa,V=h.contextType;return typeof V=="object"&&V!==null?V=Yi(V):(q=ui(h)?dc:Rr.current,N=h.contextTypes,V=(N=N!=null)?ju(d,q):qa),h=new h(b,V),d.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=w0,d.stateNode=h,h._reactInternals=d,N&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=q,d.__reactInternalMemoizedMaskedChildContext=V),h}function SC(d,h,b,N){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(b,N),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(b,N),h.state!==d&&w0.enqueueReplaceState(h,h.state,null)}function gw(d,h,b,N){var q=d.stateNode;q.props=b,q.state=d.memoizedState,q.refs={},tw(d);var V=h.contextType;typeof V=="object"&&V!==null?q.context=Yi(V):(V=ui(h)?dc:Rr.current,q.context=ju(d,V)),q.state=d.memoizedState,V=h.getDerivedStateFromProps,typeof V=="function"&&(pw(d,h,V,b),q.state=d.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof q.getSnapshotBeforeUpdate=="function"||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(h=q.state,typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount(),h!==q.state&&w0.enqueueReplaceState(q,q.state,null),f0(d,b,q,N),q.state=d.memoizedState),typeof q.componentDidMount=="function"&&(d.flags|=4194308)}function Ku(d,h){try{var b="",N=h;do b+=G(N),N=N.return;while(N);var q=b}catch(V){q=`
Error generating stack: `+V.message+`
`+V.stack}return{value:d,source:h,stack:q,digest:null}}function mw(d,h,b){return{value:d,source:null,stack:b??null,digest:h??null}}function vw(d,h){try{console.error(h.value)}catch(b){setTimeout(function(){throw b})}}var QD=typeof WeakMap=="function"?WeakMap:Map;function CC(d,h,b){b=qs(-1,b),b.tag=3,b.payload={element:null};var N=h.value;return b.callback=function(){A0||(A0=!0,Tw=N),vw(d,h)},b}function AC(d,h,b){b=qs(-1,b),b.tag=3;var N=d.type.getDerivedStateFromError;if(typeof N=="function"){var q=h.value;b.payload=function(){return N(q)},b.callback=function(){vw(d,h)}}var V=d.stateNode;return V!==null&&typeof V.componentDidCatch=="function"&&(b.callback=function(){vw(d,h),typeof N!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var oe=h.stack;this.componentDidCatch(h.value,{componentStack:oe!==null?oe:""})}),b}function IC(d,h,b){var N=d.pingCache;if(N===null){N=d.pingCache=new QD;var q=new Set;N.set(h,q)}else q=N.get(h),q===void 0&&(q=new Set,N.set(h,q));q.has(b)||(q.add(b),d=fB.bind(null,d,h,b),h.then(d,d))}function kC(d){do{var h;if((h=d.tag===13)&&(h=d.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return d;d=d.return}while(d!==null);return null}function MC(d,h,b,N,q){return(d.mode&1)===0?(d===h?d.flags|=65536:(d.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(h=qs(-1,1),h.tag=2,Ka(b,h,1))),b.lanes|=1),d):(d.flags|=65536,d.lanes=q,d)}var XD=$.ReactCurrentOwner,di=!1;function Gr(d,h,b,N){h.child=d===null?YS(h,null,b,N):zu(h,d.child,b,N)}function OC(d,h,b,N,q){b=b.render;var V=h.ref;return Hu(h,q),N=lw(d,h,b,N,V,q),b=cw(),d!==null&&!di?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~q,Hs(d,h,q)):(kn&&b&&Wy(h),h.flags|=1,Gr(d,h,N,q),h.child)}function RC(d,h,b,N,q){if(d===null){var V=b.type;return typeof V=="function"&&!$w(V)&&V.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(h.tag=15,h.type=V,TC(d,h,V,N,q)):(d=T0(b.type,null,N,h,h.mode,q),d.ref=h.ref,d.return=h,h.child=d)}if(V=d.child,(d.lanes&q)===0){var oe=V.memoizedProps;if(b=b.compare,b=b!==null?b:vf,b(oe,N)&&d.ref===h.ref)return Hs(d,h,q)}return h.flags|=1,d=Qa(V,N),d.ref=h.ref,d.return=h,h.child=d}function TC(d,h,b,N,q){if(d!==null){var V=d.memoizedProps;if(vf(V,N)&&d.ref===h.ref)if(di=!1,h.pendingProps=N=V,(d.lanes&q)!==0)(d.flags&131072)!==0&&(di=!0);else return h.lanes=d.lanes,Hs(d,h,q)}return yw(d,h,b,N,q)}function PC(d,h,b){var N=h.pendingProps,q=N.children,V=d!==null?d.memoizedState:null;if(N.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},xn(Gu,Ni),Ni|=b;else{if((b&1073741824)===0)return d=V!==null?V.baseLanes|b:b,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:d,cachePool:null,transitions:null},h.updateQueue=null,xn(Gu,Ni),Ni|=d,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},N=V!==null?V.baseLanes:b,xn(Gu,Ni),Ni|=N}else V!==null?(N=V.baseLanes|b,h.memoizedState=null):N=b,xn(Gu,Ni),Ni|=N;return Gr(d,h,q,b),h.child}function NC(d,h){var b=h.ref;(d===null&&b!==null||d!==null&&d.ref!==b)&&(h.flags|=512,h.flags|=2097152)}function yw(d,h,b,N,q){var V=ui(b)?dc:Rr.current;return V=ju(h,V),Hu(h,q),b=lw(d,h,b,N,V,q),N=cw(),d!==null&&!di?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~q,Hs(d,h,q)):(kn&&N&&Wy(h),h.flags|=1,Gr(d,h,b,q),h.child)}function LC(d,h,b,N,q){if(ui(b)){var V=!0;r0(h)}else V=!1;if(Hu(h,q),h.stateNode===null)E0(d,h),_C(h,b,N),gw(h,b,N,q),N=!0;else if(d===null){var oe=h.stateNode,ve=h.memoizedProps;oe.props=ve;var xe=oe.context,Pe=b.contextType;typeof Pe=="object"&&Pe!==null?Pe=Yi(Pe):(Pe=ui(b)?dc:Rr.current,Pe=ju(h,Pe));var Ye=b.getDerivedStateFromProps,Xe=typeof Ye=="function"||typeof oe.getSnapshotBeforeUpdate=="function";Xe||typeof oe.UNSAFE_componentWillReceiveProps!="function"&&typeof oe.componentWillReceiveProps!="function"||(ve!==N||xe!==Pe)&&SC(h,oe,N,Pe),Wa=!1;var Ke=h.memoizedState;oe.state=Ke,f0(h,N,oe,q),xe=h.memoizedState,ve!==N||Ke!==xe||ci.current||Wa?(typeof Ye=="function"&&(pw(h,b,Ye,N),xe=h.memoizedState),(ve=Wa||xC(h,b,ve,N,Ke,xe,Pe))?(Xe||typeof oe.UNSAFE_componentWillMount!="function"&&typeof oe.componentWillMount!="function"||(typeof oe.componentWillMount=="function"&&oe.componentWillMount(),typeof oe.UNSAFE_componentWillMount=="function"&&oe.UNSAFE_componentWillMount()),typeof oe.componentDidMount=="function"&&(h.flags|=4194308)):(typeof oe.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=N,h.memoizedState=xe),oe.props=N,oe.state=xe,oe.context=Pe,N=ve):(typeof oe.componentDidMount=="function"&&(h.flags|=4194308),N=!1)}else{oe=h.stateNode,ZS(d,h),ve=h.memoizedProps,Pe=h.type===h.elementType?ve:Mo(h.type,ve),oe.props=Pe,Xe=h.pendingProps,Ke=oe.context,xe=b.contextType,typeof xe=="object"&&xe!==null?xe=Yi(xe):(xe=ui(b)?dc:Rr.current,xe=ju(h,xe));var lt=b.getDerivedStateFromProps;(Ye=typeof lt=="function"||typeof oe.getSnapshotBeforeUpdate=="function")||typeof oe.UNSAFE_componentWillReceiveProps!="function"&&typeof oe.componentWillReceiveProps!="function"||(ve!==Xe||Ke!==xe)&&SC(h,oe,N,xe),Wa=!1,Ke=h.memoizedState,oe.state=Ke,f0(h,N,oe,q);var pt=h.memoizedState;ve!==Xe||Ke!==pt||ci.current||Wa?(typeof lt=="function"&&(pw(h,b,lt,N),pt=h.memoizedState),(Pe=Wa||xC(h,b,Pe,N,Ke,pt,xe)||!1)?(Ye||typeof oe.UNSAFE_componentWillUpdate!="function"&&typeof oe.componentWillUpdate!="function"||(typeof oe.componentWillUpdate=="function"&&oe.componentWillUpdate(N,pt,xe),typeof oe.UNSAFE_componentWillUpdate=="function"&&oe.UNSAFE_componentWillUpdate(N,pt,xe)),typeof oe.componentDidUpdate=="function"&&(h.flags|=4),typeof oe.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof oe.componentDidUpdate!="function"||ve===d.memoizedProps&&Ke===d.memoizedState||(h.flags|=4),typeof oe.getSnapshotBeforeUpdate!="function"||ve===d.memoizedProps&&Ke===d.memoizedState||(h.flags|=1024),h.memoizedProps=N,h.memoizedState=pt),oe.props=N,oe.state=pt,oe.context=xe,N=Pe):(typeof oe.componentDidUpdate!="function"||ve===d.memoizedProps&&Ke===d.memoizedState||(h.flags|=4),typeof oe.getSnapshotBeforeUpdate!="function"||ve===d.memoizedProps&&Ke===d.memoizedState||(h.flags|=1024),N=!1)}return ww(d,h,b,N,V,q)}function ww(d,h,b,N,q,V){NC(d,h);var oe=(h.flags&128)!==0;if(!N&&!oe)return q&&FS(h,b,!1),Hs(d,h,V);N=h.stateNode,XD.current=h;var ve=oe&&typeof b.getDerivedStateFromError!="function"?null:N.render();return h.flags|=1,d!==null&&oe?(h.child=zu(h,d.child,null,V),h.child=zu(h,null,ve,V)):Gr(d,h,ve,V),h.memoizedState=N.state,q&&FS(h,b,!0),h.child}function DC(d){var h=d.stateNode;h.pendingContext?jS(d,h.pendingContext,h.pendingContext!==h.context):h.context&&jS(d,h.context,!1),nw(d,h.containerInfo)}function BC(d,h,b,N,q){return Uu(),Yy(q),h.flags|=256,Gr(d,h,b,N),h.child}var bw={dehydrated:null,treeContext:null,retryLane:0};function Ew(d){return{baseLanes:d,cachePool:null,transitions:null}}function jC(d,h,b){var N=h.pendingProps,q=Rn.current,V=!1,oe=(h.flags&128)!==0,ve;if((ve=oe)||(ve=d!==null&&d.memoizedState===null?!1:(q&2)!==0),ve?(V=!0,h.flags&=-129):(d===null||d.memoizedState!==null)&&(q|=1),xn(Rn,q&1),d===null)return Gy(h),d=h.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((h.mode&1)===0?h.lanes=1:d.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(oe=N.children,d=N.fallback,V?(N=h.mode,V=h.child,oe={mode:"hidden",children:oe},(N&1)===0&&V!==null?(V.childLanes=0,V.pendingProps=oe):V=P0(oe,N,0,null),d=Ec(d,N,b,null),V.return=h,d.return=h,V.sibling=d,h.child=V,h.child.memoizedState=Ew(b),h.memoizedState=bw,d):xw(h,oe));if(q=d.memoizedState,q!==null&&(ve=q.dehydrated,ve!==null))return eB(d,h,oe,N,ve,q,b);if(V){V=N.fallback,oe=h.mode,q=d.child,ve=q.sibling;var xe={mode:"hidden",children:N.children};return(oe&1)===0&&h.child!==q?(N=h.child,N.childLanes=0,N.pendingProps=xe,h.deletions=null):(N=Qa(q,xe),N.subtreeFlags=q.subtreeFlags&14680064),ve!==null?V=Qa(ve,V):(V=Ec(V,oe,b,null),V.flags|=2),V.return=h,N.return=h,N.sibling=V,h.child=N,N=V,V=h.child,oe=d.child.memoizedState,oe=oe===null?Ew(b):{baseLanes:oe.baseLanes|b,cachePool:null,transitions:oe.transitions},V.memoizedState=oe,V.childLanes=d.childLanes&~b,h.memoizedState=bw,N}return V=d.child,d=V.sibling,N=Qa(V,{mode:"visible",children:N.children}),(h.mode&1)===0&&(N.lanes=b),N.return=h,N.sibling=null,d!==null&&(b=h.deletions,b===null?(h.deletions=[d],h.flags|=16):b.push(d)),h.child=N,h.memoizedState=null,N}function xw(d,h){return h=P0({mode:"visible",children:h},d.mode,0,null),h.return=d,d.child=h}function b0(d,h,b,N){return N!==null&&Yy(N),zu(h,d.child,null,b),d=xw(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function eB(d,h,b,N,q,V,oe){if(b)return h.flags&256?(h.flags&=-257,N=mw(Error(n(422))),b0(d,h,oe,N)):h.memoizedState!==null?(h.child=d.child,h.flags|=128,null):(V=N.fallback,q=h.mode,N=P0({mode:"visible",children:N.children},q,0,null),V=Ec(V,q,oe,null),V.flags|=2,N.return=h,V.return=h,N.sibling=V,h.child=N,(h.mode&1)!==0&&zu(h,d.child,null,oe),h.child.memoizedState=Ew(oe),h.memoizedState=bw,V);if((h.mode&1)===0)return b0(d,h,oe,null);if(q.data==="$!"){if(N=q.nextSibling&&q.nextSibling.dataset,N)var ve=N.dgst;return N=ve,V=Error(n(419)),N=mw(V,N,void 0),b0(d,h,oe,N)}if(ve=(oe&d.childLanes)!==0,di||ve){if(N=lr,N!==null){switch(oe&-oe){case 4:q=2;break;case 16:q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:q=32;break;case 536870912:q=268435456;break;default:q=0}q=(q&(N.suspendedLanes|oe))!==0?0:q,q!==0&&q!==V.retryLane&&(V.retryLane=q,zs(d,q),To(N,d,q,-1))}return jw(),N=mw(Error(n(421))),b0(d,h,oe,N)}return q.data==="$?"?(h.flags|=128,h.child=d.child,h=hB.bind(null,d),q._reactRetry=h,null):(d=V.treeContext,Pi=Ua(q.nextSibling),Ti=h,kn=!0,ko=null,d!==null&&(Vi[Gi++]=Fs,Vi[Gi++]=Us,Vi[Gi++]=fc,Fs=d.id,Us=d.overflow,fc=h),h=xw(h,N.children),h.flags|=4096,h)}function $C(d,h,b){d.lanes|=h;var N=d.alternate;N!==null&&(N.lanes|=h),Xy(d.return,h,b)}function _w(d,h,b,N,q){var V=d.memoizedState;V===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:N,tail:b,tailMode:q}:(V.isBackwards=h,V.rendering=null,V.renderingStartTime=0,V.last=N,V.tail=b,V.tailMode=q)}function FC(d,h,b){var N=h.pendingProps,q=N.revealOrder,V=N.tail;if(Gr(d,h,N.children,b),N=Rn.current,(N&2)!==0)N=N&1|2,h.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&$C(d,b,h);else if(d.tag===19)$C(d,b,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}N&=1}if(xn(Rn,N),(h.mode&1)===0)h.memoizedState=null;else switch(q){case"forwards":for(b=h.child,q=null;b!==null;)d=b.alternate,d!==null&&h0(d)===null&&(q=b),b=b.sibling;b=q,b===null?(q=h.child,h.child=null):(q=b.sibling,b.sibling=null),_w(h,!1,q,b,V);break;case"backwards":for(b=null,q=h.child,h.child=null;q!==null;){if(d=q.alternate,d!==null&&h0(d)===null){h.child=q;break}d=q.sibling,q.sibling=b,b=q,q=d}_w(h,!0,b,null,V);break;case"together":_w(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function E0(d,h){(h.mode&1)===0&&d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2)}function Hs(d,h,b){if(d!==null&&(h.dependencies=d.dependencies),vc|=h.lanes,(b&h.childLanes)===0)return null;if(d!==null&&h.child!==d.child)throw Error(n(153));if(h.child!==null){for(d=h.child,b=Qa(d,d.pendingProps),h.child=b,b.return=h;d.sibling!==null;)d=d.sibling,b=b.sibling=Qa(d,d.pendingProps),b.return=h;b.sibling=null}return h.child}function tB(d,h,b){switch(h.tag){case 3:DC(h),Uu();break;case 5:eC(h);break;case 1:ui(h.type)&&r0(h);break;case 4:nw(h,h.stateNode.containerInfo);break;case 10:var N=h.type._context,q=h.memoizedProps.value;xn(c0,N._currentValue),N._currentValue=q;break;case 13:if(N=h.memoizedState,N!==null)return N.dehydrated!==null?(xn(Rn,Rn.current&1),h.flags|=128,null):(b&h.child.childLanes)!==0?jC(d,h,b):(xn(Rn,Rn.current&1),d=Hs(d,h,b),d!==null?d.sibling:null);xn(Rn,Rn.current&1);break;case 19:if(N=(b&h.childLanes)!==0,(d.flags&128)!==0){if(N)return FC(d,h,b);h.flags|=128}if(q=h.memoizedState,q!==null&&(q.rendering=null,q.tail=null,q.lastEffect=null),xn(Rn,Rn.current),N)break;return null;case 22:case 23:return h.lanes=0,PC(d,h,b)}return Hs(d,h,b)}var UC,Sw,zC,qC;UC=function(d,h){for(var b=h.child;b!==null;){if(b.tag===5||b.tag===6)d.appendChild(b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===h)break;for(;b.sibling===null;){if(b.return===null||b.return===h)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},Sw=function(){},zC=function(d,h,b,N){var q=d.memoizedProps;if(q!==N){d=h.stateNode,gc(is.current);var V=null;switch(b){case"input":q=ae(d,q),N=ae(d,N),V=[];break;case"select":q=x({},q,{value:void 0}),N=x({},N,{value:void 0}),V=[];break;case"textarea":q=we(d,q),N=we(d,N),V=[];break;default:typeof q.onClick!="function"&&typeof N.onClick=="function"&&(d.onclick=e0)}at(b,N);var oe;b=null;for(Pe in q)if(!N.hasOwnProperty(Pe)&&q.hasOwnProperty(Pe)&&q[Pe]!=null)if(Pe==="style"){var ve=q[Pe];for(oe in ve)ve.hasOwnProperty(oe)&&(b||(b={}),b[oe]="")}else Pe!=="dangerouslySetInnerHTML"&&Pe!=="children"&&Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&Pe!=="autoFocus"&&(i.hasOwnProperty(Pe)?V||(V=[]):(V=V||[]).push(Pe,null));for(Pe in N){var xe=N[Pe];if(ve=q!=null?q[Pe]:void 0,N.hasOwnProperty(Pe)&&xe!==ve&&(xe!=null||ve!=null))if(Pe==="style")if(ve){for(oe in ve)!ve.hasOwnProperty(oe)||xe&&xe.hasOwnProperty(oe)||(b||(b={}),b[oe]="");for(oe in xe)xe.hasOwnProperty(oe)&&ve[oe]!==xe[oe]&&(b||(b={}),b[oe]=xe[oe])}else b||(V||(V=[]),V.push(Pe,b)),b=xe;else Pe==="dangerouslySetInnerHTML"?(xe=xe?xe.__html:void 0,ve=ve?ve.__html:void 0,xe!=null&&ve!==xe&&(V=V||[]).push(Pe,xe)):Pe==="children"?typeof xe!="string"&&typeof xe!="number"||(V=V||[]).push(Pe,""+xe):Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Pe)?(xe!=null&&Pe==="onScroll"&&An("scroll",d),V||ve===xe||(V=[])):(V=V||[]).push(Pe,xe))}b&&(V=V||[]).push("style",b);var Pe=V;(h.updateQueue=Pe)&&(h.flags|=4)}},qC=function(d,h,b,N){b!==N&&(h.flags|=4)};function Tf(d,h){if(!kn)switch(d.tailMode){case"hidden":h=d.tail;for(var b=null;h!==null;)h.alternate!==null&&(b=h),h=h.sibling;b===null?d.tail=null:b.sibling=null;break;case"collapsed":b=d.tail;for(var N=null;b!==null;)b.alternate!==null&&(N=b),b=b.sibling;N===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:N.sibling=null}}function Pr(d){var h=d.alternate!==null&&d.alternate.child===d.child,b=0,N=0;if(h)for(var q=d.child;q!==null;)b|=q.lanes|q.childLanes,N|=q.subtreeFlags&14680064,N|=q.flags&14680064,q.return=d,q=q.sibling;else for(q=d.child;q!==null;)b|=q.lanes|q.childLanes,N|=q.subtreeFlags,N|=q.flags,q.return=d,q=q.sibling;return d.subtreeFlags|=N,d.childLanes=b,h}function nB(d,h,b){var N=h.pendingProps;switch(Ky(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(h),null;case 1:return ui(h.type)&&n0(),Pr(h),null;case 3:return N=h.stateNode,Wu(),In(ci),In(Rr),ow(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(d===null||d.child===null)&&(a0(h)?h.flags|=4:d===null||d.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,ko!==null&&(Lw(ko),ko=null))),Sw(d,h),Pr(h),null;case 5:rw(h);var q=gc(If.current);if(b=h.type,d!==null&&h.stateNode!=null)zC(d,h,b,N,q),d.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!N){if(h.stateNode===null)throw Error(n(166));return Pr(h),null}if(d=gc(is.current),a0(h)){N=h.stateNode,b=h.type;var V=h.memoizedProps;switch(N[rs]=h,N[xf]=V,d=(h.mode&1)!==0,b){case"dialog":An("cancel",N),An("close",N);break;case"iframe":case"object":case"embed":An("load",N);break;case"video":case"audio":for(q=0;q<wf.length;q++)An(wf[q],N);break;case"source":An("error",N);break;case"img":case"image":case"link":An("error",N),An("load",N);break;case"details":An("toggle",N);break;case"input":de(N,V),An("invalid",N);break;case"select":N._wrapperState={wasMultiple:!!V.multiple},An("invalid",N);break;case"textarea":Fe(N,V),An("invalid",N)}at(b,V),q=null;for(var oe in V)if(V.hasOwnProperty(oe)){var ve=V[oe];oe==="children"?typeof ve=="string"?N.textContent!==ve&&(V.suppressHydrationWarning!==!0&&Xp(N.textContent,ve,d),q=["children",ve]):typeof ve=="number"&&N.textContent!==""+ve&&(V.suppressHydrationWarning!==!0&&Xp(N.textContent,ve,d),q=["children",""+ve]):i.hasOwnProperty(oe)&&ve!=null&&oe==="onScroll"&&An("scroll",N)}switch(b){case"input":ie(N),ye(N,V,!0);break;case"textarea":ie(N),Ve(N);break;case"select":case"option":break;default:typeof V.onClick=="function"&&(N.onclick=e0)}N=q,h.updateQueue=N,N!==null&&(h.flags|=4)}else{oe=q.nodeType===9?q:q.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=Je(b)),d==="http://www.w3.org/1999/xhtml"?b==="script"?(d=oe.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof N.is=="string"?d=oe.createElement(b,{is:N.is}):(d=oe.createElement(b),b==="select"&&(oe=d,N.multiple?oe.multiple=!0:N.size&&(oe.size=N.size))):d=oe.createElementNS(d,b),d[rs]=h,d[xf]=N,UC(d,h,!1,!1),h.stateNode=d;e:{switch(oe=xt(b,N),b){case"dialog":An("cancel",d),An("close",d),q=N;break;case"iframe":case"object":case"embed":An("load",d),q=N;break;case"video":case"audio":for(q=0;q<wf.length;q++)An(wf[q],d);q=N;break;case"source":An("error",d),q=N;break;case"img":case"image":case"link":An("error",d),An("load",d),q=N;break;case"details":An("toggle",d),q=N;break;case"input":de(d,N),q=ae(d,N),An("invalid",d);break;case"option":q=N;break;case"select":d._wrapperState={wasMultiple:!!N.multiple},q=x({},N,{value:void 0}),An("invalid",d);break;case"textarea":Fe(d,N),q=we(d,N),An("invalid",d);break;default:q=N}at(b,q),ve=q;for(V in ve)if(ve.hasOwnProperty(V)){var xe=ve[V];V==="style"?rt(d,xe):V==="dangerouslySetInnerHTML"?(xe=xe?xe.__html:void 0,xe!=null&&Y(d,xe)):V==="children"?typeof xe=="string"?(b!=="textarea"||xe!=="")&&le(d,xe):typeof xe=="number"&&le(d,""+xe):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(i.hasOwnProperty(V)?xe!=null&&V==="onScroll"&&An("scroll",d):xe!=null&&k(d,V,xe,oe))}switch(b){case"input":ie(d),ye(d,N,!1);break;case"textarea":ie(d),Ve(d);break;case"option":N.value!=null&&d.setAttribute("value",""+J(N.value));break;case"select":d.multiple=!!N.multiple,V=N.value,V!=null?Ie(d,!!N.multiple,V,!1):N.defaultValue!=null&&Ie(d,!!N.multiple,N.defaultValue,!0);break;default:typeof q.onClick=="function"&&(d.onclick=e0)}switch(b){case"button":case"input":case"select":case"textarea":N=!!N.autoFocus;break e;case"img":N=!0;break e;default:N=!1}}N&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Pr(h),null;case 6:if(d&&h.stateNode!=null)qC(d,h,d.memoizedProps,N);else{if(typeof N!="string"&&h.stateNode===null)throw Error(n(166));if(b=gc(If.current),gc(is.current),a0(h)){if(N=h.stateNode,b=h.memoizedProps,N[rs]=h,(V=N.nodeValue!==b)&&(d=Ti,d!==null))switch(d.tag){case 3:Xp(N.nodeValue,b,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&Xp(N.nodeValue,b,(d.mode&1)!==0)}V&&(h.flags|=4)}else N=(b.nodeType===9?b:b.ownerDocument).createTextNode(N),N[rs]=h,h.stateNode=N}return Pr(h),null;case 13:if(In(Rn),N=h.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(kn&&Pi!==null&&(h.mode&1)!==0&&(h.flags&128)===0)KS(),Uu(),h.flags|=98560,V=!1;else if(V=a0(h),N!==null&&N.dehydrated!==null){if(d===null){if(!V)throw Error(n(318));if(V=h.memoizedState,V=V!==null?V.dehydrated:null,!V)throw Error(n(317));V[rs]=h}else Uu(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Pr(h),V=!1}else ko!==null&&(Lw(ko),ko=null),V=!0;if(!V)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=b,h):(N=N!==null,N!==(d!==null&&d.memoizedState!==null)&&N&&(h.child.flags|=8192,(h.mode&1)!==0&&(d===null||(Rn.current&1)!==0?nr===0&&(nr=3):jw())),h.updateQueue!==null&&(h.flags|=4),Pr(h),null);case 4:return Wu(),Sw(d,h),d===null&&bf(h.stateNode.containerInfo),Pr(h),null;case 10:return Qy(h.type._context),Pr(h),null;case 17:return ui(h.type)&&n0(),Pr(h),null;case 19:if(In(Rn),V=h.memoizedState,V===null)return Pr(h),null;if(N=(h.flags&128)!==0,oe=V.rendering,oe===null)if(N)Tf(V,!1);else{if(nr!==0||d!==null&&(d.flags&128)!==0)for(d=h.child;d!==null;){if(oe=h0(d),oe!==null){for(h.flags|=128,Tf(V,!1),N=oe.updateQueue,N!==null&&(h.updateQueue=N,h.flags|=4),h.subtreeFlags=0,N=b,b=h.child;b!==null;)V=b,d=N,V.flags&=14680066,oe=V.alternate,oe===null?(V.childLanes=0,V.lanes=d,V.child=null,V.subtreeFlags=0,V.memoizedProps=null,V.memoizedState=null,V.updateQueue=null,V.dependencies=null,V.stateNode=null):(V.childLanes=oe.childLanes,V.lanes=oe.lanes,V.child=oe.child,V.subtreeFlags=0,V.deletions=null,V.memoizedProps=oe.memoizedProps,V.memoizedState=oe.memoizedState,V.updateQueue=oe.updateQueue,V.type=oe.type,d=oe.dependencies,V.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),b=b.sibling;return xn(Rn,Rn.current&1|2),h.child}d=d.sibling}V.tail!==null&&vn()>Yu&&(h.flags|=128,N=!0,Tf(V,!1),h.lanes=4194304)}else{if(!N)if(d=h0(oe),d!==null){if(h.flags|=128,N=!0,b=d.updateQueue,b!==null&&(h.updateQueue=b,h.flags|=4),Tf(V,!0),V.tail===null&&V.tailMode==="hidden"&&!oe.alternate&&!kn)return Pr(h),null}else 2*vn()-V.renderingStartTime>Yu&&b!==1073741824&&(h.flags|=128,N=!0,Tf(V,!1),h.lanes=4194304);V.isBackwards?(oe.sibling=h.child,h.child=oe):(b=V.last,b!==null?b.sibling=oe:h.child=oe,V.last=oe)}return V.tail!==null?(h=V.tail,V.rendering=h,V.tail=h.sibling,V.renderingStartTime=vn(),h.sibling=null,b=Rn.current,xn(Rn,N?b&1|2:b&1),h):(Pr(h),null);case 22:case 23:return Bw(),N=h.memoizedState!==null,d!==null&&d.memoizedState!==null!==N&&(h.flags|=8192),N&&(h.mode&1)!==0?(Ni&1073741824)!==0&&(Pr(h),h.subtreeFlags&6&&(h.flags|=8192)):Pr(h),null;case 24:return null;case 25:return null}throw Error(n(156,h.tag))}function rB(d,h){switch(Ky(h),h.tag){case 1:return ui(h.type)&&n0(),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return Wu(),In(ci),In(Rr),ow(),d=h.flags,(d&65536)!==0&&(d&128)===0?(h.flags=d&-65537|128,h):null;case 5:return rw(h),null;case 13:if(In(Rn),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(n(340));Uu()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return In(Rn),null;case 4:return Wu(),null;case 10:return Qy(h.type._context),null;case 22:case 23:return Bw(),null;case 24:return null;default:return null}}var x0=!1,Nr=!1,iB=typeof WeakSet=="function"?WeakSet:Set,ft=null;function Vu(d,h){var b=d.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(N){Bn(d,h,N)}else b.current=null}function Cw(d,h,b){try{b()}catch(N){Bn(d,h,N)}}var HC=!1;function oB(d,h){if(By=Ce,d=xS(),My(d)){if("selectionStart"in d)var b={start:d.selectionStart,end:d.selectionEnd};else e:{b=(b=d.ownerDocument)&&b.defaultView||window;var N=b.getSelection&&b.getSelection();if(N&&N.rangeCount!==0){b=N.anchorNode;var q=N.anchorOffset,V=N.focusNode;N=N.focusOffset;try{b.nodeType,V.nodeType}catch{b=null;break e}var oe=0,ve=-1,xe=-1,Pe=0,Ye=0,Xe=d,Ke=null;t:for(;;){for(var lt;Xe!==b||q!==0&&Xe.nodeType!==3||(ve=oe+q),Xe!==V||N!==0&&Xe.nodeType!==3||(xe=oe+N),Xe.nodeType===3&&(oe+=Xe.nodeValue.length),(lt=Xe.firstChild)!==null;)Ke=Xe,Xe=lt;for(;;){if(Xe===d)break t;if(Ke===b&&++Pe===q&&(ve=oe),Ke===V&&++Ye===N&&(xe=oe),(lt=Xe.nextSibling)!==null)break;Xe=Ke,Ke=Xe.parentNode}Xe=lt}b=ve===-1||xe===-1?null:{start:ve,end:xe}}else b=null}b=b||{start:0,end:0}}else b=null;for(jy={focusedElem:d,selectionRange:b},Ce=!1,ft=h;ft!==null;)if(h=ft,d=h.child,(h.subtreeFlags&1028)!==0&&d!==null)d.return=h,ft=d;else for(;ft!==null;){h=ft;try{var pt=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(pt!==null){var vt=pt.memoizedProps,Wn=pt.memoizedState,Me=h.stateNode,Se=Me.getSnapshotBeforeUpdate(h.elementType===h.type?vt:Mo(h.type,vt),Wn);Me.__reactInternalSnapshotBeforeUpdate=Se}break;case 3:var Oe=h.stateNode.containerInfo;Oe.nodeType===1?Oe.textContent="":Oe.nodeType===9&&Oe.documentElement&&Oe.removeChild(Oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(tt){Bn(h,h.return,tt)}if(d=h.sibling,d!==null){d.return=h.return,ft=d;break}ft=h.return}return pt=HC,HC=!1,pt}function Pf(d,h,b){var N=h.updateQueue;if(N=N!==null?N.lastEffect:null,N!==null){var q=N=N.next;do{if((q.tag&d)===d){var V=q.destroy;q.destroy=void 0,V!==void 0&&Cw(h,b,V)}q=q.next}while(q!==N)}}function _0(d,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var b=h=h.next;do{if((b.tag&d)===d){var N=b.create;b.destroy=N()}b=b.next}while(b!==h)}}function Aw(d){var h=d.ref;if(h!==null){var b=d.stateNode;switch(d.tag){case 5:d=b;break;default:d=b}typeof h=="function"?h(d):h.current=d}}function WC(d){var h=d.alternate;h!==null&&(d.alternate=null,WC(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&(delete h[rs],delete h[xf],delete h[zy],delete h[UD],delete h[zD])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function KC(d){return d.tag===5||d.tag===3||d.tag===4}function VC(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||KC(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Iw(d,h,b){var N=d.tag;if(N===5||N===6)d=d.stateNode,h?b.nodeType===8?b.parentNode.insertBefore(d,h):b.insertBefore(d,h):(b.nodeType===8?(h=b.parentNode,h.insertBefore(d,b)):(h=b,h.appendChild(d)),b=b._reactRootContainer,b!=null||h.onclick!==null||(h.onclick=e0));else if(N!==4&&(d=d.child,d!==null))for(Iw(d,h,b),d=d.sibling;d!==null;)Iw(d,h,b),d=d.sibling}function kw(d,h,b){var N=d.tag;if(N===5||N===6)d=d.stateNode,h?b.insertBefore(d,h):b.appendChild(d);else if(N!==4&&(d=d.child,d!==null))for(kw(d,h,b),d=d.sibling;d!==null;)kw(d,h,b),d=d.sibling}var yr=null,Oo=!1;function Va(d,h,b){for(b=b.child;b!==null;)GC(d,h,b),b=b.sibling}function GC(d,h,b){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(Zo,b)}catch{}switch(b.tag){case 5:Nr||Vu(b,h);case 6:var N=yr,q=Oo;yr=null,Va(d,h,b),yr=N,Oo=q,yr!==null&&(Oo?(d=yr,b=b.stateNode,d.nodeType===8?d.parentNode.removeChild(b):d.removeChild(b)):yr.removeChild(b.stateNode));break;case 18:yr!==null&&(Oo?(d=yr,b=b.stateNode,d.nodeType===8?Uy(d.parentNode,b):d.nodeType===1&&Uy(d,b),cc(d)):Uy(yr,b.stateNode));break;case 4:N=yr,q=Oo,yr=b.stateNode.containerInfo,Oo=!0,Va(d,h,b),yr=N,Oo=q;break;case 0:case 11:case 14:case 15:if(!Nr&&(N=b.updateQueue,N!==null&&(N=N.lastEffect,N!==null))){q=N=N.next;do{var V=q,oe=V.destroy;V=V.tag,oe!==void 0&&((V&2)!==0||(V&4)!==0)&&Cw(b,h,oe),q=q.next}while(q!==N)}Va(d,h,b);break;case 1:if(!Nr&&(Vu(b,h),N=b.stateNode,typeof N.componentWillUnmount=="function"))try{N.props=b.memoizedProps,N.state=b.memoizedState,N.componentWillUnmount()}catch(ve){Bn(b,h,ve)}Va(d,h,b);break;case 21:Va(d,h,b);break;case 22:b.mode&1?(Nr=(N=Nr)||b.memoizedState!==null,Va(d,h,b),Nr=N):Va(d,h,b);break;default:Va(d,h,b)}}function YC(d){var h=d.updateQueue;if(h!==null){d.updateQueue=null;var b=d.stateNode;b===null&&(b=d.stateNode=new iB),h.forEach(function(N){var q=pB.bind(null,d,N);b.has(N)||(b.add(N),N.then(q,q))})}}function Ro(d,h){var b=h.deletions;if(b!==null)for(var N=0;N<b.length;N++){var q=b[N];try{var V=d,oe=h,ve=oe;e:for(;ve!==null;){switch(ve.tag){case 5:yr=ve.stateNode,Oo=!1;break e;case 3:yr=ve.stateNode.containerInfo,Oo=!0;break e;case 4:yr=ve.stateNode.containerInfo,Oo=!0;break e}ve=ve.return}if(yr===null)throw Error(n(160));GC(V,oe,q),yr=null,Oo=!1;var xe=q.alternate;xe!==null&&(xe.return=null),q.return=null}catch(Pe){Bn(q,h,Pe)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)JC(h,d),h=h.sibling}function JC(d,h){var b=d.alternate,N=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(Ro(h,d),ss(d),N&4){try{Pf(3,d,d.return),_0(3,d)}catch(vt){Bn(d,d.return,vt)}try{Pf(5,d,d.return)}catch(vt){Bn(d,d.return,vt)}}break;case 1:Ro(h,d),ss(d),N&512&&b!==null&&Vu(b,b.return);break;case 5:if(Ro(h,d),ss(d),N&512&&b!==null&&Vu(b,b.return),d.flags&32){var q=d.stateNode;try{le(q,"")}catch(vt){Bn(d,d.return,vt)}}if(N&4&&(q=d.stateNode,q!=null)){var V=d.memoizedProps,oe=b!==null?b.memoizedProps:V,ve=d.type,xe=d.updateQueue;if(d.updateQueue=null,xe!==null)try{ve==="input"&&V.type==="radio"&&V.name!=null&&me(q,V),xt(ve,oe);var Pe=xt(ve,V);for(oe=0;oe<xe.length;oe+=2){var Ye=xe[oe],Xe=xe[oe+1];Ye==="style"?rt(q,Xe):Ye==="dangerouslySetInnerHTML"?Y(q,Xe):Ye==="children"?le(q,Xe):k(q,Ye,Xe,Pe)}switch(ve){case"input":Ee(q,V);break;case"textarea":He(q,V);break;case"select":var Ke=q._wrapperState.wasMultiple;q._wrapperState.wasMultiple=!!V.multiple;var lt=V.value;lt!=null?Ie(q,!!V.multiple,lt,!1):Ke!==!!V.multiple&&(V.defaultValue!=null?Ie(q,!!V.multiple,V.defaultValue,!0):Ie(q,!!V.multiple,V.multiple?[]:"",!1))}q[xf]=V}catch(vt){Bn(d,d.return,vt)}}break;case 6:if(Ro(h,d),ss(d),N&4){if(d.stateNode===null)throw Error(n(162));q=d.stateNode,V=d.memoizedProps;try{q.nodeValue=V}catch(vt){Bn(d,d.return,vt)}}break;case 3:if(Ro(h,d),ss(d),N&4&&b!==null&&b.memoizedState.isDehydrated)try{cc(h.containerInfo)}catch(vt){Bn(d,d.return,vt)}break;case 4:Ro(h,d),ss(d);break;case 13:Ro(h,d),ss(d),q=d.child,q.flags&8192&&(V=q.memoizedState!==null,q.stateNode.isHidden=V,!V||q.alternate!==null&&q.alternate.memoizedState!==null||(Rw=vn())),N&4&&YC(d);break;case 22:if(Ye=b!==null&&b.memoizedState!==null,d.mode&1?(Nr=(Pe=Nr)||Ye,Ro(h,d),Nr=Pe):Ro(h,d),ss(d),N&8192){if(Pe=d.memoizedState!==null,(d.stateNode.isHidden=Pe)&&!Ye&&(d.mode&1)!==0)for(ft=d,Ye=d.child;Ye!==null;){for(Xe=ft=Ye;ft!==null;){switch(Ke=ft,lt=Ke.child,Ke.tag){case 0:case 11:case 14:case 15:Pf(4,Ke,Ke.return);break;case 1:Vu(Ke,Ke.return);var pt=Ke.stateNode;if(typeof pt.componentWillUnmount=="function"){N=Ke,b=Ke.return;try{h=N,pt.props=h.memoizedProps,pt.state=h.memoizedState,pt.componentWillUnmount()}catch(vt){Bn(N,b,vt)}}break;case 5:Vu(Ke,Ke.return);break;case 22:if(Ke.memoizedState!==null){XC(Xe);continue}}lt!==null?(lt.return=Ke,ft=lt):XC(Xe)}Ye=Ye.sibling}e:for(Ye=null,Xe=d;;){if(Xe.tag===5){if(Ye===null){Ye=Xe;try{q=Xe.stateNode,Pe?(V=q.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none"):(ve=Xe.stateNode,xe=Xe.memoizedProps.style,oe=xe!=null&&xe.hasOwnProperty("display")?xe.display:null,ve.style.display=Re("display",oe))}catch(vt){Bn(d,d.return,vt)}}}else if(Xe.tag===6){if(Ye===null)try{Xe.stateNode.nodeValue=Pe?"":Xe.memoizedProps}catch(vt){Bn(d,d.return,vt)}}else if((Xe.tag!==22&&Xe.tag!==23||Xe.memoizedState===null||Xe===d)&&Xe.child!==null){Xe.child.return=Xe,Xe=Xe.child;continue}if(Xe===d)break e;for(;Xe.sibling===null;){if(Xe.return===null||Xe.return===d)break e;Ye===Xe&&(Ye=null),Xe=Xe.return}Ye===Xe&&(Ye=null),Xe.sibling.return=Xe.return,Xe=Xe.sibling}}break;case 19:Ro(h,d),ss(d),N&4&&YC(d);break;case 21:break;default:Ro(h,d),ss(d)}}function ss(d){var h=d.flags;if(h&2){try{e:{for(var b=d.return;b!==null;){if(KC(b)){var N=b;break e}b=b.return}throw Error(n(160))}switch(N.tag){case 5:var q=N.stateNode;N.flags&32&&(le(q,""),N.flags&=-33);var V=VC(d);kw(d,V,q);break;case 3:case 4:var oe=N.stateNode.containerInfo,ve=VC(d);Iw(d,ve,oe);break;default:throw Error(n(161))}}catch(xe){Bn(d,d.return,xe)}d.flags&=-3}h&4096&&(d.flags&=-4097)}function sB(d,h,b){ft=d,ZC(d)}function ZC(d,h,b){for(var N=(d.mode&1)!==0;ft!==null;){var q=ft,V=q.child;if(q.tag===22&&N){var oe=q.memoizedState!==null||x0;if(!oe){var ve=q.alternate,xe=ve!==null&&ve.memoizedState!==null||Nr;ve=x0;var Pe=Nr;if(x0=oe,(Nr=xe)&&!Pe)for(ft=q;ft!==null;)oe=ft,xe=oe.child,oe.tag===22&&oe.memoizedState!==null?e4(q):xe!==null?(xe.return=oe,ft=xe):e4(q);for(;V!==null;)ft=V,ZC(V),V=V.sibling;ft=q,x0=ve,Nr=Pe}QC(d)}else(q.subtreeFlags&8772)!==0&&V!==null?(V.return=q,ft=V):QC(d)}}function QC(d){for(;ft!==null;){var h=ft;if((h.flags&8772)!==0){var b=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Nr||_0(5,h);break;case 1:var N=h.stateNode;if(h.flags&4&&!Nr)if(b===null)N.componentDidMount();else{var q=h.elementType===h.type?b.memoizedProps:Mo(h.type,b.memoizedProps);N.componentDidUpdate(q,b.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var V=h.updateQueue;V!==null&&XS(h,V,N);break;case 3:var oe=h.updateQueue;if(oe!==null){if(b=null,h.child!==null)switch(h.child.tag){case 5:b=h.child.stateNode;break;case 1:b=h.child.stateNode}XS(h,oe,b)}break;case 5:var ve=h.stateNode;if(b===null&&h.flags&4){b=ve;var xe=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":xe.autoFocus&&b.focus();break;case"img":xe.src&&(b.src=xe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var Pe=h.alternate;if(Pe!==null){var Ye=Pe.memoizedState;if(Ye!==null){var Xe=Ye.dehydrated;Xe!==null&&cc(Xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Nr||h.flags&512&&Aw(h)}catch(Ke){Bn(h,h.return,Ke)}}if(h===d){ft=null;break}if(b=h.sibling,b!==null){b.return=h.return,ft=b;break}ft=h.return}}function XC(d){for(;ft!==null;){var h=ft;if(h===d){ft=null;break}var b=h.sibling;if(b!==null){b.return=h.return,ft=b;break}ft=h.return}}function e4(d){for(;ft!==null;){var h=ft;try{switch(h.tag){case 0:case 11:case 15:var b=h.return;try{_0(4,h)}catch(xe){Bn(h,b,xe)}break;case 1:var N=h.stateNode;if(typeof N.componentDidMount=="function"){var q=h.return;try{N.componentDidMount()}catch(xe){Bn(h,q,xe)}}var V=h.return;try{Aw(h)}catch(xe){Bn(h,V,xe)}break;case 5:var oe=h.return;try{Aw(h)}catch(xe){Bn(h,oe,xe)}}}catch(xe){Bn(h,h.return,xe)}if(h===d){ft=null;break}var ve=h.sibling;if(ve!==null){ve.return=h.return,ft=ve;break}ft=h.return}}var aB=Math.ceil,S0=$.ReactCurrentDispatcher,Mw=$.ReactCurrentOwner,Zi=$.ReactCurrentBatchConfig,tn=0,lr=null,Qn=null,wr=0,Ni=0,Gu=za(0),nr=0,Nf=null,vc=0,C0=0,Ow=0,Lf=null,fi=null,Rw=0,Yu=1/0,Ws=null,A0=!1,Tw=null,Ga=null,I0=!1,Ya=null,k0=0,Df=0,Pw=null,M0=-1,O0=0;function Yr(){return(tn&6)!==0?vn():M0!==-1?M0:M0=vn()}function Ja(d){return(d.mode&1)===0?1:(tn&2)!==0&&wr!==0?wr&-wr:HD.transition!==null?(O0===0&&(O0=Up()),O0):(d=Xt,d!==0||(d=window.event,d=d===void 0?16:qn(d.type)),d)}function To(d,h,b,N){if(50<Df)throw Df=0,Pw=null,Error(n(185));sc(d,b,N),((tn&2)===0||d!==lr)&&(d===lr&&((tn&2)===0&&(C0|=b),nr===4&&Za(d,wr)),hi(d,N),b===1&&tn===0&&(h.mode&1)===0&&(Yu=vn()+500,i0&&Ha()))}function hi(d,h){var b=d.callbackNode;by(d,h);var N=oc(d,d===lr?wr:0);if(N===0)b!==null&&ai(b),d.callbackNode=null,d.callbackPriority=0;else if(h=N&-N,d.callbackPriority!==h){if(b!=null&&ai(b),h===1)d.tag===0?qD(n4.bind(null,d)):US(n4.bind(null,d)),$D(function(){(tn&6)===0&&Ha()}),b=null;else{switch(Bs(N)){case 1:b=Ds;break;case 4:b=_o;break;case 16:b=Jo;break;case 536870912:b=Kr;break;default:b=Jo}b=u4(b,t4.bind(null,d))}d.callbackPriority=h,d.callbackNode=b}}function t4(d,h){if(M0=-1,O0=0,(tn&6)!==0)throw Error(n(327));var b=d.callbackNode;if(Ju()&&d.callbackNode!==b)return null;var N=oc(d,d===lr?wr:0);if(N===0)return null;if((N&30)!==0||(N&d.expiredLanes)!==0||h)h=R0(d,N);else{h=N;var q=tn;tn|=2;var V=i4();(lr!==d||wr!==h)&&(Ws=null,Yu=vn()+500,wc(d,h));do try{uB();break}catch(ve){r4(d,ve)}while(!0);Zy(),S0.current=V,tn=q,Qn!==null?h=0:(lr=null,wr=0,h=nr)}if(h!==0){if(h===2&&(q=af(d),q!==0&&(N=q,h=Nw(d,q))),h===1)throw b=Nf,wc(d,0),Za(d,N),hi(d,vn()),b;if(h===6)Za(d,N);else{if(q=d.current.alternate,(N&30)===0&&!lB(q)&&(h=R0(d,N),h===2&&(V=af(d),V!==0&&(N=V,h=Nw(d,V))),h===1))throw b=Nf,wc(d,0),Za(d,N),hi(d,vn()),b;switch(d.finishedWork=q,d.finishedLanes=N,h){case 0:case 1:throw Error(n(345));case 2:bc(d,fi,Ws);break;case 3:if(Za(d,N),(N&130023424)===N&&(h=Rw+500-vn(),10<h)){if(oc(d,0)!==0)break;if(q=d.suspendedLanes,(q&N)!==N){Yr(),d.pingedLanes|=d.suspendedLanes&q;break}d.timeoutHandle=Fy(bc.bind(null,d,fi,Ws),h);break}bc(d,fi,Ws);break;case 4:if(Za(d,N),(N&4194240)===N)break;for(h=d.eventTimes,q=-1;0<N;){var oe=31-Ri(N);V=1<<oe,oe=h[oe],oe>q&&(q=oe),N&=~V}if(N=q,N=vn()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*aB(N/1960))-N,10<N){d.timeoutHandle=Fy(bc.bind(null,d,fi,Ws),N);break}bc(d,fi,Ws);break;case 5:bc(d,fi,Ws);break;default:throw Error(n(329))}}}return hi(d,vn()),d.callbackNode===b?t4.bind(null,d):null}function Nw(d,h){var b=Lf;return d.current.memoizedState.isDehydrated&&(wc(d,h).flags|=256),d=R0(d,h),d!==2&&(h=fi,fi=b,h!==null&&Lw(h)),d}function Lw(d){fi===null?fi=d:fi.push.apply(fi,d)}function lB(d){for(var h=d;;){if(h.flags&16384){var b=h.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var N=0;N<b.length;N++){var q=b[N],V=q.getSnapshot;q=q.value;try{if(!Io(V(),q))return!1}catch{return!1}}}if(b=h.child,h.subtreeFlags&16384&&b!==null)b.return=h,h=b;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Za(d,h){for(h&=~Ow,h&=~C0,d.suspendedLanes|=h,d.pingedLanes&=~h,d=d.expirationTimes;0<h;){var b=31-Ri(h),N=1<<b;d[b]=-1,h&=~N}}function n4(d){if((tn&6)!==0)throw Error(n(327));Ju();var h=oc(d,0);if((h&1)===0)return hi(d,vn()),null;var b=R0(d,h);if(d.tag!==0&&b===2){var N=af(d);N!==0&&(h=N,b=Nw(d,N))}if(b===1)throw b=Nf,wc(d,0),Za(d,h),hi(d,vn()),b;if(b===6)throw Error(n(345));return d.finishedWork=d.current.alternate,d.finishedLanes=h,bc(d,fi,Ws),hi(d,vn()),null}function Dw(d,h){var b=tn;tn|=1;try{return d(h)}finally{tn=b,tn===0&&(Yu=vn()+500,i0&&Ha())}}function yc(d){Ya!==null&&Ya.tag===0&&(tn&6)===0&&Ju();var h=tn;tn|=1;var b=Zi.transition,N=Xt;try{if(Zi.transition=null,Xt=1,d)return d()}finally{Xt=N,Zi.transition=b,tn=h,(tn&6)===0&&Ha()}}function Bw(){Ni=Gu.current,In(Gu)}function wc(d,h){d.finishedWork=null,d.finishedLanes=0;var b=d.timeoutHandle;if(b!==-1&&(d.timeoutHandle=-1,jD(b)),Qn!==null)for(b=Qn.return;b!==null;){var N=b;switch(Ky(N),N.tag){case 1:N=N.type.childContextTypes,N!=null&&n0();break;case 3:Wu(),In(ci),In(Rr),ow();break;case 5:rw(N);break;case 4:Wu();break;case 13:In(Rn);break;case 19:In(Rn);break;case 10:Qy(N.type._context);break;case 22:case 23:Bw()}b=b.return}if(lr=d,Qn=d=Qa(d.current,null),wr=Ni=h,nr=0,Nf=null,Ow=C0=vc=0,fi=Lf=null,pc!==null){for(h=0;h<pc.length;h++)if(b=pc[h],N=b.interleaved,N!==null){b.interleaved=null;var q=N.next,V=b.pending;if(V!==null){var oe=V.next;V.next=q,N.next=oe}b.pending=N}pc=null}return d}function r4(d,h){do{var b=Qn;try{if(Zy(),p0.current=y0,g0){for(var N=Tn.memoizedState;N!==null;){var q=N.queue;q!==null&&(q.pending=null),N=N.next}g0=!1}if(mc=0,ar=tr=Tn=null,kf=!1,Mf=0,Mw.current=null,b===null||b.return===null){nr=1,Nf=h,Qn=null;break}e:{var V=d,oe=b.return,ve=b,xe=h;if(h=wr,ve.flags|=32768,xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var Pe=xe,Ye=ve,Xe=Ye.tag;if((Ye.mode&1)===0&&(Xe===0||Xe===11||Xe===15)){var Ke=Ye.alternate;Ke?(Ye.updateQueue=Ke.updateQueue,Ye.memoizedState=Ke.memoizedState,Ye.lanes=Ke.lanes):(Ye.updateQueue=null,Ye.memoizedState=null)}var lt=kC(oe);if(lt!==null){lt.flags&=-257,MC(lt,oe,ve,V,h),lt.mode&1&&IC(V,Pe,h),h=lt,xe=Pe;var pt=h.updateQueue;if(pt===null){var vt=new Set;vt.add(xe),h.updateQueue=vt}else pt.add(xe);break e}else{if((h&1)===0){IC(V,Pe,h),jw();break e}xe=Error(n(426))}}else if(kn&&ve.mode&1){var Wn=kC(oe);if(Wn!==null){(Wn.flags&65536)===0&&(Wn.flags|=256),MC(Wn,oe,ve,V,h),Yy(Ku(xe,ve));break e}}V=xe=Ku(xe,ve),nr!==4&&(nr=2),Lf===null?Lf=[V]:Lf.push(V),V=oe;do{switch(V.tag){case 3:V.flags|=65536,h&=-h,V.lanes|=h;var Me=CC(V,xe,h);QS(V,Me);break e;case 1:ve=xe;var Se=V.type,Oe=V.stateNode;if((V.flags&128)===0&&(typeof Se.getDerivedStateFromError=="function"||Oe!==null&&typeof Oe.componentDidCatch=="function"&&(Ga===null||!Ga.has(Oe)))){V.flags|=65536,h&=-h,V.lanes|=h;var tt=AC(V,ve,h);QS(V,tt);break e}}V=V.return}while(V!==null)}s4(b)}catch(yt){h=yt,Qn===b&&b!==null&&(Qn=b=b.return);continue}break}while(!0)}function i4(){var d=S0.current;return S0.current=y0,d===null?y0:d}function jw(){(nr===0||nr===3||nr===2)&&(nr=4),lr===null||(vc&268435455)===0&&(C0&268435455)===0||Za(lr,wr)}function R0(d,h){var b=tn;tn|=2;var N=i4();(lr!==d||wr!==h)&&(Ws=null,wc(d,h));do try{cB();break}catch(q){r4(d,q)}while(!0);if(Zy(),tn=b,S0.current=N,Qn!==null)throw Error(n(261));return lr=null,wr=0,nr}function cB(){for(;Qn!==null;)o4(Qn)}function uB(){for(;Qn!==null&&!ec();)o4(Qn)}function o4(d){var h=c4(d.alternate,d,Ni);d.memoizedProps=d.pendingProps,h===null?s4(d):Qn=h,Mw.current=null}function s4(d){var h=d;do{var b=h.alternate;if(d=h.return,(h.flags&32768)===0){if(b=nB(b,h,Ni),b!==null){Qn=b;return}}else{if(b=rB(b,h),b!==null){b.flags&=32767,Qn=b;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{nr=6,Qn=null;return}}if(h=h.sibling,h!==null){Qn=h;return}Qn=h=d}while(h!==null);nr===0&&(nr=5)}function bc(d,h,b){var N=Xt,q=Zi.transition;try{Zi.transition=null,Xt=1,dB(d,h,b,N)}finally{Zi.transition=q,Xt=N}return null}function dB(d,h,b,N){do Ju();while(Ya!==null);if((tn&6)!==0)throw Error(n(327));b=d.finishedWork;var q=d.finishedLanes;if(b===null)return null;if(d.finishedWork=null,d.finishedLanes=0,b===d.current)throw Error(n(177));d.callbackNode=null,d.callbackPriority=0;var V=b.lanes|b.childLanes;if(Ey(d,V),d===lr&&(Qn=lr=null,wr=0),(b.subtreeFlags&2064)===0&&(b.flags&2064)===0||I0||(I0=!0,u4(Jo,function(){return Ju(),null})),V=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||V){V=Zi.transition,Zi.transition=null;var oe=Xt;Xt=1;var ve=tn;tn|=4,Mw.current=null,oB(d,b),JC(b,d),RD(jy),Ce=!!By,jy=By=null,d.current=b,sB(b),tc(),tn=ve,Xt=oe,Zi.transition=V}else d.current=b;if(I0&&(I0=!1,Ya=d,k0=q),V=d.pendingLanes,V===0&&(Ga=null),ic(b.stateNode),hi(d,vn()),h!==null)for(N=d.onRecoverableError,b=0;b<h.length;b++)q=h[b],N(q.value,{componentStack:q.stack,digest:q.digest});if(A0)throw A0=!1,d=Tw,Tw=null,d;return(k0&1)!==0&&d.tag!==0&&Ju(),V=d.pendingLanes,(V&1)!==0?d===Pw?Df++:(Df=0,Pw=d):Df=0,Ha(),null}function Ju(){if(Ya!==null){var d=Bs(k0),h=Zi.transition,b=Xt;try{if(Zi.transition=null,Xt=16>d?16:d,Ya===null)var N=!1;else{if(d=Ya,Ya=null,k0=0,(tn&6)!==0)throw Error(n(331));var q=tn;for(tn|=4,ft=d.current;ft!==null;){var V=ft,oe=V.child;if((ft.flags&16)!==0){var ve=V.deletions;if(ve!==null){for(var xe=0;xe<ve.length;xe++){var Pe=ve[xe];for(ft=Pe;ft!==null;){var Ye=ft;switch(Ye.tag){case 0:case 11:case 15:Pf(8,Ye,V)}var Xe=Ye.child;if(Xe!==null)Xe.return=Ye,ft=Xe;else for(;ft!==null;){Ye=ft;var Ke=Ye.sibling,lt=Ye.return;if(WC(Ye),Ye===Pe){ft=null;break}if(Ke!==null){Ke.return=lt,ft=Ke;break}ft=lt}}}var pt=V.alternate;if(pt!==null){var vt=pt.child;if(vt!==null){pt.child=null;do{var Wn=vt.sibling;vt.sibling=null,vt=Wn}while(vt!==null)}}ft=V}}if((V.subtreeFlags&2064)!==0&&oe!==null)oe.return=V,ft=oe;else e:for(;ft!==null;){if(V=ft,(V.flags&2048)!==0)switch(V.tag){case 0:case 11:case 15:Pf(9,V,V.return)}var Me=V.sibling;if(Me!==null){Me.return=V.return,ft=Me;break e}ft=V.return}}var Se=d.current;for(ft=Se;ft!==null;){oe=ft;var Oe=oe.child;if((oe.subtreeFlags&2064)!==0&&Oe!==null)Oe.return=oe,ft=Oe;else e:for(oe=Se;ft!==null;){if(ve=ft,(ve.flags&2048)!==0)try{switch(ve.tag){case 0:case 11:case 15:_0(9,ve)}}catch(yt){Bn(ve,ve.return,yt)}if(ve===oe){ft=null;break e}var tt=ve.sibling;if(tt!==null){tt.return=ve.return,ft=tt;break e}ft=ve.return}}if(tn=q,Ha(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(Zo,d)}catch{}N=!0}return N}finally{Xt=b,Zi.transition=h}}return!1}function a4(d,h,b){h=Ku(b,h),h=CC(d,h,1),d=Ka(d,h,1),h=Yr(),d!==null&&(sc(d,1,h),hi(d,h))}function Bn(d,h,b){if(d.tag===3)a4(d,d,b);else for(;h!==null;){if(h.tag===3){a4(h,d,b);break}else if(h.tag===1){var N=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(Ga===null||!Ga.has(N))){d=Ku(b,d),d=AC(h,d,1),h=Ka(h,d,1),d=Yr(),h!==null&&(sc(h,1,d),hi(h,d));break}}h=h.return}}function fB(d,h,b){var N=d.pingCache;N!==null&&N.delete(h),h=Yr(),d.pingedLanes|=d.suspendedLanes&b,lr===d&&(wr&b)===b&&(nr===4||nr===3&&(wr&130023424)===wr&&500>vn()-Rw?wc(d,0):Ow|=b),hi(d,h)}function l4(d,h){h===0&&((d.mode&1)===0?h=1:(h=Qo,Qo<<=1,(Qo&130023424)===0&&(Qo=4194304)));var b=Yr();d=zs(d,h),d!==null&&(sc(d,h,b),hi(d,b))}function hB(d){var h=d.memoizedState,b=0;h!==null&&(b=h.retryLane),l4(d,b)}function pB(d,h){var b=0;switch(d.tag){case 13:var N=d.stateNode,q=d.memoizedState;q!==null&&(b=q.retryLane);break;case 19:N=d.stateNode;break;default:throw Error(n(314))}N!==null&&N.delete(h),l4(d,b)}var c4;c4=function(d,h,b){if(d!==null)if(d.memoizedProps!==h.pendingProps||ci.current)di=!0;else{if((d.lanes&b)===0&&(h.flags&128)===0)return di=!1,tB(d,h,b);di=(d.flags&131072)!==0}else di=!1,kn&&(h.flags&1048576)!==0&&zS(h,s0,h.index);switch(h.lanes=0,h.tag){case 2:var N=h.type;E0(d,h),d=h.pendingProps;var q=ju(h,Rr.current);Hu(h,b),q=lw(null,h,N,d,q,b);var V=cw();return h.flags|=1,typeof q=="object"&&q!==null&&typeof q.render=="function"&&q.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,ui(N)?(V=!0,r0(h)):V=!1,h.memoizedState=q.state!==null&&q.state!==void 0?q.state:null,tw(h),q.updater=w0,h.stateNode=q,q._reactInternals=h,gw(h,N,d,b),h=ww(null,h,N,!0,V,b)):(h.tag=0,kn&&V&&Wy(h),Gr(null,h,q,b),h=h.child),h;case 16:N=h.elementType;e:{switch(E0(d,h),d=h.pendingProps,q=N._init,N=q(N._payload),h.type=N,q=h.tag=mB(N),d=Mo(N,d),q){case 0:h=yw(null,h,N,d,b);break e;case 1:h=LC(null,h,N,d,b);break e;case 11:h=OC(null,h,N,d,b);break e;case 14:h=RC(null,h,N,Mo(N.type,d),b);break e}throw Error(n(306,N,""))}return h;case 0:return N=h.type,q=h.pendingProps,q=h.elementType===N?q:Mo(N,q),yw(d,h,N,q,b);case 1:return N=h.type,q=h.pendingProps,q=h.elementType===N?q:Mo(N,q),LC(d,h,N,q,b);case 3:e:{if(DC(h),d===null)throw Error(n(387));N=h.pendingProps,V=h.memoizedState,q=V.element,ZS(d,h),f0(h,N,null,b);var oe=h.memoizedState;if(N=oe.element,V.isDehydrated)if(V={element:N,isDehydrated:!1,cache:oe.cache,pendingSuspenseBoundaries:oe.pendingSuspenseBoundaries,transitions:oe.transitions},h.updateQueue.baseState=V,h.memoizedState=V,h.flags&256){q=Ku(Error(n(423)),h),h=BC(d,h,N,b,q);break e}else if(N!==q){q=Ku(Error(n(424)),h),h=BC(d,h,N,b,q);break e}else for(Pi=Ua(h.stateNode.containerInfo.firstChild),Ti=h,kn=!0,ko=null,b=YS(h,null,N,b),h.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(Uu(),N===q){h=Hs(d,h,b);break e}Gr(d,h,N,b)}h=h.child}return h;case 5:return eC(h),d===null&&Gy(h),N=h.type,q=h.pendingProps,V=d!==null?d.memoizedProps:null,oe=q.children,$y(N,q)?oe=null:V!==null&&$y(N,V)&&(h.flags|=32),NC(d,h),Gr(d,h,oe,b),h.child;case 6:return d===null&&Gy(h),null;case 13:return jC(d,h,b);case 4:return nw(h,h.stateNode.containerInfo),N=h.pendingProps,d===null?h.child=zu(h,null,N,b):Gr(d,h,N,b),h.child;case 11:return N=h.type,q=h.pendingProps,q=h.elementType===N?q:Mo(N,q),OC(d,h,N,q,b);case 7:return Gr(d,h,h.pendingProps,b),h.child;case 8:return Gr(d,h,h.pendingProps.children,b),h.child;case 12:return Gr(d,h,h.pendingProps.children,b),h.child;case 10:e:{if(N=h.type._context,q=h.pendingProps,V=h.memoizedProps,oe=q.value,xn(c0,N._currentValue),N._currentValue=oe,V!==null)if(Io(V.value,oe)){if(V.children===q.children&&!ci.current){h=Hs(d,h,b);break e}}else for(V=h.child,V!==null&&(V.return=h);V!==null;){var ve=V.dependencies;if(ve!==null){oe=V.child;for(var xe=ve.firstContext;xe!==null;){if(xe.context===N){if(V.tag===1){xe=qs(-1,b&-b),xe.tag=2;var Pe=V.updateQueue;if(Pe!==null){Pe=Pe.shared;var Ye=Pe.pending;Ye===null?xe.next=xe:(xe.next=Ye.next,Ye.next=xe),Pe.pending=xe}}V.lanes|=b,xe=V.alternate,xe!==null&&(xe.lanes|=b),Xy(V.return,b,h),ve.lanes|=b;break}xe=xe.next}}else if(V.tag===10)oe=V.type===h.type?null:V.child;else if(V.tag===18){if(oe=V.return,oe===null)throw Error(n(341));oe.lanes|=b,ve=oe.alternate,ve!==null&&(ve.lanes|=b),Xy(oe,b,h),oe=V.sibling}else oe=V.child;if(oe!==null)oe.return=V;else for(oe=V;oe!==null;){if(oe===h){oe=null;break}if(V=oe.sibling,V!==null){V.return=oe.return,oe=V;break}oe=oe.return}V=oe}Gr(d,h,q.children,b),h=h.child}return h;case 9:return q=h.type,N=h.pendingProps.children,Hu(h,b),q=Yi(q),N=N(q),h.flags|=1,Gr(d,h,N,b),h.child;case 14:return N=h.type,q=Mo(N,h.pendingProps),q=Mo(N.type,q),RC(d,h,N,q,b);case 15:return TC(d,h,h.type,h.pendingProps,b);case 17:return N=h.type,q=h.pendingProps,q=h.elementType===N?q:Mo(N,q),E0(d,h),h.tag=1,ui(N)?(d=!0,r0(h)):d=!1,Hu(h,b),_C(h,N,q),gw(h,N,q,b),ww(null,h,N,!0,d,b);case 19:return FC(d,h,b);case 22:return PC(d,h,b)}throw Error(n(156,h.tag))};function u4(d,h){return La(d,h)}function gB(d,h,b,N){this.tag=d,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(d,h,b,N){return new gB(d,h,b,N)}function $w(d){return d=d.prototype,!(!d||!d.isReactComponent)}function mB(d){if(typeof d=="function")return $w(d)?1:0;if(d!=null){if(d=d.$$typeof,d===y)return 11;if(d===C)return 14}return 2}function Qa(d,h){var b=d.alternate;return b===null?(b=Qi(d.tag,h,d.key,d.mode),b.elementType=d.elementType,b.type=d.type,b.stateNode=d.stateNode,b.alternate=d,d.alternate=b):(b.pendingProps=h,b.type=d.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=d.flags&14680064,b.childLanes=d.childLanes,b.lanes=d.lanes,b.child=d.child,b.memoizedProps=d.memoizedProps,b.memoizedState=d.memoizedState,b.updateQueue=d.updateQueue,h=d.dependencies,b.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},b.sibling=d.sibling,b.index=d.index,b.ref=d.ref,b}function T0(d,h,b,N,q,V){var oe=2;if(N=d,typeof d=="function")$w(d)&&(oe=1);else if(typeof d=="string")oe=5;else e:switch(d){case H:return Ec(b.children,q,V,h);case P:oe=8,q|=8;break;case D:return d=Qi(12,b,h,q|2),d.elementType=D,d.lanes=V,d;case E:return d=Qi(13,b,h,q),d.elementType=E,d.lanes=V,d;case S:return d=Qi(19,b,h,q),d.elementType=S,d.lanes=V,d;case j:return P0(b,q,V,h);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case B:oe=10;break e;case O:oe=9;break e;case y:oe=11;break e;case C:oe=14;break e;case T:oe=16,N=null;break e}throw Error(n(130,d==null?d:typeof d,""))}return h=Qi(oe,b,h,q),h.elementType=d,h.type=N,h.lanes=V,h}function Ec(d,h,b,N){return d=Qi(7,d,N,h),d.lanes=b,d}function P0(d,h,b,N){return d=Qi(22,d,N,h),d.elementType=j,d.lanes=b,d.stateNode={isHidden:!1},d}function Fw(d,h,b){return d=Qi(6,d,null,h),d.lanes=b,d}function Uw(d,h,b){return h=Qi(4,d.children!==null?d.children:[],d.key,h),h.lanes=b,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}function vB(d,h,b,N,q){this.tag=h,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Iu(0),this.expirationTimes=Iu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Iu(0),this.identifierPrefix=N,this.onRecoverableError=q,this.mutableSourceEagerHydrationData=null}function zw(d,h,b,N,q,V,oe,ve,xe){return d=new vB(d,h,b,ve,xe),h===1?(h=1,V===!0&&(h|=8)):h=0,V=Qi(3,null,null,h),d.current=V,V.stateNode=d,V.memoizedState={element:N,isDehydrated:b,cache:null,transitions:null,pendingSuspenseBoundaries:null},tw(V),d}function yB(d,h,b){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:N==null?null:""+N,children:d,containerInfo:h,implementation:b}}function d4(d){if(!d)return qa;d=d._reactInternals;e:{if(Qt(d)!==d||d.tag!==1)throw Error(n(170));var h=d;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(ui(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(n(171))}if(d.tag===1){var b=d.type;if(ui(b))return $S(d,b,h)}return h}function f4(d,h,b,N,q,V,oe,ve,xe){return d=zw(b,N,!0,d,q,V,oe,ve,xe),d.context=d4(null),b=d.current,N=Yr(),q=Ja(b),V=qs(N,q),V.callback=h??null,Ka(b,V,q),d.current.lanes=q,sc(d,q,N),hi(d,N),d}function N0(d,h,b,N){var q=h.current,V=Yr(),oe=Ja(q);return b=d4(b),h.context===null?h.context=b:h.pendingContext=b,h=qs(V,oe),h.payload={element:d},N=N===void 0?null:N,N!==null&&(h.callback=N),d=Ka(q,h,oe),d!==null&&(To(d,q,oe,V),d0(d,q,oe)),oe}function L0(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function h4(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var b=d.retryLane;d.retryLane=b!==0&&b<h?b:h}}function qw(d,h){h4(d,h),(d=d.alternate)&&h4(d,h)}function wB(){return null}var p4=typeof reportError=="function"?reportError:function(d){console.error(d)};function Hw(d){this._internalRoot=d}D0.prototype.render=Hw.prototype.render=function(d){var h=this._internalRoot;if(h===null)throw Error(n(409));N0(d,h,null,null)},D0.prototype.unmount=Hw.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var h=d.containerInfo;yc(function(){N0(null,d,null,null)}),h[js]=null}};function D0(d){this._internalRoot=d}D0.prototype.unstable_scheduleHydration=function(d){if(d){var h=qp();d={blockedOn:null,target:d,priority:h};for(var b=0;b<ts.length&&h!==0&&h<ts[b].priority;b++);ts.splice(b,0,d),b===0&&df(d)}};function Ww(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function B0(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function g4(){}function bB(d,h,b,N,q){if(q){if(typeof N=="function"){var V=N;N=function(){var Pe=L0(oe);V.call(Pe)}}var oe=f4(h,N,d,0,null,!1,!1,"",g4);return d._reactRootContainer=oe,d[js]=oe.current,bf(d.nodeType===8?d.parentNode:d),yc(),oe}for(;q=d.lastChild;)d.removeChild(q);if(typeof N=="function"){var ve=N;N=function(){var Pe=L0(xe);ve.call(Pe)}}var xe=zw(d,0,!1,null,null,!1,!1,"",g4);return d._reactRootContainer=xe,d[js]=xe.current,bf(d.nodeType===8?d.parentNode:d),yc(function(){N0(h,xe,b,N)}),xe}function j0(d,h,b,N,q){var V=b._reactRootContainer;if(V){var oe=V;if(typeof q=="function"){var ve=q;q=function(){var xe=L0(oe);ve.call(xe)}}N0(h,oe,d,q)}else oe=bB(b,h,d,q,N);return L0(oe)}zp=function(d){switch(d.tag){case 3:var h=d.stateNode;if(h.current.memoizedState.isDehydrated){var b=Da(h.pendingLanes);b!==0&&(ku(h,b|1),hi(h,vn()),(tn&6)===0&&(Yu=vn()+500,Ha()))}break;case 13:yc(function(){var N=zs(d,1);if(N!==null){var q=Yr();To(N,d,1,q)}}),qw(d,1)}},lf=function(d){if(d.tag===13){var h=zs(d,134217728);if(h!==null){var b=Yr();To(h,d,134217728,b)}qw(d,134217728)}},So=function(d){if(d.tag===13){var h=Ja(d),b=zs(d,h);if(b!==null){var N=Yr();To(b,d,h,N)}qw(d,h)}},qp=function(){return Xt},Hp=function(d,h){var b=Xt;try{return Xt=d,h()}finally{Xt=b}},Zt=function(d,h,b){switch(h){case"input":if(Ee(d,b),h=b.name,b.type==="radio"&&h!=null){for(b=d;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<b.length;h++){var N=b[h];if(N!==d&&N.form===d.form){var q=t0(N);if(!q)throw Error(n(90));se(N),Ee(N,q)}}}break;case"textarea":He(d,b);break;case"select":h=b.value,h!=null&&Ie(d,!!b.multiple,h,!1)}},wt=Dw,ce=yc;var EB={usingClientEntryPoint:!1,Events:[_f,Du,t0,Ht,It,Dw]},Bf={findFiberByHostInstance:uc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xB={bundleType:Bf.bundleType,version:Bf.version,rendererPackageName:Bf.rendererPackageName,rendererConfig:Bf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=or(d),d===null?null:d.stateNode},findFiberByHostInstance:Bf.findFiberByHostInstance||wB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$0.isDisabled&&$0.supportsFiber)try{Zo=$0.inject(xB),kr=$0}catch{}}return pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EB,pi.createPortal=function(d,h){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ww(h))throw Error(n(200));return yB(d,h,null,b)},pi.createRoot=function(d,h){if(!Ww(d))throw Error(n(299));var b=!1,N="",q=p4;return h!=null&&(h.unstable_strictMode===!0&&(b=!0),h.identifierPrefix!==void 0&&(N=h.identifierPrefix),h.onRecoverableError!==void 0&&(q=h.onRecoverableError)),h=zw(d,1,!1,null,null,b,!1,N,q),d[js]=h.current,bf(d.nodeType===8?d.parentNode:d),new Hw(h)},pi.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=or(h),d=d===null?null:d.stateNode,d},pi.flushSync=function(d){return yc(d)},pi.hydrate=function(d,h,b){if(!B0(h))throw Error(n(200));return j0(null,d,h,!0,b)},pi.hydrateRoot=function(d,h,b){if(!Ww(d))throw Error(n(405));var N=b!=null&&b.hydratedSources||null,q=!1,V="",oe=p4;if(b!=null&&(b.unstable_strictMode===!0&&(q=!0),b.identifierPrefix!==void 0&&(V=b.identifierPrefix),b.onRecoverableError!==void 0&&(oe=b.onRecoverableError)),h=f4(h,null,d,1,b??null,q,!1,V,oe),d[js]=h.current,bf(d),N)for(d=0;d<N.length;d++)b=N[d],q=b._getVersion,q=q(b._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[b,q]:h.mutableSourceEagerHydrationData.push(b,q);return new D0(h)},pi.render=function(d,h,b){if(!B0(h))throw Error(n(200));return j0(null,d,h,!1,b)},pi.unmountComponentAtNode=function(d){if(!B0(d))throw Error(n(40));return d._reactRootContainer?(yc(function(){j0(null,null,d,!1,function(){d._reactRootContainer=null,d[js]=null})}),!0):!1},pi.unstable_batchedUpdates=Dw,pi.unstable_renderSubtreeIntoContainer=function(d,h,b,N){if(!B0(b))throw Error(n(200));if(d==null||d._reactInternals===void 0)throw Error(n(38));return j0(d,h,b,!1,N)},pi.version="18.3.1-next-f1338f8080-20240426",pi}var k4;function jB(){if(k4)return Zw.exports;k4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zw.exports=BB(),Zw.exports}var M4;function $B(){if(M4)return z0;M4=1;var t=jB();return z0.createRoot=t.createRoot,z0.hydrateRoot=t.hydrateRoot,z0}var nR=$B();const FB=Hi(nR);var fe=Mv();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var O4="popstate";function UB(t={}){function e(i,o){let{pathname:a="/",search:s="",hash:l=""}=vu(i.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),R2("",{pathname:a,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");s=c===-1?l:l.slice(0,c)}return s+"#"+(typeof o=="string"?o:Mh(o))}function r(i,o){Eo(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return qB(e,n,r,t)}function Mn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Eo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zB(){return Math.random().toString(36).substring(2,10)}function R4(t,e){return{usr:t.state,key:t.key,idx:e}}function R2(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?vu(e):e,state:n,key:e&&e.key||r||zB()}}function Mh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function vu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function qB(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s="POP",l=null,c=u();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function u(){return(a.state||{idx:null}).idx}function f(){s="POP";let _=u(),w=_==null?null:_-c;c=_,l&&l({action:s,location:v.location,delta:w})}function p(_,w){s="PUSH";let I=R2(v.location,_,w);n&&n(I,_),c=u()+1;let k=R4(I,c),$=v.createHref(I);try{a.pushState(k,"",$)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign($)}o&&l&&l({action:s,location:v.location,delta:1})}function g(_,w){s="REPLACE";let I=R2(v.location,_,w);n&&n(I,_),c=u();let k=R4(I,c),$=v.createHref(I);a.replaceState(k,"",$),o&&l&&l({action:s,location:v.location,delta:0})}function m(_){return HB(_)}let v={get action(){return s},get location(){return t(i,a)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(O4,f),l=_,()=>{i.removeEventListener(O4,f),l=null}},createHref(_){return e(i,_)},createURL:m,encodeLocation(_){let w=m(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(_){return a.go(_)}};return v}function HB(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Mn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Mh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function rR(t,e,n="/"){return WB(t,e,n,!1)}function WB(t,e,n,r){let i=typeof e=="string"?vu(e):e,o=Sa(i.pathname||"/",n);if(o==null)return null;let a=iR(t);KB(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let c=rj(o);s=tj(a[l],c,r)}return s}function iR(t,e=[],n=[],r="",i=!1){let o=(a,s,l=i,c)=>{let u={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(r)&&l)return;Mn(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length)}let f=wa([r,u.relativePath]),p=n.concat(u);a.children&&a.children.length>0&&(Mn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),iR(a.children,e,p,f,l)),!(a.path==null&&!a.index)&&e.push({path:f,score:XB(f,a.index),routesMeta:p})};return t.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))o(a,s);else for(let c of oR(a.path))o(a,s,!0,c)}),e}function oR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=oR(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function KB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ej(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var VB=/^:[\w-]+$/,GB=3,YB=2,JB=1,ZB=10,QB=-2,T4=t=>t==="*";function XB(t,e){let n=t.split("/"),r=n.length;return n.some(T4)&&(r+=QB),e&&(r+=YB),n.filter(i=>!T4(i)).reduce((i,o)=>i+(VB.test(o)?GB:o===""?JB:ZB),r)}function ej(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function tj(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",f=Lm({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Lm({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:wa([o,f.pathname]),pathnameBase:aj(wa([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=wa([o,f.pathnameBase]))}return a}function Lm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nj(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:f},p)=>{if(u==="*"){let m=s[p]||"";a=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const g=s[p];return f&&!g?c[u]=void 0:c[u]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:t}}function nj(t,e=!1,n=!0){Eo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function rj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Eo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Sa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ij(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?vu(t):t;return{pathname:n?n.startsWith("/")?n:oj(n,e):e,search:lj(r),hash:cj(i)}}function oj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function e1(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fx(t){let e=sj(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function hx(t,e,n,r=!1){let i;typeof t=="string"?i=vu(t):(i={...t},Mn(!i.pathname||!i.pathname.includes("?"),e1("?","pathname","search",i)),Mn(!i.pathname||!i.pathname.includes("#"),e1("#","pathname","hash",i)),Mn(!i.search||!i.search.includes("#"),e1("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}s=f>=0?e[f]:"/"}let l=ij(i,s),c=a&&a!=="/"&&a.endsWith("/"),u=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var wa=t=>t.join("/").replace(/\/\/+/g,"/"),aj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var sR=["POST","PUT","PATCH","DELETE"];new Set(sR);var dj=["GET",...sR];new Set(dj);var Qd=fe.createContext(null);Qd.displayName="DataRouter";var Ov=fe.createContext(null);Ov.displayName="DataRouterState";fe.createContext(!1);var aR=fe.createContext({isTransitioning:!1});aR.displayName="ViewTransition";var fj=fe.createContext(new Map);fj.displayName="Fetchers";var hj=fe.createContext(null);hj.displayName="Await";var Vo=fe.createContext(null);Vo.displayName="Navigation";var _p=fe.createContext(null);_p.displayName="Location";var Ts=fe.createContext({outlet:null,matches:[],isDataRoute:!1});Ts.displayName="Route";var px=fe.createContext(null);px.displayName="RouteError";function pj(t,{relative:e}={}){Mn(Xd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=fe.useContext(Vo),{hash:i,pathname:o,search:a}=Sp(t,{relative:e}),s=o;return n!=="/"&&(s=o==="/"?n:wa([n,o])),r.createHref({pathname:s,search:a,hash:i})}function Xd(){return fe.useContext(_p)!=null}function Jl(){return Mn(Xd(),"useLocation() may be used only in the context of a <Router> component."),fe.useContext(_p).location}var lR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cR(t){fe.useContext(Vo).static||fe.useLayoutEffect(t)}function uR(){let{isDataRoute:t}=fe.useContext(Ts);return t?Ij():gj()}function gj(){Mn(Xd(),"useNavigate() may be used only in the context of a <Router> component.");let t=fe.useContext(Qd),{basename:e,navigator:n}=fe.useContext(Vo),{matches:r}=fe.useContext(Ts),{pathname:i}=Jl(),o=JSON.stringify(fx(r)),a=fe.useRef(!1);return cR(()=>{a.current=!0}),fe.useCallback((l,c={})=>{if(Eo(a.current,lR),!a.current)return;if(typeof l=="number"){n.go(l);return}let u=hx(l,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:wa([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,o,i,t])}fe.createContext(null);function Sp(t,{relative:e}={}){let{matches:n}=fe.useContext(Ts),{pathname:r}=Jl(),i=JSON.stringify(fx(n));return fe.useMemo(()=>hx(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function mj(t,e){return dR(t,e)}function dR(t,e,n,r,i){var I;Mn(Xd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=fe.useContext(Vo),{matches:a}=fe.useContext(Ts),s=a[a.length-1],l=s?s.params:{},c=s?s.pathname:"/",u=s?s.pathnameBase:"/",f=s&&s.route;{let k=f&&f.path||"";fR(c,!f||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let p=Jl(),g;if(e){let k=typeof e=="string"?vu(e):e;Mn(u==="/"||((I=k.pathname)==null?void 0:I.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${k.pathname}" was given in the \`location\` prop.`),g=k}else g=p;let m=g.pathname||"/",v=m;if(u!=="/"){let k=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(k.length).join("/")}let _=rR(t,{pathname:v});Eo(f||_!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Eo(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=Ej(_&&_.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:wa([u,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:wa([u,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,n,r,i);return e&&w?fe.createElement(_p.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function vj(){let t=Aj(),e=uj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=fe.createElement(fe.Fragment,null,fe.createElement("p",null," Hey developer "),fe.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",fe.createElement("code",{style:o},"ErrorBoundary")," or"," ",fe.createElement("code",{style:o},"errorElement")," prop on your route.")),fe.createElement(fe.Fragment,null,fe.createElement("h2",null,"Unexpected Application Error!"),fe.createElement("h3",{style:{fontStyle:"italic"}},e),n?fe.createElement("pre",{style:i},n):null,a)}var yj=fe.createElement(vj,null),wj=class extends fe.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?fe.createElement(Ts.Provider,{value:this.props.routeContext},fe.createElement(px.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bj({routeContext:t,match:e,children:n}){let r=fe.useContext(Qd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),fe.createElement(Ts.Provider,{value:t},n)}function Ej(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n==null?void 0:n.errors;if(a!=null){let c=o.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);Mn(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,c+1))}let s=!1,l=-1;if(n)for(let c=0;c<o.length;c++){let u=o[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:f,errors:p}=n,g=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!p||p[u.route.id]===void 0);if(u.route.lazy||g){s=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,u,f)=>{let p,g=!1,m=null,v=null;n&&(p=a&&u.route.id?a[u.route.id]:void 0,m=u.route.errorElement||yj,s&&(l<0&&f===0?(fR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):l===f&&(g=!0,v=u.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,f+1)),w=()=>{let I;return p?I=m:g?I=v:u.route.Component?I=fe.createElement(u.route.Component,null):u.route.element?I=u.route.element:I=c,fe.createElement(bj,{match:u,routeContext:{outlet:c,matches:_,isDataRoute:n!=null},children:I})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?fe.createElement(wj,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:r}):w()},null)}function gx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xj(t){let e=fe.useContext(Qd);return Mn(e,gx(t)),e}function _j(t){let e=fe.useContext(Ov);return Mn(e,gx(t)),e}function Sj(t){let e=fe.useContext(Ts);return Mn(e,gx(t)),e}function mx(t){let e=Sj(t),n=e.matches[e.matches.length-1];return Mn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Cj(){return mx("useRouteId")}function Aj(){var r;let t=fe.useContext(px),e=_j("useRouteError"),n=mx("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Ij(){let{router:t}=xj("useNavigate"),e=mx("useNavigate"),n=fe.useRef(!1);return cR(()=>{n.current=!0}),fe.useCallback(async(i,o={})=>{Eo(n.current,lR),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var P4={};function fR(t,e,n){!e&&!P4[t]&&(P4[t]=!0,Eo(!1,n))}fe.memo(kj);function kj({routes:t,future:e,state:n,unstable_onError:r}){return dR(t,void 0,n,r,e)}function Mj({to:t,replace:e,state:n,relative:r}){Mn(Xd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=fe.useContext(Vo);Eo(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=fe.useContext(Ts),{pathname:a}=Jl(),s=uR(),l=hx(t,fx(o),a,r==="path"),c=JSON.stringify(l);return fe.useEffect(()=>{s(JSON.parse(c),{replace:e,state:n,relative:r})},[s,c,r,e,n]),null}function em(t){Mn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Oj({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Mn(!Xd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),s=fe.useMemo(()=>({basename:a,navigator:i,static:o,future:{}}),[a,i,o]);typeof n=="string"&&(n=vu(n));let{pathname:l="/",search:c="",hash:u="",state:f=null,key:p="default"}=n,g=fe.useMemo(()=>{let m=Sa(l,a);return m==null?null:{location:{pathname:m,search:c,hash:u,state:f,key:p},navigationType:r}},[a,l,c,u,f,p,r]);return Eo(g!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:fe.createElement(Vo.Provider,{value:s},fe.createElement(_p.Provider,{children:e,value:g}))}function Rj({children:t,location:e}){return mj(T2(t),e)}function T2(t,e=[]){let n=[];return fe.Children.forEach(t,(r,i)=>{if(!fe.isValidElement(r))return;let o=[...e,i];if(r.type===fe.Fragment){n.push.apply(n,T2(r.props.children,o));return}Mn(r.type===em,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=T2(r.props.children,o)),n.push(a)}),n}var tm="get",nm="application/x-www-form-urlencoded";function Rv(t){return t!=null&&typeof t.tagName=="string"}function Tj(t){return Rv(t)&&t.tagName.toLowerCase()==="button"}function Pj(t){return Rv(t)&&t.tagName.toLowerCase()==="form"}function Nj(t){return Rv(t)&&t.tagName.toLowerCase()==="input"}function Lj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Dj(t,e){return t.button===0&&(!e||e==="_self")&&!Lj(t)}var q0=null;function Bj(){if(q0===null)try{new FormData(document.createElement("form"),0),q0=!1}catch{q0=!0}return q0}var jj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function t1(t){return t!=null&&!jj.has(t)?(Eo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nm}"`),null):t}function $j(t,e){let n,r,i,o,a;if(Pj(t)){let s=t.getAttribute("action");r=s?Sa(s,e):null,n=t.getAttribute("method")||tm,i=t1(t.getAttribute("enctype"))||nm,o=new FormData(t)}else if(Tj(t)||Nj(t)&&(t.type==="submit"||t.type==="image")){let s=t.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||s.getAttribute("action");if(r=l?Sa(l,e):null,n=t.getAttribute("formmethod")||s.getAttribute("method")||tm,i=t1(t.getAttribute("formenctype"))||t1(s.getAttribute("enctype"))||nm,o=new FormData(s,t),!Bj()){let{name:c,type:u,value:f}=t;if(u==="image"){let p=c?`${c}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else c&&o.append(c,f)}}else{if(Rv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=tm,r=null,i=nm,a=t}return o&&i==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fj(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Sa(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Uj(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function qj(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let a=await Uj(o,n);return a.links?a.links():[]}return[]}));return Vj(r.flat(1).filter(zj).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function N4(t,e,n,r,i,o){let a=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,s=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return o==="assets"?e.filter((l,c)=>a(l,c)||s(l,c)):o==="data"?e.filter((l,c)=>{var f;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(a(l,c)||s(l,c))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Hj(t,e,{includeHydrateFallback:n}={}){return Wj(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function Wj(t){return[...new Set(t)]}function Kj(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Vj(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(Kj(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function hR(){let t=fe.useContext(Qd);return vx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Gj(){let t=fe.useContext(Ov);return vx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var yx=fe.createContext(void 0);yx.displayName="FrameworkContext";function pR(){let t=fe.useContext(yx);return vx(t,"You must render this element inside a <HydratedRouter> element"),t}function Yj(t,e){let n=fe.useContext(yx),[r,i]=fe.useState(!1),[o,a]=fe.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:f}=e,p=fe.useRef(null);fe.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let v=w=>{w.forEach(I=>{a(I.isIntersecting)})},_=new IntersectionObserver(v,{threshold:.5});return p.current&&_.observe(p.current),()=>{_.disconnect()}}},[t]),fe.useEffect(()=>{if(r){let v=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(v)}}},[r]);let g=()=>{i(!0)},m=()=>{i(!1),a(!1)};return n?t!=="intent"?[o,p,{}]:[o,p,{onFocus:Ff(s,g),onBlur:Ff(l,m),onMouseEnter:Ff(c,g),onMouseLeave:Ff(u,m),onTouchStart:Ff(f,g)}]:[!1,p,{}]}function Ff(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Jj({page:t,...e}){let{router:n}=hR(),r=fe.useMemo(()=>rR(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?fe.createElement(Qj,{page:t,matches:r,...e}):null}function Zj(t){let{manifest:e,routeModules:n}=pR(),[r,i]=fe.useState([]);return fe.useEffect(()=>{let o=!1;return qj(t,e,n).then(a=>{o||i(a)}),()=>{o=!0}},[t,e,n]),r}function Qj({page:t,matches:e,...n}){let r=Jl(),{manifest:i,routeModules:o}=pR(),{basename:a}=hR(),{loaderData:s,matches:l}=Gj(),c=fe.useMemo(()=>N4(t,e,l,i,r,"data"),[t,e,l,i,r]),u=fe.useMemo(()=>N4(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=fe.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let m=new Set,v=!1;if(e.forEach(w=>{var k;let I=i.routes[w.route.id];!I||!I.hasLoader||(!c.some($=>$.route.id===w.route.id)&&w.route.id in s&&((k=o[w.route.id])!=null&&k.shouldRevalidate)||I.hasClientLoader?v=!0:m.add(w.route.id))}),m.size===0)return[];let _=Fj(t,a,"data");return v&&m.size>0&&_.searchParams.set("_routes",e.filter(w=>m.has(w.route.id)).map(w=>w.route.id).join(",")),[_.pathname+_.search]},[a,s,r,i,c,e,t,o]),p=fe.useMemo(()=>Hj(u,i),[u,i]),g=Zj(u);return fe.createElement(fe.Fragment,null,f.map(m=>fe.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),p.map(m=>fe.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),g.map(({key:m,link:v})=>fe.createElement("link",{key:m,nonce:n.nonce,...v})))}function Xj(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var gR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gR&&(window.__reactRouterVersion="7.9.1")}catch{}function e$({basename:t,children:e,window:n}){let r=fe.useRef();r.current==null&&(r.current=UB({window:n,v5Compat:!0}));let i=r.current,[o,a]=fe.useState({action:i.action,location:i.location}),s=fe.useCallback(l=>{fe.startTransition(()=>a(l))},[a]);return fe.useLayoutEffect(()=>i.listen(s),[i,s]),fe.createElement(Oj,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var mR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wx=fe.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:a,state:s,target:l,to:c,preventScrollReset:u,viewTransition:f,...p},g){let{basename:m}=fe.useContext(Vo),v=typeof c=="string"&&mR.test(c),_,w=!1;if(typeof c=="string"&&v&&(_=c,gR))try{let D=new URL(window.location.href),B=c.startsWith("//")?new URL(D.protocol+c):new URL(c),O=Sa(B.pathname,m);B.origin===D.origin&&O!=null?c=O+B.search+B.hash:w=!0}catch{Eo(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=pj(c,{relative:i}),[k,$,L]=Yj(r,p),z=i$(c,{replace:a,state:s,target:l,preventScrollReset:u,relative:i,viewTransition:f});function H(D){e&&e(D),D.defaultPrevented||z(D)}let P=fe.createElement("a",{...p,...L,href:_||I,onClick:w||o?e:H,ref:Xj(g,$),target:l,"data-discover":!v&&n==="render"?"true":void 0});return k&&!v?fe.createElement(fe.Fragment,null,P,fe.createElement(Jj,{page:I})):P});wx.displayName="Link";var t$=fe.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:a,viewTransition:s,children:l,...c},u){let f=Sp(a,{relative:c.relative}),p=Jl(),g=fe.useContext(Ov),{navigator:m,basename:v}=fe.useContext(Vo),_=g!=null&&c$(f)&&s===!0,w=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,I=p.pathname,k=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(I=I.toLowerCase(),k=k?k.toLowerCase():null,w=w.toLowerCase()),k&&v&&(k=Sa(k,v)||k);const $=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let L=I===w||!i&&I.startsWith(w)&&I.charAt($)==="/",z=k!=null&&(k===w||!i&&k.startsWith(w)&&k.charAt(w.length)==="/"),H={isActive:L,isPending:z,isTransitioning:_},P=L?e:void 0,D;typeof r=="function"?D=r(H):D=[r,L?"active":null,z?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(H):o;return fe.createElement(wx,{...c,"aria-current":P,className:D,ref:u,style:B,to:a,viewTransition:s},typeof l=="function"?l(H):l)});t$.displayName="NavLink";var n$=fe.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:a=tm,action:s,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:f,...p},g)=>{let m=a$(),v=l$(s,{relative:c}),_=a.toLowerCase()==="get"?"get":"post",w=typeof s=="string"&&mR.test(s),I=k=>{if(l&&l(k),k.defaultPrevented)return;k.preventDefault();let $=k.nativeEvent.submitter,L=($==null?void 0:$.getAttribute("formmethod"))||a;m($||k.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:i,state:o,relative:c,preventScrollReset:u,viewTransition:f})};return fe.createElement("form",{ref:g,method:_,action:v,onSubmit:r?l:I,...p,"data-discover":!w&&t==="render"?"true":void 0})});n$.displayName="Form";function r$(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vR(t){let e=fe.useContext(Qd);return Mn(e,r$(t)),e}function i$(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:a}={}){let s=uR(),l=Jl(),c=Sp(t,{relative:o});return fe.useCallback(u=>{if(Dj(u,e)){u.preventDefault();let f=n!==void 0?n:Mh(l)===Mh(c);s(t,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:a})}},[l,s,c,n,r,e,t,i,o,a])}var o$=0,s$=()=>`__${String(++o$)}__`;function a$(){let{router:t}=vR("useSubmit"),{basename:e}=fe.useContext(Vo),n=Cj();return fe.useCallback(async(r,i={})=>{let{action:o,method:a,encType:s,formData:l,body:c}=$j(r,e);if(i.navigate===!1){let u=i.fetcherKey||s$();await t.fetch(u,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function l$(t,{relative:e}={}){let{basename:n}=fe.useContext(Vo),r=fe.useContext(Ts);Mn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Sp(t||".",{relative:e})},a=Jl();if(t==null){o.search=a.search;let s=new URLSearchParams(o.search),l=s.getAll("index");if(l.some(u=>u==="")){s.delete("index"),l.filter(f=>f).forEach(f=>s.append("index",f));let u=s.toString();o.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:wa([n,o.pathname])),Mh(o)}function c$(t,{relative:e}={}){let n=fe.useContext(aR);Mn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=vR("useViewTransitionState"),i=Sp(t,{relative:e});if(!n.isTransitioning)return!1;let o=Sa(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Sa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Lm(i.pathname,a)!=null||Lm(i.pathname,o)!=null}const u$="modulepreload",d$=function(t){return"/"+t},L4={},on=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let a=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=a(n.map(c=>{if(c=d$(c),c in L4)return;L4[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":u$,u||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),u)return new Promise((g,m)=>{p.addEventListener("load",g),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return e().catch(o)})};function f$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tv(t,e){if(t==null)return{};var n,r,i=f$(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function h$(t,e){if(Oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p$(t){var e=h$(t,"string");return Oh(e)=="symbol"?e:e+""}function Ae(t,e,n){return(e=p$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function be(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D4(Object(n),!0).forEach(function(r){Ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const g$={},m$=Object.freeze(Object.defineProperty({__proto__:null,default:g$},Symbol.toStringTag,{value:"Module"})),yR=AB(m$),Zu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function v$(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Dm(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function lu(t,...e){if(!v$(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function aoe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Dm(t.outputLen),Dm(t.blockLen)}function B4(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function y$(t,e){lu(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function w$(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function wR(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function loe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function coe(t,e){return t<<32-e|t>>>e}const b$=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function E$(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function x$(t){for(let e=0;e<t.length;e++)t[e]=E$(t[e]);return t}const j4=b$?t=>t:x$,bR=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",_$=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function uoe(t){if(lu(t),bR)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=_$[t[n]];return e}const Vs={_0:48,_9:57,A:65,F:70,a:97,f:102};function $4(t){if(t>=Vs._0&&t<=Vs._9)return t-Vs._0;if(t>=Vs.A&&t<=Vs.F)return t-(Vs.A-10);if(t>=Vs.a&&t<=Vs.f)return t-(Vs.a-10)}function doe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(bR)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const a=$4(t.charCodeAt(o)),s=$4(t.charCodeAt(o+1));if(a===void 0||s===void 0){const l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=a*16+s}return r}function S$(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function ER(t){return typeof t=="string"&&(t=S$(t)),lu(t),t}function foe(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];lu(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}let C$=class{};function A$(t){const e=r=>t().update(ER(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function poe(t=32){if(Zu&&typeof Zu.getRandomValues=="function")return Zu.getRandomValues(new Uint8Array(t));if(Zu&&typeof Zu.randomBytes=="function")return Uint8Array.from(Zu.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const H0=BigInt(2**32-1),F4=BigInt(32);function I$(t,e=!1){return e?{h:Number(t&H0),l:Number(t>>F4&H0)}:{h:Number(t>>F4&H0)|0,l:Number(t&H0)|0}}function k$(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:a,l:s}=I$(t[o],e);[r[o],i[o]]=[a,s]}return[r,i]}const goe=(t,e,n)=>t>>>n,moe=(t,e,n)=>t<<32-n|e>>>n,voe=(t,e,n)=>t>>>n|e<<32-n,yoe=(t,e,n)=>t<<32-n|e>>>n,woe=(t,e,n)=>t<<64-n|e>>>n-32,boe=(t,e,n)=>t>>>n-32|e<<64-n,M$=(t,e,n)=>t<<n|e>>>32-n,O$=(t,e,n)=>e<<n|t>>>32-n,R$=(t,e,n)=>e<<n-32|t>>>64-n,T$=(t,e,n)=>t<<n-32|e>>>64-n;function Eoe(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const xoe=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),_oe=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Soe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Coe=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,Aoe=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Ioe=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0;var n1={},pn={},r1,U4;function yu(){if(U4)return r1;U4=1,r1=t;function t(e,n){if(!e)throw new Error(n||"Assertion failed")}return t.equal=function(n,r,i){if(n!=r)throw new Error(i||"Assertion failed: "+n+" != "+r)},r1}var W0={exports:{}},z4;function Go(){return z4||(z4=1,typeof Object.create=="function"?W0.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:W0.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}}),W0.exports}var q4;function Ps(){if(q4)return pn;q4=1;var t=yu(),e=Go();pn.inherits=e;function n(y,E){return(y.charCodeAt(E)&64512)!==55296||E<0||E+1>=y.length?!1:(y.charCodeAt(E+1)&64512)===56320}function r(y,E){if(Array.isArray(y))return y.slice();if(!y)return[];var S=[];if(typeof y=="string")if(E){if(E==="hex")for(y=y.replace(/[^a-z0-9]+/ig,""),y.length%2!==0&&(y="0"+y),T=0;T<y.length;T+=2)S.push(parseInt(y[T]+y[T+1],16))}else for(var C=0,T=0;T<y.length;T++){var j=y.charCodeAt(T);j<128?S[C++]=j:j<2048?(S[C++]=j>>6|192,S[C++]=j&63|128):n(y,T)?(j=65536+((j&1023)<<10)+(y.charCodeAt(++T)&1023),S[C++]=j>>18|240,S[C++]=j>>12&63|128,S[C++]=j>>6&63|128,S[C++]=j&63|128):(S[C++]=j>>12|224,S[C++]=j>>6&63|128,S[C++]=j&63|128)}else for(T=0;T<y.length;T++)S[T]=y[T]|0;return S}pn.toArray=r;function i(y){for(var E="",S=0;S<y.length;S++)E+=s(y[S].toString(16));return E}pn.toHex=i;function o(y){var E=y>>>24|y>>>8&65280|y<<8&16711680|(y&255)<<24;return E>>>0}pn.htonl=o;function a(y,E){for(var S="",C=0;C<y.length;C++){var T=y[C];E==="little"&&(T=o(T)),S+=l(T.toString(16))}return S}pn.toHex32=a;function s(y){return y.length===1?"0"+y:y}pn.zero2=s;function l(y){return y.length===7?"0"+y:y.length===6?"00"+y:y.length===5?"000"+y:y.length===4?"0000"+y:y.length===3?"00000"+y:y.length===2?"000000"+y:y.length===1?"0000000"+y:y}pn.zero8=l;function c(y,E,S,C){var T=S-E;t(T%4===0);for(var j=new Array(T/4),A=0,M=E;A<j.length;A++,M+=4){var x;C==="big"?x=y[M]<<24|y[M+1]<<16|y[M+2]<<8|y[M+3]:x=y[M+3]<<24|y[M+2]<<16|y[M+1]<<8|y[M],j[A]=x>>>0}return j}pn.join32=c;function u(y,E){for(var S=new Array(y.length*4),C=0,T=0;C<y.length;C++,T+=4){var j=y[C];E==="big"?(S[T]=j>>>24,S[T+1]=j>>>16&255,S[T+2]=j>>>8&255,S[T+3]=j&255):(S[T+3]=j>>>24,S[T+2]=j>>>16&255,S[T+1]=j>>>8&255,S[T]=j&255)}return S}pn.split32=u;function f(y,E){return y>>>E|y<<32-E}pn.rotr32=f;function p(y,E){return y<<E|y>>>32-E}pn.rotl32=p;function g(y,E){return y+E>>>0}pn.sum32=g;function m(y,E,S){return y+E+S>>>0}pn.sum32_3=m;function v(y,E,S,C){return y+E+S+C>>>0}pn.sum32_4=v;function _(y,E,S,C,T){return y+E+S+C+T>>>0}pn.sum32_5=_;function w(y,E,S,C){var T=y[E],j=y[E+1],A=C+j>>>0,M=(A<C?1:0)+S+T;y[E]=M>>>0,y[E+1]=A}pn.sum64=w;function I(y,E,S,C){var T=E+C>>>0,j=(T<E?1:0)+y+S;return j>>>0}pn.sum64_hi=I;function k(y,E,S,C){var T=E+C;return T>>>0}pn.sum64_lo=k;function $(y,E,S,C,T,j,A,M){var x=0,R=E;R=R+C>>>0,x+=R<E?1:0,R=R+j>>>0,x+=R<j?1:0,R=R+M>>>0,x+=R<M?1:0;var F=y+S+T+A+x;return F>>>0}pn.sum64_4_hi=$;function L(y,E,S,C,T,j,A,M){var x=E+C+j+M;return x>>>0}pn.sum64_4_lo=L;function z(y,E,S,C,T,j,A,M,x,R){var F=0,U=E;U=U+C>>>0,F+=U<E?1:0,U=U+j>>>0,F+=U<j?1:0,U=U+M>>>0,F+=U<M?1:0,U=U+R>>>0,F+=U<R?1:0;var K=y+S+T+A+x+F;return K>>>0}pn.sum64_5_hi=z;function H(y,E,S,C,T,j,A,M,x,R){var F=E+C+j+M+R;return F>>>0}pn.sum64_5_lo=H;function P(y,E,S){var C=E<<32-S|y>>>S;return C>>>0}pn.rotr64_hi=P;function D(y,E,S){var C=y<<32-S|E>>>S;return C>>>0}pn.rotr64_lo=D;function B(y,E,S){return y>>>S}pn.shr64_hi=B;function O(y,E,S){var C=y<<32-S|E>>>S;return C>>>0}return pn.shr64_lo=O,pn}var i1={},H4;function Cp(){if(H4)return i1;H4=1;var t=Ps(),e=yu();function n(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return i1.BlockHash=n,n.prototype.update=function(i,o){if(i=t.toArray(i,o),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var a=i.length%this._delta8;this.pending=i.slice(i.length-a,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-a,this.endian);for(var s=0;s<i.length;s+=this._delta32)this._update(i,s,s+this._delta32)}return this},n.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},n.prototype._pad=function(){var i=this.pendingTotal,o=this._delta8,a=o-(i+this.padLength)%o,s=new Array(a+this.padLength);s[0]=128;for(var l=1;l<a;l++)s[l]=0;if(i<<=3,this.endian==="big"){for(var c=8;c<this.padLength;c++)s[l++]=0;s[l++]=0,s[l++]=0,s[l++]=0,s[l++]=0,s[l++]=i>>>24&255,s[l++]=i>>>16&255,s[l++]=i>>>8&255,s[l++]=i&255}else for(s[l++]=i&255,s[l++]=i>>>8&255,s[l++]=i>>>16&255,s[l++]=i>>>24&255,s[l++]=0,s[l++]=0,s[l++]=0,s[l++]=0,c=8;c<this.padLength;c++)s[l++]=0;return s},i1}var xc={},as={},W4;function xR(){if(W4)return as;W4=1;var t=Ps(),e=t.rotr32;function n(u,f,p,g){if(u===0)return r(f,p,g);if(u===1||u===3)return o(f,p,g);if(u===2)return i(f,p,g)}as.ft_1=n;function r(u,f,p){return u&f^~u&p}as.ch32=r;function i(u,f,p){return u&f^u&p^f&p}as.maj32=i;function o(u,f,p){return u^f^p}as.p32=o;function a(u){return e(u,2)^e(u,13)^e(u,22)}as.s0_256=a;function s(u){return e(u,6)^e(u,11)^e(u,25)}as.s1_256=s;function l(u){return e(u,7)^e(u,18)^u>>>3}as.g0_256=l;function c(u){return e(u,17)^e(u,19)^u>>>10}return as.g1_256=c,as}var o1,K4;function P$(){if(K4)return o1;K4=1;var t=Ps(),e=Cp(),n=xR(),r=t.rotl32,i=t.sum32,o=t.sum32_5,a=n.ft_1,s=e.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function c(){if(!(this instanceof c))return new c;s.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(c,s),o1=c,c.blockSize=512,c.outSize=160,c.hmacStrength=80,c.padLength=64,c.prototype._update=function(f,p){for(var g=this.W,m=0;m<16;m++)g[m]=f[p+m];for(;m<g.length;m++)g[m]=r(g[m-3]^g[m-8]^g[m-14]^g[m-16],1);var v=this.h[0],_=this.h[1],w=this.h[2],I=this.h[3],k=this.h[4];for(m=0;m<g.length;m++){var $=~~(m/20),L=o(r(v,5),a($,_,w,I),k,g[m],l[$]);k=I,I=w,w=r(_,30),_=v,v=L}this.h[0]=i(this.h[0],v),this.h[1]=i(this.h[1],_),this.h[2]=i(this.h[2],w),this.h[3]=i(this.h[3],I),this.h[4]=i(this.h[4],k)},c.prototype._digest=function(f){return f==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},o1}var s1,V4;function _R(){if(V4)return s1;V4=1;var t=Ps(),e=Cp(),n=xR(),r=yu(),i=t.sum32,o=t.sum32_4,a=t.sum32_5,s=n.ch32,l=n.maj32,c=n.s0_256,u=n.s1_256,f=n.g0_256,p=n.g1_256,g=e.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}return t.inherits(v,g),s1=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(w,I){for(var k=this.W,$=0;$<16;$++)k[$]=w[I+$];for(;$<k.length;$++)k[$]=o(p(k[$-2]),k[$-7],f(k[$-15]),k[$-16]);var L=this.h[0],z=this.h[1],H=this.h[2],P=this.h[3],D=this.h[4],B=this.h[5],O=this.h[6],y=this.h[7];for(r(this.k.length===k.length),$=0;$<k.length;$++){var E=a(y,u(D),s(D,B,O),this.k[$],k[$]),S=i(c(L),l(L,z,H));y=O,O=B,B=D,D=i(P,E),P=H,H=z,z=L,L=i(E,S)}this.h[0]=i(this.h[0],L),this.h[1]=i(this.h[1],z),this.h[2]=i(this.h[2],H),this.h[3]=i(this.h[3],P),this.h[4]=i(this.h[4],D),this.h[5]=i(this.h[5],B),this.h[6]=i(this.h[6],O),this.h[7]=i(this.h[7],y)},v.prototype._digest=function(w){return w==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},s1}var a1,G4;function N$(){if(G4)return a1;G4=1;var t=Ps(),e=_R();function n(){if(!(this instanceof n))return new n;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(n,e),a1=n,n.blockSize=512,n.outSize=224,n.hmacStrength=192,n.padLength=64,n.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},a1}var l1,Y4;function SR(){if(Y4)return l1;Y4=1;var t=Ps(),e=Cp(),n=yu(),r=t.rotr64_hi,i=t.rotr64_lo,o=t.shr64_hi,a=t.shr64_lo,s=t.sum64,l=t.sum64_hi,c=t.sum64_lo,u=t.sum64_4_hi,f=t.sum64_4_lo,p=t.sum64_5_hi,g=t.sum64_5_lo,m=e.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function _(){if(!(this instanceof _))return new _;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}t.inherits(_,m),l1=_,_.blockSize=1024,_.outSize=512,_.hmacStrength=192,_.padLength=128,_.prototype._prepareBlock=function(S,C){for(var T=this.W,j=0;j<32;j++)T[j]=S[C+j];for(;j<T.length;j+=2){var A=O(T[j-4],T[j-3]),M=y(T[j-4],T[j-3]),x=T[j-14],R=T[j-13],F=D(T[j-30],T[j-29]),U=B(T[j-30],T[j-29]),K=T[j-32],G=T[j-31];T[j]=u(A,M,x,R,F,U,K,G),T[j+1]=f(A,M,x,R,F,U,K,G)}},_.prototype._update=function(S,C){this._prepareBlock(S,C);var T=this.W,j=this.h[0],A=this.h[1],M=this.h[2],x=this.h[3],R=this.h[4],F=this.h[5],U=this.h[6],K=this.h[7],G=this.h[8],Q=this.h[9],ne=this.h[10],J=this.h[11],Z=this.h[12],ee=this.h[13],ie=this.h[14],se=this.h[15];n(this.k.length===T.length);for(var X=0;X<T.length;X+=2){var ae=ie,de=se,me=H(G,Q),Ee=P(G,Q),ye=w(G,Q,ne,J,Z),ue=I(G,Q,ne,J,Z,ee),_e=this.k[X],Ie=this.k[X+1],we=T[X],Fe=T[X+1],He=p(ae,de,me,Ee,ye,ue,_e,Ie,we,Fe),Ve=g(ae,de,me,Ee,ye,ue,_e,Ie,we,Fe);ae=L(j,A),de=z(j,A),me=k(j,A,M,x,R),Ee=$(j,A,M,x,R,F);var Je=l(ae,de,me,Ee),te=c(ae,de,me,Ee);ie=Z,se=ee,Z=ne,ee=J,ne=G,J=Q,G=l(U,K,He,Ve),Q=c(K,K,He,Ve),U=R,K=F,R=M,F=x,M=j,x=A,j=l(He,Ve,Je,te),A=c(He,Ve,Je,te)}s(this.h,0,j,A),s(this.h,2,M,x),s(this.h,4,R,F),s(this.h,6,U,K),s(this.h,8,G,Q),s(this.h,10,ne,J),s(this.h,12,Z,ee),s(this.h,14,ie,se)},_.prototype._digest=function(S){return S==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function w(E,S,C,T,j){var A=E&C^~E&j;return A<0&&(A+=4294967296),A}function I(E,S,C,T,j,A){var M=S&T^~S&A;return M<0&&(M+=4294967296),M}function k(E,S,C,T,j){var A=E&C^E&j^C&j;return A<0&&(A+=4294967296),A}function $(E,S,C,T,j,A){var M=S&T^S&A^T&A;return M<0&&(M+=4294967296),M}function L(E,S){var C=r(E,S,28),T=r(S,E,2),j=r(S,E,7),A=C^T^j;return A<0&&(A+=4294967296),A}function z(E,S){var C=i(E,S,28),T=i(S,E,2),j=i(S,E,7),A=C^T^j;return A<0&&(A+=4294967296),A}function H(E,S){var C=r(E,S,14),T=r(E,S,18),j=r(S,E,9),A=C^T^j;return A<0&&(A+=4294967296),A}function P(E,S){var C=i(E,S,14),T=i(E,S,18),j=i(S,E,9),A=C^T^j;return A<0&&(A+=4294967296),A}function D(E,S){var C=r(E,S,1),T=r(E,S,8),j=o(E,S,7),A=C^T^j;return A<0&&(A+=4294967296),A}function B(E,S){var C=i(E,S,1),T=i(E,S,8),j=a(E,S,7),A=C^T^j;return A<0&&(A+=4294967296),A}function O(E,S){var C=r(E,S,19),T=r(S,E,29),j=o(E,S,6),A=C^T^j;return A<0&&(A+=4294967296),A}function y(E,S){var C=i(E,S,19),T=i(S,E,29),j=a(E,S,6),A=C^T^j;return A<0&&(A+=4294967296),A}return l1}var c1,J4;function L$(){if(J4)return c1;J4=1;var t=Ps(),e=SR();function n(){if(!(this instanceof n))return new n;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(n,e),c1=n,n.blockSize=1024,n.outSize=384,n.hmacStrength=192,n.padLength=128,n.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},c1}var Z4;function D$(){return Z4||(Z4=1,xc.sha1=P$(),xc.sha224=N$(),xc.sha256=_R(),xc.sha384=L$(),xc.sha512=SR()),xc}var u1={},Q4;function B$(){if(Q4)return u1;Q4=1;var t=Ps(),e=Cp(),n=t.rotl32,r=t.sum32,i=t.sum32_3,o=t.sum32_4,a=e.BlockHash;function s(){if(!(this instanceof s))return new s;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(s,a),u1.ripemd160=s,s.blockSize=512,s.outSize=160,s.hmacStrength=192,s.padLength=64,s.prototype._update=function(_,w){for(var I=this.h[0],k=this.h[1],$=this.h[2],L=this.h[3],z=this.h[4],H=I,P=k,D=$,B=L,O=z,y=0;y<80;y++){var E=r(n(o(I,l(y,k,$,L),_[f[y]+w],c(y)),g[y]),z);I=z,z=L,L=n($,10),$=k,k=E,E=r(n(o(H,l(79-y,P,D,B),_[p[y]+w],u(y)),m[y]),O),H=O,O=B,B=n(D,10),D=P,P=E}E=i(this.h[1],$,B),this.h[1]=i(this.h[2],L,O),this.h[2]=i(this.h[3],z,H),this.h[3]=i(this.h[4],I,P),this.h[4]=i(this.h[0],k,D),this.h[0]=E},s.prototype._digest=function(_){return _==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function l(v,_,w,I){return v<=15?_^w^I:v<=31?_&w|~_&I:v<=47?(_|~w)^I:v<=63?_&I|w&~I:_^(w|~I)}function c(v){return v<=15?0:v<=31?1518500249:v<=47?1859775393:v<=63?2400959708:2840853838}function u(v){return v<=15?1352829926:v<=31?1548603684:v<=47?1836072691:v<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],p=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return u1}var d1,X4;function j$(){if(X4)return d1;X4=1;var t=Ps(),e=yu();function n(r,i,o){if(!(this instanceof n))return new n(r,i,o);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,o))}return d1=n,n.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var o=i.length;o<this.blockSize;o++)i.push(0);for(o=0;o<i.length;o++)i[o]^=54;for(this.inner=new this.Hash().update(i),o=0;o<i.length;o++)i[o]^=106;this.outer=new this.Hash().update(i)},n.prototype.update=function(i,o){return this.inner.update(i,o),this},n.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},d1}var e5;function bx(){return e5||(e5=1,function(t){var e=t;e.utils=Ps(),e.common=Cp(),e.sha=D$(),e.ripemd=B$(),e.hmac=j$(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(n1)),n1}var f1,t5;function $$(){return t5||(t5=1,f1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,n);if(s.value!==i||s.enumerable!==!0)return!1}return!0}),f1}var h1,n5;function CR(){return n5||(n5=1,h1=Object),h1}var p1,r5;function F$(){return r5||(r5=1,p1=Error),p1}var g1,i5;function U$(){return i5||(i5=1,g1=EvalError),g1}var m1,o5;function z$(){return o5||(o5=1,m1=RangeError),m1}var v1,s5;function q$(){return s5||(s5=1,v1=ReferenceError),v1}var y1,a5;function AR(){return a5||(a5=1,y1=SyntaxError),y1}var w1,l5;function Pv(){return l5||(l5=1,w1=TypeError),w1}var b1,c5;function H$(){return c5||(c5=1,b1=URIError),b1}var E1,u5;function W$(){return u5||(u5=1,E1=Math.abs),E1}var x1,d5;function K$(){return d5||(d5=1,x1=Math.floor),x1}var _1,f5;function V$(){return f5||(f5=1,_1=Math.max),_1}var S1,h5;function G$(){return h5||(h5=1,S1=Math.min),S1}var C1,p5;function Y$(){return p5||(p5=1,C1=Math.pow),C1}var A1,g5;function J$(){return g5||(g5=1,A1=Math.round),A1}var I1,m5;function Z$(){return m5||(m5=1,I1=Number.isNaN||function(e){return e!==e}),I1}var k1,v5;function Q$(){if(v5)return k1;v5=1;var t=Z$();return k1=function(n){return t(n)||n===0?n:n<0?-1:1},k1}var M1,y5;function X$(){return y5||(y5=1,M1=Object.getOwnPropertyDescriptor),M1}var O1,w5;function Nv(){if(w5)return O1;w5=1;var t=X$();if(t)try{t([],"length")}catch{t=null}return O1=t,O1}var R1,b5;function Lv(){if(b5)return R1;b5=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return R1=t,R1}var T1,E5;function eF(){if(E5)return T1;E5=1;var t=typeof Symbol<"u"&&Symbol,e=$$();return T1=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},T1}var P1,x5;function IR(){return x5||(x5=1,P1=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),P1}var N1,_5;function kR(){if(_5)return N1;_5=1;var t=CR();return N1=t.getPrototypeOf||null,N1}var L1,S5;function tF(){if(S5)return L1;S5=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(l,c){for(var u=[],f=0;f<l.length;f+=1)u[f]=l[f];for(var p=0;p<c.length;p+=1)u[p+l.length]=c[p];return u},o=function(l,c){for(var u=[],f=c,p=0;f<l.length;f+=1,p+=1)u[p]=l[f];return u},a=function(s,l){for(var c="",u=0;u<s.length;u+=1)c+=s[u],u+1<s.length&&(c+=l);return c};return L1=function(l){var c=this;if(typeof c!="function"||e.apply(c)!==r)throw new TypeError(t+c);for(var u=o(arguments,1),f,p=function(){if(this instanceof f){var w=c.apply(this,i(u,arguments));return Object(w)===w?w:this}return c.apply(l,i(u,arguments))},g=n(0,c.length-u.length),m=[],v=0;v<g;v++)m[v]="$"+v;if(f=Function("binder","return function ("+a(m,",")+"){ return binder.apply(this,arguments); }")(p),c.prototype){var _=function(){};_.prototype=c.prototype,f.prototype=new _,_.prototype=null}return f},L1}var D1,C5;function Ap(){if(C5)return D1;C5=1;var t=tF();return D1=Function.prototype.bind||t,D1}var B1,A5;function Ex(){return A5||(A5=1,B1=Function.prototype.call),B1}var j1,I5;function xx(){return I5||(I5=1,j1=Function.prototype.apply),j1}var $1,k5;function nF(){return k5||(k5=1,$1=typeof Reflect<"u"&&Reflect&&Reflect.apply),$1}var F1,M5;function MR(){if(M5)return F1;M5=1;var t=Ap(),e=xx(),n=Ex(),r=nF();return F1=r||t.call(n,e),F1}var U1,O5;function _x(){if(O5)return U1;O5=1;var t=Ap(),e=Pv(),n=Ex(),r=MR();return U1=function(o){if(o.length<1||typeof o[0]!="function")throw new e("a function is required");return r(t,n,o)},U1}var z1,R5;function rF(){if(R5)return z1;R5=1;var t=_x(),e=Nv(),n;try{n=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var r=!!n&&e&&e(Object.prototype,"__proto__"),i=Object,o=i.getPrototypeOf;return z1=r&&typeof r.get=="function"?t([r.get]):typeof o=="function"?function(s){return o(s==null?s:i(s))}:!1,z1}var q1,T5;function iF(){if(T5)return q1;T5=1;var t=IR(),e=kR(),n=rF();return q1=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:n?function(i){return n(i)}:null,q1}var H1,P5;function oF(){if(P5)return H1;P5=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=Ap();return H1=n.call(t,e),H1}var W1,N5;function OR(){if(N5)return W1;N5=1;var t,e=CR(),n=F$(),r=U$(),i=z$(),o=q$(),a=AR(),s=Pv(),l=H$(),c=W$(),u=K$(),f=V$(),p=G$(),g=Y$(),m=J$(),v=Q$(),_=Function,w=function(Z){try{return _('"use strict"; return ('+Z+").constructor;")()}catch{}},I=Nv(),k=Lv(),$=function(){throw new s},L=I?function(){try{return arguments.callee,$}catch{try{return I(arguments,"callee").get}catch{return $}}}():$,z=eF()(),H=iF(),P=kR(),D=IR(),B=xx(),O=Ex(),y={},E=typeof Uint8Array>"u"||!H?t:H(Uint8Array),S={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":z&&H?H([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":y,"%AsyncGenerator%":y,"%AsyncGeneratorFunction%":y,"%AsyncIteratorPrototype%":y,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":_,"%GeneratorFunction%":y,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":z&&H?H(H([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!z||!H?t:H(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":I,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!z||!H?t:H(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":z&&H?H(""[Symbol.iterator]()):t,"%Symbol%":z?Symbol:t,"%SyntaxError%":a,"%ThrowTypeError%":L,"%TypedArray%":E,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":O,"%Function.prototype.apply%":B,"%Object.defineProperty%":k,"%Object.getPrototypeOf%":P,"%Math.abs%":c,"%Math.floor%":u,"%Math.max%":f,"%Math.min%":p,"%Math.pow%":g,"%Math.round%":m,"%Math.sign%":v,"%Reflect.getPrototypeOf%":D};if(H)try{null.error}catch(Z){var C=H(H(Z));S["%Error.prototype%"]=C}var T=function Z(ee){var ie;if(ee==="%AsyncFunction%")ie=w("async function () {}");else if(ee==="%GeneratorFunction%")ie=w("function* () {}");else if(ee==="%AsyncGeneratorFunction%")ie=w("async function* () {}");else if(ee==="%AsyncGenerator%"){var se=Z("%AsyncGeneratorFunction%");se&&(ie=se.prototype)}else if(ee==="%AsyncIteratorPrototype%"){var X=Z("%AsyncGenerator%");X&&H&&(ie=H(X.prototype))}return S[ee]=ie,ie},j={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=Ap(),M=oF(),x=A.call(O,Array.prototype.concat),R=A.call(B,Array.prototype.splice),F=A.call(O,String.prototype.replace),U=A.call(O,String.prototype.slice),K=A.call(O,RegExp.prototype.exec),G=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Q=/\\(\\)?/g,ne=function(ee){var ie=U(ee,0,1),se=U(ee,-1);if(ie==="%"&&se!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(se==="%"&&ie!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var X=[];return F(ee,G,function(ae,de,me,Ee){X[X.length]=me?F(Ee,Q,"$1"):de||ae}),X},J=function(ee,ie){var se=ee,X;if(M(j,se)&&(X=j[se],se="%"+X[0]+"%"),M(S,se)){var ae=S[se];if(ae===y&&(ae=T(se)),typeof ae>"u"&&!ie)throw new s("intrinsic "+ee+" exists, but is not available. Please file an issue!");return{alias:X,name:se,value:ae}}throw new a("intrinsic "+ee+" does not exist!")};return W1=function(ee,ie){if(typeof ee!="string"||ee.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ie!="boolean")throw new s('"allowMissing" argument must be a boolean');if(K(/^%?[^%]*%?$/,ee)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var se=ne(ee),X=se.length>0?se[0]:"",ae=J("%"+X+"%",ie),de=ae.name,me=ae.value,Ee=!1,ye=ae.alias;ye&&(X=ye[0],R(se,x([0,1],ye)));for(var ue=1,_e=!0;ue<se.length;ue+=1){var Ie=se[ue],we=U(Ie,0,1),Fe=U(Ie,-1);if((we==='"'||we==="'"||we==="`"||Fe==='"'||Fe==="'"||Fe==="`")&&we!==Fe)throw new a("property names with quotes must have matching quotes");if((Ie==="constructor"||!_e)&&(Ee=!0),X+="."+Ie,de="%"+X+"%",M(S,de))me=S[de];else if(me!=null){if(!(Ie in me)){if(!ie)throw new s("base intrinsic for "+ee+" exists, but the property is not available.");return}if(I&&ue+1>=se.length){var He=I(me,Ie);_e=!!He,_e&&"get"in He&&!("originalValue"in He.get)?me=He.get:me=me[Ie]}else _e=M(me,Ie),me=me[Ie];_e&&!Ee&&(S[de]=me)}}return me},W1}var K1,L5;function sF(){if(L5)return K1;L5=1;var t=OR(),e=_x(),n=e([t("%String.prototype.indexOf%")]);return K1=function(i,o){var a=t(i,!!o);return typeof a=="function"&&n(i,".prototype.")>-1?e([a]):a},K1}var V1={exports:{}},G1,D5;function aF(){if(D5)return G1;D5=1;var t=Lv(),e=AR(),n=Pv(),r=Nv();return G1=function(o,a,s){if(!o||typeof o!="object"&&typeof o!="function")throw new n("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new n("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,p=!!r&&r(o,a);if(t)t(o,a,{configurable:u===null&&p?p.configurable:!u,enumerable:l===null&&p?p.enumerable:!l,value:s,writable:c===null&&p?p.writable:!c});else if(f||!l&&!c&&!u)o[a]=s;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},G1}var Y1,B5;function lF(){if(B5)return Y1;B5=1;var t=Lv(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},Y1=e,Y1}var J1,j5;function cF(){if(j5)return J1;j5=1;var t=OR(),e=aF(),n=lF()(),r=Nv(),i=Pv(),o=t("%Math.floor%");return J1=function(s,l){if(typeof s!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||o(l)!==l)throw new i("`length` must be a positive 32-bit integer");var c=arguments.length>2&&!!arguments[2],u=!0,f=!0;if("length"in s&&r){var p=r(s,"length");p&&!p.configurable&&(u=!1),p&&!p.writable&&(f=!1)}return(u||f||!c)&&(n?e(s,"length",l,!0,!0):e(s,"length",l)),s},J1}var Z1,$5;function uF(){if($5)return Z1;$5=1;var t=Ap(),e=xx(),n=MR();return Z1=function(){return n(t,e,arguments)},Z1}var F5;function dF(){return F5||(F5=1,function(t){var e=cF(),n=Lv(),r=_x(),i=uF();t.exports=function(a){var s=r(arguments),l=a.length-(arguments.length-1);return e(s,1+(l>0?l:0),!0)},n?n(t.exports,"apply",{value:i}):t.exports.apply=i}(V1)),V1.exports}var Q1,U5;function RR(){if(U5)return Q1;U5=1;var t=Object.prototype.toString;return Q1=function(n){var r=t.call(n),i=r==="[object Arguments]";return i||(i=r!=="[object Array]"&&n!==null&&typeof n=="object"&&typeof n.length=="number"&&n.length>=0&&t.call(n.callee)==="[object Function]"),i},Q1}var X1,z5;function fF(){if(z5)return X1;z5=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=RR(),i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),a=i.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(p){var g=p.constructor;return g&&g.prototype===p},c={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},u=function(){if(typeof window>"u")return!1;for(var p in window)try{if(!c["$"+p]&&e.call(window,p)&&window[p]!==null&&typeof window[p]=="object")try{l(window[p])}catch{return!0}}catch{return!0}return!1}(),f=function(p){if(typeof window>"u"||!u)return l(p);try{return l(p)}catch{return!1}};t=function(g){var m=g!==null&&typeof g=="object",v=n.call(g)==="[object Function]",_=r(g),w=m&&n.call(g)==="[object String]",I=[];if(!m&&!v&&!_)throw new TypeError("Object.keys called on a non-object");var k=a&&v;if(w&&g.length>0&&!e.call(g,0))for(var $=0;$<g.length;++$)I.push(String($));if(_&&g.length>0)for(var L=0;L<g.length;++L)I.push(String(L));else for(var z in g)!(k&&z==="prototype")&&e.call(g,z)&&I.push(String(z));if(o)for(var H=f(g),P=0;P<s.length;++P)!(H&&s[P]==="constructor")&&e.call(g,s[P])&&I.push(s[P]);return I}}return X1=t,X1}var eb,q5;function hF(){if(q5)return eb;q5=1;var t=Array.prototype.slice,e=RR(),n=Object.keys,r=n?function(a){return n(a)}:fF(),i=Object.keys;return r.shim=function(){if(Object.keys){var a=function(){var s=Object.keys(arguments);return s&&s.length===arguments.length}(1,2);a||(Object.keys=function(l){return e(l)?i(t.call(l)):i(l)})}else Object.keys=r;return Object.keys||r},eb=r,eb}var tb={};const pF="6.6.1",gF={version:pF};var nb={},rm={exports:{}},mF=rm.exports,H5;function Ma(){return H5||(H5=1,function(t){(function(e,n){function r(O,y){if(!O)throw new Error(y||"Assertion failed")}function i(O,y){O.super_=y;var E=function(){};E.prototype=y.prototype,O.prototype=new E,O.prototype.constructor=O}function o(O,y,E){if(o.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((y==="le"||y==="be")&&(E=y,y=10),this._init(O||0,y||10,E||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=yR.Buffer}catch{}o.isBN=function(y){return y instanceof o?!0:y!==null&&typeof y=="object"&&y.constructor.wordSize===o.wordSize&&Array.isArray(y.words)},o.max=function(y,E){return y.cmp(E)>0?y:E},o.min=function(y,E){return y.cmp(E)<0?y:E},o.prototype._init=function(y,E,S){if(typeof y=="number")return this._initNumber(y,E,S);if(typeof y=="object")return this._initArray(y,E,S);E==="hex"&&(E=16),r(E===(E|0)&&E>=2&&E<=36),y=y.toString().replace(/\s+/g,"");var C=0;y[0]==="-"&&(C++,this.negative=1),C<y.length&&(E===16?this._parseHex(y,C,S):(this._parseBase(y,E,C),S==="le"&&this._initArray(this.toArray(),E,S)))},o.prototype._initNumber=function(y,E,S){y<0&&(this.negative=1,y=-y),y<67108864?(this.words=[y&67108863],this.length=1):y<4503599627370496?(this.words=[y&67108863,y/67108864&67108863],this.length=2):(r(y<9007199254740992),this.words=[y&67108863,y/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),E,S)},o.prototype._initArray=function(y,E,S){if(r(typeof y.length=="number"),y.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(y.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var T,j,A=0;if(S==="be")for(C=y.length-1,T=0;C>=0;C-=3)j=y[C]|y[C-1]<<8|y[C-2]<<16,this.words[T]|=j<<A&67108863,this.words[T+1]=j>>>26-A&67108863,A+=24,A>=26&&(A-=26,T++);else if(S==="le")for(C=0,T=0;C<y.length;C+=3)j=y[C]|y[C+1]<<8|y[C+2]<<16,this.words[T]|=j<<A&67108863,this.words[T+1]=j>>>26-A&67108863,A+=24,A>=26&&(A-=26,T++);return this.strip()};function s(O,y){var E=O.charCodeAt(y);return E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:E-48&15}function l(O,y,E){var S=s(O,E);return E-1>=y&&(S|=s(O,E-1)<<4),S}o.prototype._parseHex=function(y,E,S){this.length=Math.ceil((y.length-E)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var T=0,j=0,A;if(S==="be")for(C=y.length-1;C>=E;C-=2)A=l(y,E,C)<<T,this.words[j]|=A&67108863,T>=18?(T-=18,j+=1,this.words[j]|=A>>>26):T+=8;else{var M=y.length-E;for(C=M%2===0?E+1:E;C<y.length;C+=2)A=l(y,E,C)<<T,this.words[j]|=A&67108863,T>=18?(T-=18,j+=1,this.words[j]|=A>>>26):T+=8}this.strip()};function c(O,y,E,S){for(var C=0,T=Math.min(O.length,E),j=y;j<T;j++){var A=O.charCodeAt(j)-48;C*=S,A>=49?C+=A-49+10:A>=17?C+=A-17+10:C+=A}return C}o.prototype._parseBase=function(y,E,S){this.words=[0],this.length=1;for(var C=0,T=1;T<=67108863;T*=E)C++;C--,T=T/E|0;for(var j=y.length-S,A=j%C,M=Math.min(j,j-A)+S,x=0,R=S;R<M;R+=C)x=c(y,R,R+C,E),this.imuln(T),this.words[0]+x<67108864?this.words[0]+=x:this._iaddn(x);if(A!==0){var F=1;for(x=c(y,R,y.length,E),R=0;R<A;R++)F*=E;this.imuln(F),this.words[0]+x<67108864?this.words[0]+=x:this._iaddn(x)}this.strip()},o.prototype.copy=function(y){y.words=new Array(this.length);for(var E=0;E<this.length;E++)y.words[E]=this.words[E];y.length=this.length,y.negative=this.negative,y.red=this.red},o.prototype.clone=function(){var y=new o(null);return this.copy(y),y},o.prototype._expand=function(y){for(;this.length<y;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(y,E){y=y||10,E=E|0||1;var S;if(y===16||y==="hex"){S="";for(var C=0,T=0,j=0;j<this.length;j++){var A=this.words[j],M=((A<<C|T)&16777215).toString(16);T=A>>>24-C&16777215,C+=2,C>=26&&(C-=26,j--),T!==0||j!==this.length-1?S=u[6-M.length]+M+S:S=M+S}for(T!==0&&(S=T.toString(16)+S);S.length%E!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(y===(y|0)&&y>=2&&y<=36){var x=f[y],R=p[y];S="";var F=this.clone();for(F.negative=0;!F.isZero();){var U=F.modn(R).toString(y);F=F.idivn(R),F.isZero()?S=U+S:S=u[x-U.length]+U+S}for(this.isZero()&&(S="0"+S);S.length%E!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var y=this.words[0];return this.length===2?y+=this.words[1]*67108864:this.length===3&&this.words[2]===1?y+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-y:y},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(y,E){return r(typeof a<"u"),this.toArrayLike(a,y,E)},o.prototype.toArray=function(y,E){return this.toArrayLike(Array,y,E)},o.prototype.toArrayLike=function(y,E,S){var C=this.byteLength(),T=S||Math.max(1,C);r(C<=T,"byte array longer than desired length"),r(T>0,"Requested array length <= 0"),this.strip();var j=E==="le",A=new y(T),M,x,R=this.clone();if(j){for(x=0;!R.isZero();x++)M=R.andln(255),R.iushrn(8),A[x]=M;for(;x<T;x++)A[x]=0}else{for(x=0;x<T-C;x++)A[x]=0;for(x=0;!R.isZero();x++)M=R.andln(255),R.iushrn(8),A[T-x-1]=M}return A},Math.clz32?o.prototype._countBits=function(y){return 32-Math.clz32(y)}:o.prototype._countBits=function(y){var E=y,S=0;return E>=4096&&(S+=13,E>>>=13),E>=64&&(S+=7,E>>>=7),E>=8&&(S+=4,E>>>=4),E>=2&&(S+=2,E>>>=2),S+E},o.prototype._zeroBits=function(y){if(y===0)return 26;var E=y,S=0;return(E&8191)===0&&(S+=13,E>>>=13),(E&127)===0&&(S+=7,E>>>=7),(E&15)===0&&(S+=4,E>>>=4),(E&3)===0&&(S+=2,E>>>=2),(E&1)===0&&S++,S},o.prototype.bitLength=function(){var y=this.words[this.length-1],E=this._countBits(y);return(this.length-1)*26+E};function g(O){for(var y=new Array(O.bitLength()),E=0;E<y.length;E++){var S=E/26|0,C=E%26;y[E]=(O.words[S]&1<<C)>>>C}return y}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var y=0,E=0;E<this.length;E++){var S=this._zeroBits(this.words[E]);if(y+=S,S!==26)break}return y},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(y){return this.negative!==0?this.abs().inotn(y).iaddn(1):this.clone()},o.prototype.fromTwos=function(y){return this.testn(y-1)?this.notn(y).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(y){for(;this.length<y.length;)this.words[this.length++]=0;for(var E=0;E<y.length;E++)this.words[E]=this.words[E]|y.words[E];return this.strip()},o.prototype.ior=function(y){return r((this.negative|y.negative)===0),this.iuor(y)},o.prototype.or=function(y){return this.length>y.length?this.clone().ior(y):y.clone().ior(this)},o.prototype.uor=function(y){return this.length>y.length?this.clone().iuor(y):y.clone().iuor(this)},o.prototype.iuand=function(y){var E;this.length>y.length?E=y:E=this;for(var S=0;S<E.length;S++)this.words[S]=this.words[S]&y.words[S];return this.length=E.length,this.strip()},o.prototype.iand=function(y){return r((this.negative|y.negative)===0),this.iuand(y)},o.prototype.and=function(y){return this.length>y.length?this.clone().iand(y):y.clone().iand(this)},o.prototype.uand=function(y){return this.length>y.length?this.clone().iuand(y):y.clone().iuand(this)},o.prototype.iuxor=function(y){var E,S;this.length>y.length?(E=this,S=y):(E=y,S=this);for(var C=0;C<S.length;C++)this.words[C]=E.words[C]^S.words[C];if(this!==E)for(;C<E.length;C++)this.words[C]=E.words[C];return this.length=E.length,this.strip()},o.prototype.ixor=function(y){return r((this.negative|y.negative)===0),this.iuxor(y)},o.prototype.xor=function(y){return this.length>y.length?this.clone().ixor(y):y.clone().ixor(this)},o.prototype.uxor=function(y){return this.length>y.length?this.clone().iuxor(y):y.clone().iuxor(this)},o.prototype.inotn=function(y){r(typeof y=="number"&&y>=0);var E=Math.ceil(y/26)|0,S=y%26;this._expand(E),S>0&&E--;for(var C=0;C<E;C++)this.words[C]=~this.words[C]&67108863;return S>0&&(this.words[C]=~this.words[C]&67108863>>26-S),this.strip()},o.prototype.notn=function(y){return this.clone().inotn(y)},o.prototype.setn=function(y,E){r(typeof y=="number"&&y>=0);var S=y/26|0,C=y%26;return this._expand(S+1),E?this.words[S]=this.words[S]|1<<C:this.words[S]=this.words[S]&~(1<<C),this.strip()},o.prototype.iadd=function(y){var E;if(this.negative!==0&&y.negative===0)return this.negative=0,E=this.isub(y),this.negative^=1,this._normSign();if(this.negative===0&&y.negative!==0)return y.negative=0,E=this.isub(y),y.negative=1,E._normSign();var S,C;this.length>y.length?(S=this,C=y):(S=y,C=this);for(var T=0,j=0;j<C.length;j++)E=(S.words[j]|0)+(C.words[j]|0)+T,this.words[j]=E&67108863,T=E>>>26;for(;T!==0&&j<S.length;j++)E=(S.words[j]|0)+T,this.words[j]=E&67108863,T=E>>>26;if(this.length=S.length,T!==0)this.words[this.length]=T,this.length++;else if(S!==this)for(;j<S.length;j++)this.words[j]=S.words[j];return this},o.prototype.add=function(y){var E;return y.negative!==0&&this.negative===0?(y.negative=0,E=this.sub(y),y.negative^=1,E):y.negative===0&&this.negative!==0?(this.negative=0,E=y.sub(this),this.negative=1,E):this.length>y.length?this.clone().iadd(y):y.clone().iadd(this)},o.prototype.isub=function(y){if(y.negative!==0){y.negative=0;var E=this.iadd(y);return y.negative=1,E._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(y),this.negative=1,this._normSign();var S=this.cmp(y);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var C,T;S>0?(C=this,T=y):(C=y,T=this);for(var j=0,A=0;A<T.length;A++)E=(C.words[A]|0)-(T.words[A]|0)+j,j=E>>26,this.words[A]=E&67108863;for(;j!==0&&A<C.length;A++)E=(C.words[A]|0)+j,j=E>>26,this.words[A]=E&67108863;if(j===0&&A<C.length&&C!==this)for(;A<C.length;A++)this.words[A]=C.words[A];return this.length=Math.max(this.length,A),C!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(y){return this.clone().isub(y)};function m(O,y,E){E.negative=y.negative^O.negative;var S=O.length+y.length|0;E.length=S,S=S-1|0;var C=O.words[0]|0,T=y.words[0]|0,j=C*T,A=j&67108863,M=j/67108864|0;E.words[0]=A;for(var x=1;x<S;x++){for(var R=M>>>26,F=M&67108863,U=Math.min(x,y.length-1),K=Math.max(0,x-O.length+1);K<=U;K++){var G=x-K|0;C=O.words[G]|0,T=y.words[K]|0,j=C*T+F,R+=j/67108864|0,F=j&67108863}E.words[x]=F|0,M=R|0}return M!==0?E.words[x]=M|0:E.length--,E.strip()}var v=function(y,E,S){var C=y.words,T=E.words,j=S.words,A=0,M,x,R,F=C[0]|0,U=F&8191,K=F>>>13,G=C[1]|0,Q=G&8191,ne=G>>>13,J=C[2]|0,Z=J&8191,ee=J>>>13,ie=C[3]|0,se=ie&8191,X=ie>>>13,ae=C[4]|0,de=ae&8191,me=ae>>>13,Ee=C[5]|0,ye=Ee&8191,ue=Ee>>>13,_e=C[6]|0,Ie=_e&8191,we=_e>>>13,Fe=C[7]|0,He=Fe&8191,Ve=Fe>>>13,Je=C[8]|0,te=Je&8191,W=Je>>>13,Y=C[9]|0,le=Y&8191,ge=Y>>>13,ke=T[0]|0,Re=ke&8191,rt=ke>>>13,Bt=T[1]|0,at=Bt&8191,xt=Bt>>>13,kt=T[2]|0,Lt=kt&8191,Zt=kt>>>13,zn=T[3]|0,Ze=zn&8191,Ct=zn>>>13,Ht=T[4]|0,It=Ht&8191,wt=Ht>>>13,ce=T[5]|0,he=ce&8191,$e=ce>>>13,qe=T[6]|0,Qe=qe&8191,_t=qe>>>13,Cn=T[7]|0,Wt=Cn&8191,Ft=Cn>>>13,er=T[8]|0,fn=er&8191,mn=er>>>13,Ls=T[9]|0,hn=Ls&8191,Qt=Ls>>>13;S.negative=y.negative^E.negative,S.length=19,M=Math.imul(U,Re),x=Math.imul(U,rt),x=x+Math.imul(K,Re)|0,R=Math.imul(K,rt);var Zn=(A+M|0)+((x&8191)<<13)|0;A=(R+(x>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,M=Math.imul(Q,Re),x=Math.imul(Q,rt),x=x+Math.imul(ne,Re)|0,R=Math.imul(ne,rt),M=M+Math.imul(U,at)|0,x=x+Math.imul(U,xt)|0,x=x+Math.imul(K,at)|0,R=R+Math.imul(K,xt)|0;var si=(A+M|0)+((x&8191)<<13)|0;A=(R+(x>>>13)|0)+(si>>>26)|0,si&=67108863,M=Math.imul(Z,Re),x=Math.imul(Z,rt),x=x+Math.imul(ee,Re)|0,R=Math.imul(ee,rt),M=M+Math.imul(Q,at)|0,x=x+Math.imul(Q,xt)|0,x=x+Math.imul(ne,at)|0,R=R+Math.imul(ne,xt)|0,M=M+Math.imul(U,Lt)|0,x=x+Math.imul(U,Zt)|0,x=x+Math.imul(K,Lt)|0,R=R+Math.imul(K,Zt)|0;var Wr=(A+M|0)+((x&8191)<<13)|0;A=(R+(x>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,M=Math.imul(se,Re),x=Math.imul(se,rt),x=x+Math.imul(X,Re)|0,R=Math.imul(X,rt),M=M+Math.imul(Z,at)|0,x=x+Math.imul(Z,xt)|0,x=x+Math.imul(ee,at)|0,R=R+Math.imul(ee,xt)|0,M=M+Math.imul(Q,Lt)|0,x=x+Math.imul(Q,Zt)|0,x=x+Math.imul(ne,Lt)|0,R=R+Math.imul(ne,Zt)|0,M=M+Math.imul(U,Ze)|0,x=x+Math.imul(U,Ct)|0,x=x+Math.imul(K,Ze)|0,R=R+Math.imul(K,Ct)|0;var or=(A+M|0)+((x&8191)<<13)|0;A=(R+(x>>>13)|0)+(or>>>26)|0,or&=67108863,M=Math.imul(de,Re),x=Math.imul(de,rt),x=x+Math.imul(me,Re)|0,R=Math.imul(me,rt),M=M+Math.imul(se,at)|0,x=x+Math.imul(se,xt)|0,x=x+Math.imul(X,at)|0,R=R+Math.imul(X,xt)|0,M=M+Math.imul(Z,Lt)|0,x=x+Math.imul(Z,Zt)|0,x=x+Math.imul(ee,Lt)|0,R=R+Math.imul(ee,Zt)|0,M=M+Math.imul(Q,Ze)|0,x=x+Math.imul(Q,Ct)|0,x=x+Math.imul(ne,Ze)|0,R=R+Math.imul(ne,Ct)|0,M=M+Math.imul(U,It)|0,x=x+Math.imul(U,wt)|0,x=x+Math.imul(K,It)|0,R=R+Math.imul(K,wt)|0;var Na=(A+M|0)+((x&8191)<<13)|0;A=(R+(x>>>13)|0)+(Na>>>26)|0,Na&=67108863,M=Math.imul(ye,Re),x=Math.imul(ye,rt),x=x+Math.imul(ue,Re)|0,R=Math.imul(ue,rt),M=M+Math.imul(de,at)|0,x=x+Math.imul(de,xt)|0,x=x+Math.imul(me,at)|0,R=R+Math.imul(me,xt)|0,M=M+Math.imul(se,Lt)|0,x=x+Math.imul(se,Zt)|0,x=x+Math.imul(X,Lt)|0,R=R+Math.imul(X,Zt)|0,M=M+Math.imul(Z,Ze)|0,x=x+Math.imul(Z,Ct)|0,x=x+Math.imul(ee,Ze)|0,R=R+Math.imul(ee,Ct)|0,M=M+Math.imul(Q,It)|0,x=x+Math.imul(Q,wt)|0,x=x+Math.imul(ne,It)|0,R=R+Math.imul(ne,wt)|0,M=M+Math.imul(U,he)|0,x=x+Math.imul(U,$e)|0,x=x+Math.imul(K,he)|0,R=R+Math.imul(K,$e)|0;var La=(A+M|0)+((x&8191)<<13)|0;A=(R+(x>>>13)|0)+(La>>>26)|0,La&=67108863,M=Math.imul(Ie,Re),x=Math.imul(Ie,rt),x=x+Math.imul(we,Re)|0,R=Math.imul(we,rt),M=M+Math.imul(ye,at)|0,x=x+Math.imul(ye,xt)|0,x=x+Math.imul(ue,at)|0,R=R+Math.imul(ue,xt)|0,M=M+Math.imul(de,Lt)|0,x=x+Math.imul(de,Zt)|0,x=x+Math.imul(me,Lt)|0,R=R+Math.imul(me,Zt)|0,M=M+Math.imul(se,Ze)|0,x=x+Math.imul(se,Ct)|0,x=x+Math.imul(X,Ze)|0,R=R+Math.imul(X,Ct)|0,M=M+Math.imul(Z,It)|0,x=x+Math.imul(Z,wt)|0,x=x+Math.imul(ee,It)|0,R=R+Math.imul(ee,wt)|0,M=M+Math.imul(Q,he)|0,x=x+Math.imul(Q,$e)|0,x=x+Math.imul(ne,he)|0,R=R+Math.imul(ne,$e)|0,M=M+Math.imul(U,Qe)|0,x=x+Math.imul(U,_t)|0,x=x+Math.imul(K,Qe)|0,R=R+Math.imul(K,_t)|0;var ai=(A+M|0)+((x&8191)<<13)|0;A=(R+(x>>>13)|0)+(ai>>>26)|0,ai&=67108863,M=Math.imul(He,Re),x=Math.imul(He,rt),x=x+Math.imul(Ve,Re)|0,R=Math.imul(Ve,rt),M=M+Math.imul(Ie,at)|0,x=x+Math.imul(Ie,xt)|0,x=x+Math.imul(we,at)|0,R=R+Math.imul(we,xt)|0,M=M+Math.imul(ye,Lt)|0,x=x+Math.imul(ye,Zt)|0,x=x+Math.imul(ue,Lt)|0,R=R+Math.imul(ue,Zt)|0,M=M+Math.imul(de,Ze)|0,x=x+Math.imul(de,Ct)|0,x=x+Math.imul(me,Ze)|0,R=R+Math.imul(me,Ct)|0,M=M+Math.imul(se,It)|0,x=x+Math.imul(se,wt)|0,x=x+Math.imul(X,It)|0,R=R+Math.imul(X,wt)|0,M=M+Math.imul(Z,he)|0,x=x+Math.imul(Z,$e)|0,x=x+Math.imul(ee,he)|0,R=R+Math.imul(ee,$e)|0,M=M+Math.imul(Q,Qe)|0,x=x+Math.imul(Q,_t)|0,x=x+Math.imul(ne,Qe)|0,R=R+Math.imul(ne,_t)|0,M=M+Math.imul(U,Wt)|0,x=x+Math.imul(U,Ft)|0,x=x+Math.imul(K,Wt)|0,R=R+Math.imul(K,Ft)|0;var ec=(A+M|0)+((x&8191)<<13)|0;A=(R+(x>>>13)|0)+(ec>>>26)|0,ec&=67108863,M=Math.imul(te,Re),x=Math.imul(te,rt),x=x+Math.imul(W,Re)|0,R=Math.imul(W,rt),M=M+Math.imul(He,at)|0,x=x+Math.imul(He,xt)|0,x=x+Math.imul(Ve,at)|0,R=R+Math.imul(Ve,xt)|0,M=M+Math.imul(Ie,Lt)|0,x=x+Math.imul(Ie,Zt)|0,x=x+Math.imul(we,Lt)|0,R=R+Math.imul(we,Zt)|0,M=M+Math.imul(ye,Ze)|0,x=x+Math.imul(ye,Ct)|0,x=x+Math.imul(ue,Ze)|0,R=R+Math.imul(ue,Ct)|0,M=M+Math.imul(de,It)|0,x=x+Math.imul(de,wt)|0,x=x+Math.imul(me,It)|0,R=R+Math.imul(me,wt)|0,M=M+Math.imul(se,he)|0,x=x+Math.imul(se,$e)|0,x=x+Math.imul(X,he)|0,R=R+Math.imul(X,$e)|0,M=M+Math.imul(Z,Qe)|0,x=x+Math.imul(Z,_t)|0,x=x+Math.imul(ee,Qe)|0,R=R+Math.imul(ee,_t)|0,M=M+Math.imul(Q,Wt)|0,x=x+Math.imul(Q,Ft)|0,x=x+Math.imul(ne,Wt)|0,R=R+Math.imul(ne,Ft)|0,M=M+Math.imul(U,fn)|0,x=x+Math.imul(U,mn)|0,x=x+Math.imul(K,fn)|0,R=R+Math.imul(K,mn)|0;var tc=(A+M|0)+((x&8191)<<13)|0;A=(R+(x>>>13)|0)+(tc>>>26)|0,tc&=67108863,M=Math.imul(le,Re),x=Math.imul(le,rt),x=x+Math.imul(ge,Re)|0,R=Math.imul(ge,rt),M=M+Math.imul(te,at)|0,x=x+Math.imul(te,xt)|0,x=x+Math.imul(W,at)|0,R=R+Math.imul(W,xt)|0,M=M+Math.imul(He,Lt)|0,x=x+Math.imul(He,Zt)|0,x=x+Math.imul(Ve,Lt)|0,R=R+Math.imul(Ve,Zt)|0,M=M+Math.imul(Ie,Ze)|0,x=x+Math.imul(Ie,Ct)|0,x=x+Math.imul(we,Ze)|0,R=R+Math.imul(we,Ct)|0,M=M+Math.imul(ye,It)|0,x=x+Math.imul(ye,wt)|0,x=x+Math.imul(ue,It)|0,R=R+Math.imul(ue,wt)|0,M=M+Math.imul(de,he)|0,x=x+Math.imul(de,$e)|0,x=x+Math.imul(me,he)|0,R=R+Math.imul(me,$e)|0,M=M+Math.imul(se,Qe)|0,x=x+Math.imul(se,_t)|0,x=x+Math.imul(X,Qe)|0,R=R+Math.imul(X,_t)|0,M=M+Math.imul(Z,Wt)|0,x=x+Math.imul(Z,Ft)|0,x=x+Math.imul(ee,Wt)|0,R=R+Math.imul(ee,Ft)|0,M=M+Math.imul(Q,fn)|0,x=x+Math.imul(Q,mn)|0,x=x+Math.imul(ne,fn)|0,R=R+Math.imul(ne,mn)|0,M=M+Math.imul(U,hn)|0,x=x+Math.imul(U,Qt)|0,x=x+Math.imul(K,hn)|0,R=R+Math.imul(K,Qt)|0;var vn=(A+M|0)+((x&8191)<<13)|0;A=(R+(x>>>13)|0)+(vn>>>26)|0,vn&=67108863,M=Math.imul(le,at),x=Math.imul(le,xt),x=x+Math.imul(ge,at)|0,R=Math.imul(ge,xt),M=M+Math.imul(te,Lt)|0,x=x+Math.imul(te,Zt)|0,x=x+Math.imul(W,Lt)|0,R=R+Math.imul(W,Zt)|0,M=M+Math.imul(He,Ze)|0,x=x+Math.imul(He,Ct)|0,x=x+Math.imul(Ve,Ze)|0,R=R+Math.imul(Ve,Ct)|0,M=M+Math.imul(Ie,It)|0,x=x+Math.imul(Ie,wt)|0,x=x+Math.imul(we,It)|0,R=R+Math.imul(we,wt)|0,M=M+Math.imul(ye,he)|0,x=x+Math.imul(ye,$e)|0,x=x+Math.imul(ue,he)|0,R=R+Math.imul(ue,$e)|0,M=M+Math.imul(de,Qe)|0,x=x+Math.imul(de,_t)|0,x=x+Math.imul(me,Qe)|0,R=R+Math.imul(me,_t)|0,M=M+Math.imul(se,Wt)|0,x=x+Math.imul(se,Ft)|0,x=x+Math.imul(X,Wt)|0,R=R+Math.imul(X,Ft)|0,M=M+Math.imul(Z,fn)|0,x=x+Math.imul(Z,mn)|0,x=x+Math.imul(ee,fn)|0,R=R+Math.imul(ee,mn)|0,M=M+Math.imul(Q,hn)|0,x=x+Math.imul(Q,Qt)|0,x=x+Math.imul(ne,hn)|0,R=R+Math.imul(ne,Qt)|0;var nc=(A+M|0)+((x&8191)<<13)|0;A=(R+(x>>>13)|0)+(nc>>>26)|0,nc&=67108863,M=Math.imul(le,Lt),x=Math.imul(le,Zt),x=x+Math.imul(ge,Lt)|0,R=Math.imul(ge,Zt),M=M+Math.imul(te,Ze)|0,x=x+Math.imul(te,Ct)|0,x=x+Math.imul(W,Ze)|0,R=R+Math.imul(W,Ct)|0,M=M+Math.imul(He,It)|0,x=x+Math.imul(He,wt)|0,x=x+Math.imul(Ve,It)|0,R=R+Math.imul(Ve,wt)|0,M=M+Math.imul(Ie,he)|0,x=x+Math.imul(Ie,$e)|0,x=x+Math.imul(we,he)|0,R=R+Math.imul(we,$e)|0,M=M+Math.imul(ye,Qe)|0,x=x+Math.imul(ye,_t)|0,x=x+Math.imul(ue,Qe)|0,R=R+Math.imul(ue,_t)|0,M=M+Math.imul(de,Wt)|0,x=x+Math.imul(de,Ft)|0,x=x+Math.imul(me,Wt)|0,R=R+Math.imul(me,Ft)|0,M=M+Math.imul(se,fn)|0,x=x+Math.imul(se,mn)|0,x=x+Math.imul(X,fn)|0,R=R+Math.imul(X,mn)|0,M=M+Math.imul(Z,hn)|0,x=x+Math.imul(Z,Qt)|0,x=x+Math.imul(ee,hn)|0,R=R+Math.imul(ee,Qt)|0;var Ds=(A+M|0)+((x&8191)<<13)|0;A=(R+(x>>>13)|0)+(Ds>>>26)|0,Ds&=67108863,M=Math.imul(le,Ze),x=Math.imul(le,Ct),x=x+Math.imul(ge,Ze)|0,R=Math.imul(ge,Ct),M=M+Math.imul(te,It)|0,x=x+Math.imul(te,wt)|0,x=x+Math.imul(W,It)|0,R=R+Math.imul(W,wt)|0,M=M+Math.imul(He,he)|0,x=x+Math.imul(He,$e)|0,x=x+Math.imul(Ve,he)|0,R=R+Math.imul(Ve,$e)|0,M=M+Math.imul(Ie,Qe)|0,x=x+Math.imul(Ie,_t)|0,x=x+Math.imul(we,Qe)|0,R=R+Math.imul(we,_t)|0,M=M+Math.imul(ye,Wt)|0,x=x+Math.imul(ye,Ft)|0,x=x+Math.imul(ue,Wt)|0,R=R+Math.imul(ue,Ft)|0,M=M+Math.imul(de,fn)|0,x=x+Math.imul(de,mn)|0,x=x+Math.imul(me,fn)|0,R=R+Math.imul(me,mn)|0,M=M+Math.imul(se,hn)|0,x=x+Math.imul(se,Qt)|0,x=x+Math.imul(X,hn)|0,R=R+Math.imul(X,Qt)|0;var _o=(A+M|0)+((x&8191)<<13)|0;A=(R+(x>>>13)|0)+(_o>>>26)|0,_o&=67108863,M=Math.imul(le,It),x=Math.imul(le,wt),x=x+Math.imul(ge,It)|0,R=Math.imul(ge,wt),M=M+Math.imul(te,he)|0,x=x+Math.imul(te,$e)|0,x=x+Math.imul(W,he)|0,R=R+Math.imul(W,$e)|0,M=M+Math.imul(He,Qe)|0,x=x+Math.imul(He,_t)|0,x=x+Math.imul(Ve,Qe)|0,R=R+Math.imul(Ve,_t)|0,M=M+Math.imul(Ie,Wt)|0,x=x+Math.imul(Ie,Ft)|0,x=x+Math.imul(we,Wt)|0,R=R+Math.imul(we,Ft)|0,M=M+Math.imul(ye,fn)|0,x=x+Math.imul(ye,mn)|0,x=x+Math.imul(ue,fn)|0,R=R+Math.imul(ue,mn)|0,M=M+Math.imul(de,hn)|0,x=x+Math.imul(de,Qt)|0,x=x+Math.imul(me,hn)|0,R=R+Math.imul(me,Qt)|0;var Jo=(A+M|0)+((x&8191)<<13)|0;A=(R+(x>>>13)|0)+(Jo>>>26)|0,Jo&=67108863,M=Math.imul(le,he),x=Math.imul(le,$e),x=x+Math.imul(ge,he)|0,R=Math.imul(ge,$e),M=M+Math.imul(te,Qe)|0,x=x+Math.imul(te,_t)|0,x=x+Math.imul(W,Qe)|0,R=R+Math.imul(W,_t)|0,M=M+Math.imul(He,Wt)|0,x=x+Math.imul(He,Ft)|0,x=x+Math.imul(Ve,Wt)|0,R=R+Math.imul(Ve,Ft)|0,M=M+Math.imul(Ie,fn)|0,x=x+Math.imul(Ie,mn)|0,x=x+Math.imul(we,fn)|0,R=R+Math.imul(we,mn)|0,M=M+Math.imul(ye,hn)|0,x=x+Math.imul(ye,Qt)|0,x=x+Math.imul(ue,hn)|0,R=R+Math.imul(ue,Qt)|0;var rc=(A+M|0)+((x&8191)<<13)|0;A=(R+(x>>>13)|0)+(rc>>>26)|0,rc&=67108863,M=Math.imul(le,Qe),x=Math.imul(le,_t),x=x+Math.imul(ge,Qe)|0,R=Math.imul(ge,_t),M=M+Math.imul(te,Wt)|0,x=x+Math.imul(te,Ft)|0,x=x+Math.imul(W,Wt)|0,R=R+Math.imul(W,Ft)|0,M=M+Math.imul(He,fn)|0,x=x+Math.imul(He,mn)|0,x=x+Math.imul(Ve,fn)|0,R=R+Math.imul(Ve,mn)|0,M=M+Math.imul(Ie,hn)|0,x=x+Math.imul(Ie,Qt)|0,x=x+Math.imul(we,hn)|0,R=R+Math.imul(we,Qt)|0;var Kr=(A+M|0)+((x&8191)<<13)|0;A=(R+(x>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,M=Math.imul(le,Wt),x=Math.imul(le,Ft),x=x+Math.imul(ge,Wt)|0,R=Math.imul(ge,Ft),M=M+Math.imul(te,fn)|0,x=x+Math.imul(te,mn)|0,x=x+Math.imul(W,fn)|0,R=R+Math.imul(W,mn)|0,M=M+Math.imul(He,hn)|0,x=x+Math.imul(He,Qt)|0,x=x+Math.imul(Ve,hn)|0,R=R+Math.imul(Ve,Qt)|0;var Zo=(A+M|0)+((x&8191)<<13)|0;A=(R+(x>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,M=Math.imul(le,fn),x=Math.imul(le,mn),x=x+Math.imul(ge,fn)|0,R=Math.imul(ge,mn),M=M+Math.imul(te,hn)|0,x=x+Math.imul(te,Qt)|0,x=x+Math.imul(W,hn)|0,R=R+Math.imul(W,Qt)|0;var kr=(A+M|0)+((x&8191)<<13)|0;A=(R+(x>>>13)|0)+(kr>>>26)|0,kr&=67108863,M=Math.imul(le,hn),x=Math.imul(le,Qt),x=x+Math.imul(ge,hn)|0,R=Math.imul(ge,Qt);var ic=(A+M|0)+((x&8191)<<13)|0;return A=(R+(x>>>13)|0)+(ic>>>26)|0,ic&=67108863,j[0]=Zn,j[1]=si,j[2]=Wr,j[3]=or,j[4]=Na,j[5]=La,j[6]=ai,j[7]=ec,j[8]=tc,j[9]=vn,j[10]=nc,j[11]=Ds,j[12]=_o,j[13]=Jo,j[14]=rc,j[15]=Kr,j[16]=Zo,j[17]=kr,j[18]=ic,A!==0&&(j[19]=A,S.length++),S};Math.imul||(v=m);function _(O,y,E){E.negative=y.negative^O.negative,E.length=O.length+y.length;for(var S=0,C=0,T=0;T<E.length-1;T++){var j=C;C=0;for(var A=S&67108863,M=Math.min(T,y.length-1),x=Math.max(0,T-O.length+1);x<=M;x++){var R=T-x,F=O.words[R]|0,U=y.words[x]|0,K=F*U,G=K&67108863;j=j+(K/67108864|0)|0,G=G+A|0,A=G&67108863,j=j+(G>>>26)|0,C+=j>>>26,j&=67108863}E.words[T]=A,S=j,j=C}return S!==0?E.words[T]=S:E.length--,E.strip()}function w(O,y,E){var S=new I;return S.mulp(O,y,E)}o.prototype.mulTo=function(y,E){var S,C=this.length+y.length;return this.length===10&&y.length===10?S=v(this,y,E):C<63?S=m(this,y,E):C<1024?S=_(this,y,E):S=w(this,y,E),S};function I(O,y){this.x=O,this.y=y}I.prototype.makeRBT=function(y){for(var E=new Array(y),S=o.prototype._countBits(y)-1,C=0;C<y;C++)E[C]=this.revBin(C,S,y);return E},I.prototype.revBin=function(y,E,S){if(y===0||y===S-1)return y;for(var C=0,T=0;T<E;T++)C|=(y&1)<<E-T-1,y>>=1;return C},I.prototype.permute=function(y,E,S,C,T,j){for(var A=0;A<j;A++)C[A]=E[y[A]],T[A]=S[y[A]]},I.prototype.transform=function(y,E,S,C,T,j){this.permute(j,y,E,S,C,T);for(var A=1;A<T;A<<=1)for(var M=A<<1,x=Math.cos(2*Math.PI/M),R=Math.sin(2*Math.PI/M),F=0;F<T;F+=M)for(var U=x,K=R,G=0;G<A;G++){var Q=S[F+G],ne=C[F+G],J=S[F+G+A],Z=C[F+G+A],ee=U*J-K*Z;Z=U*Z+K*J,J=ee,S[F+G]=Q+J,C[F+G]=ne+Z,S[F+G+A]=Q-J,C[F+G+A]=ne-Z,G!==M&&(ee=x*U-R*K,K=x*K+R*U,U=ee)}},I.prototype.guessLen13b=function(y,E){var S=Math.max(E,y)|1,C=S&1,T=0;for(S=S/2|0;S;S=S>>>1)T++;return 1<<T+1+C},I.prototype.conjugate=function(y,E,S){if(!(S<=1))for(var C=0;C<S/2;C++){var T=y[C];y[C]=y[S-C-1],y[S-C-1]=T,T=E[C],E[C]=-E[S-C-1],E[S-C-1]=-T}},I.prototype.normalize13b=function(y,E){for(var S=0,C=0;C<E/2;C++){var T=Math.round(y[2*C+1]/E)*8192+Math.round(y[2*C]/E)+S;y[C]=T&67108863,T<67108864?S=0:S=T/67108864|0}return y},I.prototype.convert13b=function(y,E,S,C){for(var T=0,j=0;j<E;j++)T=T+(y[j]|0),S[2*j]=T&8191,T=T>>>13,S[2*j+1]=T&8191,T=T>>>13;for(j=2*E;j<C;++j)S[j]=0;r(T===0),r((T&-8192)===0)},I.prototype.stub=function(y){for(var E=new Array(y),S=0;S<y;S++)E[S]=0;return E},I.prototype.mulp=function(y,E,S){var C=2*this.guessLen13b(y.length,E.length),T=this.makeRBT(C),j=this.stub(C),A=new Array(C),M=new Array(C),x=new Array(C),R=new Array(C),F=new Array(C),U=new Array(C),K=S.words;K.length=C,this.convert13b(y.words,y.length,A,C),this.convert13b(E.words,E.length,R,C),this.transform(A,j,M,x,C,T),this.transform(R,j,F,U,C,T);for(var G=0;G<C;G++){var Q=M[G]*F[G]-x[G]*U[G];x[G]=M[G]*U[G]+x[G]*F[G],M[G]=Q}return this.conjugate(M,x,C),this.transform(M,x,K,j,C,T),this.conjugate(K,j,C),this.normalize13b(K,C),S.negative=y.negative^E.negative,S.length=y.length+E.length,S.strip()},o.prototype.mul=function(y){var E=new o(null);return E.words=new Array(this.length+y.length),this.mulTo(y,E)},o.prototype.mulf=function(y){var E=new o(null);return E.words=new Array(this.length+y.length),w(this,y,E)},o.prototype.imul=function(y){return this.clone().mulTo(y,this)},o.prototype.imuln=function(y){r(typeof y=="number"),r(y<67108864);for(var E=0,S=0;S<this.length;S++){var C=(this.words[S]|0)*y,T=(C&67108863)+(E&67108863);E>>=26,E+=C/67108864|0,E+=T>>>26,this.words[S]=T&67108863}return E!==0&&(this.words[S]=E,this.length++),this.length=y===0?1:this.length,this},o.prototype.muln=function(y){return this.clone().imuln(y)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(y){var E=g(y);if(E.length===0)return new o(1);for(var S=this,C=0;C<E.length&&E[C]===0;C++,S=S.sqr());if(++C<E.length)for(var T=S.sqr();C<E.length;C++,T=T.sqr())E[C]!==0&&(S=S.mul(T));return S},o.prototype.iushln=function(y){r(typeof y=="number"&&y>=0);var E=y%26,S=(y-E)/26,C=67108863>>>26-E<<26-E,T;if(E!==0){var j=0;for(T=0;T<this.length;T++){var A=this.words[T]&C,M=(this.words[T]|0)-A<<E;this.words[T]=M|j,j=A>>>26-E}j&&(this.words[T]=j,this.length++)}if(S!==0){for(T=this.length-1;T>=0;T--)this.words[T+S]=this.words[T];for(T=0;T<S;T++)this.words[T]=0;this.length+=S}return this.strip()},o.prototype.ishln=function(y){return r(this.negative===0),this.iushln(y)},o.prototype.iushrn=function(y,E,S){r(typeof y=="number"&&y>=0);var C;E?C=(E-E%26)/26:C=0;var T=y%26,j=Math.min((y-T)/26,this.length),A=67108863^67108863>>>T<<T,M=S;if(C-=j,C=Math.max(0,C),M){for(var x=0;x<j;x++)M.words[x]=this.words[x];M.length=j}if(j!==0)if(this.length>j)for(this.length-=j,x=0;x<this.length;x++)this.words[x]=this.words[x+j];else this.words[0]=0,this.length=1;var R=0;for(x=this.length-1;x>=0&&(R!==0||x>=C);x--){var F=this.words[x]|0;this.words[x]=R<<26-T|F>>>T,R=F&A}return M&&R!==0&&(M.words[M.length++]=R),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(y,E,S){return r(this.negative===0),this.iushrn(y,E,S)},o.prototype.shln=function(y){return this.clone().ishln(y)},o.prototype.ushln=function(y){return this.clone().iushln(y)},o.prototype.shrn=function(y){return this.clone().ishrn(y)},o.prototype.ushrn=function(y){return this.clone().iushrn(y)},o.prototype.testn=function(y){r(typeof y=="number"&&y>=0);var E=y%26,S=(y-E)/26,C=1<<E;if(this.length<=S)return!1;var T=this.words[S];return!!(T&C)},o.prototype.imaskn=function(y){r(typeof y=="number"&&y>=0);var E=y%26,S=(y-E)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(E!==0&&S++,this.length=Math.min(S,this.length),E!==0){var C=67108863^67108863>>>E<<E;this.words[this.length-1]&=C}return this.strip()},o.prototype.maskn=function(y){return this.clone().imaskn(y)},o.prototype.iaddn=function(y){return r(typeof y=="number"),r(y<67108864),y<0?this.isubn(-y):this.negative!==0?this.length===1&&(this.words[0]|0)<y?(this.words[0]=y-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(y),this.negative=1,this):this._iaddn(y)},o.prototype._iaddn=function(y){this.words[0]+=y;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},o.prototype.isubn=function(y){if(r(typeof y=="number"),r(y<67108864),y<0)return this.iaddn(-y);if(this.negative!==0)return this.negative=0,this.iaddn(y),this.negative=1,this;if(this.words[0]-=y,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this.strip()},o.prototype.addn=function(y){return this.clone().iaddn(y)},o.prototype.subn=function(y){return this.clone().isubn(y)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(y,E,S){var C=y.length+S,T;this._expand(C);var j,A=0;for(T=0;T<y.length;T++){j=(this.words[T+S]|0)+A;var M=(y.words[T]|0)*E;j-=M&67108863,A=(j>>26)-(M/67108864|0),this.words[T+S]=j&67108863}for(;T<this.length-S;T++)j=(this.words[T+S]|0)+A,A=j>>26,this.words[T+S]=j&67108863;if(A===0)return this.strip();for(r(A===-1),A=0,T=0;T<this.length;T++)j=-(this.words[T]|0)+A,A=j>>26,this.words[T]=j&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(y,E){var S=this.length-y.length,C=this.clone(),T=y,j=T.words[T.length-1]|0,A=this._countBits(j);S=26-A,S!==0&&(T=T.ushln(S),C.iushln(S),j=T.words[T.length-1]|0);var M=C.length-T.length,x;if(E!=="mod"){x=new o(null),x.length=M+1,x.words=new Array(x.length);for(var R=0;R<x.length;R++)x.words[R]=0}var F=C.clone()._ishlnsubmul(T,1,M);F.negative===0&&(C=F,x&&(x.words[M]=1));for(var U=M-1;U>=0;U--){var K=(C.words[T.length+U]|0)*67108864+(C.words[T.length+U-1]|0);for(K=Math.min(K/j|0,67108863),C._ishlnsubmul(T,K,U);C.negative!==0;)K--,C.negative=0,C._ishlnsubmul(T,1,U),C.isZero()||(C.negative^=1);x&&(x.words[U]=K)}return x&&x.strip(),C.strip(),E!=="div"&&S!==0&&C.iushrn(S),{div:x||null,mod:C}},o.prototype.divmod=function(y,E,S){if(r(!y.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var C,T,j;return this.negative!==0&&y.negative===0?(j=this.neg().divmod(y,E),E!=="mod"&&(C=j.div.neg()),E!=="div"&&(T=j.mod.neg(),S&&T.negative!==0&&T.iadd(y)),{div:C,mod:T}):this.negative===0&&y.negative!==0?(j=this.divmod(y.neg(),E),E!=="mod"&&(C=j.div.neg()),{div:C,mod:j.mod}):(this.negative&y.negative)!==0?(j=this.neg().divmod(y.neg(),E),E!=="div"&&(T=j.mod.neg(),S&&T.negative!==0&&T.isub(y)),{div:j.div,mod:T}):y.length>this.length||this.cmp(y)<0?{div:new o(0),mod:this}:y.length===1?E==="div"?{div:this.divn(y.words[0]),mod:null}:E==="mod"?{div:null,mod:new o(this.modn(y.words[0]))}:{div:this.divn(y.words[0]),mod:new o(this.modn(y.words[0]))}:this._wordDiv(y,E)},o.prototype.div=function(y){return this.divmod(y,"div",!1).div},o.prototype.mod=function(y){return this.divmod(y,"mod",!1).mod},o.prototype.umod=function(y){return this.divmod(y,"mod",!0).mod},o.prototype.divRound=function(y){var E=this.divmod(y);if(E.mod.isZero())return E.div;var S=E.div.negative!==0?E.mod.isub(y):E.mod,C=y.ushrn(1),T=y.andln(1),j=S.cmp(C);return j<0||T===1&&j===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},o.prototype.modn=function(y){r(y<=67108863);for(var E=(1<<26)%y,S=0,C=this.length-1;C>=0;C--)S=(E*S+(this.words[C]|0))%y;return S},o.prototype.idivn=function(y){r(y<=67108863);for(var E=0,S=this.length-1;S>=0;S--){var C=(this.words[S]|0)+E*67108864;this.words[S]=C/y|0,E=C%y}return this.strip()},o.prototype.divn=function(y){return this.clone().idivn(y)},o.prototype.egcd=function(y){r(y.negative===0),r(!y.isZero());var E=this,S=y.clone();E.negative!==0?E=E.umod(y):E=E.clone();for(var C=new o(1),T=new o(0),j=new o(0),A=new o(1),M=0;E.isEven()&&S.isEven();)E.iushrn(1),S.iushrn(1),++M;for(var x=S.clone(),R=E.clone();!E.isZero();){for(var F=0,U=1;(E.words[0]&U)===0&&F<26;++F,U<<=1);if(F>0)for(E.iushrn(F);F-- >0;)(C.isOdd()||T.isOdd())&&(C.iadd(x),T.isub(R)),C.iushrn(1),T.iushrn(1);for(var K=0,G=1;(S.words[0]&G)===0&&K<26;++K,G<<=1);if(K>0)for(S.iushrn(K);K-- >0;)(j.isOdd()||A.isOdd())&&(j.iadd(x),A.isub(R)),j.iushrn(1),A.iushrn(1);E.cmp(S)>=0?(E.isub(S),C.isub(j),T.isub(A)):(S.isub(E),j.isub(C),A.isub(T))}return{a:j,b:A,gcd:S.iushln(M)}},o.prototype._invmp=function(y){r(y.negative===0),r(!y.isZero());var E=this,S=y.clone();E.negative!==0?E=E.umod(y):E=E.clone();for(var C=new o(1),T=new o(0),j=S.clone();E.cmpn(1)>0&&S.cmpn(1)>0;){for(var A=0,M=1;(E.words[0]&M)===0&&A<26;++A,M<<=1);if(A>0)for(E.iushrn(A);A-- >0;)C.isOdd()&&C.iadd(j),C.iushrn(1);for(var x=0,R=1;(S.words[0]&R)===0&&x<26;++x,R<<=1);if(x>0)for(S.iushrn(x);x-- >0;)T.isOdd()&&T.iadd(j),T.iushrn(1);E.cmp(S)>=0?(E.isub(S),C.isub(T)):(S.isub(E),T.isub(C))}var F;return E.cmpn(1)===0?F=C:F=T,F.cmpn(0)<0&&F.iadd(y),F},o.prototype.gcd=function(y){if(this.isZero())return y.abs();if(y.isZero())return this.abs();var E=this.clone(),S=y.clone();E.negative=0,S.negative=0;for(var C=0;E.isEven()&&S.isEven();C++)E.iushrn(1),S.iushrn(1);do{for(;E.isEven();)E.iushrn(1);for(;S.isEven();)S.iushrn(1);var T=E.cmp(S);if(T<0){var j=E;E=S,S=j}else if(T===0||S.cmpn(1)===0)break;E.isub(S)}while(!0);return S.iushln(C)},o.prototype.invm=function(y){return this.egcd(y).a.umod(y)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(y){return this.words[0]&y},o.prototype.bincn=function(y){r(typeof y=="number");var E=y%26,S=(y-E)/26,C=1<<E;if(this.length<=S)return this._expand(S+1),this.words[S]|=C,this;for(var T=C,j=S;T!==0&&j<this.length;j++){var A=this.words[j]|0;A+=T,T=A>>>26,A&=67108863,this.words[j]=A}return T!==0&&(this.words[j]=T,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(y){var E=y<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;this.strip();var S;if(this.length>1)S=1;else{E&&(y=-y),r(y<=67108863,"Number is too big");var C=this.words[0]|0;S=C===y?0:C<y?-1:1}return this.negative!==0?-S|0:S},o.prototype.cmp=function(y){if(this.negative!==0&&y.negative===0)return-1;if(this.negative===0&&y.negative!==0)return 1;var E=this.ucmp(y);return this.negative!==0?-E|0:E},o.prototype.ucmp=function(y){if(this.length>y.length)return 1;if(this.length<y.length)return-1;for(var E=0,S=this.length-1;S>=0;S--){var C=this.words[S]|0,T=y.words[S]|0;if(C!==T){C<T?E=-1:C>T&&(E=1);break}}return E},o.prototype.gtn=function(y){return this.cmpn(y)===1},o.prototype.gt=function(y){return this.cmp(y)===1},o.prototype.gten=function(y){return this.cmpn(y)>=0},o.prototype.gte=function(y){return this.cmp(y)>=0},o.prototype.ltn=function(y){return this.cmpn(y)===-1},o.prototype.lt=function(y){return this.cmp(y)===-1},o.prototype.lten=function(y){return this.cmpn(y)<=0},o.prototype.lte=function(y){return this.cmp(y)<=0},o.prototype.eqn=function(y){return this.cmpn(y)===0},o.prototype.eq=function(y){return this.cmp(y)===0},o.red=function(y){return new D(y)},o.prototype.toRed=function(y){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),y.convertTo(this)._forceRed(y)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(y){return this.red=y,this},o.prototype.forceRed=function(y){return r(!this.red,"Already a number in reduction context"),this._forceRed(y)},o.prototype.redAdd=function(y){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,y)},o.prototype.redIAdd=function(y){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,y)},o.prototype.redSub=function(y){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,y)},o.prototype.redISub=function(y){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,y)},o.prototype.redShl=function(y){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,y)},o.prototype.redMul=function(y){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.mul(this,y)},o.prototype.redIMul=function(y){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.imul(this,y)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(y){return r(this.red&&!y.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,y)};var k={k256:null,p224:null,p192:null,p25519:null};function $(O,y){this.name=O,this.p=new o(y,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var y=new o(null);return y.words=new Array(Math.ceil(this.n/13)),y},$.prototype.ireduce=function(y){var E=y,S;do this.split(E,this.tmp),E=this.imulK(E),E=E.iadd(this.tmp),S=E.bitLength();while(S>this.n);var C=S<this.n?-1:E.ucmp(this.p);return C===0?(E.words[0]=0,E.length=1):C>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},$.prototype.split=function(y,E){y.iushrn(this.n,0,E)},$.prototype.imulK=function(y){return y.imul(this.k)};function L(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(L,$),L.prototype.split=function(y,E){for(var S=4194303,C=Math.min(y.length,9),T=0;T<C;T++)E.words[T]=y.words[T];if(E.length=C,y.length<=9){y.words[0]=0,y.length=1;return}var j=y.words[9];for(E.words[E.length++]=j&S,T=10;T<y.length;T++){var A=y.words[T]|0;y.words[T-10]=(A&S)<<4|j>>>22,j=A}j>>>=22,y.words[T-10]=j,j===0&&y.length>10?y.length-=10:y.length-=9},L.prototype.imulK=function(y){y.words[y.length]=0,y.words[y.length+1]=0,y.length+=2;for(var E=0,S=0;S<y.length;S++){var C=y.words[S]|0;E+=C*977,y.words[S]=E&67108863,E=C*64+(E/67108864|0)}return y.words[y.length-1]===0&&(y.length--,y.words[y.length-1]===0&&y.length--),y};function z(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(z,$);function H(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(H,$);function P(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(P,$),P.prototype.imulK=function(y){for(var E=0,S=0;S<y.length;S++){var C=(y.words[S]|0)*19+E,T=C&67108863;C>>>=26,y.words[S]=T,E=C}return E!==0&&(y.words[y.length++]=E),y},o._prime=function(y){if(k[y])return k[y];var E;if(y==="k256")E=new L;else if(y==="p224")E=new z;else if(y==="p192")E=new H;else if(y==="p25519")E=new P;else throw new Error("Unknown prime "+y);return k[y]=E,E};function D(O){if(typeof O=="string"){var y=o._prime(O);this.m=y.p,this.prime=y}else r(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}D.prototype._verify1=function(y){r(y.negative===0,"red works only with positives"),r(y.red,"red works only with red numbers")},D.prototype._verify2=function(y,E){r((y.negative|E.negative)===0,"red works only with positives"),r(y.red&&y.red===E.red,"red works only with red numbers")},D.prototype.imod=function(y){return this.prime?this.prime.ireduce(y)._forceRed(this):y.umod(this.m)._forceRed(this)},D.prototype.neg=function(y){return y.isZero()?y.clone():this.m.sub(y)._forceRed(this)},D.prototype.add=function(y,E){this._verify2(y,E);var S=y.add(E);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},D.prototype.iadd=function(y,E){this._verify2(y,E);var S=y.iadd(E);return S.cmp(this.m)>=0&&S.isub(this.m),S},D.prototype.sub=function(y,E){this._verify2(y,E);var S=y.sub(E);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},D.prototype.isub=function(y,E){this._verify2(y,E);var S=y.isub(E);return S.cmpn(0)<0&&S.iadd(this.m),S},D.prototype.shl=function(y,E){return this._verify1(y),this.imod(y.ushln(E))},D.prototype.imul=function(y,E){return this._verify2(y,E),this.imod(y.imul(E))},D.prototype.mul=function(y,E){return this._verify2(y,E),this.imod(y.mul(E))},D.prototype.isqr=function(y){return this.imul(y,y.clone())},D.prototype.sqr=function(y){return this.mul(y,y)},D.prototype.sqrt=function(y){if(y.isZero())return y.clone();var E=this.m.andln(3);if(r(E%2===1),E===3){var S=this.m.add(new o(1)).iushrn(2);return this.pow(y,S)}for(var C=this.m.subn(1),T=0;!C.isZero()&&C.andln(1)===0;)T++,C.iushrn(1);r(!C.isZero());var j=new o(1).toRed(this),A=j.redNeg(),M=this.m.subn(1).iushrn(1),x=this.m.bitLength();for(x=new o(2*x*x).toRed(this);this.pow(x,M).cmp(A)!==0;)x.redIAdd(A);for(var R=this.pow(x,C),F=this.pow(y,C.addn(1).iushrn(1)),U=this.pow(y,C),K=T;U.cmp(j)!==0;){for(var G=U,Q=0;G.cmp(j)!==0;Q++)G=G.redSqr();r(Q<K);var ne=this.pow(R,new o(1).iushln(K-Q-1));F=F.redMul(ne),R=ne.redSqr(),U=U.redMul(R),K=Q}return F},D.prototype.invm=function(y){var E=y._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},D.prototype.pow=function(y,E){if(E.isZero())return new o(1).toRed(this);if(E.cmpn(1)===0)return y.clone();var S=4,C=new Array(1<<S);C[0]=new o(1).toRed(this),C[1]=y;for(var T=2;T<C.length;T++)C[T]=this.mul(C[T-1],y);var j=C[0],A=0,M=0,x=E.bitLength()%26;for(x===0&&(x=26),T=E.length-1;T>=0;T--){for(var R=E.words[T],F=x-1;F>=0;F--){var U=R>>F&1;if(j!==C[0]&&(j=this.sqr(j)),U===0&&A===0){M=0;continue}A<<=1,A|=U,M++,!(M!==S&&(T!==0||F!==0))&&(j=this.mul(j,C[A]),M=0,A=0)}x=26}return j},D.prototype.convertTo=function(y){var E=y.umod(this.m);return E===y?E.clone():E},D.prototype.convertFrom=function(y){var E=y.clone();return E.red=null,E},o.mont=function(y){return new B(y)};function B(O){D.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(B,D),B.prototype.convertTo=function(y){return this.imod(y.ushln(this.shift))},B.prototype.convertFrom=function(y){var E=this.imod(y.mul(this.rinv));return E.red=null,E},B.prototype.imul=function(y,E){if(y.isZero()||E.isZero())return y.words[0]=0,y.length=1,y;var S=y.imul(E),C=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=S.isub(C).iushrn(this.shift),j=T;return T.cmp(this.m)>=0?j=T.isub(this.m):T.cmpn(0)<0&&(j=T.iadd(this.m)),j._forceRed(this)},B.prototype.mul=function(y,E){if(y.isZero()||E.isZero())return new o(0)._forceRed(this);var S=y.mul(E),C=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=S.isub(C).iushrn(this.shift),j=T;return T.cmp(this.m)>=0?j=T.isub(this.m):T.cmpn(0)<0&&(j=T.iadd(this.m)),j._forceRed(this)},B.prototype.invm=function(y){var E=this.imod(y._invmp(this.m).mul(this.r2));return E._forceRed(this)}})(t,mF)}(rm)),rm.exports}var rb={},W5;function TR(){return W5||(W5=1,function(t){var e=t;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var s=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)s[l]=o[l]|0;return s}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)s.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var c=o.charCodeAt(l),u=c>>8,f=c&255;u?s.push(u,f):s.push(f)}return s}e.toArray=n;function r(o){return o.length===1?"0"+o:o}e.zero2=r;function i(o){for(var a="",s=0;s<o.length;s++)a+=r(o[s].toString(16));return a}e.toHex=i,e.encode=function(a,s){return s==="hex"?i(a):a}}(rb)),rb}var K5;function xo(){return K5||(K5=1,function(t){var e=t,n=Ma(),r=yu(),i=TR();e.assert=r,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function o(u,f,p){var g=new Array(Math.max(u.bitLength(),p)+1),m;for(m=0;m<g.length;m+=1)g[m]=0;var v=1<<f+1,_=u.clone();for(m=0;m<g.length;m++){var w,I=_.andln(v-1);_.isOdd()?(I>(v>>1)-1?w=(v>>1)-I:w=I,_.isubn(w)):w=0,g[m]=w,_.iushrn(1)}return g}e.getNAF=o;function a(u,f){var p=[[],[]];u=u.clone(),f=f.clone();for(var g=0,m=0,v;u.cmpn(-g)>0||f.cmpn(-m)>0;){var _=u.andln(3)+g&3,w=f.andln(3)+m&3;_===3&&(_=-1),w===3&&(w=-1);var I;(_&1)===0?I=0:(v=u.andln(7)+g&7,(v===3||v===5)&&w===2?I=-_:I=_),p[0].push(I);var k;(w&1)===0?k=0:(v=f.andln(7)+m&7,(v===3||v===5)&&_===2?k=-w:k=w),p[1].push(k),2*g===I+1&&(g=1-g),2*m===k+1&&(m=1-m),u.iushrn(1),f.iushrn(1)}return p}e.getJSF=a;function s(u,f,p){var g="_"+f;u.prototype[f]=function(){return this[g]!==void 0?this[g]:this[g]=p.call(this)}}e.cachedProperty=s;function l(u){return typeof u=="string"?e.toArray(u,"hex"):u}e.parseBytes=l;function c(u){return new n(u,"hex","le")}e.intFromLE=c}(nb)),nb}var K0={exports:{}},V5;function PR(){if(V5)return K0.exports;V5=1;var t;K0.exports=function(i){return t||(t=new e(null)),t.generate(i)};function e(r){this.rand=r}if(K0.exports.Rand=e,e.prototype.generate=function(i){return this._rand(i)},e.prototype._rand=function(i){if(this.rand.getBytes)return this.rand.getBytes(i);for(var o=new Uint8Array(i),a=0;a<o.length;a++)o[a]=this.rand.getByte();return o},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(i){var o=new Uint8Array(i);return self.crypto.getRandomValues(o),o}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(i){var o=new Uint8Array(i);return self.msCrypto.getRandomValues(o),o}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var n=yR;if(typeof n.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(i){return n.randomBytes(i)}}catch{}return K0.exports}var ib={},ob,G5;function Dv(){if(G5)return ob;G5=1;var t=Ma(),e=xo(),n=e.getNAF,r=e.getJSF,i=e.assert;function o(s,l){this.type=s,this.p=new t(l.p,16),this.red=l.prime?t.red(l.prime):t.mont(this.p),this.zero=new t(0).toRed(this.red),this.one=new t(1).toRed(this.red),this.two=new t(2).toRed(this.red),this.n=l.n&&new t(l.n,16),this.g=l.g&&this.pointFromJSON(l.g,l.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var c=this.n&&this.p.div(this.n);!c||c.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}ob=o,o.prototype.point=function(){throw new Error("Not implemented")},o.prototype.validate=function(){throw new Error("Not implemented")},o.prototype._fixedNafMul=function(l,c){i(l.precomputed);var u=l._getDoubles(),f=n(c,1,this._bitLength),p=(1<<u.step+1)-(u.step%2===0?2:1);p/=3;var g=[],m,v;for(m=0;m<f.length;m+=u.step){v=0;for(var _=m+u.step-1;_>=m;_--)v=(v<<1)+f[_];g.push(v)}for(var w=this.jpoint(null,null,null),I=this.jpoint(null,null,null),k=p;k>0;k--){for(m=0;m<g.length;m++)v=g[m],v===k?I=I.mixedAdd(u.points[m]):v===-k&&(I=I.mixedAdd(u.points[m].neg()));w=w.add(I)}return w.toP()},o.prototype._wnafMul=function(l,c){var u=4,f=l._getNAFPoints(u);u=f.wnd;for(var p=f.points,g=n(c,u,this._bitLength),m=this.jpoint(null,null,null),v=g.length-1;v>=0;v--){for(var _=0;v>=0&&g[v]===0;v--)_++;if(v>=0&&_++,m=m.dblp(_),v<0)break;var w=g[v];i(w!==0),l.type==="affine"?w>0?m=m.mixedAdd(p[w-1>>1]):m=m.mixedAdd(p[-w-1>>1].neg()):w>0?m=m.add(p[w-1>>1]):m=m.add(p[-w-1>>1].neg())}return l.type==="affine"?m.toP():m},o.prototype._wnafMulAdd=function(l,c,u,f,p){var g=this._wnafT1,m=this._wnafT2,v=this._wnafT3,_=0,w,I,k;for(w=0;w<f;w++){k=c[w];var $=k._getNAFPoints(l);g[w]=$.wnd,m[w]=$.points}for(w=f-1;w>=1;w-=2){var L=w-1,z=w;if(g[L]!==1||g[z]!==1){v[L]=n(u[L],g[L],this._bitLength),v[z]=n(u[z],g[z],this._bitLength),_=Math.max(v[L].length,_),_=Math.max(v[z].length,_);continue}var H=[c[L],null,null,c[z]];c[L].y.cmp(c[z].y)===0?(H[1]=c[L].add(c[z]),H[2]=c[L].toJ().mixedAdd(c[z].neg())):c[L].y.cmp(c[z].y.redNeg())===0?(H[1]=c[L].toJ().mixedAdd(c[z]),H[2]=c[L].add(c[z].neg())):(H[1]=c[L].toJ().mixedAdd(c[z]),H[2]=c[L].toJ().mixedAdd(c[z].neg()));var P=[-3,-1,-5,-7,0,7,5,1,3],D=r(u[L],u[z]);for(_=Math.max(D[0].length,_),v[L]=new Array(_),v[z]=new Array(_),I=0;I<_;I++){var B=D[0][I]|0,O=D[1][I]|0;v[L][I]=P[(B+1)*3+(O+1)],v[z][I]=0,m[L]=H}}var y=this.jpoint(null,null,null),E=this._wnafT4;for(w=_;w>=0;w--){for(var S=0;w>=0;){var C=!0;for(I=0;I<f;I++)E[I]=v[I][w]|0,E[I]!==0&&(C=!1);if(!C)break;S++,w--}if(w>=0&&S++,y=y.dblp(S),w<0)break;for(I=0;I<f;I++){var T=E[I];T!==0&&(T>0?k=m[I][T-1>>1]:T<0&&(k=m[I][-T-1>>1].neg()),k.type==="affine"?y=y.mixedAdd(k):y=y.add(k))}}for(w=0;w<f;w++)m[w]=null;return p?y:y.toP()};function a(s,l){this.curve=s,this.type=l,this.precomputed=null}return o.BasePoint=a,a.prototype.eq=function(){throw new Error("Not implemented")},a.prototype.validate=function(){return this.curve.validate(this)},o.prototype.decodePoint=function(l,c){l=e.toArray(l,c);var u=this.p.byteLength();if((l[0]===4||l[0]===6||l[0]===7)&&l.length-1===2*u){l[0]===6?i(l[l.length-1]%2===0):l[0]===7&&i(l[l.length-1]%2===1);var f=this.point(l.slice(1,1+u),l.slice(1+u,1+2*u));return f}else if((l[0]===2||l[0]===3)&&l.length-1===u)return this.pointFromX(l.slice(1,1+u),l[0]===3);throw new Error("Unknown point format")},a.prototype.encodeCompressed=function(l){return this.encode(l,!0)},a.prototype._encode=function(l){var c=this.curve.p.byteLength(),u=this.getX().toArray("be",c);return l?[this.getY().isEven()?2:3].concat(u):[4].concat(u,this.getY().toArray("be",c))},a.prototype.encode=function(l,c){return e.encode(this._encode(c),l)},a.prototype.precompute=function(l){if(this.precomputed)return this;var c={doubles:null,naf:null,beta:null};return c.naf=this._getNAFPoints(8),c.doubles=this._getDoubles(4,l),c.beta=this._getBeta(),this.precomputed=c,this},a.prototype._hasDoubles=function(l){if(!this.precomputed)return!1;var c=this.precomputed.doubles;return c?c.points.length>=Math.ceil((l.bitLength()+1)/c.step):!1},a.prototype._getDoubles=function(l,c){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var u=[this],f=this,p=0;p<c;p+=l){for(var g=0;g<l;g++)f=f.dbl();u.push(f)}return{step:l,points:u}},a.prototype._getNAFPoints=function(l){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var c=[this],u=(1<<l)-1,f=u===1?null:this.dbl(),p=1;p<u;p++)c[p]=c[p-1].add(f);return{wnd:l,points:c}},a.prototype._getBeta=function(){return null},a.prototype.dblp=function(l){for(var c=this,u=0;u<l;u++)c=c.dbl();return c},ob}var sb,Y5;function vF(){if(Y5)return sb;Y5=1;var t=xo(),e=Ma(),n=Go(),r=Dv(),i=t.assert;function o(l){r.call(this,"short",l),this.a=new e(l.a,16).toRed(this.red),this.b=new e(l.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(l),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}n(o,r),sb=o,o.prototype._getEndomorphism=function(c){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var u,f;if(c.beta)u=new e(c.beta,16).toRed(this.red);else{var p=this._getEndoRoots(this.p);u=p[0].cmp(p[1])<0?p[0]:p[1],u=u.toRed(this.red)}if(c.lambda)f=new e(c.lambda,16);else{var g=this._getEndoRoots(this.n);this.g.mul(g[0]).x.cmp(this.g.x.redMul(u))===0?f=g[0]:(f=g[1],i(this.g.mul(f).x.cmp(this.g.x.redMul(u))===0))}var m;return c.basis?m=c.basis.map(function(v){return{a:new e(v.a,16),b:new e(v.b,16)}}):m=this._getEndoBasis(f),{beta:u,lambda:f,basis:m}}},o.prototype._getEndoRoots=function(c){var u=c===this.p?this.red:e.mont(c),f=new e(2).toRed(u).redInvm(),p=f.redNeg(),g=new e(3).toRed(u).redNeg().redSqrt().redMul(f),m=p.redAdd(g).fromRed(),v=p.redSub(g).fromRed();return[m,v]},o.prototype._getEndoBasis=function(c){for(var u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=c,p=this.n.clone(),g=new e(1),m=new e(0),v=new e(0),_=new e(1),w,I,k,$,L,z,H,P=0,D,B;f.cmpn(0)!==0;){var O=p.div(f);D=p.sub(O.mul(f)),B=v.sub(O.mul(g));var y=_.sub(O.mul(m));if(!k&&D.cmp(u)<0)w=H.neg(),I=g,k=D.neg(),$=B;else if(k&&++P===2)break;H=D,p=f,f=D,v=g,g=B,_=m,m=y}L=D.neg(),z=B;var E=k.sqr().add($.sqr()),S=L.sqr().add(z.sqr());return S.cmp(E)>=0&&(L=w,z=I),k.negative&&(k=k.neg(),$=$.neg()),L.negative&&(L=L.neg(),z=z.neg()),[{a:k,b:$},{a:L,b:z}]},o.prototype._endoSplit=function(c){var u=this.endo.basis,f=u[0],p=u[1],g=p.b.mul(c).divRound(this.n),m=f.b.neg().mul(c).divRound(this.n),v=g.mul(f.a),_=m.mul(p.a),w=g.mul(f.b),I=m.mul(p.b),k=c.sub(v).sub(_),$=w.add(I).neg();return{k1:k,k2:$}},o.prototype.pointFromX=function(c,u){c=new e(c,16),c.red||(c=c.toRed(this.red));var f=c.redSqr().redMul(c).redIAdd(c.redMul(this.a)).redIAdd(this.b),p=f.redSqrt();if(p.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");var g=p.fromRed().isOdd();return(u&&!g||!u&&g)&&(p=p.redNeg()),this.point(c,p)},o.prototype.validate=function(c){if(c.inf)return!0;var u=c.x,f=c.y,p=this.a.redMul(u),g=u.redSqr().redMul(u).redIAdd(p).redIAdd(this.b);return f.redSqr().redISub(g).cmpn(0)===0},o.prototype._endoWnafMulAdd=function(c,u,f){for(var p=this._endoWnafT1,g=this._endoWnafT2,m=0;m<c.length;m++){var v=this._endoSplit(u[m]),_=c[m],w=_._getBeta();v.k1.negative&&(v.k1.ineg(),_=_.neg(!0)),v.k2.negative&&(v.k2.ineg(),w=w.neg(!0)),p[m*2]=_,p[m*2+1]=w,g[m*2]=v.k1,g[m*2+1]=v.k2}for(var I=this._wnafMulAdd(1,p,g,m*2,f),k=0;k<m*2;k++)p[k]=null,g[k]=null;return I};function a(l,c,u,f){r.BasePoint.call(this,l,"affine"),c===null&&u===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(c,16),this.y=new e(u,16),f&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}n(a,r.BasePoint),o.prototype.point=function(c,u,f){return new a(this,c,u,f)},o.prototype.pointFromJSON=function(c,u){return a.fromJSON(this,c,u)},a.prototype._getBeta=function(){if(this.curve.endo){var c=this.precomputed;if(c&&c.beta)return c.beta;var u=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(c){var f=this.curve,p=function(g){return f.point(g.x.redMul(f.endo.beta),g.y)};c.beta=u,u.precomputed={beta:null,naf:c.naf&&{wnd:c.naf.wnd,points:c.naf.points.map(p)},doubles:c.doubles&&{step:c.doubles.step,points:c.doubles.points.map(p)}}}return u}},a.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},a.fromJSON=function(c,u,f){typeof u=="string"&&(u=JSON.parse(u));var p=c.point(u[0],u[1],f);if(!u[2])return p;function g(v){return c.point(v[0],v[1],f)}var m=u[2];return p.precomputed={beta:null,doubles:m.doubles&&{step:m.doubles.step,points:[p].concat(m.doubles.points.map(g))},naf:m.naf&&{wnd:m.naf.wnd,points:[p].concat(m.naf.points.map(g))}},p},a.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},a.prototype.isInfinity=function(){return this.inf},a.prototype.add=function(c){if(this.inf)return c;if(c.inf)return this;if(this.eq(c))return this.dbl();if(this.neg().eq(c))return this.curve.point(null,null);if(this.x.cmp(c.x)===0)return this.curve.point(null,null);var u=this.y.redSub(c.y);u.cmpn(0)!==0&&(u=u.redMul(this.x.redSub(c.x).redInvm()));var f=u.redSqr().redISub(this.x).redISub(c.x),p=u.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,p)},a.prototype.dbl=function(){if(this.inf)return this;var c=this.y.redAdd(this.y);if(c.cmpn(0)===0)return this.curve.point(null,null);var u=this.curve.a,f=this.x.redSqr(),p=c.redInvm(),g=f.redAdd(f).redIAdd(f).redIAdd(u).redMul(p),m=g.redSqr().redISub(this.x.redAdd(this.x)),v=g.redMul(this.x.redSub(m)).redISub(this.y);return this.curve.point(m,v)},a.prototype.getX=function(){return this.x.fromRed()},a.prototype.getY=function(){return this.y.fromRed()},a.prototype.mul=function(c){return c=new e(c,16),this.isInfinity()?this:this._hasDoubles(c)?this.curve._fixedNafMul(this,c):this.curve.endo?this.curve._endoWnafMulAdd([this],[c]):this.curve._wnafMul(this,c)},a.prototype.mulAdd=function(c,u,f){var p=[this,u],g=[c,f];return this.curve.endo?this.curve._endoWnafMulAdd(p,g):this.curve._wnafMulAdd(1,p,g,2)},a.prototype.jmulAdd=function(c,u,f){var p=[this,u],g=[c,f];return this.curve.endo?this.curve._endoWnafMulAdd(p,g,!0):this.curve._wnafMulAdd(1,p,g,2,!0)},a.prototype.eq=function(c){return this===c||this.inf===c.inf&&(this.inf||this.x.cmp(c.x)===0&&this.y.cmp(c.y)===0)},a.prototype.neg=function(c){if(this.inf)return this;var u=this.curve.point(this.x,this.y.redNeg());if(c&&this.precomputed){var f=this.precomputed,p=function(g){return g.neg()};u.precomputed={naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(p)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(p)}}}return u},a.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var c=this.curve.jpoint(this.x,this.y,this.curve.one);return c};function s(l,c,u,f){r.BasePoint.call(this,l,"jacobian"),c===null&&u===null&&f===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(c,16),this.y=new e(u,16),this.z=new e(f,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return n(s,r.BasePoint),o.prototype.jpoint=function(c,u,f){return new s(this,c,u,f)},s.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var c=this.z.redInvm(),u=c.redSqr(),f=this.x.redMul(u),p=this.y.redMul(u).redMul(c);return this.curve.point(f,p)},s.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},s.prototype.add=function(c){if(this.isInfinity())return c;if(c.isInfinity())return this;var u=c.z.redSqr(),f=this.z.redSqr(),p=this.x.redMul(u),g=c.x.redMul(f),m=this.y.redMul(u.redMul(c.z)),v=c.y.redMul(f.redMul(this.z)),_=p.redSub(g),w=m.redSub(v);if(_.cmpn(0)===0)return w.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var I=_.redSqr(),k=I.redMul(_),$=p.redMul(I),L=w.redSqr().redIAdd(k).redISub($).redISub($),z=w.redMul($.redISub(L)).redISub(m.redMul(k)),H=this.z.redMul(c.z).redMul(_);return this.curve.jpoint(L,z,H)},s.prototype.mixedAdd=function(c){if(this.isInfinity())return c.toJ();if(c.isInfinity())return this;var u=this.z.redSqr(),f=this.x,p=c.x.redMul(u),g=this.y,m=c.y.redMul(u).redMul(this.z),v=f.redSub(p),_=g.redSub(m);if(v.cmpn(0)===0)return _.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var w=v.redSqr(),I=w.redMul(v),k=f.redMul(w),$=_.redSqr().redIAdd(I).redISub(k).redISub(k),L=_.redMul(k.redISub($)).redISub(g.redMul(I)),z=this.z.redMul(v);return this.curve.jpoint($,L,z)},s.prototype.dblp=function(c){if(c===0)return this;if(this.isInfinity())return this;if(!c)return this.dbl();var u;if(this.curve.zeroA||this.curve.threeA){var f=this;for(u=0;u<c;u++)f=f.dbl();return f}var p=this.curve.a,g=this.curve.tinv,m=this.x,v=this.y,_=this.z,w=_.redSqr().redSqr(),I=v.redAdd(v);for(u=0;u<c;u++){var k=m.redSqr(),$=I.redSqr(),L=$.redSqr(),z=k.redAdd(k).redIAdd(k).redIAdd(p.redMul(w)),H=m.redMul($),P=z.redSqr().redISub(H.redAdd(H)),D=H.redISub(P),B=z.redMul(D);B=B.redIAdd(B).redISub(L);var O=I.redMul(_);u+1<c&&(w=w.redMul(L)),m=P,_=O,I=B}return this.curve.jpoint(m,I.redMul(g),_)},s.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},s.prototype._zeroDbl=function(){var c,u,f;if(this.zOne){var p=this.x.redSqr(),g=this.y.redSqr(),m=g.redSqr(),v=this.x.redAdd(g).redSqr().redISub(p).redISub(m);v=v.redIAdd(v);var _=p.redAdd(p).redIAdd(p),w=_.redSqr().redISub(v).redISub(v),I=m.redIAdd(m);I=I.redIAdd(I),I=I.redIAdd(I),c=w,u=_.redMul(v.redISub(w)).redISub(I),f=this.y.redAdd(this.y)}else{var k=this.x.redSqr(),$=this.y.redSqr(),L=$.redSqr(),z=this.x.redAdd($).redSqr().redISub(k).redISub(L);z=z.redIAdd(z);var H=k.redAdd(k).redIAdd(k),P=H.redSqr(),D=L.redIAdd(L);D=D.redIAdd(D),D=D.redIAdd(D),c=P.redISub(z).redISub(z),u=H.redMul(z.redISub(c)).redISub(D),f=this.y.redMul(this.z),f=f.redIAdd(f)}return this.curve.jpoint(c,u,f)},s.prototype._threeDbl=function(){var c,u,f;if(this.zOne){var p=this.x.redSqr(),g=this.y.redSqr(),m=g.redSqr(),v=this.x.redAdd(g).redSqr().redISub(p).redISub(m);v=v.redIAdd(v);var _=p.redAdd(p).redIAdd(p).redIAdd(this.curve.a),w=_.redSqr().redISub(v).redISub(v);c=w;var I=m.redIAdd(m);I=I.redIAdd(I),I=I.redIAdd(I),u=_.redMul(v.redISub(w)).redISub(I),f=this.y.redAdd(this.y)}else{var k=this.z.redSqr(),$=this.y.redSqr(),L=this.x.redMul($),z=this.x.redSub(k).redMul(this.x.redAdd(k));z=z.redAdd(z).redIAdd(z);var H=L.redIAdd(L);H=H.redIAdd(H);var P=H.redAdd(H);c=z.redSqr().redISub(P),f=this.y.redAdd(this.z).redSqr().redISub($).redISub(k);var D=$.redSqr();D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D),u=z.redMul(H.redISub(c)).redISub(D)}return this.curve.jpoint(c,u,f)},s.prototype._dbl=function(){var c=this.curve.a,u=this.x,f=this.y,p=this.z,g=p.redSqr().redSqr(),m=u.redSqr(),v=f.redSqr(),_=m.redAdd(m).redIAdd(m).redIAdd(c.redMul(g)),w=u.redAdd(u);w=w.redIAdd(w);var I=w.redMul(v),k=_.redSqr().redISub(I.redAdd(I)),$=I.redISub(k),L=v.redSqr();L=L.redIAdd(L),L=L.redIAdd(L),L=L.redIAdd(L);var z=_.redMul($).redISub(L),H=f.redAdd(f).redMul(p);return this.curve.jpoint(k,z,H)},s.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var c=this.x.redSqr(),u=this.y.redSqr(),f=this.z.redSqr(),p=u.redSqr(),g=c.redAdd(c).redIAdd(c),m=g.redSqr(),v=this.x.redAdd(u).redSqr().redISub(c).redISub(p);v=v.redIAdd(v),v=v.redAdd(v).redIAdd(v),v=v.redISub(m);var _=v.redSqr(),w=p.redIAdd(p);w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var I=g.redIAdd(v).redSqr().redISub(m).redISub(_).redISub(w),k=u.redMul(I);k=k.redIAdd(k),k=k.redIAdd(k);var $=this.x.redMul(_).redISub(k);$=$.redIAdd($),$=$.redIAdd($);var L=this.y.redMul(I.redMul(w.redISub(I)).redISub(v.redMul(_)));L=L.redIAdd(L),L=L.redIAdd(L),L=L.redIAdd(L);var z=this.z.redAdd(v).redSqr().redISub(f).redISub(_);return this.curve.jpoint($,L,z)},s.prototype.mul=function(c,u){return c=new e(c,u),this.curve._wnafMul(this,c)},s.prototype.eq=function(c){if(c.type==="affine")return this.eq(c.toJ());if(this===c)return!0;var u=this.z.redSqr(),f=c.z.redSqr();if(this.x.redMul(f).redISub(c.x.redMul(u)).cmpn(0)!==0)return!1;var p=u.redMul(this.z),g=f.redMul(c.z);return this.y.redMul(g).redISub(c.y.redMul(p)).cmpn(0)===0},s.prototype.eqXToP=function(c){var u=this.z.redSqr(),f=c.toRed(this.curve.red).redMul(u);if(this.x.cmp(f)===0)return!0;for(var p=c.clone(),g=this.curve.redN.redMul(u);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(g),this.x.cmp(f)===0)return!0}},s.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},s.prototype.isInfinity=function(){return this.z.cmpn(0)===0},sb}var ab,J5;function yF(){if(J5)return ab;J5=1;var t=Ma(),e=Go(),n=Dv(),r=xo();function i(a){n.call(this,"mont",a),this.a=new t(a.a,16).toRed(this.red),this.b=new t(a.b,16).toRed(this.red),this.i4=new t(4).toRed(this.red).redInvm(),this.two=new t(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}e(i,n),ab=i,i.prototype.validate=function(s){var l=s.normalize().x,c=l.redSqr(),u=c.redMul(l).redAdd(c.redMul(this.a)).redAdd(l),f=u.redSqrt();return f.redSqr().cmp(u)===0};function o(a,s,l){n.BasePoint.call(this,a,"projective"),s===null&&l===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new t(s,16),this.z=new t(l,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return e(o,n.BasePoint),i.prototype.decodePoint=function(s,l){return this.point(r.toArray(s,l),1)},i.prototype.point=function(s,l){return new o(this,s,l)},i.prototype.pointFromJSON=function(s){return o.fromJSON(this,s)},o.prototype.precompute=function(){},o.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},o.fromJSON=function(s,l){return new o(s,l[0],l[1]||s.one)},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.z.cmpn(0)===0},o.prototype.dbl=function(){var s=this.x.redAdd(this.z),l=s.redSqr(),c=this.x.redSub(this.z),u=c.redSqr(),f=l.redSub(u),p=l.redMul(u),g=f.redMul(u.redAdd(this.curve.a24.redMul(f)));return this.curve.point(p,g)},o.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.diffAdd=function(s,l){var c=this.x.redAdd(this.z),u=this.x.redSub(this.z),f=s.x.redAdd(s.z),p=s.x.redSub(s.z),g=p.redMul(c),m=f.redMul(u),v=l.z.redMul(g.redAdd(m).redSqr()),_=l.x.redMul(g.redISub(m).redSqr());return this.curve.point(v,_)},o.prototype.mul=function(s){for(var l=s.clone(),c=this,u=this.curve.point(null,null),f=this,p=[];l.cmpn(0)!==0;l.iushrn(1))p.push(l.andln(1));for(var g=p.length-1;g>=0;g--)p[g]===0?(c=c.diffAdd(u,f),u=u.dbl()):(u=c.diffAdd(u,f),c=c.dbl());return u},o.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.eq=function(s){return this.getX().cmp(s.getX())===0},o.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},o.prototype.getX=function(){return this.normalize(),this.x.fromRed()},ab}var lb,Z5;function wF(){if(Z5)return lb;Z5=1;var t=xo(),e=Ma(),n=Go(),r=Dv(),i=t.assert;function o(s){this.twisted=(s.a|0)!==1,this.mOneA=this.twisted&&(s.a|0)===-1,this.extended=this.mOneA,r.call(this,"edwards",s),this.a=new e(s.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new e(s.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new e(s.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),i(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(s.c|0)===1}n(o,r),lb=o,o.prototype._mulA=function(l){return this.mOneA?l.redNeg():this.a.redMul(l)},o.prototype._mulC=function(l){return this.oneC?l:this.c.redMul(l)},o.prototype.jpoint=function(l,c,u,f){return this.point(l,c,u,f)},o.prototype.pointFromX=function(l,c){l=new e(l,16),l.red||(l=l.toRed(this.red));var u=l.redSqr(),f=this.c2.redSub(this.a.redMul(u)),p=this.one.redSub(this.c2.redMul(this.d).redMul(u)),g=f.redMul(p.redInvm()),m=g.redSqrt();if(m.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var v=m.fromRed().isOdd();return(c&&!v||!c&&v)&&(m=m.redNeg()),this.point(l,m)},o.prototype.pointFromY=function(l,c){l=new e(l,16),l.red||(l=l.toRed(this.red));var u=l.redSqr(),f=u.redSub(this.c2),p=u.redMul(this.d).redMul(this.c2).redSub(this.a),g=f.redMul(p.redInvm());if(g.cmp(this.zero)===0){if(c)throw new Error("invalid point");return this.point(this.zero,l)}var m=g.redSqrt();if(m.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");return m.fromRed().isOdd()!==c&&(m=m.redNeg()),this.point(m,l)},o.prototype.validate=function(l){if(l.isInfinity())return!0;l.normalize();var c=l.x.redSqr(),u=l.y.redSqr(),f=c.redMul(this.a).redAdd(u),p=this.c2.redMul(this.one.redAdd(this.d.redMul(c).redMul(u)));return f.cmp(p)===0};function a(s,l,c,u,f){r.BasePoint.call(this,s,"projective"),l===null&&c===null&&u===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new e(l,16),this.y=new e(c,16),this.z=u?new e(u,16):this.curve.one,this.t=f&&new e(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return n(a,r.BasePoint),o.prototype.pointFromJSON=function(l){return a.fromJSON(this,l)},o.prototype.point=function(l,c,u,f){return new a(this,l,c,u,f)},a.fromJSON=function(l,c){return new a(l,c[0],c[1],c[2])},a.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},a.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},a.prototype._extDbl=function(){var l=this.x.redSqr(),c=this.y.redSqr(),u=this.z.redSqr();u=u.redIAdd(u);var f=this.curve._mulA(l),p=this.x.redAdd(this.y).redSqr().redISub(l).redISub(c),g=f.redAdd(c),m=g.redSub(u),v=f.redSub(c),_=p.redMul(m),w=g.redMul(v),I=p.redMul(v),k=m.redMul(g);return this.curve.point(_,w,k,I)},a.prototype._projDbl=function(){var l=this.x.redAdd(this.y).redSqr(),c=this.x.redSqr(),u=this.y.redSqr(),f,p,g,m,v,_;if(this.curve.twisted){m=this.curve._mulA(c);var w=m.redAdd(u);this.zOne?(f=l.redSub(c).redSub(u).redMul(w.redSub(this.curve.two)),p=w.redMul(m.redSub(u)),g=w.redSqr().redSub(w).redSub(w)):(v=this.z.redSqr(),_=w.redSub(v).redISub(v),f=l.redSub(c).redISub(u).redMul(_),p=w.redMul(m.redSub(u)),g=w.redMul(_))}else m=c.redAdd(u),v=this.curve._mulC(this.z).redSqr(),_=m.redSub(v).redSub(v),f=this.curve._mulC(l.redISub(m)).redMul(_),p=this.curve._mulC(m).redMul(c.redISub(u)),g=m.redMul(_);return this.curve.point(f,p,g)},a.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},a.prototype._extAdd=function(l){var c=this.y.redSub(this.x).redMul(l.y.redSub(l.x)),u=this.y.redAdd(this.x).redMul(l.y.redAdd(l.x)),f=this.t.redMul(this.curve.dd).redMul(l.t),p=this.z.redMul(l.z.redAdd(l.z)),g=u.redSub(c),m=p.redSub(f),v=p.redAdd(f),_=u.redAdd(c),w=g.redMul(m),I=v.redMul(_),k=g.redMul(_),$=m.redMul(v);return this.curve.point(w,I,$,k)},a.prototype._projAdd=function(l){var c=this.z.redMul(l.z),u=c.redSqr(),f=this.x.redMul(l.x),p=this.y.redMul(l.y),g=this.curve.d.redMul(f).redMul(p),m=u.redSub(g),v=u.redAdd(g),_=this.x.redAdd(this.y).redMul(l.x.redAdd(l.y)).redISub(f).redISub(p),w=c.redMul(m).redMul(_),I,k;return this.curve.twisted?(I=c.redMul(v).redMul(p.redSub(this.curve._mulA(f))),k=m.redMul(v)):(I=c.redMul(v).redMul(p.redSub(f)),k=this.curve._mulC(m).redMul(v)),this.curve.point(w,I,k)},a.prototype.add=function(l){return this.isInfinity()?l:l.isInfinity()?this:this.curve.extended?this._extAdd(l):this._projAdd(l)},a.prototype.mul=function(l){return this._hasDoubles(l)?this.curve._fixedNafMul(this,l):this.curve._wnafMul(this,l)},a.prototype.mulAdd=function(l,c,u){return this.curve._wnafMulAdd(1,[this,c],[l,u],2,!1)},a.prototype.jmulAdd=function(l,c,u){return this.curve._wnafMulAdd(1,[this,c],[l,u],2,!0)},a.prototype.normalize=function(){if(this.zOne)return this;var l=this.z.redInvm();return this.x=this.x.redMul(l),this.y=this.y.redMul(l),this.t&&(this.t=this.t.redMul(l)),this.z=this.curve.one,this.zOne=!0,this},a.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},a.prototype.getX=function(){return this.normalize(),this.x.fromRed()},a.prototype.getY=function(){return this.normalize(),this.y.fromRed()},a.prototype.eq=function(l){return this===l||this.getX().cmp(l.getX())===0&&this.getY().cmp(l.getY())===0},a.prototype.eqXToP=function(l){var c=l.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(c)===0)return!0;for(var u=l.clone(),f=this.curve.redN.redMul(this.z);;){if(u.iadd(this.curve.n),u.cmp(this.curve.p)>=0)return!1;if(c.redIAdd(f),this.x.cmp(c)===0)return!0}},a.prototype.toP=a.prototype.normalize,a.prototype.mixedAdd=a.prototype.add,lb}var Q5;function NR(){return Q5||(Q5=1,function(t){var e=t;e.base=Dv(),e.short=vF(),e.mont=yF(),e.edwards=wF()}(ib)),ib}var cb={},ub,X5;function bF(){return X5||(X5=1,ub={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),ub}var e6;function Sx(){return e6||(e6=1,function(t){var e=t,n=bx(),r=NR(),i=xo(),o=i.assert;function a(c){c.type==="short"?this.curve=new r.short(c):c.type==="edwards"?this.curve=new r.edwards(c):this.curve=new r.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=a;function s(c,u){Object.defineProperty(e,c,{configurable:!0,enumerable:!0,get:function(){var f=new a(u);return Object.defineProperty(e,c,{configurable:!0,enumerable:!0,value:f}),f}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:n.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:n.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:n.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:n.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:n.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var l;try{l=bF()}catch{l=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:n.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",l]})}(cb)),cb}var db,t6;function EF(){if(t6)return db;t6=1;var t=bx(),e=TR(),n=yu();function r(i){if(!(this instanceof r))return new r(i);this.hash=i.hash,this.predResist=!!i.predResist,this.outLen=this.hash.outSize,this.minEntropy=i.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var o=e.toArray(i.entropy,i.entropyEnc||"hex"),a=e.toArray(i.nonce,i.nonceEnc||"hex"),s=e.toArray(i.pers,i.persEnc||"hex");n(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(o,a,s)}return db=r,r.prototype._init=function(o,a,s){var l=o.concat(a).concat(s);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var c=0;c<this.V.length;c++)this.K[c]=0,this.V[c]=1;this._update(l),this._reseed=1,this.reseedInterval=281474976710656},r.prototype._hmac=function(){return new t.hmac(this.hash,this.K)},r.prototype._update=function(o){var a=this._hmac().update(this.V).update([0]);o&&(a=a.update(o)),this.K=a.digest(),this.V=this._hmac().update(this.V).digest(),o&&(this.K=this._hmac().update(this.V).update([1]).update(o).digest(),this.V=this._hmac().update(this.V).digest())},r.prototype.reseed=function(o,a,s,l){typeof a!="string"&&(l=s,s=a,a=null),o=e.toArray(o,a),s=e.toArray(s,l),n(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(o.concat(s||[])),this._reseed=1},r.prototype.generate=function(o,a,s,l){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof a!="string"&&(l=s,s=a,a=null),s&&(s=e.toArray(s,l||"hex"),this._update(s));for(var c=[];c.length<o;)this.V=this._hmac().update(this.V).digest(),c=c.concat(this.V);var u=c.slice(0,o);return this._update(s),this._reseed++,e.encode(u,a)},db}var fb,n6;function xF(){if(n6)return fb;n6=1;var t=Ma(),e=xo(),n=e.assert;function r(i,o){this.ec=i,this.priv=null,this.pub=null,o.priv&&this._importPrivate(o.priv,o.privEnc),o.pub&&this._importPublic(o.pub,o.pubEnc)}return fb=r,r.fromPublic=function(o,a,s){return a instanceof r?a:new r(o,{pub:a,pubEnc:s})},r.fromPrivate=function(o,a,s){return a instanceof r?a:new r(o,{priv:a,privEnc:s})},r.prototype.validate=function(){var o=this.getPublic();return o.isInfinity()?{result:!1,reason:"Invalid public key"}:o.validate()?o.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},r.prototype.getPublic=function(o,a){return typeof o=="string"&&(a=o,o=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,o):this.pub},r.prototype.getPrivate=function(o){return o==="hex"?this.priv.toString(16,2):this.priv},r.prototype._importPrivate=function(o,a){this.priv=new t(o,a||16),this.priv=this.priv.umod(this.ec.curve.n)},r.prototype._importPublic=function(o,a){if(o.x||o.y){this.ec.curve.type==="mont"?n(o.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&n(o.x&&o.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(o.x,o.y);return}this.pub=this.ec.curve.decodePoint(o,a)},r.prototype.derive=function(o){return o.validate()||n(o.validate(),"public point not validated"),o.mul(this.priv).getX()},r.prototype.sign=function(o,a,s){return this.ec.sign(o,this,a,s)},r.prototype.verify=function(o,a,s){return this.ec.verify(o,a,this,void 0,s)},r.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},fb}var hb,r6;function _F(){if(r6)return hb;r6=1;var t=Ma(),e=xo(),n=e.assert;function r(l,c){if(l instanceof r)return l;this._importDER(l,c)||(n(l.r&&l.s,"Signature without r or s"),this.r=new t(l.r,16),this.s=new t(l.s,16),l.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=l.recoveryParam)}hb=r;function i(){this.place=0}function o(l,c){var u=l[c.place++];if(!(u&128))return u;var f=u&15;if(f===0||f>4||l[c.place]===0)return!1;for(var p=0,g=0,m=c.place;g<f;g++,m++)p<<=8,p|=l[m],p>>>=0;return p<=127?!1:(c.place=m,p)}function a(l){for(var c=0,u=l.length-1;!l[c]&&!(l[c+1]&128)&&c<u;)c++;return c===0?l:l.slice(c)}r.prototype._importDER=function(c,u){c=e.toArray(c,u);var f=new i;if(c[f.place++]!==48)return!1;var p=o(c,f);if(p===!1||p+f.place!==c.length||c[f.place++]!==2)return!1;var g=o(c,f);if(g===!1||(c[f.place]&128)!==0)return!1;var m=c.slice(f.place,g+f.place);if(f.place+=g,c[f.place++]!==2)return!1;var v=o(c,f);if(v===!1||c.length!==v+f.place||(c[f.place]&128)!==0)return!1;var _=c.slice(f.place,v+f.place);if(m[0]===0)if(m[1]&128)m=m.slice(1);else return!1;if(_[0]===0)if(_[1]&128)_=_.slice(1);else return!1;return this.r=new t(m),this.s=new t(_),this.recoveryParam=null,!0};function s(l,c){if(c<128){l.push(c);return}var u=1+(Math.log(c)/Math.LN2>>>3);for(l.push(u|128);--u;)l.push(c>>>(u<<3)&255);l.push(c)}return r.prototype.toDER=function(c){var u=this.r.toArray(),f=this.s.toArray();for(u[0]&128&&(u=[0].concat(u)),f[0]&128&&(f=[0].concat(f)),u=a(u),f=a(f);!f[0]&&!(f[1]&128);)f=f.slice(1);var p=[2];s(p,u.length),p=p.concat(u),p.push(2),s(p,f.length);var g=p.concat(f),m=[48];return s(m,g.length),m=m.concat(g),e.encode(m,c)},hb}var pb,i6;function SF(){if(i6)return pb;i6=1;var t=Ma(),e=EF(),n=xo(),r=Sx(),i=PR(),o=n.assert,a=xF(),s=_F();function l(c){if(!(this instanceof l))return new l(c);typeof c=="string"&&(o(Object.prototype.hasOwnProperty.call(r,c),"Unknown curve "+c),c=r[c]),c instanceof r.PresetCurve&&(c={curve:c}),this.curve=c.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=c.curve.g,this.g.precompute(c.curve.n.bitLength()+1),this.hash=c.hash||c.curve.hash}return pb=l,l.prototype.keyPair=function(u){return new a(this,u)},l.prototype.keyFromPrivate=function(u,f){return a.fromPrivate(this,u,f)},l.prototype.keyFromPublic=function(u,f){return a.fromPublic(this,u,f)},l.prototype.genKeyPair=function(u){u||(u={});for(var f=new e({hash:this.hash,pers:u.pers,persEnc:u.persEnc||"utf8",entropy:u.entropy||i(this.hash.hmacStrength),entropyEnc:u.entropy&&u.entropyEnc||"utf8",nonce:this.n.toArray()}),p=this.n.byteLength(),g=this.n.sub(new t(2));;){var m=new t(f.generate(p));if(!(m.cmp(g)>0))return m.iaddn(1),this.keyFromPrivate(m)}},l.prototype._truncateToN=function(u,f,p){var g;if(t.isBN(u)||typeof u=="number")u=new t(u,16),g=u.byteLength();else if(typeof u=="object")g=u.length,u=new t(u,16);else{var m=u.toString();g=m.length+1>>>1,u=new t(m,16)}typeof p!="number"&&(p=g*8);var v=p-this.n.bitLength();return v>0&&(u=u.ushrn(v)),!f&&u.cmp(this.n)>=0?u.sub(this.n):u},l.prototype.sign=function(u,f,p,g){if(typeof p=="object"&&(g=p,p=null),g||(g={}),typeof u!="string"&&typeof u!="number"&&!t.isBN(u)){o(typeof u=="object"&&u&&typeof u.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),o(u.length>>>0===u.length);for(var m=0;m<u.length;m++)o((u[m]&255)===u[m])}f=this.keyFromPrivate(f,p),u=this._truncateToN(u,!1,g.msgBitLength),o(!u.isNeg(),"Can not sign a negative message");var v=this.n.byteLength(),_=f.getPrivate().toArray("be",v),w=u.toArray("be",v);o(new t(w).eq(u),"Can not sign message");for(var I=new e({hash:this.hash,entropy:_,nonce:w,pers:g.pers,persEnc:g.persEnc||"utf8"}),k=this.n.sub(new t(1)),$=0;;$++){var L=g.k?g.k($):new t(I.generate(this.n.byteLength()));if(L=this._truncateToN(L,!0),!(L.cmpn(1)<=0||L.cmp(k)>=0)){var z=this.g.mul(L);if(!z.isInfinity()){var H=z.getX(),P=H.umod(this.n);if(P.cmpn(0)!==0){var D=L.invm(this.n).mul(P.mul(f.getPrivate()).iadd(u));if(D=D.umod(this.n),D.cmpn(0)!==0){var B=(z.getY().isOdd()?1:0)|(H.cmp(P)!==0?2:0);return g.canonical&&D.cmp(this.nh)>0&&(D=this.n.sub(D),B^=1),new s({r:P,s:D,recoveryParam:B})}}}}}},l.prototype.verify=function(u,f,p,g,m){m||(m={}),u=this._truncateToN(u,!1,m.msgBitLength),p=this.keyFromPublic(p,g),f=new s(f,"hex");var v=f.r,_=f.s;if(v.cmpn(1)<0||v.cmp(this.n)>=0||_.cmpn(1)<0||_.cmp(this.n)>=0)return!1;var w=_.invm(this.n),I=w.mul(u).umod(this.n),k=w.mul(v).umod(this.n),$;return this.curve._maxwellTrick?($=this.g.jmulAdd(I,p.getPublic(),k),$.isInfinity()?!1:$.eqXToP(v)):($=this.g.mulAdd(I,p.getPublic(),k),$.isInfinity()?!1:$.getX().umod(this.n).cmp(v)===0)},l.prototype.recoverPubKey=function(c,u,f,p){o((3&f)===f,"The recovery param is more than two bits"),u=new s(u,p);var g=this.n,m=new t(c),v=u.r,_=u.s,w=f&1,I=f>>1;if(v.cmp(this.curve.p.umod(this.curve.n))>=0&&I)throw new Error("Unable to find sencond key candinate");I?v=this.curve.pointFromX(v.add(this.curve.n),w):v=this.curve.pointFromX(v,w);var k=u.r.invm(g),$=g.sub(m).mul(k).umod(g),L=_.mul(k).umod(g);return this.g.mulAdd($,v,L)},l.prototype.getKeyRecoveryParam=function(c,u,f,p){if(u=new s(u,p),u.recoveryParam!==null)return u.recoveryParam;for(var g=0;g<4;g++){var m;try{m=this.recoverPubKey(c,u,g)}catch{continue}if(m.eq(f))return g}throw new Error("Unable to find valid recovery factor")},pb}var gb,o6;function CF(){if(o6)return gb;o6=1;var t=xo(),e=t.assert,n=t.parseBytes,r=t.cachedProperty;function i(o,a){this.eddsa=o,this._secret=n(a.secret),o.isPoint(a.pub)?this._pub=a.pub:this._pubBytes=n(a.pub)}return i.fromPublic=function(a,s){return s instanceof i?s:new i(a,{pub:s})},i.fromSecret=function(a,s){return s instanceof i?s:new i(a,{secret:s})},i.prototype.secret=function(){return this._secret},r(i,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),r(i,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),r(i,"privBytes",function(){var a=this.eddsa,s=this.hash(),l=a.encodingLength-1,c=s.slice(0,a.encodingLength);return c[0]&=248,c[l]&=127,c[l]|=64,c}),r(i,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),r(i,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),r(i,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),i.prototype.sign=function(a){return e(this._secret,"KeyPair can only verify"),this.eddsa.sign(a,this)},i.prototype.verify=function(a,s){return this.eddsa.verify(a,s,this)},i.prototype.getSecret=function(a){return e(this._secret,"KeyPair is public only"),t.encode(this.secret(),a)},i.prototype.getPublic=function(a){return t.encode(this.pubBytes(),a)},gb=i,gb}var mb,s6;function AF(){if(s6)return mb;s6=1;var t=Ma(),e=xo(),n=e.assert,r=e.cachedProperty,i=e.parseBytes;function o(a,s){this.eddsa=a,typeof s!="object"&&(s=i(s)),Array.isArray(s)&&(n(s.length===a.encodingLength*2,"Signature has invalid size"),s={R:s.slice(0,a.encodingLength),S:s.slice(a.encodingLength)}),n(s.R&&s.S,"Signature without R or S"),a.isPoint(s.R)&&(this._R=s.R),s.S instanceof t&&(this._S=s.S),this._Rencoded=Array.isArray(s.R)?s.R:s.Rencoded,this._Sencoded=Array.isArray(s.S)?s.S:s.Sencoded}return r(o,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),r(o,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),r(o,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),r(o,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),o.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},o.prototype.toHex=function(){return e.encode(this.toBytes(),"hex").toUpperCase()},mb=o,mb}var vb,a6;function IF(){if(a6)return vb;a6=1;var t=bx(),e=Sx(),n=xo(),r=n.assert,i=n.parseBytes,o=CF(),a=AF();function s(l){if(r(l==="ed25519","only tested with ed25519 so far"),!(this instanceof s))return new s(l);l=e[l].curve,this.curve=l,this.g=l.g,this.g.precompute(l.n.bitLength()+1),this.pointClass=l.point().constructor,this.encodingLength=Math.ceil(l.n.bitLength()/8),this.hash=t.sha512}return vb=s,s.prototype.sign=function(c,u){c=i(c);var f=this.keyFromSecret(u),p=this.hashInt(f.messagePrefix(),c),g=this.g.mul(p),m=this.encodePoint(g),v=this.hashInt(m,f.pubBytes(),c).mul(f.priv()),_=p.add(v).umod(this.curve.n);return this.makeSignature({R:g,S:_,Rencoded:m})},s.prototype.verify=function(c,u,f){if(c=i(c),u=this.makeSignature(u),u.S().gte(u.eddsa.curve.n)||u.S().isNeg())return!1;var p=this.keyFromPublic(f),g=this.hashInt(u.Rencoded(),p.pubBytes(),c),m=this.g.mul(u.S()),v=u.R().add(p.pub().mul(g));return v.eq(m)},s.prototype.hashInt=function(){for(var c=this.hash(),u=0;u<arguments.length;u++)c.update(arguments[u]);return n.intFromLE(c.digest()).umod(this.curve.n)},s.prototype.keyFromPublic=function(c){return o.fromPublic(this,c)},s.prototype.keyFromSecret=function(c){return o.fromSecret(this,c)},s.prototype.makeSignature=function(c){return c instanceof a?c:new a(this,c)},s.prototype.encodePoint=function(c){var u=c.getY().toArray("le",this.encodingLength);return u[this.encodingLength-1]|=c.getX().isOdd()?128:0,u},s.prototype.decodePoint=function(c){c=n.parseBytes(c);var u=c.length-1,f=c.slice(0,u).concat(c[u]&-129),p=(c[u]&128)!==0,g=n.intFromLE(f);return this.curve.pointFromY(g,p)},s.prototype.encodeInt=function(c){return c.toArray("le",this.encodingLength)},s.prototype.decodeInt=function(c){return n.intFromLE(c)},s.prototype.isPoint=function(c){return c instanceof this.pointClass},vb}var l6;function kF(){return l6||(l6=1,function(t){var e=t;e.version=gF.version,e.utils=xo(),e.rand=PR(),e.curve=NR(),e.curves=Sx(),e.ec=SF(),e.eddsa=IF()}(tb)),tb}var LR=kF();const it={GOOGLE:"google",TWITTER:"twitter",FACEBOOK:"facebook",DISCORD:"discord",FARCASTER:"farcaster",APPLE:"apple",GITHUB:"github",REDDIT:"reddit",LINE:"line",KAKAO:"kakao",LINKEDIN:"linkedin",TWITCH:"twitch",TELEGRAM:"telegram",WECHAT:"wechat",EMAIL_PASSWORDLESS:"email_passwordless",SMS_PASSWORDLESS:"sms_passwordless",CUSTOM:"custom",PASSKEYS:"passkeys",AUTHENTICATOR:"authenticator"},$r={POPUP:"popup",REDIRECT:"redirect"};var yb,c6;function MF(){if(c6)return yb;c6=1;var t=function(I){return e(I)&&!n(I)};function e(w){return!!w&&typeof w=="object"}function n(w){var I=Object.prototype.toString.call(w);return I==="[object RegExp]"||I==="[object Date]"||o(w)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function o(w){return w.$$typeof===i}function a(w){return Array.isArray(w)?[]:{}}function s(w,I){return I.clone!==!1&&I.isMergeableObject(w)?v(a(w),w,I):w}function l(w,I,k){return w.concat(I).map(function($){return s($,k)})}function c(w,I){if(!I.customMerge)return v;var k=I.customMerge(w);return typeof k=="function"?k:v}function u(w){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(w).filter(function(I){return Object.propertyIsEnumerable.call(w,I)}):[]}function f(w){return Object.keys(w).concat(u(w))}function p(w,I){try{return I in w}catch{return!1}}function g(w,I){return p(w,I)&&!(Object.hasOwnProperty.call(w,I)&&Object.propertyIsEnumerable.call(w,I))}function m(w,I,k){var $={};return k.isMergeableObject(w)&&f(w).forEach(function(L){$[L]=s(w[L],k)}),f(I).forEach(function(L){g(w,L)||(p(w,L)&&k.isMergeableObject(I[L])?$[L]=c(L,k)(w[L],I[L],k):$[L]=s(I[L],k))}),$}function v(w,I,k){k=k||{},k.arrayMerge=k.arrayMerge||l,k.isMergeableObject=k.isMergeableObject||t,k.cloneUnlessOtherwiseSpecified=s;var $=Array.isArray(I),L=Array.isArray(w),z=$===L;return z?$?k.arrayMerge(w,I,k):m(w,I,k):s(I,k)}v.all=function(I,k){if(!Array.isArray(I))throw new Error("first argument should be an array");return I.reduce(function($,L){return v($,L,k)},{})};var _=v;return yb=_,yb}var OF=MF();const On=Hi(OF);var im={exports:{}},RF=im.exports,u6;function TF(){return u6||(u6=1,function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(RF,function(){var e=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],o={},a=null;function s(v,_){var w=v[_];if(typeof w.bind=="function")return w.bind(v);try{return Function.prototype.bind.call(w,v)}catch{return function(){return Function.prototype.apply.apply(w,[v,arguments])}}}function l(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function c(v){return v==="debug"&&(v="log"),typeof console===n?!1:v==="trace"&&r?l:console[v]!==void 0?s(console,v):console.log!==void 0?s(console,"log"):e}function u(){for(var v=this.getLevel(),_=0;_<i.length;_++){var w=i[_];this[w]=_<v?e:this.methodFactory(w,v,this.name)}if(this.log=this.debug,typeof console===n&&v<this.levels.SILENT)return"No console available for logging"}function f(v){return function(){typeof console!==n&&(u.call(this),this[v].apply(this,arguments))}}function p(v,_,w){return c(v)||f.apply(this,arguments)}function g(v,_){var w=this,I,k,$,L="loglevel";typeof v=="string"?L+=":"+v:typeof v=="symbol"&&(L=void 0);function z(O){var y=(i[O]||"silent").toUpperCase();if(!(typeof window===n||!L)){try{window.localStorage[L]=y;return}catch{}try{window.document.cookie=encodeURIComponent(L)+"="+y+";"}catch{}}}function H(){var O;if(!(typeof window===n||!L)){try{O=window.localStorage[L]}catch{}if(typeof O===n)try{var y=window.document.cookie,E=encodeURIComponent(L),S=y.indexOf(E+"=");S!==-1&&(O=/^([^;]+)/.exec(y.slice(S+E.length+1))[1])}catch{}return w.levels[O]===void 0&&(O=void 0),O}}function P(){if(!(typeof window===n||!L)){try{window.localStorage.removeItem(L)}catch{}try{window.document.cookie=encodeURIComponent(L)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function D(O){var y=O;if(typeof y=="string"&&w.levels[y.toUpperCase()]!==void 0&&(y=w.levels[y.toUpperCase()]),typeof y=="number"&&y>=0&&y<=w.levels.SILENT)return y;throw new TypeError("log.setLevel() called with invalid level: "+O)}w.name=v,w.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},w.methodFactory=_||p,w.getLevel=function(){return $??k??I},w.setLevel=function(O,y){return $=D(O),y!==!1&&z($),u.call(w)},w.setDefaultLevel=function(O){k=D(O),H()||w.setLevel(O,!1)},w.resetLevel=function(){$=null,P(),u.call(w)},w.enableAll=function(O){w.setLevel(w.levels.TRACE,O)},w.disableAll=function(O){w.setLevel(w.levels.SILENT,O)},w.rebuild=function(){if(a!==w&&(I=D(a.getLevel())),u.call(w),a===w)for(var O in o)o[O].rebuild()},I=D(a?a.getLevel():"WARN");var B=H();B!=null&&($=D(B)),u.call(w)}a=new g,a.getLogger=function(_){if(typeof _!="symbol"&&typeof _!="string"||_==="")throw new TypeError("You must supply a name when creating a logger.");var w=o[_];return w||(w=o[_]=new g(_,a.methodFactory)),w};var m=typeof window!==n?window.log:void 0;return a.noConflict=function(){return typeof window!==n&&window.log===a&&(window.log=m),a},a.getLoggers=function(){return o},a.default=a,a})}(im)),im.exports}var DR=TF();const Oa=Hi(DR),Rh=Oa.getLogger("http-helpers");Rh.setLevel(DR.levels.INFO);let PF="torus-default";const NF="x-api-key";function LF(t){Rh.setLevel(t)}async function Bv(t,e){let n=null;try{n=new URL(t)}catch{}return fetch(t,e)}function jv(){const t={};return t[NF]=PF,t}function $v(t){Rh.info(`Response: ${t.status} ${t.statusText}`),Rh.info(`Url: ${t.url}`)}function DF(t){const e=t.headers.get("x-web3-correlation-id");e&&Rh.info(`Request tracing with traceID = ${e}`)}const BF=async(t,e)=>{let n=null;try{const r=new Promise((o,a)=>{n=setTimeout(()=>{a(new Error(`Timed out in ${t}ms`))},t)}),i=await Promise.race([e,r]);return n!=null&&clearTimeout(n),i}catch(r){throw n!=null&&clearTimeout(n),r}},Ns=async(t,e={},n={})=>{const r={mode:"cors",headers:{}};n.useAPIKey&&(r.headers=be(be({},r.headers),jv())),e.method="GET";const i=On(r,e),o=await Bv(t,i);if(o.ok){const a=o.headers.get("content-type");return a!=null&&a.includes("application/json")?o.json():o.text()}throw $v(o),o},cu=(t,e={},n={},r={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=be(be({},i.headers),jv())),n.method="POST";const o=On(i,n);return r.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e),BF(r.timeout||6e4,Bv(t,o).then(a=>{if(r.logTracingHeader&&DF(a),a.ok){const s=a.headers.get("content-type");return s!=null&&s.includes("application/json")?a.json():a.text()}throw $v(a),a}))},jF=async(t,e={},n={},r={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=be(be({},i.headers),jv())),n.method="PATCH";const o=On(i,n);r.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e);const a=await Bv(t,o);if(a.ok){const s=a.headers.get("content-type");return s!=null&&s.includes("application/json")?a.json():a.text()}throw $v(a),a},$F=async(t,e={},n={},r={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=be(be({},i.headers),jv())),n.method="PUT";const o=On(i,n);r.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e);const a=await Bv(t,o);if(a.ok){const s=a.headers.get("content-type");return s!=null&&s.includes("application/json")?a.json():a.text()}throw $v(a),a};var wb={exports:{}},V0={},G0={},d6;function FF(){if(d6)return G0;d6=1,Object.defineProperty(G0,"__esModule",{value:!0});function t(e){var n=4,r=e.length,i=r%n;if(!i)return e;var o=r,a=n-i,s=r+a,l=Buffer.alloc(s);for(l.write(e);a--;)l.write("=",o++);return l.toString()}return G0.default=t,G0}var f6;function UF(){if(f6)return V0;f6=1,Object.defineProperty(V0,"__esModule",{value:!0});var t=FF();function e(s,l){return l===void 0&&(l="utf8"),Buffer.isBuffer(s)?i(s.toString("base64")):i(Buffer.from(s,l).toString("base64"))}function n(s,l){return l===void 0&&(l="utf8"),Buffer.from(r(s),"base64").toString(l)}function r(s){return s=s.toString(),t.default(s).replace(/\-/g,"+").replace(/_/g,"/")}function i(s){return s.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function o(s){return Buffer.from(r(s),"base64")}var a=e;return a.encode=e,a.decode=n,a.toBase64=r,a.fromBase64=i,a.toBuffer=o,V0.default=a,V0}var h6;function zF(){return h6||(h6=1,function(t){t.exports=UF().default,t.exports.default=t.exports}(wb)),wb.exports}var qF=zF();const Hl=Hi(qF),HF={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},BR={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Vn={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Jr={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},ul={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class ze{static getFirstMatch(e,n){const r=n.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,n){const r=n.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,n,r){if(e.test(n))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5)){if(n[0]===1&&n[1]<6)return"Cupcake";if(n[0]===1&&n[1]>=6)return"Donut";if(n[0]===2&&n[1]<2)return"Eclair";if(n[0]===2&&n[1]===2)return"Froyo";if(n[0]===2&&n[1]>2)return"Gingerbread";if(n[0]===3)return"Honeycomb";if(n[0]===4&&n[1]<1)return"Ice Cream Sandwich";if(n[0]===4&&n[1]<4)return"Jelly Bean";if(n[0]===4&&n[1]>=4)return"KitKat";if(n[0]===5)return"Lollipop";if(n[0]===6)return"Marshmallow";if(n[0]===7)return"Nougat";if(n[0]===8)return"Oreo";if(n[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,n,r=!1){const i=ze.getVersionPrecision(e),o=ze.getVersionPrecision(n);let a=Math.max(i,o),s=0;const l=ze.map([e,n],c=>{const u=a-ze.getVersionPrecision(c),f=c+new Array(u+1).join(".0");return ze.map(f.split("."),p=>new Array(20-p.length).join("0")+p).reverse()});for(r&&(s=a-Math.min(i,o)),a-=1;a>=s;){if(l[0][a]>l[1][a])return 1;if(l[0][a]===l[1][a]){if(a===s)return 0;a-=1}else if(l[0][a]<l[1][a])return-1}}static map(e,n){const r=[];let i;if(Array.prototype.map)return Array.prototype.map.call(e,n);for(i=0;i<e.length;i+=1)r.push(n(e[i]));return r}static find(e,n){let r,i;if(Array.prototype.find)return Array.prototype.find.call(e,n);for(r=0,i=e.length;r<i;r+=1){const o=e[r];if(n(o,r))return o}}static assign(e,...n){const r=e;let i,o;if(Object.assign)return Object.assign(e,...n);for(i=0,o=n.length;i<o;i+=1){const a=n[i];typeof a=="object"&&a!==null&&Object.keys(a).forEach(l=>{r[l]=a[l]})}return e}static getBrowserAlias(e){return HF[e]}static getBrowserTypeByAlias(e){return BR[e]||""}}const wn=/version\/(\d+(\.?_?\d+)+)/i,WF=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},n=ze.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||ze.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},n=ze.getFirstMatch(wn,t)||ze.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},n=ze.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||ze.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},n=ze.getFirstMatch(wn,t)||ze.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},n=ze.getFirstMatch(wn,t)||ze.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},n=ze.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||ze.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},n=ze.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||ze.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},n=ze.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||ze.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},n=ze.getFirstMatch(wn,t)||ze.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},n=ze.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||ze.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},n=ze.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||ze.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},n=ze.getFirstMatch(wn,t)||ze.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},n=ze.getFirstMatch(wn,t)||ze.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},n=ze.getFirstMatch(wn,t)||ze.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},n=ze.getFirstMatch(wn,t)||ze.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},n=ze.getFirstMatch(wn,t)||ze.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},n=ze.getFirstMatch(wn,t)||ze.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},n=ze.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||ze.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},n=ze.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||ze.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},n=ze.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},n=ze.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},n=ze.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},n=ze.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},n=ze.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},n=ze.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return n&&(e.version=n),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},n=ze.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},n=ze.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},n=ze.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},n=ze.getFirstMatch(wn,t)||ze.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},n=ze.getFirstMatch(wn,t)||ze.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},n=ze.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},n=ze.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||ze.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},n=ze.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||ze.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},n=ze.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},n=ze.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},n=ze.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},n=ze.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||ze.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},n=ze.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},n=ze.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e={name:"Android Browser"},n=ze.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},n=ze.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},n=ze.getFirstMatch(wn,t);return n&&(e.version=n),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,n=/^(.*)\/(.*)[ \t]\((.*)/,i=t.search("\\(")!==-1?n:e;return{name:ze.getFirstMatch(i,t),version:ze.getSecondMatch(i,t)}}}],KF=[{test:[/Roku\/DVP/],describe(t){const e=ze.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:Jr.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=ze.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:Jr.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=ze.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),n=ze.getWindowsVersionName(e);return{name:Jr.Windows,version:e,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:Jr.iOS},n=ze.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return n&&(e.version=n),e}},{test:[/macintosh/i],describe(t){const e=ze.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),n=ze.getMacOSVersionName(e),r={name:Jr.MacOS,version:e};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=ze.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:Jr.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e=ze.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),n=ze.getAndroidVersionName(e),r={name:Jr.Android,version:e};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=ze.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),n={name:Jr.WebOS};return e&&e.length&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=ze.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||ze.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||ze.getFirstMatch(/\bbb(\d+)/i,t);return{name:Jr.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=ze.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:Jr.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=ze.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:Jr.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:Jr.Linux}}},{test:[/CrOS/],describe(){return{name:Jr.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=ze.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:Jr.PlayStation4,version:e}}}],VF=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=ze.getFirstMatch(/(can-l01)/i,t)&&"Nova",n={type:Vn.mobile,vendor:"Huawei"};return e&&(n.model=e),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:Vn.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:Vn.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:Vn.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:Vn.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:Vn.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:Vn.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),n=t.test(/like (ipod|iphone)/i);return e&&!n},describe(t){const e=ze.getFirstMatch(/(ipod|iphone)/i,t);return{type:Vn.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:Vn.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:Vn.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:Vn.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:Vn.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:Vn.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:Vn.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:Vn.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:Vn.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:Vn.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:Vn.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:Vn.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:Vn.tv}}}],GF=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:ul.Blink};const n=ze.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:ul.EdgeHTML,version:n}}},{test:[/trident/i],describe(t){const e={name:ul.Trident},n=ze.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:ul.Presto},n=ze.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=t.test(/gecko/i),n=t.test(/like gecko/i);return e&&!n},describe(t){const e={name:ul.Gecko},n=ze.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:ul.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:ul.WebKit},n=ze.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}}];class p6{constructor(e,n=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=ze.find(WF,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=ze.find(KF,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:n}=this.getOS();return e?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:n}=this.getPlatform();return e?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const e=ze.find(VF,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=ze.find(GF,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return ze.assign({},this.parsedResult)}satisfies(e){const n={};let r=0;const i={};let o=0;if(Object.keys(e).forEach(s=>{const l=e[s];typeof l=="string"?(i[s]=l,o+=1):typeof l=="object"&&(n[s]=l,r+=1)}),r>0){const s=Object.keys(n),l=ze.find(s,u=>this.isOS(u));if(l){const u=this.satisfies(n[l]);if(u!==void 0)return u}const c=ze.find(s,u=>this.isPlatform(u));if(c){const u=this.satisfies(n[c]);if(u!==void 0)return u}}if(o>0){const s=Object.keys(i),l=ze.find(s,c=>this.isBrowser(c,!0));if(l!==void 0)return this.compareVersion(i[l])}}isBrowser(e,n=!1){const r=this.getBrowserName().toLowerCase();let i=e.toLowerCase();const o=ze.getBrowserTypeByAlias(i);return n&&o&&(i=o.toLowerCase()),i===r}compareVersion(e){let n=[0],r=e,i=!1;const o=this.getBrowserVersion();if(typeof o=="string")return e[0]===">"||e[0]==="<"?(r=e.substr(1),e[1]==="="?(i=!0,r=e.substr(2)):n=[],e[0]===">"?n.push(1):n.push(-1)):e[0]==="="?r=e.substr(1):e[0]==="~"&&(i=!0,r=e.substr(1)),n.indexOf(ze.compareVersions(o,r,i))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,n=!1){return this.isBrowser(e,n)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class fh{static getParser(e,n=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new p6(e,n)}static parse(e){return new p6(e).getResult()}static get BROWSER_MAP(){return BR}static get ENGINE_MAP(){return ul}static get OS_MAP(){return Jr}static get PLATFORMS_MAP(){return Vn}}var zc=Oa.getLogger("customauth");const jR={[it.APPLE]:"apple",[it.GITHUB]:"github",[it.LINKEDIN]:"linkedin",[it.TWITTER]:"twitter",[it.LINE]:"line",[it.EMAIL_PASSWORDLESS]:"email",[it.SMS_PASSWORDLESS]:"sms"},$R=t=>t.href.endsWith("/")?t.href:`${t.href}/`,Cx=()=>Math.random().toString(36).slice(2),YF={webWorkerSupport:!1};function bb(t,e){return e?t:t.toLowerCase()}const Th=(t,e,n,r=!0)=>{const{name:i,sub:o}=t;if(n)return bb(t[n],r);switch(e){case it.EMAIL_PASSWORDLESS:case it.SMS_PASSWORDLESS:case it.AUTHENTICATOR:return bb(i,r);case it.GITHUB:case it.TWITTER:case it.APPLE:case it.LINKEDIN:case it.LINE:case it.WECHAT:case it.KAKAO:case it.FARCASTER:case it.CUSTOM:return bb(o,r);default:throw new Error("Invalid login type to get auth connection id")}};function P2(t){let e;try{e=window[t];const n="__storage_test__";return e.setItem(n,n),e.removeItem(n),!0}catch(n){const r=n;return r&&(r.code===22||r.code===1014||r.name==="QuotaExceededError"||r.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&e.length!==0}}function FR(){const t=window.screenLeft!==void 0?window.screenLeft:window.screenX,e=window.screenTop!==void 0?window.screenTop:window.screenY,n=1200,r=700,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,o=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,a=1,s=Math.abs((i-n)/2/a+t),l=Math.abs((o-r)/2/a+e);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${r/a},width=${n/a},top=${l},left=${s}`}function hh(t){const{baseURL:e,query:n,hash:r}=t,i=new URL(e);if(n&&Object.keys(n).forEach(o=>{i.searchParams.append(o,n[o])}),r){const o=new URL(hh({baseURL:e,query:r})).searchParams.toString();i.hash=o}return i.toString()}const Ax=t=>{try{return new URL(decodeURIComponent(t))}catch(e){throw new Error(`${(e==null?void 0:e.message)||""}, Note: Your jwt domain: (i.e ${t}) must have http:// or https:// prefix`)}},JF=t=>JSON.parse(Hl.decode(t));function ZF(){const e=fh.getParser(navigator.userAgent).getPlatform();return e.type===fh.PLATFORMS_MAP.tablet||e.type===fh.PLATFORMS_MAP.mobile}function Ix(t){return(t===it.FACEBOOK||t===it.LINE)&&ZF()?1e3*30:1e3*1}function kx(t){const[e,n]=t.split(".");return{header:JSON.parse(Hl.decode(e)),payload:JSON.parse(Hl.decode(n))}}var Y0={exports:{}},g6;function Ip(){if(g6)return Y0.exports;g6=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(L,z,H){return Function.prototype.apply.call(L,z,H)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(L){return Object.getOwnPropertyNames(L).concat(Object.getOwnPropertySymbols(L))}:n=function(L){return Object.getOwnPropertyNames(L)};function r($){console&&console.warn&&console.warn($)}var i=Number.isNaN||function(L){return L!==L};function o(){o.init.call(this)}Y0.exports=o,Y0.exports.once=w,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s($){if(typeof $!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof $)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function($){if(typeof $!="number"||$<0||i($))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+$+".");a=$}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(L){if(typeof L!="number"||L<0||i(L))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+L+".");return this._maxListeners=L,this};function l($){return $._maxListeners===void 0?o.defaultMaxListeners:$._maxListeners}o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(L){for(var z=[],H=1;H<arguments.length;H++)z.push(arguments[H]);var P=L==="error",D=this._events;if(D!==void 0)P=P&&D.error===void 0;else if(!P)return!1;if(P){var B;if(z.length>0&&(B=z[0]),B instanceof Error)throw B;var O=new Error("Unhandled error."+(B?" ("+B.message+")":""));throw O.context=B,O}var y=D[L];if(y===void 0)return!1;if(typeof y=="function")e(y,this,z);else for(var E=y.length,S=m(y,E),H=0;H<E;++H)e(S[H],this,z);return!0};function c($,L,z,H){var P,D,B;if(s(z),D=$._events,D===void 0?(D=$._events=Object.create(null),$._eventsCount=0):(D.newListener!==void 0&&($.emit("newListener",L,z.listener?z.listener:z),D=$._events),B=D[L]),B===void 0)B=D[L]=z,++$._eventsCount;else if(typeof B=="function"?B=D[L]=H?[z,B]:[B,z]:H?B.unshift(z):B.push(z),P=l($),P>0&&B.length>P&&!B.warned){B.warned=!0;var O=new Error("Possible EventEmitter memory leak detected. "+B.length+" "+String(L)+" listeners added. Use emitter.setMaxListeners() to increase limit");O.name="MaxListenersExceededWarning",O.emitter=$,O.type=L,O.count=B.length,r(O)}return $}o.prototype.addListener=function(L,z){return c(this,L,z,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(L,z){return c(this,L,z,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f($,L,z){var H={fired:!1,wrapFn:void 0,target:$,type:L,listener:z},P=u.bind(H);return P.listener=z,H.wrapFn=P,P}o.prototype.once=function(L,z){return s(z),this.on(L,f(this,L,z)),this},o.prototype.prependOnceListener=function(L,z){return s(z),this.prependListener(L,f(this,L,z)),this},o.prototype.removeListener=function(L,z){var H,P,D,B,O;if(s(z),P=this._events,P===void 0)return this;if(H=P[L],H===void 0)return this;if(H===z||H.listener===z)--this._eventsCount===0?this._events=Object.create(null):(delete P[L],P.removeListener&&this.emit("removeListener",L,H.listener||z));else if(typeof H!="function"){for(D=-1,B=H.length-1;B>=0;B--)if(H[B]===z||H[B].listener===z){O=H[B].listener,D=B;break}if(D<0)return this;D===0?H.shift():v(H,D),H.length===1&&(P[L]=H[0]),P.removeListener!==void 0&&this.emit("removeListener",L,O||z)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(L){var z,H,P;if(H=this._events,H===void 0)return this;if(H.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):H[L]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete H[L]),this;if(arguments.length===0){var D=Object.keys(H),B;for(P=0;P<D.length;++P)B=D[P],B!=="removeListener"&&this.removeAllListeners(B);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(z=H[L],typeof z=="function")this.removeListener(L,z);else if(z!==void 0)for(P=z.length-1;P>=0;P--)this.removeListener(L,z[P]);return this};function p($,L,z){var H=$._events;if(H===void 0)return[];var P=H[L];return P===void 0?[]:typeof P=="function"?z?[P.listener||P]:[P]:z?_(P):m(P,P.length)}o.prototype.listeners=function(L){return p(this,L,!0)},o.prototype.rawListeners=function(L){return p(this,L,!1)},o.listenerCount=function($,L){return typeof $.listenerCount=="function"?$.listenerCount(L):g.call($,L)},o.prototype.listenerCount=g;function g($){var L=this._events;if(L!==void 0){var z=L[$];if(typeof z=="function")return 1;if(z!==void 0)return z.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function m($,L){for(var z=new Array(L),H=0;H<L;++H)z[H]=$[H];return z}function v($,L){for(;L+1<$.length;L++)$[L]=$[L+1];$.pop()}function _($){for(var L=new Array($.length),z=0;z<L.length;++z)L[z]=$[z].listener||$[z];return L}function w($,L){return new Promise(function(z,H){function P(B){$.removeListener(L,D),H(B)}function D(){typeof $.removeListener=="function"&&$.removeListener("error",P),z([].slice.call(arguments))}k($,L,D,{once:!0}),L!=="error"&&I($,P,{once:!0})})}function I($,L,z){typeof $.on=="function"&&k($,"error",L,z)}function k($,L,z,H){if(typeof $.on=="function")H.once?$.once(L,z):$.on(L,z);else if(typeof $.addEventListener=="function")$.addEventListener(L,function P(D){H.once&&$.removeEventListener(L,P),z(D)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof $)}return Y0.exports}var Fv=Ip();const koe=Hi(Fv);let Uv=class extends Fv.EventEmitter{constructor({url:e,target:n,features:r,timeout:i=3e4}){super(),Ae(this,"url",void 0),Ae(this,"target",void 0),Ae(this,"features",void 0),Ae(this,"window",void 0),Ae(this,"windowTimer",void 0),Ae(this,"iClosedWindow",void 0),Ae(this,"timeout",void 0),this.url=e,this.target=n||"_blank",this.features=r||FR(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=i,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var e;if(this.window=window.open(this.url.href,this.target,this.features),!this.window)throw new Error("popup window is blocked");return(e=this.window)!==null&&e!==void 0&&e.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}};const QF=["access_token","id_token"];class Ra{constructor(e){Ae(this,"nonce",Cx()),Ae(this,"finalURL",void 0),Ae(this,"params",void 0),this.params=e}get state(){return encodeURIComponent(Hl.encode(JSON.stringify(be(be({},this.params.customState||{}),{},{instanceId:this.nonce,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,redirectToOpener:this.params.redirectToOpener||!1}))))}async handleLoginWindow(e){const n=new Uv({url:this.finalURL,features:e.popupFeatures,timeout:Ix(this.params.authConnection)});if(this.params.uxMode===$r.REDIRECT)n.redirect(e.locationReplaceOnRedirect);else{const{RedundantAdaptiveBroadcastChannel:r}=await on(async()=>{const{RedundantAdaptiveBroadcastChannel:i}=await import("./index-CTOtgHIO.js");return{RedundantAdaptiveBroadcastChannel:i}},[]);return new Promise((i,o)=>{let a;const s=async l=>{try{const{error:c,data:u}=l,f=u||{},{instanceParams:p,hashParams:{access_token:g,id_token:m}}=f,v=Tv(f.hashParams,QF);if(c){zc.error(l),o(new Error(`Error: ${c}. Info: ${JSON.stringify(l.data||{})}`));return}l.data&&p.authConnectionId===this.params.authConnectionId&&(zc.info(l.data),!this.params.redirectToOpener&&a&&await a.postMessage({success:!0}),i(be(be({accessToken:g,idToken:m||""},v),{},{state:p})))}catch(c){zc.error(c),o(c)}};if(!this.params.redirectToOpener)a=new r(`redirect_channel_${this.nonce}`,YF),a.addEventListener("message",async l=>{await s(l),a.close(),n.close()});else{const l=async c=>{if(!c.data)return;const u=c.data;u.channel===`redirect_channel_${this.nonce}`&&(window.removeEventListener("message",l),s(u),n.close())};window.addEventListener("message",l)}try{n.open()}catch(l){zc.error(l),o(l);return}n.once("close",()=>{a&&a.close(),o(new Error("user closed popup"))})})}return null}}class XF extends Ra{constructor(e){super(e),Ae(this,"RESPONSE_TYPE","token"),Ae(this,"SCOPE","identify email"),this.setFinalUrl()}setFinalUrl(){const e=new URL("https://discord.com/api/oauth2/authorize"),n=JSON.parse(JSON.stringify(this.params.jwtParams||{})),r=On({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE},n);Object.keys(r).forEach(i=>{const o=i;r[o]&&e.searchParams.append(o,r[o])}),this.finalURL=e}async getUserInfo(e){const{accessToken:n}=e,r=await Ns("https://discord.com/api/users/@me",{headers:{Authorization:`Bearer ${n}`}}),{id:i,avatar:o,email:a="",username:s="",discriminator:l=""}=r;return{profileImage:o===null?`https://cdn.discordapp.com/embed/avatars/${Number(l)%5}.png`:`https://cdn.discordapp.com/avatars/${i}/${o}.png?size=2048`,name:`${s}#${l}`,email:a,userId:i,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}class e7 extends Ra{constructor(e){super(e),Ae(this,"RESPONSE_TYPE","token"),Ae(this,"SCOPE","public_profile email"),this.setFinalUrl()}setFinalUrl(){const e=new URL("https://www.facebook.com/v20.0/dialog/oauth"),n=JSON.parse(JSON.stringify(this.params.jwtParams||{})),r=On({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE},n);Object.keys(r).forEach(i=>{const o=i;r[o]&&e.searchParams.append(o,r[o])}),this.finalURL=e}async getUserInfo(e){const{accessToken:n}=e,r=await Ns("https://graph.facebook.com/me?fields=name,email,picture.type(large)",{headers:{Authorization:`Bearer ${n}`}}),{name:i="",id:o,picture:a,email:s=""}=r;return{email:s,name:i,profileImage:a.data.url||"",authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,userId:o}}}class t7 extends Ra{constructor(e){super(e),Ae(this,"RESPONSE_TYPE","token id_token"),Ae(this,"SCOPE","profile email openid"),Ae(this,"PROMPT","select_account"),this.setFinalUrl()}setFinalUrl(){const e=new URL("https://accounts.google.com/o/oauth2/v2/auth"),n=JSON.parse(JSON.stringify(this.params.jwtParams||{})),r=On({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,nonce:this.nonce},n);Object.keys(r).forEach(i=>{const o=i;r[o]&&e.searchParams.append(o,r[o])}),this.finalURL=e}async getUserInfo(e){const{accessToken:n}=e,r=await Ns("https://www.googleapis.com/userinfo/v2/me",{headers:{Authorization:`Bearer ${n}`}}),{picture:i="",email:o="",name:a=""}=r;return{email:o,name:a,profileImage:i,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,userId:o.toLowerCase()}}}class n7 extends Ra{constructor(e){super(e),Ae(this,"SCOPE","openid profile email"),Ae(this,"RESPONSE_TYPE","token id_token"),Ae(this,"PROMPT","login"),this.setFinalUrl()}setFinalUrl(){const{domain:e}=this.params.jwtParams,n=Ax(e);n.pathname+=n.pathname.endsWith("/")?"authorize":"/authorize";const r=JSON.parse(JSON.stringify(this.params.jwtParams));delete r.domain;const i=On({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,connection:jR[this.params.authConnection],nonce:this.nonce},r);Object.keys(i).forEach(o=>{const a=o;i[a]&&n.searchParams.append(a,i[a])}),this.finalURL=n}async getUserInfo(e){const{idToken:n,accessToken:r}=e,{domain:i,userIdField:o,isUserIdCaseSensitive:a,user_info_route:s="userinfo"}=this.params.jwtParams;if(r)try{const l=new URL(i),c=await Ns(`${$R(l)}${s}`,{headers:{Authorization:`Bearer ${r}`}}),{picture:u,name:f,email:p}=c;return{email:p,name:f,profileImage:u,userId:Th(c,this.params.authConnection,o,a),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}catch(l){Oa.warn(l,"Unable to get userinfo from endpoint")}if(n){const l=kx(n).payload,{name:c,email:u,picture:f}=l;return{profileImage:f,name:c,email:u,userId:Th(l,this.params.authConnection,o,a),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}throw new Error("Access/id token not available")}}class r7 extends Ra{constructor(e){super(e),this.setFinalUrl()}setFinalUrl(){const e=JSON.parse(JSON.stringify(this.params.jwtParams));delete e.domain;const n=On({state:this.state,client_id:this.params.clientId,nonce:this.nonce},e);this.finalURL=new URL(hh({baseURL:this.params.redirect_uri,query:null,hash:n}))}async getUserInfo(e){const{idToken:n,accessToken:r}=e,{domain:i,userIdField:o,isUserIdCaseSensitive:a,user_info_route:s="userinfo"}=this.params.jwtParams;if(r)try{const l=new URL(i),c=await Ns(`${$R(l)}${s}`,{headers:{Authorization:`Bearer ${r}`}}),{picture:u,name:f,email:p}=c;return{email:p,name:f,profileImage:u,userId:Th(c,this.params.authConnection,o,a),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}catch(l){Oa.warn(l,"Unable to get userinfo from endpoint")}if(n){const l=kx(n).payload,{name:c,email:u,picture:f}=l;return{profileImage:f,name:c,email:u,userId:Th(l,this.params.authConnection,o,a),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}throw new Error("Access/id token not available")}handleLoginWindow(e){const{id_token:n,access_token:r}=this.params.jwtParams,i=new Uv({url:this.finalURL,features:e.popupFeatures});if(this.params.uxMode===$r.REDIRECT)i.redirect(e.locationReplaceOnRedirect);else return Promise.resolve({state:{},idToken:n,accessToken:r});return null}}const N2=t=>t.padStart(64,"0").slice(0,64);class i7{constructor(){Ae(this,"sessionId",void 0)}checkSessionParams(){if(!this.sessionId)throw new Error("Session id is required");this.sessionId=N2(this.sessionId)}request({method:e="GET",url:n,data:r={},headers:i={}}){const o={headers:i};switch(e){case"GET":return Ns(n,o);case"POST":return cu(n,r,o);case"PUT":return $F(n,r,o);case"PATCH":return jF(n,r,o)}throw new Error("Invalid method type")}}const UR="https://api.web3auth.io/session-service",o7="https://session.web3auth.io",Bm=new LR.ec("secp256k1"),qi=globalThis.crypto||globalThis.msCrypto||{},xl=qi.subtle||qi.webkitSubtle,s7=Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),a7=Buffer.alloc(32,0);function Ui(t,e){if(!t)throw new Error(e||"Assertion failed")}function l7(t){return Buffer.isBuffer(t)&&t.length===32}function kp(t){return l7(t)?t.compare(a7)>0&&t.compare(s7)<0:!1}function c7(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function ph(t){if(typeof qi.getRandomValues>"u")return Buffer.from(qi.randomBytes(t));const e=new Uint8Array(t);return qi.getRandomValues(e),Buffer.from(e)}async function zR(t){if(!qi.createHash){const r=await xl.digest("SHA-512",t);return new Uint8Array(r)}const n=qi.createHash("sha512").update(t).digest();return new Uint8Array(n)}function qR(t){return async function(e,n,r){if(xl&&xl[t]&&xl.importKey){const i={name:"AES-CBC"},o=await xl.importKey("raw",n,i,!1,[t]),a={name:"AES-CBC",iv:e},s=await xl[t](a,o,r);return Buffer.from(new Uint8Array(s))}else if(t==="encrypt"&&qi.createCipheriv){const i=qi.createCipheriv("aes-256-cbc",n,e),o=i.update(r),a=i.final();return Buffer.concat([o,a])}else if(t==="decrypt"&&qi.createDecipheriv){const i=qi.createDecipheriv("aes-256-cbc",n,e),o=i.update(r),a=i.final();return Buffer.concat([o,a])}throw new Error(`Unsupported operation: ${t}`)}}const u7=qR("encrypt"),d7=qR("decrypt");async function HR(t,e){if(!qi.createHmac){const i={name:"HMAC",hash:{name:"SHA-256"}},o=await xl.importKey("raw",new Uint8Array(t),i,!1,["sign","verify"]),a=await xl.sign("HMAC",o,e);return Buffer.from(new Uint8Array(a))}const n=qi.createHmac("sha256",Buffer.from(t));return n.update(e),n.digest()}async function f7(t,e,n){const r=await HR(t,e);return c7(r,n)}const h7=function(){let t=ph(32);for(;!kp(t);)t=ph(32);return t},Ll=function(t){return Ui(t.length===32,"Bad private key"),Ui(kp(t),"Bad private key"),Buffer.from(Bm.keyFromPrivate(t).getPublic("array"))},om=async function(t,e){return Ui(t.length===32,"Bad private key"),Ui(kp(t),"Bad private key"),Ui(e.length>0,"Message should not be empty"),Ui(e.length<=32,"Message is too long"),Buffer.from(Bm.sign(e,t,{canonical:!0}).toDER())},WR=async function(t,e,n){Ui(Buffer.isBuffer(t),"Bad private key"),Ui(Buffer.isBuffer(e),"Bad public key"),Ui(t.length===32,"Bad private key"),Ui(kp(t),"Bad private key"),Ui(e.length===65||e.length===33,"Bad public key"),e.length===65&&Ui(e[0]===4,"Bad public key"),e.length===33&&Ui(e[0]===2||e[0]===3,"Bad public key");const r=Bm.keyFromPrivate(t),i=Bm.keyFromPublic(e),o=r.derive(i.getPublic());return n?Buffer.from(o.toString(16,64),"hex"):Buffer.from(o.toArray())},p7=async function(t,e,n){n=n||{};let r=n.ephemPrivateKey||ph(32);for(;!kp(r);)r=n.ephemPrivateKey||ph(32);const i=Ll(r),o=await WR(r,t,n.padding),a=await zR(o),s=n.iv||ph(16),l=a.slice(0,32),c=a.slice(32),f=await u7(s,Buffer.from(l),e),p=Buffer.concat([s,i,f]),g=await HR(Buffer.from(c),p);return{iv:s,ephemPublicKey:i,ciphertext:f,mac:g}},KR=async function(t,e,n){const r=await WR(t,e.ephemPublicKey,n),i=await zR(r),o=i.slice(0,32),a=i.slice(32),s=Buffer.concat([e.iv,e.ephemPublicKey,e.ciphertext]),l=await f7(Buffer.from(a),s,e.mac);if(!l&&!n)return KR(t,e,!0);if(!l&&n===!0)throw new Error("bad MAC after trying padded");const c=await d7(e.iv,Buffer.from(o),e.ciphertext);return Buffer.from(new Uint8Array(c))};var J0={},Eb,m6;function g7(){if(m6)return Eb;m6=1;var t,e,n={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},r;function i(g){throw{name:"SyntaxError",message:g,at:t,text:r}}function o(g){return g&&g!==e&&i("Expected '"+g+"' instead of '"+e+"'"),e=r.charAt(t),t+=1,e}function a(){var g,m="";for(e==="-"&&(m="-",o("-"));e>="0"&&e<="9";)m+=e,o();if(e===".")for(m+=".";o()&&e>="0"&&e<="9";)m+=e;if(e==="e"||e==="E")for(m+=e,o(),(e==="-"||e==="+")&&(m+=e,o());e>="0"&&e<="9";)m+=e,o();return g=Number(m),isFinite(g)||i("Bad number"),g}function s(){var g,m,v="",_;if(e==='"')for(;o();){if(e==='"')return o(),v;if(e==="\\")if(o(),e==="u"){for(_=0,m=0;m<4&&(g=parseInt(o(),16),!!isFinite(g));m+=1)_=_*16+g;v+=String.fromCharCode(_)}else if(typeof n[e]=="string")v+=n[e];else break;else v+=e}i("Bad string")}function l(){for(;e&&e<=" ";)o()}function c(){switch(e){case"t":return o("t"),o("r"),o("u"),o("e"),!0;case"f":return o("f"),o("a"),o("l"),o("s"),o("e"),!1;case"n":return o("n"),o("u"),o("l"),o("l"),null;default:i("Unexpected '"+e+"'")}}function u(){var g=[];if(e==="["){if(o("["),l(),e==="]")return o("]"),g;for(;e;){if(g.push(p()),l(),e==="]")return o("]"),g;o(","),l()}}i("Bad array")}function f(){var g,m={};if(e==="{"){if(o("{"),l(),e==="}")return o("}"),m;for(;e;){if(g=s(),l(),o(":"),Object.prototype.hasOwnProperty.call(m,g)&&i('Duplicate key "'+g+'"'),m[g]=p(),l(),e==="}")return o("}"),m;o(","),l()}}i("Bad object")}function p(){switch(l(),e){case"{":return f();case"[":return u();case'"':return s();case"-":return a();default:return e>="0"&&e<="9"?a():c()}}return Eb=function(g,m){var v;return r=g,t=0,e=" ",v=p(),l(),e&&i("Syntax error"),typeof m=="function"?function _(w,I){var k,$,L=w[I];if(L&&typeof L=="object")for(k in p)Object.prototype.hasOwnProperty.call(L,k)&&($=_(L,k),typeof $>"u"?delete L[k]:L[k]=$);return m.call(w,I,L)}({"":v},""):v},Eb}var xb,v6;function m7(){if(v6)return xb;v6=1;var t=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,n,r={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},i;function o(s){return t.lastIndex=0,t.test(s)?'"'+s.replace(t,function(l){var c=r[l];return typeof c=="string"?c:"\\u"+("0000"+l.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+s+'"'}function a(s,l){var c,u,f,p,g=e,m,v=l[s];switch(v&&typeof v=="object"&&typeof v.toJSON=="function"&&(v=v.toJSON(s)),typeof i=="function"&&(v=i.call(l,s,v)),typeof v){case"string":return o(v);case"number":return isFinite(v)?String(v):"null";case"boolean":case"null":return String(v);case"object":if(!v)return"null";if(e+=n,m=[],Object.prototype.toString.apply(v)==="[object Array]"){for(p=v.length,c=0;c<p;c+=1)m[c]=a(c,v)||"null";return f=m.length===0?"[]":e?`[
`+e+m.join(`,
`+e)+`
`+g+"]":"["+m.join(",")+"]",e=g,f}if(i&&typeof i=="object")for(p=i.length,c=0;c<p;c+=1)u=i[c],typeof u=="string"&&(f=a(u,v),f&&m.push(o(u)+(e?": ":":")+f));else for(u in v)Object.prototype.hasOwnProperty.call(v,u)&&(f=a(u,v),f&&m.push(o(u)+(e?": ":":")+f));return f=m.length===0?"{}":e?`{
`+e+m.join(`,
`+e)+`
`+g+"}":"{"+m.join(",")+"}",e=g,f}}return xb=function(s,l,c){var u;if(e="",n="",typeof c=="number")for(u=0;u<c;u+=1)n+=" ";else typeof c=="string"&&(n=c);if(i=l,l&&typeof l!="function"&&(typeof l!="object"||typeof l.length!="number"))throw new Error("JSON.stringify");return a("",{"":s})},xb}var y6;function v7(){return y6||(y6=1,J0.parse=g7(),J0.stringify=m7()),J0}var _b,w6;function y7(){if(w6)return _b;w6=1;var t={}.toString;return _b=Array.isArray||function(e){return t.call(e)=="[object Array]"},_b}var Sb,b6;function w7(){if(b6)return Sb;b6=1;var t=(typeof JSON<"u"?JSON:v7()).stringify,e=y7(),n=hF(),r=dF(),i=sF(),o=i("Array.prototype.join"),a=i("Array.prototype.indexOf"),s=i("Array.prototype.splice"),l=i("Array.prototype.sort"),c=function(p,g){for(var m="",v=0;v<p;v+=1)m+=g;return m},u=function(f,p,g){return g};return Sb=function(p){var g=arguments.length>1?arguments[1]:void 0,m=g&&g.space||"";typeof m=="number"&&(m=c(m," "));var v=!!g&&typeof g.cycles=="boolean"&&g.cycles,_=g&&g.replacer?r(g.replacer):u;if(g&&typeof g.collapseEmpty<"u"&&typeof g.collapseEmpty!="boolean")throw new TypeError("`collapseEmpty` must be a boolean, if provided");var w=!!g&&g.collapseEmpty,I=typeof g=="function"?g:g&&g.cmp,k=I&&function(L){var z=I.length>2&&function(P){return L[P]};return function(H,P){return I({key:H,value:L[H]},{key:P,value:L[P]},z?{__proto__:null,get:z}:void 0)}},$=[];return function L(z,H,P,D){var B=m?`
`+c(D,m):"",O=m?": ":":";if(P&&P.toJSON&&typeof P.toJSON=="function"&&(P=P.toJSON()),P=_(z,H,P),P!==void 0){if(typeof P!="object"||P===null)return t(P);var y=function(M,x){return w&&M.length===0?x:(x==="[]"?"[":"{")+o(M,",")+B+(x==="[]"?"]":"}")};if(e(P)){for(var T=[],E=0;E<P.length;E++){var S=L(P,E,P[E],D+1)||t(null);T[T.length]=B+m+S}return y(T,"[]")}if(a($,P)!==-1){if(v)return t("__cycle__");throw new TypeError("Converting circular structure to JSON")}else $[$.length]=P;for(var C=l(n(P),k&&k(P)),T=[],E=0;E<C.length;E++){var H=C[E],j=L(P,H,P[H],D+1);if(j){var A=t(H)+O+j;T[T.length]=B+m+A}}return s($,a($,P),1),y(T,"{}")}}({"":p},"",p,0)},Sb}var b7=w7();const VR=Hi(b7),E7=BigInt(0),Uf=BigInt(1),x7=BigInt(2),_7=BigInt(7),S7=BigInt(256),C7=BigInt(113),GR=[],YR=[],JR=[];for(let t=0,e=Uf,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],GR.push(2*(5*r+n)),YR.push((t+1)*(t+2)/2%64);let i=E7;for(let o=0;o<7;o++)e=(e<<Uf^(e>>_7)*C7)%S7,e&x7&&(i^=Uf<<(Uf<<BigInt(o))-Uf);JR.push(i)}const ZR=k$(JR,!0),A7=ZR[0],I7=ZR[1],E6=(t,e,n)=>n>32?R$(t,e,n):M$(t,e,n),x6=(t,e,n)=>n>32?T$(t,e,n):O$(t,e,n);function k7(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const s=(a+8)%10,l=(a+2)%10,c=n[l],u=n[l+1],f=E6(c,u,1)^n[s],p=x6(c,u,1)^n[s+1];for(let g=0;g<50;g+=10)t[a+g]^=f,t[a+g+1]^=p}let i=t[2],o=t[3];for(let a=0;a<24;a++){const s=YR[a],l=E6(i,o,s),c=x6(i,o,s),u=GR[a];i=t[u],o=t[u+1],t[u]=l,t[u+1]=c}for(let a=0;a<50;a+=10){for(let s=0;s<10;s++)n[s]=t[a+s];for(let s=0;s<10;s++)t[a+s]^=~n[(s+2)%10]&n[(s+4)%10]}t[0]^=A7[r],t[1]^=I7[r]}wR(n)}class Mx extends C${constructor(e,n,r,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,Dm(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=w$(this.state)}clone(){return this._cloneInto()}keccak(){j4(this.state32),k7(this.state32,this.rounds),j4(this.state32),this.posOut=0,this.pos=0}update(e){B4(this),e=ER(e),lu(e);const{blockLen:n,state:r}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(n-this.pos,i-o);for(let s=0;s<a;s++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){B4(this,!1),lu(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Dm(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(y$(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,wR(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:a}=this;return e||(e=new Mx(n,r,i,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const M7=(t,e,n)=>A$(()=>new Mx(e,t,n)),L2=M7(1,136,256/8),O7=lu;function R7(t){return e=>(O7(e),t(e))}const T7=(()=>{const t=R7(L2);return t.create=L2.create,t})();function Sd(t){return Buffer.from(T7(t))}const P7=new LR.ec("secp256k1");function N7(t){return{iv:Buffer.from(t.iv,"hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey,"hex"),ciphertext:Buffer.from(t.ciphertext,"hex"),mac:Buffer.from(t.mac,"hex")}}function L7(t){return{iv:Buffer.from(t.iv).toString("hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey).toString("hex"),ciphertext:Buffer.from(t.ciphertext).toString("hex"),mac:Buffer.from(t.mac).toString("hex")}}async function sm(t,e){const n=JSON.stringify(e),r=Buffer.from(n,"utf-8"),i=await p7(Ll(Buffer.from(t,"hex")),r),o=L7(i);return JSON.stringify(o)}async function QR(t,e){const n=JSON.parse(e),r=N7(n),i=P7.keyFromPrivate(t),a=(await KR(Buffer.from(i.getPrivate().toString("hex",64),"hex"),r)).toString("utf-8");return JSON.parse(a)}const D7=86400;class ih extends i7{constructor({sessionServerBaseUrl:e,sessionNamespace:n,sessionTime:r,sessionId:i,allowedOrigin:o}={}){super(),Ae(this,"sessionServerBaseUrl",UR),Ae(this,"sessionNamespace",void 0),Ae(this,"allowedOrigin",void 0),Ae(this,"sessionTime",D7),Ae(this,"sessionId",""),e&&(this.sessionServerBaseUrl=e),n&&(this.sessionNamespace=n),r&&(this.sessionTime=r),i&&(this.sessionId=N2(i)),o?this.allowedOrigin=o:this.allowedOrigin="*"}static generateRandomSessionKey(){return N2(h7().toString("hex"))}async createSession(e,n={}){super.checkSessionParams();const r=Buffer.from(this.sessionId,"hex"),i=Ll(r).toString("hex"),o=await sm(this.sessionId,e),a=(await om(r,Sd(Buffer.from(o,"utf8")))).toString("hex"),s={key:i,data:o,signature:a,namespace:this.sessionNamespace,timeout:this.sessionTime,allowedOrigin:this.allowedOrigin};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:s,headers:n}),this.sessionId}async authorizeSession({headers:e}={headers:{}}){super.checkSessionParams();const r={key:Ll(Buffer.from(this.sessionId,"hex")).toString("hex"),namespace:this.sessionNamespace},i=await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/get`,data:r,headers:e});if(!i.message)throw new Error("Session Expired or Invalid public key");const o=await QR(this.sessionId,i.message);if(o.error)throw new Error("There was an error decrypting data.");return o}async updateSession(e,n={}){super.checkSessionParams();const r=Buffer.from(this.sessionId,"hex"),i=Ll(r).toString("hex"),o=await sm(this.sessionId,e),a=(await om(r,Sd(Buffer.from(o,"utf8")))).toString("hex"),s={key:i,data:o,signature:a,namespace:this.sessionNamespace,allowedOrigin:this.allowedOrigin};await super.request({method:"PUT",url:`${this.sessionServerBaseUrl}/v2/store/update`,data:s,headers:n})}async invalidateSession(e={}){super.checkSessionParams();const n=Buffer.from(this.sessionId,"hex"),r=Ll(n).toString("hex"),i=await sm(this.sessionId,{}),o=(await om(n,Sd(Buffer.from(i,"utf8")))).toString("hex"),a={key:r,data:i,signature:o,namespace:this.sessionNamespace,timeout:1};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:a,headers:e}),this.sessionId="",!0}}async function B7(t,e){try{return await new ih({sessionId:t,sessionServerBaseUrl:e,allowedOrigin:!0}).authorizeSession()}catch(n){throw Oa.error("fetch data from storage server error",n),new Error("Unable to retrieve data from storage server, invalid key or key expired.")}}class j7 extends Ra{constructor(e){super(e),this.setFinalUrl()}setFinalUrl(){const{passkeysHostUrl:e}=this.params.customState||{};if(!e)throw new Error("Invalid passkeys url.");const n=new URL(e),r=JSON.parse(JSON.stringify(this.params.jwtParams||{})),i=On({state:this.state,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri},r);Object.keys(i).forEach(o=>{const a=o;i[a]&&n.searchParams.append(a,i[a])}),this.finalURL=n}async getUserInfo(e,n){const{idToken:r,extraParams:i}=e,{sessionId:o}=JSON.parse(Hl.decode(i))||{};if(!o)throw new Error("sessionId not found");const{verifier_id:a,signature:s,clientDataJSON:l,authenticatorData:c,publicKey:u,challenge:f,rpOrigin:p,rpId:g,credId:m,transports:v,username:_}=await B7(o,n);if(s!==r)throw new Error("idtoken should be equal to signature");return{email:"",name:"Passkeys Login",profileImage:"",authConnectionId:this.params.authConnectionId,userId:a,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,extraConnectionParams:{signature:s,clientDataJSON:l,authenticatorData:c,publicKey:u,challenge:f,rpOrigin:p,rpId:g,credId:m,transports:v,username:_}}}}const $7=["event","origin","result"];class F7 extends Ra{constructor(e){super(e),Ae(this,"RESPONSE_TYPE","token"),Ae(this,"SCOPE","profile"),Ae(this,"PROMPT","select_account"),this.setFinalUrl()}setFinalUrl(){const{domain:e}=this.params.jwtParams,n=Ax(e||"https://oauth.telegram.org/auth"),r=JSON.parse(JSON.stringify(this.params.jwtParams||{}));r.origin=`${this.params.redirect_uri}?state=${this.state}&nonce=${this.nonce}`;const i=On({state:this.state,response_type:this.RESPONSE_TYPE,bot_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:`${this.params.redirect_uri}?state=${this.state}&nonce=${this.nonce}`,scope:this.SCOPE,nonce:this.nonce},r);Object.keys(i).forEach(o=>{const a=o;i[a]&&n.searchParams.append(a,i[a])}),this.finalURL=n}async getUserInfo(e){const{idToken:n}=e,r=JF(n),{photo_url:i="",first_name:o="",last_name:a="",id:s}=r;return{email:"",name:`${o} ${a}`,profileImage:i,authConnectionId:this.params.authConnectionId,userId:s.toString(),authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}async handleLoginWindow(e){const n=new Uv({url:this.finalURL,features:e.popupFeatures,timeout:Ix(this.params.authConnection)});if(this.params.uxMode===$r.REDIRECT)n.redirect(e.locationReplaceOnRedirect);else return new Promise((r,i)=>{const o=async s=>{try{const l=JSON.parse(s)||{},{event:c,origin:u,result:f}=l,p=Tv(l,$7),m=new URL(u).searchParams.get("state");c&&c==="auth_result"&&r(be(be({accessToken:""},p),{},{idToken:Hl.encode(JSON.stringify(f))||"",state:Hl.decode(m)}))}catch(l){zc.error(l),i(l)}},a=async s=>{if(!s.data)throw new Error("Invalid data received");if(this.finalURL.origin!==s.origin)throw new Error("Invalid origin received");const l=s.data;if(typeof l!="string")throw new Error("Invalid data type received");const{event:c}=JSON.parse(l)||{};c&&c!=="auth_result"&&zc.info("Invalid event received"),window.removeEventListener("message",a),o(l),n.close()};window.addEventListener("message",a);try{n.open()}catch(s){zc.error(s),i(s);return}n.once("close",()=>{i(new Error("user closed popup"))})});return null}}class U7 extends Ra{constructor(e){super(e),Ae(this,"RESPONSE_TYPE","token"),Ae(this,"SCOPE","user:read:email"),this.setFinalUrl()}setFinalUrl(){const e=new URL("https://id.twitch.tv/oauth2/authorize"),n=JSON.parse(JSON.stringify(this.params.jwtParams||{})),r=On({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,force_verify:"true"},n);Object.keys(r).forEach(i=>{const o=i;r[o]&&e.searchParams.append(o,r[o])}),this.finalURL=e}async getUserInfo(e){const{accessToken:n}=e,r=await Ns("https://api.twitch.tv/helix/users",{headers:{Authorization:`Bearer ${n}`,"Client-ID":this.params.clientId}}),[{profile_image_url:i="",display_name:o="",email:a="",id:s}]=r.data||[];return{profileImage:i,name:o,email:a,userId:s,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}const D2={code:"code"};class z7 extends Ra{constructor(e){super(e),Ae(this,"SCOPE","openid profile email"),Ae(this,"RESPONSE_TYPE","token id_token"),Ae(this,"PROMPT","login"),this.setFinalUrl()}setFinalUrl(){const{domain:e}=this.params.jwtParams||{},n=Ax(e||"https://passwordless.web3auth.io/v7");n.pathname+=n.pathname.endsWith("/")?"authorize":"/authorize";const r=JSON.parse(JSON.stringify(this.params.jwtParams||{}));delete r.domain,this.params.customState=be(be({},this.params.customState||{}),{},{client:this.params.web3AuthClientId});const i=On({state:this.state,client_id:this.params.clientId||this.params.web3AuthClientId,redirect_uri:this.params.redirect_uri,nonce:this.nonce,network:this.params.web3AuthNetwork,connection:jR[this.params.authConnection],scope:this.SCOPE,response_type:this.RESPONSE_TYPE,prompt:this.PROMPT,flow_type:(r==null?void 0:r.flow_type)||D2.code},r);Object.keys(i).forEach(o=>{const a=o;i[a]&&n.searchParams.append(a,i[a])}),this.finalURL=n}async getUserInfo(e){const{idToken:n}=e,r=kx(n).payload,{name:i,email:o,picture:a}=r;return{profileImage:a,name:i,email:o,userId:i.toLowerCase(),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}const q7=t=>{const{authConnectionId:e,authConnection:n,clientId:r,jwtParams:i}=t;if(!e||!n||!r)throw new Error("Invalid params. Missing authConnectionId, authConnection or clientId");const{domain:o,login_hint:a,id_token:s,access_token:l}=i||{};switch(n){case it.GOOGLE:return new t7(t);case it.TELEGRAM:return new F7(t);case it.FACEBOOK:return new e7(t);case it.TWITCH:return new U7(t);case it.DISCORD:return new XF(t);case it.EMAIL_PASSWORDLESS:case it.SMS_PASSWORDLESS:if(!a)throw new Error("Invalid params. Missing login_hint for web3auth passwordless login");return new z7(t);case it.APPLE:case it.GITHUB:case it.LINKEDIN:case it.TWITTER:case it.LINE:case it.CUSTOM:case it.REDDIT:case it.WECHAT:case it.KAKAO:case it.FARCASTER:case it.AUTHENTICATOR:if(s||l)return new r7(t);if(!o)throw new Error("Invalid params for jwt login. Missing domain");return new n7(t);case it.PASSKEYS:return new j7(t);default:throw new Error("Unsupported login type")}},Ox=async t=>{const e=t instanceof Error,n=typeof t=="string",r=t&&typeof t=="object"&&"status"in t&&"type"in t;let i;if(r){const o=t,a=o.headers.get("content-type");if(a.includes("application/json")){const s=await o.json();i=new Error((s==null?void 0:s.error)||(s==null?void 0:s.message)||JSON.stringify(s))}else a.includes("text/plain")?i=new Error(await o.text()):i=new Error(`${o.status} ${o.type.toString()} ${o.statusText}`)}else n?i=new Error(t):e?i=t:i=new Error("Unknown error");return i},Ca=Oa.getLogger("auth");Ca.setLevel("error");const Sn={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},_l={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"};Sn.MAINNET+"",Sn.TESTNET+"",Sn.CYAN+"",Sn.AQUA+"",Sn.CELESTE+"";Sn.AQUA+"",_l.SAPPHIRE_MAINNET,Sn.CELESTE+"",_l.SAPPHIRE_MAINNET,Sn.CYAN+"",_l.SAPPHIRE_MAINNET,Sn.MAINNET+"",_l.SAPPHIRE_MAINNET,Sn.TESTNET+"",_l.SAPPHIRE_DEVNET;Sn.MAINNET+"",Sn.TESTNET+"",Sn.CYAN+"",Sn.AQUA+"",Sn.CELESTE+"";_l.SAPPHIRE_MAINNET+"",_l.SAPPHIRE_DEVNET+"",Sn.MAINNET+"",Sn.TESTNET+"",Sn.CYAN+"",Sn.AQUA+"",Sn.CELESTE+"";Sn.MAINNET+"",Sn.TESTNET+"",Sn.CYAN+"",Sn.AQUA+"",Sn.CELESTE+"";const XR="https://api.web3auth.io/session-service",e8="https://session.web3auth.io",H7=Sn,W7=_l,ru=be(be({},W7),H7),K7={OTHER:"other"},Qu={LOGIN:"login",ENABLE_MFA:"enable_mfa",MANAGE_MFA:"manage_mfa",ADD_AUTHENTICATOR_FACTOR:"add_authenticator_factor",ADD_PASSKEY_FACTOR:"add_passkey_factor"},xi={PRODUCTION:"production",DEVELOPMENT:"development",STAGING:"staging",TESTING:"testing"},ds={DEFAULT:"default",IFRAME:"iframe"},el={SETUP_COMPLETE:"setup_complete",INIT_DAPP:"init_dapp",LOGIN_INITIATED:"login_initiated",LOGIN_CANCELLED:"login_cancelled",LOGIN_FAILED:"login_failed",LOGIN_SUCCESS:"login_success",DISPLAY_IFRAME:"display_iframe",HIDE_IFRAME:"hide_iframe"},_6="auth-iframe",V7="http://localhost:3000",G7="https://staging-auth.web3auth.io",Y7="https://develop-auth.web3auth.io",J7="https://auth.web3auth.io",Z7="http://localhost:5173",Q7="https://staging-account.web3auth.io",X7="https://develop-account.web3auth.io",eU="https://account.web3auth.io",tU=1e3*10,oo={en:"en",ja:"ja",ko:"ko",de:"de",zh:"zh",es:"es",fr:"fr",pt:"pt",nl:"nl",tr:"tr"},nU={en:"english",ja:"japanese",ko:"korean",de:"german",zh:"mandarin",es:"spanish",fr:"french",pt:"portuguese",nl:"dutch",tr:"turkish"},B2={light:"light",dark:"dark"},t8=Hl;function jm(t){return t8.decode(t)}function Z0(t){return t8.encode(JSON.stringify(t))}const rU=t=>{const e=window.document.createElement("template"),n=t.trim();return e.innerHTML=n,e.content.firstChild};function iU(t){try{return structuredClone(t)}catch{return JSON.parse(JSON.stringify(t))}}const Q0=new Map;function oU(t){return t===B2.light?"light":t===B2.dark||window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}class sU{constructor({sdkUrl:e,whiteLabel:n}){Ae(this,"sdkUrl",void 0),Ae(this,"whiteLabel",void 0),Ae(this,"initialized",!1),Ae(this,"loginCallbackSuccess",null),Ae(this,"loginCallbackFailed",null),Ae(this,"embedNonce",Cx()),this.sdkUrl=e,this.whiteLabel=n}get targetOrigin(){return new URL(this.sdkUrl).origin}getAuthServiceIframe(){return Q0.get(this.embedNonce)}registerAuthServiceIframe(e){Q0.set(this.embedNonce,e)}cleanup(){const e=Q0.get(this.embedNonce);e&&e.parentNode&&(e.parentNode.removeChild(e),Q0.delete(this.embedNonce))}async init({network:e,clientId:n}){if(typeof window>"u"||typeof document>"u")throw new Error("window or document is not available");if(this.initialized)throw new Error("AuthProvider already initialized");const r=new URL(this.sdkUrl);r.pathname.endsWith("/")?r.pathname+="frame":r.pathname+="/frame";const i=new URLSearchParams;i.append("origin",window.location.origin),i.append("nonce",this.embedNonce),r.hash=i.toString();const o=oU(this.whiteLabel.mode||B2.light),a=rU(`<iframe
        id="${_6}-${this.embedNonce}"
        class="${_6}-${this.embedNonce}"
        sandbox="allow-popups allow-scripts allow-same-origin allow-forms allow-modals allow-downloads"
        src="${r.href}"
        style="display: none; position: fixed; top: 0; right: 0; width: 100%; z-index: 10000000;
        height: 100%; border: none; border-radius: 0; color-scheme: ${o};"
        allow="clipboard-write"
      ></iframe>`);return this.registerAuthServiceIframe(a),new Promise((s,l)=>{try{window.document.body.appendChild(a);const c=u=>{var f,p,g;if(u.origin!==this.targetOrigin)return;const{data:m}=u,{type:v,nonce:_}=m;if(_!==this.embedNonce)return;const w=m.data;switch(v){case el.SETUP_COMPLETE:(f=this.getAuthServiceIframe())===null||f===void 0||(f=f.contentWindow)===null||f===void 0||f.postMessage({type:el.INIT_DAPP,data:{network:e,clientId:n}},this.targetOrigin),this.initialized=!0,s();break;case el.LOGIN_FAILED:(p=this.loginCallbackFailed)===null||p===void 0||p.call(this,(w==null?void 0:w.error)||"Login failed, reason: unknown");break;case el.DISPLAY_IFRAME:this.getAuthServiceIframe().style.display="block";break;case el.HIDE_IFRAME:this.getAuthServiceIframe().style.display="none";break;case el.LOGIN_SUCCESS:Ca.info("LOGIN_SUCCESS",w),this.getAuthServiceIframe().style.display="none",w!=null&&w.sessionId&&((g=this.loginCallbackSuccess)===null||g===void 0||g.call(this,w));break;default:Ca.warn(`Unknown message type: ${v}`);break}};window.addEventListener("message",c)}catch(c){l(c)}})}postLoginInitiatedMessage(e,n){var r;if(!this.initialized)throw new Error("Iframe not initialized");return(r=this.getAuthServiceIframe().contentWindow)===null||r===void 0||r.postMessage({type:el.LOGIN_INITIATED,data:{loginConfig:e,nonce:n}},this.targetOrigin),new Promise((i,o)=>{this.loginCallbackSuccess=i,this.loginCallbackFailed=o})}postLoginCancelledMessage(e){var n;if(!this.initialized)throw new Error("Iframe not initialized");(n=this.getAuthServiceIframe().contentWindow)===null||n===void 0||n.postMessage({type:el.LOGIN_CANCELLED,data:{nonce:e}},this.targetOrigin)}}function aU(t,e){var n=Object.setPrototypeOf;n?n(t,e):t.__proto__=e}function lU(t,e){e===void 0&&(e=t.constructor);var n=Error.captureStackTrace;n&&n(t,e)}var cU=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},t(n,r)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),n8=function(t){cU(e,t);function e(n,r){var i=this.constructor,o=t.call(this,n,r)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1,configurable:!0}),aU(o,i.prototype),lU(o),o}return e}(Error);class r8 extends n8{constructor(e,n){super(n),Ae(this,"code",void 0),Ae(this,"message",void 0),this.code=e,this.message=n||"",Object.defineProperty(this,"name",{value:"AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}}class pa extends r8{constructor(e,n){super(e,n),Object.defineProperty(this,"name",{value:"InitializationError"})}static fromCode(e,n=""){return new pa(e,`${pa.messages[e]}, ${n}`)}static invalidParams(e=""){return pa.fromCode(5001,e)}static notInitialized(e=""){return pa.fromCode(5002,e)}}Ae(pa,"messages",{5e3:"Custom",5001:"Invalid constructor params",5002:"SDK not initialized. please call init first"});class un extends r8{constructor(e,n){super(e,n),Object.defineProperty(this,"name",{value:"LoginError"})}static fromCode(e,n=""){return new un(e,`${un.messages[e]}, ${n}`)}static invalidLoginParams(e=""){return un.fromCode(5111,e)}static userNotLoggedIn(e=""){return un.fromCode(5112,e)}static popupClosed(e=""){return un.fromCode(5113,e)}static loginFailed(e=""){return un.fromCode(5114,e)}static popupBlocked(e=""){return un.fromCode(5115,e)}static mfaAlreadyEnabled(e=""){return un.fromCode(5116,e)}static mfaNotEnabled(e=""){return un.fromCode(5117,e)}}Ae(un,"messages",{5e3:"Custom",5111:"Invalid login params",5112:"User not logged in.",5113:"login popup has been closed by the user",5114:"Login failed",5115:"Popup was blocked. Please call this function as soon as user clicks button or use redirect mode",5116:"MFA already enabled",5117:"MFA not yet enabled. Please call `enableMFA` first"});const Os=Object.create(null);Os.open="0";Os.close="1";Os.ping="2";Os.pong="3";Os.message="4";Os.upgrade="5";Os.noop="6";const am=Object.create(null);Object.keys(Os).forEach(t=>{am[Os[t]]=t});const j2={type:"error",data:"parser error"},i8=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",o8=typeof ArrayBuffer=="function",s8=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Rx=({type:t,data:e},n,r)=>i8&&e instanceof Blob?n?r(e):S6(e,r):o8&&(e instanceof ArrayBuffer||s8(e))?n?r(e):S6(new Blob([e]),r):r(Os[t]+(e||"")),S6=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function C6(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Cb;function uU(t,e){if(i8&&t.data instanceof Blob)return t.data.arrayBuffer().then(C6).then(e);if(o8&&(t.data instanceof ArrayBuffer||s8(t.data)))return e(C6(t.data));Rx(t,!1,n=>{Cb||(Cb=new TextEncoder),e(Cb.encode(n))})}const A6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<A6.length;t++)oh[A6.charCodeAt(t)]=t;const dU=t=>{let e=t.length*.75,n=t.length,r,i=0,o,a,s,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const c=new ArrayBuffer(e),u=new Uint8Array(c);for(r=0;r<n;r+=4)o=oh[t.charCodeAt(r)],a=oh[t.charCodeAt(r+1)],s=oh[t.charCodeAt(r+2)],l=oh[t.charCodeAt(r+3)],u[i++]=o<<2|a>>4,u[i++]=(a&15)<<4|s>>2,u[i++]=(s&3)<<6|l&63;return c},fU=typeof ArrayBuffer=="function",Tx=(t,e)=>{if(typeof t!="string")return{type:"message",data:a8(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:hU(t.substring(1),e)}:am[n]?t.length>1?{type:am[n],data:t.substring(1)}:{type:am[n]}:j2},hU=(t,e)=>{if(fU){const n=dU(t);return a8(n,e)}else return{base64:!0,data:t}},a8=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},l8="",pU=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((o,a)=>{Rx(o,!1,s=>{r[a]=s,++i===n&&e(r.join(l8))})})},gU=(t,e)=>{const n=t.split(l8),r=[];for(let i=0;i<n.length;i++){const o=Tx(n[i],e);if(r.push(o),o.type==="error")break}return r};function mU(){return new TransformStream({transform(t,e){uU(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let Ab;function X0(t){return t.reduce((e,n)=>e+n.length,0)}function eg(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function vU(t,e){Ab||(Ab=new TextDecoder);const n=[];let r=0,i=-1,o=!1;return new TransformStream({transform(a,s){for(n.push(a);;){if(r===0){if(X0(n)<1)break;const l=eg(n,1);o=(l[0]&128)===128,i=l[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(X0(n)<2)break;const l=eg(n,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(X0(n)<8)break;const l=eg(n,8),c=new DataView(l.buffer,l.byteOffset,l.length),u=c.getUint32(0);if(u>Math.pow(2,21)-1){s.enqueue(j2);break}i=u*Math.pow(2,32)+c.getUint32(4),r=3}else{if(X0(n)<i)break;const l=eg(n,i);s.enqueue(Tx(o?l:Ab.decode(l),e)),r=0}if(i===0||i>t){s.enqueue(j2);break}}}})}const c8=4;function Xn(t){if(t)return yU(t)}function yU(t){for(var e in Xn.prototype)t[e]=Xn.prototype[e];return t}Xn.prototype.on=Xn.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Xn.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Xn.prototype.off=Xn.prototype.removeListener=Xn.prototype.removeAllListeners=Xn.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Xn.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};Xn.prototype.emitReserved=Xn.prototype.emit;Xn.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Xn.prototype.hasListeners=function(t){return!!this.listeners(t).length};const zv=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),vo=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),wU="arraybuffer";function u8(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const bU=vo.setTimeout,EU=vo.clearTimeout;function qv(t,e){e.useNativeTimers?(t.setTimeoutFn=bU.bind(vo),t.clearTimeoutFn=EU.bind(vo)):(t.setTimeoutFn=vo.setTimeout.bind(vo),t.clearTimeoutFn=vo.clearTimeout.bind(vo))}const xU=1.33;function _U(t){return typeof t=="string"?SU(t):Math.ceil((t.byteLength||t.size)*xU)}function SU(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function d8(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function CU(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function AU(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class IU extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class Px extends Xn{constructor(e){super(),this.writable=!1,qv(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new IU(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Tx(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=CU(e);return n.length?"?"+n:""}}class kU extends Px{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};gU(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,pU(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=d8()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let f8=!1;try{f8=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const MU=f8;function OU(){}class RU extends kU{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}let Cd=class lm extends Xn{constructor(e,n,r){super(),this.createRequest=e,qv(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=u8(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=lm.requestsCount++,lm.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=OU,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete lm.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Cd.requestsCount=0;Cd.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",I6);else if(typeof addEventListener=="function"){const t="onpagehide"in vo?"pagehide":"unload";addEventListener(t,I6,!1)}}function I6(){for(let t in Cd.requests)Cd.requests.hasOwnProperty(t)&&Cd.requests[t].abort()}const TU=function(){const t=h8({xdomain:!1});return t&&t.responseType!==null}();class PU extends RU{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=TU&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Cd(h8,this.uri(),e)}}function h8(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||MU))return new XMLHttpRequest}catch{}if(!e)try{return new vo[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const p8=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class NU extends Px{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=p8?{}:u8(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;Rx(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&zv(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=d8()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Ib=vo.WebSocket||vo.MozWebSocket;class LU extends NU{createSocket(e,n,r){return p8?new Ib(e,n,r):n?new Ib(e,n):new Ib(e)}doWrite(e,n){this.ws.send(n)}}class DU extends Px{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=vU(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=mU();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const o=()=>{r.read().then(({done:s,value:l})=>{s||(this.onPacket(l),o())}).catch(s=>{})};o();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&zv(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const BU={websocket:LU,webtransport:DU,polling:PU},jU=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,$U=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function $2(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=jU.exec(t||""),o={},a=14;for(;a--;)o[$U[a]]=i[a]||"";return n!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=FU(o,o.path),o.queryKey=UU(o,o.query),o}function FU(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function UU(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(n[i]=o)}),n}const F2=typeof addEventListener=="function"&&typeof removeEventListener=="function",cm=[];F2&&addEventListener("offline",()=>{cm.forEach(t=>t())},!1);class jl extends Xn{constructor(e,n){if(super(),this.binaryType=wU,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=$2(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=$2(n.host).host);qv(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=AU(this.opts.query)),F2&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},cm.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=c8,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&jl.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",jl.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=_U(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,zv(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const o={type:e,data:n,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(jl.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),F2&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=cm.indexOf(this._offlineEventListener);r!==-1&&cm.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}jl.protocol=c8;class zU extends jl{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;jl.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;jl.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=n.name,this.emitReserved("upgradeError",p)}}))};function o(){r||(r=!0,u(),n.close(),n=null)}const a=f=>{const p=new Error("probe error: "+f);p.transport=n.name,o(),this.emitReserved("upgradeError",p)};function s(){a("transport closed")}function l(){a("socket closed")}function c(f){n&&f.name!==n.name&&o()}const u=()=>{n.removeListener("open",i),n.removeListener("error",a),n.removeListener("close",s),this.off("close",l),this.off("upgrading",c)};n.once("open",i),n.once("error",a),n.once("close",s),this.once("close",l),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let qU=class extends zU{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>BU[i]).filter(i=>!!i)),super(e,r)}};function HU(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=$2(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}const WU=typeof ArrayBuffer=="function",KU=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,g8=Object.prototype.toString,VU=typeof Blob=="function"||typeof Blob<"u"&&g8.call(Blob)==="[object BlobConstructor]",GU=typeof File=="function"||typeof File<"u"&&g8.call(File)==="[object FileConstructor]";function Nx(t){return WU&&(t instanceof ArrayBuffer||KU(t))||VU&&t instanceof Blob||GU&&t instanceof File}function um(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(um(t[n]))return!0;return!1}if(Nx(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return um(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&um(t[n]))return!0;return!1}function YU(t){const e=[],n=t.data,r=t;return r.data=U2(n,e),r.attachments=e.length,{packet:r,buffers:e}}function U2(t,e){if(!t)return t;if(Nx(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=U2(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=U2(t[r],e));return n}return t}function JU(t,e){return t.data=z2(t.data,e),delete t.attachments,t}function z2(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=z2(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=z2(t[n],e));return t}const ZU=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],QU=5;var Jt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Jt||(Jt={}));class XU{constructor(e){this.replacer=e}encode(e){return(e.type===Jt.EVENT||e.type===Jt.ACK)&&um(e)?this.encodeAsBinary({type:e.type===Jt.EVENT?Jt.BINARY_EVENT:Jt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Jt.BINARY_EVENT||e.type===Jt.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=YU(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function k6(t){return Object.prototype.toString.call(t)==="[object Object]"}class Lx extends Xn{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===Jt.BINARY_EVENT;r||n.type===Jt.BINARY_ACK?(n.type=r?Jt.EVENT:Jt.ACK,this.reconstructor=new ez(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Nx(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(Jt[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Jt.BINARY_EVENT||r.type===Jt.BINARY_ACK){const o=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const a=e.substring(o,n);if(a!=Number(a)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(e.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(o,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const o=n+1;for(;++n;){const a=e.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===e.length)break}r.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){const o=this.tryParse(e.substr(n));if(Lx.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Jt.CONNECT:return k6(n);case Jt.DISCONNECT:return n===void 0;case Jt.CONNECT_ERROR:return typeof n=="string"||k6(n);case Jt.EVENT:case Jt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&ZU.indexOf(n[0])===-1);case Jt.ACK:case Jt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ez{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=JU(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const tz=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Lx,Encoder:XU,get PacketType(){return Jt},protocol:QU},Symbol.toStringTag,{value:"Module"}));function $o(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const nz=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class m8 extends Xn{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[$o(e,"open",this.onopen.bind(this)),$o(e,"packet",this.onpacket.bind(this)),$o(e,"error",this.onerror.bind(this)),$o(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,i,o;if(nz.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const a={type:Jt.EVENT,data:n};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const u=this.ids++,f=n.pop();this._registerAckCallback(u,f),a.id=u}const s=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,l=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!s||(l?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===e&&this.sendBuffer.splice(s,1);n.call(this,new Error("operation has timed out"))},i),a=(...s)=>{this.io.clearTimeoutFn(o),n.apply(this,s)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...n){return new Promise((r,i)=>{const o=(a,s)=>a?i(a):r(s);o.withError=!0,n.push(o),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Jt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Jt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Jt.EVENT:case Jt.BINARY_EVENT:this.onevent(e);break;case Jt.ACK:case Jt.BINARY_ACK:this.onack(e);break;case Jt.DISCONNECT:this.ondisconnect();break;case Jt.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:Jt.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Jt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function ef(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}ef.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};ef.prototype.reset=function(){this.attempts=0};ef.prototype.setMin=function(t){this.ms=t};ef.prototype.setMax=function(t){this.max=t};ef.prototype.setJitter=function(t){this.jitter=t};class q2 extends Xn{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,qv(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new ef({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||tz;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new qU(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=$o(n,"open",function(){r.onopen(),e&&e()}),o=s=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",s),e?e(s):this.maybeReconnectOnOpen()},a=$o(n,"error",o);if(this._timeout!==!1){const s=this._timeout,l=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),n.close()},s);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push($o(e,"ping",this.onping.bind(this)),$o(e,"data",this.ondata.bind(this)),$o(e,"error",this.onerror.bind(this)),$o(e,"close",this.onclose.bind(this)),$o(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){zv(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new m8(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const zf={};function gh(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=HU(t,e.path||"/socket.io"),r=n.source,i=n.id,o=n.path,a=zf[i]&&o in zf[i].nsps,s=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let l;return s?l=new q2(r,e):(zf[i]||(zf[i]=new q2(r,e)),l=zf[i]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(gh,{Manager:q2,Socket:m8,io:gh,connect:gh});var br=Oa.getLogger("SecurePubSub");class v8{constructor(e={}){Ae(this,"options",void 0),Ae(this,"SOCKET_CONN",null),this.options=e,this.options.timeout=e.timeout||600,this.options.serverUrl=e.serverUrl||UR,this.options.socketUrl=e.socketUrl||o7,this.options.enableLogging=e.enableLogging||!1,this.options.namespace=e.namespace||"",this.options.sameIpCheck=e.sameIpCheck||!1,this.options.allowedOrigin=e.allowedOrigin||"*",this.options.enableLogging?br.enableAll():br.disableAll()}static setLogLevel(e){br.setLevel(e),LF(e)}async publish(e,n){if(!this.isValidTopic(e))throw br.error("Invalid topic"),new Error("Invalid topic");const r=Sd(Buffer.from(e,"utf8")),i=await sm(r.toString("hex"),n),o=await om(r,Sd(Buffer.from(i,"utf8"))),a={key:Ll(r).toString("hex"),data:i,signature:o.toString("hex"),timeout:this.options.timeout,namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin};return cu(`${this.options.serverUrl}/v2/channel/set`,a)}async subscribe(e){let n=!0;const r=Sd(Buffer.from(e,"utf8")),i=Ll(r).toString("hex"),o=this.getSocketConnection();o.connected?(br.debug("already connected with socket"),o.emit("v2:check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})):o.once("connect",()=>{br.debug("connected with socket"),o.emit("v2:check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})});const a=()=>{o.once("connect",async()=>{br.debug("connected with socket using reconnect"),n&&o.emit("v2:check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})})},s=()=>{n||document.removeEventListener("visibilitychange",s),!o.connected&&document.visibilityState==="visible"&&a()},l=()=>{br.debug("socket disconnected",n),n?(br.error("socket disconnected unexpectedly, reconnecting socket"),a()):o.removeListener("disconnect",l)};o.on("disconnect",l);const c=new Promise((u,f)=>{const p=async g=>{try{const m=await QR(r.toString("hex"),g);br.info("got data",m),u(m)}catch(m){br.error(m),f(m)}finally{n=!1,typeof document<"u"&&document.removeEventListener("visibilitychange",s)}};br.info("listening to",`${i}_success`),o.once(`${i}_success`,p)});return typeof document<"u"&&document.addEventListener("visibilitychange",s),c}cleanup(){this.SOCKET_CONN&&(this.SOCKET_CONN.disconnect(),this.SOCKET_CONN=null)}getSocketConnection(){if(this.SOCKET_CONN)return this.SOCKET_CONN;const e=gh(this.options.socketUrl,{transports:["websocket","polling"],withCredentials:!0,reconnectionDelayMax:1e4,reconnectionAttempts:10});return e.on("connect_error",n=>{e.io.opts.transports=["polling","websocket"],br.error("connect error",n)}),e.on("connect",async()=>{const{engine:n}=e.io;br.debug("initially connected to",n.transport.name),n.once("upgrade",()=>{br.debug("upgraded",n.transport.name)}),n.once("close",r=>{br.debug("connection closed",r)})}),e.on("error",n=>{br.error("socket errored",n),e.disconnect()}),this.SOCKET_CONN=e,this.SOCKET_CONN}isValidTopic(e){return e&&e.length>0}}class rz extends Fv.EventEmitter{constructor({url:e,target:n,features:r,timeout:i=3e4,sessionSocketUrl:o,sessionServerUrl:a}){super(),Ae(this,"url",void 0),Ae(this,"target",void 0),Ae(this,"features",void 0),Ae(this,"window",void 0),Ae(this,"windowTimer",void 0),Ae(this,"iClosedWindow",void 0),Ae(this,"timeout",void 0),Ae(this,"sessionSocketUrl",void 0),Ae(this,"sessionServerUrl",void 0),this.url=e,this.target=n||"_blank",this.features=r||FR(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=i,this.sessionServerUrl=a||XR,this.sessionSocketUrl=o||e8,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var e;if(this.window=window.open(this.url,this.target,this.features),!this.window)throw un.popupBlocked();(e=this.window)!==null&&e!==void 0&&e.focus&&this.window.focus()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url):window.location.href=this.url}async listenOnChannel(e){const n=new v8({serverUrl:this.sessionServerUrl,socketUrl:this.sessionSocketUrl,sameIpCheck:!0,allowedOrigin:!0}),r=await n.subscribe(e);this.close(),n.cleanup();const i=JSON.parse(r);return i.error?{error:i.error,state:i.state}:i.data}}const H2="10.5.0";function iz(t=!1){const e={},n=new URLSearchParams(window.location.search.slice(1));n.forEach((a,s)=>{s!=="b64Params"&&(e[s]=a)});const r=n.get("b64Params");if(r)try{const a=JSON.parse(jm(r));Object.keys(a).forEach(s=>{e[s]=a[s]})}catch(a){Ca.error(a)}const i=new URLSearchParams(window.location.hash.substring(1));i.forEach((a,s)=>{s!=="b64Params"&&(e[s]=a)});const o=i.get("b64Params");if(o)try{const a=JSON.parse(jm(o));Object.keys(a).forEach(s=>{e[s]=a[s]})}catch(a){Ca.error(a)}if(t){const a=new URL(window.location.origin+window.location.pathname);n.size!==0&&(n.delete("error"),n.delete("state"),n.delete("b64Params"),n.delete("sessionNamespace"),a.search=n.toString()),i.size!==0&&(i.delete("error"),i.delete("state"),i.delete("b64Params"),i.delete("sessionNamespace"),a.hash=i.toString()),window.history.replaceState(be(be({},window.history.state),{},{as:a.href,url:a.href}),"",a.href)}return e}class y8{constructor(){Ae(this,"store",new Map)}getItem(e){return this.store.get(e)||null}setItem(e,n){this.store.set(e,n)}removeItem(e){this.store.delete(e)}}class w8{constructor(e,n){Ae(this,"storage",void 0),Ae(this,"_storeKey",void 0),this.storage=n,this._storeKey=e;try{n.getItem(e)||this.resetStore()}catch{}}static getInstance(e,n="local"){if(!this.instanceMap.has(e)){let r;n==="local"&&P2("localStorage")?r=window.localStorage:n==="session"&&P2("sessionStorage")?r=window.sessionStorage:r=new y8,this.instanceMap.set(e,new this(e,r))}return this.instanceMap.get(e)}toJSON(){return this.storage.getItem(this._storeKey)}resetStore(){const e=this.getStore();return this.storage.removeItem(this._storeKey),e}getStore(){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")}get(e){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")[e]}set(e,n){const r=JSON.parse(this.storage.getItem(this._storeKey)||"{}");r[e]=n,this.storage.setItem(this._storeKey,JSON.stringify(r))}}Ae(w8,"instanceMap",new Map);class oz{constructor(e){if(Ae(this,"state",{}),Ae(this,"options",void 0),Ae(this,"sessionManager",void 0),Ae(this,"currentStorage",void 0),Ae(this,"_storageBaseKey","auth_store"),Ae(this,"dappState",void 0),Ae(this,"addVersionInUrls",!0),Ae(this,"authProvider",void 0),Ae(this,"authProviderPromise",void 0),!e.clientId)throw pa.invalidParams("clientId is required");e.network||(e.network=ru.SAPPHIRE_MAINNET),e.buildEnv||(e.buildEnv=xi.PRODUCTION),e.sdkMode||(e.sdkMode=ds.DEFAULT),(e.buildEnv===xi.DEVELOPMENT||e.buildEnv===xi.TESTING||e.sdkUrl)&&(this.addVersionInUrls=!1),!e.sdkUrl&&!e.useMpc&&(e.buildEnv===xi.DEVELOPMENT?(e.sdkUrl=V7,e.dashboardUrl=Z7):e.buildEnv===xi.STAGING?(e.sdkUrl=G7,e.dashboardUrl=Q7):e.buildEnv===xi.TESTING?(e.sdkUrl=Y7,e.dashboardUrl=X7):(e.sdkUrl=J7,e.dashboardUrl=eU)),!e.redirectUrl&&typeof window<"u"&&(e.redirectUrl=`${window.location.protocol}//${window.location.host}${window.location.pathname}`),e.uxMode||(e.uxMode=$r.REDIRECT),typeof e.replaceUrlOnRedirect!="boolean"&&(e.replaceUrlOnRedirect=!0),typeof e.includeUserDataInToken!="boolean"&&(e.includeUserDataInToken=!0),e.originData||(e.originData={}),e.whiteLabel||(e.whiteLabel={}),e.authConnectionConfig||(e.authConnectionConfig=[]),e.mfaSettings||(e.mfaSettings={}),e.storageServerUrl||(e.storageServerUrl=XR),e.sessionSocketUrl||(e.sessionSocketUrl=e8),e.storage||(e.storage="local"),e.sessionTime||(e.sessionTime=86400),this.options=e}get privKey(){return this.options.useMpc?this.state.factorKey||"":this.state.privKey?this.state.privKey.padStart(64,"0"):""}get coreKitKey(){return this.state.coreKitKey?this.state.coreKitKey.padStart(64,"0"):""}get ed25519PrivKey(){return this.state.ed25519PrivKey?this.state.ed25519PrivKey.padStart(128,"0"):""}get coreKitEd25519Key(){return this.state.coreKitEd25519PrivKey?this.state.coreKitEd25519PrivKey.padStart(128,"0"):""}get sessionId(){return this.state.sessionId||""}get sessionNamespace(){return this.options.sessionNamespace||""}get appState(){return this.state.userInfo.appState||this.dappState||""}get baseUrl(){return this.addVersionInUrls?`${this.options.sdkUrl}/v${H2.split(".")[0]}`:`${this.options.sdkUrl}`}get dashboardUrl(){return this.addVersionInUrls?`${this.options.dashboardUrl}/v${H2.split(".")[0]}`:`${this.options.dashboardUrl}`}async init(){const e=iz(this.options.replaceUrlOnRedirect);e.sessionNamespace&&(this.options.sessionNamespace=e.sessionNamespace);const n=this.options.sessionKey||(this.options.sessionNamespace?`${this._storageBaseKey}_${this.options.sessionNamespace}`:this._storageBaseKey);this.currentStorage=w8.getInstance(n,this.options.storage);const r=this.currentStorage.get("sessionId");if(this.sessionManager=new ih({sessionServerBaseUrl:this.options.storageServerUrl,sessionNamespace:this.options.sessionNamespace,sessionTime:this.options.sessionTime,sessionId:r,allowedOrigin:this.options.sdkUrl}),(this.options.network===ru.TESTNET||this.options.network===ru.SAPPHIRE_DEVNET)&&console.log(`%c WARNING! You are on ${this.options.network}. Please set network: 'mainnet' or 'sapphire_mainnet' in production`,"color: #FF0000"),this.options.buildEnv!==xi.PRODUCTION&&console.log(`%c WARNING! You are using build env ${this.options.buildEnv}. Please set buildEnv: 'production' in production`,"color: #FF0000"),e.error)throw this.dappState=e.state,un.loginFailed(e.error);if(e.sessionId&&(this.currentStorage.set("sessionId",e.sessionId),this.sessionManager.sessionId=e.sessionId),this.sessionManager.sessionId){const i=await this._authorizeSession();this.updateState(i),Object.keys(i).length===0?this.currentStorage.set("sessionId",""):this.updateState({sessionId:this.sessionManager.sessionId})}this.options.sdkMode===ds.IFRAME&&(this.authProvider=new sU({sdkUrl:this.baseUrl,whiteLabel:this.options.whiteLabel}),this.state.sessionId||(this.authProviderPromise=this.authProvider.init({network:this.options.network,clientId:this.options.clientId}),e.nonce&&(await this.authProviderPromise,await this.postLoginInitiatedMessage(JSON.parse(e.loginParams),e.nonce))))}async login(e){if(!e.authConnection&&(!e.authConnectionId||!e.groupedAuthConnectionId))throw un.invalidLoginParams("AuthConnection is required");const n=be({},e),r={actionType:Qu.LOGIN,options:this.options,params:n},i=await this.authHandler(`${this.baseUrl}/start`,r,Ix(e.authConnection));if(this.options.uxMode===$r.REDIRECT)return null;if(i.error)throw this.dappState=i.state,un.loginFailed(i.error);return this.sessionManager.sessionId=i.sessionId,this.options.sessionNamespace=i.sessionNamespace,this.currentStorage.set("sessionId",i.sessionId),await this.rehydrateSession(),{privKey:this.privKey}}async postLoginInitiatedMessage(e,n){var r;if(this.options.sdkMode!==ds.IFRAME)throw un.invalidLoginParams("Cannot perform this action in default mode.");this.authProviderPromise&&await this.authProviderPromise,(r=this.authProvider)!==null&&r!==void 0&&r.initialized||await this.authProvider.init({network:this.options.network,clientId:this.options.clientId});const i=await this.authProvider.postLoginInitiatedMessage({actionType:Qu.LOGIN,params:e,options:this.options},n);if(i.error)throw un.loginFailed(i.error);this.sessionManager.sessionId=i.sessionId,this.options.sessionNamespace=i.sessionNamespace,this.currentStorage.set("sessionId",i.sessionId),await this.rehydrateSession()}async postLoginCancelledMessage(e){var n;if(this.options.sdkMode!==ds.IFRAME)throw un.invalidLoginParams("Cannot perform this action in default mode.");if(this.authProviderPromise&&await this.authProviderPromise,!((n=this.authProvider)!==null&&n!==void 0&&n.initialized))throw pa.notInitialized();this.authProvider.postLoginCancelledMessage(e)}async logout(){if(!this.sessionManager.sessionId)throw un.userNotLoggedIn();await this.sessionManager.invalidateSession(),this.updateState({privKey:"",coreKitKey:"",coreKitEd25519PrivKey:"",ed25519PrivKey:"",walletKey:"",oAuthPrivateKey:"",tKey:"",metadataNonce:"",keyMode:void 0,userInfo:{name:"",profileImage:"",dappShare:"",idToken:"",oAuthIdToken:"",oAuthAccessToken:"",appState:"",email:"",authConnectionId:"",userId:"",groupedAuthConnectionId:"",authConnection:"",isMfaEnabled:!1},authToken:"",sessionId:"",factorKey:"",signatures:[],tssShareIndex:-1,tssPubKey:"",tssShare:"",tssNonce:-1}),this.currentStorage.set("sessionId","")}async enableMFA(e){var n;if(!this.sessionId)throw un.userNotLoggedIn();if(this.state.userInfo.isMfaEnabled)throw un.mfaAlreadyEnabled();const r={actionType:Qu.ENABLE_MFA,options:be(be({},this.options),{},{sdkMode:ds.DEFAULT}),params:be(be({},e),{},{authConnection:this.state.userInfo.authConnection,authConnectionId:this.state.userInfo.authConnectionId,groupedAuthConnectionId:this.state.userInfo.groupedAuthConnectionId,extraLoginOptions:{login_hint:this.state.userInfo.userId},mfaLevel:"mandatory"}),sessionId:this.sessionId},i=await this.authHandler(`${this.baseUrl}/start`,r,tU);if(this.options.uxMode===$r.REDIRECT)return null;if(i.error)throw this.dappState=i.state,un.loginFailed(i.error);return this.sessionManager.sessionId=i.sessionId,this.options.sessionNamespace=i.sessionNamespace,this.currentStorage.set("sessionId",i.sessionId),await this.rehydrateSession(),!!(!((n=this.state.userInfo)===null||n===void 0)&&n.isMfaEnabled)}async manageMFA(e){if(!this.sessionId)throw un.userNotLoggedIn();if(!this.state.userInfo.isMfaEnabled)throw un.mfaNotEnabled();const n={dappUrl:`${window.location.origin}${window.location.pathname}`},r=ih.generateRandomSessionKey(),i={actionType:Qu.MANAGE_MFA,options:be(be({},this.options),{},{uxMode:$r.REDIRECT,sdkMode:ds.DEFAULT,redirectUrl:`${this.dashboardUrl}/wallet/account`}),params:be(be(be({},n),e),{},{authConnection:this.state.userInfo.authConnection,authConnectionId:this.state.userInfo.authConnectionId,groupedAuthConnectionId:this.state.userInfo.groupedAuthConnectionId,extraLoginOptions:{login_hint:this.state.userInfo.userId},appState:Z0({loginId:r})}),sessionId:this.sessionId};this.createLoginSession(r,i,i.options.sessionTime,!0);const o={loginId:r,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl},a=hh({baseURL:`${this.baseUrl}/start`,hash:{b64Params:Z0(o)}});window.open(a,"_blank")}async manageSocialFactor(e,n){if(!this.sessionId)throw un.userNotLoggedIn();const r={actionType:e,options:be(be({},this.options),{},{sdkMode:ds.DEFAULT}),params:be({},n),sessionId:this.sessionId},i=await this.authHandler(`${this.baseUrl}/start`,r);if(this.options.uxMode!==$r.REDIRECT)return!i.error}async addAuthenticatorFactor(e){if(!this.sessionId)throw un.userNotLoggedIn();const n={actionType:Qu.ADD_AUTHENTICATOR_FACTOR,options:be(be({},this.options),{},{sdkMode:ds.DEFAULT}),params:be(be({},e),{},{authConnection:it.AUTHENTICATOR}),sessionId:this.sessionId},r=await this.authHandler(`${this.baseUrl}/start`,n);if(this.options.uxMode!==$r.REDIRECT)return!r.error}async addPasskeyFactor(e){if(!this.sessionId)throw un.userNotLoggedIn();const n={actionType:Qu.ADD_PASSKEY_FACTOR,options:be(be({},this.options),{},{sdkMode:ds.DEFAULT}),params:be(be({},e),{},{authConnection:it.PASSKEYS}),sessionId:this.sessionId},r=await this.authHandler(`${this.baseUrl}/start`,n);if(this.options.uxMode!==$r.REDIRECT)return!r.error}async cleanup(){this.authProvider&&this.authProvider.cleanup()}getUserInfo(){if(!this.sessionManager.sessionId)throw un.userNotLoggedIn();return this.state.userInfo}async createLoginSession(e,n,r=600,i=!1){if(!this.sessionManager)throw pa.notInitialized();const a=new ih({sessionServerBaseUrl:n.options.storageServerUrl,sessionNamespace:n.options.sessionNamespace,sessionTime:r,sessionId:e,allowedOrigin:this.options.sdkUrl}).createSession(JSON.parse(JSON.stringify(n)));n.options.uxMode===$r.REDIRECT&&!i&&await a}async _authorizeSession(){try{return this.sessionManager.sessionId?await this.sessionManager.authorizeSession():{}}catch(e){return Ca.error("authorization failed",e),{}}}updateState(e){this.state=be(be({},this.state),e)}async rehydrateSession(){const e=await this._authorizeSession();this.updateState(e)}async authHandler(e,n,r=1e3*10){const i=ih.generateRandomSessionKey();await this.createLoginSession(i,n);const o={loginId:i,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl};if(this.options.uxMode===$r.REDIRECT){const l=hh({baseURL:e,hash:{b64Params:Z0(o)}});window.location.href=l;return}const a=hh({baseURL:e,hash:{b64Params:Z0(o)}}),s=new rz({url:a,timeout:r,sessionServerUrl:this.options.storageServerUrl,sessionSocketUrl:this.options.sessionSocketUrl});return new Promise((l,c)=>{s.on("close",()=>{c(un.popupClosed())}),s.listenOnChannel(i).then(l).catch(c);try{s.open()}catch(u){c(u)}})}}var kb={exports:{}},Mb={exports:{}},Ob,M6;function Ln(){if(M6)return Ob;M6=1;class t extends Error{constructor(n){if(!Array.isArray(n))throw new TypeError(`Expected input to be an Array, got ${typeof n}`);let r="";for(let i=0;i<n.length;i++)r+=`    ${n[i].stack}
`;super(r),this.name="AggregateError",this.errors=n}}return Ob={AggregateError:t,ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,n){return e.includes(n)},ArrayPrototypeIndexOf(e,n){return e.indexOf(n)},ArrayPrototypeJoin(e,n){return e.join(n)},ArrayPrototypeMap(e,n){return e.map(n)},ArrayPrototypePop(e,n){return e.pop(n)},ArrayPrototypePush(e,n){return e.push(n)},ArrayPrototypeSlice(e,n,r){return e.slice(n,r)},Error,FunctionPrototypeCall(e,n,...r){return e.call(n,...r)},FunctionPrototypeSymbolHasInstance(e,n){return Function.prototype[Symbol.hasInstance].call(e,n)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,n){return Object.defineProperties(e,n)},ObjectDefineProperty(e,n,r){return Object.defineProperty(e,n,r)},ObjectGetOwnPropertyDescriptor(e,n){return Object.getOwnPropertyDescriptor(e,n)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,n){return Object.setPrototypeOf(e,n)},Promise,PromisePrototypeCatch(e,n){return e.catch(n)},PromisePrototypeThen(e,n,r){return e.then(n,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,n){return e.test(n)},SafeSet:Set,String,StringPrototypeSlice(e,n,r){return e.slice(n,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,n,r){return e.set(n,r)},Boolean,Uint8Array},Ob}var Rb={exports:{}},Tb,O6;function b8(){return O6||(O6=1,Tb={format(t,...e){return t.replace(/%([sdifj])/g,function(...[n,r]){const i=e.shift();return r==="f"?i.toFixed(6):r==="j"?JSON.stringify(i):r==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}),Tb}var Pb,R6;function ii(){if(R6)return Pb;R6=1;const{format:t,inspect:e}=b8(),{AggregateError:n}=Ln(),r=globalThis.AggregateError||n,i=Symbol("kIsNodeError"),o=["string","function","number","object","Function","Object","boolean","bigint","symbol"],a=/^([A-Z][a-z0-9]*)+$/,s="__node_internal_",l={};function c(_,w){if(!_)throw new l.ERR_INTERNAL_ASSERTION(w)}function u(_){let w="",I=_.length;const k=_[0]==="-"?1:0;for(;I>=k+4;I-=3)w=`_${_.slice(I-3,I)}${w}`;return`${_.slice(0,I)}${w}`}function f(_,w,I){if(typeof w=="function")return c(w.length<=I.length,`Code: ${_}; The provided arguments length (${I.length}) does not match the required ones (${w.length}).`),w(...I);const k=(w.match(/%[dfijoOs]/g)||[]).length;return c(k===I.length,`Code: ${_}; The provided arguments length (${I.length}) does not match the required ones (${k}).`),I.length===0?w:t(w,...I)}function p(_,w,I){I||(I=Error);class k extends I{constructor(...L){super(f(_,w,L))}toString(){return`${this.name} [${_}]: ${this.message}`}}Object.defineProperties(k.prototype,{name:{value:I.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${_}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),k.prototype.code=_,k.prototype[i]=!0,l[_]=k}function g(_){const w=s+_.name;return Object.defineProperty(_,"name",{value:w}),_}function m(_,w){if(_&&w&&_!==w){if(Array.isArray(w.errors))return w.errors.push(_),w;const I=new r([w,_],w.message);return I.code=w.code,I}return _||w}class v extends Error{constructor(w="The operation was aborted",I=void 0){if(I!==void 0&&typeof I!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",I);super(w,I),this.code="ABORT_ERR",this.name="AbortError"}}return p("ERR_ASSERTION","%s",Error),p("ERR_INVALID_ARG_TYPE",(_,w,I)=>{c(typeof _=="string","'name' must be a string"),Array.isArray(w)||(w=[w]);let k="The ";_.endsWith(" argument")?k+=`${_} `:k+=`"${_}" ${_.includes(".")?"property":"argument"} `,k+="must be ";const $=[],L=[],z=[];for(const P of w)c(typeof P=="string","All expected entries have to be of type string"),o.includes(P)?$.push(P.toLowerCase()):a.test(P)?L.push(P):(c(P!=="object",'The value "object" should be written as "Object"'),z.push(P));if(L.length>0){const P=$.indexOf("object");P!==-1&&($.splice($,P,1),L.push("Object"))}if($.length>0){switch($.length){case 1:k+=`of type ${$[0]}`;break;case 2:k+=`one of type ${$[0]} or ${$[1]}`;break;default:{const P=$.pop();k+=`one of type ${$.join(", ")}, or ${P}`}}(L.length>0||z.length>0)&&(k+=" or ")}if(L.length>0){switch(L.length){case 1:k+=`an instance of ${L[0]}`;break;case 2:k+=`an instance of ${L[0]} or ${L[1]}`;break;default:{const P=L.pop();k+=`an instance of ${L.join(", ")}, or ${P}`}}z.length>0&&(k+=" or ")}switch(z.length){case 0:break;case 1:z[0].toLowerCase()!==z[0]&&(k+="an "),k+=`${z[0]}`;break;case 2:k+=`one of ${z[0]} or ${z[1]}`;break;default:{const P=z.pop();k+=`one of ${z.join(", ")}, or ${P}`}}if(I==null)k+=`. Received ${I}`;else if(typeof I=="function"&&I.name)k+=`. Received function ${I.name}`;else if(typeof I=="object"){var H;if((H=I.constructor)!==null&&H!==void 0&&H.name)k+=`. Received an instance of ${I.constructor.name}`;else{const P=e(I,{depth:-1});k+=`. Received ${P}`}}else{let P=e(I,{colors:!1});P.length>25&&(P=`${P.slice(0,25)}...`),k+=`. Received type ${typeof I} (${P})`}return k},TypeError),p("ERR_INVALID_ARG_VALUE",(_,w,I="is invalid")=>{let k=e(w);return k.length>128&&(k=k.slice(0,128)+"..."),`The ${_.includes(".")?"property":"argument"} '${_}' ${I}. Received ${k}`},TypeError),p("ERR_INVALID_RETURN_VALUE",(_,w,I)=>{var k;const $=I!=null&&(k=I.constructor)!==null&&k!==void 0&&k.name?`instance of ${I.constructor.name}`:`type ${typeof I}`;return`Expected ${_} to be returned from the "${w}" function but got ${$}.`},TypeError),p("ERR_MISSING_ARGS",(..._)=>{c(_.length>0,"At least one arg needs to be specified");let w;const I=_.length;switch(_=(Array.isArray(_)?_:[_]).map(k=>`"${k}"`).join(" or "),I){case 1:w+=`The ${_[0]} argument`;break;case 2:w+=`The ${_[0]} and ${_[1]} arguments`;break;default:{const k=_.pop();w+=`The ${_.join(", ")}, and ${k} arguments`}break}return`${w} must be specified`},TypeError),p("ERR_OUT_OF_RANGE",(_,w,I)=>{c(w,'Missing "range" argument');let k;if(Number.isInteger(I)&&Math.abs(I)>2**32)k=u(String(I));else if(typeof I=="bigint"){k=String(I);const $=BigInt(2)**BigInt(32);(I>$||I<-$)&&(k=u(k)),k+="n"}else k=e(I);return`The value of "${_}" is out of range. It must be ${w}. Received ${k}`},RangeError),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),p("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),p("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),p("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),p("ERR_STREAM_WRITE_AFTER_END","write after end",Error),p("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Pb={AbortError:v,aggregateTwoErrors:g(m),hideStackFrames:g,codes:l},Pb}var qf={exports:{}},T6;function Ph(){if(T6)return qf.exports;T6=1;const{AbortController:t,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return qf.exports=t,qf.exports.AbortSignal=e,qf.exports.default=t,qf.exports}var P6;function Ai(){return P6||(P6=1,function(t){const e=ka(),{format:n,inspect:r}=b8(),{codes:{ERR_INVALID_ARG_TYPE:i}}=ii(),{kResistStopPropagation:o,AggregateError:a,SymbolDispose:s}=Ln(),l=globalThis.AbortSignal||Ph().AbortSignal,c=globalThis.AbortController||Ph().AbortController,u=Object.getPrototypeOf(async function(){}).constructor,f=globalThis.Blob||e.Blob,p=typeof f<"u"?function(_){return _ instanceof f}:function(_){return!1},g=(v,_)=>{if(v!==void 0&&(v===null||typeof v!="object"||!("aborted"in v)))throw new i(_,"AbortSignal",v)},m=(v,_)=>{if(typeof v!="function")throw new i(_,"Function",v)};t.exports={AggregateError:a,kEmptyObject:Object.freeze({}),once(v){let _=!1;return function(...w){_||(_=!0,v.apply(this,w))}},createDeferredPromise:function(){let v,_;return{promise:new Promise((I,k)=>{v=I,_=k}),resolve:v,reject:_}},promisify(v){return new Promise((_,w)=>{v((I,...k)=>I?w(I):_(...k))})},debuglog(){return function(){}},format:n,inspect:r,types:{isAsyncFunction(v){return v instanceof u},isArrayBufferView(v){return ArrayBuffer.isView(v)}},isBlob:p,deprecate(v,_){return v},addAbortListener:Ip().addAbortListener||function(_,w){if(_===void 0)throw new i("signal","AbortSignal",_);g(_,"signal"),m(w,"listener");let I;return _.aborted?queueMicrotask(()=>w()):(_.addEventListener("abort",w,{__proto__:null,once:!0,[o]:!0}),I=()=>{_.removeEventListener("abort",w)}),{__proto__:null,[s](){var k;(k=I)===null||k===void 0||k()}}},AbortSignalAny:l.any||function(_){if(_.length===1)return _[0];const w=new c,I=()=>w.abort();return _.forEach(k=>{g(k,"signals"),k.addEventListener("abort",I,{once:!0})}),w.signal.addEventListener("abort",()=>{_.forEach(k=>k.removeEventListener("abort",I))},{once:!0}),w.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(Rb)),Rb.exports}var tg={},Nb,N6;function Mp(){if(N6)return Nb;N6=1;const{ArrayIsArray:t,ArrayPrototypeIncludes:e,ArrayPrototypeJoin:n,ArrayPrototypeMap:r,NumberIsInteger:i,NumberIsNaN:o,NumberMAX_SAFE_INTEGER:a,NumberMIN_SAFE_INTEGER:s,NumberParseInt:l,ObjectPrototypeHasOwnProperty:c,RegExpPrototypeExec:u,String:f,StringPrototypeToUpperCase:p,StringPrototypeTrim:g}=Ln(),{hideStackFrames:m,codes:{ERR_SOCKET_BAD_PORT:v,ERR_INVALID_ARG_TYPE:_,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:I,ERR_UNKNOWN_SIGNAL:k}}=ii(),{normalizeEncoding:$}=Ai(),{isAsyncFunction:L,isArrayBufferView:z}=Ai().types,H={};function P(ue){return ue===(ue|0)}function D(ue){return ue===ue>>>0}const B=/^[0-7]+$/,O="must be a 32-bit unsigned integer or an octal string";function y(ue,_e,Ie){if(typeof ue>"u"&&(ue=Ie),typeof ue=="string"){if(u(B,ue)===null)throw new w(_e,ue,O);ue=l(ue,8)}return C(ue,_e),ue}const E=m((ue,_e,Ie=s,we=a)=>{if(typeof ue!="number")throw new _(_e,"number",ue);if(!i(ue))throw new I(_e,"an integer",ue);if(ue<Ie||ue>we)throw new I(_e,`>= ${Ie} && <= ${we}`,ue)}),S=m((ue,_e,Ie=-2147483648,we=2147483647)=>{if(typeof ue!="number")throw new _(_e,"number",ue);if(!i(ue))throw new I(_e,"an integer",ue);if(ue<Ie||ue>we)throw new I(_e,`>= ${Ie} && <= ${we}`,ue)}),C=m((ue,_e,Ie=!1)=>{if(typeof ue!="number")throw new _(_e,"number",ue);if(!i(ue))throw new I(_e,"an integer",ue);const we=Ie?1:0,Fe=4294967295;if(ue<we||ue>Fe)throw new I(_e,`>= ${we} && <= ${Fe}`,ue)});function T(ue,_e){if(typeof ue!="string")throw new _(_e,"string",ue)}function j(ue,_e,Ie=void 0,we){if(typeof ue!="number")throw new _(_e,"number",ue);if(Ie!=null&&ue<Ie||we!=null&&ue>we||(Ie!=null||we!=null)&&o(ue))throw new I(_e,`${Ie!=null?`>= ${Ie}`:""}${Ie!=null&&we!=null?" && ":""}${we!=null?`<= ${we}`:""}`,ue)}const A=m((ue,_e,Ie)=>{if(!e(Ie,ue)){const Fe="must be one of: "+n(r(Ie,He=>typeof He=="string"?`'${He}'`:f(He)),", ");throw new w(_e,ue,Fe)}});function M(ue,_e){if(typeof ue!="boolean")throw new _(_e,"boolean",ue)}function x(ue,_e,Ie){return ue==null||!c(ue,_e)?Ie:ue[_e]}const R=m((ue,_e,Ie=null)=>{const we=x(Ie,"allowArray",!1),Fe=x(Ie,"allowFunction",!1);if(!x(Ie,"nullable",!1)&&ue===null||!we&&t(ue)||typeof ue!="object"&&(!Fe||typeof ue!="function"))throw new _(_e,"Object",ue)}),F=m((ue,_e)=>{if(ue!=null&&typeof ue!="object"&&typeof ue!="function")throw new _(_e,"a dictionary",ue)}),U=m((ue,_e,Ie=0)=>{if(!t(ue))throw new _(_e,"Array",ue);if(ue.length<Ie){const we=`must be longer than ${Ie}`;throw new w(_e,ue,we)}});function K(ue,_e){U(ue,_e);for(let Ie=0;Ie<ue.length;Ie++)T(ue[Ie],`${_e}[${Ie}]`)}function G(ue,_e){U(ue,_e);for(let Ie=0;Ie<ue.length;Ie++)M(ue[Ie],`${_e}[${Ie}]`)}function Q(ue,_e){U(ue,_e);for(let Ie=0;Ie<ue.length;Ie++){const we=ue[Ie],Fe=`${_e}[${Ie}]`;if(we==null)throw new _(Fe,"AbortSignal",we);ie(we,Fe)}}function ne(ue,_e="signal"){if(T(ue,_e),H[ue]===void 0)throw H[p(ue)]!==void 0?new k(ue+" (signals must use all capital letters)"):new k(ue)}const J=m((ue,_e="buffer")=>{if(!z(ue))throw new _(_e,["Buffer","TypedArray","DataView"],ue)});function Z(ue,_e){const Ie=$(_e),we=ue.length;if(Ie==="hex"&&we%2!==0)throw new w("encoding",_e,`is invalid for data of length ${we}`)}function ee(ue,_e="Port",Ie=!0){if(typeof ue!="number"&&typeof ue!="string"||typeof ue=="string"&&g(ue).length===0||+ue!==+ue>>>0||ue>65535||ue===0&&!Ie)throw new v(_e,ue,Ie);return ue|0}const ie=m((ue,_e)=>{if(ue!==void 0&&(ue===null||typeof ue!="object"||!("aborted"in ue)))throw new _(_e,"AbortSignal",ue)}),se=m((ue,_e)=>{if(typeof ue!="function")throw new _(_e,"Function",ue)}),X=m((ue,_e)=>{if(typeof ue!="function"||L(ue))throw new _(_e,"Function",ue)}),ae=m((ue,_e)=>{if(ue!==void 0)throw new _(_e,"undefined",ue)});function de(ue,_e,Ie){if(!e(Ie,ue))throw new _(_e,`('${n(Ie,"|")}')`,ue)}const me=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Ee(ue,_e){if(typeof ue>"u"||!u(me,ue))throw new w(_e,ue,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ye(ue){if(typeof ue=="string")return Ee(ue,"hints"),ue;if(t(ue)){const _e=ue.length;let Ie="";if(_e===0)return Ie;for(let we=0;we<_e;we++){const Fe=ue[we];Ee(Fe,"hints"),Ie+=Fe,we!==_e-1&&(Ie+=", ")}return Ie}throw new w("hints",ue,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return Nb={isInt32:P,isUint32:D,parseFileMode:y,validateArray:U,validateStringArray:K,validateBooleanArray:G,validateAbortSignalArray:Q,validateBoolean:M,validateBuffer:J,validateDictionary:F,validateEncoding:Z,validateFunction:se,validateInt32:S,validateInteger:E,validateNumber:j,validateObject:R,validateOneOf:A,validatePlainFunction:X,validatePort:ee,validateSignalName:ne,validateString:T,validateUint32:C,validateUndefined:ae,validateUnion:de,validateAbortSignal:ie,validateLinkHeaderValue:ye},Nb}var ng={exports:{}},Lb,L6;function Ta(){if(L6)return Lb;L6=1;const{SymbolAsyncIterator:t,SymbolIterator:e,SymbolFor:n}=Ln(),r=n("nodejs.stream.destroyed"),i=n("nodejs.stream.errored"),o=n("nodejs.stream.readable"),a=n("nodejs.stream.writable"),s=n("nodejs.stream.disturbed"),l=n("nodejs.webstream.isClosedPromise"),c=n("nodejs.webstream.controllerErrorFunction");function u(x,R=!1){var F;return!!(x&&typeof x.pipe=="function"&&typeof x.on=="function"&&(!R||typeof x.pause=="function"&&typeof x.resume=="function")&&(!x._writableState||((F=x._readableState)===null||F===void 0?void 0:F.readable)!==!1)&&(!x._writableState||x._readableState))}function f(x){var R;return!!(x&&typeof x.write=="function"&&typeof x.on=="function"&&(!x._readableState||((R=x._writableState)===null||R===void 0?void 0:R.writable)!==!1))}function p(x){return!!(x&&typeof x.pipe=="function"&&x._readableState&&typeof x.on=="function"&&typeof x.write=="function")}function g(x){return x&&(x._readableState||x._writableState||typeof x.write=="function"&&typeof x.on=="function"||typeof x.pipe=="function"&&typeof x.on=="function")}function m(x){return!!(x&&!g(x)&&typeof x.pipeThrough=="function"&&typeof x.getReader=="function"&&typeof x.cancel=="function")}function v(x){return!!(x&&!g(x)&&typeof x.getWriter=="function"&&typeof x.abort=="function")}function _(x){return!!(x&&!g(x)&&typeof x.readable=="object"&&typeof x.writable=="object")}function w(x){return m(x)||v(x)||_(x)}function I(x,R){return x==null?!1:R===!0?typeof x[t]=="function":R===!1?typeof x[e]=="function":typeof x[t]=="function"||typeof x[e]=="function"}function k(x){if(!g(x))return null;const R=x._writableState,F=x._readableState,U=R||F;return!!(x.destroyed||x[r]||U!=null&&U.destroyed)}function $(x){if(!f(x))return null;if(x.writableEnded===!0)return!0;const R=x._writableState;return R!=null&&R.errored?!1:typeof(R==null?void 0:R.ended)!="boolean"?null:R.ended}function L(x,R){if(!f(x))return null;if(x.writableFinished===!0)return!0;const F=x._writableState;return F!=null&&F.errored?!1:typeof(F==null?void 0:F.finished)!="boolean"?null:!!(F.finished||R===!1&&F.ended===!0&&F.length===0)}function z(x){if(!u(x))return null;if(x.readableEnded===!0)return!0;const R=x._readableState;return!R||R.errored?!1:typeof(R==null?void 0:R.ended)!="boolean"?null:R.ended}function H(x,R){if(!u(x))return null;const F=x._readableState;return F!=null&&F.errored?!1:typeof(F==null?void 0:F.endEmitted)!="boolean"?null:!!(F.endEmitted||R===!1&&F.ended===!0&&F.length===0)}function P(x){return x&&x[o]!=null?x[o]:typeof(x==null?void 0:x.readable)!="boolean"?null:k(x)?!1:u(x)&&x.readable&&!H(x)}function D(x){return x&&x[a]!=null?x[a]:typeof(x==null?void 0:x.writable)!="boolean"?null:k(x)?!1:f(x)&&x.writable&&!$(x)}function B(x,R){return g(x)?k(x)?!0:!((R==null?void 0:R.readable)!==!1&&P(x)||(R==null?void 0:R.writable)!==!1&&D(x)):null}function O(x){var R,F;return g(x)?x.writableErrored?x.writableErrored:(R=(F=x._writableState)===null||F===void 0?void 0:F.errored)!==null&&R!==void 0?R:null:null}function y(x){var R,F;return g(x)?x.readableErrored?x.readableErrored:(R=(F=x._readableState)===null||F===void 0?void 0:F.errored)!==null&&R!==void 0?R:null:null}function E(x){if(!g(x))return null;if(typeof x.closed=="boolean")return x.closed;const R=x._writableState,F=x._readableState;return typeof(R==null?void 0:R.closed)=="boolean"||typeof(F==null?void 0:F.closed)=="boolean"?(R==null?void 0:R.closed)||(F==null?void 0:F.closed):typeof x._closed=="boolean"&&S(x)?x._closed:null}function S(x){return typeof x._closed=="boolean"&&typeof x._defaultKeepAlive=="boolean"&&typeof x._removedConnection=="boolean"&&typeof x._removedContLen=="boolean"}function C(x){return typeof x._sent100=="boolean"&&S(x)}function T(x){var R;return typeof x._consuming=="boolean"&&typeof x._dumped=="boolean"&&((R=x.req)===null||R===void 0?void 0:R.upgradeOrConnect)===void 0}function j(x){if(!g(x))return null;const R=x._writableState,F=x._readableState,U=R||F;return!U&&C(x)||!!(U&&U.autoDestroy&&U.emitClose&&U.closed===!1)}function A(x){var R;return!!(x&&((R=x[s])!==null&&R!==void 0?R:x.readableDidRead||x.readableAborted))}function M(x){var R,F,U,K,G,Q,ne,J,Z,ee;return!!(x&&((R=(F=(U=(K=(G=(Q=x[i])!==null&&Q!==void 0?Q:x.readableErrored)!==null&&G!==void 0?G:x.writableErrored)!==null&&K!==void 0?K:(ne=x._readableState)===null||ne===void 0?void 0:ne.errorEmitted)!==null&&U!==void 0?U:(J=x._writableState)===null||J===void 0?void 0:J.errorEmitted)!==null&&F!==void 0?F:(Z=x._readableState)===null||Z===void 0?void 0:Z.errored)!==null&&R!==void 0?R:!((ee=x._writableState)===null||ee===void 0)&&ee.errored))}return Lb={isDestroyed:k,kIsDestroyed:r,isDisturbed:A,kIsDisturbed:s,isErrored:M,kIsErrored:i,isReadable:P,kIsReadable:o,kIsClosedPromise:l,kControllerErrorFunction:c,kIsWritable:a,isClosed:E,isDuplexNodeStream:p,isFinished:B,isIterable:I,isReadableNodeStream:u,isReadableStream:m,isReadableEnded:z,isReadableFinished:H,isReadableErrored:y,isNodeStream:g,isWebStream:w,isWritable:D,isWritableNodeStream:f,isWritableStream:v,isWritableEnded:$,isWritableFinished:L,isWritableErrored:O,isServerRequest:T,isServerResponse:C,willEmitClose:j,isTransformStream:_},Lb}var D6;function Zl(){if(D6)return ng.exports;D6=1;const t=Yl(),{AbortError:e,codes:n}=ii(),{ERR_INVALID_ARG_TYPE:r,ERR_STREAM_PREMATURE_CLOSE:i}=n,{kEmptyObject:o,once:a}=Ai(),{validateAbortSignal:s,validateFunction:l,validateObject:c,validateBoolean:u}=Mp(),{Promise:f,PromisePrototypeThen:p,SymbolDispose:g}=Ln(),{isClosed:m,isReadable:v,isReadableNodeStream:_,isReadableStream:w,isReadableFinished:I,isReadableErrored:k,isWritable:$,isWritableNodeStream:L,isWritableStream:z,isWritableFinished:H,isWritableErrored:P,isNodeStream:D,willEmitClose:B,kIsClosedPromise:O}=Ta();let y;function E(A){return A.setHeader&&typeof A.abort=="function"}const S=()=>{};function C(A,M,x){var R,F;if(arguments.length===2?(x=M,M=o):M==null?M=o:c(M,"options"),l(x,"callback"),s(M.signal,"options.signal"),x=a(x),w(A)||z(A))return T(A,M,x);if(!D(A))throw new r("stream",["ReadableStream","WritableStream","Stream"],A);const U=(R=M.readable)!==null&&R!==void 0?R:_(A),K=(F=M.writable)!==null&&F!==void 0?F:L(A),G=A._writableState,Q=A._readableState,ne=()=>{A.writable||ee()};let J=B(A)&&_(A)===U&&L(A)===K,Z=H(A,!1);const ee=()=>{Z=!0,A.destroyed&&(J=!1),!(J&&(!A.readable||U))&&(!U||ie)&&x.call(A)};let ie=I(A,!1);const se=()=>{ie=!0,A.destroyed&&(J=!1),!(J&&(!A.writable||K))&&(!K||Z)&&x.call(A)},X=ue=>{x.call(A,ue)};let ae=m(A);const de=()=>{ae=!0;const ue=P(A)||k(A);if(ue&&typeof ue!="boolean")return x.call(A,ue);if(U&&!ie&&_(A,!0)&&!I(A,!1))return x.call(A,new i);if(K&&!Z&&!H(A,!1))return x.call(A,new i);x.call(A)},me=()=>{ae=!0;const ue=P(A)||k(A);if(ue&&typeof ue!="boolean")return x.call(A,ue);x.call(A)},Ee=()=>{A.req.on("finish",ee)};E(A)?(A.on("complete",ee),J||A.on("abort",de),A.req?Ee():A.on("request",Ee)):K&&!G&&(A.on("end",ne),A.on("close",ne)),!J&&typeof A.aborted=="boolean"&&A.on("aborted",de),A.on("end",se),A.on("finish",ee),M.error!==!1&&A.on("error",X),A.on("close",de),ae?t.nextTick(de):G!=null&&G.errorEmitted||Q!=null&&Q.errorEmitted?J||t.nextTick(me):(!U&&(!J||v(A))&&(Z||$(A)===!1)||!K&&(!J||$(A))&&(ie||v(A)===!1)||Q&&A.req&&A.aborted)&&t.nextTick(me);const ye=()=>{x=S,A.removeListener("aborted",de),A.removeListener("complete",ee),A.removeListener("abort",de),A.removeListener("request",Ee),A.req&&A.req.removeListener("finish",ee),A.removeListener("end",ne),A.removeListener("close",ne),A.removeListener("finish",ee),A.removeListener("end",se),A.removeListener("error",X),A.removeListener("close",de)};if(M.signal&&!ae){const ue=()=>{const _e=x;ye(),_e.call(A,new e(void 0,{cause:M.signal.reason}))};if(M.signal.aborted)t.nextTick(ue);else{y=y||Ai().addAbortListener;const _e=y(M.signal,ue),Ie=x;x=a((...we)=>{_e[g](),Ie.apply(A,we)})}}return ye}function T(A,M,x){let R=!1,F=S;if(M.signal)if(F=()=>{R=!0,x.call(A,new e(void 0,{cause:M.signal.reason}))},M.signal.aborted)t.nextTick(F);else{y=y||Ai().addAbortListener;const K=y(M.signal,F),G=x;x=a((...Q)=>{K[g](),G.apply(A,Q)})}const U=(...K)=>{R||t.nextTick(()=>x.apply(A,K))};return p(A[O].promise,U,U),S}function j(A,M){var x;let R=!1;return M===null&&(M=o),(x=M)!==null&&x!==void 0&&x.cleanup&&(u(M.cleanup,"cleanup"),R=M.cleanup),new f((F,U)=>{const K=C(A,M,G=>{R&&K(),G?U(G):F()})})}return ng.exports=C,ng.exports.finished=j,ng.exports}var Db,B6;function tf(){if(B6)return Db;B6=1;const t=Yl(),{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:n},AbortError:r}=ii(),{Symbol:i}=Ln(),{kIsDestroyed:o,isDestroyed:a,isFinished:s,isServerRequest:l}=Ta(),c=i("kDestroy"),u=i("kConstruct");function f(B,O,y){B&&(B.stack,O&&!O.errored&&(O.errored=B),y&&!y.errored&&(y.errored=B))}function p(B,O){const y=this._readableState,E=this._writableState,S=E||y;return E!=null&&E.destroyed||y!=null&&y.destroyed?(typeof O=="function"&&O(),this):(f(B,E,y),E&&(E.destroyed=!0),y&&(y.destroyed=!0),S.constructed?g(this,B,O):this.once(c,function(C){g(this,e(C,B),O)}),this)}function g(B,O,y){let E=!1;function S(C){if(E)return;E=!0;const T=B._readableState,j=B._writableState;f(C,j,T),j&&(j.closed=!0),T&&(T.closed=!0),typeof y=="function"&&y(C),C?t.nextTick(m,B,C):t.nextTick(v,B)}try{B._destroy(O||null,S)}catch(C){S(C)}}function m(B,O){_(B,O),v(B)}function v(B){const O=B._readableState,y=B._writableState;y&&(y.closeEmitted=!0),O&&(O.closeEmitted=!0),(y!=null&&y.emitClose||O!=null&&O.emitClose)&&B.emit("close")}function _(B,O){const y=B._readableState,E=B._writableState;E!=null&&E.errorEmitted||y!=null&&y.errorEmitted||(E&&(E.errorEmitted=!0),y&&(y.errorEmitted=!0),B.emit("error",O))}function w(){const B=this._readableState,O=this._writableState;B&&(B.constructed=!0,B.closed=!1,B.closeEmitted=!1,B.destroyed=!1,B.errored=null,B.errorEmitted=!1,B.reading=!1,B.ended=B.readable===!1,B.endEmitted=B.readable===!1),O&&(O.constructed=!0,O.destroyed=!1,O.closed=!1,O.closeEmitted=!1,O.errored=null,O.errorEmitted=!1,O.finalCalled=!1,O.prefinished=!1,O.ended=O.writable===!1,O.ending=O.writable===!1,O.finished=O.writable===!1)}function I(B,O,y){const E=B._readableState,S=B._writableState;if(S!=null&&S.destroyed||E!=null&&E.destroyed)return this;E!=null&&E.autoDestroy||S!=null&&S.autoDestroy?B.destroy(O):O&&(O.stack,S&&!S.errored&&(S.errored=O),E&&!E.errored&&(E.errored=O),y?t.nextTick(_,B,O):_(B,O))}function k(B,O){if(typeof B._construct!="function")return;const y=B._readableState,E=B._writableState;y&&(y.constructed=!1),E&&(E.constructed=!1),B.once(u,O),!(B.listenerCount(u)>1)&&t.nextTick($,B)}function $(B){let O=!1;function y(E){if(O){I(B,E??new n);return}O=!0;const S=B._readableState,C=B._writableState,T=C||S;S&&(S.constructed=!0),C&&(C.constructed=!0),T.destroyed?B.emit(c,E):E?I(B,E,!0):t.nextTick(L,B)}try{B._construct(E=>{t.nextTick(y,E)})}catch(E){t.nextTick(y,E)}}function L(B){B.emit(u)}function z(B){return(B==null?void 0:B.setHeader)&&typeof B.abort=="function"}function H(B){B.emit("close")}function P(B,O){B.emit("error",O),t.nextTick(H,B)}function D(B,O){!B||a(B)||(!O&&!s(B)&&(O=new r),l(B)?(B.socket=null,B.destroy(O)):z(B)?B.abort():z(B.req)?B.req.abort():typeof B.destroy=="function"?B.destroy(O):typeof B.close=="function"?B.close():O?t.nextTick(P,B,O):t.nextTick(H,B),B.destroyed||(B[o]=!0))}return Db={construct:k,destroyer:D,destroy:p,undestroy:w,errorOrDestroy:I},Db}var Bb,j6;function Dx(){if(j6)return Bb;j6=1;const{ArrayIsArray:t,ObjectSetPrototypeOf:e}=Ln(),{EventEmitter:n}=Ip();function r(o){n.call(this,o)}e(r.prototype,n.prototype),e(r,n),r.prototype.pipe=function(o,a){const s=this;function l(v){o.writable&&o.write(v)===!1&&s.pause&&s.pause()}s.on("data",l);function c(){s.readable&&s.resume&&s.resume()}o.on("drain",c),!o._isStdio&&(!a||a.end!==!1)&&(s.on("end",f),s.on("close",p));let u=!1;function f(){u||(u=!0,o.end())}function p(){u||(u=!0,typeof o.destroy=="function"&&o.destroy())}function g(v){m(),n.listenerCount(this,"error")===0&&this.emit("error",v)}i(s,"error",g),i(o,"error",g);function m(){s.removeListener("data",l),o.removeListener("drain",c),s.removeListener("end",f),s.removeListener("close",p),s.removeListener("error",g),o.removeListener("error",g),s.removeListener("end",m),s.removeListener("close",m),o.removeListener("close",m)}return s.on("end",m),s.on("close",m),o.on("close",m),o.emit("pipe",s),o};function i(o,a,s){if(typeof o.prependListener=="function")return o.prependListener(a,s);!o._events||!o._events[a]?o.on(a,s):t(o._events[a])?o._events[a].unshift(s):o._events[a]=[s,o._events[a]]}return Bb={Stream:r,prependListener:i},Bb}var jb={exports:{}},$6;function Hv(){return $6||($6=1,function(t){const{SymbolDispose:e}=Ln(),{AbortError:n,codes:r}=ii(),{isNodeStream:i,isWebStream:o,kControllerErrorFunction:a}=Ta(),s=Zl(),{ERR_INVALID_ARG_TYPE:l}=r;let c;const u=(f,p)=>{if(typeof f!="object"||!("aborted"in f))throw new l(p,"AbortSignal",f)};t.exports.addAbortSignal=function(p,g){if(u(p,"signal"),!i(g)&&!o(g))throw new l("stream",["ReadableStream","WritableStream","Stream"],g);return t.exports.addAbortSignalNoValidate(p,g)},t.exports.addAbortSignalNoValidate=function(f,p){if(typeof f!="object"||!("aborted"in f))return p;const g=i(p)?()=>{p.destroy(new n(void 0,{cause:f.reason}))}:()=>{p[a](new n(void 0,{cause:f.reason}))};if(f.aborted)g();else{c=c||Ai().addAbortListener;const m=c(f,g);s(p,m[e])}return p}}(jb)),jb.exports}var $b,F6;function sz(){if(F6)return $b;F6=1;const{StringPrototypeSlice:t,SymbolIterator:e,TypedArrayPrototypeSet:n,Uint8Array:r}=Ln(),{Buffer:i}=ka(),{inspect:o}=Ai();return $b=class{constructor(){this.head=null,this.tail=null,this.length=0}push(s){const l={data:s,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(s){const l={data:s,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}clear(){this.head=this.tail=null,this.length=0}join(s){if(this.length===0)return"";let l=this.head,c=""+l.data;for(;(l=l.next)!==null;)c+=s+l.data;return c}concat(s){if(this.length===0)return i.alloc(0);const l=i.allocUnsafe(s>>>0);let c=this.head,u=0;for(;c;)n(l,c.data,u),u+=c.data.length,c=c.next;return l}consume(s,l){const c=this.head.data;if(s<c.length){const u=c.slice(0,s);return this.head.data=c.slice(s),u}return s===c.length?this.shift():l?this._getString(s):this._getBuffer(s)}first(){return this.head.data}*[e](){for(let s=this.head;s;s=s.next)yield s.data}_getString(s){let l="",c=this.head,u=0;do{const f=c.data;if(s>f.length)l+=f,s-=f.length;else{s===f.length?(l+=f,++u,c.next?this.head=c.next:this.head=this.tail=null):(l+=t(f,0,s),this.head=c,c.data=t(f,s));break}++u}while((c=c.next)!==null);return this.length-=u,l}_getBuffer(s){const l=i.allocUnsafe(s),c=s;let u=this.head,f=0;do{const p=u.data;if(s>p.length)n(l,p,c-s),s-=p.length;else{s===p.length?(n(l,p,c-s),++f,u.next?this.head=u.next:this.head=this.tail=null):(n(l,new r(p.buffer,p.byteOffset,s),c-s),this.head=u,u.data=p.slice(s));break}++f}while((u=u.next)!==null);return this.length-=f,l}[Symbol.for("nodejs.util.inspect.custom")](s,l){return o(this,{...l,depth:0,customInspect:!1})}},$b}var Fb,U6;function Wv(){if(U6)return Fb;U6=1;const{MathFloor:t,NumberIsInteger:e}=Ln(),{validateInteger:n}=Mp(),{ERR_INVALID_ARG_VALUE:r}=ii().codes;let i=16*1024,o=16;function a(u,f,p){return u.highWaterMark!=null?u.highWaterMark:f?u[p]:null}function s(u){return u?o:i}function l(u,f){n(f,"value",0),u?o=f:i=f}function c(u,f,p,g){const m=a(f,g,p);if(m!=null){if(!e(m)||m<0){const v=g?`options.${p}`:"options.highWaterMark";throw new r(v,m)}return t(m)}return s(u.objectMode)}return Fb={getHighWaterMark:c,getDefaultHighWaterMark:s,setDefaultHighWaterMark:l},Fb}var Ub={},rg={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var z6;function az(){return z6||(z6=1,function(t,e){var n=ka(),r=n.Buffer;function i(a,s){for(var l in a)s[l]=a[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=o);function o(a,s,l){return r(a,s,l)}o.prototype=Object.create(r.prototype),i(r,o),o.from=function(a,s,l){if(typeof a=="number")throw new TypeError("Argument must not be a number");return r(a,s,l)},o.alloc=function(a,s,l){if(typeof a!="number")throw new TypeError("Argument must be a number");var c=r(a);return s!==void 0?typeof l=="string"?c.fill(s,l):c.fill(s):c.fill(0),c},o.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r(a)},o.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(a)}}(rg,rg.exports)),rg.exports}var q6;function lz(){if(q6)return Ub;q6=1;var t=az().Buffer,e=t.isEncoding||function(w){switch(w=""+w,w&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(w){if(!w)return"utf8";for(var I;;)switch(w){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return w;default:if(I)return;w=(""+w).toLowerCase(),I=!0}}function r(w){var I=n(w);if(typeof I!="string"&&(t.isEncoding===e||!e(w)))throw new Error("Unknown encoding: "+w);return I||w}Ub.StringDecoder=i;function i(w){this.encoding=r(w);var I;switch(this.encoding){case"utf16le":this.text=f,this.end=p,I=4;break;case"utf8":this.fillLast=l,I=4;break;case"base64":this.text=g,this.end=m,I=3;break;default:this.write=v,this.end=_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(I)}i.prototype.write=function(w){if(w.length===0)return"";var I,k;if(this.lastNeed){if(I=this.fillLast(w),I===void 0)return"";k=this.lastNeed,this.lastNeed=0}else k=0;return k<w.length?I?I+this.text(w,k):this.text(w,k):I||""},i.prototype.end=u,i.prototype.text=c,i.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length};function o(w){return w<=127?0:w>>5===6?2:w>>4===14?3:w>>3===30?4:w>>6===2?-1:-2}function a(w,I,k){var $=I.length-1;if($<k)return 0;var L=o(I[$]);return L>=0?(L>0&&(w.lastNeed=L-1),L):--$<k||L===-2?0:(L=o(I[$]),L>=0?(L>0&&(w.lastNeed=L-2),L):--$<k||L===-2?0:(L=o(I[$]),L>=0?(L>0&&(L===2?L=0:w.lastNeed=L-3),L):0))}function s(w,I,k){if((I[0]&192)!==128)return w.lastNeed=0,"";if(w.lastNeed>1&&I.length>1){if((I[1]&192)!==128)return w.lastNeed=1,"";if(w.lastNeed>2&&I.length>2&&(I[2]&192)!==128)return w.lastNeed=2,""}}function l(w){var I=this.lastTotal-this.lastNeed,k=s(this,w);if(k!==void 0)return k;if(this.lastNeed<=w.length)return w.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,I,0,w.length),this.lastNeed-=w.length}function c(w,I){var k=a(this,w,I);if(!this.lastNeed)return w.toString("utf8",I);this.lastTotal=k;var $=w.length-(k-this.lastNeed);return w.copy(this.lastChar,0,$),w.toString("utf8",I,$)}function u(w){var I=w&&w.length?this.write(w):"";return this.lastNeed?I+"":I}function f(w,I){if((w.length-I)%2===0){var k=w.toString("utf16le",I);if(k){var $=k.charCodeAt(k.length-1);if($>=55296&&$<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],k.slice(0,-1)}return k}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",I,w.length-1)}function p(w){var I=w&&w.length?this.write(w):"";if(this.lastNeed){var k=this.lastTotal-this.lastNeed;return I+this.lastChar.toString("utf16le",0,k)}return I}function g(w,I){var k=(w.length-I)%3;return k===0?w.toString("base64",I):(this.lastNeed=3-k,this.lastTotal=3,k===1?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",I,w.length-k))}function m(w){var I=w&&w.length?this.write(w):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function v(w){return w.toString(this.encoding)}function _(w){return w&&w.length?this.write(w):""}return Ub}var zb,H6;function E8(){if(H6)return zb;H6=1;const t=Yl(),{PromisePrototypeThen:e,SymbolAsyncIterator:n,SymbolIterator:r}=Ln(),{Buffer:i}=ka(),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_NULL_VALUES:a}=ii().codes;function s(l,c,u){let f;if(typeof c=="string"||c instanceof i)return new l({objectMode:!0,...u,read(){this.push(c),this.push(null)}});let p;if(c&&c[n])p=!0,f=c[n]();else if(c&&c[r])p=!1,f=c[r]();else throw new o("iterable",["Iterable"],c);const g=new l({objectMode:!0,highWaterMark:1,...u});let m=!1;g._read=function(){m||(m=!0,_())},g._destroy=function(w,I){e(v(w),()=>t.nextTick(I,w),k=>t.nextTick(I,k||w))};async function v(w){const I=w!=null,k=typeof f.throw=="function";if(I&&k){const{value:$,done:L}=await f.throw(w);if(await $,L)return}if(typeof f.return=="function"){const{value:$}=await f.return();await $}}async function _(){for(;;){try{const{value:w,done:I}=p?await f.next():f.next();if(I)g.push(null);else{const k=w&&typeof w.then=="function"?await w:w;if(k===null)throw m=!1,new a;if(g.push(k))continue;m=!1}}catch(w){g.destroy(w)}break}}return g}return zb=s,zb}var qb,W6;function Kv(){if(W6)return qb;W6=1;const t=Yl(),{ArrayPrototypeIndexOf:e,NumberIsInteger:n,NumberIsNaN:r,NumberParseInt:i,ObjectDefineProperties:o,ObjectKeys:a,ObjectSetPrototypeOf:s,Promise:l,SafeSet:c,SymbolAsyncDispose:u,SymbolAsyncIterator:f,Symbol:p}=Ln();qb=we,we.ReadableState=Ie;const{EventEmitter:g}=Ip(),{Stream:m,prependListener:v}=Dx(),{Buffer:_}=ka(),{addAbortSignal:w}=Hv(),I=Zl();let k=Ai().debuglog("stream",ce=>{k=ce});const $=sz(),L=tf(),{getHighWaterMark:z,getDefaultHighWaterMark:H}=Wv(),{aggregateTwoErrors:P,codes:{ERR_INVALID_ARG_TYPE:D,ERR_METHOD_NOT_IMPLEMENTED:B,ERR_OUT_OF_RANGE:O,ERR_STREAM_PUSH_AFTER_EOF:y,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:E},AbortError:S}=ii(),{validateObject:C}=Mp(),T=p("kPaused"),{StringDecoder:j}=lz(),A=E8();s(we.prototype,m.prototype),s(we,m);const M=()=>{},{errorOrDestroy:x}=L,R=1,F=2,U=4,K=8,G=16,Q=32,ne=64,J=128,Z=256,ee=512,ie=1024,se=2048,X=4096,ae=8192,de=16384,me=32768,Ee=65536,ye=1<<17,ue=1<<18;function _e(ce){return{enumerable:!1,get(){return(this.state&ce)!==0},set(he){he?this.state|=ce:this.state&=~ce}}}o(Ie.prototype,{objectMode:_e(R),ended:_e(F),endEmitted:_e(U),reading:_e(K),constructed:_e(G),sync:_e(Q),needReadable:_e(ne),emittedReadable:_e(J),readableListening:_e(Z),resumeScheduled:_e(ee),errorEmitted:_e(ie),emitClose:_e(se),autoDestroy:_e(X),destroyed:_e(ae),closed:_e(de),closeEmitted:_e(me),multiAwaitDrain:_e(Ee),readingMore:_e(ye),dataEmitted:_e(ue)});function Ie(ce,he,$e){typeof $e!="boolean"&&($e=he instanceof Aa()),this.state=se|X|G|Q,ce&&ce.objectMode&&(this.state|=R),$e&&ce&&ce.readableObjectMode&&(this.state|=R),this.highWaterMark=ce?z(this,ce,"readableHighWaterMark",$e):H(!1),this.buffer=new $,this.length=0,this.pipes=[],this.flowing=null,this[T]=null,ce&&ce.emitClose===!1&&(this.state&=~se),ce&&ce.autoDestroy===!1&&(this.state&=~X),this.errored=null,this.defaultEncoding=ce&&ce.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,ce&&ce.encoding&&(this.decoder=new j(ce.encoding),this.encoding=ce.encoding)}function we(ce){if(!(this instanceof we))return new we(ce);const he=this instanceof Aa();this._readableState=new Ie(ce,this,he),ce&&(typeof ce.read=="function"&&(this._read=ce.read),typeof ce.destroy=="function"&&(this._destroy=ce.destroy),typeof ce.construct=="function"&&(this._construct=ce.construct),ce.signal&&!he&&w(ce.signal,this)),m.call(this,ce),L.construct(this,()=>{this._readableState.needReadable&&ge(this,this._readableState)})}we.prototype.destroy=L.destroy,we.prototype._undestroy=L.undestroy,we.prototype._destroy=function(ce,he){he(ce)},we.prototype[g.captureRejectionSymbol]=function(ce){this.destroy(ce)},we.prototype[u]=function(){let ce;return this.destroyed||(ce=this.readableEnded?null:new S,this.destroy(ce)),new l((he,$e)=>I(this,qe=>qe&&qe!==ce?$e(qe):he(null)))},we.prototype.push=function(ce,he){return Fe(this,ce,he,!1)},we.prototype.unshift=function(ce,he){return Fe(this,ce,he,!0)};function Fe(ce,he,$e,qe){k("readableAddChunk",he);const Qe=ce._readableState;let _t;if((Qe.state&R)===0&&(typeof he=="string"?($e=$e||Qe.defaultEncoding,Qe.encoding!==$e&&(qe&&Qe.encoding?he=_.from(he,$e).toString(Qe.encoding):(he=_.from(he,$e),$e=""))):he instanceof _?$e="":m._isUint8Array(he)?(he=m._uint8ArrayToBuffer(he),$e=""):he!=null&&(_t=new D("chunk",["string","Buffer","Uint8Array"],he))),_t)x(ce,_t);else if(he===null)Qe.state&=~K,W(ce,Qe);else if((Qe.state&R)!==0||he&&he.length>0)if(qe)if((Qe.state&U)!==0)x(ce,new E);else{if(Qe.destroyed||Qe.errored)return!1;He(ce,Qe,he,!0)}else if(Qe.ended)x(ce,new y);else{if(Qe.destroyed||Qe.errored)return!1;Qe.state&=~K,Qe.decoder&&!$e?(he=Qe.decoder.write(he),Qe.objectMode||he.length!==0?He(ce,Qe,he,!1):ge(ce,Qe)):He(ce,Qe,he,!1)}else qe||(Qe.state&=~K,ge(ce,Qe));return!Qe.ended&&(Qe.length<Qe.highWaterMark||Qe.length===0)}function He(ce,he,$e,qe){he.flowing&&he.length===0&&!he.sync&&ce.listenerCount("data")>0?((he.state&Ee)!==0?he.awaitDrainWriters.clear():he.awaitDrainWriters=null,he.dataEmitted=!0,ce.emit("data",$e)):(he.length+=he.objectMode?1:$e.length,qe?he.buffer.unshift($e):he.buffer.push($e),(he.state&ne)!==0&&Y(ce)),ge(ce,he)}we.prototype.isPaused=function(){const ce=this._readableState;return ce[T]===!0||ce.flowing===!1},we.prototype.setEncoding=function(ce){const he=new j(ce);this._readableState.decoder=he,this._readableState.encoding=this._readableState.decoder.encoding;const $e=this._readableState.buffer;let qe="";for(const Qe of $e)qe+=he.write(Qe);return $e.clear(),qe!==""&&$e.push(qe),this._readableState.length=qe.length,this};const Ve=1073741824;function Je(ce){if(ce>Ve)throw new O("size","<= 1GiB",ce);return ce--,ce|=ce>>>1,ce|=ce>>>2,ce|=ce>>>4,ce|=ce>>>8,ce|=ce>>>16,ce++,ce}function te(ce,he){return ce<=0||he.length===0&&he.ended?0:(he.state&R)!==0?1:r(ce)?he.flowing&&he.length?he.buffer.first().length:he.length:ce<=he.length?ce:he.ended?he.length:0}we.prototype.read=function(ce){k("read",ce),ce===void 0?ce=NaN:n(ce)||(ce=i(ce,10));const he=this._readableState,$e=ce;if(ce>he.highWaterMark&&(he.highWaterMark=Je(ce)),ce!==0&&(he.state&=~J),ce===0&&he.needReadable&&((he.highWaterMark!==0?he.length>=he.highWaterMark:he.length>0)||he.ended))return k("read: emitReadable",he.length,he.ended),he.length===0&&he.ended?Ze(this):Y(this),null;if(ce=te(ce,he),ce===0&&he.ended)return he.length===0&&Ze(this),null;let qe=(he.state&ne)!==0;if(k("need readable",qe),(he.length===0||he.length-ce<he.highWaterMark)&&(qe=!0,k("length less than watermark",qe)),he.ended||he.reading||he.destroyed||he.errored||!he.constructed)qe=!1,k("reading, ended or constructing",qe);else if(qe){k("do read"),he.state|=K|Q,he.length===0&&(he.state|=ne);try{this._read(he.highWaterMark)}catch(_t){x(this,_t)}he.state&=~Q,he.reading||(ce=te($e,he))}let Qe;return ce>0?Qe=zn(ce,he):Qe=null,Qe===null?(he.needReadable=he.length<=he.highWaterMark,ce=0):(he.length-=ce,he.multiAwaitDrain?he.awaitDrainWriters.clear():he.awaitDrainWriters=null),he.length===0&&(he.ended||(he.needReadable=!0),$e!==ce&&he.ended&&Ze(this)),Qe!==null&&!he.errorEmitted&&!he.closeEmitted&&(he.dataEmitted=!0,this.emit("data",Qe)),Qe};function W(ce,he){if(k("onEofChunk"),!he.ended){if(he.decoder){const $e=he.decoder.end();$e&&$e.length&&(he.buffer.push($e),he.length+=he.objectMode?1:$e.length)}he.ended=!0,he.sync?Y(ce):(he.needReadable=!1,he.emittedReadable=!0,le(ce))}}function Y(ce){const he=ce._readableState;k("emitReadable",he.needReadable,he.emittedReadable),he.needReadable=!1,he.emittedReadable||(k("emitReadable",he.flowing),he.emittedReadable=!0,t.nextTick(le,ce))}function le(ce){const he=ce._readableState;k("emitReadable_",he.destroyed,he.length,he.ended),!he.destroyed&&!he.errored&&(he.length||he.ended)&&(ce.emit("readable"),he.emittedReadable=!1),he.needReadable=!he.flowing&&!he.ended&&he.length<=he.highWaterMark,kt(ce)}function ge(ce,he){!he.readingMore&&he.constructed&&(he.readingMore=!0,t.nextTick(ke,ce,he))}function ke(ce,he){for(;!he.reading&&!he.ended&&(he.length<he.highWaterMark||he.flowing&&he.length===0);){const $e=he.length;if(k("maybeReadMore read 0"),ce.read(0),$e===he.length)break}he.readingMore=!1}we.prototype._read=function(ce){throw new B("_read()")},we.prototype.pipe=function(ce,he){const $e=this,qe=this._readableState;qe.pipes.length===1&&(qe.multiAwaitDrain||(qe.multiAwaitDrain=!0,qe.awaitDrainWriters=new c(qe.awaitDrainWriters?[qe.awaitDrainWriters]:[]))),qe.pipes.push(ce),k("pipe count=%d opts=%j",qe.pipes.length,he);const _t=(!he||he.end!==!1)&&ce!==t.stdout&&ce!==t.stderr?Wt:si;qe.endEmitted?t.nextTick(_t):$e.once("end",_t),ce.on("unpipe",Cn);function Cn(Wr,or){k("onunpipe"),Wr===$e&&or&&or.hasUnpiped===!1&&(or.hasUnpiped=!0,fn())}function Wt(){k("onend"),ce.end()}let Ft,er=!1;function fn(){k("cleanup"),ce.removeListener("close",Qt),ce.removeListener("finish",Zn),Ft&&ce.removeListener("drain",Ft),ce.removeListener("error",hn),ce.removeListener("unpipe",Cn),$e.removeListener("end",Wt),$e.removeListener("end",si),$e.removeListener("data",Ls),er=!0,Ft&&qe.awaitDrainWriters&&(!ce._writableState||ce._writableState.needDrain)&&Ft()}function mn(){er||(qe.pipes.length===1&&qe.pipes[0]===ce?(k("false write response, pause",0),qe.awaitDrainWriters=ce,qe.multiAwaitDrain=!1):qe.pipes.length>1&&qe.pipes.includes(ce)&&(k("false write response, pause",qe.awaitDrainWriters.size),qe.awaitDrainWriters.add(ce)),$e.pause()),Ft||(Ft=Re($e,ce),ce.on("drain",Ft))}$e.on("data",Ls);function Ls(Wr){k("ondata");const or=ce.write(Wr);k("dest.write",or),or===!1&&mn()}function hn(Wr){if(k("onerror",Wr),si(),ce.removeListener("error",hn),ce.listenerCount("error")===0){const or=ce._writableState||ce._readableState;or&&!or.errorEmitted?x(ce,Wr):ce.emit("error",Wr)}}v(ce,"error",hn);function Qt(){ce.removeListener("finish",Zn),si()}ce.once("close",Qt);function Zn(){k("onfinish"),ce.removeListener("close",Qt),si()}ce.once("finish",Zn);function si(){k("unpipe"),$e.unpipe(ce)}return ce.emit("pipe",$e),ce.writableNeedDrain===!0?mn():qe.flowing||(k("pipe resume"),$e.resume()),ce};function Re(ce,he){return function(){const qe=ce._readableState;qe.awaitDrainWriters===he?(k("pipeOnDrain",1),qe.awaitDrainWriters=null):qe.multiAwaitDrain&&(k("pipeOnDrain",qe.awaitDrainWriters.size),qe.awaitDrainWriters.delete(he)),(!qe.awaitDrainWriters||qe.awaitDrainWriters.size===0)&&ce.listenerCount("data")&&ce.resume()}}we.prototype.unpipe=function(ce){const he=this._readableState,$e={hasUnpiped:!1};if(he.pipes.length===0)return this;if(!ce){const Qe=he.pipes;he.pipes=[],this.pause();for(let _t=0;_t<Qe.length;_t++)Qe[_t].emit("unpipe",this,{hasUnpiped:!1});return this}const qe=e(he.pipes,ce);return qe===-1?this:(he.pipes.splice(qe,1),he.pipes.length===0&&this.pause(),ce.emit("unpipe",this,$e),this)},we.prototype.on=function(ce,he){const $e=m.prototype.on.call(this,ce,he),qe=this._readableState;return ce==="data"?(qe.readableListening=this.listenerCount("readable")>0,qe.flowing!==!1&&this.resume()):ce==="readable"&&!qe.endEmitted&&!qe.readableListening&&(qe.readableListening=qe.needReadable=!0,qe.flowing=!1,qe.emittedReadable=!1,k("on readable",qe.length,qe.reading),qe.length?Y(this):qe.reading||t.nextTick(Bt,this)),$e},we.prototype.addListener=we.prototype.on,we.prototype.removeListener=function(ce,he){const $e=m.prototype.removeListener.call(this,ce,he);return ce==="readable"&&t.nextTick(rt,this),$e},we.prototype.off=we.prototype.removeListener,we.prototype.removeAllListeners=function(ce){const he=m.prototype.removeAllListeners.apply(this,arguments);return(ce==="readable"||ce===void 0)&&t.nextTick(rt,this),he};function rt(ce){const he=ce._readableState;he.readableListening=ce.listenerCount("readable")>0,he.resumeScheduled&&he[T]===!1?he.flowing=!0:ce.listenerCount("data")>0?ce.resume():he.readableListening||(he.flowing=null)}function Bt(ce){k("readable nexttick read 0"),ce.read(0)}we.prototype.resume=function(){const ce=this._readableState;return ce.flowing||(k("resume"),ce.flowing=!ce.readableListening,at(this,ce)),ce[T]=!1,this};function at(ce,he){he.resumeScheduled||(he.resumeScheduled=!0,t.nextTick(xt,ce,he))}function xt(ce,he){k("resume",he.reading),he.reading||ce.read(0),he.resumeScheduled=!1,ce.emit("resume"),kt(ce),he.flowing&&!he.reading&&ce.read(0)}we.prototype.pause=function(){return k("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(k("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[T]=!0,this};function kt(ce){const he=ce._readableState;for(k("flow",he.flowing);he.flowing&&ce.read()!==null;);}we.prototype.wrap=function(ce){let he=!1;ce.on("data",qe=>{!this.push(qe)&&ce.pause&&(he=!0,ce.pause())}),ce.on("end",()=>{this.push(null)}),ce.on("error",qe=>{x(this,qe)}),ce.on("close",()=>{this.destroy()}),ce.on("destroy",()=>{this.destroy()}),this._read=()=>{he&&ce.resume&&(he=!1,ce.resume())};const $e=a(ce);for(let qe=1;qe<$e.length;qe++){const Qe=$e[qe];this[Qe]===void 0&&typeof ce[Qe]=="function"&&(this[Qe]=ce[Qe].bind(ce))}return this},we.prototype[f]=function(){return Lt(this)},we.prototype.iterator=function(ce){return ce!==void 0&&C(ce,"options"),Lt(this,ce)};function Lt(ce,he){typeof ce.read!="function"&&(ce=we.wrap(ce,{objectMode:!0}));const $e=Zt(ce,he);return $e.stream=ce,$e}async function*Zt(ce,he){let $e=M;function qe(Cn){this===ce?($e(),$e=M):$e=Cn}ce.on("readable",qe);let Qe;const _t=I(ce,{writable:!1},Cn=>{Qe=Cn?P(Qe,Cn):null,$e(),$e=M});try{for(;;){const Cn=ce.destroyed?null:ce.read();if(Cn!==null)yield Cn;else{if(Qe)throw Qe;if(Qe===null)return;await new l(qe)}}}catch(Cn){throw Qe=P(Qe,Cn),Qe}finally{(Qe||(he==null?void 0:he.destroyOnReturn)!==!1)&&(Qe===void 0||ce._readableState.autoDestroy)?L.destroyer(ce,null):(ce.off("readable",qe),_t())}}o(we.prototype,{readable:{__proto__:null,get(){const ce=this._readableState;return!!ce&&ce.readable!==!1&&!ce.destroyed&&!ce.errorEmitted&&!ce.endEmitted},set(ce){this._readableState&&(this._readableState.readable=!!ce)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(ce){this._readableState&&(this._readableState.flowing=ce)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(ce){this._readableState&&(this._readableState.destroyed=ce)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),o(Ie.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[T]!==!1},set(ce){this[T]=!!ce}}}),we._fromList=zn;function zn(ce,he){if(he.length===0)return null;let $e;return he.objectMode?$e=he.buffer.shift():!ce||ce>=he.length?(he.decoder?$e=he.buffer.join(""):he.buffer.length===1?$e=he.buffer.first():$e=he.buffer.concat(he.length),he.buffer.clear()):$e=he.buffer.consume(ce,he.decoder),$e}function Ze(ce){const he=ce._readableState;k("endReadable",he.endEmitted),he.endEmitted||(he.ended=!0,t.nextTick(Ct,he,ce))}function Ct(ce,he){if(k("endReadableNT",ce.endEmitted,ce.length),!ce.errored&&!ce.closeEmitted&&!ce.endEmitted&&ce.length===0){if(ce.endEmitted=!0,he.emit("end"),he.writable&&he.allowHalfOpen===!1)t.nextTick(Ht,he);else if(ce.autoDestroy){const $e=he._writableState;(!$e||$e.autoDestroy&&($e.finished||$e.writable===!1))&&he.destroy()}}}function Ht(ce){ce.writable&&!ce.writableEnded&&!ce.destroyed&&ce.end()}we.from=function(ce,he){return A(we,ce,he)};let It;function wt(){return It===void 0&&(It={}),It}return we.fromWeb=function(ce,he){return wt().newStreamReadableFromReadableStream(ce,he)},we.toWeb=function(ce,he){return wt().newReadableStreamFromStreamReadable(ce,he)},we.wrap=function(ce,he){var $e,qe;return new we({objectMode:($e=(qe=ce.readableObjectMode)!==null&&qe!==void 0?qe:ce.objectMode)!==null&&$e!==void 0?$e:!0,...he,destroy(Qe,_t){L.destroyer(ce,Qe),_t(Qe)}}).wrap(ce)},qb}var Hb,K6;function Bx(){if(K6)return Hb;K6=1;const t=Yl(),{ArrayPrototypeSlice:e,Error:n,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:i,ObjectDefineProperties:o,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:s,Symbol:l,SymbolHasInstance:c}=Ln();Hb=C,C.WritableState=E;const{EventEmitter:u}=Ip(),f=Dx().Stream,{Buffer:p}=ka(),g=tf(),{addAbortSignal:m}=Hv(),{getHighWaterMark:v,getDefaultHighWaterMark:_}=Wv(),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:I,ERR_MULTIPLE_CALLBACK:k,ERR_STREAM_CANNOT_PIPE:$,ERR_STREAM_DESTROYED:L,ERR_STREAM_ALREADY_FINISHED:z,ERR_STREAM_NULL_VALUES:H,ERR_STREAM_WRITE_AFTER_END:P,ERR_UNKNOWN_ENCODING:D}=ii().codes,{errorOrDestroy:B}=g;a(C.prototype,f.prototype),a(C,f);function O(){}const y=l("kOnFinished");function E(X,ae,de){typeof de!="boolean"&&(de=ae instanceof Aa()),this.objectMode=!!(X&&X.objectMode),de&&(this.objectMode=this.objectMode||!!(X&&X.writableObjectMode)),this.highWaterMark=X?v(this,X,"writableHighWaterMark",de):_(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const me=!!(X&&X.decodeStrings===!1);this.decodeStrings=!me,this.defaultEncoding=X&&X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=x.bind(void 0,ae),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,S(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!X||X.emitClose!==!1,this.autoDestroy=!X||X.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[y]=[]}function S(X){X.buffered=[],X.bufferedIndex=0,X.allBuffers=!0,X.allNoop=!0}E.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},i(E.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function C(X){const ae=this instanceof Aa();if(!ae&&!r(C,this))return new C(X);this._writableState=new E(X,this,ae),X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final),typeof X.construct=="function"&&(this._construct=X.construct),X.signal&&m(X.signal,this)),f.call(this,X),g.construct(this,()=>{const de=this._writableState;de.writing||K(this,de),J(this,de)})}i(C,c,{__proto__:null,value:function(X){return r(this,X)?!0:this!==C?!1:X&&X._writableState instanceof E}}),C.prototype.pipe=function(){B(this,new $)};function T(X,ae,de,me){const Ee=X._writableState;if(typeof de=="function")me=de,de=Ee.defaultEncoding;else{if(!de)de=Ee.defaultEncoding;else if(de!=="buffer"&&!p.isEncoding(de))throw new D(de);typeof me!="function"&&(me=O)}if(ae===null)throw new H;if(!Ee.objectMode)if(typeof ae=="string")Ee.decodeStrings!==!1&&(ae=p.from(ae,de),de="buffer");else if(ae instanceof p)de="buffer";else if(f._isUint8Array(ae))ae=f._uint8ArrayToBuffer(ae),de="buffer";else throw new w("chunk",["string","Buffer","Uint8Array"],ae);let ye;return Ee.ending?ye=new P:Ee.destroyed&&(ye=new L("write")),ye?(t.nextTick(me,ye),B(X,ye,!0),ye):(Ee.pendingcb++,j(X,Ee,ae,de,me))}C.prototype.write=function(X,ae,de){return T(this,X,ae,de)===!0},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){const X=this._writableState;X.corked&&(X.corked--,X.writing||K(this,X))},C.prototype.setDefaultEncoding=function(ae){if(typeof ae=="string"&&(ae=s(ae)),!p.isEncoding(ae))throw new D(ae);return this._writableState.defaultEncoding=ae,this};function j(X,ae,de,me,Ee){const ye=ae.objectMode?1:de.length;ae.length+=ye;const ue=ae.length<ae.highWaterMark;return ue||(ae.needDrain=!0),ae.writing||ae.corked||ae.errored||!ae.constructed?(ae.buffered.push({chunk:de,encoding:me,callback:Ee}),ae.allBuffers&&me!=="buffer"&&(ae.allBuffers=!1),ae.allNoop&&Ee!==O&&(ae.allNoop=!1)):(ae.writelen=ye,ae.writecb=Ee,ae.writing=!0,ae.sync=!0,X._write(de,me,ae.onwrite),ae.sync=!1),ue&&!ae.errored&&!ae.destroyed}function A(X,ae,de,me,Ee,ye,ue){ae.writelen=me,ae.writecb=ue,ae.writing=!0,ae.sync=!0,ae.destroyed?ae.onwrite(new L("write")):de?X._writev(Ee,ae.onwrite):X._write(Ee,ye,ae.onwrite),ae.sync=!1}function M(X,ae,de,me){--ae.pendingcb,me(de),U(ae),B(X,de)}function x(X,ae){const de=X._writableState,me=de.sync,Ee=de.writecb;if(typeof Ee!="function"){B(X,new k);return}de.writing=!1,de.writecb=null,de.length-=de.writelen,de.writelen=0,ae?(ae.stack,de.errored||(de.errored=ae),X._readableState&&!X._readableState.errored&&(X._readableState.errored=ae),me?t.nextTick(M,X,de,ae,Ee):M(X,de,ae,Ee)):(de.buffered.length>de.bufferedIndex&&K(X,de),me?de.afterWriteTickInfo!==null&&de.afterWriteTickInfo.cb===Ee?de.afterWriteTickInfo.count++:(de.afterWriteTickInfo={count:1,cb:Ee,stream:X,state:de},t.nextTick(R,de.afterWriteTickInfo)):F(X,de,1,Ee))}function R({stream:X,state:ae,count:de,cb:me}){return ae.afterWriteTickInfo=null,F(X,ae,de,me)}function F(X,ae,de,me){for(!ae.ending&&!X.destroyed&&ae.length===0&&ae.needDrain&&(ae.needDrain=!1,X.emit("drain"));de-- >0;)ae.pendingcb--,me();ae.destroyed&&U(ae),J(X,ae)}function U(X){if(X.writing)return;for(let Ee=X.bufferedIndex;Ee<X.buffered.length;++Ee){var ae;const{chunk:ye,callback:ue}=X.buffered[Ee],_e=X.objectMode?1:ye.length;X.length-=_e,ue((ae=X.errored)!==null&&ae!==void 0?ae:new L("write"))}const de=X[y].splice(0);for(let Ee=0;Ee<de.length;Ee++){var me;de[Ee]((me=X.errored)!==null&&me!==void 0?me:new L("end"))}S(X)}function K(X,ae){if(ae.corked||ae.bufferProcessing||ae.destroyed||!ae.constructed)return;const{buffered:de,bufferedIndex:me,objectMode:Ee}=ae,ye=de.length-me;if(!ye)return;let ue=me;if(ae.bufferProcessing=!0,ye>1&&X._writev){ae.pendingcb-=ye-1;const _e=ae.allNoop?O:we=>{for(let Fe=ue;Fe<de.length;++Fe)de[Fe].callback(we)},Ie=ae.allNoop&&ue===0?de:e(de,ue);Ie.allBuffers=ae.allBuffers,A(X,ae,!0,ae.length,Ie,"",_e),S(ae)}else{do{const{chunk:_e,encoding:Ie,callback:we}=de[ue];de[ue++]=null;const Fe=Ee?1:_e.length;A(X,ae,!1,Fe,_e,Ie,we)}while(ue<de.length&&!ae.writing);ue===de.length?S(ae):ue>256?(de.splice(0,ue),ae.bufferedIndex=0):ae.bufferedIndex=ue}ae.bufferProcessing=!1}C.prototype._write=function(X,ae,de){if(this._writev)this._writev([{chunk:X,encoding:ae}],de);else throw new I("_write()")},C.prototype._writev=null,C.prototype.end=function(X,ae,de){const me=this._writableState;typeof X=="function"?(de=X,X=null,ae=null):typeof ae=="function"&&(de=ae,ae=null);let Ee;if(X!=null){const ye=T(this,X,ae);ye instanceof n&&(Ee=ye)}return me.corked&&(me.corked=1,this.uncork()),Ee||(!me.errored&&!me.ending?(me.ending=!0,J(this,me,!0),me.ended=!0):me.finished?Ee=new z("end"):me.destroyed&&(Ee=new L("end"))),typeof de=="function"&&(Ee||me.finished?t.nextTick(de,Ee):me[y].push(de)),this};function G(X){return X.ending&&!X.destroyed&&X.constructed&&X.length===0&&!X.errored&&X.buffered.length===0&&!X.finished&&!X.writing&&!X.errorEmitted&&!X.closeEmitted}function Q(X,ae){let de=!1;function me(Ee){if(de){B(X,Ee??k());return}if(de=!0,ae.pendingcb--,Ee){const ye=ae[y].splice(0);for(let ue=0;ue<ye.length;ue++)ye[ue](Ee);B(X,Ee,ae.sync)}else G(ae)&&(ae.prefinished=!0,X.emit("prefinish"),ae.pendingcb++,t.nextTick(Z,X,ae))}ae.sync=!0,ae.pendingcb++;try{X._final(me)}catch(Ee){me(Ee)}ae.sync=!1}function ne(X,ae){!ae.prefinished&&!ae.finalCalled&&(typeof X._final=="function"&&!ae.destroyed?(ae.finalCalled=!0,Q(X,ae)):(ae.prefinished=!0,X.emit("prefinish")))}function J(X,ae,de){G(ae)&&(ne(X,ae),ae.pendingcb===0&&(de?(ae.pendingcb++,t.nextTick((me,Ee)=>{G(Ee)?Z(me,Ee):Ee.pendingcb--},X,ae)):G(ae)&&(ae.pendingcb++,Z(X,ae))))}function Z(X,ae){ae.pendingcb--,ae.finished=!0;const de=ae[y].splice(0);for(let me=0;me<de.length;me++)de[me]();if(X.emit("finish"),ae.autoDestroy){const me=X._readableState;(!me||me.autoDestroy&&(me.endEmitted||me.readable===!1))&&X.destroy()}}o(C.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(X){this._writableState&&(this._writableState.destroyed=X)}},writable:{__proto__:null,get(){const X=this._writableState;return!!X&&X.writable!==!1&&!X.destroyed&&!X.errored&&!X.ending&&!X.ended},set(X){this._writableState&&(this._writableState.writable=!!X)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const X=this._writableState;return X?!X.destroyed&&!X.ending&&X.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const ee=g.destroy;C.prototype.destroy=function(X,ae){const de=this._writableState;return!de.destroyed&&(de.bufferedIndex<de.buffered.length||de[y].length)&&t.nextTick(U,de),ee.call(this,X,ae),this},C.prototype._undestroy=g.undestroy,C.prototype._destroy=function(X,ae){ae(X)},C.prototype[u.captureRejectionSymbol]=function(X){this.destroy(X)};let ie;function se(){return ie===void 0&&(ie={}),ie}return C.fromWeb=function(X,ae){return se().newStreamWritableFromWritableStream(X,ae)},C.toWeb=function(X){return se().newWritableStreamFromStreamWritable(X)},Hb}var Wb,V6;function cz(){if(V6)return Wb;V6=1;const t=Yl(),e=ka(),{isReadable:n,isWritable:r,isIterable:i,isNodeStream:o,isReadableNodeStream:a,isWritableNodeStream:s,isDuplexNodeStream:l,isReadableStream:c,isWritableStream:u}=Ta(),f=Zl(),{AbortError:p,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:m}}=ii(),{destroyer:v}=tf(),_=Aa(),w=Kv(),I=Bx(),{createDeferredPromise:k}=Ai(),$=E8(),L=globalThis.Blob||e.Blob,z=typeof L<"u"?function(E){return E instanceof L}:function(E){return!1},H=globalThis.AbortController||Ph().AbortController,{FunctionPrototypeCall:P}=Ln();class D extends _{constructor(E){super(E),(E==null?void 0:E.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(E==null?void 0:E.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}Wb=function y(E,S){if(l(E))return E;if(a(E))return O({readable:E});if(s(E))return O({writable:E});if(o(E))return O({writable:!1,readable:!1});if(c(E))return O({readable:w.fromWeb(E)});if(u(E))return O({writable:I.fromWeb(E)});if(typeof E=="function"){const{value:T,write:j,final:A,destroy:M}=B(E);if(i(T))return $(D,T,{objectMode:!0,write:j,final:A,destroy:M});const x=T==null?void 0:T.then;if(typeof x=="function"){let R;const F=P(x,T,U=>{if(U!=null)throw new m("nully","body",U)},U=>{v(R,U)});return R=new D({objectMode:!0,readable:!1,write:j,final(U){A(async()=>{try{await F,t.nextTick(U,null)}catch(K){t.nextTick(U,K)}})},destroy:M})}throw new m("Iterable, AsyncIterable or AsyncFunction",S,T)}if(z(E))return y(E.arrayBuffer());if(i(E))return $(D,E,{objectMode:!0,writable:!1});if(c(E==null?void 0:E.readable)&&u(E==null?void 0:E.writable))return D.fromWeb(E);if(typeof(E==null?void 0:E.writable)=="object"||typeof(E==null?void 0:E.readable)=="object"){const T=E!=null&&E.readable?a(E==null?void 0:E.readable)?E==null?void 0:E.readable:y(E.readable):void 0,j=E!=null&&E.writable?s(E==null?void 0:E.writable)?E==null?void 0:E.writable:y(E.writable):void 0;return O({readable:T,writable:j})}const C=E==null?void 0:E.then;if(typeof C=="function"){let T;return P(C,E,j=>{j!=null&&T.push(j),T.push(null)},j=>{v(T,j)}),T=new D({objectMode:!0,writable:!1,read(){}})}throw new g(S,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],E)};function B(y){let{promise:E,resolve:S}=k();const C=new H,T=C.signal;return{value:y(async function*(){for(;;){const A=E;E=null;const{chunk:M,done:x,cb:R}=await A;if(t.nextTick(R),x)return;if(T.aborted)throw new p(void 0,{cause:T.reason});({promise:E,resolve:S}=k()),yield M}}(),{signal:T}),write(A,M,x){const R=S;S=null,R({chunk:A,done:!1,cb:x})},final(A){const M=S;S=null,M({done:!0,cb:A})},destroy(A,M){C.abort(),M(A)}}}function O(y){const E=y.readable&&typeof y.readable.read!="function"?w.wrap(y.readable):y.readable,S=y.writable;let C=!!n(E),T=!!r(S),j,A,M,x,R;function F(U){const K=x;x=null,K?K(U):U&&R.destroy(U)}return R=new D({readableObjectMode:!!(E!=null&&E.readableObjectMode),writableObjectMode:!!(S!=null&&S.writableObjectMode),readable:C,writable:T}),T&&(f(S,U=>{T=!1,U&&v(E,U),F(U)}),R._write=function(U,K,G){S.write(U,K)?G():j=G},R._final=function(U){S.end(),A=U},S.on("drain",function(){if(j){const U=j;j=null,U()}}),S.on("finish",function(){if(A){const U=A;A=null,U()}})),C&&(f(E,U=>{C=!1,U&&v(E,U),F(U)}),E.on("readable",function(){if(M){const U=M;M=null,U()}}),E.on("end",function(){R.push(null)}),R._read=function(){for(;;){const U=E.read();if(U===null){M=R._read;return}if(!R.push(U))return}}),R._destroy=function(U,K){!U&&x!==null&&(U=new p),M=null,j=null,A=null,x===null?K(U):(x=K,v(S,U),v(E,U))},R}return Wb}var Kb,G6;function Aa(){if(G6)return Kb;G6=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:n,ObjectSetPrototypeOf:r}=Ln();Kb=a;const i=Kv(),o=Bx();r(a.prototype,i.prototype),r(a,i);{const u=n(o.prototype);for(let f=0;f<u.length;f++){const p=u[f];a.prototype[p]||(a.prototype[p]=o.prototype[p])}}function a(u){if(!(this instanceof a))return new a(u);i.call(this,u),o.call(this,u),u?(this.allowHalfOpen=u.allowHalfOpen!==!1,u.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),u.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(a.prototype,{writable:{__proto__:null,...e(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(o.prototype,"writableLength")},writableFinished:{__proto__:null,...e(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(u){this._readableState&&this._writableState&&(this._readableState.destroyed=u,this._writableState.destroyed=u)}}});let s;function l(){return s===void 0&&(s={}),s}a.fromWeb=function(u,f){return l().newStreamDuplexFromReadableWritablePair(u,f)},a.toWeb=function(u){return l().newReadableWritablePairFromDuplex(u)};let c;return a.from=function(u){return c||(c=cz()),c(u,"body")},Kb}var Vb,Y6;function x8(){if(Y6)return Vb;Y6=1;const{ObjectSetPrototypeOf:t,Symbol:e}=Ln();Vb=a;const{ERR_METHOD_NOT_IMPLEMENTED:n}=ii().codes,r=Aa(),{getHighWaterMark:i}=Wv();t(a.prototype,r.prototype),t(a,r);const o=e("kCallback");function a(c){if(!(this instanceof a))return new a(c);const u=c?i(this,c,"readableHighWaterMark",!0):null;u===0&&(c={...c,highWaterMark:null,readableHighWaterMark:u,writableHighWaterMark:c.writableHighWaterMark||0}),r.call(this,c),this._readableState.sync=!1,this[o]=null,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",l)}function s(c){typeof this._flush=="function"&&!this.destroyed?this._flush((u,f)=>{if(u){c?c(u):this.destroy(u);return}f!=null&&this.push(f),this.push(null),c&&c()}):(this.push(null),c&&c())}function l(){this._final!==s&&s.call(this)}return a.prototype._final=s,a.prototype._transform=function(c,u,f){throw new n("_transform()")},a.prototype._write=function(c,u,f){const p=this._readableState,g=this._writableState,m=p.length;this._transform(c,u,(v,_)=>{if(v){f(v);return}_!=null&&this.push(_),g.ended||m===p.length||p.length<p.highWaterMark?f():this[o]=f})},a.prototype._read=function(){if(this[o]){const c=this[o];this[o]=null,c()}},Vb}var Gb,J6;function _8(){if(J6)return Gb;J6=1;const{ObjectSetPrototypeOf:t}=Ln();Gb=n;const e=x8();t(n.prototype,e.prototype),t(n,e);function n(r){if(!(this instanceof n))return new n(r);e.call(this,r)}return n.prototype._transform=function(r,i,o){o(null,r)},Gb}var Yb,Z6;function jx(){if(Z6)return Yb;Z6=1;const t=Yl(),{ArrayIsArray:e,Promise:n,SymbolAsyncIterator:r,SymbolDispose:i}=Ln(),o=Zl(),{once:a}=Ai(),s=tf(),l=Aa(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:u,ERR_INVALID_RETURN_VALUE:f,ERR_MISSING_ARGS:p,ERR_STREAM_DESTROYED:g,ERR_STREAM_PREMATURE_CLOSE:m},AbortError:v}=ii(),{validateFunction:_,validateAbortSignal:w}=Mp(),{isIterable:I,isReadable:k,isReadableNodeStream:$,isNodeStream:L,isTransformStream:z,isWebStream:H,isReadableStream:P,isReadableFinished:D}=Ta(),B=globalThis.AbortController||Ph().AbortController;let O,y,E;function S(U,K,G){let Q=!1;U.on("close",()=>{Q=!0});const ne=o(U,{readable:K,writable:G},J=>{Q=!J});return{destroy:J=>{Q||(Q=!0,s.destroyer(U,J||new g("pipe")))},cleanup:ne}}function C(U){return _(U[U.length-1],"streams[stream.length - 1]"),U.pop()}function T(U){if(I(U))return U;if($(U))return j(U);throw new u("val",["Readable","Iterable","AsyncIterable"],U)}async function*j(U){y||(y=Kv()),yield*y.prototype[r].call(U)}async function A(U,K,G,{end:Q}){let ne,J=null;const Z=se=>{if(se&&(ne=se),J){const X=J;J=null,X()}},ee=()=>new n((se,X)=>{ne?X(ne):J=()=>{ne?X(ne):se()}});K.on("drain",Z);const ie=o(K,{readable:!1},Z);try{K.writableNeedDrain&&await ee();for await(const se of U)K.write(se)||await ee();Q&&(K.end(),await ee()),G()}catch(se){G(ne!==se?c(ne,se):se)}finally{ie(),K.off("drain",Z)}}async function M(U,K,G,{end:Q}){z(K)&&(K=K.writable);const ne=K.getWriter();try{for await(const J of U)await ne.ready,ne.write(J).catch(()=>{});await ne.ready,Q&&await ne.close(),G()}catch(J){try{await ne.abort(J),G(J)}catch(Z){G(Z)}}}function x(...U){return R(U,a(C(U)))}function R(U,K,G){if(U.length===1&&e(U[0])&&(U=U[0]),U.length<2)throw new p("streams");const Q=new B,ne=Q.signal,J=G==null?void 0:G.signal,Z=[];w(J,"options.signal");function ee(){Ee(new v)}E=E||Ai().addAbortListener;let ie;J&&(ie=E(J,ee));let se,X;const ae=[];let de=0;function me(Ie){Ee(Ie,--de===0)}function Ee(Ie,we){var Fe;if(Ie&&(!se||se.code==="ERR_STREAM_PREMATURE_CLOSE")&&(se=Ie),!(!se&&!we)){for(;ae.length;)ae.shift()(se);(Fe=ie)===null||Fe===void 0||Fe[i](),Q.abort(),we&&(se||Z.forEach(He=>He()),t.nextTick(K,se,X))}}let ye;for(let Ie=0;Ie<U.length;Ie++){const we=U[Ie],Fe=Ie<U.length-1,He=Ie>0,Ve=Fe||(G==null?void 0:G.end)!==!1,Je=Ie===U.length-1;if(L(we)){let te=function(W){W&&W.name!=="AbortError"&&W.code!=="ERR_STREAM_PREMATURE_CLOSE"&&me(W)};if(Ve){const{destroy:W,cleanup:Y}=S(we,Fe,He);ae.push(W),k(we)&&Je&&Z.push(Y)}we.on("error",te),k(we)&&Je&&Z.push(()=>{we.removeListener("error",te)})}if(Ie===0)if(typeof we=="function"){if(ye=we({signal:ne}),!I(ye))throw new f("Iterable, AsyncIterable or Stream","source",ye)}else I(we)||$(we)||z(we)?ye=we:ye=l.from(we);else if(typeof we=="function"){if(z(ye)){var ue;ye=T((ue=ye)===null||ue===void 0?void 0:ue.readable)}else ye=T(ye);if(ye=we(ye,{signal:ne}),Fe){if(!I(ye,!0))throw new f("AsyncIterable",`transform[${Ie-1}]`,ye)}else{var _e;O||(O=_8());const te=new O({objectMode:!0}),W=(_e=ye)===null||_e===void 0?void 0:_e.then;if(typeof W=="function")de++,W.call(ye,ge=>{X=ge,ge!=null&&te.write(ge),Ve&&te.end(),t.nextTick(me)},ge=>{te.destroy(ge),t.nextTick(me,ge)});else if(I(ye,!0))de++,A(ye,te,me,{end:Ve});else if(P(ye)||z(ye)){const ge=ye.readable||ye;de++,A(ge,te,me,{end:Ve})}else throw new f("AsyncIterable or Promise","destination",ye);ye=te;const{destroy:Y,cleanup:le}=S(ye,!1,!0);ae.push(Y),Je&&Z.push(le)}}else if(L(we)){if($(ye)){de+=2;const te=F(ye,we,me,{end:Ve});k(we)&&Je&&Z.push(te)}else if(z(ye)||P(ye)){const te=ye.readable||ye;de++,A(te,we,me,{end:Ve})}else if(I(ye))de++,A(ye,we,me,{end:Ve});else throw new u("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ye);ye=we}else if(H(we)){if($(ye))de++,M(T(ye),we,me,{end:Ve});else if(P(ye)||I(ye))de++,M(ye,we,me,{end:Ve});else if(z(ye))de++,M(ye.readable,we,me,{end:Ve});else throw new u("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ye);ye=we}else ye=l.from(we)}return(ne!=null&&ne.aborted||J!=null&&J.aborted)&&t.nextTick(ee),ye}function F(U,K,G,{end:Q}){let ne=!1;if(K.on("close",()=>{ne||G(new m)}),U.pipe(K,{end:!1}),Q){let J=function(){ne=!0,K.end()};D(U)?t.nextTick(J):U.once("end",J)}else G();return o(U,{readable:!0,writable:!1},J=>{const Z=U._readableState;J&&J.code==="ERR_STREAM_PREMATURE_CLOSE"&&Z&&Z.ended&&!Z.errored&&!Z.errorEmitted?U.once("end",G).once("error",G):G(J)}),o(K,{readable:!1,writable:!0},G)}return Yb={pipelineImpl:R,pipeline:x},Yb}var Jb,Q6;function S8(){if(Q6)return Jb;Q6=1;const{pipeline:t}=jx(),e=Aa(),{destroyer:n}=tf(),{isNodeStream:r,isReadable:i,isWritable:o,isWebStream:a,isTransformStream:s,isWritableStream:l,isReadableStream:c}=Ta(),{AbortError:u,codes:{ERR_INVALID_ARG_VALUE:f,ERR_MISSING_ARGS:p}}=ii(),g=Zl();return Jb=function(...v){if(v.length===0)throw new p("streams");if(v.length===1)return e.from(v[0]);const _=[...v];if(typeof v[0]=="function"&&(v[0]=e.from(v[0])),typeof v[v.length-1]=="function"){const O=v.length-1;v[O]=e.from(v[O])}for(let O=0;O<v.length;++O)if(!(!r(v[O])&&!a(v[O]))){if(O<v.length-1&&!(i(v[O])||c(v[O])||s(v[O])))throw new f(`streams[${O}]`,_[O],"must be readable");if(O>0&&!(o(v[O])||l(v[O])||s(v[O])))throw new f(`streams[${O}]`,_[O],"must be writable")}let w,I,k,$,L;function z(O){const y=$;$=null,y?y(O):O?L.destroy(O):!B&&!D&&L.destroy()}const H=v[0],P=t(v,z),D=!!(o(H)||l(H)||s(H)),B=!!(i(P)||c(P)||s(P));if(L=new e({writableObjectMode:!!(H!=null&&H.writableObjectMode),readableObjectMode:!!(P!=null&&P.readableObjectMode),writable:D,readable:B}),D){if(r(H))L._write=function(y,E,S){H.write(y,E)?S():w=S},L._final=function(y){H.end(),I=y},H.on("drain",function(){if(w){const y=w;w=null,y()}});else if(a(H)){const E=(s(H)?H.writable:H).getWriter();L._write=async function(S,C,T){try{await E.ready,E.write(S).catch(()=>{}),T()}catch(j){T(j)}},L._final=async function(S){try{await E.ready,E.close().catch(()=>{}),I=S}catch(C){S(C)}}}const O=s(P)?P.readable:P;g(O,()=>{if(I){const y=I;I=null,y()}})}if(B){if(r(P))P.on("readable",function(){if(k){const O=k;k=null,O()}}),P.on("end",function(){L.push(null)}),L._read=function(){for(;;){const O=P.read();if(O===null){k=L._read;return}if(!L.push(O))return}};else if(a(P)){const y=(s(P)?P.readable:P).getReader();L._read=async function(){for(;;)try{const{value:E,done:S}=await y.read();if(!L.push(E))return;if(S){L.push(null);return}}catch{return}}}}return L._destroy=function(O,y){!O&&$!==null&&(O=new u),k=null,w=null,I=null,$===null?y(O):($=y,r(P)&&n(P,O))},L},Jb}var X6;function uz(){if(X6)return tg;X6=1;const t=globalThis.AbortController||Ph().AbortController,{codes:{ERR_INVALID_ARG_VALUE:e,ERR_INVALID_ARG_TYPE:n,ERR_MISSING_ARGS:r,ERR_OUT_OF_RANGE:i},AbortError:o}=ii(),{validateAbortSignal:a,validateInteger:s,validateObject:l}=Mp(),c=Ln().Symbol("kWeak"),u=Ln().Symbol("kResistStopPropagation"),{finished:f}=Zl(),p=S8(),{addAbortSignalNoValidate:g}=Hv(),{isWritable:m,isNodeStream:v}=Ta(),{deprecate:_}=Ai(),{ArrayPrototypePush:w,Boolean:I,MathFloor:k,Number:$,NumberIsNaN:L,Promise:z,PromiseReject:H,PromiseResolve:P,PromisePrototypeThen:D,Symbol:B}=Ln(),O=B("kEmpty"),y=B("kEof");function E(J,Z){if(Z!=null&&l(Z,"options"),(Z==null?void 0:Z.signal)!=null&&a(Z.signal,"options.signal"),v(J)&&!m(J))throw new e("stream",J,"must be writable");const ee=p(this,J);return Z!=null&&Z.signal&&g(Z.signal,ee),ee}function S(J,Z){if(typeof J!="function")throw new n("fn",["Function","AsyncFunction"],J);Z!=null&&l(Z,"options"),(Z==null?void 0:Z.signal)!=null&&a(Z.signal,"options.signal");let ee=1;(Z==null?void 0:Z.concurrency)!=null&&(ee=k(Z.concurrency));let ie=ee-1;return(Z==null?void 0:Z.highWaterMark)!=null&&(ie=k(Z.highWaterMark)),s(ee,"options.concurrency",1),s(ie,"options.highWaterMark",0),ie+=ee,(async function*(){const X=Ai().AbortSignalAny([Z==null?void 0:Z.signal].filter(I)),ae=this,de=[],me={signal:X};let Ee,ye,ue=!1,_e=0;function Ie(){ue=!0,we()}function we(){_e-=1,Fe()}function Fe(){ye&&!ue&&_e<ee&&de.length<ie&&(ye(),ye=null)}async function He(){try{for await(let Ve of ae){if(ue)return;if(X.aborted)throw new o;try{if(Ve=J(Ve,me),Ve===O)continue;Ve=P(Ve)}catch(Je){Ve=H(Je)}_e+=1,D(Ve,we,Ie),de.push(Ve),Ee&&(Ee(),Ee=null),!ue&&(de.length>=ie||_e>=ee)&&await new z(Je=>{ye=Je})}de.push(y)}catch(Ve){const Je=H(Ve);D(Je,we,Ie),de.push(Je)}finally{ue=!0,Ee&&(Ee(),Ee=null)}}He();try{for(;;){for(;de.length>0;){const Ve=await de[0];if(Ve===y)return;if(X.aborted)throw new o;Ve!==O&&(yield Ve),de.shift(),Fe()}await new z(Ve=>{Ee=Ve})}}finally{ue=!0,ye&&(ye(),ye=null)}}).call(this)}function C(J=void 0){return J!=null&&l(J,"options"),(J==null?void 0:J.signal)!=null&&a(J.signal,"options.signal"),(async function*(){let ee=0;for await(const se of this){var ie;if(J!=null&&(ie=J.signal)!==null&&ie!==void 0&&ie.aborted)throw new o({cause:J.signal.reason});yield[ee++,se]}}).call(this)}async function T(J,Z=void 0){for await(const ee of x.call(this,J,Z))return!0;return!1}async function j(J,Z=void 0){if(typeof J!="function")throw new n("fn",["Function","AsyncFunction"],J);return!await T.call(this,async(...ee)=>!await J(...ee),Z)}async function A(J,Z){for await(const ee of x.call(this,J,Z))return ee}async function M(J,Z){if(typeof J!="function")throw new n("fn",["Function","AsyncFunction"],J);async function ee(ie,se){return await J(ie,se),O}for await(const ie of S.call(this,ee,Z));}function x(J,Z){if(typeof J!="function")throw new n("fn",["Function","AsyncFunction"],J);async function ee(ie,se){return await J(ie,se)?ie:O}return S.call(this,ee,Z)}class R extends r{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function F(J,Z,ee){var ie;if(typeof J!="function")throw new n("reducer",["Function","AsyncFunction"],J);ee!=null&&l(ee,"options"),(ee==null?void 0:ee.signal)!=null&&a(ee.signal,"options.signal");let se=arguments.length>1;if(ee!=null&&(ie=ee.signal)!==null&&ie!==void 0&&ie.aborted){const Ee=new o(void 0,{cause:ee.signal.reason});throw this.once("error",()=>{}),await f(this.destroy(Ee)),Ee}const X=new t,ae=X.signal;if(ee!=null&&ee.signal){const Ee={once:!0,[c]:this,[u]:!0};ee.signal.addEventListener("abort",()=>X.abort(),Ee)}let de=!1;try{for await(const Ee of this){var me;if(de=!0,ee!=null&&(me=ee.signal)!==null&&me!==void 0&&me.aborted)throw new o;se?Z=await J(Z,Ee,{signal:ae}):(Z=Ee,se=!0)}if(!de&&!se)throw new R}finally{X.abort()}return Z}async function U(J){J!=null&&l(J,"options"),(J==null?void 0:J.signal)!=null&&a(J.signal,"options.signal");const Z=[];for await(const ie of this){var ee;if(J!=null&&(ee=J.signal)!==null&&ee!==void 0&&ee.aborted)throw new o(void 0,{cause:J.signal.reason});w(Z,ie)}return Z}function K(J,Z){const ee=S.call(this,J,Z);return(async function*(){for await(const se of ee)yield*se}).call(this)}function G(J){if(J=$(J),L(J))return 0;if(J<0)throw new i("number",">= 0",J);return J}function Q(J,Z=void 0){return Z!=null&&l(Z,"options"),(Z==null?void 0:Z.signal)!=null&&a(Z.signal,"options.signal"),J=G(J),(async function*(){var ie;if(Z!=null&&(ie=Z.signal)!==null&&ie!==void 0&&ie.aborted)throw new o;for await(const X of this){var se;if(Z!=null&&(se=Z.signal)!==null&&se!==void 0&&se.aborted)throw new o;J--<=0&&(yield X)}}).call(this)}function ne(J,Z=void 0){return Z!=null&&l(Z,"options"),(Z==null?void 0:Z.signal)!=null&&a(Z.signal,"options.signal"),J=G(J),(async function*(){var ie;if(Z!=null&&(ie=Z.signal)!==null&&ie!==void 0&&ie.aborted)throw new o;for await(const X of this){var se;if(Z!=null&&(se=Z.signal)!==null&&se!==void 0&&se.aborted)throw new o;if(J-- >0&&(yield X),J<=0)return}}).call(this)}return tg.streamReturningOperators={asIndexedPairs:_(C,"readable.asIndexedPairs will be removed in a future version."),drop:Q,filter:x,flatMap:K,map:S,take:ne,compose:E},tg.promiseReturningOperators={every:j,forEach:M,reduce:F,toArray:U,some:T,find:A},tg}var Zb,eA;function C8(){if(eA)return Zb;eA=1;const{ArrayPrototypePop:t,Promise:e}=Ln(),{isIterable:n,isNodeStream:r,isWebStream:i}=Ta(),{pipelineImpl:o}=jx(),{finished:a}=Zl();A8();function s(...l){return new e((c,u)=>{let f,p;const g=l[l.length-1];if(g&&typeof g=="object"&&!r(g)&&!n(g)&&!i(g)){const m=t(l);f=m.signal,p=m.end}o(l,(m,v)=>{m?u(m):c(v)},{signal:f,end:p})})}return Zb={finished:a,pipeline:s},Zb}var tA;function A8(){if(tA)return Mb.exports;tA=1;const{Buffer:t}=ka(),{ObjectDefineProperty:e,ObjectKeys:n,ReflectApply:r}=Ln(),{promisify:{custom:i}}=Ai(),{streamReturningOperators:o,promiseReturningOperators:a}=uz(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:s}}=ii(),l=S8(),{setDefaultHighWaterMark:c,getDefaultHighWaterMark:u}=Wv(),{pipeline:f}=jx(),{destroyer:p}=tf(),g=Zl(),m=C8(),v=Ta(),_=Mb.exports=Dx().Stream;_.isDestroyed=v.isDestroyed,_.isDisturbed=v.isDisturbed,_.isErrored=v.isErrored,_.isReadable=v.isReadable,_.isWritable=v.isWritable,_.Readable=Kv();for(const I of n(o)){let $=function(...L){if(new.target)throw s();return _.Readable.from(r(k,this,L))};const k=o[I];e($,"name",{__proto__:null,value:k.name}),e($,"length",{__proto__:null,value:k.length}),e(_.Readable.prototype,I,{__proto__:null,value:$,enumerable:!1,configurable:!0,writable:!0})}for(const I of n(a)){let $=function(...L){if(new.target)throw s();return r(k,this,L)};const k=a[I];e($,"name",{__proto__:null,value:k.name}),e($,"length",{__proto__:null,value:k.length}),e(_.Readable.prototype,I,{__proto__:null,value:$,enumerable:!1,configurable:!0,writable:!0})}_.Writable=Bx(),_.Duplex=Aa(),_.Transform=x8(),_.PassThrough=_8(),_.pipeline=f;const{addAbortSignal:w}=Hv();return _.addAbortSignal=w,_.finished=g,_.destroy=p,_.compose=l,_.setDefaultHighWaterMark=c,_.getDefaultHighWaterMark=u,e(_,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return m}}),e(f,i,{__proto__:null,enumerable:!0,get(){return m.pipeline}}),e(g,i,{__proto__:null,enumerable:!0,get(){return m.finished}}),_.Stream=_,_._isUint8Array=function(k){return k instanceof Uint8Array},_._uint8ArrayToBuffer=function(k){return t.from(k.buffer,k.byteOffset,k.byteLength)},Mb.exports}var nA;function dz(){return nA||(nA=1,function(t){const e=A8(),n=C8(),r=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=r,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return n}}),t.exports.Stream=e.Stream,t.exports.default=t.exports}(kb)),kb.exports}var fz=dz();function rA(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}function hz(t){const e=t.length,n=new Array(e);for(let r=0;r<e;r+=1)n[r]=t[r];return n}class Ql extends Fv.EventEmitter{emit(e,...n){let r=e==="error";const i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let a;if(n.length>0&&([a]=n),a instanceof Error)throw a;const s=new Error(`Unhandled error.${a?` (${a.message})`:""}`);throw s.context=a,s}const o=i[e];if(o===void 0)return!1;if(typeof o=="function")rA(o,this,n);else{const a=o.length,s=hz(o);for(let l=0;l<a;l+=1)rA(s[l],this,n)}return!0}}class Hf extends Error{constructor({code:e,message:n,data:r}){if(!Number.isInteger(e))throw new Error("code must be an integer");if(!n||typeof n!="string")throw new Error("message must be string");super(n),Ae(this,"code",void 0),Ae(this,"data",void 0),this.code=e,r!==void 0&&(this.data=r)}toString(){return VR({code:this.code,message:this.message,data:this.data,stack:this.stack})}}const _r={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},iA={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};var I8=function(t,e){if(typeof t>"u"||t===null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)};const oA=_r.rpc.internal,pz="Unspecified error message. This is a bug, please report it.",gz="Unspecified server error.";function k8(t){return Number.isInteger(t)}function sA(t){return typeof t=="string"&&t.length>0}function $m(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}function mz(t){if(typeof t!="object"||t===null)return!1;try{let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}catch{return!1}}function vz(t){return t>=-32099&&t<=-32e3}function M8(t){const e=t;return!(!e||!k8(e.code)||!sA(e.message)||e.stack&&!sA(e.stack))}function Vv(t,e=pz){if(k8(t)){const n=t.toString();if(I8(iA,n))return iA[n].message;if(vz(t))return gz}return e}const yz={code:oA,message:Vv(oA)};function W2(t){try{JSON.parse(JSON.stringify(t,(e,n)=>{if(e==="__proto__"||e==="constructor")throw new Error("Not valid json");if(typeof n=="function"||typeof n=="symbol")throw new Error("Not valid json");return n}),(e,n)=>{if(!(e==="__proto__"||e==="constructor"))return n})}catch{return!1}return!0}function aA(t){return Object.getOwnPropertyNames(t).reduce((e,n)=>{const r=t[n];return W2(r)&&(e[n]=r),e},{})}function O8(t){return Array.isArray(t)?t.map(e=>W2(e)?e:$m(e)?aA(e):null):$m(t)?aA(t):W2(t)?t:null}function wz(t,e){if(t&&typeof t=="object"&&"serialize"in t&&typeof t.serialize=="function")return t.serialize();if(M8(t))return t;const n=O8(t);return be(be({},e),{},{data:{cause:n}})}function K2(t,{fallbackError:e=yz,shouldIncludeStack:n=!0}={}){if(!M8(e))throw new Error("Must provide fallback error with integer number code and string message.");const r=wz(t,e);return n||delete r.stack,r}function bz(t){return $m(t)&&I8(t,"cause")&&$m(t.cause)}var Ez=function(t,e){if(typeof t>"u"||t===null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)};function xz(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function _z(t,e){if(e!=="[Circular]")return e}class R8 extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a non-empty string.');bz(r)?(super(n,{cause:r.cause}),Ae(this,"cause",void 0),Ae(this,"code",void 0),Ae(this,"data",void 0),Ez(this,"cause")||Object.assign(this,{cause:r.cause})):(super(n),Ae(this,"cause",void 0),Ae(this,"code",void 0),Ae(this,"data",void 0)),r!==void 0&&(this.data=r),this.code=e,this.cause=r==null?void 0:r.cause}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data,mz(this.data)&&(e.data.cause=O8(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return VR(this.serialize(),{replacer:_z,space:2})}}class T8 extends R8{constructor(e,n,r){if(!xz(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}function P8(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e??void 0,n]}}return[]}function Xi(t,e){const[n,r]=P8(e);return new R8(t,n??Vv(t),r)}function Wf(t,e){const[n,r]=P8(e);return new T8(t,n??Vv(t),r)}const ba={parse:t=>Xi(_r.rpc.parse,t),invalidRequest:t=>Xi(_r.rpc.invalidRequest,t),invalidParams:t=>Xi(_r.rpc.invalidParams,t),methodNotFound:t=>Xi(_r.rpc.methodNotFound,t),internal:t=>Xi(_r.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Xi(e,t)},invalidInput:t=>Xi(_r.rpc.invalidInput,t),resourceNotFound:t=>Xi(_r.rpc.resourceNotFound,t),resourceUnavailable:t=>Xi(_r.rpc.resourceUnavailable,t),transactionRejected:t=>Xi(_r.rpc.transactionRejected,t),methodNotSupported:t=>Xi(_r.rpc.methodNotSupported,t),limitExceeded:t=>Xi(_r.rpc.limitExceeded,t)},lA={userRejectedRequest:t=>Wf(_r.provider.userRejectedRequest,t),unauthorized:t=>Wf(_r.provider.unauthorized,t),unsupportedMethod:t=>Wf(_r.provider.unsupportedMethod,t),disconnected:t=>Wf(_r.provider.disconnected,t),chainDisconnected:t=>Wf(_r.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new T8(e,n,r)}},Toe=(t,e,n=!0)=>(r,i)=>{r||i.error?e(r||i.error):!n||Array.isArray(i)?t(i):t(i.result)};function Poe(){const t={};function e(){return!1}const n=new Ql;function r(l){const c=t[l.id];if(!c)throw new Error(`StreamMiddleware - Unknown response id "${l.id}"`);delete t[l.id],Object.assign(c.res,l),setTimeout(c.end)}function i(l){n.emit("notification",l)}function o(l,c,u){let f;try{!l.id?i(l):r(l)}catch(p){f=p}u(f)}const a=new fz.Duplex({objectMode:!0,read:e,write:o});return{events:n,middleware:(l,c,u,f)=>{a.push(l),t[l.id]={req:l,res:c,next:u,end:f}},stream:a}}function Noe(t){return(e,n,r,i)=>{const o=t[e.method];return o===void 0?r():typeof o=="function"?o(e,n,r,i):(n.result=o,i())}}function Loe(){return(t,e,n,r)=>{const i=t.id,o=Math.random().toString(36).slice(2);t.id=o,e.id=o,n(a=>{t.id=i,e.id=i,a()})}}function Sz(t){return async(e,n,r,i)=>{let o;const a=new Promise(u=>{o=u});let s=null,l=!1;const c=async()=>{l=!0,r(u=>{s=u,o()}),await a};try{await t(e,n,c),l?(await a,s(null)):i(null)}catch(u){const f=u;s?s(f):i(f)}}}function V2(t){const{message:e="",code:n=-32603,stack:r="Stack trace is not available.",data:i=""}=t,o=parseInt((n==null?void 0:n.toString())||"-32603");return{message:e||(t==null?void 0:t.toString())||Vv(o),code:o,stack:r,data:i||e||(t==null?void 0:t.toString())}}class ps extends Ql{constructor(){super(),Ae(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,n,r){const i=[];let o=null,a=!1;for(const s of r)if([o,a]=await ps._runMiddleware(e,n,s,i),a)break;return[o,a,i.reverse()]}static _runMiddleware(e,n,r,i){return new Promise(o=>{const a=l=>{const c=l||n.error;c&&(typeof c=="object"&&Object.keys(c).includes("stack")===!1&&(c.stack="Stack trace is not available."),Ca.error(c),n.error=K2(c,{shouldIncludeStack:!0,fallbackError:V2(c)})),o([c,!0])},s=l=>{n.error?a(n.error):(l&&(typeof l!="function"&&a(new Hf({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),i.push(l)),o([null,!1]))};try{r(e,n,s,a)}catch(l){a(l)}})}static async _runReturnHandlers(e){for(const n of e)await new Promise((r,i)=>{n(o=>o?i(o):r())})}static _checkForCompletion(e,n,r){if(!("result"in n)&&!("error"in n))throw new Hf({code:-32603,message:"Response has no error or result for request"});if(!r)throw new Hf({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,n){if(n&&typeof n!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?n?this._handleBatch(e,n):this._handleBatch(e):n?this._handle(e,n):this._promiseHandle(e)}asMiddleware(){return async(e,n,r,i)=>{try{const[o,a,s]=await ps._runAllMiddleware(e,n,this._middleware);return a?(await ps._runReturnHandlers(s),i(o)):r(async l=>{try{await ps._runReturnHandlers(s)}catch(c){return l(c)}return l()})}catch(o){return i(o)}}}async _handleBatch(e,n){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return n?n(null,r):r}catch(r){if(n)return n(r);throw r}}_promiseHandle(e){return new Promise((n,r)=>{this._handle(e,(i,o)=>{i&&o===void 0?r(i):n(o)}).catch(r)})}async _handle(e,n){if(!e||Array.isArray(e)||typeof e!="object"){const a=new Hf({code:-32603,message:"request must be plain object"});return n(a,{id:void 0,jsonrpc:"2.0",error:a})}if(typeof e.method!="string"){const a=new Hf({code:-32603,message:"method must be string"});return n(a,{id:e.id,jsonrpc:"2.0",error:a})}const r=be({},e),i={id:r.id,jsonrpc:r.jsonrpc};let o=null;try{await this._processRequest(r,i)}catch(a){o=a}return o&&(delete i.result,i.error||(typeof o=="object"&&Object.keys(o).includes("stack")===!1&&(o.stack="Stack trace is not available."),Ca.error(o),i.error=K2(o,{shouldIncludeStack:!0,fallbackError:V2(o)}))),n(o,i)}async _processRequest(e,n){const[r,i,o]=await ps._runAllMiddleware(e,n,this._middleware);if(ps._checkForCompletion(e,n,i),await ps._runReturnHandlers(o),r)throw r}}function Cz(t){const e=new ps;return t.forEach(n=>{e.push(n)}),e.asMiddleware()}function Az(t){const e=new Ql;return e.sendAsync=async n=>{const r=await t.handle(n);if(r.error){typeof r.error=="object"&&Object.keys(r.error).includes("stack")===!1&&(r.error.stack="Stack trace is not available."),Ca.error(r.error);const i=K2(r.error,{fallbackError:V2(r.error),shouldIncludeStack:!0});throw ba.internal(i)}return r.result},e.send=(n,r)=>{if(typeof r!="function")throw new Error('Must provide callback to "send" method.');t.handle(n,r)},t.on&&t.on("notification",n=>{e.emit("data",null,n)}),e.request=async n=>{const r=be(be({},n),{},{id:Math.random().toString(36).slice(2),jsonrpc:"2.0"});return await e.sendAsync(r)},e}function cA(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function Iz(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Gv(t,...e){if(!Iz(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function kz(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");cA(t.outputLen),cA(t.blockLen)}function Fm(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Mz(t,e){Gv(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Qb=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xb=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ls=(t,e)=>t<<32-e|t>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function Oz(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function $x(t){return typeof t=="string"&&(t=Oz(t)),Gv(t),t}function Rz(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Gv(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}class N8{clone(){return this._cloneInto()}}function Tz(t){const e=r=>t().update($x(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Pz(t=32){if(Qb&&typeof Qb.getRandomValues=="function")return Qb.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function Nz(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),l=r?4:0,c=r?0:4;t.setUint32(e+l,a,r),t.setUint32(e+c,s,r)}const Lz=(t,e,n)=>t&e^~t&n,Dz=(t,e,n)=>t&e^t&n^e&n;class Bz extends N8{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Xb(this.buffer)}update(e){Fm(this);const{view:n,buffer:r,blockLen:i}=this;e=$x(e);const o=e.length;for(let a=0;a<o;){const s=Math.min(i-this.pos,o-a);if(s===i){const l=Xb(e);for(;i<=o-a;a+=i)this.process(l,a);continue}r.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Fm(this),Mz(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let f=a;f<i;f++)n[f]=0;Nz(r,i-8,BigInt(this.length*8),o),this.process(r,0);const s=Xb(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)s.setUint32(4*f,u[f],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:a,pos:s}=this;return e.length=i,e.pos=s,e.finished=o,e.destroyed=a,i%n&&e.buffer.set(r),e}}const jz=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),nl=new Uint32Array(64);class $z extends Bz{constructor(){super(64,32,8,!1),this.A=tl[0]|0,this.B=tl[1]|0,this.C=tl[2]|0,this.D=tl[3]|0,this.E=tl[4]|0,this.F=tl[5]|0,this.G=tl[6]|0,this.H=tl[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:a,G:s,H:l}=this;return[e,n,r,i,o,a,s,l]}set(e,n,r,i,o,a,s,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=a|0,this.G=s|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)nl[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const p=nl[f-15],g=nl[f-2],m=ls(p,7)^ls(p,18)^p>>>3,v=ls(g,17)^ls(g,19)^g>>>10;nl[f]=v+nl[f-7]+m+nl[f-16]|0}let{A:r,B:i,C:o,D:a,E:s,F:l,G:c,H:u}=this;for(let f=0;f<64;f++){const p=ls(s,6)^ls(s,11)^ls(s,25),g=u+p+Lz(s,l,c)+jz[f]+nl[f]|0,v=(ls(r,2)^ls(r,13)^ls(r,22))+Dz(r,i,o)|0;u=c,c=l,l=s,s=a+g|0,a=o,o=i,i=r,r=g+v|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,a=a+this.D|0,s=s+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,o,a,s,l,c,u)}roundClean(){nl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Fz=Tz(()=>new $z);class L8 extends N8{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,kz(e);const r=$x(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=e.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),o.fill(0)}update(e){return Fm(this),this.iHash.update(e),this}digestInto(e){Fm(this),Gv(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:a,outputLen:s}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=a,e.outputLen=s,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const D8=(t,e,n)=>new L8(t,e).update(n).digest();D8.create=(t,e)=>new L8(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const B8=BigInt(0),Yv=BigInt(1),Uz=BigInt(2);function uu(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Op(t){if(!uu(t))throw new Error("Uint8Array expected")}const zz=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ud(t){Op(t);let e="";for(let n=0;n<t.length;n++)e+=zz[t[n]];return e}function j8(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function Fx(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const Gs={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function uA(t){if(t>=Gs._0&&t<=Gs._9)return t-Gs._0;if(t>=Gs._A&&t<=Gs._F)return t-(Gs._A-10);if(t>=Gs._a&&t<=Gs._f)return t-(Gs._a-10)}function zd(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const a=uA(t.charCodeAt(o)),s=uA(t.charCodeAt(o+1));if(a===void 0||s===void 0){const l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=a*16+s}return r}function iu(t){return Fx(Ud(t))}function Ux(t){return Op(t),Fx(Ud(Uint8Array.from(t).reverse()))}function qd(t,e){return zd(t.toString(16).padStart(e*2,"0"))}function zx(t,e){return qd(t,e).reverse()}function qz(t){return zd(j8(t))}function Do(t,e,n){let r;if(typeof e=="string")try{r=zd(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(uu(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function Nh(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Op(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}function Hz(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function Wz(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Kz(t){let e;for(e=0;t>B8;t>>=Yv,e+=1);return e}function Vz(t,e){return t>>BigInt(e)&Yv}function Gz(t,e,n){return t|(n?Yv:B8)<<BigInt(e)}const qx=t=>(Uz<<BigInt(t-1))-Yv,e3=t=>new Uint8Array(t),dA=t=>Uint8Array.from(t);function $8(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=e3(t),i=e3(t),o=0;const a=()=>{r.fill(1),i.fill(0),o=0},s=(...f)=>n(i,r,...f),l=(f=e3())=>{i=s(dA([0]),f),r=s(),f.length!==0&&(i=s(dA([1]),f),r=s())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<e;){r=s();const g=r.slice();p.push(g),f+=r.length}return Nh(...p)};return(f,p)=>{a(),l(f);let g;for(;!(g=p(c()));)l();return a(),g}}const Yz={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||uu(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Rp(t,e,n={}){const r=(i,o,a)=>{const s=Yz[o];if(typeof s!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=t[i];if(!(a&&l===void 0)&&!s(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(const[i,o]of Object.entries(e))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return t}const Jz=Object.freeze(Object.defineProperty({__proto__:null,abytes:Op,bitGet:Vz,bitLen:Kz,bitMask:qx,bitSet:Gz,bytesToHex:Ud,bytesToNumberBE:iu,bytesToNumberLE:Ux,concatBytes:Nh,createHmacDrbg:$8,ensureBytes:Do,equalBytes:Hz,hexToBytes:zd,hexToNumber:Fx,isBytes:uu,numberToBytesBE:qd,numberToBytesLE:zx,numberToHexUnpadded:j8,numberToVarBytesBE:qz,utf8ToBytes:Wz,validateObject:Rp},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mr=BigInt(0),Yn=BigInt(1),$c=BigInt(2),Zz=BigInt(3),G2=BigInt(4),fA=BigInt(5),hA=BigInt(8);BigInt(9);BigInt(16);function _i(t,e){const n=t%e;return n>=mr?n:e+n}function Qz(t,e,n){if(n<=mr||e<mr)throw new Error("Expected power/modulo > 0");if(n===Yn)return mr;let r=Yn;for(;e>mr;)e&Yn&&(r=r*t%n),t=t*t%n,e>>=Yn;return r}function eo(t,e,n){let r=t;for(;e-- >mr;)r*=r,r%=n;return r}function Y2(t,e){if(t===mr||e<=mr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=_i(t,e),r=e,i=mr,o=Yn;for(;n!==mr;){const s=r/n,l=r%n,c=i-o*s;r=n,n=l,i=o,o=c}if(r!==Yn)throw new Error("invert: does not exist");return _i(i,e)}function Xz(t){const e=(t-Yn)/$c;let n,r,i;for(n=t-Yn,r=0;n%$c===mr;n/=$c,r++);for(i=$c;i<t&&Qz(i,e,t)!==t-Yn;i++);if(r===1){const a=(t+Yn)/G2;return function(l,c){const u=l.pow(c,a);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const o=(n+Yn)/$c;return function(s,l){if(s.pow(l,e)===s.neg(s.ONE))throw new Error("Cannot find square root");let c=r,u=s.pow(s.mul(s.ONE,i),n),f=s.pow(l,o),p=s.pow(l,n);for(;!s.eql(p,s.ONE);){if(s.eql(p,s.ZERO))return s.ZERO;let g=1;for(let v=s.sqr(p);g<c&&!s.eql(v,s.ONE);g++)v=s.sqr(v);const m=s.pow(u,Yn<<BigInt(c-g-1));u=s.sqr(m),f=s.mul(f,m),p=s.mul(p,u),c=g}return f}}function eq(t){if(t%G2===Zz){const e=(t+Yn)/G2;return function(r,i){const o=r.pow(i,e);if(!r.eql(r.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%hA===fA){const e=(t-fA)/hA;return function(r,i){const o=r.mul(i,$c),a=r.pow(o,e),s=r.mul(i,a),l=r.mul(r.mul(s,$c),a),c=r.mul(s,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return Xz(t)}const tq=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function nq(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=tq.reduce((r,i)=>(r[i]="function",r),e);return Rp(t,n)}function rq(t,e,n){if(n<mr)throw new Error("Expected power > 0");if(n===mr)return t.ONE;if(n===Yn)return e;let r=t.ONE,i=e;for(;n>mr;)n&Yn&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Yn;return r}function iq(t,e){const n=new Array(e.length),r=e.reduce((o,a,s)=>t.is0(a)?o:(n[s]=o,t.mul(o,a)),t.ONE),i=t.inv(r);return e.reduceRight((o,a,s)=>t.is0(a)?o:(n[s]=t.mul(o,n[s]),t.mul(o,a)),i),n}function F8(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function oq(t,e,n=!1,r={}){if(t<=mr)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:o}=F8(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=eq(t),s=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:qx(i),ZERO:mr,ONE:Yn,create:l=>_i(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return mr<=l&&l<t},is0:l=>l===mr,isOdd:l=>(l&Yn)===Yn,neg:l=>_i(-l,t),eql:(l,c)=>l===c,sqr:l=>_i(l*l,t),add:(l,c)=>_i(l+c,t),sub:(l,c)=>_i(l-c,t),mul:(l,c)=>_i(l*c,t),pow:(l,c)=>rq(s,l,c),div:(l,c)=>_i(l*Y2(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>Y2(l,t),sqrt:r.sqrt||(l=>a(s,l)),invertBatch:l=>iq(s,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?zx(l,o):qd(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return n?Ux(l):iu(l)}});return Object.freeze(s)}function U8(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function z8(t){const e=U8(t);return e+Math.ceil(e/2)}function sq(t,e,n=!1){const r=t.length,i=U8(e),o=z8(e);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const a=n?iu(t):Ux(t),s=_i(a,e-Yn)+Yn;return n?zx(s,i):qd(s,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const aq=BigInt(0),t3=BigInt(1);function lq(t,e){const n=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:n,unsafeLadder(i,o){let a=t.ZERO,s=i;for(;o>aq;)o&t3&&(a=a.add(s)),s=s.double(),o>>=t3;return a},precomputeWindow(i,o){const{windows:a,windowSize:s}=r(o),l=[];let c=i,u=c;for(let f=0;f<a;f++){u=c,l.push(u);for(let p=1;p<s;p++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(i,o,a){const{windows:s,windowSize:l}=r(i);let c=t.ZERO,u=t.BASE;const f=BigInt(2**i-1),p=2**i,g=BigInt(i);for(let m=0;m<s;m++){const v=m*l;let _=Number(a&f);a>>=g,_>l&&(_-=p,a+=t3);const w=v,I=v+Math.abs(_)-1,k=m%2!==0,$=_<0;_===0?u=u.add(n(k,o[w])):c=c.add(n($,o[I]))}return{p:c,f:u}},wNAFCached(i,o,a,s){const l=i._WINDOW_SIZE||1;let c=o.get(i);return c||(c=this.precomputeWindow(i,l),l!==1&&o.set(i,s(c))),this.wNAF(l,c,a)}}}function q8(t){return nq(t.Fp),Rp(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...F8(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function cq(t){const e=q8(t);Rp(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:uq,hexToBytes:dq}=Jz,qc={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=qc;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:uq(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=qc,n=typeof t=="string"?dq(t):t;Op(n);let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:o}=qc._parseInt(n.subarray(2)),{d:a,l:s}=qc._parseInt(o);if(s.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(t){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},r=e(n(t.s)),i=e(n(t.r)),o=r.length/2,a=i.length/2,s=n(o),l=n(a);return`30${n(a+o+4)}02${l}${i}02${s}${r}`}},da=BigInt(0),ho=BigInt(1);BigInt(2);const pA=BigInt(3);BigInt(4);function fq(t){const e=cq(t),{Fp:n}=e,r=e.toBytes||((m,v,_)=>{const w=v.toAffine();return Nh(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),i=e.fromBytes||(m=>{const v=m.subarray(1),_=n.fromBytes(v.subarray(0,n.BYTES)),w=n.fromBytes(v.subarray(n.BYTES,2*n.BYTES));return{x:_,y:w}});function o(m){const{a:v,b:_}=e,w=n.sqr(m),I=n.mul(w,m);return n.add(n.add(I,n.mul(m,v)),_)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(m){return typeof m=="bigint"&&da<m&&m<e.n}function s(m){if(!a(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(m){const{allowedPrivateKeyLengths:v,nByteLength:_,wrapPrivateKey:w,n:I}=e;if(v&&typeof m!="bigint"){if(uu(m)&&(m=Ud(m)),typeof m!="string"||!v.includes(m.length))throw new Error("Invalid key");m=m.padStart(_*2,"0")}let k;try{k=typeof m=="bigint"?m:iu(Do("private key",m,_))}catch{throw new Error(`private key must be ${_} bytes, hex or bigint, not ${typeof m}`)}return w&&(k=_i(k,I)),s(k),k}const c=new Map;function u(m){if(!(m instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(v,_,w){if(this.px=v,this.py=_,this.pz=w,v==null||!n.isValid(v))throw new Error("x required");if(_==null||!n.isValid(_))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required")}static fromAffine(v){const{x:_,y:w}=v||{};if(!v||!n.isValid(_)||!n.isValid(w))throw new Error("invalid affine point");if(v instanceof f)throw new Error("projective point not allowed");const I=k=>n.eql(k,n.ZERO);return I(_)&&I(w)?f.ZERO:new f(_,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const _=n.invertBatch(v.map(w=>w.pz));return v.map((w,I)=>w.toAffine(_[I])).map(f.fromAffine)}static fromHex(v){const _=f.fromAffine(i(Do("pointHex",v)));return _.assertValidity(),_}static fromPrivateKey(v){return f.BASE.multiply(l(v))}_setWindowSize(v){this._WINDOW_SIZE=v,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:_}=this.toAffine();if(!n.isValid(v)||!n.isValid(_))throw new Error("bad point: x or y not FE");const w=n.sqr(_),I=o(v);if(!n.eql(w,I))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(n.isOdd)return!n.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){u(v);const{px:_,py:w,pz:I}=this,{px:k,py:$,pz:L}=v,z=n.eql(n.mul(_,L),n.mul(k,I)),H=n.eql(n.mul(w,L),n.mul($,I));return z&&H}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:v,b:_}=e,w=n.mul(_,pA),{px:I,py:k,pz:$}=this;let L=n.ZERO,z=n.ZERO,H=n.ZERO,P=n.mul(I,I),D=n.mul(k,k),B=n.mul($,$),O=n.mul(I,k);return O=n.add(O,O),H=n.mul(I,$),H=n.add(H,H),L=n.mul(v,H),z=n.mul(w,B),z=n.add(L,z),L=n.sub(D,z),z=n.add(D,z),z=n.mul(L,z),L=n.mul(O,L),H=n.mul(w,H),B=n.mul(v,B),O=n.sub(P,B),O=n.mul(v,O),O=n.add(O,H),H=n.add(P,P),P=n.add(H,P),P=n.add(P,B),P=n.mul(P,O),z=n.add(z,P),B=n.mul(k,$),B=n.add(B,B),P=n.mul(B,O),L=n.sub(L,P),H=n.mul(B,D),H=n.add(H,H),H=n.add(H,H),new f(L,z,H)}add(v){u(v);const{px:_,py:w,pz:I}=this,{px:k,py:$,pz:L}=v;let z=n.ZERO,H=n.ZERO,P=n.ZERO;const D=e.a,B=n.mul(e.b,pA);let O=n.mul(_,k),y=n.mul(w,$),E=n.mul(I,L),S=n.add(_,w),C=n.add(k,$);S=n.mul(S,C),C=n.add(O,y),S=n.sub(S,C),C=n.add(_,I);let T=n.add(k,L);return C=n.mul(C,T),T=n.add(O,E),C=n.sub(C,T),T=n.add(w,I),z=n.add($,L),T=n.mul(T,z),z=n.add(y,E),T=n.sub(T,z),P=n.mul(D,C),z=n.mul(B,E),P=n.add(z,P),z=n.sub(y,P),P=n.add(y,P),H=n.mul(z,P),y=n.add(O,O),y=n.add(y,O),E=n.mul(D,E),C=n.mul(B,C),y=n.add(y,E),E=n.sub(O,E),E=n.mul(D,E),C=n.add(C,E),O=n.mul(y,C),H=n.add(H,O),O=n.mul(T,C),z=n.mul(S,z),z=n.sub(z,O),O=n.mul(S,y),P=n.mul(T,P),P=n.add(P,O),new f(z,H,P)}subtract(v){return this.add(v.negate())}is0(){return this.equals(f.ZERO)}wNAF(v){return g.wNAFCached(this,c,v,_=>{const w=n.invertBatch(_.map(I=>I.pz));return _.map((I,k)=>I.toAffine(w[k])).map(f.fromAffine)})}multiplyUnsafe(v){const _=f.ZERO;if(v===da)return _;if(s(v),v===ho)return this;const{endo:w}=e;if(!w)return g.unsafeLadder(this,v);let{k1neg:I,k1:k,k2neg:$,k2:L}=w.splitScalar(v),z=_,H=_,P=this;for(;k>da||L>da;)k&ho&&(z=z.add(P)),L&ho&&(H=H.add(P)),P=P.double(),k>>=ho,L>>=ho;return I&&(z=z.negate()),$&&(H=H.negate()),H=new f(n.mul(H.px,w.beta),H.py,H.pz),z.add(H)}multiply(v){s(v);let _=v,w,I;const{endo:k}=e;if(k){const{k1neg:$,k1:L,k2neg:z,k2:H}=k.splitScalar(_);let{p:P,f:D}=this.wNAF(L),{p:B,f:O}=this.wNAF(H);P=g.constTimeNegate($,P),B=g.constTimeNegate(z,B),B=new f(n.mul(B.px,k.beta),B.py,B.pz),w=P.add(B),I=D.add(O)}else{const{p:$,f:L}=this.wNAF(_);w=$,I=L}return f.normalizeZ([w,I])[0]}multiplyAndAddUnsafe(v,_,w){const I=f.BASE,k=(L,z)=>z===da||z===ho||!L.equals(I)?L.multiplyUnsafe(z):L.multiply(z),$=k(this,_).add(k(v,w));return $.is0()?void 0:$}toAffine(v){const{px:_,py:w,pz:I}=this,k=this.is0();v==null&&(v=k?n.ONE:n.inv(I));const $=n.mul(_,v),L=n.mul(w,v),z=n.mul(I,v);if(k)return{x:n.ZERO,y:n.ZERO};if(!n.eql(z,n.ONE))throw new Error("invZ was invalid");return{x:$,y:L}}isTorsionFree(){const{h:v,isTorsionFree:_}=e;if(v===ho)return!0;if(_)return _(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:_}=e;return v===ho?this:_?_(f,this):this.multiplyUnsafe(e.h)}toRawBytes(v=!0){return this.assertValidity(),r(f,this,v)}toHex(v=!0){return Ud(this.toRawBytes(v))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const p=e.nBitLength,g=lq(f,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:a}}function hq(t){const e=q8(t);return Rp(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function pq(t){const e=hq(t),{Fp:n,n:r}=e,i=n.BYTES+1,o=2*n.BYTES+1;function a(C){return da<C&&C<n.ORDER}function s(C){return _i(C,r)}function l(C){return Y2(C,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:p}=fq({...e,toBytes(C,T,j){const A=T.toAffine(),M=n.toBytes(A.x),x=Nh;return j?x(Uint8Array.from([T.hasEvenY()?2:3]),M):x(Uint8Array.from([4]),M,n.toBytes(A.y))},fromBytes(C){const T=C.length,j=C[0],A=C.subarray(1);if(T===i&&(j===2||j===3)){const M=iu(A);if(!a(M))throw new Error("Point is not on curve");const x=f(M);let R;try{R=n.sqrt(x)}catch(K){const G=K instanceof Error?": "+K.message:"";throw new Error("Point is not on curve"+G)}const F=(R&ho)===ho;return(j&1)===1!==F&&(R=n.neg(R)),{x:M,y:R}}else if(T===o&&j===4){const M=n.fromBytes(A.subarray(0,n.BYTES)),x=n.fromBytes(A.subarray(n.BYTES,2*n.BYTES));return{x:M,y:x}}else throw new Error(`Point of length ${T} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),g=C=>Ud(qd(C,e.nByteLength));function m(C){const T=r>>ho;return C>T}function v(C){return m(C)?s(-C):C}const _=(C,T,j)=>iu(C.slice(T,j));class w{constructor(T,j,A){this.r=T,this.s=j,this.recovery=A,this.assertValidity()}static fromCompact(T){const j=e.nByteLength;return T=Do("compactSignature",T,j*2),new w(_(T,0,j),_(T,j,2*j))}static fromDER(T){const{r:j,s:A}=qc.toSig(Do("DER",T));return new w(j,A)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(T){return new w(this.r,this.s,T)}recoverPublicKey(T){const{r:j,s:A,recovery:M}=this,x=H(Do("msgHash",T));if(M==null||![0,1,2,3].includes(M))throw new Error("recovery id invalid");const R=M===2||M===3?j+e.n:j;if(R>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const F=(M&1)===0?"02":"03",U=c.fromHex(F+g(R)),K=l(R),G=s(-x*K),Q=s(A*K),ne=c.BASE.multiplyAndAddUnsafe(U,G,Q);if(!ne)throw new Error("point at infinify");return ne.assertValidity(),ne}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return zd(this.toDERHex())}toDERHex(){return qc.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return zd(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}const I={isValidPrivateKey(C){try{return u(C),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const C=z8(e.n);return sq(e.randomBytes(C),e.n)},precompute(C=8,T=c.BASE){return T._setWindowSize(C),T.multiply(BigInt(3)),T}};function k(C,T=!0){return c.fromPrivateKey(C).toRawBytes(T)}function $(C){const T=uu(C),j=typeof C=="string",A=(T||j)&&C.length;return T?A===i||A===o:j?A===2*i||A===2*o:C instanceof c}function L(C,T,j=!0){if($(C))throw new Error("first arg must be private key");if(!$(T))throw new Error("second arg must be public key");return c.fromHex(T).multiply(u(C)).toRawBytes(j)}const z=e.bits2int||function(C){const T=iu(C),j=C.length*8-e.nBitLength;return j>0?T>>BigInt(j):T},H=e.bits2int_modN||function(C){return s(z(C))},P=qx(e.nBitLength);function D(C){if(typeof C!="bigint")throw new Error("bigint expected");if(!(da<=C&&C<P))throw new Error(`bigint expected < 2^${e.nBitLength}`);return qd(C,e.nByteLength)}function B(C,T,j=O){if(["recovered","canonical"].some(Z=>Z in j))throw new Error("sign() legacy options not supported");const{hash:A,randomBytes:M}=e;let{lowS:x,prehash:R,extraEntropy:F}=j;x==null&&(x=!0),C=Do("msgHash",C),R&&(C=Do("prehashed msgHash",A(C)));const U=H(C),K=u(T),G=[D(K),D(U)];if(F!=null&&F!==!1){const Z=F===!0?M(n.BYTES):F;G.push(Do("extraEntropy",Z))}const Q=Nh(...G),ne=U;function J(Z){const ee=z(Z);if(!p(ee))return;const ie=l(ee),se=c.BASE.multiply(ee).toAffine(),X=s(se.x);if(X===da)return;const ae=s(ie*s(ne+X*K));if(ae===da)return;let de=(se.x===X?0:2)|Number(se.y&ho),me=ae;return x&&m(ae)&&(me=v(ae),de^=1),new w(X,me,de)}return{seed:Q,k2sig:J}}const O={lowS:e.lowS,prehash:!1},y={lowS:e.lowS,prehash:!1};function E(C,T,j=O){const{seed:A,k2sig:M}=B(C,T,j),x=e;return $8(x.hash.outputLen,x.nByteLength,x.hmac)(A,M)}c.BASE._setWindowSize(8);function S(C,T,j,A=y){var se;const M=C;if(T=Do("msgHash",T),j=Do("publicKey",j),"strict"in A)throw new Error("options.strict was renamed to lowS");const{lowS:x,prehash:R}=A;let F,U;try{if(typeof M=="string"||uu(M))try{F=w.fromDER(M)}catch(X){if(!(X instanceof qc.Err))throw X;F=w.fromCompact(M)}else if(typeof M=="object"&&typeof M.r=="bigint"&&typeof M.s=="bigint"){const{r:X,s:ae}=M;F=new w(X,ae)}else throw new Error("PARSE");U=c.fromHex(j)}catch(X){if(X.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(x&&F.hasHighS())return!1;R&&(T=e.hash(T));const{r:K,s:G}=F,Q=H(T),ne=l(G),J=s(Q*ne),Z=s(K*ne),ee=(se=c.BASE.multiplyAndAddUnsafe(U,J,Z))==null?void 0:se.toAffine();return ee?s(ee.x)===K:!1}return{CURVE:e,getPublicKey:k,getSharedSecret:L,sign:E,verify:S,ProjectivePoint:c,Signature:w,utils:I}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function gq(t){return{hash:t,hmac:(e,...n)=>D8(t,e,Rz(...n)),randomBytes:Pz}}function mq(t,e){const n=r=>pq({...t,...gq(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const H8=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),gA=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),vq=BigInt(1),J2=BigInt(2),mA=(t,e)=>(t+e/J2)/e;function yq(t){const e=H8,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),s=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,f=eo(u,n,e)*u%e,p=eo(f,n,e)*u%e,g=eo(p,J2,e)*c%e,m=eo(g,i,e)*g%e,v=eo(m,o,e)*m%e,_=eo(v,s,e)*v%e,w=eo(_,l,e)*_%e,I=eo(w,s,e)*v%e,k=eo(I,n,e)*u%e,$=eo(k,a,e)*m%e,L=eo($,r,e)*c%e,z=eo(L,J2,e);if(!Z2.eql(Z2.sqr(z),t))throw new Error("Cannot find square root");return z}const Z2=oq(H8,void 0,void 0,{sqrt:yq}),Hx=mq({a:BigInt(0),b:BigInt(7),Fp:Z2,n:gA,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=gA,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-vq*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,a=BigInt("0x100000000000000000000000000000000"),s=mA(o*t,e),l=mA(-r*t,e);let c=_i(t-s*n-l*i,e),u=_i(-s*r-l*o,e);const f=c>a,p=u>a;if(f&&(c=e-c),p&&(u=e-u),c>a||u>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:c,k2neg:p,k2:u}}}},Fz);BigInt(0);Hx.ProjectivePoint;function wq(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}function bq(t){let e=t;if(typeof e!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof e}`);return e.length%2&&(e=`0${e}`),e}BigInt(0);const Q2={},X2={};for(let t=0;t<16;t++){const e=t,n=t*16,r=t.toString(16).toLowerCase();X2[r]=e,X2[r.toUpperCase()]=e,Q2[r]=n,Q2[r.toUpperCase()]=n}function Eq(t){const e=t.length,n=new Uint8Array(e/2);for(let r=0;r<e;r+=2)n[r/2]=Q2[t[r]]+X2[t[r+1]];return n}Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));for(let t=0;t<=256*256-1;t++)BigInt(t);const Jv=t=>{if(typeof t!="string")throw new Error(`hex argument type ${typeof t} must be of type string`);if(!/^0x[0-9a-fA-F]*$/.test(t))throw new Error(`Input must be a 0x-prefixed hexadecimal string, got ${t}`);const e=t.slice(2);return Eq(e.length%2===0?e:bq(e))},xq=t=>{if(!Number.isSafeInteger(t)||t<0)throw new Error(`Received an invalid integer type: ${t}`);return`0x${t.toString(16)}`},Tp=t=>{const e=xq(t);return Jv(e)},Boe=t=>typeof t!="string"||wq(t)?t:`0x${t}`;BigInt("0xffffffffffffffff");BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935");Hx.CURVE.n;Hx.CURVE.n/BigInt(2);BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");const _q="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";Jv(_q);const Sq="0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";Jv(Sq);const Cq="0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";Jv(Cq);Uint8Array.from([128]);BigInt(-1);BigInt(0);BigInt(1);BigInt(2);BigInt(3);BigInt(7);BigInt(8);BigInt(27);BigInt(28);BigInt(31);BigInt(32);BigInt(64);BigInt(128);BigInt(255);BigInt(256);BigInt(96);BigInt(100);BigInt(160);BigInt(224);BigInt(7922816251426434e13);BigInt(1461501637330903e33);BigInt(2695994666715064e52);BigInt(1e9);Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));var vA;(function(t){t.String="string",t.Bytes="view",t.Number="number"})(vA||(vA={}));var yA;(function(t){t.String="string",t.Bytes="view",t.JSON="json"})(yA||(yA={}));var wA;(function(t){t[t.Number=0]="Number",t[t.BigInt=1]="BigInt",t[t.Uint8Array=2]="Uint8Array",t[t.PrefixedHexString=3]="PrefixedHexString"})(wA||(wA={}));var bA;(function(t){t[t.Deposit=0]="Deposit",t[t.Withdrawal=1]="Withdrawal",t[t.Consolidation=2]="Consolidation"})(bA||(bA={}));var du;(function(t){t[t.Version=0]="Version",t[t.Balance=1]="Balance",t[t.Nonce=2]="Nonce",t[t.CodeHash=3]="CodeHash",t[t.CodeSize=4]="CodeSize"})(du||(du={}));Tp(du.Version);Tp(du.Balance);Tp(du.Nonce);Tp(du.CodeHash);Tp(du.CodeSize);BigInt(256)**BigInt(31);function EA(t,e=3,n=50,r="black",i=0,o=20,a="#0346ff"){const s=[];let l;for(l=0;l<e;l+=1)s.push(t(a).rotate((l+1)/e*-i).saturate((l+1)/e*(o/100)).mix(t(r),n/100*(l+1)/e).hex());return s}function Aq(t,e){const n=EA(t,3,50,"black",0,20,e),r=EA(t,6,85,"white",0,20,e);return[...n.reverse(),e,...r]}function Iq(t,e,n){if(n.primary){const r=Aq(t,n.primary);e.style.setProperty("--app-primary-900",r[0]),e.style.setProperty("--app-primary-800",r[1]),e.style.setProperty("--app-primary-700",r[2]),e.style.setProperty("--app-primary-600",r[3]),e.style.setProperty("--app-primary-500",r[4]),e.style.setProperty("--app-primary-400",r[5]),e.style.setProperty("--app-primary-300",r[6]),e.style.setProperty("--app-primary-200",r[7]),e.style.setProperty("--app-primary-100",r[8]),e.style.setProperty("--app-primary-50",r[9])}n.onPrimary&&e.style.setProperty("--app-on-primary",n.onPrimary)}class kq extends Ql{constructor({config:e={},state:n={}}){super(),Ae(this,"defaultConfig",{}),Ae(this,"defaultState",{}),Ae(this,"disabled",!1),Ae(this,"name","BaseController"),Ae(this,"initialConfig",void 0),Ae(this,"initialState",void 0),Ae(this,"internalConfig",this.defaultConfig),Ae(this,"internalState",this.defaultState),this.initialState=n,this.initialConfig=e}get config(){return this.internalConfig}get state(){return this.internalState}configure(e,n=!1,r=!0){if(r){this.internalConfig=n?e:Object.assign(this.internalConfig,e);for(const i in this.internalConfig)typeof this.internalConfig[i]<"u"&&(this[i]=this.internalConfig[i])}else for(const i in e)typeof this.internalConfig[i]<"u"&&(this.internalConfig[i]=e[i],this[i]=e[i])}update(e,n=!1){this.internalState=be(n?{}:be({},this.internalState),e),this.emit("store",this.internalState)}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}}const Mq=()=>!0,Oq=["newListener","removeListener"],Rq=t=>!Oq.includes(t);function Tq(t,e){return typeof t.rawListeners<"u"?t.rawListeners(e):t.listeners(e)}function Pq(t,e){let r={}.eventFilter||Mq;if(typeof r=="string"&&r==="skipInternal"&&(r=Rq),typeof r!="function")throw new Error("createEventEmitterProxy - Invalid eventFilter");let i=t,o=s=>{if(i===s)return;const l=i;i=s,l.eventNames().filter(r).forEach(u=>{Tq(l,u).forEach(f=>{s.on(u,f)})}),l.removeAllListeners()};return new Proxy({},{get:(s,l)=>l==="setTarget"?o:i[l],set:(s,l,c)=>l==="setTarget"?(o=c,!0):(i[l]=c,!0),has:(s,l)=>l[0]==="_"?!1:l in i})}const Nq={BOTTOM_LEFT:"bottom-left"},xA={POPUP:"popup",MODAL:"modal",AUTO_APPROVE:"auto-approve",DEFAULT:"default"};var Lq=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n3=Math.ceil,so=Math.floor,bi="[BigNumber Error] ",_A=bi+"Number primitive has more than 15 significant digits: ",Po=1e14,jt=14,r3=9007199254740991,i3=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],rl=1e7,ur=1e9;function W8(t){var e,n,r,i=I.prototype={constructor:I,toString:null,valueOf:null},o=new I(1),a=20,s=4,l=-7,c=21,u=-1e7,f=1e7,p=!1,g=1,m=0,v={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},_="0123456789abcdefghijklmnopqrstuvwxyz",w=!0;function I(P,D){var B,O,y,E,S,C,T,j,A=this;if(!(A instanceof I))return new I(P,D);if(D==null){if(P&&P._isBigNumber===!0){A.s=P.s,!P.c||P.e>f?A.c=A.e=null:P.e<u?A.c=[A.e=0]:(A.e=P.e,A.c=P.c.slice());return}if((C=typeof P=="number")&&P*0==0){if(A.s=1/P<0?(P=-P,-1):1,P===~~P){for(E=0,S=P;S>=10;S/=10,E++);E>f?A.c=A.e=null:(A.e=E,A.c=[P]);return}j=String(P)}else{if(!Lq.test(j=String(P)))return r(A,j,C);A.s=j.charCodeAt(0)==45?(j=j.slice(1),-1):1}(E=j.indexOf("."))>-1&&(j=j.replace(".","")),(S=j.search(/e/i))>0?(E<0&&(E=S),E+=+j.slice(S+1),j=j.substring(0,S)):E<0&&(E=j.length)}else{if(Pn(D,2,_.length,"Base"),D==10&&w)return A=new I(P),z(A,a+A.e+1,s);if(j=String(P),C=typeof P=="number"){if(P*0!=0)return r(A,j,C,D);if(A.s=1/P<0?(j=j.slice(1),-1):1,I.DEBUG&&j.replace(/^0\.0*|\./,"").length>15)throw Error(_A+P)}else A.s=j.charCodeAt(0)===45?(j=j.slice(1),-1):1;for(B=_.slice(0,D),E=S=0,T=j.length;S<T;S++)if(B.indexOf(O=j.charAt(S))<0){if(O=="."){if(S>E){E=T;continue}}else if(!y&&(j==j.toUpperCase()&&(j=j.toLowerCase())||j==j.toLowerCase()&&(j=j.toUpperCase()))){y=!0,S=-1,E=0;continue}return r(A,String(P),C,D)}C=!1,j=n(j,D,10,A.s),(E=j.indexOf("."))>-1?j=j.replace(".",""):E=j.length}for(S=0;j.charCodeAt(S)===48;S++);for(T=j.length;j.charCodeAt(--T)===48;);if(j=j.slice(S,++T)){if(T-=S,C&&I.DEBUG&&T>15&&(P>r3||P!==so(P)))throw Error(_A+A.s*P);if((E=E-S-1)>f)A.c=A.e=null;else if(E<u)A.c=[A.e=0];else{if(A.e=E,A.c=[],S=(E+1)%jt,E<0&&(S+=jt),S<T){for(S&&A.c.push(+j.slice(0,S)),T-=jt;S<T;)A.c.push(+j.slice(S,S+=jt));S=jt-(j=j.slice(S)).length}else S-=T;for(;S--;j+="0");A.c.push(+j)}}else A.c=[A.e=0]}I.clone=W8,I.ROUND_UP=0,I.ROUND_DOWN=1,I.ROUND_CEIL=2,I.ROUND_FLOOR=3,I.ROUND_HALF_UP=4,I.ROUND_HALF_DOWN=5,I.ROUND_HALF_EVEN=6,I.ROUND_HALF_CEIL=7,I.ROUND_HALF_FLOOR=8,I.EUCLID=9,I.config=I.set=function(P){var D,B;if(P!=null)if(typeof P=="object"){if(P.hasOwnProperty(D="DECIMAL_PLACES")&&(B=P[D],Pn(B,0,ur,D),a=B),P.hasOwnProperty(D="ROUNDING_MODE")&&(B=P[D],Pn(B,0,8,D),s=B),P.hasOwnProperty(D="EXPONENTIAL_AT")&&(B=P[D],B&&B.pop?(Pn(B[0],-ur,0,D),Pn(B[1],0,ur,D),l=B[0],c=B[1]):(Pn(B,-ur,ur,D),l=-(c=B<0?-B:B))),P.hasOwnProperty(D="RANGE"))if(B=P[D],B&&B.pop)Pn(B[0],-ur,-1,D),Pn(B[1],1,ur,D),u=B[0],f=B[1];else if(Pn(B,-ur,ur,D),B)u=-(f=B<0?-B:B);else throw Error(bi+D+" cannot be zero: "+B);if(P.hasOwnProperty(D="CRYPTO"))if(B=P[D],B===!!B)if(B)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))p=B;else throw p=!B,Error(bi+"crypto unavailable");else p=B;else throw Error(bi+D+" not true or false: "+B);if(P.hasOwnProperty(D="MODULO_MODE")&&(B=P[D],Pn(B,0,9,D),g=B),P.hasOwnProperty(D="POW_PRECISION")&&(B=P[D],Pn(B,0,ur,D),m=B),P.hasOwnProperty(D="FORMAT"))if(B=P[D],typeof B=="object")v=B;else throw Error(bi+D+" not an object: "+B);if(P.hasOwnProperty(D="ALPHABET"))if(B=P[D],typeof B=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(B))w=B.slice(0,10)=="0123456789",_=B;else throw Error(bi+D+" invalid: "+B)}else throw Error(bi+"Object expected: "+P);return{DECIMAL_PLACES:a,ROUNDING_MODE:s,EXPONENTIAL_AT:[l,c],RANGE:[u,f],CRYPTO:p,MODULO_MODE:g,POW_PRECISION:m,FORMAT:v,ALPHABET:_}},I.isBigNumber=function(P){if(!P||P._isBigNumber!==!0)return!1;if(!I.DEBUG)return!0;var D,B,O=P.c,y=P.e,E=P.s;e:if({}.toString.call(O)=="[object Array]"){if((E===1||E===-1)&&y>=-ur&&y<=ur&&y===so(y)){if(O[0]===0){if(y===0&&O.length===1)return!0;break e}if(D=(y+1)%jt,D<1&&(D+=jt),String(O[0]).length==D){for(D=0;D<O.length;D++)if(B=O[D],B<0||B>=Po||B!==so(B))break e;if(B!==0)return!0}}}else if(O===null&&y===null&&(E===null||E===1||E===-1))return!0;throw Error(bi+"Invalid BigNumber: "+P)},I.maximum=I.max=function(){return $(arguments,-1)},I.minimum=I.min=function(){return $(arguments,1)},I.random=function(){var P=9007199254740992,D=Math.random()*P&2097151?function(){return so(Math.random()*P)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(B){var O,y,E,S,C,T=0,j=[],A=new I(o);if(B==null?B=a:Pn(B,0,ur),S=n3(B/jt),p)if(crypto.getRandomValues){for(O=crypto.getRandomValues(new Uint32Array(S*=2));T<S;)C=O[T]*131072+(O[T+1]>>>11),C>=9e15?(y=crypto.getRandomValues(new Uint32Array(2)),O[T]=y[0],O[T+1]=y[1]):(j.push(C%1e14),T+=2);T=S/2}else if(crypto.randomBytes){for(O=crypto.randomBytes(S*=7);T<S;)C=(O[T]&31)*281474976710656+O[T+1]*1099511627776+O[T+2]*4294967296+O[T+3]*16777216+(O[T+4]<<16)+(O[T+5]<<8)+O[T+6],C>=9e15?crypto.randomBytes(7).copy(O,T):(j.push(C%1e14),T+=7);T=S/7}else throw p=!1,Error(bi+"crypto unavailable");if(!p)for(;T<S;)C=D(),C<9e15&&(j[T++]=C%1e14);for(S=j[--T],B%=jt,S&&B&&(C=i3[jt-B],j[T]=so(S/C)*C);j[T]===0;j.pop(),T--);if(T<0)j=[E=0];else{for(E=-1;j[0]===0;j.splice(0,1),E-=jt);for(T=1,C=j[0];C>=10;C/=10,T++);T<jt&&(E-=jt-T)}return A.e=E,A.c=j,A}}(),I.sum=function(){for(var P=1,D=arguments,B=new I(D[0]);P<D.length;)B=B.plus(D[P++]);return B},n=function(){var P="0123456789";function D(B,O,y,E){for(var S,C=[0],T,j=0,A=B.length;j<A;){for(T=C.length;T--;C[T]*=O);for(C[0]+=E.indexOf(B.charAt(j++)),S=0;S<C.length;S++)C[S]>y-1&&(C[S+1]==null&&(C[S+1]=0),C[S+1]+=C[S]/y|0,C[S]%=y)}return C.reverse()}return function(B,O,y,E,S){var C,T,j,A,M,x,R,F,U=B.indexOf("."),K=a,G=s;for(U>=0&&(A=m,m=0,B=B.replace(".",""),F=new I(O),x=F.pow(B.length-U),m=A,F.c=D(Ys(to(x.c),x.e,"0"),10,y,P),F.e=F.c.length),R=D(B,O,y,S?(C=_,P):(C=P,_)),j=A=R.length;R[--A]==0;R.pop());if(!R[0])return C.charAt(0);if(U<0?--j:(x.c=R,x.e=j,x.s=E,x=e(x,F,K,G,y),R=x.c,M=x.r,j=x.e),T=j+K+1,U=R[T],A=y/2,M=M||T<0||R[T+1]!=null,M=G<4?(U!=null||M)&&(G==0||G==(x.s<0?3:2)):U>A||U==A&&(G==4||M||G==6&&R[T-1]&1||G==(x.s<0?8:7)),T<1||!R[0])B=M?Ys(C.charAt(1),-K,C.charAt(0)):C.charAt(0);else{if(R.length=T,M)for(--y;++R[--T]>y;)R[T]=0,T||(++j,R=[1].concat(R));for(A=R.length;!R[--A];);for(U=0,B="";U<=A;B+=C.charAt(R[U++]));B=Ys(B,j,C.charAt(0))}return B}}(),e=function(){function P(O,y,E){var S,C,T,j,A=0,M=O.length,x=y%rl,R=y/rl|0;for(O=O.slice();M--;)T=O[M]%rl,j=O[M]/rl|0,S=R*T+j*x,C=x*T+S%rl*rl+A,A=(C/E|0)+(S/rl|0)+R*j,O[M]=C%E;return A&&(O=[A].concat(O)),O}function D(O,y,E,S){var C,T;if(E!=S)T=E>S?1:-1;else for(C=T=0;C<E;C++)if(O[C]!=y[C]){T=O[C]>y[C]?1:-1;break}return T}function B(O,y,E,S){for(var C=0;E--;)O[E]-=C,C=O[E]<y[E]?1:0,O[E]=C*S+O[E]-y[E];for(;!O[0]&&O.length>1;O.splice(0,1));}return function(O,y,E,S,C){var T,j,A,M,x,R,F,U,K,G,Q,ne,J,Z,ee,ie,se,X=O.s==y.s?1:-1,ae=O.c,de=y.c;if(!ae||!ae[0]||!de||!de[0])return new I(!O.s||!y.s||(ae?de&&ae[0]==de[0]:!de)?NaN:ae&&ae[0]==0||!de?X*0:X/0);for(U=new I(X),K=U.c=[],j=O.e-y.e,X=E+j+1,C||(C=Po,j=ao(O.e/jt)-ao(y.e/jt),X=X/jt|0),A=0;de[A]==(ae[A]||0);A++);if(de[A]>(ae[A]||0)&&j--,X<0)K.push(1),M=!0;else{for(Z=ae.length,ie=de.length,A=0,X+=2,x=so(C/(de[0]+1)),x>1&&(de=P(de,x,C),ae=P(ae,x,C),ie=de.length,Z=ae.length),J=ie,G=ae.slice(0,ie),Q=G.length;Q<ie;G[Q++]=0);se=de.slice(),se=[0].concat(se),ee=de[0],de[1]>=C/2&&ee++;do{if(x=0,T=D(de,G,ie,Q),T<0){if(ne=G[0],ie!=Q&&(ne=ne*C+(G[1]||0)),x=so(ne/ee),x>1)for(x>=C&&(x=C-1),R=P(de,x,C),F=R.length,Q=G.length;D(R,G,F,Q)==1;)x--,B(R,ie<F?se:de,F,C),F=R.length,T=1;else x==0&&(T=x=1),R=de.slice(),F=R.length;if(F<Q&&(R=[0].concat(R)),B(G,R,Q,C),Q=G.length,T==-1)for(;D(de,G,ie,Q)<1;)x++,B(G,ie<Q?se:de,Q,C),Q=G.length}else T===0&&(x++,G=[0]);K[A++]=x,G[0]?G[Q++]=ae[J]||0:(G=[ae[J]],Q=1)}while((J++<Z||G[0]!=null)&&X--);M=G[0]!=null,K[0]||K.splice(0,1)}if(C==Po){for(A=1,X=K[0];X>=10;X/=10,A++);z(U,E+(U.e=A+j*jt-1)+1,S,M)}else U.e=j,U.r=+M;return U}}();function k(P,D,B,O){var y,E,S,C,T;if(B==null?B=s:Pn(B,0,8),!P.c)return P.toString();if(y=P.c[0],S=P.e,D==null)T=to(P.c),T=O==1||O==2&&(S<=l||S>=c)?og(T,S):Ys(T,S,"0");else if(P=z(new I(P),D,B),E=P.e,T=to(P.c),C=T.length,O==1||O==2&&(D<=E||E<=l)){for(;C<D;T+="0",C++);T=og(T,E)}else if(D-=S+(O===2&&E>S),T=Ys(T,E,"0"),E+1>C){if(--D>0)for(T+=".";D--;T+="0");}else if(D+=E-C,D>0)for(E+1==C&&(T+=".");D--;T+="0");return P.s<0&&y?"-"+T:T}function $(P,D){for(var B,O,y=1,E=new I(P[0]);y<P.length;y++)O=new I(P[y]),(!O.s||(B=_c(E,O))===D||B===0&&E.s===D)&&(E=O);return E}function L(P,D,B){for(var O=1,y=D.length;!D[--y];D.pop());for(y=D[0];y>=10;y/=10,O++);return(B=O+B*jt-1)>f?P.c=P.e=null:B<u?P.c=[P.e=0]:(P.e=B,P.c=D),P}r=function(){var P=/^(-?)0([xbo])(?=\w[\w.]*$)/i,D=/^([^.]+)\.$/,B=/^\.([^.]+)$/,O=/^-?(Infinity|NaN)$/,y=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(E,S,C,T){var j,A=C?S:S.replace(y,"");if(O.test(A))E.s=isNaN(A)?null:A<0?-1:1;else{if(!C&&(A=A.replace(P,function(M,x,R){return j=(R=R.toLowerCase())=="x"?16:R=="b"?2:8,!T||T==j?x:M}),T&&(j=T,A=A.replace(D,"$1").replace(B,"0.$1")),S!=A))return new I(A,j);if(I.DEBUG)throw Error(bi+"Not a"+(T?" base "+T:"")+" number: "+S);E.s=null}E.c=E.e=null}}();function z(P,D,B,O){var y,E,S,C,T,j,A,M=P.c,x=i3;if(M){e:{for(y=1,C=M[0];C>=10;C/=10,y++);if(E=D-y,E<0)E+=jt,S=D,T=M[j=0],A=so(T/x[y-S-1]%10);else if(j=n3((E+1)/jt),j>=M.length)if(O){for(;M.length<=j;M.push(0));T=A=0,y=1,E%=jt,S=E-jt+1}else break e;else{for(T=C=M[j],y=1;C>=10;C/=10,y++);E%=jt,S=E-jt+y,A=S<0?0:so(T/x[y-S-1]%10)}if(O=O||D<0||M[j+1]!=null||(S<0?T:T%x[y-S-1]),O=B<4?(A||O)&&(B==0||B==(P.s<0?3:2)):A>5||A==5&&(B==4||O||B==6&&(E>0?S>0?T/x[y-S]:0:M[j-1])%10&1||B==(P.s<0?8:7)),D<1||!M[0])return M.length=0,O?(D-=P.e+1,M[0]=x[(jt-D%jt)%jt],P.e=-D||0):M[0]=P.e=0,P;if(E==0?(M.length=j,C=1,j--):(M.length=j+1,C=x[jt-E],M[j]=S>0?so(T/x[y-S]%x[S])*C:0),O)for(;;)if(j==0){for(E=1,S=M[0];S>=10;S/=10,E++);for(S=M[0]+=C,C=1;S>=10;S/=10,C++);E!=C&&(P.e++,M[0]==Po&&(M[0]=1));break}else{if(M[j]+=C,M[j]!=Po)break;M[j--]=0,C=1}for(E=M.length;M[--E]===0;M.pop());}P.e>f?P.c=P.e=null:P.e<u&&(P.c=[P.e=0])}return P}function H(P){var D,B=P.e;return B===null?P.toString():(D=to(P.c),D=B<=l||B>=c?og(D,B):Ys(D,B,"0"),P.s<0?"-"+D:D)}return i.absoluteValue=i.abs=function(){var P=new I(this);return P.s<0&&(P.s=1),P},i.comparedTo=function(P,D){return _c(this,new I(P,D))},i.decimalPlaces=i.dp=function(P,D){var B,O,y,E=this;if(P!=null)return Pn(P,0,ur),D==null?D=s:Pn(D,0,8),z(new I(E),P+E.e+1,D);if(!(B=E.c))return null;if(O=((y=B.length-1)-ao(this.e/jt))*jt,y=B[y])for(;y%10==0;y/=10,O--);return O<0&&(O=0),O},i.dividedBy=i.div=function(P,D){return e(this,new I(P,D),a,s)},i.dividedToIntegerBy=i.idiv=function(P,D){return e(this,new I(P,D),0,1)},i.exponentiatedBy=i.pow=function(P,D){var B,O,y,E,S,C,T,j,A,M=this;if(P=new I(P),P.c&&!P.isInteger())throw Error(bi+"Exponent not an integer: "+H(P));if(D!=null&&(D=new I(D)),C=P.e>14,!M.c||!M.c[0]||M.c[0]==1&&!M.e&&M.c.length==1||!P.c||!P.c[0])return A=new I(Math.pow(+H(M),C?P.s*(2-ig(P)):+H(P))),D?A.mod(D):A;if(T=P.s<0,D){if(D.c?!D.c[0]:!D.s)return new I(NaN);O=!T&&M.isInteger()&&D.isInteger(),O&&(M=M.mod(D))}else{if(P.e>9&&(M.e>0||M.e<-1||(M.e==0?M.c[0]>1||C&&M.c[1]>=24e7:M.c[0]<8e13||C&&M.c[0]<=9999975e7)))return E=M.s<0&&ig(P)?-0:0,M.e>-1&&(E=1/E),new I(T?1/E:E);m&&(E=n3(m/jt+2))}for(C?(B=new I(.5),T&&(P.s=1),j=ig(P)):(y=Math.abs(+H(P)),j=y%2),A=new I(o);;){if(j){if(A=A.times(M),!A.c)break;E?A.c.length>E&&(A.c.length=E):O&&(A=A.mod(D))}if(y){if(y=so(y/2),y===0)break;j=y%2}else if(P=P.times(B),z(P,P.e+1,1),P.e>14)j=ig(P);else{if(y=+H(P),y===0)break;j=y%2}M=M.times(M),E?M.c&&M.c.length>E&&(M.c.length=E):O&&(M=M.mod(D))}return O?A:(T&&(A=o.div(A)),D?A.mod(D):E?z(A,m,s,S):A)},i.integerValue=function(P){var D=new I(this);return P==null?P=s:Pn(P,0,8),z(D,D.e+1,P)},i.isEqualTo=i.eq=function(P,D){return _c(this,new I(P,D))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(P,D){return _c(this,new I(P,D))>0},i.isGreaterThanOrEqualTo=i.gte=function(P,D){return(D=_c(this,new I(P,D)))===1||D===0},i.isInteger=function(){return!!this.c&&ao(this.e/jt)>this.c.length-2},i.isLessThan=i.lt=function(P,D){return _c(this,new I(P,D))<0},i.isLessThanOrEqualTo=i.lte=function(P,D){return(D=_c(this,new I(P,D)))===-1||D===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(P,D){var B,O,y,E,S=this,C=S.s;if(P=new I(P,D),D=P.s,!C||!D)return new I(NaN);if(C!=D)return P.s=-D,S.plus(P);var T=S.e/jt,j=P.e/jt,A=S.c,M=P.c;if(!T||!j){if(!A||!M)return A?(P.s=-D,P):new I(M?S:NaN);if(!A[0]||!M[0])return M[0]?(P.s=-D,P):new I(A[0]?S:s==3?-0:0)}if(T=ao(T),j=ao(j),A=A.slice(),C=T-j){for((E=C<0)?(C=-C,y=A):(j=T,y=M),y.reverse(),D=C;D--;y.push(0));y.reverse()}else for(O=(E=(C=A.length)<(D=M.length))?C:D,C=D=0;D<O;D++)if(A[D]!=M[D]){E=A[D]<M[D];break}if(E&&(y=A,A=M,M=y,P.s=-P.s),D=(O=M.length)-(B=A.length),D>0)for(;D--;A[B++]=0);for(D=Po-1;O>C;){if(A[--O]<M[O]){for(B=O;B&&!A[--B];A[B]=D);--A[B],A[O]+=Po}A[O]-=M[O]}for(;A[0]==0;A.splice(0,1),--j);return A[0]?L(P,A,j):(P.s=s==3?-1:1,P.c=[P.e=0],P)},i.modulo=i.mod=function(P,D){var B,O,y=this;return P=new I(P,D),!y.c||!P.s||P.c&&!P.c[0]?new I(NaN):!P.c||y.c&&!y.c[0]?new I(y):(g==9?(O=P.s,P.s=1,B=e(y,P,0,3),P.s=O,B.s*=O):B=e(y,P,0,g),P=y.minus(B.times(P)),!P.c[0]&&g==1&&(P.s=y.s),P)},i.multipliedBy=i.times=function(P,D){var B,O,y,E,S,C,T,j,A,M,x,R,F,U,K,G=this,Q=G.c,ne=(P=new I(P,D)).c;if(!Q||!ne||!Q[0]||!ne[0])return!G.s||!P.s||Q&&!Q[0]&&!ne||ne&&!ne[0]&&!Q?P.c=P.e=P.s=null:(P.s*=G.s,!Q||!ne?P.c=P.e=null:(P.c=[0],P.e=0)),P;for(O=ao(G.e/jt)+ao(P.e/jt),P.s*=G.s,T=Q.length,M=ne.length,T<M&&(F=Q,Q=ne,ne=F,y=T,T=M,M=y),y=T+M,F=[];y--;F.push(0));for(U=Po,K=rl,y=M;--y>=0;){for(B=0,x=ne[y]%K,R=ne[y]/K|0,S=T,E=y+S;E>y;)j=Q[--S]%K,A=Q[S]/K|0,C=R*j+A*x,j=x*j+C%K*K+F[E]+B,B=(j/U|0)+(C/K|0)+R*A,F[E--]=j%U;F[E]=B}return B?++O:F.splice(0,1),L(P,F,O)},i.negated=function(){var P=new I(this);return P.s=-P.s||null,P},i.plus=function(P,D){var B,O=this,y=O.s;if(P=new I(P,D),D=P.s,!y||!D)return new I(NaN);if(y!=D)return P.s=-D,O.minus(P);var E=O.e/jt,S=P.e/jt,C=O.c,T=P.c;if(!E||!S){if(!C||!T)return new I(y/0);if(!C[0]||!T[0])return T[0]?P:new I(C[0]?O:y*0)}if(E=ao(E),S=ao(S),C=C.slice(),y=E-S){for(y>0?(S=E,B=T):(y=-y,B=C),B.reverse();y--;B.push(0));B.reverse()}for(y=C.length,D=T.length,y-D<0&&(B=T,T=C,C=B,D=y),y=0;D;)y=(C[--D]=C[D]+T[D]+y)/Po|0,C[D]=Po===C[D]?0:C[D]%Po;return y&&(C=[y].concat(C),++S),L(P,C,S)},i.precision=i.sd=function(P,D){var B,O,y,E=this;if(P!=null&&P!==!!P)return Pn(P,1,ur),D==null?D=s:Pn(D,0,8),z(new I(E),P,D);if(!(B=E.c))return null;if(y=B.length-1,O=y*jt+1,y=B[y]){for(;y%10==0;y/=10,O--);for(y=B[0];y>=10;y/=10,O++);}return P&&E.e+1>O&&(O=E.e+1),O},i.shiftedBy=function(P){return Pn(P,-r3,r3),this.times("1e"+P)},i.squareRoot=i.sqrt=function(){var P,D,B,O,y,E=this,S=E.c,C=E.s,T=E.e,j=a+4,A=new I("0.5");if(C!==1||!S||!S[0])return new I(!C||C<0&&(!S||S[0])?NaN:S?E:1/0);if(C=Math.sqrt(+H(E)),C==0||C==1/0?(D=to(S),(D.length+T)%2==0&&(D+="0"),C=Math.sqrt(+D),T=ao((T+1)/2)-(T<0||T%2),C==1/0?D="5e"+T:(D=C.toExponential(),D=D.slice(0,D.indexOf("e")+1)+T),B=new I(D)):B=new I(C+""),B.c[0]){for(T=B.e,C=T+j,C<3&&(C=0);;)if(y=B,B=A.times(y.plus(e(E,y,j,1))),to(y.c).slice(0,C)===(D=to(B.c)).slice(0,C))if(B.e<T&&--C,D=D.slice(C-3,C+1),D=="9999"||!O&&D=="4999"){if(!O&&(z(y,y.e+a+2,0),y.times(y).eq(E))){B=y;break}j+=4,C+=4,O=1}else{(!+D||!+D.slice(1)&&D.charAt(0)=="5")&&(z(B,B.e+a+2,1),P=!B.times(B).eq(E));break}}return z(B,B.e+a+1,s,P)},i.toExponential=function(P,D){return P!=null&&(Pn(P,0,ur),P++),k(this,P,D,1)},i.toFixed=function(P,D){return P!=null&&(Pn(P,0,ur),P=P+this.e+1),k(this,P,D)},i.toFormat=function(P,D,B){var O,y=this;if(B==null)P!=null&&D&&typeof D=="object"?(B=D,D=null):P&&typeof P=="object"?(B=P,P=D=null):B=v;else if(typeof B!="object")throw Error(bi+"Argument not an object: "+B);if(O=y.toFixed(P,D),y.c){var E,S=O.split("."),C=+B.groupSize,T=+B.secondaryGroupSize,j=B.groupSeparator||"",A=S[0],M=S[1],x=y.s<0,R=x?A.slice(1):A,F=R.length;if(T&&(E=C,C=T,T=E,F-=E),C>0&&F>0){for(E=F%C||C,A=R.substr(0,E);E<F;E+=C)A+=j+R.substr(E,C);T>0&&(A+=j+R.slice(E)),x&&(A="-"+A)}O=M?A+(B.decimalSeparator||"")+((T=+B.fractionGroupSize)?M.replace(new RegExp("\\d{"+T+"}\\B","g"),"$&"+(B.fractionGroupSeparator||"")):M):A}return(B.prefix||"")+O+(B.suffix||"")},i.toFraction=function(P){var D,B,O,y,E,S,C,T,j,A,M,x,R=this,F=R.c;if(P!=null&&(C=new I(P),!C.isInteger()&&(C.c||C.s!==1)||C.lt(o)))throw Error(bi+"Argument "+(C.isInteger()?"out of range: ":"not an integer: ")+H(C));if(!F)return new I(R);for(D=new I(o),j=B=new I(o),O=T=new I(o),x=to(F),E=D.e=x.length-R.e-1,D.c[0]=i3[(S=E%jt)<0?jt+S:S],P=!P||C.comparedTo(D)>0?E>0?D:j:C,S=f,f=1/0,C=new I(x),T.c[0]=0;A=e(C,D,0,1),y=B.plus(A.times(O)),y.comparedTo(P)!=1;)B=O,O=y,j=T.plus(A.times(y=j)),T=y,D=C.minus(A.times(y=D)),C=y;return y=e(P.minus(B),O,0,1),T=T.plus(y.times(j)),B=B.plus(y.times(O)),T.s=j.s=R.s,E=E*2,M=e(j,O,E,s).minus(R).abs().comparedTo(e(T,B,E,s).minus(R).abs())<1?[j,O]:[T,B],f=S,M},i.toNumber=function(){return+H(this)},i.toPrecision=function(P,D){return P!=null&&Pn(P,1,ur),k(this,P,D,2)},i.toString=function(P){var D,B=this,O=B.s,y=B.e;return y===null?O?(D="Infinity",O<0&&(D="-"+D)):D="NaN":(P==null?D=y<=l||y>=c?og(to(B.c),y):Ys(to(B.c),y,"0"):P===10&&w?(B=z(new I(B),a+y+1,s),D=Ys(to(B.c),B.e,"0")):(Pn(P,2,_.length,"Base"),D=n(Ys(to(B.c),y,"0"),10,P,O,!0)),O<0&&B.c[0]&&(D="-"+D)),D},i.valueOf=i.toJSON=function(){return H(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,t!=null&&I.set(t),I}function ao(t){var e=t|0;return t>0||t===e?e:e-1}function to(t){for(var e,n,r=1,i=t.length,o=t[0]+"";r<i;){for(e=t[r++]+"",n=jt-e.length;n--;e="0"+e);o+=e}for(i=o.length;o.charCodeAt(--i)===48;);return o.slice(0,i+1||1)}function _c(t,e){var n,r,i=t.c,o=e.c,a=t.s,s=e.s,l=t.e,c=e.e;if(!a||!s)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=l==c,!i||!o)return r?0:!i^n?1:-1;if(!r)return l>c^n?1:-1;for(s=(l=i.length)<(c=o.length)?l:c,a=0;a<s;a++)if(i[a]!=o[a])return i[a]>o[a]^n?1:-1;return l==c?0:l>c^n?1:-1}function Pn(t,e,n,r){if(t<e||t>n||t!==so(t))throw Error(bi+(r||"Argument")+(typeof t=="number"?t<e||t>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function ig(t){var e=t.c.length-1;return ao(t.e/jt)==e&&t.c[e]%2!=0}function og(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function Ys(t,e,n){var r,i;if(e<0){for(i=n+".";++e;i+=n);t=i+t}else if(r=t.length,++e>r){for(i=n,e-=r;--e;i+=n);t+=i}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}W8();const Dq={ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SEND_USER_OPERATION:"eth_sendUserOperation",ETH_SPONSOR_USER_OPERATION:"pm_sponsorUserOperation",SEND_TRANSACTION:"solana_sendTransaction"},SA={JRPC_REQUEST_COMPLETED:"JRPC Request Completed",JRPC_REQUEST_FAILED:"JRPC Request Failed"},CA={INTERNAL:"internal",NETWORK:"network"},Bq={"0x65":"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","0x66":"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","0x67":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"},$t={EIP155:"eip155",SOLANA:"solana",CASPER:"casper",XRPL:"xrpl",OTHER:"other"},joe=()=>Math.random().toString(36).slice(2);function $oe({width:t,height:e}){const n=window.screenLeft!==void 0?window.screenLeft:window.screenX,r=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,o=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,a=1,s=Math.abs((i-t)/2/a+n),l=Math.abs((o-e)/2/a+r);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${e/a},width=${t/a},top=${l},left=${s}`}const jq=t=>{try{const e=t==null?void 0:t.code;return{error_message:t instanceof Error?t.message:(t==null?void 0:t.message)||(t==null?void 0:t.toString()),error_code:e}}catch{return{error_message:"Unknown error",error_code:void 0}}},$q=t=>{try{return new URL(t).hostname}catch{return""}},Fq=t=>{if(t)return t.chainNamespace===$t.EIP155?`${t.chainNamespace}:${parseInt(t.chainId,16)}`:t.chainNamespace===$t.SOLANA?`${t.chainNamespace}:${Bq[t.chainId]}`:`${t.chainNamespace}:${t.chainId}`},Uq=["Gateway timeout","ETIMEDOUT","failed to parse response body","Failed to fetch"];function zq(t){switch(t.status){case 405:throw ba.methodNotFound();case 418:throw ba.internal({message:"Request is being rate limited.",data:{cause:t}});case 503:case 504:throw ba.internal({message:"Gateway timeout. The request took too long to process.This can happen when querying over too wide a block range.",data:{cause:t}})}}function qq(t){return new Promise(e=>{setTimeout(e,t)})}function Hq(t,e){if(t.status!==200)throw ba.internal({message:`Non-200 status code: '${t.status}'`,data:e});if(e.error){var n;throw ba.internal({data:e.error,message:(n=e.error)===null||n===void 0?void 0:n.message})}return e.result}function Wq({req:t,rpcTarget:e,originHttpHeaderKey:n}){const r=new URL(e),i={id:t.id,jsonrpc:t.jsonrpc,method:t.method,params:t.params},o=t.origin,a=JSON.stringify(i),s={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:a};return n&&o&&(s.headers[n]=o),{fetchUrl:r.href,fetchParams:s}}function Kq({rpcTarget:t,originHttpHeaderKey:e,analytics:n,providerConfig:r}){return Sz(async(i,o,a)=>{const{fetchUrl:s,fetchParams:l}=Wq({req:i,rpcTarget:t,originHttpHeaderKey:e}),c=5,u=1e3,f=Date.now(),p=!Object.values(Dq).includes(i.method),g={chain_id:Fq(r),chain_rpc_target:$q(s),method:i.method};for(let m=0;m<c;m++){try{const v=await fetch(s,l);zq(v);const _=await v.json(),w=Hq(v,_);o.result=w,p||n==null||n.track(SA.JRPC_REQUEST_COMPLETED,be(be({request_type:CA.NETWORK},g),{},{duration:Date.now()-f}));return}catch(v){const _=(v.message||v).toString();if(!Uq.some(I=>_.includes(I)))throw p||n==null||n.track(SA.JRPC_REQUEST_FAILED,be(be({request_type:CA.NETWORK},g),{},{error_code:v==null?void 0:v.code,error_message:_,duration:Date.now()-f})),await Ox(v)}await qq(u)}})}function Hc(t){try{return structuredClone(t)}catch{return JSON.parse(JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString():n))}}class sh extends Error{}sh.prototype.name="InvalidTokenError";function Vq(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function Gq(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Vq(e)}catch{return atob(e)}}function Yq(t,e){if(typeof t!="string")throw new sh("Invalid token specified: must be a string");e||(e={});const n=e.header===!0?0:1,r=t.split(".")[n];if(typeof r!="string")throw new sh(`Invalid token specified: missing part #${n+1}`);let i;try{i=Gq(r)}catch(o){throw new sh(`Invalid token specified: invalid base64 for part #${n+1} (${o.message})`)}try{return JSON.parse(i)}catch(o){throw new sh(`Invalid token specified: invalid json for part #${n+1} (${o.message})`)}}const K8="https://authjs.web3auth.io",Jq=async(t,e)=>{const o={payload:t,header:{t:e==="solana"?"sip99":"eip191"},network:e==="solana"?"solana":"ethereum"},a=await cu(`${K8}/siww/get`,o);if(!a.success)throw new Error("Failed to authenticate user, Please reach out to Web3Auth Support team");return a.challenge},Zq=async(t,e,n,r,i,o,a,s,l)=>{var c;const f=be({signature:{s:e,t:t==="solana"?"sip99":"eip191"},message:n,issuer:r,audience:typeof window<"u"&&((c=window.location)===null||c===void 0?void 0:c.hostname)||"com://reactnative",timeout:i},{}),p=await cu(`${K8}/siww/verify`,f,{headers:{client_id:o,wallet_provider:r,web3auth_network:a}});if(!p.success)throw Oa.error("Failed to authenticate user, ,message verification failed",p.error),new Error("Failed to authenticate user, ,message verification failed");return p.token},Qq={ALL:"all"},gd={MODAL:"modal",EMBED:"embed"},AA="Web3Auth-state",Lh={MODAL:"modal",NO_MODAL:"no-modal"},Xq={"0x65":"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","0x66":"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","0x67":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"};function eH(t,e){return JSON.parse(t,(n,r)=>{var i,o,a;let s=r;return((i=s)===null||i===void 0?void 0:i.__type)==="bigint"&&(s=BigInt(s.value)),((o=s)===null||o===void 0?void 0:o.__type)==="Map"&&(s=new Map(s.value)),(a=void 0)!==null&&a!==void 0?a:s})}const tH=t=>({getItem(e){if(typeof window>"u")return null;const n=nH(document.cookie,e);return n??null},setItem(e,n){if(typeof window>"u")return;let r=`${e}=${n};path=/;samesite=Lax`;t!=null&&t.expiry&&typeof t.expiry=="number"&&(r+=`; expires=${new Date(Date.now()+t.expiry).toUTCString()}`),r+="; secure",document.cookie=r},removeItem(e){typeof window>"u"||(document.cookie=`${e}=;max-age=-1;path=/`)}});function nH(t,e){const n=t.split("; ").find(r=>r.startsWith(`${e}=`));if(n)return n.substring(e.length+1)}var eE=function(t,e){return eE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},eE(t,e)};function Mi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");eE(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var et=function(){return et=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},et.apply(this,arguments)};function V8(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function bt(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(f){a(f)}}function l(u){try{c(r.throw(u))}catch(f){a(f)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})}function Et(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function ir(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function tE(t,e,n){e.split&&(e=e.split("."));for(var r=0,i=e.length,o=t,a,s;r<i&&(s=""+e[r++],!(s==="__proto__"||s==="constructor"||s==="prototype"));)o=o[s]=r===i?n:typeof(a=o[s])==typeof e?a:e[r]*0!==0||~(""+e[r]).indexOf(".")?{}:[]}var rH=function(t,e){return Object.keys(t).filter(function(n){return e(n,t[n])}).reduce(function(n,r){return n[r]=t[r],n},{})},fu=function(t){Mi(e,t);function e(n,r){var i=t.call(this,"".concat(n," ").concat(r))||this;return i.field=n,i}return e}(Error);function Wl(t){return typeof t=="string"}function nE(t){return typeof t=="number"}function Ad(t){return typeof t=="function"}function iH(t){return t!=null}function Ho(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()==="object"}var Wx="is not a string",Kx="is not an object",oH="is nil";function sH(t){if(!iH(t))throw new fu("Event",oH);if(typeof t!="object")throw new fu("Event",Kx)}function aH(t){if(!Wl(t.type))throw new fu(".type",Wx)}function lH(t){if(!Wl(t.event))throw new fu(".event",Wx)}function cH(t){if(!Ho(t.properties))throw new fu(".properties",Kx)}function uH(t){if(!Ho(t.traits))throw new fu(".traits",Kx)}function dH(t){if(!Wl(t.messageId))throw new fu(".messageId",Wx)}function fH(t){sH(t),aH(t),dH(t),t.type==="track"&&(lH(t),cH(t)),["group","identify"].includes(t.type)&&uH(t)}var hH=function(){function t(e){var n,r;this.settings=e,this.createMessageId=e.createMessageId,this.onEventMethodCall=(n=e.onEventMethodCall)!==null&&n!==void 0?n:function(){},this.onFinishedEvent=(r=e.onFinishedEvent)!==null&&r!==void 0?r:function(){}}return t}(),pH=function(){function t(e){this.settings=new hH(e)}return t.prototype.track=function(e,n,r,i){return this.settings.onEventMethodCall({type:"track",options:r}),this.normalize(et(et({},this.baseEvent()),{event:e,type:"track",properties:n??{},options:et({},r),integrations:et({},i)}))},t.prototype.page=function(e,n,r,i,o){var a;this.settings.onEventMethodCall({type:"page",options:i});var s={type:"page",properties:et({},r),options:et({},i),integrations:et({},o)};return e!==null&&(s.category=e,s.properties=(a=s.properties)!==null&&a!==void 0?a:{},s.properties.category=e),n!==null&&(s.name=n),this.normalize(et(et({},this.baseEvent()),s))},t.prototype.screen=function(e,n,r,i,o){this.settings.onEventMethodCall({type:"screen",options:i});var a={type:"screen",properties:et({},r),options:et({},i),integrations:et({},o)};return e!==null&&(a.category=e),n!==null&&(a.name=n),this.normalize(et(et({},this.baseEvent()),a))},t.prototype.identify=function(e,n,r,i){return this.settings.onEventMethodCall({type:"identify",options:r}),this.normalize(et(et({},this.baseEvent()),{type:"identify",userId:e,traits:n??{},options:et({},r),integrations:i}))},t.prototype.group=function(e,n,r,i){return this.settings.onEventMethodCall({type:"group",options:r}),this.normalize(et(et({},this.baseEvent()),{type:"group",traits:n??{},options:et({},r),integrations:et({},i),groupId:e}))},t.prototype.alias=function(e,n,r,i){this.settings.onEventMethodCall({type:"alias",options:r});var o={userId:e,type:"alias",options:et({},r),integrations:et({},i)};return n!==null&&(o.previousId=n),e===void 0?this.normalize(et(et({},o),this.baseEvent())):this.normalize(et(et({},this.baseEvent()),o))},t.prototype.baseEvent=function(){return{integrations:{},options:{}}},t.prototype.context=function(e){var n,r=["userId","anonymousId","timestamp","messageId"];delete e.integrations;var i=Object.keys(e),o=(n=e.context)!==null&&n!==void 0?n:{},a={};return i.forEach(function(s){s!=="context"&&(r.includes(s)?tE(a,s,e[s]):tE(o,s,e[s]))}),[o,a]},t.prototype.normalize=function(e){var n,r,i=Object.keys((n=e.integrations)!==null&&n!==void 0?n:{}).reduce(function(p,g){var m,v;return et(et({},p),(m={},m[g]=!!(!((v=e.integrations)===null||v===void 0)&&v[g]),m))},{});e.options=rH(e.options||{},function(p,g){return g!==void 0});var o=et(et({},i),(r=e.options)===null||r===void 0?void 0:r.integrations),a=e.options?this.context(e.options):[],s=a[0],l=a[1],c=e.options,u=V8(e,["options"]),f=et(et(et(et({timestamp:new Date},u),{context:s,integrations:o}),l),{messageId:c.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(f),fH(f),f},t}();function gH(t,e){return new Promise(function(n,r){var i=setTimeout(function(){r(Error("Promise timed out"))},e);t.then(function(o){return clearTimeout(i),n(o)}).catch(r)})}function mH(t){return new Promise(function(e){return setTimeout(e,t)})}function vH(t,e,n){var r=function(){try{return Promise.resolve(e(t))}catch(i){return Promise.reject(i)}};return mH(n).then(function(){return gH(r(),1e3)}).catch(function(i){t==null||t.log("warn","Callback Error",{error:i}),t==null||t.stats.increment("callback_error")}).then(function(){return t})}var G8=function(){var t,e,n=!1,r=new Promise(function(i,o){t=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];n=!0,i.apply(void 0,a)},e=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];n=!0,o.apply(void 0,a)}});return{resolve:t,reject:e,promise:r,isSettled:function(){return n}}},Vx=function(){function t(e){var n;this.callbacks={},this.warned=!1,this.maxListeners=(n=e==null?void 0:e.maxListeners)!==null&&n!==void 0?n:10}return t.prototype.warnIfPossibleMemoryLeak=function(e){this.warned||this.maxListeners&&this.callbacks[e].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(e)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},t.prototype.on=function(e,n){return this.callbacks[e]?(this.callbacks[e].push(n),this.warnIfPossibleMemoryLeak(e)):this.callbacks[e]=[n],this},t.prototype.once=function(e,n){var r=this,i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];r.off(e,i),n.apply(r,o)};return this.on(e,i),this},t.prototype.off=function(e,n){var r,i=(r=this.callbacks[e])!==null&&r!==void 0?r:[],o=i.filter(function(a){return a!==n});return this.callbacks[e]=o,this},t.prototype.emit=function(e){for(var n=this,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=(r=this.callbacks[e])!==null&&r!==void 0?r:[];return a.forEach(function(s){s.apply(n,i)}),this},t}();function yH(t){var e=Math.random()+1,n=t.minTimeout,r=n===void 0?500:n,i=t.factor,o=i===void 0?2:i,a=t.attempt,s=t.maxTimeout,l=s===void 0?1/0:s;return Math.min(e*r*Math.pow(o,a),l)}var Y8="onRemoveFromFuture",Gx=function(t){Mi(e,t);function e(n,r,i){var o=t.call(this)||this;return o.future=[],o.maxAttempts=n,o.queue=r,o.seen=i??{},o}return e.prototype.push=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=r.map(function(a){var s=n.updateAttempts(a);return s>n.maxAttempts||n.includes(a)?!1:(n.queue.push(a),!0)});return this.queue=this.queue.sort(function(a,s){return n.getAttempts(a)-n.getAttempts(s)}),o},e.prototype.pushWithBackoff=function(n,r){var i=this;if(r===void 0&&(r=0),r==0&&this.getAttempts(n)===0)return this.push(n)[0];var o=this.updateAttempts(n);if(o>this.maxAttempts||this.includes(n))return!1;var a=yH({attempt:o-1});return r>0&&a<r&&(a=r),setTimeout(function(){i.queue.push(n),i.future=i.future.filter(function(s){return s.id!==n.id}),i.emit(Y8)},a),this.future.push(n),!0},e.prototype.getAttempts=function(n){var r;return(r=this.seen[n.id])!==null&&r!==void 0?r:0},e.prototype.updateAttempts=function(n){return this.seen[n.id]=this.getAttempts(n)+1,this.getAttempts(n)},e.prototype.includes=function(n){return this.queue.includes(n)||this.future.includes(n)||!!this.queue.find(function(r){return r.id===n.id})||!!this.future.find(function(r){return r.id===n.id})},e.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(e.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),e}(Vx),Wc=256,dm=[],sg;for(;Wc--;)dm[Wc]=(Wc+256).toString(16).substring(1);function Yx(){var t=0,e,n="";if(!sg||Wc+16>256){for(sg=Array(t=256);t--;)sg[t]=256*Math.random()|0;t=Wc=0}for(;t<16;t++)e=sg[Wc+t],t==6?n+=dm[e&15|64]:t==8?n+=dm[e&63|128]:n+=dm[e],t&1&&t>1&&t<11&&(n+="-");return Wc++,n}var wH=function(){function t(){this._logs=[]}return t.prototype.log=function(e,n,r){var i=new Date;this._logs.push({level:e,message:n,time:i,extras:r})},Object.defineProperty(t.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),t.prototype.flush=function(){if(this.logs.length>1){var e=this._logs.reduce(function(n,r){var i,o,a,s=et(et({},r),{json:JSON.stringify(r.extras,null," "),extras:r.extras});delete s.time;var l=(a=(o=r.time)===null||o===void 0?void 0:o.toISOString())!==null&&a!==void 0?a:"";return n[l]&&(l="".concat(l,"-").concat(Math.random())),et(et({},n),(i={},i[l]=s,i))},{});console.table?console.table(e):console.log(e)}else this.logs.forEach(function(n){var r=n.level,i=n.message,o=n.extras;r==="info"||r==="debug"?console.log(i,o??""):console[r](i,o??"")});this._logs=[]},t}(),bH=function(t){var e={gauge:"g",counter:"c"};return e[t]},J8=function(){function t(){this.metrics=[]}return t.prototype.increment=function(e,n,r){n===void 0&&(n=1),this.metrics.push({metric:e,value:n,tags:r??[],type:"counter",timestamp:Date.now()})},t.prototype.gauge=function(e,n,r){this.metrics.push({metric:e,value:n,tags:r??[],type:"gauge",timestamp:Date.now()})},t.prototype.flush=function(){var e=this.metrics.map(function(n){return et(et({},n),{tags:n.tags.join(",")})});console.table?console.table(e):console.log(e),this.metrics=[]},t.prototype.serialize=function(){return this.metrics.map(function(e){return{m:e.metric,v:e.value,t:e.tags,k:bH(e.type),e:e.timestamp}})},t}(),EH=function(t){Mi(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.gauge=function(){},e.prototype.increment=function(){},e.prototype.flush=function(){},e.prototype.serialize=function(){return[]},e}(J8),Hd=function(){function t(e){var n,r,i;this.retry=(n=e.retry)!==null&&n!==void 0?n:!0,this.type=(r=e.type)!==null&&r!==void 0?r:"plugin Error",this.reason=(i=e.reason)!==null&&i!==void 0?i:""}return t}(),Um=function(){function t(e,n,r,i){n===void 0&&(n=Yx()),r===void 0&&(r=new EH),i===void 0&&(i=new wH),this.attempts=0,this.event=e,this._id=n,this.logger=i,this.stats=r}return t.system=function(){},t.prototype.isSame=function(e){return e.id===this.id},t.prototype.cancel=function(e){throw e||new Hd({reason:"Context Cancel"})},t.prototype.log=function(e,n,r){this.logger.log(e,n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),t.prototype.updateEvent=function(e,n){var r;if(e.split(".")[0]==="integrations"){var i=e.split(".")[1];if(((r=this.event.integrations)===null||r===void 0?void 0:r[i])===!1)return this.event}return tE(this.event,e,n),this.event},t.prototype.failedDelivery=function(){return this._failedDelivery},t.prototype.setFailedDelivery=function(e){this._failedDelivery=e},t.prototype.logs=function(){return this.logger.logs},t.prototype.flush=function(){this.logger.flush(),this.stats.flush()},t.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},t}();function xH(t,e){var n={};return t.forEach(function(r){var i,o=void 0;{var a=r[e];o=typeof a!="string"?JSON.stringify(a):a}o!==void 0&&(n[o]=ir(ir([],(i=n[o])!==null&&i!==void 0?i:[],!0),[r],!1))}),n}var _H=function(t){return typeof t=="object"&&t!==null&&"then"in t&&typeof t.then=="function"},SH=function(){var t,e,n=0;return{done:function(){return t},run:function(r){var i=r();return _H(i)&&(++n===1&&(t=new Promise(function(o){return e=o})),i.finally(function(){return--n===0&&e()})),i}}};function CH(t){return bt(this,void 0,void 0,function(){var e;return Et(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t()];case 1:return[2,n.sent()];case 2:return e=n.sent(),[2,Promise.reject(e)];case 3:return[2]}})})}function mh(t,e){t.log("debug","plugin",{plugin:e.name});var n=new Date().getTime(),r=e[t.event.type];if(r===void 0)return Promise.resolve(t);var i=CH(function(){return r.apply(e,[t])}).then(function(o){var a=new Date().getTime()-n;return o.stats.gauge("plugin_time",a,["plugin:".concat(e.name)]),o}).catch(function(o){if(o instanceof Hd&&o.type==="middleware_cancellation")throw o;return o instanceof Hd?(t.log("warn",o.type,{plugin:e.name,error:o}),o):(t.log("error","plugin Error",{plugin:e.name,error:o}),t.stats.increment("plugin_error",1,["plugin:".concat(e.name)]),o)});return i}function AH(t,e){return mh(t,e).then(function(n){if(n instanceof Um)return n;t.log("debug","Context canceled"),t.stats.increment("context_canceled"),t.cancel(n)})}var IH=function(t){Mi(e,t);function e(n){var r=t.call(this)||this;return r.criticalTasks=SH(),r.plugins=[],r.failedInitializations=[],r.flushing=!1,r.queue=n,r.queue.on(Y8,function(){r.scheduleFlush(0)}),r}return e.prototype.register=function(n,r,i){return bt(this,void 0,void 0,function(){var o,a,s=this;return Et(this,function(l){switch(l.label){case 0:return this.plugins.push(r),o=function(c){s.failedInitializations.push(r.name),s.emit("initialization_failure",r),console.warn(r.name,c),n.log("warn","Failed to load destination",{plugin:r.name,error:c}),s.plugins=s.plugins.filter(function(u){return u!==r})},r.type==="destination"&&r.name!=="Segment.io"?(r.load(n,i).catch(o),[3,4]):[3,1];case 1:return l.trys.push([1,3,,4]),[4,r.load(n,i)];case 2:return l.sent(),[3,4];case 3:return a=l.sent(),o(a),[3,4];case 4:return[2]}})})},e.prototype.deregister=function(n,r,i){return bt(this,void 0,void 0,function(){var o;return Et(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),r.unload?[4,Promise.resolve(r.unload(n,i))]:[3,2];case 1:a.sent(),a.label=2;case 2:return this.plugins=this.plugins.filter(function(s){return s.name!==r.name}),[3,4];case 3:return o=a.sent(),n.log("warn","Failed to unload destination",{plugin:r.name,error:o}),[3,4];case 4:return[2]}})})},e.prototype.dispatch=function(n){return bt(this,void 0,void 0,function(){var r;return Et(this,function(i){return n.log("debug","Dispatching"),n.stats.increment("message_dispatched"),this.queue.push(n),r=this.subscribeToDelivery(n),this.scheduleFlush(0),[2,r]})})},e.prototype.subscribeToDelivery=function(n){return bt(this,void 0,void 0,function(){var r=this;return Et(this,function(i){return[2,new Promise(function(o){var a=function(s,l){s.isSame(n)&&(r.off("flush",a),o(s))};r.on("flush",a)})]})})},e.prototype.dispatchSingle=function(n){return bt(this,void 0,void 0,function(){var r=this;return Et(this,function(i){return n.log("debug","Dispatching"),n.stats.increment("message_dispatched"),this.queue.updateAttempts(n),n.attempts=1,[2,this.deliver(n).catch(function(o){var a=r.enqueuRetry(o,n);return a?r.subscribeToDelivery(n):(n.setFailedDelivery({reason:o}),n)})]})})},e.prototype.isEmpty=function(){return this.queue.length===0},e.prototype.scheduleFlush=function(n){var r=this;n===void 0&&(n=500),!this.flushing&&(this.flushing=!0,setTimeout(function(){r.flush().then(function(){setTimeout(function(){r.flushing=!1,r.queue.length&&r.scheduleFlush(0)},0)})},n))},e.prototype.deliver=function(n){return bt(this,void 0,void 0,function(){var r,i,o,a;return Et(this,function(s){switch(s.label){case 0:return[4,this.criticalTasks.done()];case 1:s.sent(),r=Date.now(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.flushOne(n)];case 3:return n=s.sent(),i=Date.now()-r,this.emit("delivery_success",n),n.stats.gauge("delivered",i),n.log("debug","Delivered",n.event),[2,n];case 4:throw o=s.sent(),a=o,n.log("error","Failed to deliver",a),this.emit("delivery_failure",n,a),n.stats.increment("delivery_failed"),o;case 5:return[2]}})})},e.prototype.enqueuRetry=function(n,r){var i=!(n instanceof Hd)||n.retry;return i?this.queue.pushWithBackoff(r):!1},e.prototype.flush=function(){return bt(this,void 0,void 0,function(){var n,r,i;return Et(this,function(o){switch(o.label){case 0:if(this.queue.length===0)return[2,[]];if(n=this.queue.pop(),!n)return[2,[]];n.attempts=this.queue.getAttempts(n),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.deliver(n)];case 2:return n=o.sent(),this.emit("flush",n,!0),[3,4];case 3:return r=o.sent(),i=this.enqueuRetry(r,n),i||(n.setFailedDelivery({reason:r}),this.emit("flush",n,!1)),[2,[]];case 4:return[2,[n]]}})})},e.prototype.isReady=function(){return!0},e.prototype.availableExtensions=function(n){var r=this.plugins.filter(function(g){var m,v,_;if(g.type!=="destination"&&g.name!=="Segment.io")return!0;var w=void 0;return(m=g.alternativeNames)===null||m===void 0||m.forEach(function(I){n[I]!==void 0&&(w=n[I])}),(_=(v=n[g.name])!==null&&v!==void 0?v:w)!==null&&_!==void 0?_:(g.name==="Segment.io"?!0:n.All)!==!1}),i=xH(r,"type"),o=i.before,a=o===void 0?[]:o,s=i.enrichment,l=s===void 0?[]:s,c=i.destination,u=c===void 0?[]:c,f=i.after,p=f===void 0?[]:f;return{before:a,enrichment:l,destinations:u,after:p}},e.prototype.flushOne=function(n){var r,i;return bt(this,void 0,void 0,function(){var o,a,s,l,c,u,m,f,p,g,m,v,_,w,I;return Et(this,function(k){switch(k.label){case 0:if(!this.isReady())throw new Error("Not ready");n.attempts>1&&this.emit("delivery_retry",n),o=this.availableExtensions((r=n.event.integrations)!==null&&r!==void 0?r:{}),a=o.before,s=o.enrichment,l=0,c=a,k.label=1;case 1:return l<c.length?(u=c[l],[4,AH(n,u)]):[3,4];case 2:m=k.sent(),m instanceof Um&&(n=m),this.emit("message_enriched",n,u),k.label=3;case 3:return l++,[3,1];case 4:f=0,p=s,k.label=5;case 5:return f<p.length?(g=p[f],[4,mh(n,g)]):[3,8];case 6:m=k.sent(),m instanceof Um&&(n=m),this.emit("message_enriched",n,g),k.label=7;case 7:return f++,[3,5];case 8:return v=this.availableExtensions((i=n.event.integrations)!==null&&i!==void 0?i:{}),_=v.destinations,w=v.after,[4,new Promise(function($,L){setTimeout(function(){var z=_.map(function(H){return mh(n,H)});Promise.all(z).then($).catch(L)},0)})];case 9:return k.sent(),n.stats.increment("message_delivered"),this.emit("message_delivered",n),I=w.map(function($){return mh(n,$)}),[4,Promise.all(I)];case 10:return k.sent(),[2,n]}})})},e}(Vx),kH=function(t,e){var n=Date.now()-t;return Math.max((e??300)-n,0)};function MH(t,e,n,r){return bt(this,void 0,void 0,function(){var i,o;return Et(this,function(a){switch(a.label){case 0:return n.emit("dispatch_start",t),i=Date.now(),e.isEmpty()?[4,e.dispatchSingle(t)]:[3,2];case 1:return o=a.sent(),[3,4];case 2:return[4,e.dispatch(t)];case 3:o=a.sent(),a.label=4;case 4:return r!=null&&r.callback?[4,vH(o,r.callback,kH(i,r.timeout))]:[3,6];case 5:o=a.sent(),a.label=6;case 6:return r!=null&&r.debug&&o.flush(),[2,o]}})})}function OH(t,e,n,r){var i,o=[t,e,n,r],a=Ho(t)?t.event:t;if(!a||!Wl(a))throw new Error("Event missing");var s=Ho(t)?(i=t.properties)!==null&&i!==void 0?i:{}:Ho(e)?e:{},l={};Ad(n)||(l=n??{}),Ho(t)&&!Ad(e)&&(l=e??{});var c=o.find(Ad);return[a,s,l,c]}function IA(t,e,n,r,i){var o,a,s=null,l=null,c=[t,e,n,r,i],u=c.filter(Wl);u.length===1?Wl(c[1])?(l=c[1],s=null):(l=u[0],s=null):u.length===2&&(typeof c[0]=="string"&&(s=c[0]),typeof c[1]=="string"&&(l=c[1]));var f=c.find(Ad),p=c.filter(Ho);return p.length===1?Ho(c[2])?(a={},o=c[2]):Ho(c[3])?(o={},a=c[3]):(o=p[0],a={}):p.length===2&&(o=p[0],a=p[1]),[s,l,o??(o={}),a??(a={}),f]}var kA=function(t){return function(){for(var e,n,r,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];for(var a={},s=["callback","options","traits","id"],l=0,c=i;l<c.length;l++){var u=c[l],f=s.pop();if(f==="id"){if(Wl(u)||nE(u)){a.id=u.toString();continue}if(u==null)continue;f=s.pop()}if((f==="traits"||f==="options")&&(u==null||Ho(u))&&(a[f]=u),Ad(u)){a.callback=u;break}}return[(e=a.id)!==null&&e!==void 0?e:t.id(),(n=a.traits)!==null&&n!==void 0?n:{},(r=a.options)!==null&&r!==void 0?r:{},a.callback]}};function RH(t,e,n,r){nE(t)&&(t=t.toString()),nE(e)&&(e=e.toString());var i=[t,e,n,r],o=i.filter(Wl),a=o[0],s=a===void 0?t:a,l=o[1],c=l===void 0?null:l,u=i.filter(Ho)[0],f=u===void 0?{}:u,p=i.find(Ad);return[s,c,f,p]}function Jx(){return typeof window<"u"}function Foe(){return!Jx()}function TH(){return Jx()?window.navigator.onLine:!0}function Dh(){return!TH()}function PH(t,e){return e=e||{},new Promise(function(n,r){var i=new XMLHttpRequest,o=[],a=[],s={},l=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:l,headers:{keys:function(){return o},entries:function(){return a},get:function(u){return s[u.toLowerCase()]},has:function(u){return u.toLowerCase()in s}}}};for(var c in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(u,f,p){o.push(f=f.toLowerCase()),a.push([f,p]),s[f]=s[f]?s[f]+","+p:p}),n(l())},i.onerror=r,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(c,e.headers[c]);i.send(e.body||null)})}var Zx=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"||typeof window<"u"?window:null},Zv=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Zx();return(n&&n.fetch||PH).apply(void 0,t)},Qv="1.81.1",Z8="api.segment.io/v1",NH=function(t,e,n){var r=e.reduce(function(i,o){var a=o.split(":"),s=a[0],l=a[1];return i[s]=l,i},{});return{type:"Counter",metric:t,value:1,tags:et(et({},r),{library:"analytics.js",library_version:"npm:next-".concat(Qv)})}};function o3(t){console.error("Error sending segment performance metrics",t)}var LH=function(){function t(e){var n=this,r,i,o,a,s;if(this.host=(r=e==null?void 0:e.host)!==null&&r!==void 0?r:Z8,this.sampleRate=(i=e==null?void 0:e.sampleRate)!==null&&i!==void 0?i:1,this.flushTimer=(o=e==null?void 0:e.flushTimer)!==null&&o!==void 0?o:30*1e3,this.maxQueueSize=(a=e==null?void 0:e.maxQueueSize)!==null&&a!==void 0?a:20,this.protocol=(s=e==null?void 0:e.protocol)!==null&&s!==void 0?s:"https",this.queue=[],this.sampleRate>0){var l=!1,c=function(){l||(l=!0,n.flush().catch(o3),l=!1,setTimeout(c,n.flushTimer))};c()}}return t.prototype.increment=function(e,n){if(e.includes("analytics_js.")&&n.length!==0&&!(Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var r=NH(e,n);this.queue.push(r),e.includes("error")&&this.flush().catch(o3)}},t.prototype.flush=function(){return bt(this,void 0,void 0,function(){var e=this;return Et(this,function(n){switch(n.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch(function(r){o3(r),e.sampleRate=0})];case 1:return n.sent(),[2]}})})},t.prototype.send=function(){return bt(this,void 0,void 0,function(){var e,n,r;return Et(this,function(i){return e={series:this.queue},this.queue=[],n={"Content-Type":"text/plain"},r="".concat(this.protocol,"://").concat(this.host,"/m"),[2,Zv(r,{headers:n,body:JSON.stringify(e),method:"POST"})]})})},t}(),ag,Q8=function(t){Mi(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.initRemoteMetrics=function(n){ag=new LH(n)},e.prototype.increment=function(n,r,i){t.prototype.increment.call(this,n,r,i),ag==null||ag.increment(n,i??[])},e}(J8),Ea=function(t){Mi(e,t);function e(n,r){return t.call(this,n,r,new Q8)||this}return e.system=function(){return new this({type:"track",event:"system"})},e}(Um);function DH(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()==="object"}var X8="bpc",eT=function(t,e,n,r,i,o){return{__t:X8,c:e,p:r,u:t,s:n,t:i,r:o}},BH=Object.keys(eT("","","","","",""));function jH(t){if(!DH(t)||t.__t!==X8)return!1;for(var e in t)if(!BH.includes(e))return!1;return!0}var $H=function(t,e){return t.indexOf("?")>-1?t:t+e},FH=function(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)},UH=function(t){try{return new URL(t).pathname}catch{return t[0]==="/"?t:"/"+t}},tT=function(t){var e=t.c,n=t.p,r=t.s,i=t.u,o=t.r,a=t.t,s=e?UH(e):n,l=e?$H(e,r):FH(i);return{path:s,referrer:o,search:r,title:a,url:l}},nT=function(){var t=document.querySelector("link[rel='canonical']");return eT(location.href,t&&t.getAttribute("href")||void 0,location.search,location.pathname,document.title,document.referrer)},zH=function(){return tT(nT())};function qH(t,e){return Object.assign.apply(Object,ir([{}],e.map(function(n){var r;if(t&&Object.prototype.hasOwnProperty.call(t,n))return r={},r[n]=t[n],r}),!1))}var Xu=function(t,e){e===void 0&&(e=zH());var n=t.context,r;t.type==="page"&&(r=t.properties&&qH(t.properties,Object.keys(e)),t.properties=et(et(et({},e),t.properties),t.name?{name:t.name}:{})),n.page=et(et(et({},e),r),n.page)},HH=function(t){Mi(e,t);function e(n){var r=t.call(this,{createMessageId:function(){return"ajs-next-".concat(Date.now(),"-").concat(Yx())},onEventMethodCall:function(i){var o=i.options;r.maybeUpdateAnonId(o)},onFinishedEvent:function(i){return r.addIdentity(i),i}})||this;return r.user=n,r}return e.prototype.maybeUpdateAnonId=function(n){n!=null&&n.anonymousId&&this.user.anonymousId(n.anonymousId)},e.prototype.addIdentity=function(n){this.user.id()&&(n.userId=this.user.id()),this.user.anonymousId()&&(n.anonymousId=this.user.anonymousId())},e.prototype.track=function(n,r,i,o,a){var s=t.prototype.track.call(this,n,r,i,o);return Xu(s,a),s},e.prototype.page=function(n,r,i,o,a,s){var l=t.prototype.page.call(this,n,r,i,o,a);return Xu(l,s),l},e.prototype.screen=function(n,r,i,o,a,s){var l=t.prototype.screen.call(this,n,r,i,o,a);return Xu(l,s),l},e.prototype.identify=function(n,r,i,o,a){var s=t.prototype.identify.call(this,n,r,i,o);return Xu(s,a),s},e.prototype.group=function(n,r,i,o,a){var s=t.prototype.group.call(this,n,r,i,o);return Xu(s,a),s},e.prototype.alias=function(n,r,i,o,a){var s=t.prototype.alias.call(this,n,r,i,o);return Xu(s,a),s},e}(pH),WH=function(t){return"addMiddleware"in t&&t.type==="destination"},Is={getItem:function(){},setItem:function(){},removeItem:function(){}};try{Is=Jx()&&window.localStorage?window.localStorage:Is}catch(t){console.warn("Unable to access localStorage",t)}function rT(t){var e=Is.getItem(t);return(e?JSON.parse(e):[]).map(function(n){return new Ea(n.event,n.id)})}function KH(t,e){var n=rT(t),r=ir(ir([],e,!0),n,!0),i=r.reduce(function(o,a){var s;return et(et({},o),(s={},s[a.id]=a,s))},{});Is.setItem(t,JSON.stringify(Object.values(i)))}function iT(t){var e=Is.getItem(t);return e?JSON.parse(e):{}}function VH(t,e){var n=iT(t);Is.setItem(t,JSON.stringify(et(et({},n),e)))}function MA(t){Is.removeItem(t)}var GH=function(){return new Date().getTime()};function rE(t,e,n){n===void 0&&(n=0);var r=50,i="persisted-queue:v1:".concat(t,":lock"),o=function(c){return new Date().getTime()>c},a=Is.getItem(i),s=a?JSON.parse(a):null,l=s===null||o(s);if(l){Is.setItem(i,JSON.stringify(GH()+r)),e(),Is.removeItem(i);return}!l&&n<3?setTimeout(function(){rE(t,e,n+1)},r):console.error("Unable to retrieve lock")}var Qx=function(t){Mi(e,t);function e(n,r){var i=t.call(this,n,[])||this,o="persisted-queue:v1:".concat(r,":items"),a="persisted-queue:v1:".concat(r,":seen"),s=[],l={};return rE(r,function(){try{s=rT(o),l=iT(a),MA(o),MA(a),i.queue=ir(ir([],s,!0),i.queue,!0),i.seen=et(et({},l),i.seen)}catch(c){console.error(c)}}),window.addEventListener("pagehide",function(){if(i.todo>0){var c=ir(ir([],i.queue,!0),i.future,!0);try{rE(r,function(){KH(o,c),VH(a,i.seen)})}catch(u){console.error(u)}}}),i}return e}(Gx),YH=function(t){Mi(e,t);function e(n){return t.call(this,typeof n=="string"?new Qx(4,n):n)||this}return e.prototype.flush=function(){return bt(this,void 0,void 0,function(){return Et(this,function(n){return Dh()?[2,[]]:[2,t.prototype.flush.call(this)]})})},e}(IH);function Xx(t){for(var e=t.constructor.prototype,n=0,r=Object.getOwnPropertyNames(e);n<r.length;n++){var i=r[n];if(i!=="constructor"){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);o&&typeof o.value=="function"&&(t[i]=t[i].bind(t))}}return t}/*! js-cookie v3.0.1 | MIT */function lg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var JH={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function iE(t,e){function n(i,o,a){if(!(typeof document>"u")){a=lg({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var l in a)a[l]&&(s+="; "+l,a[l]!==!0&&(s+="="+a[l].split(";")[0]));return document.cookie=i+"="+t.write(o,i)+s}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],a={},s=0;s<o.length;s++){var l=o[s].split("="),c=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(a[u]=t.read(c,u),i===u)break}catch{}}return i?a[i]:a}}return Object.create({set:n,get:r,remove:function(i,o){n(i,"",lg({},o,{expires:-1}))},withAttributes:function(i){return iE(this.converter,lg({},this.attributes,i))},withConverter:function(i){return iE(lg({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var fa=iE(JH,{path:"/"});function ZH(t){var e=t.hostname,n=e.split("."),r=n[n.length-1],i=[];if(n.length===4&&parseInt(r,10)>0||n.length<=1)return i;for(var o=n.length-2;o>=0;--o)i.push(n.slice(o).join("."));return i}function QH(t){try{return new URL(t)}catch{return}}function oT(t){var e=QH(t);if(e)for(var n=ZH(e),r=0;r<n.length;++r){var i="__tld__",o=n[r],a={domain:"."+o};try{if(fa.set(i,"1",a),fa.get(i))return fa.remove(i,a),o}catch{return}}}var XH=365,sT=function(){function t(e){e===void 0&&(e=t.defaults),this.options=et(et({},t.defaults),e)}return Object.defineProperty(t,"defaults",{get:function(){return{maxage:XH,domain:oT(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),t.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},t.prototype.get=function(e){var n;try{var r=fa.get(e);if(r==null)return null;try{return(n=JSON.parse(r))!==null&&n!==void 0?n:null}catch{return r??null}}catch{return null}},t.prototype.set=function(e,n){typeof n=="string"?fa.set(e,n,this.opts()):n===null?fa.remove(e,this.opts()):fa.set(e,JSON.stringify(n),this.opts())},t.prototype.remove=function(e){return fa.remove(e,this.opts())},t}(),eW=function(){function t(){}return t.prototype.localStorageWarning=function(e,n){console.warn("Unable to access ".concat(e,", localStorage may be ").concat(n))},t.prototype.get=function(e){var n;try{var r=localStorage.getItem(e);if(r===null)return null;try{return(n=JSON.parse(r))!==null&&n!==void 0?n:null}catch{return r??null}}catch{return this.localStorageWarning(e,"unavailable"),null}},t.prototype.set=function(e,n){try{localStorage.setItem(e,JSON.stringify(n))}catch{this.localStorageWarning(e,"full")}},t.prototype.remove=function(e){try{return localStorage.removeItem(e)}catch{this.localStorageWarning(e,"unavailable")}},t}(),e_=function(){function t(){this.cache={}}return t.prototype.get=function(e){var n;return(n=this.cache[e])!==null&&n!==void 0?n:null},t.prototype.set=function(e,n){this.cache[e]=n},t.prototype.remove=function(e){delete this.cache[e]},t}(),Si={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"};function aT(t){return t&&t.stores&&Array.isArray(t.stores)&&t.stores.every(function(e){return Object.values(Si).includes(e)})}function tW(t){return typeof t=="object"&&t.name!==void 0}var s3=function(t,e,n,r){console.warn("".concat(t.constructor.name,": Can't ").concat(e,' key "').concat(n,'" | Err: ').concat(r))},ou=function(){function t(e){this.stores=e}return t.prototype.get=function(e){for(var n=null,r=0,i=this.stores;r<i.length;r++){var o=i[r];try{if(n=o.get(e),n!=null)return n}catch(a){s3(o,"get",e,a)}}return null},t.prototype.set=function(e,n){this.stores.forEach(function(r){try{r.set(e,n)}catch(i){s3(r,"set",e,i)}})},t.prototype.clear=function(e){this.stores.forEach(function(n){try{n.remove(e)}catch(r){s3(n,"remove",e,r)}})},t.prototype.getAndSync=function(e){var n=this.get(e),r=typeof n=="number"?n.toString():n;return this.set(e,r),r},t}();function oE(t){var e=t.map(function(n){var r,i;switch(tW(n)?(r=n.name,i=n.settings):r=n,r){case Si.Cookie:return new sT(i);case Si.LocalStorage:return new eW;case Si.Memory:return new e_;default:throw new Error("Unknown Store Type: ".concat(n))}});return e}function lT(t,e){return t.map(function(n){return e&&n===Si.Cookie?{name:n,settings:e}:n})}var Sc={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},cT=function(){function t(e,n){e===void 0&&(e=Sc);var r=this,i,o,a,s;this.options={},this.id=function(c){if(r.options.disable)return null;var u=r.identityStore.getAndSync(r.idKey);if(c!==void 0){r.identityStore.set(r.idKey,c);var f=c!==u&&u!==null&&c!==null;f&&r.anonymousId(null)}var p=r.identityStore.getAndSync(r.idKey);if(p)return p;var g=r.legacyUserStore.get(Sc.cookie.oldKey);return g?typeof g=="object"?g.id:g:null},this.anonymousId=function(c){var u,f;if(r.options.disable)return null;if(c===void 0){var p=(u=r.identityStore.getAndSync(r.anonKey))!==null&&u!==void 0?u:(f=r.legacySIO())===null||f===void 0?void 0:f[0];if(p)return p}return c===null?(r.identityStore.set(r.anonKey,null),r.identityStore.getAndSync(r.anonKey)):(r.identityStore.set(r.anonKey,c??Yx()),r.identityStore.getAndSync(r.anonKey))},this.traits=function(c){var u;if(!r.options.disable)return c===null&&(c={}),c&&r.traitsStore.set(r.traitsKey,c??{}),(u=r.traitsStore.get(r.traitsKey))!==null&&u!==void 0?u:{}},this.options=et(et({},Sc),e),this.cookieOptions=n,this.idKey=(o=(i=e.cookie)===null||i===void 0?void 0:i.key)!==null&&o!==void 0?o:Sc.cookie.key,this.traitsKey=(s=(a=e.localStorage)===null||a===void 0?void 0:a.key)!==null&&s!==void 0?s:Sc.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,n),this.legacyUserStore=this.createStorage(this.options,n,function(c){return c===Si.Cookie}),this.traitsStore=this.createStorage(this.options,n,function(c){return c!==Si.Cookie});var l=this.legacyUserStore.get(Sc.cookie.oldKey);l&&typeof l=="object"&&(l.id&&this.id(l.id),l.traits&&this.traits(l.traits)),Xx(this)}return t.prototype.legacySIO=function(){var e=this.legacyUserStore.get("_sio");if(!e)return null;var n=e.split("----"),r=n[0],i=n[1];return[r,i]},t.prototype.identify=function(e,n){if(!this.options.disable){n=n??{};var r=this.id();(r===null||r===e)&&(n=et(et({},this.traits()),n)),e&&this.id(e),this.traits(n)}},t.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},t.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},t.prototype.load=function(){return new t(this.options,this.cookieOptions)},t.prototype.save=function(){return!0},t.prototype.createStorage=function(e,n,r){var i=[Si.LocalStorage,Si.Cookie,Si.Memory];return e.disable?new ou([]):e.persist?(e.storage!==void 0&&e.storage!==null&&aT(e.storage)&&(i=e.storage.stores),e.localStorageFallbackDisabled&&(i=i.filter(function(o){return o!==Si.LocalStorage})),r&&(i=i.filter(r)),new ou(oE(lT(i,n)))):new ou([new e_])},t.defaults=Sc,t}(),OA={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},nW=function(t){Mi(e,t);function e(n,r){n===void 0&&(n=OA);var i=t.call(this,et(et({},OA),n),r)||this;return i.anonymousId=function(o){},Xx(i),i}return e}(cT),t_="analytics";function uT(){return window[t_]}function rW(t){t_=t}function iW(t){window[t_]=t}var oW=function(t){return typeof t=="object"&&t!==null&&"then"in t&&typeof t.then=="function"},dT=function(t,e,n){n.getAndRemove(t).forEach(function(r){Xv(e,r).catch(console.error)})},sW=function(t,e){return bt(void 0,void 0,void 0,function(){var n,r,i;return Et(this,function(o){switch(o.label){case 0:n=0,r=e.getAndRemove("addSourceMiddleware"),o.label=1;case 1:return n<r.length?(i=r[n],[4,Xv(t,i).catch(console.error)]):[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},aW=function(t,e){return bt(void 0,void 0,void 0,function(){var n,r,i;return Et(this,function(o){switch(o.label){case 0:n=0,r=e.getAndRemove("register"),o.label=1;case 1:return n<r.length?(i=r[n],[4,Xv(t,i).catch(console.error)]):[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},lW=dT.bind(void 0,"on"),cW=dT.bind(void 0,"setAnonymousId"),uW=function(t,e){Object.keys(e.calls).forEach(function(n){e.getAndRemove(n).forEach(function(r){setTimeout(function(){Xv(t,r).catch(console.error)},0)})})},ed=function(t){if(fT(t)){var e=t.pop();return tT(e)}},fT=function(t){var e=t[t.length-1];return jH(e)},sE=function(){function t(e,n,r,i){r===void 0&&(r=function(){}),i===void 0&&(i=console.error),this.method=e,this.resolve=r,this.reject=i,this.called=!1,this.args=n}return t}(),dW=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._callMap={},this.add.apply(this,e)}return Object.defineProperty(t.prototype,"calls",{get:function(){return this._pushSnippetWindowBuffer(),this._callMap},set:function(e){this._callMap=e},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var n;return(n=this.calls[e])!==null&&n!==void 0?n:[]},t.prototype.getAndRemove=function(e){var n=this.get(e);return this.calls[e]=[],n},t.prototype.add=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n.forEach(function(i){var o=["track","screen","alias","group","page","identify"];o.includes(i.method)&&!fT(i.args)&&(i.args=ir(ir([],i.args,!0),[nT()],!1)),e.calls[i.method]?e.calls[i.method].push(i):e.calls[i.method]=[i]})},t.prototype.clear=function(){this._pushSnippetWindowBuffer(),this.calls={}},t.prototype.toArray=function(){var e;return(e=[]).concat.apply(e,Object.values(this.calls))},t.prototype._pushSnippetWindowBuffer=function(){},t}();function Xv(t,e){return bt(this,void 0,void 0,function(){var n,r;return Et(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),e.called?[2,void 0]:(e.called=!0,n=t[e.method].apply(t,e.args),oW(n)?[4,n]:[3,2]);case 1:i.sent(),i.label=2;case 2:return e.resolve(n),[3,4];case 3:return r=i.sent(),e.reject(r),[3,4];case 4:return[2]}})})}var fW=function(){function t(e){var n=this;this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=Qv,this._preInitBuffer=new dW,this._promise=e(this._preInitBuffer),this._promise.then(function(r){var i=r[0],o=r[1];n.instance=i,n.ctx=o}).catch(function(){})}return t.prototype.then=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=this._promise).then.apply(e,n)},t.prototype.catch=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=this._promise).catch.apply(e,n)},t.prototype.finally=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=this._promise).finally.apply(e,n)},t.prototype._createMethod=function(e){var n=this;return function(){for(var r,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n.instance){var a=(r=n.instance)[e].apply(r,i);return Promise.resolve(a)}return new Promise(function(s,l){n._preInitBuffer.add(new sE(e,i,s,l))})}},t.prototype._createChainableMethod=function(e){var n=this;return function(){for(var r,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return n.instance?((r=n.instance)[e].apply(r,i),n):(n._preInitBuffer.add(new sE(e,i)),n)}},t}(),Kf={},Cc={},td={},a3={exports:{}},RA;function ey(){return RA||(RA=1,function(t){t.exports=e(n),t.exports.find=t.exports,t.exports.replace=function(s,l,c,u){return e(i).call(this,s,l,c,u),s},t.exports.del=function(s,l,c){return e(r).call(this,s,l,null,c),s};function e(s){return function(l,c,u,f){var p=f&&a(f.normalizer)?f.normalizer:o;c=p(c);for(var g,m=!1;!m;)v();function v(){for(g in l){var _=p(g);if(c.indexOf(_)===0){var w=c.substr(_.length);if(w.charAt(0)==="."||w.length===0){c=w.substr(1);var I=l[g];if(I==null){m=!0;return}if(!c.length){m=!0;return}l=I;return}}}g=void 0,m=!0}if(g)return l==null?l:s(l,g,u)}}function n(s,l){if(s.hasOwnProperty(l))return s[l]}function r(s,l){return s.hasOwnProperty(l)&&delete s[l],s}function i(s,l,c){return s.hasOwnProperty(l)&&(s[l]=c),s}function o(s){return s.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function a(s){return typeof s=="function"}}(a3)),a3.exports}var TA;function hW(){if(TA)return td;TA=1;var t=td&&td.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(td,"__esModule",{value:!0});var e=t(ey());function n(i,o){return function(){var a=this.traits(),s=this.properties?this.properties():{};return e.default(a,"address."+i)||e.default(a,i)||(o?e.default(a,"address."+o):null)||(o?e.default(a,o):null)||e.default(s,"address."+i)||e.default(s,i)||(o?e.default(s,"address."+o):null)||(o?e.default(s,o):null)}}function r(i){i.zip=n("postalCode","zip"),i.country=n("country"),i.street=n("street"),i.state=n("state"),i.city=n("city"),i.region=n("region")}return td.default=r,td}var Vf={},PA;function pW(){if(PA)return Vf;PA=1,Object.defineProperty(Vf,"__esModule",{value:!0}),Vf.clone=void 0;function t(e){if(typeof e!="object")return e;if(Object.prototype.toString.call(e)==="[object Object]"){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=t(e[r]));return n}else return Array.isArray(e)?e.map(t):e}return Vf.clone=t,Vf}var cg={},NA;function gW(){if(NA)return cg;NA=1,Object.defineProperty(cg,"__esModule",{value:!0});var t={Salesforce:!0};function e(n){return!t[n]}return cg.default=e,cg}var ug={},LA;function hT(){if(LA)return ug;LA=1;var t=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;return ug.parse=function(e){var n=[1,5,6,7,11,12],r=t.exec(e),i=0;if(!r)return new Date(e);for(var o=0,a;a=n[o];o++)r[a]=parseInt(r[a],10)||0;r[2]=parseInt(r[2],10)||1,r[3]=parseInt(r[3],10)||1,r[2]--,r[8]=r[8]?(r[8]+"00").substring(0,3):0,r[4]===" "?i=new Date().getTimezoneOffset():r[9]!=="Z"&&r[10]&&(i=r[11]*60+r[12],r[10]==="+"&&(i=0-i));var s=Date.UTC(r[1],r[2],r[3],r[5],r[6]+i,r[7],r[8]);return new Date(s)},ug.is=function(e,n){return typeof e!="string"||n&&/^\d{4}-\d{2}-\d{2}/.test(e)===!1?!1:t.test(e)},ug}var dg={},DA;function mW(){if(DA)return dg;DA=1;var t=/\d{13}/;return dg.is=function(e){return t.test(e)},dg.parse=function(e){return e=parseInt(e,10),new Date(e)},dg}var fg={},BA;function vW(){if(BA)return fg;BA=1;var t=/\d{10}/;return fg.is=function(e){return t.test(e)},fg.parse=function(e){var n=parseInt(e,10)*1e3;return new Date(n)},fg}var l3,jA;function n_(){if(jA)return l3;jA=1;var t=hT(),e=mW(),n=vW(),r=Object.prototype,i=r.toString;function o(l){return i.call(l)==="[object Date]"}function a(l){return i.call(l)==="[object Number]"}l3=function(c){return o(c)?c:a(c)?new Date(s(c)):t.is(c)?t.parse(c):e.is(c)?e.parse(c):n.is(c)?n.parse(c):new Date(c)};function s(l){return l<315576e5?l*1e3:l}return l3}var c3,$A;function yW(){if($A)return c3;$A=1;var t=hT();c3=e;function e(i,o){return o===void 0&&(o=!0),i&&typeof i=="object"?n(i,o):Array.isArray(i)?r(i,o):t.is(i,o)?t.parse(i):i}function n(i,o){return Object.keys(i).forEach(function(a){i[a]=e(i[a],o)}),i}function r(i,o){return i.forEach(function(a,s){i[s]=e(a,o)}),i}return c3}var FA;function wu(){if(FA)return Cc;FA=1;var t=Cc&&Cc.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.Facade=void 0;var e=t(hW()),n=pW(),r=t(gW()),i=t(n_()),o=t(ey()),a=t(yW());function s(u,f){f=f||{},this.raw=n.clone(u),"clone"in f||(f.clone=!0),f.clone&&(u=n.clone(u)),"traverse"in f||(f.traverse=!0),"timestamp"in u?u.timestamp=i.default(u.timestamp):u.timestamp=new Date,f.traverse&&a.default(u),this.opts=f,this.obj=u}Cc.Facade=s;var l=s.prototype;l.proxy=function(u){var f=u.split(".");u=f.shift();var p=this[u]||this.obj[u];return p&&(typeof p=="function"&&(p=p.call(this)||{}),f.length===0?this.opts.clone?c(p):p:(p=o.default(p,f.join(".")),this.opts.clone?c(p):p))},l.field=function(u){var f=this.obj[u];return this.opts.clone?c(f):f},s.proxy=function(u){return function(){return this.proxy(u)}},s.field=function(u){return function(){return this.field(u)}},s.multi=function(u){return function(){var f=this.proxy(u+"s");if(Array.isArray(f))return f;var p=this.proxy(u);return p&&(p=[this.opts.clone?n.clone(p):p]),p||[]}},s.one=function(u){return function(){var f=this.proxy(u);if(f)return f;var p=this.proxy(u+"s");if(Array.isArray(p))return p[0]}},l.json=function(){var u=this.opts.clone?n.clone(this.obj):this.obj;return this.type&&(u.type=this.type()),u},l.rawEvent=function(){return this.raw},l.options=function(u){var f=this.obj.options||this.obj.context||{},p=this.opts.clone?n.clone(f):f;if(!u)return p;if(this.enabled(u)){var g=this.integrations(),m=g[u]||o.default(g,u);return typeof m!="object"&&(m=o.default(this.options(),u)),typeof m=="object"?m:{}}},l.context=l.options,l.enabled=function(u){var f=this.proxy("options.providers.all");typeof f!="boolean"&&(f=this.proxy("options.all")),typeof f!="boolean"&&(f=this.proxy("integrations.all")),typeof f!="boolean"&&(f=!0);var p=f&&r.default(u),g=this.integrations();if(g.providers&&g.providers.hasOwnProperty(u)&&(p=g.providers[u]),g.hasOwnProperty(u)){var m=g[u];typeof m=="boolean"?p=m:p=!0}return!!p},l.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()},l.active=function(){var u=this.proxy("options.active");return u==null&&(u=!0),u},l.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")},l.sessionId=l.anonymousId,l.groupId=s.proxy("options.groupId"),l.traits=function(u){var f=this.proxy("options.traits")||{},p=this.userId();u=u||{},p&&(f.id=p);for(var g in u)if(Object.prototype.hasOwnProperty.call(u,g)){var m=this[g]==null?this.proxy("options.traits."+g):this[g]();if(m==null)continue;f[u[g]]=m,delete f[g]}return f},l.library=function(){var u=this.proxy("options.library");return u?typeof u=="string"?{name:u,version:null}:u:{name:"unknown",version:null}},l.device=function(){var u=this.proxy("context.device");(typeof u!="object"||u===null)&&(u={});var f=this.library().name;return u.type||(f.indexOf("ios")>-1&&(u.type="ios"),f.indexOf("android")>-1&&(u.type="android")),u},l.userAgent=s.proxy("context.userAgent"),l.timezone=s.proxy("context.timezone"),l.timestamp=s.field("timestamp"),l.channel=s.field("channel"),l.ip=s.proxy("context.ip"),l.userId=s.field("userId"),e.default(l);function c(u){return n.clone(u)}return Cc}var Ac={},UA;function wW(){if(UA)return Ac;UA=1;var t=Ac&&Ac.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.Alias=void 0;var e=t(Go()),n=wu();function r(i,o){n.Facade.call(this,i,o)}return Ac.Alias=r,e.default(r,n.Facade),r.prototype.action=function(){return"alias"},r.prototype.type=r.prototype.action,r.prototype.previousId=function(){return this.field("previousId")||this.field("from")},r.prototype.from=r.prototype.previousId,r.prototype.userId=function(){return this.field("userId")||this.field("to")},r.prototype.to=r.prototype.userId,Ac}var Ic={},hg={},zA;function ty(){if(zA)return hg;zA=1,Object.defineProperty(hg,"__esModule",{value:!0});var t=/.+\@.+\..+/;function e(n){return t.test(n)}return hg.default=e,hg}var qA;function bW(){if(qA)return Ic;qA=1;var t=Ic&&Ic.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.Group=void 0;var e=t(Go()),n=t(ty()),r=t(n_()),i=wu();function o(s,l){i.Facade.call(this,s,l)}Ic.Group=o,e.default(o,i.Facade);var a=o.prototype;return a.action=function(){return"group"},a.type=a.action,a.groupId=i.Facade.field("groupId"),a.created=function(){var s=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(s)return r.default(s)},a.email=function(){var s=this.proxy("traits.email");if(s)return s;var l=this.groupId();if(n.default(l))return l},a.traits=function(s){var l=this.properties(),c=this.groupId();s=s||{},c&&(l.id=c);for(var u in s)if(Object.prototype.hasOwnProperty.call(s,u)){var f=this[u]==null?this.proxy("traits."+u):this[u]();if(f==null)continue;l[s[u]]=f,delete l[u]}return l},a.name=i.Facade.proxy("traits.name"),a.industry=i.Facade.proxy("traits.industry"),a.employees=i.Facade.proxy("traits.employees"),a.properties=function(){return this.field("traits")||this.field("properties")||{}},Ic}var kc={},HA;function pT(){if(HA)return kc;HA=1;var t=kc&&kc.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(kc,"__esModule",{value:!0}),kc.Identify=void 0;var e=wu(),n=t(ey()),r=t(Go()),i=t(ty()),o=t(n_()),a=function(c){return c.trim()};function s(c,u){e.Facade.call(this,c,u)}kc.Identify=s,r.default(s,e.Facade);var l=s.prototype;return l.action=function(){return"identify"},l.type=l.action,l.traits=function(c){var u=this.field("traits")||{},f=this.userId();c=c||{},f&&(u.id=f);for(var p in c){var g=this[p]==null?this.proxy("traits."+p):this[p]();g!=null&&(u[c[p]]=g,p!==c[p]&&delete u[p])}return u},l.email=function(){var c=this.proxy("traits.email");if(c)return c;var u=this.userId();if(i.default(u))return u},l.created=function(){var c=this.proxy("traits.created")||this.proxy("traits.createdAt");if(c)return o.default(c)},l.companyCreated=function(){var c=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(c)return o.default(c)},l.companyName=function(){return this.proxy("traits.company.name")},l.name=function(){var c=this.proxy("traits.name");if(typeof c=="string")return a(c);var u=this.firstName(),f=this.lastName();if(u&&f)return a(u+" "+f)},l.firstName=function(){var c=this.proxy("traits.firstName");if(typeof c=="string")return a(c);var u=this.proxy("traits.name");if(typeof u=="string")return a(u).split(" ")[0]},l.lastName=function(){var c=this.proxy("traits.lastName");if(typeof c=="string")return a(c);var u=this.proxy("traits.name");if(typeof u=="string"){var f=a(u).indexOf(" ");if(f!==-1)return a(u.substr(f+1))}},l.uid=function(){return this.userId()||this.username()||this.email()},l.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")},l.age=function(){var c=this.birthday(),u=n.default(this.traits(),"age");if(u!=null)return u;if(c instanceof Date){var f=new Date;return f.getFullYear()-c.getFullYear()}},l.avatar=function(){var c=this.traits();return n.default(c,"avatar")||n.default(c,"photoUrl")||n.default(c,"avatarUrl")},l.position=function(){var c=this.traits();return n.default(c,"position")||n.default(c,"jobTitle")},l.username=e.Facade.proxy("traits.username"),l.website=e.Facade.one("traits.website"),l.websites=e.Facade.multi("traits.website"),l.phone=e.Facade.one("traits.phone"),l.phones=e.Facade.multi("traits.phone"),l.address=e.Facade.proxy("traits.address"),l.gender=e.Facade.proxy("traits.gender"),l.birthday=e.Facade.proxy("traits.birthday"),kc}var Mc={},WA;function r_(){if(WA)return Mc;WA=1;var t=Mc&&Mc.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Mc,"__esModule",{value:!0}),Mc.Track=void 0;var e=t(Go()),n=wu(),r=pT(),i=t(ty()),o=t(ey());function a(c,u){n.Facade.call(this,c,u)}Mc.Track=a,e.default(a,n.Facade);var s=a.prototype;s.action=function(){return"track"},s.type=s.action,s.event=n.Facade.field("event"),s.value=n.Facade.proxy("properties.value"),s.category=n.Facade.proxy("properties.category"),s.id=n.Facade.proxy("properties.id"),s.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")},s.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")},s.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")},s.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")},s.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")},s.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")},s.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")},s.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")},s.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")},s.sku=n.Facade.proxy("properties.sku"),s.tax=n.Facade.proxy("properties.tax"),s.name=n.Facade.proxy("properties.name"),s.price=n.Facade.proxy("properties.price"),s.total=n.Facade.proxy("properties.total"),s.repeat=n.Facade.proxy("properties.repeat"),s.coupon=n.Facade.proxy("properties.coupon"),s.shipping=n.Facade.proxy("properties.shipping"),s.discount=n.Facade.proxy("properties.discount"),s.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")},s.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")},s.description=n.Facade.proxy("properties.description"),s.plan=n.Facade.proxy("properties.plan"),s.subtotal=function(){var c=o.default(this.properties(),"subtotal"),u=this.total()||this.revenue();if(c)return c;if(!u)return 0;if(this.total()){var f=this.tax();f&&(u-=f),f=this.shipping(),f&&(u-=f),f=this.discount(),f&&(u+=f)}return u},s.products=function(){var c=this.properties(),u=o.default(c,"products");return Array.isArray(u)?u.filter(function(f){return f!==null}):[]},s.quantity=function(){var c=this.obj.properties||{};return c.quantity||1},s.currency=function(){var c=this.obj.properties||{};return c.currency||"USD"},s.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},s.query=n.Facade.proxy("options.query"),s.properties=function(c){var u=this.field("properties")||{};c=c||{};for(var f in c)if(Object.prototype.hasOwnProperty.call(c,f)){var p=this[f]==null?this.proxy("properties."+f):this[f]();if(p==null)continue;u[c[f]]=p,delete u[f]}return u},s.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()},s.email=function(){var c=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(c)return c;var u=this.userId();if(i.default(u))return u},s.revenue=function(){var c=this.proxy("properties.revenue"),u=this.event(),f=/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;return!c&&u&&u.match(f)&&(c=this.proxy("properties.total")),l(c)},s.cents=function(){var c=this.revenue();return typeof c!="number"?this.value()||0:c*100},s.identify=function(){var c=this.json();return c.traits=this.traits(),new r.Identify(c,this.opts)};function l(c){if(c){if(typeof c=="number")return c;if(typeof c=="string"&&(c=c.replace(/\$/g,""),c=parseFloat(c),!isNaN(c)))return c}}return Mc}var Oc={},KA;function gT(){if(KA)return Oc;KA=1;var t=Oc&&Oc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.Page=void 0;var e=t(Go()),n=wu(),r=r_(),i=t(ty());function o(s,l){n.Facade.call(this,s,l)}Oc.Page=o,e.default(o,n.Facade);var a=o.prototype;return a.action=function(){return"page"},a.type=a.action,a.category=n.Facade.field("category"),a.name=n.Facade.field("name"),a.title=n.Facade.proxy("properties.title"),a.path=n.Facade.proxy("properties.path"),a.url=n.Facade.proxy("properties.url"),a.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},a.properties=function(s){var l=this.field("properties")||{},c=this.category(),u=this.name();s=s||{},c&&(l.category=c),u&&(l.name=u);for(var f in s)if(Object.prototype.hasOwnProperty.call(s,f)){var p=this[f]==null?this.proxy("properties."+f):this[f]();if(p==null)continue;l[s[f]]=p,f!==s[f]&&delete l[f]}return l},a.email=function(){var s=this.proxy("context.traits.email")||this.proxy("properties.email");if(s)return s;var l=this.userId();if(i.default(l))return l},a.fullName=function(){var s=this.category(),l=this.name();return l&&s?s+" "+l:l},a.event=function(s){return s?"Viewed "+s+" Page":"Loaded a Page"},a.track=function(s){var l=this.json();return l.event=this.event(s),l.timestamp=this.timestamp(),l.properties=this.properties(),new r.Track(l,this.opts)},Oc}var Rc={},VA;function EW(){if(VA)return Rc;VA=1;var t=Rc&&Rc.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.Screen=void 0;var e=t(Go()),n=gT(),r=r_();function i(o,a){n.Page.call(this,o,a)}return Rc.Screen=i,e.default(i,n.Page),i.prototype.action=function(){return"screen"},i.prototype.type=i.prototype.action,i.prototype.event=function(o){return o?"Viewed "+o+" Screen":"Loaded a Screen"},i.prototype.track=function(o){var a=this.json();return a.event=this.event(o),a.timestamp=this.timestamp(),a.properties=this.properties(),new r.Track(a,this.opts)},Rc}var Tc={},GA;function xW(){if(GA)return Tc;GA=1;var t=Tc&&Tc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.Delete=void 0;var e=t(Go()),n=wu();function r(i,o){n.Facade.call(this,i,o)}return Tc.Delete=r,e.default(r,n.Facade),r.prototype.type=function(){return"delete"},Tc}var YA;function _W(){return YA||(YA=1,function(t){var e=Kf&&Kf.__assign||function(){return e=Object.assign||function(u){for(var f,p=1,g=arguments.length;p<g;p++){f=arguments[p];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(u[m]=f[m])}return u},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Delete=t.Screen=t.Page=t.Track=t.Identify=t.Group=t.Alias=t.Facade=void 0;var n=wu();Object.defineProperty(t,"Facade",{enumerable:!0,get:function(){return n.Facade}});var r=wW();Object.defineProperty(t,"Alias",{enumerable:!0,get:function(){return r.Alias}});var i=bW();Object.defineProperty(t,"Group",{enumerable:!0,get:function(){return i.Group}});var o=pT();Object.defineProperty(t,"Identify",{enumerable:!0,get:function(){return o.Identify}});var a=r_();Object.defineProperty(t,"Track",{enumerable:!0,get:function(){return a.Track}});var s=gT();Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return s.Page}});var l=EW();Object.defineProperty(t,"Screen",{enumerable:!0,get:function(){return l.Screen}});var c=xW();Object.defineProperty(t,"Delete",{enumerable:!0,get:function(){return c.Delete}}),t.default=e(e({},n.Facade),{Alias:r.Alias,Group:i.Group,Identify:o.Identify,Track:a.Track,Page:s.Page,Screen:l.Screen,Delete:c.Delete})}(Kf)),Kf}var Pc=_W();function zm(t,e){var n=new Pc.Facade(t,e);return t.type==="track"&&(n=new Pc.Track(t,e)),t.type==="identify"&&(n=new Pc.Identify(t,e)),t.type==="page"&&(n=new Pc.Page(t,e)),t.type==="alias"&&(n=new Pc.Alias(t,e)),t.type==="group"&&(n=new Pc.Group(t,e)),t.type==="screen"&&(n=new Pc.Screen(t,e)),Object.defineProperty(n,"obj",{value:t,writable:!0}),n}var SW=function(t){var e=!1;window.addEventListener("pagehide",function(){e||(e=!0,t(e))}),document.addEventListener("visibilitychange",function(){if(document.visibilityState=="hidden"){if(e)return;e=!0}else e=!1;t(e)})},mT=function(t){Mi(e,t);function e(n,r){var i=t.call(this,n)||this;return i.retryTimeout=r,i.name="RateLimitError",i}return e}(Error),vT=function(t){return et({"Content-Type":"text/plain"},typeof t=="function"?t():t)},CW=500,AW=64;function i_(t){var e=encodeURI(JSON.stringify(t)).split(/%..|./).length-1;return e/1024}function IW(t){return i_(t)>=CW-50}function kW(t){return i_(t)>=AW-10}function MW(t){var e=[],n=0;return t.forEach(function(r){var i=i_(e[n]);i>=64&&n++,e[n]?e[n].push(r):e[n]=[r]}),e}function OW(t,e){var n,r,i=[],o=!1,a=(n=e==null?void 0:e.size)!==null&&n!==void 0?n:10,s=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:5e3,l=0;function c(m){var v;if(m.length!==0){var _=(v=m[0])===null||v===void 0?void 0:v.writeKey,w=m.map(function(I){var k=I;k.sentAt;var $=V8(k,["sentAt"]);return $});return Zv("https://".concat(t,"/b"),{credentials:e==null?void 0:e.credentials,keepalive:(e==null?void 0:e.keepalive)||o,headers:vT(e==null?void 0:e.headers),method:"post",body:JSON.stringify({writeKey:_,batch:w,sentAt:new Date().toISOString()}),priority:e==null?void 0:e.priority}).then(function(I){var k;if(I.status>=500)throw new Error("Bad response from server: ".concat(I.status));if(I.status===429){var $=(k=I.headers)===null||k===void 0?void 0:k.get("x-ratelimit-reset"),L=typeof $=="string"?parseInt($)*1e3:s;throw new mT("Rate limit exceeded: ".concat(I.status),L)}})}}function u(m){var v;return m===void 0&&(m=1),bt(this,void 0,void 0,function(){var _;return Et(this,function(w){return i.length?(_=i,i=[],[2,(v=c(_))===null||v===void 0?void 0:v.catch(function(I){var k,$=Ea.system();$.log("error","Error sending batch",I),m<=((k=e==null?void 0:e.maxRetries)!==null&&k!==void 0?k:10)&&(I.name==="RateLimitError"&&(l=I.retryTimeout),i.push.apply(i,_),i.map(function(L){if("_metadata"in L){var z=L;z._metadata=et(et({},z._metadata),{retryCount:m})}}),p(m+1))})]):[2]})})}var f;function p(m){m===void 0&&(m=1),!f&&(f=setTimeout(function(){f=void 0,u(m).catch(console.error)},l||s),l=0)}SW(function(m){if(o=m,o&&i.length){var v=MW(i).map(c);Promise.all(v).catch(console.error)}});function g(m,v){return bt(this,void 0,void 0,function(){var _;return Et(this,function(w){return i.push(v),_=i.length>=a||IW(i)||(e==null?void 0:e.keepalive)&&kW(i),[2,_||o?u():p()]})})}return{dispatch:g}}function RW(t){function e(n,r){return Zv(n,{credentials:t==null?void 0:t.credentials,keepalive:t==null?void 0:t.keepalive,headers:vT(t==null?void 0:t.headers),method:"post",body:JSON.stringify(r),priority:t==null?void 0:t.priority}).then(function(i){var o;if(i.status>=500)throw new Error("Bad response from server: ".concat(i.status));if(i.status===429){var a=(o=i.headers)===null||o===void 0?void 0:o.get("x-ratelimit-reset"),s=a?parseInt(a)*1e3:5e3;throw new mT("Rate limit exceeded: ".concat(i.status),s)}})}return{dispatch:e}}function TW(t,e,n,r,i){var o,a=t.user();delete e.options,e.writeKey=n==null?void 0:n.apiKey,e.userId=e.userId||a.id(),e.anonymousId=e.anonymousId||a.anonymousId(),e.sentAt=new Date;var s=t.queue.failedInitializations||[];s.length>0&&(e._metadata={failedInitializations:s}),i!=null&&(i.attempts>1&&(e._metadata=et(et({},e._metadata),{retryCount:i.attempts})),i.attempts++);var l=[],c=[];for(var u in r){var f=r[u];u==="Segment.io"&&l.push(u),f.bundlingStatus==="bundled"&&l.push(u),f.bundlingStatus==="unbundled"&&c.push(u)}for(var p=0,g=(n==null?void 0:n.unbundledIntegrations)||[];p<g.length;p++){var m=g[p];c.includes(m)||c.push(m)}var v=(o=n==null?void 0:n.maybeBundledConfigIds)!==null&&o!==void 0?o:{},_=[];return l.sort().forEach(function(w){var I;((I=v[w])!==null&&I!==void 0?I:[]).forEach(function(k){_.push(k)})}),(n==null?void 0:n.addBundledMetadata)!==!1&&(e._metadata=et(et({},e._metadata),{bundled:l.sort(),unbundled:c.sort(),bundledIds:_})),e}var PW=function(t,e){return bt(void 0,void 0,void 0,function(){var n;return Et(this,function(r){return n=function(i){return bt(void 0,void 0,void 0,function(){var o;return Et(this,function(a){switch(a.label){case 0:return t(i)?(o=n,[4,e()]):[3,2];case 1:return[2,o.apply(void 0,[a.sent()])];case 2:return[2]}})})},[2,n(void 0)]})})};function NW(t,e){return bt(this,void 0,void 0,function(){var n,r=this;return Et(this,function(i){switch(i.label){case 0:return n=[],Dh()?[2,e]:[4,PW(function(){return e.length>0&&!Dh()},function(){return bt(r,void 0,void 0,function(){var o,a,s;return Et(this,function(l){switch(l.label){case 0:return o=e.pop(),o?[4,mh(o,t)]:[2];case 1:return a=l.sent(),s=a instanceof Ea,s||n.push(o),[2]}})})})];case 1:return i.sent(),n.map(function(o){return e.pushWithBackoff(o)}),[2,e]}})})}function nd(t,e,n,r){var i=this;t||setTimeout(function(){return bt(i,void 0,void 0,function(){var o,a;return Et(this,function(s){switch(s.label){case 0:return o=!0,[4,NW(n,e)];case 1:return a=s.sent(),o=!1,e.todo>0&&r(o,a,n,r),[2]}})})},Math.random()*5e3)}function LW(t,e){var n,r,i,o,a=t.user();return e.previousId=(i=(r=(n=e.previousId)!==null&&n!==void 0?n:e.from)!==null&&r!==void 0?r:a.id())!==null&&i!==void 0?i:a.anonymousId(),e.userId=(o=e.userId)!==null&&o!==void 0?o:e.to,delete e.from,delete e.to,e}var DW=function(t){return t.name==="Segment.io"};function BW(t,e,n){var r,i,o;window.addEventListener("pagehide",function(){s.push.apply(s,Array.from(l)),l.clear()});var a=(r=e==null?void 0:e.apiKey)!==null&&r!==void 0?r:"",s=t.options.disableClientPersistence?new Gx(t.queue.queue.maxAttempts,[]):new Qx(t.queue.queue.maxAttempts,"".concat(a,":dest-Segment.io")),l=new Set,c=!1,u=(i=e==null?void 0:e.apiHost)!==null&&i!==void 0?i:Z8,f=(o=e==null?void 0:e.protocol)!==null&&o!==void 0?o:"https",p="".concat(f,"://").concat(u),g=e==null?void 0:e.deliveryStrategy,m=g&&"strategy"in g&&g.strategy==="batching"?OW(u,g.config):RW(g==null?void 0:g.config);function v(w){return bt(this,void 0,void 0,function(){var I,k;return Et(this,function($){return Dh()?(s.push(w),nd(c,s,_,nd),[2,w]):(l.add(w),I=w.event.type.charAt(0),k=zm(w.event).json(),w.event.type==="track"&&delete k.traits,w.event.type==="alias"&&(k=LW(t,k)),s.getAttempts(w)>=s.maxAttempts?(l.delete(w),[2,w]):[2,m.dispatch("".concat(p,"/").concat(I),TW(t,k,e,n,w)).then(function(){return w}).catch(function(L){if(w.log("error","Error sending event",L),L.name==="RateLimitError"){var z=L.retryTimeout;s.pushWithBackoff(w,z)}else s.pushWithBackoff(w);return nd(c,s,_,nd),w}).finally(function(){l.delete(w)})])})})}var _={metadata:{writeKey:a,apiHost:u,protocol:f},name:"Segment.io",type:"destination",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:v,identify:v,page:v,alias:v,group:v,screen:v};return s.todo&&nd(c,s,_,nd),_}var dl="This is being deprecated and will be not be available in future releases of Analytics JS",u3=Zx(),d3=u3==null?void 0:u3.analytics;function jW(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=e?10:1,i=n?new Gx(r,[]):new Qx(r,t);return new YH(i)}var $W=function(){function t(e,n){var r;this.timeout=300,this._getSegmentPluginMetadata=function(){var o;return(o=n.plugins.find(DW))===null||o===void 0?void 0:o.metadata},this.writeKey=e.writeKey;var i={integrations:{"Segment.io":{apiKey:""}}};this.cdnSettings=(r=e.cdnSettings)!==null&&r!==void 0?r:i,this.cdnURL=e.cdnURL}return Object.defineProperty(t.prototype,"apiHost",{get:function(){var e,n;return(n=(e=this._getSegmentPluginMetadata)===null||e===void 0?void 0:e.call(this))===null||n===void 0?void 0:n.apiHost},enumerable:!1,configurable:!0}),t}();function cs(){console.warn(dl)}var yT=function(t){Mi(e,t);function e(n,r,i,o,a){var s=this,l,c;s=t.call(this)||this,s._debug=!1,s.initialized=!1,s.user=function(){return s._user},s.init=s.initialize.bind(s),s.log=cs,s.addIntegrationMiddleware=cs,s.listeners=cs,s.addEventListener=cs,s.removeAllListeners=cs,s.removeListener=cs,s.removeEventListener=cs,s.hasListeners=cs,s.add=cs,s.addIntegration=cs;var u=r==null?void 0:r.cookie,f=(l=r==null?void 0:r.disableClientPersistence)!==null&&l!==void 0?l:!1;s.queue=i??jW("".concat(n.writeKey,":event-queue"),r==null?void 0:r.retryQueue,f),s.settings=new $W(n,s.queue);var p=r==null?void 0:r.storage;return s._universalStorage=s.createStore(f,p,u),s._user=o??new cT(et({persist:!f,storage:r==null?void 0:r.storage},r==null?void 0:r.user),u).load(),s._group=a??new nW(et({persist:!f,storage:r==null?void 0:r.storage},r==null?void 0:r.group),u).load(),s.eventFactory=new HH(s._user),s.integrations=(c=r==null?void 0:r.integrations)!==null&&c!==void 0?c:{},s.options=r??{},Xx(s),s}return e.prototype.createStore=function(n,r,i){return n?new ou([new e_]):r&&aT(r)?new ou(oE(lT(r.stores,i))):new ou(oE([Si.LocalStorage,{name:Si.Cookie,settings:i},Si.Memory]))},Object.defineProperty(e.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),e.prototype.track=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return bt(this,void 0,void 0,function(){var i,o,a,s,l,c,u,f=this;return Et(this,function(p){return i=ed(n),o=OH.apply(void 0,n),a=o[0],s=o[1],l=o[2],c=o[3],u=this.eventFactory.track(a,s,l,this.integrations,i),[2,this._dispatch(u,c).then(function(g){return f.emit("track",a,g.event.properties,g.event.options),g})]})})},e.prototype.page=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return bt(this,void 0,void 0,function(){var i,o,a,s,l,c,u,f,p=this;return Et(this,function(g){return i=ed(n),o=IA.apply(void 0,n),a=o[0],s=o[1],l=o[2],c=o[3],u=o[4],f=this.eventFactory.page(a,s,l,c,this.integrations,i),[2,this._dispatch(f,u).then(function(m){return p.emit("page",a,s,m.event.properties,m.event.options),m})]})})},e.prototype.identify=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return bt(this,void 0,void 0,function(){var i,o,a,s,l,c,u,f=this;return Et(this,function(p){return i=ed(n),o=kA(this._user).apply(void 0,n),a=o[0],s=o[1],l=o[2],c=o[3],this._user.identify(a,s),u=this.eventFactory.identify(this._user.id(),this._user.traits(),l,this.integrations,i),[2,this._dispatch(u,c).then(function(g){return f.emit("identify",g.event.userId,g.event.traits,g.event.options),g})]})})},e.prototype.group=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=ed(r);if(r.length===0)return this._group;var a=kA(this._group).apply(void 0,r),s=a[0],l=a[1],c=a[2],u=a[3];this._group.identify(s,l);var f=this._group.id(),p=this._group.traits(),g=this.eventFactory.group(f,p,c,this.integrations,o);return this._dispatch(g,u).then(function(m){return n.emit("group",m.event.groupId,m.event.traits,m.event.options),m})},e.prototype.alias=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return bt(this,void 0,void 0,function(){var i,o,a,s,l,c,u,f=this;return Et(this,function(p){return i=ed(n),o=RH.apply(void 0,n),a=o[0],s=o[1],l=o[2],c=o[3],u=this.eventFactory.alias(a,s,l,this.integrations,i),[2,this._dispatch(u,c).then(function(g){return f.emit("alias",a,s,g.event.options),g})]})})},e.prototype.screen=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return bt(this,void 0,void 0,function(){var i,o,a,s,l,c,u,f,p=this;return Et(this,function(g){return i=ed(n),o=IA.apply(void 0,n),a=o[0],s=o[1],l=o[2],c=o[3],u=o[4],f=this.eventFactory.screen(a,s,l,c,this.integrations,i),[2,this._dispatch(f,u).then(function(m){return p.emit("screen",a,s,m.event.properties,m.event.options),m})]})})},e.prototype.trackClick=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return bt(this,void 0,void 0,function(){var i,o;return Et(this,function(a){switch(a.label){case 0:return[4,on(()=>import("./auto-track-B-jLZtrP.js"),[])];case 1:return i=a.sent(),[2,(o=i.link).call.apply(o,ir([this],n,!1))]}})})},e.prototype.trackLink=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return bt(this,void 0,void 0,function(){var i,o;return Et(this,function(a){switch(a.label){case 0:return[4,on(()=>import("./auto-track-B-jLZtrP.js"),[])];case 1:return i=a.sent(),[2,(o=i.link).call.apply(o,ir([this],n,!1))]}})})},e.prototype.trackSubmit=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return bt(this,void 0,void 0,function(){var i,o;return Et(this,function(a){switch(a.label){case 0:return[4,on(()=>import("./auto-track-B-jLZtrP.js"),[])];case 1:return i=a.sent(),[2,(o=i.form).call.apply(o,ir([this],n,!1))]}})})},e.prototype.trackForm=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return bt(this,void 0,void 0,function(){var i,o;return Et(this,function(a){switch(a.label){case 0:return[4,on(()=>import("./auto-track-B-jLZtrP.js"),[])];case 1:return i=a.sent(),[2,(o=i.form).call.apply(o,ir([this],n,!1))]}})})},e.prototype.register=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return bt(this,void 0,void 0,function(){var i,o,a=this;return Et(this,function(s){switch(s.label){case 0:return i=Ea.system(),o=n.map(function(l){return a.queue.register(i,l,a)}),[4,Promise.all(o)];case 1:return s.sent(),[2,i]}})})},e.prototype.deregister=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return bt(this,void 0,void 0,function(){var i,o,a=this;return Et(this,function(s){switch(s.label){case 0:return i=Ea.system(),o=n.map(function(l){var c=a.queue.plugins.find(function(u){return u.name===l});if(c)return a.queue.deregister(i,c,a);i.log("warn","plugin ".concat(l," not found"))}),[4,Promise.all(o)];case 1:return s.sent(),[2,i]}})})},e.prototype.debug=function(n){return n===!1&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=n,this},e.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},e.prototype.timeout=function(n){this.settings.timeout=n},e.prototype._dispatch=function(n,r){return bt(this,void 0,void 0,function(){var i;return Et(this,function(o){return i=new Ea(n),i.stats.increment("analytics_js.invoke",1,[n.type]),Dh()&&!this.options.retryQueue?[2,i]:[2,MH(i,this.queue,this,{callback:r,debug:this._debug,timeout:this.settings.timeout})]})})},e.prototype.addSourceMiddleware=function(n){return bt(this,void 0,void 0,function(){var r=this;return Et(this,function(i){switch(i.label){case 0:return[4,this.queue.criticalTasks.run(function(){return bt(r,void 0,void 0,function(){var o,a,s;return Et(this,function(l){switch(l.label){case 0:return[4,on(()=>Promise.resolve().then(()=>nK),void 0)];case 1:return o=l.sent().sourceMiddlewarePlugin,a={},this.queue.plugins.forEach(function(c){if(c.type==="destination")return a[c.name]=!0}),s=o(n,a),[4,this.register(s)];case 2:return l.sent(),[2]}})})})];case 1:return i.sent(),[2,this]}})})},e.prototype.addDestinationMiddleware=function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return this.queue.plugins.filter(WH).forEach(function(o){(n==="*"||o.name.toLowerCase()===n.toLowerCase())&&o.addMiddleware.apply(o,r)}),Promise.resolve(this)},e.prototype.setAnonymousId=function(n){return this._user.anonymousId(n)},e.prototype.queryString=function(n){return bt(this,void 0,void 0,function(){var r;return Et(this,function(i){switch(i.label){case 0:return this.options.useQueryString===!1?[2,[]]:[4,on(()=>import("./index-eSDGDmpG.js"),[])];case 1:return r=i.sent().queryString,[2,r(this,n)]}})})},e.prototype.use=function(n){return n(this),this},e.prototype.ready=function(n){return n===void 0&&(n=function(r){return r}),bt(this,void 0,void 0,function(){return Et(this,function(r){return[2,Promise.all(this.queue.plugins.map(function(i){return i.ready?i.ready():Promise.resolve()})).then(function(i){return n(i),i})]})})},e.prototype.noConflict=function(){return console.warn(dl),iW(d3??this),this},e.prototype.normalize=function(n){return console.warn(dl),this.eventFactory.normalize(n)},Object.defineProperty(e.prototype,"failedInitializations",{get:function(){return console.warn(dl),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"VERSION",{get:function(){return Qv},enumerable:!1,configurable:!0}),e.prototype.initialize=function(n,r){return bt(this,void 0,void 0,function(){return Et(this,function(i){return console.warn(dl),[2,Promise.resolve(this)]})})},e.prototype.pageview=function(n){return bt(this,void 0,void 0,function(){return Et(this,function(r){switch(r.label){case 0:return console.warn(dl),[4,this.page({path:n})];case 1:return r.sent(),[2,this]}})})},Object.defineProperty(e.prototype,"plugins",{get:function(){var n;return console.warn(dl),(n=this._plugins)!==null&&n!==void 0?n:{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Integrations",{get:function(){console.warn(dl);var n=this.queue.plugins.filter(function(r){return r.type==="destination"}).reduce(function(r,i){var o="".concat(i.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),a=window[o];if(!a)return r;var s=a.Integration;return s?(r[i.name]=s,r):(r[i.name]=a,r)},{});return n},enumerable:!1,configurable:!0}),e.prototype.push=function(n){var r=this,i=n.shift();i&&!r[i]||r[i].apply(this,n)},e}(Vx),JA=function(t){Mi(e,t);function e(){var n=t.call(this,{writeKey:""},{disableClientPersistence:!0})||this;return n.initialized=!0,n}return e}(yT),ZA={};function wT(){return typeof process>"u"||!ZA?{}:ZA}var FW=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,UW=function(){var t,e=Array.prototype.slice.call(document.querySelectorAll("script"));return e.forEach(function(n){var r,i=(r=n.getAttribute("src"))!==null&&r!==void 0?r:"",o=FW.exec(i);o&&o[1]&&(t=o[1])}),t},fm,zW=function(){var t,e=fm??((t=uT())===null||t===void 0?void 0:t._cdn);return e},qW=function(t){var e=uT();e&&(e._cdn=t),fm=t},o_=function(){var t=zW();if(t)return t;var e=UW();return e||"https://cdn.segment.com"},Uoe=function(){var t=o_();return"".concat(t,"/next-integrations")};function HW(t,e){var n,r=Object.entries((n=e.integrations)!==null&&n!==void 0?n:{}).reduce(function(i,o){var a,s,l=o[0],c=o[1];return typeof c=="object"?et(et({},i),(a={},a[l]=c,a)):et(et({},i),(s={},s[l]={},s))},{});return Object.entries(t.integrations).reduce(function(i,o){var a,s=o[0],l=o[1];return et(et({},i),(a={},a[s]=et(et({},l),r[s]),a))},{})}function WW(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch{return t}}function KW(t){return bt(this,void 0,void 0,function(){var e;return Et(this,function(n){return e=navigator.userAgentData,e?t?[2,e.getHighEntropyValues(t).catch(function(){return e.toJSON()})]:[2,e.toJSON()]:[2,void 0]})})}var Gf;function VW(){if(Gf)return Gf;var t=oT(window.location.href);return Gf={expires:31536e6,secure:!1,path:"/"},t&&(Gf.domain=t),Gf}function GW(t){var e={btid:"dataxu",urid:"millennial-media"};t.startsWith("?")&&(t=t.substring(1)),t=t.replace(/\?/g,"&");for(var n=t.split("&"),r=0,i=n;r<i.length;r++){var o=i[r],a=o.split("="),s=a[0],l=a[1];if(e[s])return{id:l,type:e[s]}}}function YW(t){return t.startsWith("?")&&(t=t.substring(1)),t=t.replace(/\?/g,"&"),t.split("&").reduce(function(e,n){var r=n.split("="),i=r[0],o=r[1],a=o===void 0?"":o;if(i.includes("utm_")&&i.length>4){var s=i.slice(4);s==="campaign"&&(s="name"),e[s]=WW(a)}return e},{})}function JW(){var t=fa.get("_ga");if(t&&t.startsWith("amp"))return t}function ZW(t,e,n){var r,i=new ou(n?[]:[new sT(VW())]),o=i.get("s:context.referrer"),a=(r=GW(t))!==null&&r!==void 0?r:o;a&&(e&&(e.referrer=et(et({},e.referrer),a)),i.set("s:context.referrer",a))}var QW=function(t){try{var e=new URLSearchParams;return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];Array.isArray(i)?i.forEach(function(o){return e.append(r,o)}):e.append(r,i)}),e.toString()}catch{return""}},XW=function(){function t(){var e=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(n,r){return bt(e,void 0,void 0,function(){var i;return Et(this,function(o){switch(o.label){case 0:this.instance=r,o.label=1;case 1:return o.trys.push([1,3,,4]),i=this,[4,KW(this.instance.options.highEntropyValuesClientHints)];case 2:return i.userAgentData=o.sent(),[3,4];case 3:return o.sent(),[3,4];case 4:return[2,Promise.resolve()]}})})},this.enrich=function(n){var r,i,o=n.event.context,a=o.page.search||"",s=typeof a=="object"?QW(a):a;o.userAgent=navigator.userAgent,o.userAgentData=e.userAgentData;var l=navigator.userLanguage||navigator.language;typeof o.locale>"u"&&typeof l<"u"&&(o.locale=l),(r=o.library)!==null&&r!==void 0||(o.library={name:"analytics.js",version:"".concat("npm:next","-").concat(Qv)}),s&&!o.campaign&&(o.campaign=YW(s));var c=JW();c&&(o.amp={id:c}),ZW(s,o,(i=e.instance.options.disableClientPersistence)!==null&&i!==void 0?i:!1);try{o.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return n},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich}return t}(),eK=new XW;function bT(t){var e=Array.prototype.slice.call(window.document.querySelectorAll("script"));return e.find(function(n){return n.src===t})}function f3(t,e){var n=bT(t);if(n!==void 0){var r=n==null?void 0:n.getAttribute("status");if(r==="loaded")return Promise.resolve(n);if(r==="loading")return new Promise(function(i,o){n.addEventListener("load",function(){return i(n)}),n.addEventListener("error",function(a){return o(a)})})}return new Promise(function(i,o){var a,s=window.document.createElement("script");s.type="text/javascript",s.src=t,s.async=!0,s.setAttribute("status","loading");for(var l=0,c=Object.entries({});l<c.length;l++){var u=c[l],f=u[0],p=u[1];s.setAttribute(f,p)}s.onload=function(){s.onerror=s.onload=null,s.setAttribute("status","loaded"),i(s)},s.onerror=function(){s.onerror=s.onload=null,s.setAttribute("status","error"),o(new Error("Failed to load ".concat(t)))};var g=window.document.querySelector("script");g?(a=g.parentElement)===null||a===void 0||a.insertBefore(s,g):window.document.head.appendChild(s)})}function zoe(t){var e=bT(t);return e!==void 0&&e.remove(),Promise.resolve()}function ET(t,e,n){return bt(this,void 0,void 0,function(){function r(c,u){return bt(this,void 0,void 0,function(){var f,p,g;return Et(this,function(m){switch(m.label){case 0:return f=!1,p=null,[4,u({payload:zm(c,{clone:!0,traverse:!1}),integration:t,next:function(v){f=!0,v===null&&(p=null),v&&(p=v.obj)}})];case 1:return m.sent(),!f&&p!==null&&(p=p,p.integrations=et(et({},c.integrations),(g={},g[t]=!1,g))),[2,p]}})})}var i,o,a,s,l;return Et(this,function(c){switch(c.label){case 0:i=zm(e,{clone:!0,traverse:!1}).rawEvent(),o=0,a=n,c.label=1;case 1:return o<a.length?(s=a[o],[4,r(i,s)]):[3,4];case 2:if(l=c.sent(),l===null)return[2,null];i=l,c.label=3;case 3:return o++,[3,1];case 4:return[2,i]}})})}function tK(t,e){function n(r){return bt(this,void 0,void 0,function(){var i;return Et(this,function(o){switch(o.label){case 0:return i=!1,[4,t({payload:zm(r.event,{clone:!0,traverse:!1}),integrations:e??{},next:function(a){i=!0,a&&(r.event=a.obj)}})];case 1:if(o.sent(),!i)throw new Hd({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,r]}})})}return{name:"Source Middleware ".concat(t.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(r){return Promise.resolve(r)},track:n,page:n,screen:n,identify:n,alias:n,group:n}}const nK=Object.freeze(Object.defineProperty({__proto__:null,applyDestinationMiddleware:ET,sourceMiddlewarePlugin:tK},Symbol.toStringTag,{value:"Module"}));function pg(t,e){var n=e.methodName,r=e.integrationName,i=e.type,o=e.didError,a=o===void 0?!1:o;t.stats.increment("analytics_js.integration.invoke".concat(a?".error":""),1,["method:".concat(n),"integration_name:".concat(r),"type:".concat(i)])}var rK=function(){function t(e,n){this.version="1.0.0",this.alternativeNames=[],this.loadPromise=G8(),this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=n,this.name=e,this.type=n.type,this.alternativeNames.push(n.name)}return t.prototype.addMiddleware=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this.type==="destination"&&(e=this.middleware).push.apply(e,n)},t.prototype.transform=function(e){return bt(this,void 0,void 0,function(){var n;return Et(this,function(r){switch(r.label){case 0:return[4,ET(this.name,e.event,this.middleware)];case 1:return n=r.sent(),n===null&&e.cancel(new Hd({retry:!1,reason:"dropped by destination middleware"})),[2,new Ea(n)]}})})},t.prototype._createMethod=function(e){var n=this;return function(r){return bt(n,void 0,void 0,function(){var i,o;return Et(this,function(a){switch(a.label){case 0:return this.action[e]?(i=r,this.type!=="destination"?[3,2]:[4,this.transform(r)]):[2,r];case 1:i=a.sent(),a.label=2;case 2:return a.trys.push([2,5,,6]),[4,this.ready()];case 3:if(!a.sent())throw new Error("Something prevented the destination from getting ready");return pg(r,{integrationName:this.action.name,methodName:e,type:"action"}),[4,this.action[e](i)];case 4:return a.sent(),[3,6];case 5:throw o=a.sent(),pg(r,{integrationName:this.action.name,methodName:e,type:"action",didError:!0}),o;case 6:return[2,r]}})})}},t.prototype.isLoaded=function(){return this.action.isLoaded()},t.prototype.ready=function(){return bt(this,void 0,void 0,function(){return Et(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.loadPromise.promise];case 1:return e.sent(),[2,!0];case 2:return e.sent(),[2,!1];case 3:return[2]}})})},t.prototype.load=function(e,n){return bt(this,void 0,void 0,function(){var r,i,o,a;return Et(this,function(s){switch(s.label){case 0:if(this.loadPromise.isSettled())return[2,this.loadPromise.promise];s.label=1;case 1:return s.trys.push([1,3,,4]),pg(e,{integrationName:this.action.name,methodName:"load",type:"action"}),r=this.action.load(e,n),o=(i=this.loadPromise).resolve,[4,r];case 2:return o.apply(i,[s.sent()]),[2,r];case 3:throw a=s.sent(),pg(e,{integrationName:this.action.name,methodName:"load",type:"action",didError:!0}),this.loadPromise.reject(a),a;case 4:return[2]}})})},t.prototype.unload=function(e,n){var r,i;return(i=(r=this.action).unload)===null||i===void 0?void 0:i.call(r,e,n)},t}();function iK(t){if(!Array.isArray(t))throw new Error("Not a valid list of plugins");var e=["load","isLoaded","name","version","type"];return t.forEach(function(n){e.forEach(function(r){var i;if(n[r]===void 0)throw new Error("Plugin: ".concat((i=n.name)!==null&&i!==void 0?i:"unknown"," missing required function ").concat(r))})}),!0}function oK(t,e){var n=t[e.creationName],r=t[e.name];return t.All===!1&&!n&&!r||n===!1||r===!1}function sK(t,e){return bt(this,void 0,void 0,function(){var n,r,i,o,a,s;return Et(this,function(l){switch(l.label){case 0:if(l.trys.push([0,9,,10]),n=new RegExp("https://cdn.segment.(com|build)"),r=o_(),!e)return[3,6];i=t.url.split("/"),o=i[i.length-2],a=t.url.replace(o,btoa(o).replace(/=/g,"")),l.label=1;case 1:return l.trys.push([1,3,,5]),[4,f3(a.replace(n,r))];case 2:return l.sent(),[3,5];case 3:return l.sent(),[4,f3(t.url.replace(n,r))];case 4:return l.sent(),[3,5];case 5:return[3,8];case 6:return[4,f3(t.url.replace(n,r))];case 7:l.sent(),l.label=8;case 8:return typeof window[t.libraryName]=="function"?[2,window[t.libraryName]]:[3,10];case 9:throw s=l.sent(),console.error("Failed to create PluginFactory",t),s;case 10:return[2]}})})}function aK(t,e,n,r,i,o){var a,s,l;return bt(this,void 0,void 0,function(){var c,u,f,p=this;return Et(this,function(g){switch(g.label){case 0:return c=[],u=(s=(a=t.middlewareSettings)===null||a===void 0?void 0:a.routingRules)!==null&&s!==void 0?s:[],f=((l=t.remotePlugins)!==null&&l!==void 0?l:[]).map(function(m){return bt(p,void 0,void 0,function(){var v,_,w,I,k,$,L;return Et(this,function(z){switch(z.label){case 0:if(oK(e,m))return[2];z.label=1;case 1:return z.trys.push([1,6,,7]),_=o==null?void 0:o.find(function(H){var P=H.pluginName;return P===m.name}),_?[3,3]:[4,sK(m,r==null?void 0:r.obfuscate)];case 2:_=z.sent(),z.label=3;case 3:return v=_,v?(w=n[m.name],[4,v(et(et({},m.settings),w))]):[3,5];case 4:I=z.sent(),k=Array.isArray(I)?I:[I],iK(k),$=u.filter(function(H){return H.destinationName===m.creationName}),k.forEach(function(H){var P=new rK(m.creationName,H);$.length&&i&&P.addMiddleware(i),c.push(P)}),z.label=5;case 5:return[3,7];case 6:return L=z.sent(),console.warn("Failed to load Remote Plugin",L),[3,7];case 7:return[2]}})})}),[4,Promise.all(f)];case 1:return g.sent(),[2,c.filter(Boolean)]}})})}var h3,QA,lK=Zx(),XA=(h3=(QA=lK).__SEGMENT_INSPECTOR__)!==null&&h3!==void 0?h3:QA.__SEGMENT_INSPECTOR__={},cK=function(t){var e;return(e=XA.attach)===null||e===void 0?void 0:e.call(XA,t)};function uK(t,e){return Zv("".concat(e,"/v1/projects/").concat(t,"/settings")).then(function(n){return n.ok?n.json():n.text().then(function(r){throw new Error(r)})}).catch(function(n){throw console.error(n.message),n})}function dK(t){return wT().NODE_ENV!=="test"&&Object.keys(t.integrations).length>1}function fK(t){var e,n,r;return wT().NODE_ENV!=="test"&&((r=(n=(e=t.middlewareSettings)===null||e===void 0?void 0:e.routingRules)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0)>0}function hK(t,e){cW(t,e),lW(t,e)}function pK(t,e,n){return bt(this,void 0,void 0,function(){return Et(this,function(r){switch(r.label){case 0:return[4,mK(t,e)];case 1:return r.sent(),uW(t,n),[2]}})})}var gK=function(){var t,e,n=(t=window.location.hash)!==null&&t!==void 0?t:"",r=(e=window.location.search)!==null&&e!==void 0?e:"",i=r.length?r:n.replace(/(?=#).*(?=\?)/,"");return i},mK=function(t,e){return bt(void 0,void 0,void 0,function(){return Et(this,function(n){switch(n.label){case 0:return e.includes("ajs_")?[4,t.queryString(e).catch(console.error)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})};function vK(t,e,n,r,i,o,a){var s,l,c;return i===void 0&&(i=[]),bt(this,void 0,void 0,function(){var u,f,p,g,m,v,_,w,I,k,$,L,z,H,P,D=this;return Et(this,function(B){switch(B.label){case 0:return hK(n,a),u=i==null?void 0:i.filter(function(O){return typeof O=="object"}),f=i==null?void 0:i.filter(function(O){return typeof O=="function"&&typeof O.pluginName=="string"}),fK(e)?[4,on(()=>import("./index-7O0TZzl3.js"),[]).then(function(O){return O.tsubMiddleware(e.middlewareSettings.routingRules)})]:[3,2];case 1:return g=B.sent(),[3,3];case 2:g=void 0,B.label=3;case 3:return p=g,dK(e)||o.length>0?[4,on(()=>import("./index-DzYeB6fl.js"),__vite__mapDeps([0,1])).then(function(O){return O.ajsDestinations(t,e,n.integrations,r,p,o)})]:[3,5];case 4:return v=B.sent(),[3,6];case 5:v=[],B.label=6;case 6:return m=v,e.legacyVideoPluginsEnabled?[4,on(()=>import("./index-CGFsiMsz.js"),[]).then(function(O){return O.loadLegacyVideoPlugins(n)})]:[3,8];case 7:B.sent(),B.label=8;case 8:return!((s=r.plan)===null||s===void 0)&&s.track?[4,on(()=>import("./index-UbORLzn6.js"),__vite__mapDeps([2,1])).then(function(O){var y;return O.schemaFilter((y=r.plan)===null||y===void 0?void 0:y.track,e)})]:[3,10];case 9:return w=B.sent(),[3,11];case 10:w=void 0,B.label=11;case 11:return _=w,I=HW(e,r),[4,aK(e,n.integrations,I,r,p,f).catch(function(){return[]})];case 12:return k=B.sent(),$=ir(ir([eK],m,!0),k,!0),_&&$.push(_),L=((l=r.integrations)===null||l===void 0?void 0:l.All)===!1&&!r.integrations["Segment.io"]||r.integrations&&r.integrations["Segment.io"]===!1,L?[3,14]:(H=(z=$).push,[4,BW(n,I["Segment.io"],e.integrations)]);case 13:H.apply(z,[B.sent()]),B.label=14;case 14:return[4,n.register.apply(n,ir(ir([],$,!1),u,!1))];case 15:return P=B.sent(),[4,aW(n,a)];case 16:return B.sent(),Object.entries((c=e.enabledMiddleware)!==null&&c!==void 0?c:{}).some(function(O){var y=O[1];return y})?[4,on(()=>import("./index-DZ39cwRt.js"),[]).then(function(O){var y=O.remoteMiddlewares;return bt(D,void 0,void 0,function(){var E,S;return Et(this,function(C){switch(C.label){case 0:return[4,y(P,e,r.obfuscate)];case 1:return E=C.sent(),S=E.map(function(T){return n.addSourceMiddleware(T)}),[2,Promise.all(S)]}})})})]:[3,18];case 17:B.sent(),B.label=18;case 18:return[4,sW(n,a)];case 19:return B.sent(),[2,P]}})})}function yK(t,e,n){var r,i,o,a,s,l,c,u,f;return e===void 0&&(e={}),bt(this,void 0,void 0,function(){var p,g,m,v,_,w,I,k,$,L,z;return Et(this,function(H){switch(H.label){case 0:return e.disable===!0?[2,[new JA,Ea.system()]]:(e.globalAnalyticsKey&&rW(e.globalAnalyticsKey),t.cdnURL&&qW(t.cdnURL),e.initialPageview&&n.add(new sE("page",[])),p=gK(),g=(r=t.cdnURL)!==null&&r!==void 0?r:o_(),(i=t.cdnSettings)!==null&&i!==void 0?(v=i,[3,3]):[3,1]);case 1:return[4,uK(t.writeKey,g)];case 2:v=H.sent(),H.label=3;case 3:return m=v,e.updateCDNSettings&&(m=e.updateCDNSettings(m)),typeof e.disable!="function"?[3,5]:[4,e.disable(m)];case 4:if(_=H.sent(),_)return[2,[new JA,Ea.system()]];H.label=5;case 5:return w=(a=(o=m.integrations["Segment.io"])===null||o===void 0?void 0:o.retryQueue)!==null&&a!==void 0?a:!0,e=et({retryQueue:w},e),I=new yT(et(et({},t),{cdnSettings:m,cdnURL:g}),e),cK(I),k=(s=t.plugins)!==null&&s!==void 0?s:[],$=(l=t.classicIntegrations)!==null&&l!==void 0?l:[],L=(c=e.integrations)===null||c===void 0?void 0:c["Segment.io"],Q8.initRemoteMetrics(et(et({},m.metrics),{host:(u=L==null?void 0:L.apiHost)!==null&&u!==void 0?u:(f=m.metrics)===null||f===void 0?void 0:f.host,protocol:L==null?void 0:L.protocol})),[4,vK(t.writeKey,m,I,e,k,$,n)];case 6:return z=H.sent(),I.initialized=!0,I.emit("initialize",t,e),[4,pK(I,p,n)];case 7:return H.sent(),[2,[I,z]]}})})}var wK=function(t){Mi(e,t);function e(){var n=this,r=G8(),i=r.promise,o=r.resolve;return n=t.call(this,function(a){return i.then(function(s){var l=s[0],c=s[1];return yK(l,c,a)})})||this,n._resolveLoadStart=function(a,s){return o([a,s])},n}return e.prototype.load=function(n,r){return r===void 0&&(r={}),this._resolveLoadStart(n,r),this},e.load=function(n,r){return r===void 0&&(r={}),new e().load(n,r)},e.standalone=function(n,r){return e.load({writeKey:n},r).then(function(i){return i[0]})},e}(fW);const bK=globalThis,p3="<anonymous>";function EK(t){try{return!t||typeof t!="function"?p3:t.name||p3}catch{return p3}}const xT=Object.prototype.toString;function xK(t){switch(xT.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return ny(t,Error)}}function _T(t,e){return xT.call(t)===`[object ${e}]`}function _K(t){return _T(t,"String")}function SK(t){return _T(t,"Object")}function CK(t){return typeof Event<"u"&&ny(t,Event)}function AK(t){return typeof Element<"u"&&ny(t,Element)}function IK(t){return SK(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function ny(t,e){try{return t instanceof e}catch{return!1}}function kK(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}const MK=bK,OK=80;function RK(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,i=[];let o=0,a=0;const s=" > ",l=s.length;let c;const u=Array.isArray(e)?e:e.keyAttrs,f=!Array.isArray(e)&&e.maxStringLength||OK;for(;n&&o++<r&&(c=TK(n,u),!(c==="html"||o>1&&a+i.length*l+c.length>=f));)i.push(c),a+=c.length,n=n.parentNode;return i.reverse().join(s)}catch{return"<unknown>"}}function TK(t,e){const n=t,r=[];if(!(n!=null&&n.tagName))return"";if(MK.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=e!=null&&e.length?e.filter(a=>n.getAttribute(a)).map(a=>[a,n.getAttribute(a)]):null;if(i!=null&&i.length)i.forEach(a=>{r.push(`[${a[0]}="${a[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const a=n.className;if(a&&_K(a)){const s=a.split(/\s+/);for(const l of s)r.push(`.${l}`)}}const o=["aria-label","type","name","title","alt"];for(const a of o){const s=n.getAttribute(a);s&&r.push(`[${a}="${s}"]`)}return r.join("")}function PK(t){if(xK(t))return{message:t.message,name:t.name,stack:t.stack,...tI(t)};if(CK(t)){const e={type:t.type,target:eI(t.target),currentTarget:eI(t.currentTarget),...tI(t)};return typeof CustomEvent<"u"&&ny(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function eI(t){try{return AK(t)?RK(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function tI(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}else return{}}function NK(t,e=100,n=1/0){try{return aE("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function aE(t,e,n=1/0,r=1/0,i=BK()){const[o,a]=i;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const s=LK(t,e);if(!s.startsWith("[object "))return s;if(e.__sentry_skip_normalization__)return e;const l=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(l===0)return s.replace("object ","");if(o(e))return"[Circular ~]";const c=e;if(c&&typeof c.toJSON=="function")try{const g=c.toJSON();return aE("",g,l-1,r,i)}catch{}const u=Array.isArray(e)?[]:{};let f=0;const p=PK(e);for(const g in p){if(!Object.prototype.hasOwnProperty.call(p,g))continue;if(f>=r){u[g]="[MaxProperties ~]";break}const m=p[g];u[g]=aE(g,m,l-1,r,i),f++}return a(e),u}function LK(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof window<"u"&&e===window)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(kK(e))return"[VueViewModel]";if(IK(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${EK(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const n=DK(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function DK(t){const e=Object.getPrototypeOf(t);return e!=null&&e.constructor?e.constructor.name:"null prototype"}function BK(){const t=new WeakSet;function e(r){return t.has(r)?!0:(t.add(r),!1)}function n(r){t.delete(r)}return[e,n]}class vh{constructor(e){Ae(this,"sentry",void 0),Ae(this,"category",void 0),this.sentry=e,this.category="loglevel-sentry"}static async translateError(e){const n=e.findIndex(c=>c instanceof Error),r=e.findIndex(c=>typeof c=="string"),i=e.findIndex(c=>c&&typeof c=="object"&&"status"in c&&"type"in c),o=e.findIndex(c=>c&&typeof c=="object"&&"isAxiosError"in c&&c.isAxiosError===!0);let a;if(i!==-1){var s;const c=e[i],u=(s=c.headers)===null||s===void 0?void 0:s.get("content-type");if(u.includes("application/json")){const f=await c.json();a=new Error((f==null?void 0:f.error)||(f==null?void 0:f.message)||JSON.stringify(f))}else u.includes("text/plain")?a=new Error(await c.text()):a=new Error(`${c.status} ${c.type.toString()} ${c.statusText}`)}else if(o!==-1){const u=e[o].response;if(u){var l;const f=(l=u.headers)===null||l===void 0?void 0:l["content-type"];if(f.includes("application/json")){const p=u.data,g="error"in p?p.error:"message"in p?p.message:JSON.stringify(p);a=new Error(g)}else f.includes("text/plain")?a=new Error(u.data):a=new Error(`${u.status} ${u.data.toString()}`)}else a=new Error("Network error")}else n!==-1?a=e.splice(n,1)[0]:r!==-1?a=new Error(e.splice(r,1)[0]):a=new Error("Unknown error");return[a,e]}static translateArgs(e){const n=e.findIndex(i=>typeof i=="string"),r=n!==-1?e.splice(n,1)[0]:void 0;return r?{message:r,data:{arguments:e}}:{data:{arguments:e}}}static translateLevel(e){switch(e){case"info":return"info";case"warn":return"warning";default:return"debug"}}install(e){const n=e.methodFactory;e.methodFactory=(r,i,o)=>{o&&(this.category=o.toString());const a=n(r,i,o),s=typeof window<"u",l=(...c)=>{var u;const f=(u=this.sentry)===null||u===void 0?void 0:u.getActiveSpan(),{traceId:p,spanId:g}=(f==null?void 0:f.spanContext())||{},m=r==="error"&&c.length>=1&&c[0]instanceof Error;if(s){if(m){const w=c[0],I=p||g?`${w.message}: traceId: ${p} - spanId: ${g}`:w.message,$=[new Error(I,{cause:w}),...c.slice(1)];a&&a(...$);return}a&&a(...c)}else{let w={timestamp:new Date,level:r.toUpperCase(),logger:o};if((p||g)&&(w=be(be({},w),{},{traceId:p,spanId:g})),m){var v;const I=c[0];w=be(be({},w),{},{message:(v=I.message)!==null&&v!==void 0?v:"",stack:I.stack,extra:c.length>1?c.slice(1):void 0})}else{var _;w=be(be({},w),{},{message:(_=c[0])!==null&&_!==void 0?_:"",extra:c.length>1?c.slice(1):void 0})}a&&a(JSON.stringify(NK(w)))}};switch(r){case"error":return async(...c)=>{const{stack:u}=c.find(g=>g instanceof Error)||new Error,[f,p]=await vh.translateError(c);f.stack=u,this.error(f,...p),l(f,...p)};default:return(...c)=>{this.log(vh.translateLevel(r),...c),l(...c)}}},e.setLevel(e.getLevel())}setEnabled(e){if(this.sentry){const n=this.sentry.getClient().getOptions();n&&(n.enabled=e)}}isEnabled(){if(this.sentry){var e;const n=this.sentry.getClient().getOptions();return(e=n==null?void 0:n.enabled)!==null&&e!==void 0?e:!1}return!1}log(e,...n){this.sentry&&this.sentry.addBreadcrumb(be(be({},vh.translateArgs(n)),{},{category:this.category,level:e,timestamp:Date.now()}))}trace(...e){this.log("debug",...e)}error(e,...n){if(this.sentry){const r={data:{logger:"loglevel-sentry","logger.name":this.category,arguments:n}};this.sentry.captureException(e,r)}}}const nt=Oa.getLogger("web3auth-logger"),jK=new vh;jK.install(nt);const $K="f6LbNqCeVRf512ggdME4b6CyflhF1tsX";class FK{constructor(){Ae(this,"segment",void 0),Ae(this,"globalProperties",{}),Ae(this,"enabled",!0)}init(){if(!this.isSkipped()){if(this.segment)throw new Error("Analytics already initialized");this.segment=new wK,this.segment.load({writeKey:$K},{user:{cookie:{key:"web3auth_ajs_user_id"},localStorage:{key:"web3auth_ajs_user_traits"}},globalAnalyticsKey:"web3auth_analytics"}).then(()=>(nt.debug("Analytics initialized"),!0)).catch(e=>{nt.error("Failed to initialize Analytics",e)})}}enable(){this.enabled=!0}disable(){this.enabled=!1}setGlobalProperties(e){this.globalProperties=be(be({},this.globalProperties),e)}async identify(e,n){if(this.enabled&&!this.isSkipped())try{return this.getSegment().identify(e,be({},n))}catch(r){nt.error(`Failed to identify user ${e} in analytics`,r)}}async track(e,n){if(this.enabled&&!this.isSkipped())try{return this.getSegment().track(e,be(be({},n),this.globalProperties))}catch(r){nt.error(`Failed to track event ${e}`,r)}}getSegment(){if(!this.segment)throw nt.error("Analytics not initialized. Call Analytics.init() first."),new Error("Analytics not initialized. Call Analytics.init() first.");return this.segment}isSkipped(){const e=window.location.origin;return!!(e.startsWith("http://")||e.includes("localhost"))}}const dn={SDK_INITIALIZATION_COMPLETED:"SDK Initialization Completed",SDK_INITIALIZATION_FAILED:"SDK Initialization Failed",CONNECTION_STARTED:"Connection Started",CONNECTION_COMPLETED:"Connection Completed",CONNECTION_FAILED:"Connection Failed",IDENTITY_TOKEN_STARTED:"Identity Token Started",IDENTITY_TOKEN_COMPLETED:"Identity Token Completed",IDENTITY_TOKEN_FAILED:"Identity Token Failed",MFA_ENABLEMENT_STARTED:"MFA Enablement Started",MFA_ENABLEMENT_COMPLETED:"MFA Enablement Completed",MFA_ENABLEMENT_FAILED:"MFA Enablement Failed",MFA_MANAGEMENT_SELECTED:"MFA Management Selected",MFA_MANAGEMENT_FAILED:"MFA Management Failed",LOGIN_MODAL_OPENED:"Login Modal Opened",LOGIN_MODAL_CLOSED:"Login Modal Closed",SOCIAL_LOGIN_SELECTED:"Social Login Selected",EXTERNAL_WALLET_SELECTED:"External Wallet Selected",EXTERNAL_WALLET_LIST_EXPANDED:"External Wallet List Expanded",WALLET_UI_CLICKED:"Wallet UI Clicked",WALLET_CONNECT_SCANNER_CLICKED:"Wallet Connect Scanner Clicked",WALLET_CHECKOUT_CLICKED:"Wallet Checkout Clicked",WALLET_SWAP_CLICKED:"Wallet Swap Clicked"},ST={REACT_HOOKS:"React Hooks",VUE_COMPOSABLES:"Vue Composables",NATIVE_SDK:"Native SDK"},CT={WEB_NO_MODAL:"Web NoModal",WEB_MODAL:"Web Modal"},Yf={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},nI={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"},UK={[nI.SAPPHIRE_MAINNET]:"https://api.web3auth.io/signer-service",[nI.SAPPHIRE_DEVNET]:"https://api.web3auth.io/signer-service",[Yf.MAINNET]:"https://api.web3auth.io/signer-service",[Yf.TESTNET]:"https://api.web3auth.io/signer-service",[Yf.CYAN]:"https://api.web3auth.io/signer-polygon-service",[Yf.AQUA]:"https://api.web3auth.io/signer-polygon-service",[Yf.CELESTE]:"https://api.web3auth.io/signer-polygon-service"};class yo extends n8{constructor(e,n,r){super(n),Ae(this,"code",void 0),Ae(this,"message",void 0),Ae(this,"cause",void 0),this.code=e,this.message=n||"",this.cause=r,Object.defineProperty(this,"name",{value:"Web3AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause}}toString(){return JSON.stringify(this.toJSON())}}class ot extends yo{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"WalletInitializationError"})}static fromCode(e,n="",r){return new ot(e,`${ot.messages[e]}, ${n}`,r)}static notFound(e="",n){return ot.fromCode(5001,e,n)}static notInstalled(e="",n){return ot.fromCode(5002,e,n)}static notReady(e="",n){return ot.fromCode(5003,e,n)}static windowBlocked(e="",n){return ot.fromCode(5004,e,n)}static windowClosed(e="",n){return ot.fromCode(5005,e,n)}static incompatibleChainNameSpace(e="",n){return ot.fromCode(5006,e,n)}static duplicateConnectorError(e="",n){return ot.fromCode(5007,e,n)}static invalidProviderConfigError(e="",n){return ot.fromCode(5008,e,n)}static providerNotReadyError(e="",n){return ot.fromCode(5009,e,n)}static rpcConnectionError(e="",n){return ot.fromCode(5010,e,n)}static invalidParams(e="",n){return ot.fromCode(5011,e,n)}static invalidNetwork(e="",n){return ot.fromCode(5013,e,n)}}Ae(ot,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Connector has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});class St extends yo{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"WalletLoginError"})}static fromCode(e,n="",r){return new St(e,`${St.messages[e]}. ${n}`,r)}static connectionError(e="",n){return St.fromCode(5111,e,n)}static disconnectionError(e="",n){return St.fromCode(5112,e,n)}static notConnectedError(e="",n){return St.fromCode(5113,e,n)}static popupClosed(e="",n){return St.fromCode(5114,e,n)}static mfaEnabled(e="",n){return St.fromCode(5115,e,n)}static chainConfigNotAdded(e="",n){return St.fromCode(5116,e,n)}static unsupportedOperation(e="",n){return St.fromCode(5117,e,n)}static sfaKeyNotFound(e="",n){return St.fromCode(5118,e,n)}static userNotLoggedIn(e="",n){return St.fromCode(5119,e,n)}}Ae(St,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user",5115:"User has already enabled mfa, please use the @web3auth/web3auth-web sdk for login with mfa",5116:"Chain config has not been added. Please add the chain config before calling switchChain",5117:"Unsupported operation",5118:"useSFAKey flag is enabled but SFA key is not available",5119:"User not logged in."});class zo extends yo{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"WalletOperationsError"})}static fromCode(e,n="",r){return new zo(e,`${zo.messages[e]}, ${n}`,r)}static chainIDNotAllowed(e="",n){return zo.fromCode(5201,e,n)}static operationNotAllowed(e="",n){return zo.fromCode(5202,e,n)}static chainNamespaceNotAllowed(e="",n){return zo.fromCode(5203,e,n)}}Ae(zo,"messages",{5e3:"Custom",5201:"Provided chainId is not allowed",5202:"This operation is not allowed"});class ia extends yo{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"WalletProviderError"})}static fromCode(e,n="",r){return new zo(e,`${ia.messages[e]}, ${n}`,r)}static invalidRequestArgs(e="",n){return zo.fromCode(5301,e,n)}static invalidRequestMethod(e="",n){return zo.fromCode(5302,e,n)}static invalidRequestParams(e="",n){return zo.fromCode(5303,e,n)}}Ae(ia,"messages",{5e3:"Custom",5301:"Expected a single, non-array, object argument.",5302:"'args.method' must be a non-empty string.",5303:"'args.params' must be an object or array if provided."});const g3=t=>(typeof t=="string"||typeof t=="number")&&/^(-)?0x[0-9a-f]*$/i.test(t),zK=(t=ru.SAPPHIRE_MAINNET)=>UK[t],AT=async({clientId:t,web3AuthNetwork:e,aaProvider:n,authBuildEnv:r})=>{const i=new URL(`${zK(e)}/api/v2/configuration`);return i.searchParams.append("project_id",t),i.searchParams.append("network",e),r&&i.searchParams.append("build_env",r),n&&i.searchParams.append("aa_provider",n),await Ns(i.href)},qK=async t=>await Ns(t),qoe=t=>{let e=t.toLowerCase();return e=e.split("|")[0],e=e.replace(/-/g," "),e=e.replace(/\s+/g," "),e=e.replace(/wallet$/i,"").trim(),e=e.replace(/\s/g,"-"),e};function ha(t,e,n){return e?e.aborted?Promise.reject(new DOMException("Aborted","AbortError")):new Promise((r,i)=>{const o=()=>{n==null||n(),i(new DOMException("Aborted","AbortError"))};return e.addEventListener("abort",o),Promise.resolve().then(()=>t()).then(r,i).finally(()=>{e.removeEventListener("abort",o)})}):t()}const m3=()=>typeof window<"u"&&typeof document<"u",IT=t=>{var e,n;return{whitelabel_app_name:t==null?void 0:t.appName,whitelabel_app_url:t==null?void 0:t.appUrl,whitelabel_logo_light_enabled:!!(t!=null&&t.logoLight),whitelabel_logo_dark_enabled:!!(t!=null&&t.logoDark),whitelabel_default_language:t==null?void 0:t.defaultLanguage,whitelabel_theme_mode:t==null?void 0:t.mode,whitelabel_use_logo_loader:t==null?void 0:t.useLogoLoader,whitelabel_theme_primary:t==null||(e=t.theme)===null||e===void 0?void 0:e.primary,whitelabel_theme_on_primary:t==null||(n=t.theme)===null||n===void 0?void 0:n.onPrimary,whitelabel_tnc_link_enabled:!!(t!=null&&t.tncLink),whitelabel_privacy_policy_enabled:!!(t!=null&&t.privacyPolicy)}},HK=t=>{var e,n,r,i,o;const a=Array.from(new Set(t==null||(e=t.chains)===null||e===void 0?void 0:e.map(l=>{var c;return lE((c=l.bundlerConfig)===null||c===void 0?void 0:c.url)}).filter(Boolean))),s=Array.from(new Set(t==null||(n=t.chains)===null||n===void 0?void 0:n.map(l=>{var c;return lE((c=l.paymasterConfig)===null||c===void 0?void 0:c.url)}).filter(Boolean)));return{aa_smart_account_type:t==null?void 0:t.smartAccountType,aa_chain_ids:t==null||(r=t.chains)===null||r===void 0?void 0:r.map(l=>md({chainId:l.chainId,chainNamespace:$t.EIP155})),aa_bundler_urls:a,aa_paymaster_urls:s,aa_paymaster_enabled:s.length>0,aa_paymaster_context_enabled:t==null||(i=t.chains)===null||i===void 0?void 0:i.some(l=>{var c;return(c=l.bundlerConfig)===null||c===void 0?void 0:c.paymasterContext}),aa_erc20_paymaster_enabled:t==null||(o=t.chains)===null||o===void 0?void 0:o.some(l=>{var c;return(c=l.bundlerConfig)===null||c===void 0||(c=c.paymasterContext)===null||c===void 0?void 0:c.token})}},WK=t=>{var e,n,r,i,o,a,s,l,c,u,f;return{ws_confirmation_strategy:t==null?void 0:t.confirmationStrategy,ws_enable_key_export:t==null?void 0:t.enableKeyExport,ws_show_widget_button:t==null||(e=t.whiteLabel)===null||e===void 0?void 0:e.showWidgetButton,ws_button_position:t==null||(n=t.whiteLabel)===null||n===void 0?void 0:n.buttonPosition,ws_hide_nft_display:t==null||(r=t.whiteLabel)===null||r===void 0?void 0:r.hideNftDisplay,ws_hide_token_display:t==null||(i=t.whiteLabel)===null||i===void 0?void 0:i.hideTokenDisplay,ws_hide_transfers:t==null||(o=t.whiteLabel)===null||o===void 0?void 0:o.hideTransfers,ws_hide_topup:t==null||(a=t.whiteLabel)===null||a===void 0?void 0:a.hideTopup,ws_hide_receive:t==null||(s=t.whiteLabel)===null||s===void 0?void 0:s.hideReceive,ws_hide_swap:t==null||(l=t.whiteLabel)===null||l===void 0?void 0:l.hideSwap,ws_hide_show_all_tokens:t==null||(c=t.whiteLabel)===null||c===void 0?void 0:c.hideShowAllTokens,ws_hide_wallet_connect:t==null||(u=t.whiteLabel)===null||u===void 0?void 0:u.hideWalletConnect,ws_default_portfolio:t==null||(f=t.whiteLabel)===null||f===void 0?void 0:f.defaultPortfolio}},kT="10.0.6",fd=t=>{try{const e=t instanceof yo?t.code:t==null?void 0:t.code;return{error_message:t instanceof Error?t.message:(t==null?void 0:t.message)||(t==null?void 0:t.toString()),error_code:e}}catch{return{error_message:"Unknown error",error_code:void 0}}},lE=t=>{try{return new URL(t).hostname}catch{return""}},md=t=>t.chainNamespace===$t.EIP155?`${t.chainNamespace}:${parseInt(t.chainId,16)}`:t.chainNamespace===$t.SOLANA?`${t.chainNamespace}:${Xq[t.chainId]}`:`${t.chainNamespace}:${t.chainId}`;var v3,rI;function KK(){if(rI)return v3;rI=1,v3=t;function t(e){e=e||{};var n=e.max||Number.MAX_SAFE_INTEGER,r=typeof e.start<"u"?e.start:Math.floor(Math.random()*n);return function(){return r=r%n,r++}}return v3}var VK=KK();const GK=Hi(VK);GK();let YK=function(t){return t.ACCOUNTS_CHANGED="accountsChanged",t.CHAIN_CHANGED="chainChanged",t.CONNECT="connect",t.DISCONNECT="disconnect",t.MESSAGE="message",t}({});class JK extends kq{constructor({config:e,state:n}){super({config:e,state:n}),Ae(this,"_providerEngineProxy",null),Ae(this,"keyExportFlagSetByCode",!1);const{chain:r}=e;if(!r)throw ot.invalidProviderConfigError("Please provide chain");if(!r.chainId)throw ot.invalidProviderConfigError("Please provide chainId inside chain");if(!r.rpcTarget)throw ot.invalidProviderConfigError("Please provide rpcTarget inside chain");typeof e.keyExportEnabled=="boolean"&&(this.keyExportFlagSetByCode=!0),this.defaultState={chainId:"loading"},this.defaultConfig={chain:e.chain,chains:e.chains,keyExportEnabled:typeof e.keyExportEnabled=="boolean"?e.keyExportEnabled:!0},super.initialize()}get currentChain(){return this.config.chains.find(e=>e.chainId===this.state.chainId)}get provider(){return this._providerEngineProxy}get chainId(){return this.state.chainId}set provider(e){throw new Error("Method not implemented.")}async request(e){var n;if(!e||typeof e!="object"||Array.isArray(e))throw ba.invalidRequest({message:ia.invalidRequestArgs().message,data:be(be({},e||{}),{},{cause:ia.invalidRequestArgs().message})});const{method:r,params:i}=e;if(typeof r!="string"||r.length===0)throw ba.invalidRequest({message:ia.invalidRequestMethod().message,data:be(be({},e||{}),{},{cause:ia.invalidRequestMethod().message})});if(i!==void 0&&!Array.isArray(i)&&(typeof i!="object"||i===null))throw ba.invalidRequest({message:ia.invalidRequestParams().message,data:be(be({},e||{}),{},{cause:ia.invalidRequestParams().message})});return(n=this.provider)===null||n===void 0?void 0:n.request(e)}sendAsync(e,n){return n?this.send(e,n):this.request(e)}send(e,n){this.request(e).then(r=>n(null,{result:r})).catch(r=>n(r,null))}updateProviderEngineProxy(e){if(this._providerEngineProxy){this._providerEngineProxy.setTarget(e);const n=r=>{r!=="newListener"&&e.on(r,(...i)=>{if(r===YK.CHAIN_CHANGED){const o=i[0];this.update({chainId:o})}this.emit(r,...i)})};this.eventNames().forEach(r=>{n(r)}),this.on("newListener",r=>{this.listenerCount(r)>0||n(r)})}else this._providerEngineProxy=Pq(e)}setKeyExportFlag(e){this.keyExportFlagSetByCode||this.configure({keyExportEnabled:e})}getProviderEngineProxy(){return this._providerEngineProxy}getChain(e){return this.config.chains.find(n=>n.chainId===e)}}function ZK(t){return(e,n,r,i)=>e.method==="chainId"?(n.result=t,i()):r()}function QK(t){return(e,n,r,i)=>e.method==="provider_config"?(n.result=t,i()):r()}function XK(t){const{chainId:e,rpcTarget:n}=t,r=Kq({rpcTarget:n});return{networkMiddleware:Cz([ZK(e),QK(t),r]),fetchMiddleware:r}}var MT;class s_ extends JK{constructor({config:e,state:n}){super({config:e,state:n})}async setupProvider(e){const n=this.getChain(e);if(!n)throw lA.custom({message:"Chain not found",code:4902});const{networkMiddleware:r}=XK(n),i=new ps;i.push(r);const o=Az(i);this.updateProviderEngineProxy(o),this.emit("chainChanged",e),this.emit("connect",{chainId:e}),this.update({chainId:e})}async switchChain(e){if(!this._providerEngineProxy)throw lA.custom({message:"Provider is not initialized",code:4902});const n=e.chainId;this.chainId!==n&&(this.update({chainId:"loading"}),await this.setupProvider(n))}getProviderEngineProxy(){return this._providerEngineProxy}lookupNetwork(){throw new Error("Method not implemented.")}}MT=s_;Ae(s_,"getProviderInstance",async t=>{const e=new MT({config:{chain:t.chain,chains:t.chains}}),{chainId:n}=t.chain;return await e.setupProvider(n),e});const eV=t=>{const{document:e}=t,n=e.querySelector('head > meta[property="og:site_name"]');if(n)return n.content;const r=e.querySelector('head > meta[name="title"]');return r?r.content:e.title&&e.title.length>0?e.title:t.location.hostname};function iI(t){return new Promise((e,n)=>{try{const r=document.createElement("img");r.onload=()=>e(!0),r.onerror=()=>e(!1),r.src=t}catch(r){n(r)}})}async function tV(t){const{document:e}=t;let n=e.querySelector('head > link[rel="shortcut icon"]');return n&&await iI(n.href)||(n=Array.from(e.querySelectorAll('head > link[rel="icon"]')).find(r=>!!r.href)||null,n&&await iI(n.href))?n.href:null}function nV(t){const[e,n]=t.split(".");return{header:JSON.parse(jm(e)),payload:JSON.parse(jm(n))}}const $l={EIP155:"eip155",SOLANA:"solana",MULTICHAIN:"multichain"},qm={AUTH:"auth",WALLET_CONNECT_V2:"wallet-connect-v2",METAMASK:"metamask"},rV=be({},qm),Hm=be({COINBASE:"coinbase"},qm),ht=be(be({},Hm),rV),OT={[qm.AUTH]:"Auth",[qm.WALLET_CONNECT_V2]:"Wallet Connect v2",[Hm.COINBASE]:"Coinbase Smart Wallet",[Hm.METAMASK]:"MetaMask"},st={NOT_READY:"not_ready",READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTING:"disconnecting",DISCONNECTED:"disconnected",ERRORED:"errored"},dt=be(be({},st),{},{CONNECTOR_DATA_UPDATED:"connector_data_updated",CACHE_CLEAR:"cache_clear",CONNECTORS_UPDATED:"connectors_updated",MFA_ENABLED:"mfa_enabled",REHYDRATION_ERROR:"rehydration_error"}),na={EXTERNAL:"external",IN_APP:"in_app"};class RT extends Ql{constructor(e){super(),Ae(this,"connectorData",{}),Ae(this,"isInjected",void 0),Ae(this,"icon",void 0),Ae(this,"coreOptions",void 0),Ae(this,"rehydrated",!1),Ae(this,"connectorNamespace",void 0),Ae(this,"type",void 0),Ae(this,"name",void 0),Ae(this,"status",void 0),this.coreOptions=e.coreOptions}get connnected(){return this.status===st.CONNECTED}checkConnectionRequirements(){if(!(this.name===ht.WALLET_CONNECT_V2&&this.status===st.CONNECTING)&&!(this.name===ht.METAMASK&&!this.isInjected&&this.status===st.CONNECTING)){if(this.status===st.CONNECTING)throw ot.notReady("Already connecting");if(this.status===st.CONNECTED)throw St.connectionError("Already connected");if(this.status!==st.READY)throw St.connectionError("Wallet connector is not ready yet, Please wait for init function to resolve before calling connect/connectTo function")}}checkInitializationRequirements({chainConfig:e}){if(!this.coreOptions.clientId)throw ot.invalidParams("Please initialize Web3Auth with a valid clientId in constructor");if(!e)throw ot.invalidParams("chainConfig is required before initialization");if(!e.rpcTarget&&e.chainNamespace!==$t.OTHER)throw ot.invalidParams("rpcTarget is required in chainConfig");if(!e.chainId&&e.chainNamespace!==$t.OTHER)throw ot.invalidParams("chainID is required in chainConfig");if(this.connectorNamespace!==$l.MULTICHAIN&&this.connectorNamespace!==e.chainNamespace)throw ot.invalidParams("Connector doesn't support this chain namespace");if(this.status!==st.NOT_READY){if(this.status===st.CONNECTED)throw ot.notReady("Already connected");if(this.status===st.READY)throw ot.notReady("Connector is already initialized")}}checkDisconnectionRequirements(){if(this.status!==st.CONNECTED)throw St.disconnectionError("Not connected with wallet")}checkSwitchChainRequirements(e,n=!1){if(!n&&!this.provider)throw St.notConnectedError("Not connected with wallet.");if(!this.coreOptions.chains)throw ot.invalidParams("chainConfigs is required");if(!this.coreOptions.chains.some(i=>i.chainId===e.chainId&&(i.chainNamespace===this.connectorNamespace||this.connectorNamespace===$l.MULTICHAIN)))throw ot.invalidParams("Invalid chainId")}updateConnectorData(e){this.connectorData=e,this.emit(dt.CONNECTOR_DATA_UPDATED,{connectorName:this.name,data:e})}}class iV extends RT{constructor(e){super(e),Ae(this,"name",ht.AUTH),Ae(this,"connectorNamespace",$l.MULTICHAIN),Ae(this,"type",na.IN_APP),Ae(this,"authInstance",null),Ae(this,"status",st.NOT_READY),Ae(this,"privateKeyProvider",null),Ae(this,"authOptions",void 0),Ae(this,"loginSettings",{authConnection:""}),Ae(this,"wsSettings",void 0),Ae(this,"wsEmbedInstance",null),Ae(this,"authConnectionConfig",[]),Ae(this,"wsEmbedInstancePromise",null),this.authOptions=e.connectorSettings,this.loginSettings=e.loginSettings||{authConnection:""},this.wsSettings=e.walletServicesSettings||{},this.authConnectionConfig=e.authConnectionConfig||[]}get provider(){if(this.status!==st.NOT_READY){var e;if((e=this.wsEmbedInstance)!==null&&e!==void 0&&e.provider)return this.wsEmbedInstance.provider;if(this.privateKeyProvider)return this.privateKeyProvider}return null}get wsEmbed(){return this.wsEmbedInstance}set provider(e){throw new Error("Not implemented")}async init(e){const{chains:n}=this.coreOptions,{chainId:r}=e,i=n.find(s=>s.chainId===r);if(super.checkInitializationRequirements({chainConfig:i}),!this.coreOptions.clientId)throw ot.invalidParams("clientId is required before auth's initialization");if(!this.authOptions)throw ot.invalidParams("authOptions is required before auth's initialization");if(this.authConnectionConfig.length===0)throw ot.invalidParams("authConnectionConfig is required before auth's initialization");const o=this.authOptions.uxMode===$r.REDIRECT;this.authOptions=be(be({},this.authOptions),{},{replaceUrlOnRedirect:o,useCoreKitKey:this.coreOptions.useSFAKey}),this.authInstance=new oz(be(be({},this.authOptions),{},{clientId:this.coreOptions.clientId,network:this.coreOptions.web3AuthNetwork,sdkMode:ds.IFRAME,authConnectionConfig:this.authConnectionConfig.filter(s=>!s.isDefault),mfaSettings:this.coreOptions.mfaSettings})),nt.debug("initializing auth connector init",this.authOptions);const a=this.authInstance.init();if(this.coreOptions.privateKeyProvider)this.privateKeyProvider=this.coreOptions.privateKeyProvider;else switch(i.chainNamespace){case $t.EIP155:case $t.SOLANA:{const{default:s}=await on(async()=>{const{default:c}=await import("./index-Dy9-NFu1.js");return{default:c}},[]);this.wsEmbedInstance=new s({web3AuthClientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,modalZIndex:this.wsSettings.modalZIndex});const l=n.filter(c=>c.chainNamespace===$t.EIP155||c.chainNamespace===$t.SOLANA);this.wsEmbedInstancePromise=this.wsEmbedInstance.init(be(be({},this.wsSettings),{},{chains:l,chainId:r,whiteLabel:be(be({},this.authOptions.whiteLabel),this.wsSettings.whiteLabel)})).then(()=>{this.wsEmbedInstancePromise=null});break}case $t.XRPL:throw St.connectionError("Private key provider is required for XRPL");default:{const{CommonPrivateKeyProvider:s}=await on(async()=>{const{CommonPrivateKeyProvider:l}=await import("./index-D99Z7c5J.js");return{CommonPrivateKeyProvider:l}},[]);this.privateKeyProvider=new s({config:{chain:i,chains:this.coreOptions.chains}})}}nt.debug("initializing auth connector"),await a,this.status=st.READY,this.emit(dt.READY,ht.AUTH);try{const{sessionId:s}=this.authInstance||{};if(s&&(e.autoConnect||o))this.rehydrated=!0,await this.connect({chainId:e.chainId});else if(!s&&e.autoConnect)throw St.connectionError("Failed to rehydrate")}catch(s){this.emit(dt.REHYDRATION_ERROR,s)}}async connect(e){super.checkConnectionRequirements(),this.status=st.CONNECTING,this.emit(dt.CONNECTING,be(be({},e),{},{connector:ht.AUTH}));try{return await this.connectWithProvider(e),this.provider}catch(r){var n;throw nt.error("Failed to connect with auth provider",r),this.status=st.READY,this.emit(dt.ERRORED,r),r!=null&&(n=r.message)!==null&&n!==void 0&&n.includes("user closed popup")?St.popupClosed():r instanceof yo?r:St.connectionError("Failed to login with auth",r)}}async enableMFA(e={authConnection:""}){if(this.status!==st.CONNECTED)throw St.notConnectedError("Not connected with wallet");if(!this.authInstance)throw ot.notReady("authInstance is not ready");try{const n=await this.authInstance.enableMFA(e);n&&this.emit(dt.MFA_ENABLED,n)}catch(n){throw nt.error("Failed to enable MFA with auth provider",n),n instanceof yo?n:St.connectionError("Failed to enable MFA with auth",n)}}async manageMFA(e={authConnection:""}){if(this.status!==st.CONNECTED)throw St.notConnectedError("Not connected with wallet");if(!this.authInstance)throw ot.notReady("authInstance is not ready");try{await this.authInstance.manageMFA(e)}catch(n){throw nt.error("Failed to manage MFA with auth provider",n),n instanceof yo?n:St.connectionError("Failed to manage MFA with auth",n)}}async disconnect(e={cleanup:!1}){if(this.status!==st.CONNECTED)throw St.notConnectedError("Not connected with wallet");if(!this.authInstance)throw ot.notReady("authInstance is not ready");this.status=st.DISCONNECTING,await this.authInstance.logout(),this.wsEmbedInstance&&await this.wsEmbedInstance.logout(),e.cleanup?(this.status=st.NOT_READY,this.authInstance=null,this.wsEmbedInstance&&(this.wsEmbedInstance=null),this.privateKeyProvider&&(this.privateKeyProvider=null)):this.status=st.READY,this.rehydrated=!1,this.emit(dt.DISCONNECTED)}async getIdentityToken(){if(this.status!==st.CONNECTED)throw St.notConnectedError("Not connected with wallet, Please login/connect first");return{idToken:(await this.getUserInfo()).idToken}}async getUserInfo(){if(this.status!==st.CONNECTED)throw St.notConnectedError("Not connected with wallet");if(!this.authInstance)throw ot.notReady("authInstance is not ready");return this.authInstance.getUserInfo()}async switchChain(e,n=!1){super.checkSwitchChainRequirements(e,n);const{chainId:r}=e,{chainId:i}=this.provider,{chainNamespace:o}=this.getChain(i),{chainNamespace:a}=this.getChain(r);if(i!==r)if(o===$t.SOLANA||o===$t.EIP155){var s;if(a!==$t.SOLANA&&a!==$t.EIP155)throw St.connectionError("Cannot switch to other chain namespace");const c=`${a}:${Number(e.chainId)}`;await((s=this.wsEmbedInstance.provider)===null||s===void 0?void 0:s.request({method:"wallet_switchChain",params:{chainId:c}}))}else{var l;if(o!==a)throw St.connectionError("Cannot switch to other chain namespace");await((l=this.privateKeyProvider)===null||l===void 0?void 0:l.switchChain(e))}}async cleanup(){if(!this.authInstance)throw ot.notReady("authInstance is not ready");await this.authInstance.cleanup(),this.wsEmbedInstance&&this.wsEmbedInstance.clearInit()}getOAuthProviderConfig(e){const{authConnection:n,authConnectionId:r,groupedAuthConnectionId:i}=e;return this.authConnectionConfig.find(a=>i&&r?a.authConnection===n&&a.groupedAuthConnectionId===i&&a.authConnectionId===r:r?a.authConnection===n&&a.authConnectionId===r:a.authConnection===n&&a.isDefault)}getChain(e){return this.coreOptions.chains.find(n=>n.chainId===e)}_getFinalPrivKey(){if(!this.authInstance)return"";let e=this.authInstance.privKey;if(this.coreOptions.useSFAKey){if(this.authInstance.privKey&&!this.authInstance.coreKitKey)throw St.sfaKeyNotFound();e=this.authInstance.coreKitKey}return e}async connectWithProvider(e){var n,r;if(!this.authInstance)throw ot.notReady("authInstance is not ready");const i=this.coreOptions.chains.find(c=>c.chainId===e.chainId);if(!i)throw St.connectionError("Chain config is not available");const{chainNamespace:o}=i,a=o===$t.EIP155||o===$t.SOLANA?(n=this.authInstance)===null||n===void 0?void 0:n.sessionId:this._getFinalPrivKey();if(e.idToken&&(e.extraLoginOptions=be(be({},e.extraLoginOptions),{},{id_token:e.idToken})),!a||(r=e.extraLoginOptions)!==null&&r!==void 0&&r.id_token){var s;this.loginSettings.curve=K7.OTHER;const c=On(this.loginSettings,e);(s=e.extraLoginOptions)!==null&&s!==void 0&&s.id_token?await this.connectWithJwtLogin(c):await this.connectWithSocialLogin(c)}if(o===$t.EIP155||o===$t.SOLANA){this.wsEmbedInstancePromise&&await this.wsEmbedInstancePromise;const{sessionId:c,sessionNamespace:u}=this.authInstance||{};if(c&&await this.wsEmbedInstance.loginWithSessionId({sessionId:c,sessionNamespace:u})){var l;this.status=st.CONNECTED,this.emit(dt.CONNECTED,{connector:ht.AUTH,reconnected:this.rehydrated,provider:this.provider}),(l=this.wsEmbedInstance)===null||l===void 0||l.provider.on("accountsChanged",(p=[])=>{p.length===0&&this.status===st.CONNECTED&&this.disconnect({cleanup:!1})})}}else{const c=this._getFinalPrivKey();c&&(await this.privateKeyProvider.setupProvider(c,e.chainId),this.status=st.CONNECTED,this.emit(dt.CONNECTED,{connector:ht.AUTH,reconnected:this.rehydrated,provider:this.provider}))}}async connectWithSocialLogin(e){var n,r;const i=this.getOAuthProviderConfig({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});if(!(i!=null&&i.authConnection))throw St.connectionError("Invalid auth connection.");const o=be(be(be({},i.jwtParameters||{}),e.extraLoginOptions||{}),{},{login_hint:e.loginHint||((n=e.extraLoginOptions)===null||n===void 0?void 0:n.login_hint)}),a=Cx(),s=Hc(e);s.extraLoginOptions=be(be({},s.extraLoginOptions||{}),{},{login_hint:e.loginHint||((r=e.extraLoginOptions)===null||r===void 0?void 0:r.login_hint)}),delete s.chainId;const l={authConnection:e.authConnection,authConnectionId:i.authConnectionId,clientId:i.clientId||o.client_id,groupedAuthConnectionId:i.groupedAuthConnectionId,redirect_uri:`${this.authInstance.options.sdkUrl}/auth`,jwtParams:o,customState:{nonce:a,appState:e.appState,dapp_redirect_url:this.authInstance.options.redirectUrl,uxMode:this.authInstance.options.uxMode,whiteLabel:JSON.stringify(this.authInstance.options.whiteLabel),loginParams:JSON.stringify(s),version:H2.split(".")[0],web3AuthNetwork:this.coreOptions.web3AuthNetwork,web3AuthClientId:this.coreOptions.clientId,originData:this.authInstance.options.originData?JSON.stringify(this.authInstance.options.originData):void 0},web3AuthClientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork},c=q7(l),u=new Uv({url:c.finalURL,timeout:0});if(this.authOptions.uxMode===$r.REDIRECT)return u.redirect(this.authOptions.replaceUrlOnRedirect);let f=!1;return new Promise((p,g)=>{u.open().catch(v=>{nt.error("Error during login with social",v),this.authInstance.postLoginCancelledMessage(a),g(v)});const m=new v8({sameIpCheck:!0});m.subscribe(`web3auth-login-${a}`).then(v=>{const _=JSON.parse(v||"{}");return(_==null?void 0:_.message)==="login_finished"&&(_!=null&&_.error&&(this.authInstance.postLoginCancelledMessage(a),g(_.error)),f=!0,m.cleanup(),u.close()),!0}).catch(v=>{nt.error("Error during login with social",v)}),u.once("close",()=>{f||(m.cleanup(),this.authInstance.postLoginCancelledMessage(a),g(St.popupClosed()))}),this.authInstance.postLoginInitiatedMessage(s,a).then(p).catch(v=>{if(v instanceof yo)throw v;g(St.connectionError(v instanceof Error?v.message:v||"Failed to login with social"))})})}connectWithJwtLogin(e){var n,r;const i=this.getOAuthProviderConfig({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});if(!(i!=null&&i.authConnection)&&!e.authConnectionId)throw St.connectionError("Invalid auth connection.");i!=null&&i.authConnection||this.authInstance.options.authConnectionConfig.push({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});const o=Hc(e),a=be(be({},(i==null?void 0:i.jwtParameters)||{}),e.extraLoginOptions||{});let s;if(e.loginHint||(n=e.extraLoginOptions)!==null&&n!==void 0&&n.login_hint){var l;s=e.loginHint||((l=e.extraLoginOptions)===null||l===void 0?void 0:l.login_hint)}else if((r=e.extraLoginOptions)!==null&&r!==void 0&&r.id_token){const{payload:c}=nV(e.extraLoginOptions.id_token);s=Th(c,o.authConnection,a.userIdField,a.isUserIdCaseSensitive)}else throw St.connectionError("Invalid login hint or id_token");return o.extraLoginOptions=be(be({},a),{},{login_hint:s}),delete o.chainId,this.authInstance.postLoginInitiatedMessage(o)}}const oV=t=>({projectConfig:e,coreOptions:n})=>{var r,i,o,a;const s={},{whitelist:l,sessionTime:c}=e;l&&(s.originData=l.signed_urls),n.sessionTime?s.sessionTime=n.sessionTime:c&&(s.sessionTime=c),(r=n.uiConfig)!==null&&r!==void 0&&r.uxMode&&(s.uxMode=n.uiConfig.uxMode);const u=n.uiConfig||{};s.whiteLabel=u;const f=On.all([{uxMode:$r.POPUP,buildEnv:n.authBuildEnv||xi.PRODUCTION},s,{}]),p=On.all([u,((i=n.walletServicesConfig)===null||i===void 0?void 0:i.whiteLabel)||{}]),g=be(be({},n.walletServicesConfig),{},{whiteLabel:p,accountAbstractionConfig:n.accountAbstractionConfig,enableLogging:n.enableLogging}),m=(o=(a=n.walletServicesConfig)===null||a===void 0?void 0:a.enableKeyExport)!==null&&o!==void 0?o:!0;return n.privateKeyProvider&&n.privateKeyProvider.setKeyExportFlag(m),new iV({connectorSettings:f,walletServicesSettings:g,loginSettings:be(be({},{}),{},{mfaLevel:n.mfaLevel}),coreOptions:n,authConnectionConfig:e.embeddedWalletAuth})};var gg={exports:{}},oI;function sV(){return oI||(oI=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof window<"u"&&window,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(a){var s=typeof o<"u"&&o||typeof self<"u"&&self||typeof window<"u"&&window||{},l={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function c(C){return C&&DataView.prototype.isPrototypeOf(C)}if(l.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(C){return C&&u.indexOf(Object.prototype.toString.call(C))>-1};function p(C){if(typeof C!="string"&&(C=String(C)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(C)||C==="")throw new TypeError('Invalid character in header field name: "'+C+'"');return C.toLowerCase()}function g(C){return typeof C!="string"&&(C=String(C)),C}function m(C){var T={next:function(){var j=C.shift();return{done:j===void 0,value:j}}};return l.iterable&&(T[Symbol.iterator]=function(){return T}),T}function v(C){this.map={},C instanceof v?C.forEach(function(T,j){this.append(j,T)},this):Array.isArray(C)?C.forEach(function(T){if(T.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+T.length);this.append(T[0],T[1])},this):C&&Object.getOwnPropertyNames(C).forEach(function(T){this.append(T,C[T])},this)}v.prototype.append=function(C,T){C=p(C),T=g(T);var j=this.map[C];this.map[C]=j?j+", "+T:T},v.prototype.delete=function(C){delete this.map[p(C)]},v.prototype.get=function(C){return C=p(C),this.has(C)?this.map[C]:null},v.prototype.has=function(C){return this.map.hasOwnProperty(p(C))},v.prototype.set=function(C,T){this.map[p(C)]=g(T)},v.prototype.forEach=function(C,T){for(var j in this.map)this.map.hasOwnProperty(j)&&C.call(T,this.map[j],j,this)},v.prototype.keys=function(){var C=[];return this.forEach(function(T,j){C.push(j)}),m(C)},v.prototype.values=function(){var C=[];return this.forEach(function(T){C.push(T)}),m(C)},v.prototype.entries=function(){var C=[];return this.forEach(function(T,j){C.push([j,T])}),m(C)},l.iterable&&(v.prototype[Symbol.iterator]=v.prototype.entries);function _(C){if(!C._noBody){if(C.bodyUsed)return Promise.reject(new TypeError("Already read"));C.bodyUsed=!0}}function w(C){return new Promise(function(T,j){C.onload=function(){T(C.result)},C.onerror=function(){j(C.error)}})}function I(C){var T=new FileReader,j=w(T);return T.readAsArrayBuffer(C),j}function k(C){var T=new FileReader,j=w(T),A=/charset=([A-Za-z0-9_-]+)/.exec(C.type),M=A?A[1]:"utf-8";return T.readAsText(C,M),j}function $(C){for(var T=new Uint8Array(C),j=new Array(T.length),A=0;A<T.length;A++)j[A]=String.fromCharCode(T[A]);return j.join("")}function L(C){if(C.slice)return C.slice(0);var T=new Uint8Array(C.byteLength);return T.set(new Uint8Array(C)),T.buffer}function z(){return this.bodyUsed=!1,this._initBody=function(C){this.bodyUsed=this.bodyUsed,this._bodyInit=C,C?typeof C=="string"?this._bodyText=C:l.blob&&Blob.prototype.isPrototypeOf(C)?this._bodyBlob=C:l.formData&&FormData.prototype.isPrototypeOf(C)?this._bodyFormData=C:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)?this._bodyText=C.toString():l.arrayBuffer&&l.blob&&c(C)?(this._bodyArrayBuffer=L(C.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(C)||f(C))?this._bodyArrayBuffer=L(C):this._bodyText=C=Object.prototype.toString.call(C):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof C=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var C=_(this);if(C)return C;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var C=_(this);return C||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(I);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var C=_(this);if(C)return C;if(this._bodyBlob)return k(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve($(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}var H=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function P(C){var T=C.toUpperCase();return H.indexOf(T)>-1?T:C}function D(C,T){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');T=T||{};var j=T.body;if(C instanceof D){if(C.bodyUsed)throw new TypeError("Already read");this.url=C.url,this.credentials=C.credentials,T.headers||(this.headers=new v(C.headers)),this.method=C.method,this.mode=C.mode,this.signal=C.signal,!j&&C._bodyInit!=null&&(j=C._bodyInit,C.bodyUsed=!0)}else this.url=String(C);if(this.credentials=T.credentials||this.credentials||"same-origin",(T.headers||!this.headers)&&(this.headers=new v(T.headers)),this.method=P(T.method||this.method||"GET"),this.mode=T.mode||this.mode||null,this.signal=T.signal||this.signal||function(){if("AbortController"in s){var x=new AbortController;return x.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&j)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(j),(this.method==="GET"||this.method==="HEAD")&&(T.cache==="no-store"||T.cache==="no-cache")){var A=/([?&])_=[^&]*/;if(A.test(this.url))this.url=this.url.replace(A,"$1_="+new Date().getTime());else{var M=/\?/;this.url+=(M.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}D.prototype.clone=function(){return new D(this,{body:this._bodyInit})};function B(C){var T=new FormData;return C.trim().split("&").forEach(function(j){if(j){var A=j.split("="),M=A.shift().replace(/\+/g," "),x=A.join("=").replace(/\+/g," ");T.append(decodeURIComponent(M),decodeURIComponent(x))}}),T}function O(C){var T=new v,j=C.replace(/\r?\n[\t ]+/g," ");return j.split("\r").map(function(A){return A.indexOf(`
`)===0?A.substr(1,A.length):A}).forEach(function(A){var M=A.split(":"),x=M.shift().trim();if(x){var R=M.join(":").trim();try{T.append(x,R)}catch(F){console.warn("Response "+F.message)}}}),T}z.call(D.prototype);function y(C,T){if(!(this instanceof y))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(T||(T={}),this.type="default",this.status=T.status===void 0?200:T.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=T.statusText===void 0?"":""+T.statusText,this.headers=new v(T.headers),this.url=T.url||"",this._initBody(C)}z.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},y.error=function(){var C=new y(null,{status:200,statusText:""});return C.ok=!1,C.status=0,C.type="error",C};var E=[301,302,303,307,308];y.redirect=function(C,T){if(E.indexOf(T)===-1)throw new RangeError("Invalid status code");return new y(null,{status:T,headers:{location:C}})},a.DOMException=s.DOMException;try{new a.DOMException}catch{a.DOMException=function(T,j){this.message=T,this.name=j;var A=Error(T);this.stack=A.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function S(C,T){return new Promise(function(j,A){var M=new D(C,T);if(M.signal&&M.signal.aborted)return A(new a.DOMException("Aborted","AbortError"));var x=new XMLHttpRequest;function R(){x.abort()}x.onload=function(){var K={statusText:x.statusText,headers:O(x.getAllResponseHeaders()||"")};M.url.indexOf("file://")===0&&(x.status<200||x.status>599)?K.status=200:K.status=x.status,K.url="responseURL"in x?x.responseURL:K.headers.get("X-Request-URL");var G="response"in x?x.response:x.responseText;setTimeout(function(){j(new y(G,K))},0)},x.onerror=function(){setTimeout(function(){A(new TypeError("Network request failed"))},0)},x.ontimeout=function(){setTimeout(function(){A(new TypeError("Network request timed out"))},0)},x.onabort=function(){setTimeout(function(){A(new a.DOMException("Aborted","AbortError"))},0)};function F(K){try{return K===""&&s.location.href?s.location.href:K}catch{return K}}if(x.open(M.method,F(M.url),!0),M.credentials==="include"?x.withCredentials=!0:M.credentials==="omit"&&(x.withCredentials=!1),"responseType"in x&&(l.blob?x.responseType="blob":l.arrayBuffer&&(x.responseType="arraybuffer")),T&&typeof T.headers=="object"&&!(T.headers instanceof v||s.Headers&&T.headers instanceof s.Headers)){var U=[];Object.getOwnPropertyNames(T.headers).forEach(function(K){U.push(p(K)),x.setRequestHeader(K,g(T.headers[K]))}),M.headers.forEach(function(K,G){U.indexOf(G)===-1&&x.setRequestHeader(G,K)})}else M.headers.forEach(function(K,G){x.setRequestHeader(G,K)});M.signal&&(M.signal.addEventListener("abort",R),x.onreadystatechange=function(){x.readyState===4&&M.signal.removeEventListener("abort",R)}),x.send(typeof M._bodyInit>"u"?null:M._bodyInit)})}return S.polyfill=!0,s.fetch||(s.fetch=S,s.Headers=v,s.Request=D,s.Response=y),a.Headers=v,a.Request=D,a.Response=y,a.fetch=S,a})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(gg,gg.exports)),gg.exports}var aV=sV();const TT=Hi(aV);var mg={exports:{}},y3,sI;function lV(){if(sI)return y3;sI=1;var t=1e3,e=t*60,n=e*60,r=n*24,i=r*7,o=r*365.25;y3=function(u,f){f=f||{};var p=typeof u;if(p==="string"&&u.length>0)return a(u);if(p==="number"&&isFinite(u))return f.long?l(u):s(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function a(u){if(u=String(u),!(u.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(f){var p=parseFloat(f[1]),g=(f[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return p*o;case"weeks":case"week":case"w":return p*i;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*e;case"seconds":case"second":case"secs":case"sec":case"s":return p*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function s(u){var f=Math.abs(u);return f>=r?Math.round(u/r)+"d":f>=n?Math.round(u/n)+"h":f>=e?Math.round(u/e)+"m":f>=t?Math.round(u/t)+"s":u+"ms"}function l(u){var f=Math.abs(u);return f>=r?c(u,f,r,"day"):f>=n?c(u,f,n,"hour"):f>=e?c(u,f,e,"minute"):f>=t?c(u,f,t,"second"):u+" ms"}function c(u,f,p,g){var m=f>=p*1.5;return Math.round(u/p)+" "+g+(m?"s":"")}return y3}var w3,aI;function cV(){if(aI)return w3;aI=1;function t(e){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=o,r.enabled=l,r.humanize=lV(),r.destroy=u,Object.keys(e).forEach(f=>{r[f]=e[f]}),r.names=[],r.skips=[],r.formatters={};function n(f){let p=0;for(let g=0;g<f.length;g++)p=(p<<5)-p+f.charCodeAt(g),p|=0;return r.colors[Math.abs(p)%r.colors.length]}r.selectColor=n;function r(f){let p,g=null,m,v;function _(...w){if(!_.enabled)return;const I=_,k=Number(new Date),$=k-(p||k);I.diff=$,I.prev=p,I.curr=k,p=k,w[0]=r.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let L=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(H,P)=>{if(H==="%%")return"%";L++;const D=r.formatters[P];if(typeof D=="function"){const B=w[L];H=D.call(I,B),w.splice(L,1),L--}return H}),r.formatArgs.call(I,w),(I.log||r.log).apply(I,w)}return _.namespace=f,_.useColors=r.useColors(),_.color=r.selectColor(f),_.extend=i,_.destroy=r.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(m!==r.namespaces&&(m=r.namespaces,v=r.enabled(f)),v),set:w=>{g=w}}),typeof r.init=="function"&&r.init(_),_}function i(f,p){const g=r(this.namespace+(typeof p>"u"?":":p)+f);return g.log=this.log,g}function o(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];const p=(typeof f=="string"?f:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const g of p)g[0]==="-"?r.skips.push(g.slice(1)):r.names.push(g)}function a(f,p){let g=0,m=0,v=-1,_=0;for(;g<f.length;)if(m<p.length&&(p[m]===f[g]||p[m]==="*"))p[m]==="*"?(v=m,_=g,m++):(g++,m++);else if(v!==-1)m=v+1,_++,g=_;else return!1;for(;m<p.length&&p[m]==="*";)m++;return m===p.length}function s(){const f=[...r.names,...r.skips.map(p=>"-"+p)].join(",");return r.enable(""),f}function l(f){for(const p of r.skips)if(a(f,p))return!1;for(const p of r.names)if(a(f,p))return!0;return!1}function c(f){return f instanceof Error?f.stack||f.message:f}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}return w3=t,w3}var lI;function uV(){return lI||(lI=1,function(t,e){var n={};e.formatArgs=i,e.save=o,e.load=a,e.useColors=r,e.storage=s(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let f=0,p=0;c[0].replace(/%[a-zA-Z%]/g,g=>{g!=="%%"&&(f++,g==="%c"&&(p=f))}),c.splice(p,0,u)}e.log=console.debug||console.log||(()=>{});function o(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function a(){let c;try{c=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}function s(){try{return localStorage}catch{}}t.exports=cV()(e);const{formatters:l}=t.exports;l.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}(mg,mg.exports)),mg.exports}var dV=uV();const ni=Hi(dV);var b3,cI;function fV(){if(cI)return b3;cI=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,i=(D,B)=>{for(var O in B)t(D,O,{get:B[O],enumerable:!0})},o=(D,B,O,y)=>{if(B&&typeof B=="object"||typeof B=="function")for(let E of n(B))!r.call(D,E)&&E!==O&&t(D,E,{get:()=>B[E],enumerable:!(y=e(B,E))||y.enumerable});return D},a=D=>o(t({},"__esModule",{value:!0}),D),s={};i(s,{createFinalURL:()=>z,createPathBasedClient:()=>v,createQuerySerializer:()=>k,default:()=>f,defaultBodySerializer:()=>L,defaultPathSerializer:()=>$,mergeHeaders:()=>H,randomID:()=>u,removeTrailingSlash:()=>P,serializeArrayParam:()=>I,serializeObjectParam:()=>w,serializePrimitiveParam:()=>_,wrapAsPathBasedClient:()=>m}),b3=a(s);var l=/\{[^{}]+\}/g,c=()=>{var D,B;return typeof process=="object"&&Number.parseInt((B=(D=process==null?void 0:process.versions)==null?void 0:D.node)==null?void 0:B.substring(0,2))>=18&&process.versions.undici};function u(){return Math.random().toString(36).slice(2,11)}function f(D){let{baseUrl:B="",Request:O=globalThis.Request,fetch:y=globalThis.fetch,querySerializer:E,bodySerializer:S,headers:C,requestInitExt:T=void 0,...j}={...D};T=c()?T:void 0,B=P(B);const A=[];async function M(x,R){const{baseUrl:F,fetch:U=y,Request:K=O,headers:G,params:Q={},parseAs:ne="json",querySerializer:J,bodySerializer:Z=S??L,body:ee,...ie}=R||{};let se=B;F&&(se=P(F)??B);let X=typeof E=="function"?E:k(E);J&&(X=typeof J=="function"?J:k({...typeof E=="object"?E:{},...J}));const ae=ee===void 0?void 0:Z(ee,H(C,G,Q.header)),de=H(ae===void 0||ae instanceof FormData?{}:{"Content-Type":"application/json"},C,G,Q.header),me={redirect:"follow",...j,...ie,body:ae,headers:de};let Ee,ye,ue=new O(z(x,{baseUrl:se,params:Q,querySerializer:X}),me),_e;for(const we in ie)we in ue||(ue[we]=ie[we]);if(A.length){Ee=u(),ye=Object.freeze({baseUrl:se,fetch:U,parseAs:ne,querySerializer:X,bodySerializer:Z});for(const we of A)if(we&&typeof we=="object"&&typeof we.onRequest=="function"){const Fe=await we.onRequest({request:ue,schemaPath:x,params:Q,options:ye,id:Ee});if(Fe)if(Fe instanceof O)ue=Fe;else if(Fe instanceof Response){_e=Fe;break}else throw new Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!_e){try{_e=await U(ue,T)}catch(we){let Fe=we;if(A.length)for(let He=A.length-1;He>=0;He--){const Ve=A[He];if(Ve&&typeof Ve=="object"&&typeof Ve.onError=="function"){const Je=await Ve.onError({request:ue,error:Fe,schemaPath:x,params:Q,options:ye,id:Ee});if(Je){if(Je instanceof Response){Fe=void 0,_e=Je;break}if(Je instanceof Error){Fe=Je;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(Fe)throw Fe}if(A.length)for(let we=A.length-1;we>=0;we--){const Fe=A[we];if(Fe&&typeof Fe=="object"&&typeof Fe.onResponse=="function"){const He=await Fe.onResponse({request:ue,response:_e,schemaPath:x,params:Q,options:ye,id:Ee});if(He){if(!(He instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");_e=He}}}}if(_e.status===204||ue.method==="HEAD"||_e.headers.get("Content-Length")==="0")return _e.ok?{data:void 0,response:_e}:{error:void 0,response:_e};if(_e.ok)return ne==="stream"?{data:_e.body,response:_e}:{data:await _e[ne](),response:_e};let Ie=await _e.text();try{Ie=JSON.parse(Ie)}catch{}return{error:Ie,response:_e}}return{request(x,R,F){return M(R,{...F,method:x.toUpperCase()})},GET(x,R){return M(x,{...R,method:"GET"})},PUT(x,R){return M(x,{...R,method:"PUT"})},POST(x,R){return M(x,{...R,method:"POST"})},DELETE(x,R){return M(x,{...R,method:"DELETE"})},OPTIONS(x,R){return M(x,{...R,method:"OPTIONS"})},HEAD(x,R){return M(x,{...R,method:"HEAD"})},PATCH(x,R){return M(x,{...R,method:"PATCH"})},TRACE(x,R){return M(x,{...R,method:"TRACE"})},use(...x){for(const R of x)if(R){if(typeof R!="object"||!("onRequest"in R||"onResponse"in R||"onError"in R))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");A.push(R)}},eject(...x){for(const R of x){const F=A.indexOf(R);F!==-1&&A.splice(F,1)}}}}var p=class{constructor(D,B){Ks(this,"GET",D=>this.client.GET(this.url,D));Ks(this,"PUT",D=>this.client.PUT(this.url,D));Ks(this,"POST",D=>this.client.POST(this.url,D));Ks(this,"DELETE",D=>this.client.DELETE(this.url,D));Ks(this,"OPTIONS",D=>this.client.OPTIONS(this.url,D));Ks(this,"HEAD",D=>this.client.HEAD(this.url,D));Ks(this,"PATCH",D=>this.client.PATCH(this.url,D));Ks(this,"TRACE",D=>this.client.TRACE(this.url,D));this.client=D,this.url=B}},g=class{constructor(){this.client=null}get(D,B){const O=new p(D,B);return this.client[B]=O,O}};function m(D){const B=new g,O=new Proxy(D,B);function y(){}y.prototype=O;const E=new y;return B.client=E,E}function v(D){return m(f(D))}function _(D,B,O){if(B==null)return"";if(typeof B=="object")throw new Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${D}=${(O==null?void 0:O.allowReserved)===!0?B:encodeURIComponent(B)}`}function w(D,B,O){if(!B||typeof B!="object")return"";const y=[],E={simple:",",label:".",matrix:";"}[O.style]||"&";if(O.style!=="deepObject"&&O.explode===!1){for(const T in B)y.push(T,O.allowReserved===!0?B[T]:encodeURIComponent(B[T]));const C=y.join(",");switch(O.style){case"form":return`${D}=${C}`;case"label":return`.${C}`;case"matrix":return`;${D}=${C}`;default:return C}}for(const C in B){const T=O.style==="deepObject"?`${D}[${C}]`:C;y.push(_(T,B[C],O))}const S=y.join(E);return O.style==="label"||O.style==="matrix"?`${E}${S}`:S}function I(D,B,O){if(!Array.isArray(B))return"";if(O.explode===!1){const S={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[O.style]||",",C=(O.allowReserved===!0?B:B.map(T=>encodeURIComponent(T))).join(S);switch(O.style){case"simple":return C;case"label":return`.${C}`;case"matrix":return`;${D}=${C}`;default:return`${D}=${C}`}}const y={simple:",",label:".",matrix:";"}[O.style]||"&",E=[];for(const S of B)O.style==="simple"||O.style==="label"?E.push(O.allowReserved===!0?S:encodeURIComponent(S)):E.push(_(D,S,O));return O.style==="label"||O.style==="matrix"?`${y}${E.join(y)}`:E.join(y)}function k(D){return function(O){const y=[];if(O&&typeof O=="object")for(const E in O){const S=O[E];if(S!=null){if(Array.isArray(S)){if(S.length===0)continue;y.push(I(E,S,{style:"form",explode:!0,...D==null?void 0:D.array,allowReserved:(D==null?void 0:D.allowReserved)||!1}));continue}if(typeof S=="object"){y.push(w(E,S,{style:"deepObject",explode:!0,...D==null?void 0:D.object,allowReserved:(D==null?void 0:D.allowReserved)||!1}));continue}y.push(_(E,S,D))}}return y.join("&")}}function $(D,B){let O=D;for(const y of D.match(l)??[]){let E=y.substring(1,y.length-1),S=!1,C="simple";if(E.endsWith("*")&&(S=!0,E=E.substring(0,E.length-1)),E.startsWith(".")?(C="label",E=E.substring(1)):E.startsWith(";")&&(C="matrix",E=E.substring(1)),!B||B[E]===void 0||B[E]===null)continue;const T=B[E];if(Array.isArray(T)){O=O.replace(y,I(E,T,{style:C,explode:S}));continue}if(typeof T=="object"){O=O.replace(y,w(E,T,{style:C,explode:S}));continue}if(C==="matrix"){O=O.replace(y,`;${_(E,T)}`);continue}O=O.replace(y,C==="label"?`.${encodeURIComponent(T)}`:encodeURIComponent(T))}return O}function L(D,B){return D instanceof FormData?D:B&&(B.get instanceof Function?B.get("Content-Type")??B.get("content-type"):B["Content-Type"]??B["content-type"])==="application/x-www-form-urlencoded"?new URLSearchParams(D).toString():JSON.stringify(D)}function z(D,B){var E;let O=`${B.baseUrl}${D}`;(E=B.params)!=null&&E.path&&(O=$(O,B.params.path));let y=B.querySerializer(B.params.query??{});return y.startsWith("?")&&(y=y.substring(1)),y&&(O+=`?${y}`),O}function H(...D){const B=new Headers;for(const O of D){if(!O||typeof O!="object")continue;const y=O instanceof Headers?O.entries():Object.entries(O);for(const[E,S]of y)if(S===null)B.delete(E);else if(Array.isArray(S))for(const C of S)B.append(E,C);else S!==void 0&&B.set(E,S)}return B}function P(D){return D.endsWith("/")?D.substring(0,D.length-1):D}return b3}var E3,uI;function hV(){if(uI)return E3;uI=1;var t={},e=Object.create,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,s=(z,H)=>{for(var P in H)n(z,P,{get:H[P],enumerable:!0})},l=(z,H,P,D)=>{if(H&&typeof H=="object"||typeof H=="function")for(let B of i(H))!a.call(z,B)&&B!==P&&n(z,B,{get:()=>H[B],enumerable:!(D=r(H,B))||D.enumerable});return z},c=(z,H,P)=>(P=z!=null?e(o(z)):{},l(!z||!z.__esModule?n(P,"default",{value:z,enumerable:!0}):P,z)),u=z=>l(n({},"__esModule",{value:!0}),z),f={};s(f,{analytics:()=>L}),E3=u(f);var p=c(fV()),g=class{constructor(z){this.batch=[],this.maxTimeoutMs=3e4,this.timeoutId=null,this.isSending=!1,this.batchSize=z.batchSize,this.baseTimeoutMs=z.baseTimeoutMs,this.currentTimeoutMs=z.baseTimeoutMs,this.sendFn=z.sendFn}enqueue(z){this.batch.push(z),this.schedule()}schedule(){this.batch.length>0&&!this.timeoutId&&(this.timeoutId=setTimeout(()=>{this.timeoutId=null,this.flush()},this.currentTimeoutMs))}async flush(){if(this.isSending||this.batch.length===0)return;this.isSending=!0;const z=[...this.batch.slice(0,this.batchSize)];this.batch=this.batch.slice(this.batchSize);try{await this.sendFn(z),this.currentTimeoutMs=this.baseTimeoutMs}catch(H){console.error("Sender: Failed to send batch",H),this.batch=[...z,...this.batch],this.currentTimeoutMs=Math.min(this.currentTimeoutMs*2,this.maxTimeoutMs)}finally{this.isSending=!1,this.schedule()}}},m=g,v=class{constructor(z){this.enabled=!1,this.properties={};const H=(0,p.default)({baseUrl:z}),P=async D=>{const B=await H.POST("/v1/events",{body:D});if(B.response.status!==200)throw new Error(B.error)};this.sender=new m({batchSize:100,baseTimeoutMs:200,sendFn:P})}enable(){this.enabled=!0}setGlobalProperty(z,H){this.properties[z]=H}track(z,H){if(!this.enabled)return;const P={name:z,...this.properties,...H};this.sender.enqueue(P)}},_=v,w,I;typeof process<"u"&&t&&(w=(I=t.METAMASK_ANALYTICS_ENDPOINT)!=null?I:t.NEXT_PUBLIC_METAMASK_ANALYTICS_ENDPOINT);var k=w??"https://mm-sdk-analytics.api.cx.metamask.io/",$=new _(k),L=$;return E3}var Gn=hV(),x3={exports:{}};/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */var dI;function pV(){return dI||(dI=1,function(t,e){(function(n){var r=Object.hasOwnProperty,i=Array.isArray?Array.isArray:function(M){return Object.prototype.toString.call(M)==="[object Array]"},o=10,a=typeof process=="object"&&typeof process.nextTick=="function",s=typeof Symbol=="function",l=typeof Reflect=="object",c=typeof setImmediate=="function",u=c?setImmediate:setTimeout,f=s?l&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(A){var M=Object.getOwnPropertyNames(A);return M.push.apply(M,Object.getOwnPropertySymbols(A)),M}:Object.keys;function p(){this._events={},this._conf&&g.call(this,this._conf)}function g(A){A&&(this._conf=A,A.delimiter&&(this.delimiter=A.delimiter),A.maxListeners!==n&&(this._maxListeners=A.maxListeners),A.wildcard&&(this.wildcard=A.wildcard),A.newListener&&(this._newListener=A.newListener),A.removeListener&&(this._removeListener=A.removeListener),A.verboseMemoryLeak&&(this.verboseMemoryLeak=A.verboseMemoryLeak),A.ignoreErrors&&(this.ignoreErrors=A.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function m(A,M){var x="(node) warning: possible EventEmitter memory leak detected. "+A+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(x+=" Event name: "+M+"."),typeof process<"u"&&process.emitWarning){var R=new Error(x);R.name="MaxListenersExceededWarning",R.emitter=this,R.count=A,process.emitWarning(R)}else console.error(x),console.trace&&console.trace()}var v=function(A,M,x){var R=arguments.length;switch(R){case 0:return[];case 1:return[A];case 2:return[A,M];case 3:return[A,M,x];default:for(var F=new Array(R);R--;)F[R]=arguments[R];return F}};function _(A,M){for(var x={},R,F=A.length,U=0,K=0;K<F;K++)R=A[K],x[R]=K<U?M[K]:n;return x}function w(A,M,x){this._emitter=A,this._target=M,this._listeners={},this._listenersCount=0;var R,F;if((x.on||x.off)&&(R=x.on,F=x.off),M.addEventListener?(R=M.addEventListener,F=M.removeEventListener):M.addListener?(R=M.addListener,F=M.removeListener):M.on&&(R=M.on,F=M.off),!R&&!F)throw Error("target does not implement any known event API");if(typeof R!="function")throw TypeError("on method must be a function");if(typeof F!="function")throw TypeError("off method must be a function");this._on=R,this._off=F;var U=A._observers;U?U.push(this):A._observers=[this]}Object.assign(w.prototype,{subscribe:function(A,M,x){var R=this,F=this._target,U=this._emitter,K=this._listeners,G=function(){var Q=v.apply(null,arguments),ne={data:Q,name:M,original:A};if(x){var J=x.call(F,ne);J!==!1&&U.emit.apply(U,[ne.name].concat(Q));return}U.emit.apply(U,[M].concat(Q))};if(K[A])throw Error("Event '"+A+"' is already listening");this._listenersCount++,U._newListener&&U._removeListener&&!R._onNewListener?(this._onNewListener=function(Q){Q===M&&K[A]===null&&(K[A]=G,R._on.call(F,A,G))},U.on("newListener",this._onNewListener),this._onRemoveListener=function(Q){Q===M&&!U.hasListeners(Q)&&K[A]&&(K[A]=null,R._off.call(F,A,G))},K[A]=null,U.on("removeListener",this._onRemoveListener)):(K[A]=G,R._on.call(F,A,G))},unsubscribe:function(A){var M=this,x=this._listeners,R=this._emitter,F,U,K=this._off,G=this._target,Q;if(A&&typeof A!="string")throw TypeError("event must be a string");function ne(){M._onNewListener&&(R.off("newListener",M._onNewListener),R.off("removeListener",M._onRemoveListener),M._onNewListener=null,M._onRemoveListener=null);var J=P.call(R,M);R._observers.splice(J,1)}if(A){if(F=x[A],!F)return;K.call(G,A,F),delete x[A],--this._listenersCount||ne()}else{for(U=f(x),Q=U.length;Q-- >0;)A=U[Q],K.call(G,A,x[A]);this._listeners={},this._listenersCount=0,ne()}}});function I(A,M,x,R){var F=Object.assign({},M);if(!A)return F;if(typeof A!="object")throw TypeError("options must be an object");var U=Object.keys(A),K=U.length,G,Q,ne;function J(ee){throw Error('Invalid "'+G+'" option value'+(ee?". Reason: "+ee:""))}for(var Z=0;Z<K;Z++){if(G=U[Z],!r.call(M,G))throw Error('Unknown "'+G+'" option');Q=A[G],Q!==n&&(ne=x[G],F[G]=ne?ne(Q,J):Q)}return F}function k(A,M){return(typeof A!="function"||!A.hasOwnProperty("prototype"))&&M("value must be a constructor"),A}function $(A){var M="value must be type of "+A.join("|"),x=A.length,R=A[0],F=A[1];return x===1?function(U,K){if(typeof U===R)return U;K(M)}:x===2?function(U,K){var G=typeof U;if(G===R||G===F)return U;K(M)}:function(U,K){for(var G=typeof U,Q=x;Q-- >0;)if(G===A[Q])return U;K(M)}}var L=$(["function"]),z=$(["object","function"]);function H(A,M,x){var R,F,U=0,K,G=new A(function(Q,ne,J){x=I(x,{timeout:0,overload:!1},{timeout:function(se,X){return se*=1,(typeof se!="number"||se<0||!Number.isFinite(se))&&X("timeout must be a positive number"),se}}),R=!x.overload&&typeof A.prototype.cancel=="function"&&typeof J=="function";function Z(){F&&(F=null),U&&(clearTimeout(U),U=0)}var ee=function(se){Z(),Q(se)},ie=function(se){Z(),ne(se)};R?M(ee,ie,J):(F=[function(se){ie(se||Error("canceled"))}],M(ee,ie,function(se){if(K)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof se!="function")throw TypeError("onCancel callback must be a function");F.push(se)}),K=!0),x.timeout>0&&(U=setTimeout(function(){var se=Error("timeout");se.code="ETIMEDOUT",U=0,G.cancel(se),ne(se)},x.timeout))});return R||(G.cancel=function(Q){if(F){for(var ne=F.length,J=1;J<ne;J++)F[J](Q);F[0](Q),F=null}}),G}function P(A){var M=this._observers;if(!M)return-1;for(var x=M.length,R=0;R<x;R++)if(M[R]._target===A)return R;return-1}function D(A,M,x,R,F){if(!x)return null;if(R===0){var U=typeof M;if(U==="string"){var K,G,Q=0,ne=0,J=this.delimiter,Z=J.length;if((G=M.indexOf(J))!==-1){K=new Array(5);do K[Q++]=M.slice(ne,G),ne=G+Z;while((G=M.indexOf(J,ne))!==-1);K[Q++]=M.slice(ne),M=K,F=Q}else M=[M],F=1}else U==="object"?F=M.length:(M=[M],F=1)}var ee=null,ie,se,X,ae,de,me=M[R],Ee=M[R+1],ye,ue;if(R===F)x._listeners&&(typeof x._listeners=="function"?(A&&A.push(x._listeners),ee=[x]):(A&&A.push.apply(A,x._listeners),ee=[x]));else if(me==="*"){for(ye=f(x),G=ye.length;G-- >0;)ie=ye[G],ie!=="_listeners"&&(ue=D(A,M,x[ie],R+1,F),ue&&(ee?ee.push.apply(ee,ue):ee=ue));return ee}else if(me==="**"){for(de=R+1===F||R+2===F&&Ee==="*",de&&x._listeners&&(ee=D(A,M,x,F,F)),ye=f(x),G=ye.length;G-- >0;)ie=ye[G],ie!=="_listeners"&&(ie==="*"||ie==="**"?(x[ie]._listeners&&!de&&(ue=D(A,M,x[ie],F,F),ue&&(ee?ee.push.apply(ee,ue):ee=ue)),ue=D(A,M,x[ie],R,F)):ie===Ee?ue=D(A,M,x[ie],R+2,F):ue=D(A,M,x[ie],R,F),ue&&(ee?ee.push.apply(ee,ue):ee=ue));return ee}else x[me]&&(ee=D(A,M,x[me],R+1,F));if(se=x["*"],se&&D(A,M,se,R+1,F),X=x["**"],X)if(R<F)for(X._listeners&&D(A,M,X,F,F),ye=f(X),G=ye.length;G-- >0;)ie=ye[G],ie!=="_listeners"&&(ie===Ee?D(A,M,X[ie],R+2,F):ie===me?D(A,M,X[ie],R+1,F):(ae={},ae[ie]=X[ie],D(A,M,{"**":ae},R+1,F)));else X._listeners?D(A,M,X,F,F):X["*"]&&X["*"]._listeners&&D(A,M,X["*"],F,F);return ee}function B(A,M,x){var R=0,F=0,U,K=this.delimiter,G=K.length,Q;if(typeof A=="string")if((U=A.indexOf(K))!==-1){Q=new Array(5);do Q[R++]=A.slice(F,U),F=U+G;while((U=A.indexOf(K,F))!==-1);Q[R++]=A.slice(F)}else Q=[A],R=1;else Q=A,R=A.length;if(R>1){for(U=0;U+1<R;U++)if(Q[U]==="**"&&Q[U+1]==="**")return}var ne=this.listenerTree,J;for(U=0;U<R;U++)if(J=Q[U],ne=ne[J]||(ne[J]={}),U===R-1)return ne._listeners?(typeof ne._listeners=="function"&&(ne._listeners=[ne._listeners]),x?ne._listeners.unshift(M):ne._listeners.push(M),!ne._listeners.warned&&this._maxListeners>0&&ne._listeners.length>this._maxListeners&&(ne._listeners.warned=!0,m.call(this,ne._listeners.length,J))):ne._listeners=M,!0;return!0}function O(A,M,x,R){for(var F=f(A),U=F.length,K,G,Q,ne=A._listeners,J;U-- >0;)G=F[U],K=A[G],G==="_listeners"?Q=x:Q=x?x.concat(G):[G],J=R||typeof G=="symbol",ne&&M.push(J?Q:Q.join(this.delimiter)),typeof K=="object"&&O.call(this,K,M,Q,J);return M}function y(A){for(var M=f(A),x=M.length,R,F,U;x-- >0;)F=M[x],R=A[F],R&&(U=!0,F!=="_listeners"&&!y(R)&&delete A[F]);return U}function E(A,M,x){this.emitter=A,this.event=M,this.listener=x}E.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function S(A,M,x){if(x===!0)F=!0;else if(x===!1)R=!0;else{if(!x||typeof x!="object")throw TypeError("options should be an object or true");var R=x.async,F=x.promisify,U=x.nextTick,K=x.objectify}if(R||U||F){var G=M,Q=M._origin||M;if(U&&!a)throw Error("process.nextTick is not supported");F===n&&(F=M.constructor.name==="AsyncFunction"),M=function(){var ne=arguments,J=this,Z=this.event;return F?U?Promise.resolve():new Promise(function(ee){u(ee)}).then(function(){return J.event=Z,G.apply(J,ne)}):(U?process.nextTick:u)(function(){J.event=Z,G.apply(J,ne)})},M._async=!0,M._origin=Q}return[M,K?new E(this,A,M):this]}function C(A){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,g.call(this,A)}C.EventEmitter2=C,C.prototype.listenTo=function(A,M,x){if(typeof A!="object")throw TypeError("target musts be an object");var R=this;x=I(x,{on:n,off:n,reducers:n},{on:L,off:L,reducers:z});function F(U){if(typeof U!="object")throw TypeError("events must be an object");var K=x.reducers,G=P.call(R,A),Q;G===-1?Q=new w(R,A,x):Q=R._observers[G];for(var ne=f(U),J=ne.length,Z,ee=typeof K=="function",ie=0;ie<J;ie++)Z=ne[ie],Q.subscribe(Z,U[Z]||Z,ee?K:K&&K[Z])}return i(M)?F(_(M)):F(typeof M=="string"?_(M.split(/\s+/)):M),this},C.prototype.stopListeningTo=function(A,M){var x=this._observers;if(!x)return!1;var R=x.length,F,U=!1;if(A&&typeof A!="object")throw TypeError("target should be an object");for(;R-- >0;)F=x[R],(!A||F._target===A)&&(F.unsubscribe(M),U=!0);return U},C.prototype.delimiter=".",C.prototype.setMaxListeners=function(A){A!==n&&(this._maxListeners=A,this._conf||(this._conf={}),this._conf.maxListeners=A)},C.prototype.getMaxListeners=function(){return this._maxListeners},C.prototype.event="",C.prototype.once=function(A,M,x){return this._once(A,M,!1,x)},C.prototype.prependOnceListener=function(A,M,x){return this._once(A,M,!0,x)},C.prototype._once=function(A,M,x,R){return this._many(A,1,M,x,R)},C.prototype.many=function(A,M,x,R){return this._many(A,M,x,!1,R)},C.prototype.prependMany=function(A,M,x,R){return this._many(A,M,x,!0,R)},C.prototype._many=function(A,M,x,R,F){var U=this;if(typeof x!="function")throw new Error("many only accepts instances of Function");function K(){return--M===0&&U.off(A,K),x.apply(this,arguments)}return K._origin=x,this._on(A,K,R,F)},C.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||p.call(this);var A=arguments[0],M,x=this.wildcard,R,F,U,K,G;if(A==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(x&&(M=A,A!=="newListener"&&A!=="removeListener"&&typeof A=="object")){if(F=A.length,s){for(U=0;U<F;U++)if(typeof A[U]=="symbol"){G=!0;break}}G||(A=A.join(this.delimiter))}var Q=arguments.length,ne;if(this._all&&this._all.length)for(ne=this._all.slice(),U=0,F=ne.length;U<F;U++)switch(this.event=A,Q){case 1:ne[U].call(this,A);break;case 2:ne[U].call(this,A,arguments[1]);break;case 3:ne[U].call(this,A,arguments[1],arguments[2]);break;default:ne[U].apply(this,arguments)}if(x)ne=[],D.call(this,ne,M,this.listenerTree,0,F);else if(ne=this._events[A],typeof ne=="function"){switch(this.event=A,Q){case 1:ne.call(this);break;case 2:ne.call(this,arguments[1]);break;case 3:ne.call(this,arguments[1],arguments[2]);break;default:for(R=new Array(Q-1),K=1;K<Q;K++)R[K-1]=arguments[K];ne.apply(this,R)}return!0}else ne&&(ne=ne.slice());if(ne&&ne.length){if(Q>3)for(R=new Array(Q-1),K=1;K<Q;K++)R[K-1]=arguments[K];for(U=0,F=ne.length;U<F;U++)switch(this.event=A,Q){case 1:ne[U].call(this);break;case 2:ne[U].call(this,arguments[1]);break;case 3:ne[U].call(this,arguments[1],arguments[2]);break;default:ne[U].apply(this,R)}return!0}else if(!this.ignoreErrors&&!this._all&&A==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},C.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||p.call(this);var A=arguments[0],M=this.wildcard,x,R,F,U,K,G;if(A==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(M&&(x=A,A!=="newListener"&&A!=="removeListener"&&typeof A=="object")){if(U=A.length,s){for(K=0;K<U;K++)if(typeof A[K]=="symbol"){R=!0;break}}R||(A=A.join(this.delimiter))}var Q=[],ne=arguments.length,J;if(this._all)for(K=0,U=this._all.length;K<U;K++)switch(this.event=A,ne){case 1:Q.push(this._all[K].call(this,A));break;case 2:Q.push(this._all[K].call(this,A,arguments[1]));break;case 3:Q.push(this._all[K].call(this,A,arguments[1],arguments[2]));break;default:Q.push(this._all[K].apply(this,arguments))}if(M?(J=[],D.call(this,J,x,this.listenerTree,0)):J=this._events[A],typeof J=="function")switch(this.event=A,ne){case 1:Q.push(J.call(this));break;case 2:Q.push(J.call(this,arguments[1]));break;case 3:Q.push(J.call(this,arguments[1],arguments[2]));break;default:for(F=new Array(ne-1),G=1;G<ne;G++)F[G-1]=arguments[G];Q.push(J.apply(this,F))}else if(J&&J.length){if(J=J.slice(),ne>3)for(F=new Array(ne-1),G=1;G<ne;G++)F[G-1]=arguments[G];for(K=0,U=J.length;K<U;K++)switch(this.event=A,ne){case 1:Q.push(J[K].call(this));break;case 2:Q.push(J[K].call(this,arguments[1]));break;case 3:Q.push(J[K].call(this,arguments[1],arguments[2]));break;default:Q.push(J[K].apply(this,F))}}else if(!this.ignoreErrors&&!this._all&&A==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(Q)},C.prototype.on=function(A,M,x){return this._on(A,M,!1,x)},C.prototype.prependListener=function(A,M,x){return this._on(A,M,!0,x)},C.prototype.onAny=function(A){return this._onAny(A,!1)},C.prototype.prependAny=function(A){return this._onAny(A,!0)},C.prototype.addListener=C.prototype.on,C.prototype._onAny=function(A,M){if(typeof A!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),M?this._all.unshift(A):this._all.push(A),this},C.prototype._on=function(A,M,x,R){if(typeof A=="function")return this._onAny(A,M),this;if(typeof M!="function")throw new Error("on only accepts instances of Function");this._events||p.call(this);var F=this,U;return R!==n&&(U=S.call(this,A,M,R),M=U[0],F=U[1]),this._newListener&&this.emit("newListener",A,M),this.wildcard?(B.call(this,A,M,x),F):(this._events[A]?(typeof this._events[A]=="function"&&(this._events[A]=[this._events[A]]),x?this._events[A].unshift(M):this._events[A].push(M),!this._events[A].warned&&this._maxListeners>0&&this._events[A].length>this._maxListeners&&(this._events[A].warned=!0,m.call(this,this._events[A].length,A))):this._events[A]=M,F)},C.prototype.off=function(A,M){if(typeof M!="function")throw new Error("removeListener only takes instances of Function");var x,R=[];if(this.wildcard){var F=typeof A=="string"?A.split(this.delimiter):A.slice();if(R=D.call(this,null,F,this.listenerTree,0),!R)return this}else{if(!this._events[A])return this;x=this._events[A],R.push({_listeners:x})}for(var U=0;U<R.length;U++){var K=R[U];if(x=K._listeners,i(x)){for(var G=-1,Q=0,ne=x.length;Q<ne;Q++)if(x[Q]===M||x[Q].listener&&x[Q].listener===M||x[Q]._origin&&x[Q]._origin===M){G=Q;break}if(G<0)continue;return this.wildcard?K._listeners.splice(G,1):this._events[A].splice(G,1),x.length===0&&(this.wildcard?delete K._listeners:delete this._events[A]),this._removeListener&&this.emit("removeListener",A,M),this}else(x===M||x.listener&&x.listener===M||x._origin&&x._origin===M)&&(this.wildcard?delete K._listeners:delete this._events[A],this._removeListener&&this.emit("removeListener",A,M))}return this.listenerTree&&y(this.listenerTree),this},C.prototype.offAny=function(A){var M=0,x=0,R;if(A&&this._all&&this._all.length>0){for(R=this._all,M=0,x=R.length;M<x;M++)if(A===R[M])return R.splice(M,1),this._removeListener&&this.emit("removeListenerAny",A),this}else{if(R=this._all,this._removeListener)for(M=0,x=R.length;M<x;M++)this.emit("removeListenerAny",R[M]);this._all=[]}return this},C.prototype.removeListener=C.prototype.off,C.prototype.removeAllListeners=function(A){if(A===n)return!this._events||p.call(this),this;if(this.wildcard){var M=D.call(this,null,A,this.listenerTree,0),x,R;if(!M)return this;for(R=0;R<M.length;R++)x=M[R],x._listeners=null;this.listenerTree&&y(this.listenerTree)}else this._events&&(this._events[A]=null);return this},C.prototype.listeners=function(A){var M=this._events,x,R,F,U,K;if(A===n){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!M)return[];for(x=f(M),U=x.length,F=[];U-- >0;)R=M[x[U]],typeof R=="function"?F.push(R):F.push.apply(F,R);return F}else{if(this.wildcard){if(K=this.listenerTree,!K)return[];var G=[],Q=typeof A=="string"?A.split(this.delimiter):A.slice();return D.call(this,G,Q,K,0),G}return M?(R=M[A],R?typeof R=="function"?[R]:R:[]):[]}},C.prototype.eventNames=function(A){var M=this._events;return this.wildcard?O.call(this,this.listenerTree,[],null,A):M?f(M):[]},C.prototype.listenerCount=function(A){return this.listeners(A).length},C.prototype.hasListeners=function(A){if(this.wildcard){var M=[],x=typeof A=="string"?A.split(this.delimiter):A.slice();return D.call(this,M,x,this.listenerTree,0),M.length>0}var R=this._events,F=this._all;return!!(F&&F.length||R&&(A===n?f(R).length:R[A]))},C.prototype.listenersAny=function(){return this._all?this._all:[]},C.prototype.waitFor=function(A,M){var x=this,R=typeof M;return R==="number"?M={timeout:M}:R==="function"&&(M={filter:M}),M=I(M,{timeout:0,filter:n,handleError:!1,Promise,overload:!1},{filter:L,Promise:k}),H(M.Promise,function(F,U,K){function G(){var Q=M.filter;if(!(Q&&!Q.apply(x,arguments)))if(x.off(A,G),M.handleError){var ne=arguments[0];ne?U(ne):F(v.apply(null,arguments).slice(1))}else F(v.apply(null,arguments))}K(function(){x.off(A,G)}),x._on(A,G,!1)},{timeout:M.timeout,overload:M.overload})};function T(A,M,x){x=I(x,{Promise,timeout:0,overload:!1},{Promise:k});var R=x.Promise;return H(R,function(F,U,K){var G;if(typeof A.addEventListener=="function"){G=function(){F(v.apply(null,arguments))},K(function(){A.removeEventListener(M,G)}),A.addEventListener(M,G,{once:!0});return}var Q=function(){ne&&A.removeListener("error",ne),F(v.apply(null,arguments))},ne;M!=="error"&&(ne=function(J){A.removeListener(M,Q),U(J)},A.once("error",ne)),K(function(){ne&&A.removeListener("error",ne),A.removeListener(M,Q)}),A.once(M,Q)},{timeout:x.timeout,overload:x.overload})}var j=C.prototype;Object.defineProperties(C,{defaultMaxListeners:{get:function(){return j._maxListeners},set:function(A){if(typeof A!="number"||A<0||Number.isNaN(A))throw TypeError("n must be a non-negative number");j._maxListeners=A},enumerable:!0},once:{value:T,writable:!0,configurable:!0}}),Object.defineProperties(j,{_maxListeners:{value:o,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),t.exports=C})()}(x3)),x3.exports}var ry=pV();const gV=Hi(ry);var vg,mV=new Uint8Array(16);function vV(){if(!vg&&(vg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!vg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vg(mV)}const yV=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function cE(t){return typeof t=="string"&&yV.test(t)}var xr=[];for(var _3=0;_3<256;++_3)xr.push((_3+256).toString(16).substr(1));function wV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(xr[t[e+0]]+xr[t[e+1]]+xr[t[e+2]]+xr[t[e+3]]+"-"+xr[t[e+4]]+xr[t[e+5]]+"-"+xr[t[e+6]]+xr[t[e+7]]+"-"+xr[t[e+8]]+xr[t[e+9]]+"-"+xr[t[e+10]]+xr[t[e+11]]+xr[t[e+12]]+xr[t[e+13]]+xr[t[e+14]]+xr[t[e+15]]).toLowerCase();if(!cE(n))throw TypeError("Stringified UUID is invalid");return n}function Sl(t,e,n){t=t||{};var r=t.random||(t.rng||vV)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return wV(r)}function Be(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(c){try{l(r.next(c))}catch(u){o(u)}}function s(c){try{l(r.throw(c))}catch(u){o(u)}}function l(c){var u;c.done?i(c.value):(u=c.value,u instanceof n?u:new n(function(f){f(u)})).then(a,s)}l((r=r.apply(t,e||[])).next())})}var ri=typeof window<"u"?window:typeof self<"u"?self:typeof window<"u"?window:{},ws=[],uo=[],bV=typeof Uint8Array<"u"?Uint8Array:Array,a_=!1;function PT(){a_=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0;e<64;++e)ws[e]=t[e],uo[t.charCodeAt(e)]=e;uo[45]=62,uo[95]=63}function EV(t,e,n){for(var r,i,o=[],a=e;a<n;a+=3)r=(t[a]<<16)+(t[a+1]<<8)+t[a+2],o.push(ws[(i=r)>>18&63]+ws[i>>12&63]+ws[i>>6&63]+ws[63&i]);return o.join("")}function fI(t){var e;a_||PT();for(var n=t.length,r=n%3,i="",o=[],a=16383,s=0,l=n-r;s<l;s+=a)o.push(EV(t,s,s+a>l?l:s+a));return r===1?(e=t[n-1],i+=ws[e>>2],i+=ws[e<<4&63],i+="=="):r===2&&(e=(t[n-2]<<8)+t[n-1],i+=ws[e>>10],i+=ws[e>>4&63],i+=ws[e<<2&63],i+="="),o.push(i),o.join("")}function yg(t,e,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,f=n?i-1:0,p=n?-1:1,g=t[e+f];for(f+=p,o=g&(1<<-u)-1,g>>=-u,u+=s;u>0;o=256*o+t[e+f],f+=p,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+t[e+f],f+=p,u-=8);if(o===0)o=1-c;else{if(o===l)return a?NaN:1/0*(g?-1:1);a+=Math.pow(2,r),o-=c}return(g?-1:1)*a*Math.pow(2,o-r)}function NT(t,e,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,f=u>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=r?0:o-1,m=r?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+f>=1?p/l:p*Math.pow(2,1-f))*l>=2&&(a++,l/=2),a+f>=u?(s=0,a=u):a+f>=1?(s=(e*l-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+g]=255&s,g+=m,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+g]=255&a,g+=m,a/=256,c-=8);t[n+g-m]|=128*v}var xV={}.toString,LT=Array.isArray||function(t){return xV.call(t)=="[object Array]"};je.TYPED_ARRAY_SUPPORT=ri.TYPED_ARRAY_SUPPORT===void 0||ri.TYPED_ARRAY_SUPPORT;var _V=Wm();function Wm(){return je.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function ga(t,e){if(Wm()<e)throw new RangeError("Invalid typed array length");return je.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=je.prototype:(t===null&&(t=new je(e)),t.length=e),t}function je(t,e,n){if(!(je.TYPED_ARRAY_SUPPORT||this instanceof je))return new je(t,e,n);if(typeof t=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return uE(this,t)}return DT(this,t,e,n)}function DT(t,e,n,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?function(i,o,a,s){if(o.byteLength,a<0||o.byteLength<a)throw new RangeError("'offset' is out of bounds");if(o.byteLength<a+(s||0))throw new RangeError("'length' is out of bounds");return o=a===void 0&&s===void 0?new Uint8Array(o):s===void 0?new Uint8Array(o,a):new Uint8Array(o,a,s),je.TYPED_ARRAY_SUPPORT?(i=o).__proto__=je.prototype:i=S3(i,o),i}(t,e,n,r):typeof e=="string"?function(i,o,a){if(typeof a=="string"&&a!==""||(a="utf8"),!je.isEncoding(a))throw new TypeError('"encoding" must be a valid string encoding');var s=0|jT(o,a);i=ga(i,s);var l=i.write(o,a);return l!==s&&(i=i.slice(0,l)),i}(t,e,n):function(i,o){if(bs(o)){var a=0|l_(o.length);return(i=ga(i,a)).length===0||o.copy(i,0,0,a),i}if(o){if(typeof ArrayBuffer<"u"&&o.buffer instanceof ArrayBuffer||"length"in o)return typeof o.length!="number"||(s=o.length)!=s?ga(i,0):S3(i,o);if(o.type==="Buffer"&&LT(o.data))return S3(i,o.data)}var s;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function BT(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function uE(t,e){if(BT(e),t=ga(t,e<0?0:0|l_(e)),!je.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function S3(t,e){var n=e.length<0?0:0|l_(e.length);t=ga(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function l_(t){if(t>=Wm())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Wm().toString(16)+" bytes");return 0|t}function bs(t){return!(t==null||!t._isBuffer)}function jT(t,e){if(bs(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var n=t.length;if(n===0)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Km(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return zT(t).length;default:if(r)return Km(t).length;e=(""+e).toLowerCase(),r=!0}}function SV(t,e,n){var r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return PV(this,e,n);case"utf8":case"utf-8":return FT(this,e,n);case"ascii":return RV(this,e,n);case"latin1":case"binary":return TV(this,e,n);case"base64":return OV(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return NV(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function Nc(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function hI(t,e,n,r,i){if(t.length===0)return-1;if(typeof n=="string"?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if(typeof e=="string"&&(e=je.from(e,r)),bs(e))return e.length===0?-1:pI(t,e,n,r,i);if(typeof e=="number")return e&=255,je.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):pI(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function pI(t,e,n,r,i){var o,a=1,s=t.length,l=e.length;if(r!==void 0&&((r=String(r).toLowerCase())==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(g,m){return a===1?g[m]:g.readUInt16BE(m*a)}if(i){var u=-1;for(o=n;o<s;o++)if(c(t,o)===c(e,u===-1?0:o-u)){if(u===-1&&(u=o),o-u+1===l)return u*a}else u!==-1&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var f=!0,p=0;p<l;p++)if(c(t,o+p)!==c(e,p)){f=!1;break}if(f)return o}return-1}function CV(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function AV(t,e,n,r){return iy(Km(e,t.length-n),t,n,r)}function $T(t,e,n,r){return iy(function(i){for(var o=[],a=0;a<i.length;++a)o.push(255&i.charCodeAt(a));return o}(e),t,n,r)}function IV(t,e,n,r){return $T(t,e,n,r)}function kV(t,e,n,r){return iy(zT(e),t,n,r)}function MV(t,e,n,r){return iy(function(i,o){for(var a,s,l,c=[],u=0;u<i.length&&!((o-=2)<0);++u)s=(a=i.charCodeAt(u))>>8,l=a%256,c.push(l),c.push(s);return c}(e,t.length-n),t,n,r)}function OV(t,e,n){return e===0&&n===t.length?fI(t):fI(t.slice(e,n))}function FT(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,l,c=t[i],u=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(u=c);break;case 2:(192&(o=t[i+1]))==128&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=t[i+1],a=t[i+2],(192&o)==128&&(192&a)==128&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],(192&o)==128&&(192&a)==128&&(192&s)==128&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}u===null?(u=65533,f=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=f}return function(p){var g=p.length;if(g<=gI)return String.fromCharCode.apply(String,p);for(var m="",v=0;v<g;)m+=String.fromCharCode.apply(String,p.slice(v,v+=gI));return m}(r)}je.poolSize=8192,je._augment=function(t){return t.__proto__=je.prototype,t},je.from=function(t,e,n){return DT(null,t,e,n)},je.TYPED_ARRAY_SUPPORT&&(je.prototype.__proto__=Uint8Array.prototype,je.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&je[Symbol.species]),je.alloc=function(t,e,n){return function(r,i,o,a){return BT(i),i<=0?ga(r,i):o!==void 0?typeof a=="string"?ga(r,i).fill(o,a):ga(r,i).fill(o):ga(r,i)}(null,t,e,n)},je.allocUnsafe=function(t){return uE(null,t)},je.allocUnsafeSlow=function(t){return uE(null,t)},je.isBuffer=qT,je.compare=function(t,e){if(!bs(t)||!bs(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},je.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},je.concat=function(t,e){if(!LT(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return je.alloc(0);var n;if(e===void 0)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=je.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(!bs(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},je.byteLength=jT,je.prototype._isBuffer=!0,je.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)Nc(this,e,e+1);return this},je.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)Nc(this,e,e+3),Nc(this,e+1,e+2);return this},je.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)Nc(this,e,e+7),Nc(this,e+1,e+6),Nc(this,e+2,e+5),Nc(this,e+3,e+4);return this},je.prototype.toString=function(){var t=0|this.length;return t===0?"":arguments.length===0?FT(this,0,t):SV.apply(this,arguments)},je.prototype.equals=function(t){if(!bs(t))throw new TypeError("Argument must be a Buffer");return this===t||je.compare(this,t)===0},je.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},je.prototype.compare=function(t,e,n,r,i){if(!bs(t))throw new TypeError("Argument must be a Buffer");if(e===void 0&&(e=0),n===void 0&&(n=t?t.length:0),r===void 0&&(r=0),i===void 0&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),l=this.slice(r,i),c=t.slice(e,n),u=0;u<s;++u)if(l[u]!==c[u]){o=l[u],a=c[u];break}return o<a?-1:a<o?1:0},je.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},je.prototype.indexOf=function(t,e,n){return hI(this,t,e,n,!0)},je.prototype.lastIndexOf=function(t,e,n){return hI(this,t,e,n,!1)},je.prototype.write=function(t,e,n,r){if(e===void 0)r="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,r===void 0&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((n===void 0||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return CV(this,t,e,n);case"utf8":case"utf-8":return AV(this,t,e,n);case"ascii":return $T(this,t,e,n);case"latin1":case"binary":return IV(this,t,e,n);case"base64":return kV(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return MV(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},je.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var gI=4096;function RV(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function TV(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function PV(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=DV(t[o]);return i}function NV(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function dr(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function gi(t,e,n,r,i,o){if(!bs(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function wg(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function bg(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function UT(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function mI(t,e,n,r,i){return i||UT(t,0,n,4),NT(t,e,n,r,23,4),n+4}function vI(t,e,n,r,i){return i||UT(t,0,n,8),NT(t,e,n,r,52,8),n+8}je.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=e===void 0?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),je.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=je.prototype;else{var i=e-t;n=new je(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},je.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||dr(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},je.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||dr(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},je.prototype.readUInt8=function(t,e){return e||dr(t,1,this.length),this[t]},je.prototype.readUInt16LE=function(t,e){return e||dr(t,2,this.length),this[t]|this[t+1]<<8},je.prototype.readUInt16BE=function(t,e){return e||dr(t,2,this.length),this[t]<<8|this[t+1]},je.prototype.readUInt32LE=function(t,e){return e||dr(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},je.prototype.readUInt32BE=function(t,e){return e||dr(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},je.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||dr(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},je.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||dr(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},je.prototype.readInt8=function(t,e){return e||dr(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},je.prototype.readInt16LE=function(t,e){e||dr(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},je.prototype.readInt16BE=function(t,e){e||dr(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},je.prototype.readInt32LE=function(t,e){return e||dr(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},je.prototype.readInt32BE=function(t,e){return e||dr(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},je.prototype.readFloatLE=function(t,e){return e||dr(t,4,this.length),yg(this,t,!0,23,4)},je.prototype.readFloatBE=function(t,e){return e||dr(t,4,this.length),yg(this,t,!1,23,4)},je.prototype.readDoubleLE=function(t,e){return e||dr(t,8,this.length),yg(this,t,!0,52,8)},je.prototype.readDoubleBE=function(t,e){return e||dr(t,8,this.length),yg(this,t,!1,52,8)},je.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||gi(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},je.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||gi(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},je.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||gi(this,t,e,1,255,0),je.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},je.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||gi(this,t,e,2,65535,0),je.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):wg(this,t,e,!0),e+2},je.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||gi(this,t,e,2,65535,0),je.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):wg(this,t,e,!1),e+2},je.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||gi(this,t,e,4,4294967295,0),je.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):bg(this,t,e,!0),e+4},je.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||gi(this,t,e,4,4294967295,0),je.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):bg(this,t,e,!1),e+4},je.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);gi(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&s===0&&this[e+o-1]!==0&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},je.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);gi(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&s===0&&this[e+o+1]!==0&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},je.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||gi(this,t,e,1,127,-128),je.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},je.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||gi(this,t,e,2,32767,-32768),je.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):wg(this,t,e,!0),e+2},je.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||gi(this,t,e,2,32767,-32768),je.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):wg(this,t,e,!1),e+2},je.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||gi(this,t,e,4,2147483647,-2147483648),je.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):bg(this,t,e,!0),e+4},je.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||gi(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),je.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):bg(this,t,e,!1),e+4},je.prototype.writeFloatLE=function(t,e,n){return mI(this,t,e,!0,n)},je.prototype.writeFloatBE=function(t,e,n){return mI(this,t,e,!1,n)},je.prototype.writeDoubleLE=function(t,e,n){return vI(this,t,e,!0,n)},je.prototype.writeDoubleBE=function(t,e,n){return vI(this,t,e,!1,n)},je.prototype.copy=function(t,e,n,r){if(n||(n=0),r||r===0||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!je.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},je.prototype.fill=function(t,e,n,r){if(typeof t=="string"){if(typeof e=="string"?(r=e,e=0,n=this.length):typeof n=="string"&&(r=n,n=this.length),t.length===1){var i=t.charCodeAt(0);i<256&&(t=i)}if(r!==void 0&&typeof r!="string")throw new TypeError("encoding must be a string");if(typeof r=="string"&&!je.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else typeof t=="number"&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=n===void 0?this.length:n>>>0,t||(t=0),typeof t=="number")for(o=e;o<n;++o)this[o]=t;else{var a=bs(t)?t:Km(new je(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var LV=/[^+\/0-9A-Za-z-_]/g;function DV(t){return t<16?"0"+t.toString(16):t.toString(16)}function Km(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function zT(t){return function(e){var n,r,i,o,a,s;a_||PT();var l=e.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a=e[l-2]==="="?2:e[l-1]==="="?1:0,s=new bV(3*l/4-a),i=a>0?l-4:l;var c=0;for(n=0,r=0;n<i;n+=4,r+=3)o=uo[e.charCodeAt(n)]<<18|uo[e.charCodeAt(n+1)]<<12|uo[e.charCodeAt(n+2)]<<6|uo[e.charCodeAt(n+3)],s[c++]=o>>16&255,s[c++]=o>>8&255,s[c++]=255&o;return a===2?(o=uo[e.charCodeAt(n)]<<2|uo[e.charCodeAt(n+1)]>>4,s[c++]=255&o):a===1&&(o=uo[e.charCodeAt(n)]<<10|uo[e.charCodeAt(n+1)]<<4|uo[e.charCodeAt(n+2)]>>2,s[c++]=o>>8&255,s[c++]=255&o),s}(function(e){if((e=function(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}(e).replace(LV,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(t))}function iy(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function qT(t){return t!=null&&(!!t._isBuffer||yI(t)||function(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&yI(e.slice(0,0))}(t))}function yI(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var BV=Object.freeze({__proto__:null,Buffer:je,INSPECT_MAX_BYTES:50,SlowBuffer:function(t){return+t!=t&&(t=0),je.alloc(+t)},isBuffer:qT,kMaxLength:_V}),wo=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function oy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Pp(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var hd={},Wi={},Ur={};function Vm(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function HT(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function WT(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function c_(t,...e){if(!WT(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function KT(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("hash must be wrapped by utils.wrapConstructor");Vm(t.outputLen),Vm(t.blockLen)}function VT(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function GT(t,e){c_(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.isBytes=WT,Ur.number=Vm,Ur.bool=HT,Ur.bytes=c_,Ur.hash=KT,Ur.exists=VT,Ur.output=GT;const jV={number:Vm,bool:HT,bytes:c_,hash:KT,exists:VT,output:GT};Ur.default=jV,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.wrapCipher=t.Hash=t.nextTick=t.isLE=t.createView=t.u32=t.u16=t.u8=void 0,t.bytesToHex=r,t.hexToBytes=a,t.hexToNumber=s,t.bytesToNumberBE=function(f){return s(r(f))},t.numberToBytesBE=function(f,p){return a(f.toString(16).padStart(2*p,"0"))},t.asyncLoop=async function(f,p,g){let m=Date.now();for(let v=0;v<f;v++){g(v);const _=Date.now()-m;_>=0&&_<p||(await(0,t.nextTick)(),m+=_)}},t.utf8ToBytes=l,t.bytesToUtf8=function(f){return new TextDecoder().decode(f)},t.toBytes=function(f){if(typeof f=="string")f=l(f);else{if(!(0,e.isBytes)(f))throw new Error("Uint8Array expected, got "+typeof f);f=u(f)}return f},t.concatBytes=function(...f){let p=0;for(let m=0;m<f.length;m++){const v=f[m];(0,e.bytes)(v),p+=v.length}const g=new Uint8Array(p);for(let m=0,v=0;m<f.length;m++){const _=f[m];g.set(_,v),v+=_.length}return g},t.checkOpts=function(f,p){if(p==null||typeof p!="object")throw new Error("options must be defined");return Object.assign(f,p)},t.equalBytes=function(f,p){if(f.length!==p.length)return!1;let g=0;for(let m=0;m<f.length;m++)g|=f[m]^p[m];return g===0},t.setBigUint64=c,t.u64Lengths=function(f,p){const g=new Uint8Array(16),m=(0,t.createView)(g);return c(m,0,BigInt(p?p.length:0),!0),c(m,8,BigInt(f.length),!0),g},t.isAligned32=function(f){return f.byteOffset%4==0},t.copyBytes=u,t.clean=function(...f){for(let p=0;p<f.length;p++)f[p].fill(0)};const e=Ur;if(t.u8=f=>new Uint8Array(f.buffer,f.byteOffset,f.byteLength),t.u16=f=>new Uint16Array(f.buffer,f.byteOffset,Math.floor(f.byteLength/2)),t.u32=f=>new Uint32Array(f.buffer,f.byteOffset,Math.floor(f.byteLength/4)),t.createView=f=>new DataView(f.buffer,f.byteOffset,f.byteLength),t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const n=Array.from({length:256},(f,p)=>p.toString(16).padStart(2,"0"));function r(f){(0,e.bytes)(f);let p="";for(let g=0;g<f.length;g++)p+=n[f[g]];return p}const i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function o(f){return f>=i._0&&f<=i._9?f-i._0:f>=i._A&&f<=i._F?f-(i._A-10):f>=i._a&&f<=i._f?f-(i._a-10):void 0}function a(f){if(typeof f!="string")throw new Error("hex string expected, got "+typeof f);const p=f.length,g=p/2;if(p%2)throw new Error("padded hex string expected, got unpadded hex of length "+p);const m=new Uint8Array(g);for(let v=0,_=0;v<g;v++,_+=2){const w=o(f.charCodeAt(_)),I=o(f.charCodeAt(_+1));if(w===void 0||I===void 0){const k=f[_]+f[_+1];throw new Error('hex string expected, got non-hex character "'+k+'" at index '+_)}m[v]=16*w+I}return m}function s(f){if(typeof f!="string")throw new Error("hex string expected, got "+typeof f);return BigInt(f===""?"0":`0x${f}`)}function l(f){if(typeof f!="string")throw new Error("string expected, got "+typeof f);return new Uint8Array(new TextEncoder().encode(f))}t.nextTick=async()=>{},t.Hash=class{};function c(f,p,g,m){if(typeof f.setBigUint64=="function")return f.setBigUint64(p,g,m);const v=BigInt(32),_=BigInt(4294967295),w=Number(g>>v&_),I=Number(g&_),k=m?4:0,$=m?0:4;f.setUint32(p+k,w,m),f.setUint32(p+$,I,m)}function u(f){return Uint8Array.from(f)}t.wrapCipher=(f,p)=>(Object.assign(p,f),p)}(Wi);var Bh={},fr={};Object.defineProperty(fr,"__esModule",{value:!0}),fr.AEAD_TAG_LENGTH=fr.XCHACHA20_NONCE_LENGTH=fr.CURVE25519_PUBLIC_KEY_SIZE=fr.ETH_PUBLIC_KEY_SIZE=fr.UNCOMPRESSED_PUBLIC_KEY_SIZE=fr.COMPRESSED_PUBLIC_KEY_SIZE=fr.SECRET_KEY_LENGTH=void 0,fr.SECRET_KEY_LENGTH=32,fr.COMPRESSED_PUBLIC_KEY_SIZE=33,fr.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,fr.ETH_PUBLIC_KEY_SIZE=64,fr.CURVE25519_PUBLIC_KEY_SIZE=32,fr.XCHACHA20_NONCE_LENGTH=24,fr.AEAD_TAG_LENGTH=16,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ephemeralKeySize=t.symmetricNonceLength=t.symmetricAlgorithm=t.isHkdfKeyCompressed=t.isEphemeralKeyCompressed=t.ellipticCurve=t.ECIES_CONFIG=void 0;var e=fr,n=function(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16};t.ECIES_CONFIG=new n,t.ellipticCurve=function(){return t.ECIES_CONFIG.ellipticCurve},t.isEphemeralKeyCompressed=function(){return t.ECIES_CONFIG.isEphemeralKeyCompressed},t.isHkdfKeyCompressed=function(){return t.ECIES_CONFIG.isHkdfKeyCompressed},t.symmetricAlgorithm=function(){return t.ECIES_CONFIG.symmetricAlgorithm},t.symmetricNonceLength=function(){return t.ECIES_CONFIG.symmetricNonceLength},t.ephemeralKeySize=function(){var r={secp256k1:t.ECIES_CONFIG.isEphemeralKeyCompressed?e.COMPRESSED_PUBLIC_KEY_SIZE:e.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:e.CURVE25519_PUBLIC_KEY_SIZE,ed25519:e.CURVE25519_PUBLIC_KEY_SIZE};if(t.ECIES_CONFIG.ellipticCurve in r)return r[t.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")}}(Bh);var C3={},Gm={},sy={},YT={},u_={},Eg={};Object.defineProperty(Eg,"__esModule",{value:!0}),Eg.crypto=void 0,Eg.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.gcm=t.ctr=t.cbc=t.utils=void 0,t.randomBytes=i,t.getWebcryptoSubtle=o,t.managedNonce=function(l){return(0,n.number)(l.nonceLength),(c,...u)=>({encrypt(f,...p){const{nonceLength:g}=l,m=i(g),v=l(c,m,...u).encrypt(f,...p),_=(0,r.concatBytes)(m,v);return v.fill(0),_},decrypt(f,...p){const{nonceLength:g}=l,m=f.subarray(0,g),v=f.subarray(g);return l(c,m,...u).decrypt(v,...p)}})};const e=Eg,n=Ur,r=Wi;function i(l=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(l));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(l);throw new Error("crypto.getRandomValues must be defined")}function o(){if(e.crypto&&typeof e.crypto.subtle=="object"&&e.crypto.subtle!=null)return e.crypto.subtle;throw new Error("crypto.subtle must be defined")}t.utils={async encrypt(l,c,u,f){const p=o(),g=await p.importKey("raw",l,c,!0,["encrypt"]),m=await p.encrypt(u,g,f);return new Uint8Array(m)},async decrypt(l,c,u,f){const p=o(),g=await p.importKey("raw",l,c,!0,["decrypt"]),m=await p.decrypt(u,g,f);return new Uint8Array(m)}};const a={CBC:"AES-CBC",CTR:"AES-CTR",GCM:"AES-GCM"};function s(l){return(c,u,f)=>{(0,n.bytes)(c),(0,n.bytes)(u);const p={name:l,length:8*c.length},g=function(m,v,_){if(m===a.CBC)return{name:a.CBC,iv:v};if(m===a.CTR)return{name:a.CTR,counter:v,length:64};if(m===a.GCM)return _?{name:a.GCM,iv:v,additionalData:_}:{name:a.GCM,iv:v};throw new Error("unknown aes block mode")}(l,u,f);return{encrypt:m=>((0,n.bytes)(m),t.utils.encrypt(c,p,g,m)),decrypt:m=>((0,n.bytes)(m),t.utils.decrypt(c,p,g,m))}}}t.cbc=s(a.CBC),t.ctr=s(a.CTR),t.gcm=s(a.GCM)}(u_);var JT={},pr={},ma={},$i={};function Ym(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function ZT(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function QT(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function d_(t,...e){if(!QT(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function XT(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ym(t.outputLen),Ym(t.blockLen)}function eP(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function tP(t,e){d_(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty($i,"__esModule",{value:!0}),$i.isBytes=QT,$i.number=Ym,$i.bool=ZT,$i.bytes=d_,$i.hash=XT,$i.exists=eP,$i.output=tP;const $V={number:Ym,bool:ZT,bytes:d_,hash:XT,exists:eP,output:tP};$i.default=$V;var Pa={},xg={};Object.defineProperty(xg,"__esModule",{value:!0}),xg.crypto=void 0,xg.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=function(c){return c instanceof Uint8Array||c!=null&&typeof c=="object"&&c.constructor.name==="Uint8Array"},t.byteSwap32=function(c){for(let u=0;u<c.length;u++)c[u]=(0,t.byteSwap)(c[u])},t.bytesToHex=function(c){(0,n.bytes)(c);let u="";for(let f=0;f<c.length;f++)u+=r[c[f]];return u},t.hexToBytes=function(c){if(typeof c!="string")throw new Error("hex string expected, got "+typeof c);const u=c.length,f=u/2;if(u%2)throw new Error("padded hex string expected, got unpadded hex of length "+u);const p=new Uint8Array(f);for(let g=0,m=0;g<f;g++,m+=2){const v=o(c.charCodeAt(m)),_=o(c.charCodeAt(m+1));if(v===void 0||_===void 0){const w=c[m]+c[m+1];throw new Error('hex string expected, got non-hex character "'+w+'" at index '+m)}p[g]=16*v+_}return p},t.asyncLoop=async function(c,u,f){let p=Date.now();for(let g=0;g<c;g++){f(g);const m=Date.now()-p;m>=0&&m<u||(await(0,t.nextTick)(),p+=m)}},t.utf8ToBytes=a,t.toBytes=s,t.concatBytes=function(...c){let u=0;for(let p=0;p<c.length;p++){const g=c[p];(0,n.bytes)(g),u+=g.length}const f=new Uint8Array(u);for(let p=0,g=0;p<c.length;p++){const m=c[p];f.set(m,g),g+=m.length}return f},t.checkOpts=function(c,u){if(u!==void 0&&l.call(u)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(c,u)},t.wrapConstructor=function(c){const u=p=>c().update(s(p)).digest(),f=c();return u.outputLen=f.outputLen,u.blockLen=f.blockLen,u.create=()=>c(),u},t.wrapConstructorWithOpts=function(c){const u=(p,g)=>c(g).update(s(p)).digest(),f=c({});return u.outputLen=f.outputLen,u.blockLen=f.blockLen,u.create=p=>c(p),u},t.wrapXOFConstructorWithOpts=function(c){const u=(p,g)=>c(g).update(s(p)).digest(),f=c({});return u.outputLen=f.outputLen,u.blockLen=f.blockLen,u.create=p=>c(p),u},t.randomBytes=function(c=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(c));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(c);throw new Error("crypto.getRandomValues must be defined")};const e=xg,n=$i;t.u8=c=>new Uint8Array(c.buffer,c.byteOffset,c.byteLength),t.u32=c=>new Uint32Array(c.buffer,c.byteOffset,Math.floor(c.byteLength/4)),t.createView=c=>new DataView(c.buffer,c.byteOffset,c.byteLength),t.rotr=(c,u)=>c<<32-u|c>>>u,t.rotl=(c,u)=>c<<u|c>>>32-u>>>0,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,t.byteSwap=c=>c<<24&4278190080|c<<8&16711680|c>>>8&65280|c>>>24&255,t.byteSwapIfBE=t.isLE?c=>c:c=>(0,t.byteSwap)(c);const r=Array.from({length:256},(c,u)=>u.toString(16).padStart(2,"0")),i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function o(c){return c>=i._0&&c<=i._9?c-i._0:c>=i._A&&c<=i._F?c-(i._A-10):c>=i._a&&c<=i._f?c-(i._a-10):void 0}function a(c){if(typeof c!="string")throw new Error("utf8ToBytes expected string, got "+typeof c);return new Uint8Array(new TextEncoder().encode(c))}function s(c){return typeof c=="string"&&(c=a(c)),(0,n.bytes)(c),c}t.nextTick=async()=>{},t.Hash=class{clone(){return this._cloneInto()}};const l={}.toString}(Pa),Object.defineProperty(ma,"__esModule",{value:!0}),ma.HashMD=ma.Maj=ma.Chi=void 0;const A3=$i,Jf=Pa;ma.Chi=(t,e,n)=>t&e^~t&n;ma.Maj=(t,e,n)=>t&e^t&n^e&n;ma.HashMD=class extends Jf.Hash{constructor(t,e,n,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,Jf.createView)(this.buffer)}update(t){(0,A3.exists)(this);const{view:e,buffer:n,blockLen:r}=this,i=(t=(0,Jf.toBytes)(t)).length;for(let o=0;o<i;){const a=Math.min(r-this.pos,i-o);if(a!==r)n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&&(this.process(e,0),this.pos=0);else{const s=(0,Jf.createView)(t);for(;r<=i-o;o+=r)this.process(s,o)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,A3.exists)(this),(0,A3.output)(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let u=o;u<r;u++)e[u]=0;(function(u,f,p,g){if(typeof u.setBigUint64=="function")return u.setBigUint64(f,p,g);const m=BigInt(32),v=BigInt(4294967295),_=Number(p>>m&v),w=Number(p&v),I=g?4:0,k=g?0:4;u.setUint32(f+I,_,g),u.setUint32(f+k,w,g)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);const a=(0,Jf.createView)(t),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=s/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)a.setUint32(4*u,c[u],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:r,finished:i,destroyed:o,pos:a}=this;return t.length=r,t.pos=a,t.finished=i,t.destroyed=o,r%e&&t.buffer.set(n),t}};var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.add5L=Dt.add5H=Dt.add4H=Dt.add4L=Dt.add3H=Dt.add3L=Dt.rotlBL=Dt.rotlBH=Dt.rotlSL=Dt.rotlSH=Dt.rotr32L=Dt.rotr32H=Dt.rotrBL=Dt.rotrBH=Dt.rotrSL=Dt.rotrSH=Dt.shrSL=Dt.shrSH=Dt.toBig=void 0,Dt.fromBig=f_,Dt.split=nP,Dt.add=mP;const _g=BigInt(2**32-1),dE=BigInt(32);function f_(t,e=!1){return e?{h:Number(t&_g),l:Number(t>>dE&_g)}:{h:0|Number(t>>dE&_g),l:0|Number(t&_g)}}function nP(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:a}=f_(t[i],e);[n[i],r[i]]=[o,a]}return[n,r]}const rP=(t,e)=>BigInt(t>>>0)<<dE|BigInt(e>>>0);Dt.toBig=rP;const iP=(t,e,n)=>t>>>n;Dt.shrSH=iP;const oP=(t,e,n)=>t<<32-n|e>>>n;Dt.shrSL=oP;const sP=(t,e,n)=>t>>>n|e<<32-n;Dt.rotrSH=sP;const aP=(t,e,n)=>t<<32-n|e>>>n;Dt.rotrSL=aP;const lP=(t,e,n)=>t<<64-n|e>>>n-32;Dt.rotrBH=lP;const cP=(t,e,n)=>t>>>n-32|e<<64-n;Dt.rotrBL=cP;const uP=(t,e)=>e;Dt.rotr32H=uP;const dP=(t,e)=>t;Dt.rotr32L=dP;const fP=(t,e,n)=>t<<n|e>>>32-n;Dt.rotlSH=fP;const hP=(t,e,n)=>e<<n|t>>>32-n;Dt.rotlSL=hP;const pP=(t,e,n)=>e<<n-32|t>>>64-n;Dt.rotlBH=pP;const gP=(t,e,n)=>t<<n-32|e>>>64-n;function mP(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:0|i}}Dt.rotlBL=gP;const vP=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0);Dt.add3L=vP;const yP=(t,e,n,r)=>e+n+r+(t/2**32|0)|0;Dt.add3H=yP;const wP=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0);Dt.add4L=wP;const bP=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0;Dt.add4H=bP;const EP=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0);Dt.add5L=EP;const xP=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0;Dt.add5H=xP;const FV={fromBig:f_,split:nP,toBig:rP,shrSH:iP,shrSL:oP,rotrSH:sP,rotrSL:aP,rotrBH:lP,rotrBL:cP,rotr32H:uP,rotr32L:dP,rotlSH:fP,rotlSL:hP,rotlBH:pP,rotlBL:gP,add:mP,add3L:vP,add3H:yP,add4L:wP,add4H:bP,add5H:xP,add5L:EP};Dt.default=FV,Object.defineProperty(pr,"__esModule",{value:!0}),pr.sha384=pr.sha512_256=pr.sha512_224=pr.sha512=pr.SHA384=pr.SHA512_256=pr.SHA512_224=pr.SHA512=void 0;const UV=ma,Ut=Dt,Sg=Pa,[zV,qV]=Ut.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),il=new Uint32Array(80),ol=new Uint32Array(80);class Np extends UV.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:o,Cl:a,Dh:s,Dl:l,Eh:c,El:u,Fh:f,Fl:p,Gh:g,Gl:m,Hh:v,Hl:_}=this;return[e,n,r,i,o,a,s,l,c,u,f,p,g,m,v,_]}set(e,n,r,i,o,a,s,l,c,u,f,p,g,m,v,_){this.Ah=0|e,this.Al=0|n,this.Bh=0|r,this.Bl=0|i,this.Ch=0|o,this.Cl=0|a,this.Dh=0|s,this.Dl=0|l,this.Eh=0|c,this.El=0|u,this.Fh=0|f,this.Fl=0|p,this.Gh=0|g,this.Gl=0|m,this.Hh=0|v,this.Hl=0|_}process(e,n){for(let k=0;k<16;k++,n+=4)il[k]=e.getUint32(n),ol[k]=e.getUint32(n+=4);for(let k=16;k<80;k++){const $=0|il[k-15],L=0|ol[k-15],z=Ut.default.rotrSH($,L,1)^Ut.default.rotrSH($,L,8)^Ut.default.shrSH($,L,7),H=Ut.default.rotrSL($,L,1)^Ut.default.rotrSL($,L,8)^Ut.default.shrSL($,L,7),P=0|il[k-2],D=0|ol[k-2],B=Ut.default.rotrSH(P,D,19)^Ut.default.rotrBH(P,D,61)^Ut.default.shrSH(P,D,6),O=Ut.default.rotrSL(P,D,19)^Ut.default.rotrBL(P,D,61)^Ut.default.shrSL(P,D,6),y=Ut.default.add4L(H,O,ol[k-7],ol[k-16]),E=Ut.default.add4H(y,z,B,il[k-7],il[k-16]);il[k]=0|E,ol[k]=0|y}let{Ah:r,Al:i,Bh:o,Bl:a,Ch:s,Cl:l,Dh:c,Dl:u,Eh:f,El:p,Fh:g,Fl:m,Gh:v,Gl:_,Hh:w,Hl:I}=this;for(let k=0;k<80;k++){const $=Ut.default.rotrSH(f,p,14)^Ut.default.rotrSH(f,p,18)^Ut.default.rotrBH(f,p,41),L=Ut.default.rotrSL(f,p,14)^Ut.default.rotrSL(f,p,18)^Ut.default.rotrBL(f,p,41),z=f&g^~f&v,H=p&m^~p&_,P=Ut.default.add5L(I,L,H,qV[k],ol[k]),D=Ut.default.add5H(P,w,$,z,zV[k],il[k]),B=0|P,O=Ut.default.rotrSH(r,i,28)^Ut.default.rotrBH(r,i,34)^Ut.default.rotrBH(r,i,39),y=Ut.default.rotrSL(r,i,28)^Ut.default.rotrBL(r,i,34)^Ut.default.rotrBL(r,i,39),E=r&o^r&s^o&s,S=i&a^i&l^a&l;w=0|v,I=0|_,v=0|g,_=0|m,g=0|f,m=0|p,{h:f,l:p}=Ut.default.add(0|c,0|u,0|D,0|B),c=0|s,u=0|l,s=0|o,l=0|a,o=0|r,a=0|i;const C=Ut.default.add3L(B,y,S);r=Ut.default.add3H(C,D,O,E),i=0|C}({h:r,l:i}=Ut.default.add(0|this.Ah,0|this.Al,0|r,0|i)),{h:o,l:a}=Ut.default.add(0|this.Bh,0|this.Bl,0|o,0|a),{h:s,l}=Ut.default.add(0|this.Ch,0|this.Cl,0|s,0|l),{h:c,l:u}=Ut.default.add(0|this.Dh,0|this.Dl,0|c,0|u),{h:f,l:p}=Ut.default.add(0|this.Eh,0|this.El,0|f,0|p),{h:g,l:m}=Ut.default.add(0|this.Fh,0|this.Fl,0|g,0|m),{h:v,l:_}=Ut.default.add(0|this.Gh,0|this.Gl,0|v,0|_),{h:w,l:I}=Ut.default.add(0|this.Hh,0|this.Hl,0|w,0|I),this.set(r,i,o,a,s,l,c,u,f,p,g,m,v,_,w,I)}roundClean(){il.fill(0),ol.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}pr.SHA512=Np;class _P extends Np{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}pr.SHA512_224=_P;class SP extends Np{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}pr.SHA512_256=SP;class wI extends Np{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}pr.SHA384=wI,pr.sha512=(0,Sg.wrapConstructor)(()=>new Np),pr.sha512_224=(0,Sg.wrapConstructor)(()=>new _P),pr.sha512_256=(0,Sg.wrapConstructor)(()=>new SP),pr.sha384=(0,Sg.wrapConstructor)(()=>new wI);var fE={},vd={},ln={},qt={};Object.defineProperty(qt,"__esModule",{value:!0}),qt.notImplemented=qt.bitMask=void 0,qt.isBytes=Jm,qt.abytes=Zm,qt.abool=function(t,e){if(typeof e!="boolean")throw new Error(`${t} must be valid boolean, got "${e}".`)},qt.bytesToHex=I3,qt.numberToHexUnpadded=bI,qt.hexToNumber=k3,qt.hexToBytes=pm,qt.bytesToNumberBE=function(t){return k3(I3(t))},qt.bytesToNumberLE=function(t){return Zm(t),k3(I3(Uint8Array.from(t).reverse()))},qt.numberToBytesBE=xI,qt.numberToBytesLE=function(t,e){return xI(t,e).reverse()},qt.numberToVarBytesBE=function(t){return pm(bI(t))},qt.ensureBytes=function(t,e,n){let r;if(typeof e=="string")try{r=pm(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else{if(!Jm(e))throw new Error(`${t} must be hex string or Uint8Array`);r=Uint8Array.from(e)}const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r},qt.concatBytes=_I,qt.equalBytes=function(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0},qt.utf8ToBytes=function(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))},qt.inRange=SI,qt.aInRange=function(t,e,n,r){if(!SI(e,n,r))throw new Error(`expected valid ${t}: ${n} <= n < ${r}, got ${typeof e} ${e}`)},qt.bitLen=function(t){let e;for(e=0;t>hE;t>>=hm,e+=1);return e},qt.bitGet=function(t,e){return t>>BigInt(e)&hm},qt.bitSet=function(t,e,n){return t|(n?hm:hE)<<BigInt(e)},qt.createHmacDrbg=function(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=O3(t),i=O3(t),o=0;const a=()=>{r.fill(1),i.fill(0),o=0},s=(...u)=>n(i,r,...u),l=(u=O3())=>{i=s(CI([0]),u),r=s(),u.length!==0&&(i=s(CI([1]),u),r=s())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const f=[];for(;u<e;){r=s();const p=r.slice();f.push(p),u+=r.length}return _I(...f)};return(u,f)=>{let p;for(a(),l(u);!(p=f(c()));)l();return a(),p}},qt.validateObject=function(t,e,n={}){const r=(i,o,a)=>{const s=KV[o];if(typeof s!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=t[i];if(!(a&&l===void 0||s(l,t)))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(const[i,o]of Object.entries(e))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return t},qt.memoized=function(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}};const hE=BigInt(0),hm=BigInt(1),HV=BigInt(2);function Jm(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Zm(t){if(!Jm(t))throw new Error("Uint8Array expected")}const WV=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function I3(t){Zm(t);let e="";for(let n=0;n<t.length;n++)e+=WV[t[n]];return e}function bI(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function k3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const Js={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function EI(t){return t>=Js._0&&t<=Js._9?t-Js._0:t>=Js._A&&t<=Js._F?t-(Js._A-10):t>=Js._a&&t<=Js._f?t-(Js._a-10):void 0}function pm(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const a=EI(t.charCodeAt(o)),s=EI(t.charCodeAt(o+1));if(a===void 0||s===void 0){const l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=16*a+s}return r}function xI(t,e){return pm(t.toString(16).padStart(2*e,"0"))}function _I(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Zm(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}const M3=t=>typeof t=="bigint"&&hE<=t;function SI(t,e,n){return M3(t)&&M3(e)&&M3(n)&&e<=t&&t<n}qt.bitMask=t=>(HV<<BigInt(t-1))-hm;const O3=t=>new Uint8Array(t),CI=t=>Uint8Array.from(t),KV={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Jm(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};qt.notImplemented=()=>{throw new Error("not implemented")},Object.defineProperty(ln,"__esModule",{value:!0}),ln.isNegativeLE=void 0,ln.mod=Bi,ln.pow=CP,ln.pow2=function(t,e,n){let r=t;for(;e-- >gr;)r*=r,r%=n;return r},ln.invert=Cg,ln.tonelliShanks=AP,ln.FpSqrt=kI,ln.validateField=function(t){const e=GV.reduce((n,r)=>(n[r]="function",n),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,Li.validateObject)(t,e)},ln.FpPow=MI,ln.FpInvertBatch=OI,ln.FpDiv=function(t,e,n){return t.mul(e,typeof n=="bigint"?Cg(n,t.ORDER):t.inv(n))},ln.FpLegendre=RI,ln.FpIsSquare=function(t){const e=RI(t.ORDER);return n=>{const r=e(t,n);return t.eql(r,t.ZERO)||t.eql(r,t.ONE)}},ln.nLength=R3,ln.Field=function(t,e,n=!1,r={}){if(t<=gr)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:o}=R3(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=kI(t),s=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:(0,Li.bitMask)(i),ZERO:gr,ONE:_n,create:l=>Bi(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("Invalid field element: expected bigint, got "+typeof l);return gr<=l&&l<t},is0:l=>l===gr,isOdd:l=>(l&_n)===_n,neg:l=>Bi(-l,t),eql:(l,c)=>l===c,sqr:l=>Bi(l*l,t),add:(l,c)=>Bi(l+c,t),sub:(l,c)=>Bi(l-c,t),mul:(l,c)=>Bi(l*c,t),pow:(l,c)=>MI(s,l,c),div:(l,c)=>Bi(l*Cg(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>Cg(l,t),sqrt:r.sqrt||(l=>a(s,l)),invertBatch:l=>OI(s,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?(0,Li.numberToBytesLE)(l,o):(0,Li.numberToBytesBE)(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return n?(0,Li.bytesToNumberLE)(l):(0,Li.bytesToNumberBE)(l)}});return Object.freeze(s)},ln.FpSqrtOdd=function(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const n=t.sqrt(e);return t.isOdd(n)?n:t.neg(n)},ln.FpSqrtEven=function(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const n=t.sqrt(e);return t.isOdd(n)?t.neg(n):n},ln.hashToPrivateScalar=function(t,e,n=!1){t=(0,Li.ensureBytes)("privateHash",t);const r=t.length,i=R3(e).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);const o=n?(0,Li.bytesToNumberLE)(t):(0,Li.bytesToNumberBE)(t);return Bi(o,e-_n)+_n},ln.getFieldBytesLength=gE,ln.getMinHashLength=TI,ln.mapHashToField=function(t,e,n=!1){const r=t.length,i=gE(e),o=TI(e);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const a=Bi(n?(0,Li.bytesToNumberBE)(t):(0,Li.bytesToNumberLE)(t),e-_n)+_n;return n?(0,Li.numberToBytesLE)(a,i):(0,Li.numberToBytesBE)(a,i)};const Li=qt,gr=BigInt(0),_n=BigInt(1),Cl=BigInt(2),VV=BigInt(3),pE=BigInt(4),AI=BigInt(5),II=BigInt(8);function Bi(t,e){const n=t%e;return n>=gr?n:e+n}function CP(t,e,n){if(n<=gr||e<gr)throw new Error("Expected power/modulo > 0");if(n===_n)return gr;let r=_n;for(;e>gr;)e&_n&&(r=r*t%n),t=t*t%n,e>>=_n;return r}function Cg(t,e){if(t===gr||e<=gr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Bi(t,e),r=e,i=gr,o=_n;for(;n!==gr;){const a=r%n,s=i-o*(r/n);r=n,n=a,i=o,o=s}if(r!==_n)throw new Error("invert: does not exist");return Bi(i,e)}function AP(t){const e=(t-_n)/Cl;let n,r,i;for(n=t-_n,r=0;n%Cl===gr;n/=Cl,r++);for(i=Cl;i<t&&CP(i,e,t)!==t-_n;i++);if(r===1){const a=(t+_n)/pE;return function(s,l){const c=s.pow(l,a);if(!s.eql(s.sqr(c),l))throw new Error("Cannot find square root");return c}}const o=(n+_n)/Cl;return function(a,s){if(a.pow(s,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,c=a.pow(a.mul(a.ONE,i),n),u=a.pow(s,o),f=a.pow(s,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let p=1;for(let m=a.sqr(f);p<l&&!a.eql(m,a.ONE);p++)m=a.sqr(m);const g=a.pow(c,_n<<BigInt(l-p-1));c=a.sqr(g),u=a.mul(u,g),f=a.mul(f,c),l=p}return u}}function kI(t){if(t%pE===VV){const e=(t+_n)/pE;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%II===AI){const e=(t-AI)/II;return function(n,r){const i=n.mul(r,Cl),o=n.pow(i,e),a=n.mul(r,o),s=n.mul(n.mul(a,Cl),o),l=n.mul(a,n.sub(s,n.ONE));if(!n.eql(n.sqr(l),r))throw new Error("Cannot find square root");return l}}return AP(t)}BigInt(9),BigInt(16);ln.isNegativeLE=(t,e)=>(Bi(t,e)&_n)===_n;const GV=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function MI(t,e,n){if(n<gr)throw new Error("Expected power > 0");if(n===gr)return t.ONE;if(n===_n)return e;let r=t.ONE,i=e;for(;n>gr;)n&_n&&(r=t.mul(r,i)),i=t.sqr(i),n>>=_n;return r}function OI(t,e){const n=new Array(e.length),r=e.reduce((o,a,s)=>t.is0(a)?o:(n[s]=o,t.mul(o,a)),t.ONE),i=t.inv(r);return e.reduceRight((o,a,s)=>t.is0(a)?o:(n[s]=t.mul(o,n[s]),t.mul(o,a)),i),n}function RI(t){const e=(t-_n)/Cl;return(n,r)=>n.pow(r,e)}function R3(t,e){const n=e!==void 0?e:t.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function gE(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function TI(t){const e=gE(t);return e+Math.ceil(e/2)}Object.defineProperty(vd,"__esModule",{value:!0}),vd.wNAF=function(t,e){const n=(o,a)=>{const s=a.negate();return o?s:a},r=o=>{if(!Number.isSafeInteger(o)||o<=0||o>e)throw new Error(`Wrong window size=${o}, should be [1..${e}]`)},i=o=>(r(o),{windows:Math.ceil(e/o)+1,windowSize:2**(o-1)});return{constTimeNegate:n,unsafeLadder(o,a){let s=t.ZERO,l=o;for(;a>YV;)a&T3&&(s=s.add(l)),l=l.double(),a>>=T3;return s},precomputeWindow(o,a){const{windows:s,windowSize:l}=i(a),c=[];let u=o,f=u;for(let p=0;p<s;p++){f=u,c.push(f);for(let g=1;g<l;g++)f=f.add(u),c.push(f);u=f.double()}return c},wNAF(o,a,s){const{windows:l,windowSize:c}=i(o);let u=t.ZERO,f=t.BASE;const p=BigInt(2**o-1),g=2**o,m=BigInt(o);for(let v=0;v<l;v++){const _=v*c;let w=Number(s&p);s>>=m,w>c&&(w-=g,s+=T3);const I=_,k=_+Math.abs(w)-1,$=v%2!=0,L=w<0;w===0?f=f.add(n($,a[I])):u=u.add(n(L,a[k]))}return{p:u,f}},wNAFCached(o,a,s){const l=LI.get(o)||1;let c=P3.get(o);return c||(c=this.precomputeWindow(o,l),l!==1&&P3.set(o,s(c))),this.wNAF(l,c,a)},setWindowSize(o,a){r(a),LI.set(o,a),P3.delete(o)}}},vd.pippenger=function(t,e,n,r){if(!Array.isArray(n)||!Array.isArray(r)||r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");r.forEach((u,f)=>{if(!e.isValid(u))throw new Error(`wrong scalar at index ${f}`)}),n.forEach((u,f)=>{if(!(u instanceof t))throw new Error(`wrong point at index ${f}`)});const i=(0,NI.bitLen)(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,s=new Array(a+1).fill(t.ZERO),l=Math.floor((e.BITS-1)/o)*o;let c=t.ZERO;for(let u=l;u>=0;u-=o){s.fill(t.ZERO);for(let p=0;p<r.length;p++){const g=r[p],m=Number(g>>BigInt(u)&BigInt(a));s[m]=s[m].add(n[p])}let f=t.ZERO;for(let p=s.length-1,g=t.ZERO;p>0;p--)g=g.add(s[p]),f=f.add(g);if(c=c.add(f),u!==0)for(let p=0;p<o;p++)c=c.double()}return c},vd.validateBasic=function(t){return(0,PI.validateField)(t.Fp),(0,NI.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,PI.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})};const PI=ln,NI=qt,YV=BigInt(0),T3=BigInt(1),P3=new WeakMap,LI=new WeakMap;Object.defineProperty(fE,"__esModule",{value:!0}),fE.twistedEdwards=function(t){const e=function(E){const S=(0,N3.validateBasic)(E);return mi.validateObject(E,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...S})}(t),{Fp:n,n:r,prehash:i,hash:o,randomBytes:a,nByteLength:s,h:l}=e,c=Ag<<BigInt(8*s)-vi,u=n.create,f=(0,DI.Field)(e.n,e.nBitLength),p=e.uvRatio||((E,S)=>{try{return{isValid:!0,value:n.sqrt(E*n.inv(S))}}catch{return{isValid:!1,value:No}}}),g=e.adjustScalarBytes||(E=>E),m=e.domain||((E,S,C)=>{if((0,Di.abool)("phflag",C),S.length||C)throw new Error("Contexts/pre-hash are not supported");return E});function v(E,S){mi.aInRange("coordinate "+E,S,No,c)}function _(E){if(!(E instanceof k))throw new Error("ExtendedPoint expected")}const w=(0,Di.memoized)((E,S)=>{const{ex:C,ey:T,ez:j}=E,A=E.is0();S==null&&(S=A?JV:n.inv(j));const M=u(C*S),x=u(T*S),R=u(j*S);if(A)return{x:No,y:vi};if(R!==vi)throw new Error("invZ was invalid");return{x:M,y:x}}),I=(0,Di.memoized)(E=>{const{a:S,d:C}=e;if(E.is0())throw new Error("bad point: ZERO");const{ex:T,ey:j,ez:A,et:M}=E,x=u(T*T),R=u(j*j),F=u(A*A),U=u(F*F),K=u(x*S);if(u(F*u(K+R))!==u(U+u(C*u(x*R))))throw new Error("bad point: equation left != right (1)");if(u(T*j)!==u(A*M))throw new Error("bad point: equation left != right (2)");return!0});class k{constructor(S,C,T,j){this.ex=S,this.ey=C,this.ez=T,this.et=j,v("x",S),v("y",C),v("z",T),v("t",j),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(S){if(S instanceof k)throw new Error("extended point not allowed");const{x:C,y:T}=S||{};return v("x",C),v("y",T),new k(C,T,vi,u(C*T))}static normalizeZ(S){const C=n.invertBatch(S.map(T=>T.ez));return S.map((T,j)=>T.toAffine(C[j])).map(k.fromAffine)}static msm(S,C){return(0,N3.pippenger)(k,f,S,C)}_setWindowSize(S){z.setWindowSize(this,S)}assertValidity(){I(this)}equals(S){_(S);const{ex:C,ey:T,ez:j}=this,{ex:A,ey:M,ez:x}=S,R=u(C*x),F=u(A*j),U=u(T*x),K=u(M*j);return R===F&&U===K}is0(){return this.equals(k.ZERO)}negate(){return new k(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:S}=e,{ex:C,ey:T,ez:j}=this,A=u(C*C),M=u(T*T),x=u(Ag*u(j*j)),R=u(S*A),F=C+T,U=u(u(F*F)-A-M),K=R+M,G=K-x,Q=R-M,ne=u(U*G),J=u(K*Q),Z=u(U*Q),ee=u(G*K);return new k(ne,J,ee,Z)}add(S){_(S);const{a:C,d:T}=e,{ex:j,ey:A,ez:M,et:x}=this,{ex:R,ey:F,ez:U,et:K}=S;if(C===BigInt(-1)){const Ee=u((A-j)*(F+R)),ye=u((A+j)*(F-R)),ue=u(ye-Ee);if(ue===No)return this.double();const _e=u(M*Ag*K),Ie=u(x*Ag*U),we=Ie+_e,Fe=ye+Ee,He=Ie-_e,Ve=u(we*ue),Je=u(Fe*He),te=u(we*He),W=u(ue*Fe);return new k(Ve,Je,W,te)}const G=u(j*R),Q=u(A*F),ne=u(x*T*K),J=u(M*U),Z=u((j+A)*(R+F)-G-Q),ee=J-ne,ie=J+ne,se=u(Q-C*G),X=u(Z*ee),ae=u(ie*se),de=u(Z*se),me=u(ee*ie);return new k(X,ae,me,de)}subtract(S){return this.add(S.negate())}wNAF(S){return z.wNAFCached(this,S,k.normalizeZ)}multiply(S){const C=S;mi.aInRange("scalar",C,vi,r);const{p:T,f:j}=this.wNAF(C);return k.normalizeZ([T,j])[0]}multiplyUnsafe(S){const C=S;return mi.aInRange("scalar",C,No,r),C===No?L:this.equals(L)||C===vi?this:this.equals($)?this.wNAF(C).p:z.unsafeLadder(this,C)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return z.unsafeLadder(this,r).is0()}toAffine(S){return w(this,S)}clearCofactor(){const{h:S}=e;return S===vi?this:this.multiplyUnsafe(S)}static fromHex(S,C=!1){const{d:T,a:j}=e,A=n.BYTES;S=(0,Di.ensureBytes)("pointHex",S,A),(0,Di.abool)("zip215",C);const M=S.slice(),x=S[A-1];M[A-1]=-129&x;const R=mi.bytesToNumberLE(M),F=C?c:n.ORDER;mi.aInRange("pointHex.y",R,No,F);const U=u(R*R),K=u(U-vi),G=u(T*U-j);let{isValid:Q,value:ne}=p(K,G);if(!Q)throw new Error("Point.fromHex: invalid y coordinate");const J=(ne&vi)===vi,Z=(128&x)!=0;if(!C&&ne===No&&Z)throw new Error("Point.fromHex: x=0 and x_0=1");return Z!==J&&(ne=u(-ne)),k.fromAffine({x:ne,y:R})}static fromPrivateKey(S){return D(S).point}toRawBytes(){const{x:S,y:C}=this.toAffine(),T=mi.numberToBytesLE(C,n.BYTES);return T[T.length-1]|=S&vi?128:0,T}toHex(){return mi.bytesToHex(this.toRawBytes())}}k.BASE=new k(e.Gx,e.Gy,vi,u(e.Gx*e.Gy)),k.ZERO=new k(No,vi,vi,No);const{BASE:$,ZERO:L}=k,z=(0,N3.wNAF)(k,8*s);function H(E){return(0,DI.mod)(E,r)}function P(E){return H(mi.bytesToNumberLE(E))}function D(E){const S=s;E=(0,Di.ensureBytes)("private key",E,S);const C=(0,Di.ensureBytes)("hashed private key",o(E),2*S),T=g(C.slice(0,S)),j=C.slice(S,2*S),A=P(T),M=$.multiply(A),x=M.toRawBytes();return{head:T,prefix:j,scalar:A,point:M,pointBytes:x}}function B(E=new Uint8Array,...S){const C=mi.concatBytes(...S);return P(o(m(C,(0,Di.ensureBytes)("context",E),!!i)))}const O=ZV;return $._setWindowSize(8),{CURVE:e,getPublicKey:function(E){return D(E).pointBytes},sign:function(E,S,C={}){E=(0,Di.ensureBytes)("message",E),i&&(E=i(E));const{prefix:T,scalar:j,pointBytes:A}=D(S),M=B(C.context,T,E),x=$.multiply(M).toRawBytes(),R=H(M+B(C.context,x,A,E)*j);mi.aInRange("signature.s",R,No,r);const F=mi.concatBytes(x,mi.numberToBytesLE(R,n.BYTES));return(0,Di.ensureBytes)("result",F,2*s)},verify:function(E,S,C,T=O){const{context:j,zip215:A}=T,M=n.BYTES;E=(0,Di.ensureBytes)("signature",E,2*M),S=(0,Di.ensureBytes)("message",S),A!==void 0&&(0,Di.abool)("zip215",A),i&&(S=i(S));const x=mi.bytesToNumberLE(E.slice(M,2*M));let R,F,U;try{R=k.fromHex(C,A),F=k.fromHex(E.slice(0,M),A),U=$.multiplyUnsafe(x)}catch{return!1}if(!A&&R.isSmallOrder())return!1;const K=B(j,F.toRawBytes(),R.toRawBytes(),S);return F.add(R.multiplyUnsafe(K)).subtract(U).clearCofactor().equals(k.ZERO)},ExtendedPoint:k,utils:{getExtendedPublicKey:D,randomPrivateKey:()=>a(n.BYTES),precompute:(E=8,S=k.BASE)=>(S._setWindowSize(E),S.multiply(BigInt(3)),S)}}};const N3=vd,DI=ln,mi=qt,Di=qt,No=BigInt(0),vi=BigInt(1),Ag=BigInt(2),JV=BigInt(8),ZV={zip215:!0};var vl={};Object.defineProperty(vl,"__esModule",{value:!0}),vl.expand_message_xmd=IP,vl.expand_message_xof=kP,vl.hash_to_field=L3,vl.isogenyMap=function(t,e){const n=e.map(r=>Array.from(r).reverse());return(r,i)=>{const[o,a,s,l]=n.map(c=>c.reduce((u,f)=>t.add(t.mul(u,r),f)));return r=t.div(o,a),i=t.mul(i,t.div(s,l)),{x:r,y:i}}},vl.createHasher=function(t,e,n){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,i){const o=L3(r,2,{...n,DST:n.DST,...i}),a=t.fromAffine(e(o[0])),s=t.fromAffine(e(o[1])),l=a.add(s).clearCofactor();return l.assertValidity(),l},encodeToCurve(r,i){const o=L3(r,1,{...n,DST:n.encodeDST,...i}),a=t.fromAffine(e(o[0])).clearCofactor();return a.assertValidity(),a},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(const o of r)if(typeof o!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${o} in array`);const i=t.fromAffine(e(r)).clearCofactor();return i.assertValidity(),i}}};const QV=ln,Fr=qt,XV=Fr.bytesToNumberBE;function yl(t,e){if(jh(t),jh(e),t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);const n=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)n[r]=255&t,t>>>=8;return new Uint8Array(n)}function eG(t,e){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r]^e[r];return n}function jh(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function IP(t,e,n,r){(0,Fr.abytes)(t),(0,Fr.abytes)(e),jh(n),e.length>255&&(e=r((0,Fr.concatBytes)((0,Fr.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));const{outputLen:i,blockLen:o}=r,a=Math.ceil(n/i);if(n>65535||a>255)throw new Error("expand_message_xmd: invalid lenInBytes");const s=(0,Fr.concatBytes)(e,yl(e.length,1)),l=yl(0,o),c=yl(n,2),u=new Array(a),f=r((0,Fr.concatBytes)(l,t,c,yl(0,1),s));u[0]=r((0,Fr.concatBytes)(f,yl(1,1),s));for(let p=1;p<=a;p++){const g=[eG(f,u[p-1]),yl(p+1,1),s];u[p]=r((0,Fr.concatBytes)(...g))}return(0,Fr.concatBytes)(...u).slice(0,n)}function kP(t,e,n,r,i){if((0,Fr.abytes)(t),(0,Fr.abytes)(e),jh(n),e.length>255){const o=Math.ceil(2*r/8);e=i.create({dkLen:o}).update((0,Fr.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(n>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(t).update(yl(n,2)).update(e).update(yl(e.length,1)).digest()}function L3(t,e,n){(0,Fr.validateObject)(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:i,m:o,hash:a,expand:s,DST:l}=n;(0,Fr.abytes)(t),jh(e);const c=typeof l=="string"?(0,Fr.utf8ToBytes)(l):l,u=r.toString(2).length,f=Math.ceil((u+i)/8),p=e*o*f;let g;if(s==="xmd")g=IP(t,c,p,a);else if(s==="xof")g=kP(t,c,p,i,a);else{if(s!=="_internal_pass")throw new Error('expand must be "xmd" or "xof"');g=t}const m=new Array(e);for(let v=0;v<e;v++){const _=new Array(o);for(let w=0;w<o;w++){const I=f*(w+v*o),k=g.subarray(I,I+f);_[w]=(0,QV.mod)(XV(k),r)}m[v]=_}return m}var mE={};Object.defineProperty(mE,"__esModule",{value:!0}),mE.montgomery=function(t){const e=function(v){return(0,sl.validateObject)(v,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...v})}(t),{P:n}=e,r=v=>(0,BI.mod)(v,n),i=e.montgomeryBits,o=Math.ceil(i/8),a=e.nByteLength,s=e.adjustScalarBytes||(v=>v),l=e.powPminus2||(v=>(0,BI.pow)(v,n-BigInt(2),n));function c(v,_,w){const I=r(v*(_-w));return[_=r(_-I),w=r(w+I)]}const u=(e.a-BigInt(2))/BigInt(4);function f(v){return(0,sl.numberToBytesLE)(r(v),o)}function p(v,_){const w=function($){const L=(0,sl.ensureBytes)("u coordinate",$,o);return a===32&&(L[31]&=127),(0,sl.bytesToNumberLE)(L)}(_),I=function($){const L=(0,sl.ensureBytes)("scalar",$),z=L.length;if(z!==o&&z!==a)throw new Error(`Expected ${o} or ${a} bytes, got ${z}`);return(0,sl.bytesToNumberLE)(s(L))}(v),k=function($,L){(0,sl.aInRange)("u",$,rd,n),(0,sl.aInRange)("scalar",L,rd,n);const z=L,H=$;let P,D=D3,B=rd,O=$,y=D3,E=rd;for(let C=BigInt(i-1);C>=rd;C--){const T=z>>C&D3;E^=T,P=c(E,D,O),D=P[0],O=P[1],P=c(E,B,y),B=P[0],y=P[1],E=T;const j=D+B,A=r(j*j),M=D-B,x=r(M*M),R=A-x,F=O+y,U=r((O-y)*j),K=r(F*M),G=U+K,Q=U-K;O=r(G*G),y=r(H*r(Q*Q)),D=r(A*x),B=r(R*(A+r(u*R)))}P=c(E,D,O),D=P[0],O=P[1],P=c(E,B,y),B=P[0],y=P[1];const S=l(B);return r(D*S)}(w,I);if(k===rd)throw new Error("Invalid private or public key received");return f(k)}const g=f(e.Gu);function m(v){return p(v,g)}return{scalarMult:p,scalarMultBase:m,getSharedSecret:(v,_)=>p(v,_),getPublicKey:v=>m(v),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:g}};const BI=ln,sl=qt,rd=BigInt(0),D3=BigInt(1);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hash_to_ristretto255=t.hashToRistretto255=t.RistrettoPoint=t.encodeToCurve=t.hashToCurve=t.edwardsToMontgomery=t.x25519=t.ed25519ph=t.ed25519ctx=t.ed25519=t.ED25519_TORSION_SUBGROUP=void 0,t.edwardsToMontgomeryPub=z,t.edwardsToMontgomeryPriv=function(K){const G=$.hash(K.subarray(0,32));return $.adjustScalarBytes(G).subarray(0,32)};const e=pr,n=Pa,r=fE,i=vl,o=ln,a=mE,s=qt,l=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),c=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),u=BigInt(0),f=BigInt(1),p=BigInt(2),g=BigInt(3),m=BigInt(5),v=BigInt(8);function _(K){const G=BigInt(10),Q=BigInt(20),ne=BigInt(40),J=BigInt(80),Z=l,ee=K*K%Z*K%Z,ie=(0,o.pow2)(ee,p,Z)*ee%Z,se=(0,o.pow2)(ie,f,Z)*K%Z,X=(0,o.pow2)(se,m,Z)*se%Z,ae=(0,o.pow2)(X,G,Z)*X%Z,de=(0,o.pow2)(ae,Q,Z)*ae%Z,me=(0,o.pow2)(de,ne,Z)*de%Z,Ee=(0,o.pow2)(me,J,Z)*me%Z,ye=(0,o.pow2)(Ee,J,Z)*me%Z,ue=(0,o.pow2)(ye,G,Z)*X%Z;return{pow_p_5_8:(0,o.pow2)(ue,p,Z)*K%Z,b2:ee}}function w(K){return K[0]&=248,K[31]&=127,K[31]|=64,K}function I(K,G){const Q=l,ne=(0,o.mod)(G*G*G,Q),J=_(K*(0,o.mod)(ne*ne*G,Q)).pow_p_5_8;let Z=(0,o.mod)(K*ne*J,Q);const ee=(0,o.mod)(G*Z*Z,Q),ie=Z,se=(0,o.mod)(Z*c,Q),X=ee===K,ae=ee===(0,o.mod)(-K,Q),de=ee===(0,o.mod)(-K*c,Q);return X&&(Z=ie),(ae||de)&&(Z=se),(0,o.isNegativeLE)(Z,Q)&&(Z=(0,o.mod)(-Z,Q)),{isValid:X||ae,value:Z}}t.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const k=(0,o.Field)(l,void 0,!0),$={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:k,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:v,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:e.sha512,randomBytes:n.randomBytes,adjustScalarBytes:w,uvRatio:I};function L(K,G,Q){if(G.length>255)throw new Error("Context is too big");return(0,n.concatBytes)((0,n.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([Q?1:0,G.length]),G,K)}function z(K){const{y:G}=t.ed25519.ExtendedPoint.fromHex(K),Q=BigInt(1);return k.toBytes(k.create((Q+G)*k.inv(Q-G)))}t.ed25519=(0,r.twistedEdwards)($),t.ed25519ctx=(0,r.twistedEdwards)({...$,domain:L}),t.ed25519ph=(0,r.twistedEdwards)(Object.assign({},$,{domain:L,prehash:e.sha512})),t.x25519=(0,a.montgomery)({P:l,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:K=>{const G=l,{pow_p_5_8:Q,b2:ne}=_(K);return(0,o.mod)((0,o.pow2)(Q,g,G)*ne,G)},adjustScalarBytes:w,randomBytes:n.randomBytes}),t.edwardsToMontgomery=z;const H=(k.ORDER+g)/v,P=k.pow(p,H),D=k.sqrt(k.neg(k.ONE)),B=(0,o.FpSqrtEven)(k,k.neg(BigInt(486664)));function O(K){const{xMn:G,xMd:Q,yMn:ne,yMd:J}=function(me){const Ee=(k.ORDER-m)/v,ye=BigInt(486662);let ue=k.sqr(me);ue=k.mul(ue,p);let _e=k.add(ue,k.ONE),Ie=k.neg(ye),we=k.sqr(_e),Fe=k.mul(we,_e),He=k.mul(ue,ye);He=k.mul(He,Ie),He=k.add(He,we),He=k.mul(He,Ie);let Ve=k.sqr(Fe);we=k.sqr(Ve),Ve=k.mul(Ve,Fe),Ve=k.mul(Ve,He),we=k.mul(we,Ve);let Je=k.pow(we,Ee);Je=k.mul(Je,Ve);let te=k.mul(Je,D);we=k.sqr(Je),we=k.mul(we,Fe);let W=k.eql(we,He),Y=k.cmov(te,Je,W),le=k.mul(Ie,ue),ge=k.mul(Je,me);ge=k.mul(ge,P);let ke=k.mul(ge,D),Re=k.mul(He,ue);we=k.sqr(ge),we=k.mul(we,Fe);let rt=k.eql(we,Re),Bt=k.cmov(ke,ge,rt);we=k.sqr(Y),we=k.mul(we,Fe);let at=k.eql(we,He),xt=k.cmov(le,Ie,at),kt=k.cmov(Bt,Y,at),Lt=k.isOdd(kt);return kt=k.cmov(kt,k.neg(kt),at!==Lt),{xMn:xt,xMd:_e,yMn:kt,yMd:f}}(K);let Z=k.mul(G,J);Z=k.mul(Z,B);let ee=k.mul(Q,ne),ie=k.sub(G,Q),se=k.add(G,Q),X=k.mul(ee,se),ae=k.eql(X,k.ZERO);Z=k.cmov(Z,k.ZERO,ae),ee=k.cmov(ee,k.ONE,ae),ie=k.cmov(ie,k.ONE,ae),se=k.cmov(se,k.ONE,ae);const de=k.invertBatch([ee,se]);return{x:k.mul(Z,de[0]),y:k.mul(ie,de[1])}}const y=(0,i.createHasher)(t.ed25519.ExtendedPoint,K=>O(K[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:k.ORDER,m:1,k:128,expand:"xmd",hash:e.sha512});function E(K){if(!(K instanceof U))throw new Error("RistrettoPoint expected")}t.hashToCurve=y.hashToCurve,t.encodeToCurve=y.encodeToCurve;const S=c,C=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),T=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),j=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),A=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),M=K=>I(f,K),x=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),R=K=>t.ed25519.CURVE.Fp.create((0,s.bytesToNumberLE)(K)&x);function F(K){const{d:G}=t.ed25519.CURVE,Q=t.ed25519.CURVE.Fp.ORDER,ne=t.ed25519.CURVE.Fp.create,J=ne(S*K*K),Z=ne((J+f)*j);let ee=BigInt(-1);const ie=ne((ee-G*J)*ne(J+G));let{isValid:se,value:X}=I(Z,ie),ae=ne(X*K);(0,o.isNegativeLE)(ae,Q)||(ae=ne(-ae)),se||(X=ae),se||(ee=J);const de=ne(ee*(J-f)*A-ie),me=X*X,Ee=ne((X+X)*ie),ye=ne(de*C),ue=ne(f-me),_e=ne(f+me);return new t.ed25519.ExtendedPoint(ne(Ee*_e),ne(ue*ye),ne(ye*_e),ne(Ee*ue))}class U{constructor(G){this.ep=G}static fromAffine(G){return new U(t.ed25519.ExtendedPoint.fromAffine(G))}static hashToCurve(G){G=(0,s.ensureBytes)("ristrettoHash",G,64);const Q=F(R(G.slice(0,32))),ne=F(R(G.slice(32,64)));return new U(Q.add(ne))}static fromHex(G){G=(0,s.ensureBytes)("ristrettoHex",G,32);const{a:Q,d:ne}=t.ed25519.CURVE,J=t.ed25519.CURVE.Fp.ORDER,Z=t.ed25519.CURVE.Fp.create,ee="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",ie=R(G);if(!(0,s.equalBytes)((0,s.numberToBytesLE)(ie,32),G)||(0,o.isNegativeLE)(ie,J))throw new Error(ee);const se=Z(ie*ie),X=Z(f+Q*se),ae=Z(f-Q*se),de=Z(X*X),me=Z(ae*ae),Ee=Z(Q*ne*de-me),{isValid:ye,value:ue}=M(Z(Ee*me)),_e=Z(ue*ae),Ie=Z(ue*_e*Ee);let we=Z((ie+ie)*_e);(0,o.isNegativeLE)(we,J)&&(we=Z(-we));const Fe=Z(X*Ie),He=Z(we*Fe);if(!ye||(0,o.isNegativeLE)(He,J)||Fe===u)throw new Error(ee);return new U(new t.ed25519.ExtendedPoint(we,Fe,f,He))}toRawBytes(){let{ex:G,ey:Q,ez:ne,et:J}=this.ep;const Z=t.ed25519.CURVE.Fp.ORDER,ee=t.ed25519.CURVE.Fp.create,ie=ee(ee(ne+Q)*ee(ne-Q)),se=ee(G*Q),X=ee(se*se),{value:ae}=M(ee(ie*X)),de=ee(ae*ie),me=ee(ae*se),Ee=ee(de*me*J);let ye;if((0,o.isNegativeLE)(J*Ee,Z)){let _e=ee(Q*S),Ie=ee(G*S);G=_e,Q=Ie,ye=ee(de*T)}else ye=me;(0,o.isNegativeLE)(G*Ee,Z)&&(Q=ee(-Q));let ue=ee((ne-Q)*ye);return(0,o.isNegativeLE)(ue,Z)&&(ue=ee(-ue)),(0,s.numberToBytesLE)(ue,32)}toHex(){return(0,s.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(G){E(G);const{ex:Q,ey:ne}=this.ep,{ex:J,ey:Z}=G.ep,ee=t.ed25519.CURVE.Fp.create,ie=ee(Q*Z)===ee(ne*J),se=ee(ne*Z)===ee(Q*J);return ie||se}add(G){return E(G),new U(this.ep.add(G.ep))}subtract(G){return E(G),new U(this.ep.subtract(G.ep))}multiply(G){return new U(this.ep.multiply(G))}multiplyUnsafe(G){return new U(this.ep.multiplyUnsafe(G))}double(){return new U(this.ep.double())}negate(){return new U(this.ep.negate())}}t.RistrettoPoint=(U.BASE||(U.BASE=new U(t.ed25519.ExtendedPoint.BASE)),U.ZERO||(U.ZERO=new U(t.ed25519.ExtendedPoint.ZERO)),U),t.hashToRistretto255=(K,G)=>{const Q=G.DST,ne=typeof Q=="string"?(0,n.utf8ToBytes)(Q):Q,J=(0,i.expand_message_xmd)(K,ne,64,e.sha512);return U.hashToCurve(J)},t.hash_to_ristretto255=t.hashToRistretto255})(JT);var MP={},va={};Object.defineProperty(va,"__esModule",{value:!0}),va.sha224=va.sha256=va.SHA256=void 0;const B3=ma,lo=Pa,tG=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),al=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ll=new Uint32Array(64);class h_ extends B3.HashMD{constructor(){super(64,32,8,!1),this.A=0|al[0],this.B=0|al[1],this.C=0|al[2],this.D=0|al[3],this.E=0|al[4],this.F=0|al[5],this.G=0|al[6],this.H=0|al[7]}get(){const{A:e,B:n,C:r,D:i,E:o,F:a,G:s,H:l}=this;return[e,n,r,i,o,a,s,l]}set(e,n,r,i,o,a,s,l){this.A=0|e,this.B=0|n,this.C=0|r,this.D=0|i,this.E=0|o,this.F=0|a,this.G=0|s,this.H=0|l}process(e,n){for(let f=0;f<16;f++,n+=4)ll[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const p=ll[f-15],g=ll[f-2],m=(0,lo.rotr)(p,7)^(0,lo.rotr)(p,18)^p>>>3,v=(0,lo.rotr)(g,17)^(0,lo.rotr)(g,19)^g>>>10;ll[f]=v+ll[f-7]+m+ll[f-16]|0}let{A:r,B:i,C:o,D:a,E:s,F:l,G:c,H:u}=this;for(let f=0;f<64;f++){const p=u+((0,lo.rotr)(s,6)^(0,lo.rotr)(s,11)^(0,lo.rotr)(s,25))+(0,B3.Chi)(s,l,c)+tG[f]+ll[f]|0,g=((0,lo.rotr)(r,2)^(0,lo.rotr)(r,13)^(0,lo.rotr)(r,22))+(0,B3.Maj)(r,i,o)|0;u=c,c=l,l=s,s=a+p|0,a=o,o=i,i=r,r=p+g|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,a=a+this.D|0,s=s+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,o,a,s,l,c,u)}roundClean(){ll.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}va.SHA256=h_;class nG extends h_{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}va.sha256=(0,lo.wrapConstructor)(()=>new h_),va.sha224=(0,lo.wrapConstructor)(()=>new nG);var gm={},p_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const e=$i,n=Pa;class r extends n.Hash{constructor(o,a){super(),this.finished=!1,this.destroyed=!1,(0,e.hash)(o);const s=(0,n.toBytes)(a);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const l=this.blockLen,c=new Uint8Array(l);c.set(s.length>l?o.create().update(s).digest():s);for(let u=0;u<c.length;u++)c[u]^=54;this.iHash.update(c),this.oHash=o.create();for(let u=0;u<c.length;u++)c[u]^=106;this.oHash.update(c),c.fill(0)}update(o){return(0,e.exists)(this),this.iHash.update(o),this}digestInto(o){(0,e.exists)(this),(0,e.bytes)(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:s,finished:l,destroyed:c,blockLen:u,outputLen:f}=this;return o.finished=l,o.destroyed=c,o.blockLen=u,o.outputLen=f,o.oHash=a._cloneInto(o.oHash),o.iHash=s._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=r,t.hmac=(i,o,a)=>new r(i,o).update(a).digest(),t.hmac.create=(i,o)=>new r(i,o)})(p_);var g_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DER=void 0,t.weierstrassPoints=g,t.weierstrass=function(v){const _=function(K){const G=(0,e.validateBasic)(K);return r.validateObject(G,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...G})}(v),{Fp:w,n:I}=_,k=w.BYTES+1,$=2*w.BYTES+1;function L(K){return n.mod(K,I)}function z(K){return n.invert(K,I)}const{ProjectivePoint:H,normPrivateKeyToScalar:P,weierstrassEquation:D,isWithinCurveOrder:B}=g({..._,toBytes(K,G,Q){const ne=G.toAffine(),J=w.toBytes(ne.x),Z=r.concatBytes;return(0,i.abool)("isCompressed",Q),Q?Z(Uint8Array.from([G.hasEvenY()?2:3]),J):Z(Uint8Array.from([4]),J,w.toBytes(ne.y))},fromBytes(K){const G=K.length,Q=K[0],ne=K.subarray(1);if(G!==k||Q!==2&&Q!==3){if(G===$&&Q===4)return{x:w.fromBytes(ne.subarray(0,w.BYTES)),y:w.fromBytes(ne.subarray(w.BYTES,2*w.BYTES))};throw new Error(`Point of length ${G} was invalid. Expected ${k} compressed bytes or ${$} uncompressed bytes`)}{const J=r.bytesToNumberBE(ne);if(!r.inRange(J,c,w.ORDER))throw new Error("Point is not on curve");const Z=D(J);let ee;try{ee=w.sqrt(Z)}catch(ie){const se=ie instanceof Error?": "+ie.message:"";throw new Error("Point is not on curve"+se)}return(1&Q)==1!=((ee&c)===c)&&(ee=w.neg(ee)),{x:J,y:ee}}}}),O=K=>r.bytesToHex(r.numberToBytesBE(K,_.nByteLength));function y(K){return K>I>>c}const E=(K,G,Q)=>r.bytesToNumberBE(K.slice(G,Q));class S{constructor(G,Q,ne){this.r=G,this.s=Q,this.recovery=ne,this.assertValidity()}static fromCompact(G){const Q=_.nByteLength;return G=(0,i.ensureBytes)("compactSignature",G,2*Q),new S(E(G,0,Q),E(G,Q,2*Q))}static fromDER(G){const{r:Q,s:ne}=t.DER.toSig((0,i.ensureBytes)("DER",G));return new S(Q,ne)}assertValidity(){r.aInRange("r",this.r,c,I),r.aInRange("s",this.s,c,I)}addRecoveryBit(G){return new S(this.r,this.s,G)}recoverPublicKey(G){const{r:Q,s:ne,recovery:J}=this,Z=A((0,i.ensureBytes)("msgHash",G));if(J==null||![0,1,2,3].includes(J))throw new Error("recovery id invalid");const ee=J===2||J===3?Q+_.n:Q;if(ee>=w.ORDER)throw new Error("recovery id 2 or 3 invalid");const ie=(1&J)==0?"02":"03",se=H.fromHex(ie+O(ee)),X=z(ee),ae=L(-Z*X),de=L(ne*X),me=H.BASE.multiplyAndAddUnsafe(se,ae,de);if(!me)throw new Error("point at infinify");return me.assertValidity(),me}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new S(this.r,L(-this.s),this.recovery):this}toDERRawBytes(){return r.hexToBytes(this.toDERHex())}toDERHex(){return t.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return r.hexToBytes(this.toCompactHex())}toCompactHex(){return O(this.r)+O(this.s)}}const C={isValidPrivateKey(K){try{return P(K),!0}catch{return!1}},normPrivateKeyToScalar:P,randomPrivateKey:()=>{const K=n.getMinHashLength(_.n);return n.mapHashToField(_.randomBytes(K),_.n)},precompute:(K=8,G=H.BASE)=>(G._setWindowSize(K),G.multiply(BigInt(3)),G)};function T(K){const G=r.isBytes(K),Q=typeof K=="string",ne=(G||Q)&&K.length;return G?ne===k||ne===$:Q?ne===2*k||ne===2*$:K instanceof H}const j=_.bits2int||function(K){const G=r.bytesToNumberBE(K),Q=8*K.length-_.nBitLength;return Q>0?G>>BigInt(Q):G},A=_.bits2int_modN||function(K){return L(j(K))},M=r.bitMask(_.nBitLength);function x(K){return r.aInRange(`num < 2^${_.nBitLength}`,K,l,M),r.numberToBytesBE(K,_.nByteLength)}function R(K,G,Q=F){if(["recovered","canonical"].some(Ee=>Ee in Q))throw new Error("sign() legacy options not supported");const{hash:ne,randomBytes:J}=_;let{lowS:Z,prehash:ee,extraEntropy:ie}=Q;Z==null&&(Z=!0),K=(0,i.ensureBytes)("msgHash",K),o(Q),ee&&(K=(0,i.ensureBytes)("prehashed msgHash",ne(K)));const se=A(K),X=P(G),ae=[x(X),x(se)];if(ie!=null&&ie!==!1){const Ee=ie===!0?J(w.BYTES):ie;ae.push((0,i.ensureBytes)("extraEntropy",Ee))}const de=r.concatBytes(...ae),me=se;return{seed:de,k2sig:function(Ee){const ye=j(Ee);if(!B(ye))return;const ue=z(ye),_e=H.BASE.multiply(ye).toAffine(),Ie=L(_e.x);if(Ie===l)return;const we=L(ue*L(me+Ie*X));if(we===l)return;let Fe=(_e.x===Ie?0:2)|Number(_e.y&c),He=we;return Z&&y(we)&&(He=function(Ve){return y(Ve)?L(-Ve):Ve}(we),Fe^=1),new S(Ie,He,Fe)}}}const F={lowS:_.lowS,prehash:!1},U={lowS:_.lowS,prehash:!1};return H.BASE._setWindowSize(8),{CURVE:_,getPublicKey:function(K,G=!0){return H.fromPrivateKey(K).toRawBytes(G)},getSharedSecret:function(K,G,Q=!0){if(T(K))throw new Error("first arg must be private key");if(!T(G))throw new Error("second arg must be public key");return H.fromHex(G).multiply(P(K)).toRawBytes(Q)},sign:function(K,G,Q=F){const{seed:ne,k2sig:J}=R(K,G,Q),Z=_;return r.createHmacDrbg(Z.hash.outputLen,Z.nByteLength,Z.hmac)(ne,J)},verify:function(K,G,Q,ne=U){var Ie;const J=K;if(G=(0,i.ensureBytes)("msgHash",G),Q=(0,i.ensureBytes)("publicKey",Q),"strict"in ne)throw new Error("options.strict was renamed to lowS");o(ne);const{lowS:Z,prehash:ee}=ne;let ie,se;try{if(typeof J=="string"||r.isBytes(J))try{ie=S.fromDER(J)}catch(we){if(!(we instanceof t.DER.Err))throw we;ie=S.fromCompact(J)}else{if(typeof J!="object"||typeof J.r!="bigint"||typeof J.s!="bigint")throw new Error("PARSE");{const{r:we,s:Fe}=J;ie=new S(we,Fe)}}se=H.fromHex(Q)}catch(we){if(we.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Z&&ie.hasHighS())return!1;ee&&(G=_.hash(G));const{r:X,s:ae}=ie,de=A(G),me=z(ae),Ee=L(de*me),ye=L(X*me),ue=(Ie=H.BASE.multiplyAndAddUnsafe(se,Ee,ye))==null?void 0:Ie.toAffine();return ue?L(ue.x)===X:!1},ProjectivePoint:H,Signature:S,utils:C}},t.SWUFpSqrtRatio=m,t.mapToCurveSimpleSWU=function(v,_){if(n.validateField(v),!v.isValid(_.A)||!v.isValid(_.B)||!v.isValid(_.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const w=m(v,_.Z);if(!v.isOdd)throw new Error("Fp.isOdd is not implemented!");return I=>{let k,$,L,z,H,P,D,B;k=v.sqr(I),k=v.mul(k,_.Z),$=v.sqr(k),$=v.add($,k),L=v.add($,v.ONE),L=v.mul(L,_.B),z=v.cmov(_.Z,v.neg($),!v.eql($,v.ZERO)),z=v.mul(z,_.A),$=v.sqr(L),P=v.sqr(z),H=v.mul(P,_.A),$=v.add($,H),$=v.mul($,L),P=v.mul(P,z),H=v.mul(P,_.B),$=v.add($,H),D=v.mul(k,L);const{isValid:O,value:y}=w($,P);B=v.mul(k,I),B=v.mul(B,y),D=v.cmov(D,L,O),B=v.cmov(B,y,O);const E=v.isOdd(I)===v.isOdd(B);return B=v.cmov(v.neg(B),B,E),D=v.div(D,z),{x:D,y:B}}};const e=vd,n=ln,r=qt,i=qt;function o(v){v.lowS!==void 0&&(0,i.abool)("lowS",v.lowS),v.prehash!==void 0&&(0,i.abool)("prehash",v.prehash)}const{bytesToNumberBE:a,hexToBytes:s}=r;t.DER={Err:class extends Error{constructor(v=""){super(v)}},_tlv:{encode:(v,_)=>{const{Err:w}=t.DER;if(v<0||v>256)throw new w("tlv.encode: wrong tag");if(1&_.length)throw new w("tlv.encode: unpadded data");const I=_.length/2,k=r.numberToHexUnpadded(I);if(k.length/2&128)throw new w("tlv.encode: long form length too big");const $=I>127?r.numberToHexUnpadded(k.length/2|128):"";return`${r.numberToHexUnpadded(v)}${$}${k}${_}`},decode(v,_){const{Err:w}=t.DER;let I=0;if(v<0||v>256)throw new w("tlv.encode: wrong tag");if(_.length<2||_[I++]!==v)throw new w("tlv.decode: wrong tlv");const k=_[I++];let $=0;if(128&k){const z=127&k;if(!z)throw new w("tlv.decode(long): indefinite length not supported");if(z>4)throw new w("tlv.decode(long): byte length is too big");const H=_.subarray(I,I+z);if(H.length!==z)throw new w("tlv.decode: length bytes not complete");if(H[0]===0)throw new w("tlv.decode(long): zero leftmost byte");for(const P of H)$=$<<8|P;if(I+=z,$<128)throw new w("tlv.decode(long): not minimal encoding")}else $=k;const L=_.subarray(I,I+$);if(L.length!==$)throw new w("tlv.decode: wrong value length");return{v:L,l:_.subarray(I+$)}}},_int:{encode(v){const{Err:_}=t.DER;if(v<l)throw new _("integer: negative integers are not allowed");let w=r.numberToHexUnpadded(v);if(8&Number.parseInt(w[0],16)&&(w="00"+w),1&w.length)throw new _("unexpected assertion");return w},decode(v){const{Err:_}=t.DER;if(128&v[0])throw new _("Invalid signature integer: negative");if(v[0]===0&&!(128&v[1]))throw new _("Invalid signature integer: unnecessary leading zero");return a(v)}},toSig(v){const{Err:_,_int:w,_tlv:I}=t.DER,k=typeof v=="string"?s(v):v;r.abytes(k);const{v:$,l:L}=I.decode(48,k);if(L.length)throw new _("Invalid signature: left bytes after parsing");const{v:z,l:H}=I.decode(2,$),{v:P,l:D}=I.decode(2,H);if(D.length)throw new _("Invalid signature: left bytes after parsing");return{r:w.decode(z),s:w.decode(P)}},hexFromSig(v){const{_tlv:_,_int:w}=t.DER,I=`${_.encode(2,w.encode(v.r))}${_.encode(2,w.encode(v.s))}`;return _.encode(48,I)}};const l=BigInt(0),c=BigInt(1),u=BigInt(2),f=BigInt(3),p=BigInt(4);function g(v){const _=function(E){const S=(0,e.validateBasic)(E);r.validateObject(S,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:C,Fp:T,a:j}=S;if(C){if(!T.eql(j,T.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof C!="object"||typeof C.beta!="bigint"||typeof C.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...S})}(v),{Fp:w}=_,I=n.Field(_.n,_.nBitLength),k=_.toBytes||((E,S,C)=>{const T=S.toAffine();return r.concatBytes(Uint8Array.from([4]),w.toBytes(T.x),w.toBytes(T.y))}),$=_.fromBytes||(E=>{const S=E.subarray(1);return{x:w.fromBytes(S.subarray(0,w.BYTES)),y:w.fromBytes(S.subarray(w.BYTES,2*w.BYTES))}});function L(E){const{a:S,b:C}=_,T=w.sqr(E),j=w.mul(T,E);return w.add(w.add(j,w.mul(E,S)),C)}if(!w.eql(w.sqr(_.Gy),L(_.Gx)))throw new Error("bad generator point: equation left != right");function z(E){const{allowedPrivateKeyLengths:S,nByteLength:C,wrapPrivateKey:T,n:j}=_;if(S&&typeof E!="bigint"){if(r.isBytes(E)&&(E=r.bytesToHex(E)),typeof E!="string"||!S.includes(E.length))throw new Error("Invalid key");E=E.padStart(2*C,"0")}let A;try{A=typeof E=="bigint"?E:r.bytesToNumberBE((0,i.ensureBytes)("private key",E,C))}catch{throw new Error(`private key must be ${C} bytes, hex or bigint, not ${typeof E}`)}return T&&(A=n.mod(A,j)),r.aInRange("private key",A,c,j),A}function H(E){if(!(E instanceof B))throw new Error("ProjectivePoint expected")}const P=(0,i.memoized)((E,S)=>{const{px:C,py:T,pz:j}=E;if(w.eql(j,w.ONE))return{x:C,y:T};const A=E.is0();S==null&&(S=A?w.ONE:w.inv(j));const M=w.mul(C,S),x=w.mul(T,S),R=w.mul(j,S);if(A)return{x:w.ZERO,y:w.ZERO};if(!w.eql(R,w.ONE))throw new Error("invZ was invalid");return{x:M,y:x}}),D=(0,i.memoized)(E=>{if(E.is0()){if(_.allowInfinityPoint&&!w.is0(E.py))return;throw new Error("bad point: ZERO")}const{x:S,y:C}=E.toAffine();if(!w.isValid(S)||!w.isValid(C))throw new Error("bad point: x or y not FE");const T=w.sqr(C),j=L(S);if(!w.eql(T,j))throw new Error("bad point: equation left != right");if(!E.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class B{constructor(S,C,T){if(this.px=S,this.py=C,this.pz=T,S==null||!w.isValid(S))throw new Error("x required");if(C==null||!w.isValid(C))throw new Error("y required");if(T==null||!w.isValid(T))throw new Error("z required");Object.freeze(this)}static fromAffine(S){const{x:C,y:T}=S||{};if(!S||!w.isValid(C)||!w.isValid(T))throw new Error("invalid affine point");if(S instanceof B)throw new Error("projective point not allowed");const j=A=>w.eql(A,w.ZERO);return j(C)&&j(T)?B.ZERO:new B(C,T,w.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){const C=w.invertBatch(S.map(T=>T.pz));return S.map((T,j)=>T.toAffine(C[j])).map(B.fromAffine)}static fromHex(S){const C=B.fromAffine($((0,i.ensureBytes)("pointHex",S)));return C.assertValidity(),C}static fromPrivateKey(S){return B.BASE.multiply(z(S))}static msm(S,C){return(0,e.pippenger)(B,I,S,C)}_setWindowSize(S){y.setWindowSize(this,S)}assertValidity(){D(this)}hasEvenY(){const{y:S}=this.toAffine();if(w.isOdd)return!w.isOdd(S);throw new Error("Field doesn't support isOdd")}equals(S){H(S);const{px:C,py:T,pz:j}=this,{px:A,py:M,pz:x}=S,R=w.eql(w.mul(C,x),w.mul(A,j)),F=w.eql(w.mul(T,x),w.mul(M,j));return R&&F}negate(){return new B(this.px,w.neg(this.py),this.pz)}double(){const{a:S,b:C}=_,T=w.mul(C,f),{px:j,py:A,pz:M}=this;let x=w.ZERO,R=w.ZERO,F=w.ZERO,U=w.mul(j,j),K=w.mul(A,A),G=w.mul(M,M),Q=w.mul(j,A);return Q=w.add(Q,Q),F=w.mul(j,M),F=w.add(F,F),x=w.mul(S,F),R=w.mul(T,G),R=w.add(x,R),x=w.sub(K,R),R=w.add(K,R),R=w.mul(x,R),x=w.mul(Q,x),F=w.mul(T,F),G=w.mul(S,G),Q=w.sub(U,G),Q=w.mul(S,Q),Q=w.add(Q,F),F=w.add(U,U),U=w.add(F,U),U=w.add(U,G),U=w.mul(U,Q),R=w.add(R,U),G=w.mul(A,M),G=w.add(G,G),U=w.mul(G,Q),x=w.sub(x,U),F=w.mul(G,K),F=w.add(F,F),F=w.add(F,F),new B(x,R,F)}add(S){H(S);const{px:C,py:T,pz:j}=this,{px:A,py:M,pz:x}=S;let R=w.ZERO,F=w.ZERO,U=w.ZERO;const K=_.a,G=w.mul(_.b,f);let Q=w.mul(C,A),ne=w.mul(T,M),J=w.mul(j,x),Z=w.add(C,T),ee=w.add(A,M);Z=w.mul(Z,ee),ee=w.add(Q,ne),Z=w.sub(Z,ee),ee=w.add(C,j);let ie=w.add(A,x);return ee=w.mul(ee,ie),ie=w.add(Q,J),ee=w.sub(ee,ie),ie=w.add(T,j),R=w.add(M,x),ie=w.mul(ie,R),R=w.add(ne,J),ie=w.sub(ie,R),U=w.mul(K,ee),R=w.mul(G,J),U=w.add(R,U),R=w.sub(ne,U),U=w.add(ne,U),F=w.mul(R,U),ne=w.add(Q,Q),ne=w.add(ne,Q),J=w.mul(K,J),ee=w.mul(G,ee),ne=w.add(ne,J),J=w.sub(Q,J),J=w.mul(K,J),ee=w.add(ee,J),Q=w.mul(ne,ee),F=w.add(F,Q),Q=w.mul(ie,ee),R=w.mul(Z,R),R=w.sub(R,Q),Q=w.mul(Z,ne),U=w.mul(ie,U),U=w.add(U,Q),new B(R,F,U)}subtract(S){return this.add(S.negate())}is0(){return this.equals(B.ZERO)}wNAF(S){return y.wNAFCached(this,S,B.normalizeZ)}multiplyUnsafe(S){r.aInRange("scalar",S,l,_.n);const C=B.ZERO;if(S===l)return C;if(S===c)return this;const{endo:T}=_;if(!T)return y.unsafeLadder(this,S);let{k1neg:j,k1:A,k2neg:M,k2:x}=T.splitScalar(S),R=C,F=C,U=this;for(;A>l||x>l;)A&c&&(R=R.add(U)),x&c&&(F=F.add(U)),U=U.double(),A>>=c,x>>=c;return j&&(R=R.negate()),M&&(F=F.negate()),F=new B(w.mul(F.px,T.beta),F.py,F.pz),R.add(F)}multiply(S){const{endo:C,n:T}=_;let j,A;if(r.aInRange("scalar",S,c,T),C){const{k1neg:M,k1:x,k2neg:R,k2:F}=C.splitScalar(S);let{p:U,f:K}=this.wNAF(x),{p:G,f:Q}=this.wNAF(F);U=y.constTimeNegate(M,U),G=y.constTimeNegate(R,G),G=new B(w.mul(G.px,C.beta),G.py,G.pz),j=U.add(G),A=K.add(Q)}else{const{p:M,f:x}=this.wNAF(S);j=M,A=x}return B.normalizeZ([j,A])[0]}multiplyAndAddUnsafe(S,C,T){const j=B.BASE,A=(x,R)=>R!==l&&R!==c&&x.equals(j)?x.multiply(R):x.multiplyUnsafe(R),M=A(this,C).add(A(S,T));return M.is0()?void 0:M}toAffine(S){return P(this,S)}isTorsionFree(){const{h:S,isTorsionFree:C}=_;if(S===c)return!0;if(C)return C(B,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:S,clearCofactor:C}=_;return S===c?this:C?C(B,this):this.multiplyUnsafe(_.h)}toRawBytes(S=!0){return(0,i.abool)("isCompressed",S),this.assertValidity(),k(B,this,S)}toHex(S=!0){return(0,i.abool)("isCompressed",S),r.bytesToHex(this.toRawBytes(S))}}B.BASE=new B(_.Gx,_.Gy,w.ONE),B.ZERO=new B(w.ZERO,w.ONE,w.ZERO);const O=_.nBitLength,y=(0,e.wNAF)(B,_.endo?Math.ceil(O/2):O);return{CURVE:_,ProjectivePoint:B,normPrivateKeyToScalar:z,weierstrassEquation:L,isWithinCurveOrder:function(E){return r.inRange(E,c,_.n)}}}function m(v,_){const w=v.ORDER;let I=l;for(let E=w-c;E%u===l;E/=u)I+=c;const k=I,$=u<<k-c-c,L=$*u,z=(w-c)/L,H=(z-c)/u,P=L-c,D=$,B=v.pow(_,z),O=v.pow(_,(z+c)/u);let y=(E,S)=>{let C=B,T=v.pow(S,P),j=v.sqr(T);j=v.mul(j,S);let A=v.mul(E,j);A=v.pow(A,H),A=v.mul(A,T),T=v.mul(A,S),j=v.mul(A,E);let M=v.mul(j,T);A=v.pow(M,D);let x=v.eql(A,v.ONE);T=v.mul(j,O),A=v.mul(M,C),j=v.cmov(T,j,x),M=v.cmov(A,M,x);for(let R=k;R>c;R--){let F=R-u;F=u<<F-c;let U=v.pow(M,F);const K=v.eql(U,v.ONE);T=v.mul(j,C),C=v.mul(C,C),U=v.mul(M,C),j=v.cmov(T,j,K),M=v.cmov(U,M,K)}return{isValid:x,value:j}};if(v.ORDER%p===f){const E=(v.ORDER-f)/p,S=v.sqrt(v.neg(_));y=(C,T)=>{let j=v.sqr(T);const A=v.mul(C,T);j=v.mul(j,A);let M=v.pow(j,E);M=v.mul(M,A);const x=v.mul(M,S),R=v.mul(v.sqr(M),T),F=v.eql(R,C);return{isValid:F,value:v.cmov(x,M,F)}}}return y}})(g_),Object.defineProperty(gm,"__esModule",{value:!0}),gm.getHash=$I,gm.createCurve=function(t,e){const n=r=>(0,iG.weierstrass)({...t,...$I(r)});return Object.freeze({...n(e),create:n})};const rG=p_,jI=Pa,iG=g_;function $I(t){return{hash:t,hmac:(e,...n)=>(0,rG.hmac)(t,e,(0,jI.concatBytes)(...n)),randomBytes:jI.randomBytes}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.schnorr=t.secp256k1=void 0;const e=va,n=Pa,r=gm,i=vl,o=ln,a=qt,s=g_,l=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),c=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),u=BigInt(1),f=BigInt(2),p=(A,M)=>(A+M/f)/M;function g(A){const M=l,x=BigInt(3),R=BigInt(6),F=BigInt(11),U=BigInt(22),K=BigInt(23),G=BigInt(44),Q=BigInt(88),ne=A*A*A%M,J=ne*ne*A%M,Z=(0,o.pow2)(J,x,M)*J%M,ee=(0,o.pow2)(Z,x,M)*J%M,ie=(0,o.pow2)(ee,f,M)*ne%M,se=(0,o.pow2)(ie,F,M)*ie%M,X=(0,o.pow2)(se,U,M)*se%M,ae=(0,o.pow2)(X,G,M)*X%M,de=(0,o.pow2)(ae,Q,M)*ae%M,me=(0,o.pow2)(de,G,M)*X%M,Ee=(0,o.pow2)(me,x,M)*J%M,ye=(0,o.pow2)(Ee,K,M)*se%M,ue=(0,o.pow2)(ye,R,M)*ne%M,_e=(0,o.pow2)(ue,f,M);if(!m.eql(m.sqr(_e),A))throw new Error("Cannot find square root");return _e}const m=(0,o.Field)(l,void 0,void 0,{sqrt:g});t.secp256k1=(0,r.createCurve)({a:BigInt(0),b:BigInt(7),Fp:m,n:c,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:A=>{const M=c,x=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),R=-u*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),F=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),U=x,K=BigInt("0x100000000000000000000000000000000"),G=p(U*A,M),Q=p(-R*A,M);let ne=(0,o.mod)(A-G*x-Q*F,M),J=(0,o.mod)(-G*R-Q*U,M);const Z=ne>K,ee=J>K;if(Z&&(ne=M-ne),ee&&(J=M-J),ne>K||J>K)throw new Error("splitScalar: Endomorphism failed, k="+A);return{k1neg:Z,k1:ne,k2neg:ee,k2:J}}}},e.sha256);const v=BigInt(0),_={};function w(A,...M){let x=_[A];if(x===void 0){const R=(0,e.sha256)(Uint8Array.from(A,F=>F.charCodeAt(0)));x=(0,a.concatBytes)(R,R),_[A]=x}return(0,e.sha256)((0,a.concatBytes)(x,...M))}const I=A=>A.toRawBytes(!0).slice(1),k=A=>(0,a.numberToBytesBE)(A,32),$=A=>(0,o.mod)(A,l),L=A=>(0,o.mod)(A,c),z=t.secp256k1.ProjectivePoint,H=(A,M,x)=>z.BASE.multiplyAndAddUnsafe(A,M,x);function P(A){let M=t.secp256k1.utils.normPrivateKeyToScalar(A),x=z.fromPrivateKey(M);return{scalar:x.hasEvenY()?M:L(-M),bytes:I(x)}}function D(A){(0,a.aInRange)("x",A,u,l);const M=$(A*A);let x=g($(M*A+BigInt(7)));x%f!==v&&(x=$(-x));const R=new z(A,x,u);return R.assertValidity(),R}const B=a.bytesToNumberBE;function O(...A){return L(B(w("BIP0340/challenge",...A)))}function y(A){return P(A).bytes}function E(A,M,x=(0,n.randomBytes)(32)){const R=(0,a.ensureBytes)("message",A),{bytes:F,scalar:U}=P(M),K=(0,a.ensureBytes)("auxRand",x,32),G=k(U^B(w("BIP0340/aux",K))),Q=w("BIP0340/nonce",G,F,R),ne=L(B(Q));if(ne===v)throw new Error("sign failed: k is zero");const{bytes:J,scalar:Z}=P(ne),ee=O(J,F,R),ie=new Uint8Array(64);if(ie.set(J,0),ie.set(k(L(Z+ee*U)),32),!S(ie,R,F))throw new Error("sign: Invalid signature produced");return ie}function S(A,M,x){const R=(0,a.ensureBytes)("signature",A,64),F=(0,a.ensureBytes)("message",M),U=(0,a.ensureBytes)("publicKey",x,32);try{const K=D(B(U)),G=B(R.subarray(0,32));if(!(0,a.inRange)(G,u,l))return!1;const Q=B(R.subarray(32,64));if(!(0,a.inRange)(Q,u,c))return!1;const ne=O(k(G),I(K),F),J=H(K,Q,L(-ne));return!(!J||!J.hasEvenY()||J.toAffine().x!==G)}catch{return!1}}t.schnorr={getPublicKey:y,sign:E,verify:S,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:D,pointToBytes:I,numberToBytesBE:a.numberToBytesBE,bytesToNumberBE:a.bytesToNumberBE,taggedHash:w,mod:o.mod}};const C=(0,i.isogenyMap)(m,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(A=>A.map(M=>BigInt(M)))),T=(0,s.mapToCurveSimpleSWU)(m,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:m.create(BigInt("-11"))}),j=(0,i.createHasher)(t.secp256k1.ProjectivePoint,A=>{const{x:M,y:x}=T(m.create(A[0]));return C(M,x)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:m.ORDER,m:1,k:128,expand:"xmd",hash:e.sha256});t.hashToCurve=j.hashToCurve,t.encodeToCurve=j.encodeToCurve})(MP);var vE={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeHex=t.remove0x=void 0;var e=Wi;t.remove0x=function(n){return n.startsWith("0x")||n.startsWith("0X")?n.slice(2):n},t.decodeHex=function(n){return(0,e.hexToBytes)((0,t.remove0x)(n))}})(vE),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hexToPublicKey=t.convertPublicKeyFormat=t.getSharedPoint=t.getPublicKey=t.isValidPrivateKey=t.getValidSecret=void 0;var e=u_,n=JT,r=MP,i=Bh,o=fr,a=vE;t.getValidSecret=function(){var u;do u=(0,e.randomBytes)(o.SECRET_KEY_LENGTH);while(!(0,t.isValidPrivateKey)(u));return u},t.isValidPrivateKey=function(u){return s((0,i.ellipticCurve)(),function(f){return f.utils.isValidPrivateKey(u)},function(){return!0},function(){return!0})},t.getPublicKey=function(u){return s((0,i.ellipticCurve)(),function(f){return f.getPublicKey(u)},function(f){return f.getPublicKey(u)},function(f){return f.getPublicKey(u)})},t.getSharedPoint=function(u,f,p){return s((0,i.ellipticCurve)(),function(g){return g.getSharedSecret(u,f,p)},function(g){return g.getSharedSecret(u,f)},function(g){return c(g,u,f)})},t.convertPublicKeyFormat=function(u,f){return s((0,i.ellipticCurve)(),function(p){return p.getSharedSecret(BigInt(1),u,f)},function(){return u},function(){return u})};function s(u,f,p,g){if(u==="secp256k1")return f(r.secp256k1);if(u==="x25519")return p(n.x25519);if(u==="ed25519")return g(n.ed25519);throw new Error("Not implemented")}t.hexToPublicKey=function(u){var f=(0,a.decodeHex)(u);return s((0,i.ellipticCurve)(),function(){return l(f)},function(){return f},function(){return f})};var l=function(u){if(u.length===o.ETH_PUBLIC_KEY_SIZE){var f=new Uint8Array(1+u.length);return f.set([4]),f.set(u,1),f}return u},c=function(u,f,p){var g=u.utils.getExtendedPublicKey(f).scalar;return u.ExtendedPoint.fromHex(p).multiply(g).toRawBytes()}}(YT);var OP={},yd={};Object.defineProperty(yd,"__esModule",{value:!0}),yd.hkdf=void 0,yd.extract=TP,yd.expand=PP;const yE=$i,FI=Pa,RP=p_;function TP(t,e,n){return(0,yE.hash)(t),n===void 0&&(n=new Uint8Array(t.outputLen)),(0,RP.hmac)(t,(0,FI.toBytes)(n),(0,FI.toBytes)(e))}const j3=new Uint8Array([0]),UI=new Uint8Array;function PP(t,e,n,r=32){if((0,yE.hash)(t),(0,yE.number)(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/t.outputLen);n===void 0&&(n=UI);const o=new Uint8Array(i*t.outputLen),a=RP.hmac.create(t,e),s=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let c=0;c<i;c++)j3[0]=c+1,s.update(c===0?UI:l).update(n).update(j3).digestInto(l),o.set(l,t.outputLen*c),a._cloneInto(s);return a.destroy(),s.destroy(),l.fill(0),j3.fill(0),o.slice(0,r)}yd.hkdf=(t,e,n,r,i)=>PP(t,TP(t,e,n),r,i),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getSharedKey=t.deriveKey=void 0;var e=Wi,n=yd,r=va;t.deriveKey=function(i,o,a){return(0,n.hkdf)(r.sha256,i,o,a,32)},t.getSharedKey=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return(0,t.deriveKey)(e.concatBytes.apply(void 0,i))}}(OP);var zI={},Id={},$n={},Kc={};Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.polyval=Kc.ghash=void 0,Kc._toGHASHKey=NP;const Vc=Ur,ei=Wi,oa=16,m_=new Uint8Array(16),Es=(0,ei.u32)(m_),po=t=>(t>>>0&255)<<24|(t>>>8&255)<<16|(t>>>16&255)<<8|t>>>24&255|0;function NP(t){t.reverse();const e=1&t[15];let n=0;for(let r=0;r<t.length;r++){const i=t[r];t[r]=i>>>1|n,n=(1&i)<<7}return t[0]^=225&-e,t}class LP{constructor(e,n){this.blockLen=oa,this.outputLen=oa,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,e=(0,ei.toBytes)(e),(0,Vc.bytes)(e,16);const r=(0,ei.createView)(e);let i=r.getUint32(0,!1),o=r.getUint32(4,!1),a=r.getUint32(8,!1),s=r.getUint32(12,!1);const l=[];for(let w=0;w<128;w++)l.push({s0:po(i),s1:po(o),s2:po(a),s3:po(s)}),{s0:i,s1:o,s2:a,s3:s}={s3:(f=a)<<31|(p=s)>>>1,s2:(u=o)<<31|f>>>1,s1:(c=i)<<31|u>>>1,s0:c>>>1^225<<24&-(1&p)};var c,u,f,p;const g=(w=>w>65536?8:w>1024?4:2)(n||1024);if(![1,2,4,8].includes(g))throw new Error(`ghash: wrong window size=${g}, should be 2, 4 or 8`);this.W=g;const m=128/g,v=this.windowSize=2**g,_=[];for(let w=0;w<m;w++)for(let I=0;I<v;I++){let k=0,$=0,L=0,z=0;for(let H=0;H<g;H++){if(!(I>>>g-H-1&1))continue;const{s0:P,s1:D,s2:B,s3:O}=l[g*w+H];k^=P,$^=D,L^=B,z^=O}_.push({s0:k,s1:$,s2:L,s3:z})}this.t=_}_updateBlock(e,n,r,i){e^=this.s0,n^=this.s1,r^=this.s2,i^=this.s3;const{W:o,t:a,windowSize:s}=this;let l=0,c=0,u=0,f=0;const p=(1<<o)-1;let g=0;for(const m of[e,n,r,i])for(let v=0;v<4;v++){const _=m>>>8*v&255;for(let w=8/o-1;w>=0;w--){const I=_>>>o*w&p,{s0:k,s1:$,s2:L,s3:z}=a[g*s+I];l^=k,c^=$,u^=L,f^=z,g+=1}}this.s0=l,this.s1=c,this.s2=u,this.s3=f}update(e){e=(0,ei.toBytes)(e),(0,Vc.exists)(this);const n=(0,ei.u32)(e),r=Math.floor(e.length/oa),i=e.length%oa;for(let o=0;o<r;o++)this._updateBlock(n[4*o+0],n[4*o+1],n[4*o+2],n[4*o+3]);return i&&(m_.set(e.subarray(r*oa)),this._updateBlock(Es[0],Es[1],Es[2],Es[3]),(0,ei.clean)(Es)),this}destroy(){const{t:e}=this;for(const n of e)n.s0=0,n.s1=0,n.s2=0,n.s3=0}digestInto(e){(0,Vc.exists)(this),(0,Vc.output)(e,this),this.finished=!0;const{s0:n,s1:r,s2:i,s3:o}=this,a=(0,ei.u32)(e);return a[0]=n,a[1]=r,a[2]=i,a[3]=o,e}digest(){const e=new Uint8Array(oa);return this.digestInto(e),this.destroy(),e}}class oG extends LP{constructor(e,n){e=(0,ei.toBytes)(e);const r=NP((0,ei.copyBytes)(e));super(r,n),(0,ei.clean)(r)}update(e){e=(0,ei.toBytes)(e),(0,Vc.exists)(this);const n=(0,ei.u32)(e),r=e.length%oa,i=Math.floor(e.length/oa);for(let o=0;o<i;o++)this._updateBlock(po(n[4*o+3]),po(n[4*o+2]),po(n[4*o+1]),po(n[4*o+0]));return r&&(m_.set(e.subarray(i*oa)),this._updateBlock(po(Es[3]),po(Es[2]),po(Es[1]),po(Es[0])),(0,ei.clean)(Es)),this}digestInto(e){(0,Vc.exists)(this),(0,Vc.output)(e,this),this.finished=!0;const{s0:n,s1:r,s2:i,s3:o}=this,a=(0,ei.u32)(e);return a[0]=n,a[1]=r,a[2]=i,a[3]=o,e.reverse()}}function qI(t){const e=(r,i)=>t(i,r.length).update((0,ei.toBytes)(r)).digest(),n=t(new Uint8Array(16),0);return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=(r,i)=>t(r,i),e}Kc.ghash=qI((t,e)=>new LP(t,e)),Kc.polyval=qI((t,e)=>new oG(t,e)),Object.defineProperty($n,"__esModule",{value:!0}),$n.unsafe=$n.aeskwp=$n.aeskw=$n.siv=$n.gcm=$n.cfb=$n.cbc=$n.ecb=$n.ctr=void 0,$n.expandKeyLE=qo,$n.expandKeyDecLE=$h;const en=Ur,wE=Kc,We=Wi,Ii=16,Ig=new Uint8Array(Ii),sG=283;function v_(t){return t<<1^sG&-(t>>7)}function wd(t,e){let n=0;for(;e>0;e>>=1)n^=t&-(1&e),t=v_(t);return n}const bE=(()=>{const t=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=v_(r))t[n]=r;const e=new Uint8Array(256);e[0]=99;for(let n=0;n<255;n++){let r=t[255-n];r|=r<<8,e[t[n]]=255&(r^r>>4^r>>5^r>>6^r>>7^99)}return(0,We.clean)(t),e})(),aG=bE.map((t,e)=>bE.indexOf(e)),lG=t=>t<<24|t>>>8,$3=t=>t<<8|t>>>24,Qm=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function DP(t,e){if(t.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((c,u)=>e(t[u])),r=n.map($3),i=r.map($3),o=i.map($3),a=new Uint32Array(65536),s=new Uint32Array(65536),l=new Uint16Array(65536);for(let c=0;c<256;c++)for(let u=0;u<256;u++){const f=256*c+u;a[f]=n[c]^r[u],s[f]=i[c]^o[u],l[f]=t[c]<<8|t[u]}return{sbox:t,sbox2:l,T0:n,T1:r,T2:i,T3:o,T01:a,T23:s}}const y_=DP(bE,t=>wd(t,3)<<24|t<<16|t<<8|wd(t,2)),BP=DP(aG,t=>wd(t,11)<<24|wd(t,13)<<16|wd(t,9)<<8|wd(t,14)),cG=(()=>{const t=new Uint8Array(16);for(let e=0,n=1;e<16;e++,n=v_(n))t[e]=n;return t})();function qo(t){(0,en.bytes)(t);const e=t.length;if(![16,24,32].includes(e))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${e}`);const{sbox2:n}=y_,r=[];(0,We.isAligned32)(t)||r.push(t=(0,We.copyBytes)(t));const i=(0,We.u32)(t),o=i.length,a=l=>_s(n,l,l,l,l),s=new Uint32Array(e+28);s.set(i);for(let l=o;l<s.length;l++){let c=s[l-1];l%o==0?c=a(lG(c))^cG[l/o-1]:o>6&&l%o==4&&(c=a(c)),s[l]=s[l-o]^c}return(0,We.clean)(...r),s}function $h(t){const e=qo(t),n=e.slice(),r=e.length,{sbox2:i}=y_,{T0:o,T1:a,T2:s,T3:l}=BP;for(let c=0;c<r;c+=4)for(let u=0;u<4;u++)n[c+u]=e[r-c-4+u];(0,We.clean)(e);for(let c=4;c<r-4;c++){const u=n[c],f=_s(i,u,u,u,u);n[c]=o[255&f]^a[f>>>8&255]^s[f>>>16&255]^l[f>>>24]}return n}function Dl(t,e,n,r,i,o){return t[n<<8&65280|r>>>8&255]^e[i>>>8&65280|o>>>24&255]}function _s(t,e,n,r,i){return t[255&e|65280&n]|t[r>>>16&255|i>>>16&65280]<<16}function ti(t,e,n,r,i){const{sbox2:o,T01:a,T23:s}=y_;let l=0;e^=t[l++],n^=t[l++],r^=t[l++],i^=t[l++];const c=t.length/4-2;for(let u=0;u<c;u++){const f=t[l++]^Dl(a,s,e,n,r,i),p=t[l++]^Dl(a,s,n,r,i,e),g=t[l++]^Dl(a,s,r,i,e,n),m=t[l++]^Dl(a,s,i,e,n,r);e=f,n=p,r=g,i=m}return{s0:t[l++]^_s(o,e,n,r,i),s1:t[l++]^_s(o,n,r,i,e),s2:t[l++]^_s(o,r,i,e,n),s3:t[l++]^_s(o,i,e,n,r)}}function Fh(t,e,n,r,i){const{sbox2:o,T01:a,T23:s}=BP;let l=0;e^=t[l++],n^=t[l++],r^=t[l++],i^=t[l++];const c=t.length/4-2;for(let u=0;u<c;u++){const f=t[l++]^Dl(a,s,e,i,r,n),p=t[l++]^Dl(a,s,n,e,i,r),g=t[l++]^Dl(a,s,r,n,e,i),m=t[l++]^Dl(a,s,i,r,n,e);e=f,n=p,r=g,i=m}return{s0:t[l++]^_s(o,e,i,r,n),s1:t[l++]^_s(o,n,e,i,r),s2:t[l++]^_s(o,r,n,e,i),s3:t[l++]^_s(o,i,r,n,e)}}function kd(t,e){if(e===void 0)return new Uint8Array(t);if((0,en.bytes)(e),e.length<t)throw new Error(`aes: wrong destination length, expected at least ${t}, got: ${e.length}`);if(!(0,We.isAligned32)(e))throw new Error("unaligned dst");return e}function jP(t,e,n,r){(0,en.bytes)(e,Ii),(0,en.bytes)(n);const i=n.length;r=kd(i,r);const o=e,a=(0,We.u32)(o);let{s0:s,s1:l,s2:c,s3:u}=ti(t,a[0],a[1],a[2],a[3]);const f=(0,We.u32)(n),p=(0,We.u32)(r);for(let m=0;m+4<=f.length;m+=4){p[m+0]=f[m+0]^s,p[m+1]=f[m+1]^l,p[m+2]=f[m+2]^c,p[m+3]=f[m+3]^u;let v=1;for(let _=o.length-1;_>=0;_--)v=v+(255&o[_])|0,o[_]=255&v,v>>>=8;({s0:s,s1:l,s2:c,s3:u}=ti(t,a[0],a[1],a[2],a[3]))}const g=Ii*Math.floor(f.length/4);if(g<i){const m=new Uint32Array([s,l,c,u]),v=(0,We.u8)(m);for(let _=g,w=0;_<i;_++,w++)r[_]=n[_]^v[w];(0,We.clean)(m)}return r}function bd(t,e,n,r,i){(0,en.bytes)(n,Ii),(0,en.bytes)(r),i=kd(r.length,i);const o=n,a=(0,We.u32)(o),s=(0,We.createView)(o),l=(0,We.u32)(r),c=(0,We.u32)(i),u=e?0:12,f=r.length;let p=s.getUint32(u,e),{s0:g,s1:m,s2:v,s3:_}=ti(t,a[0],a[1],a[2],a[3]);for(let I=0;I+4<=l.length;I+=4)c[I+0]=l[I+0]^g,c[I+1]=l[I+1]^m,c[I+2]=l[I+2]^v,c[I+3]=l[I+3]^_,p=p+1>>>0,s.setUint32(u,p,e),{s0:g,s1:m,s2:v,s3:_}=ti(t,a[0],a[1],a[2],a[3]);const w=Ii*Math.floor(l.length/4);if(w<f){const I=new Uint32Array([g,m,v,_]),k=(0,We.u8)(I);for(let $=w,L=0;$<f;$++,L++)i[$]=r[$]^k[L];(0,We.clean)(I)}return i}function HI(t){if((0,en.bytes)(t),t.length%Ii!=0)throw new Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size 16")}function WI(t,e,n){(0,en.bytes)(t);let r=t.length;const i=r%Ii;if(!e&&i!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");(0,We.isAligned32)(t)||(t=(0,We.copyBytes)(t));const o=(0,We.u32)(t);if(e){let s=Ii-i;s||(s=Ii),r+=s}const a=kd(r,n);return{b:o,o:(0,We.u32)(a),out:a}}function KI(t,e){if(!e)return t;const n=t.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=t[n-1];if(r<=0||r>16)throw new Error("aes/pcks5: wrong padding");const i=t.subarray(0,-r);for(let o=0;o<r;o++)if(t[n-o-1]!==r)throw new Error("aes/pcks5: wrong padding");return i}function VI(t){const e=new Uint8Array(16),n=(0,We.u32)(e);e.set(t);const r=Ii-t.length;for(let i=Ii-r;i<Ii;i++)e[i]=r;return n}function $P(t,e,n,r,i){const o=i==null?0:i.length,a=t.create(n,r.length+o);i&&a.update(i),a.update(r);const s=new Uint8Array(16),l=(0,We.createView)(s);i&&(0,We.setBigUint64)(l,0,BigInt(8*o),e),(0,We.setBigUint64)(l,8,BigInt(8*r.length),e),a.update(s);const c=a.digest();return(0,We.clean)(s),c}$n.ctr=(0,We.wrapCipher)({blockSize:16,nonceLength:16},function(t,e){function n(r,i){if((0,en.bytes)(r),i!==void 0&&((0,en.bytes)(i),!(0,We.isAligned32)(i)))throw new Error("unaligned destination");const o=qo(t),a=(0,We.copyBytes)(e),s=[o,a];(0,We.isAligned32)(r)||s.push(r=(0,We.copyBytes)(r));const l=jP(o,a,r,i);return(0,We.clean)(...s),l}return(0,en.bytes)(t),(0,en.bytes)(e,Ii),{encrypt:(r,i)=>n(r,i),decrypt:(r,i)=>n(r,i)}}),$n.ecb=(0,We.wrapCipher)({blockSize:16},function(t,e={}){(0,en.bytes)(t);const n=!e.disablePadding;return{encrypt(r,i){const{b:o,o:a,out:s}=WI(r,n,i),l=qo(t);let c=0;for(;c+4<=o.length;){const{s0:u,s1:f,s2:p,s3:g}=ti(l,o[c+0],o[c+1],o[c+2],o[c+3]);a[c++]=u,a[c++]=f,a[c++]=p,a[c++]=g}if(n){const u=VI(r.subarray(4*c)),{s0:f,s1:p,s2:g,s3:m}=ti(l,u[0],u[1],u[2],u[3]);a[c++]=f,a[c++]=p,a[c++]=g,a[c++]=m}return(0,We.clean)(l),s},decrypt(r,i){HI(r);const o=$h(t),a=kd(r.length,i),s=[o];(0,We.isAligned32)(r)||s.push(r=(0,We.copyBytes)(r));const l=(0,We.u32)(r),c=(0,We.u32)(a);for(let u=0;u+4<=l.length;){const{s0:f,s1:p,s2:g,s3:m}=Fh(o,l[u+0],l[u+1],l[u+2],l[u+3]);c[u++]=f,c[u++]=p,c[u++]=g,c[u++]=m}return(0,We.clean)(...s),KI(a,n)}}}),$n.cbc=(0,We.wrapCipher)({blockSize:16,nonceLength:16},function(t,e,n={}){(0,en.bytes)(t),(0,en.bytes)(e,16);const r=!n.disablePadding;return{encrypt(i,o){const a=qo(t),{b:s,o:l,out:c}=WI(i,r,o);let u=e;const f=[a];(0,We.isAligned32)(u)||f.push(u=(0,We.copyBytes)(u));const p=(0,We.u32)(u);let g=p[0],m=p[1],v=p[2],_=p[3],w=0;for(;w+4<=s.length;)g^=s[w+0],m^=s[w+1],v^=s[w+2],_^=s[w+3],{s0:g,s1:m,s2:v,s3:_}=ti(a,g,m,v,_),l[w++]=g,l[w++]=m,l[w++]=v,l[w++]=_;if(r){const I=VI(i.subarray(4*w));g^=I[0],m^=I[1],v^=I[2],_^=I[3],{s0:g,s1:m,s2:v,s3:_}=ti(a,g,m,v,_),l[w++]=g,l[w++]=m,l[w++]=v,l[w++]=_}return(0,We.clean)(...f),c},decrypt(i,o){HI(i);const a=$h(t);let s=e;const l=[a];(0,We.isAligned32)(s)||l.push(s=(0,We.copyBytes)(s));const c=(0,We.u32)(s),u=kd(i.length,o);(0,We.isAligned32)(i)||l.push(i=(0,We.copyBytes)(i));const f=(0,We.u32)(i),p=(0,We.u32)(u);let g=c[0],m=c[1],v=c[2],_=c[3];for(let w=0;w+4<=f.length;){const I=g,k=m,$=v,L=_;g=f[w+0],m=f[w+1],v=f[w+2],_=f[w+3];const{s0:z,s1:H,s2:P,s3:D}=Fh(a,g,m,v,_);p[w++]=z^I,p[w++]=H^k,p[w++]=P^$,p[w++]=D^L}return(0,We.clean)(...l),KI(u,r)}}}),$n.cfb=(0,We.wrapCipher)({blockSize:16,nonceLength:16},function(t,e){function n(r,i,o){(0,en.bytes)(r);const a=r.length;o=kd(a,o);const s=qo(t);let l=e;const c=[s];(0,We.isAligned32)(l)||c.push(l=(0,We.copyBytes)(l)),(0,We.isAligned32)(r)||c.push(r=(0,We.copyBytes)(r));const u=(0,We.u32)(r),f=(0,We.u32)(o),p=i?f:u,g=(0,We.u32)(l);let m=g[0],v=g[1],_=g[2],w=g[3];for(let k=0;k+4<=u.length;){const{s0:$,s1:L,s2:z,s3:H}=ti(s,m,v,_,w);f[k+0]=u[k+0]^$,f[k+1]=u[k+1]^L,f[k+2]=u[k+2]^z,f[k+3]=u[k+3]^H,m=p[k++],v=p[k++],_=p[k++],w=p[k++]}const I=Ii*Math.floor(u.length/4);if(I<a){({s0:m,s1:v,s2:_,s3:w}=ti(s,m,v,_,w));const k=(0,We.u8)(new Uint32Array([m,v,_,w]));for(let $=I,L=0;$<a;$++,L++)o[$]=r[$]^k[L];(0,We.clean)(k)}return(0,We.clean)(...c),o}return(0,en.bytes)(t),(0,en.bytes)(e,16),{encrypt:(r,i)=>n(r,!0,i),decrypt:(r,i)=>n(r,!1,i)}}),$n.gcm=(0,We.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},function(t,e,n){if((0,en.bytes)(t),(0,en.bytes)(e),n!==void 0&&(0,en.bytes)(n),e.length<8)throw new Error("aes/gcm: invalid nonce length");const r=16;function i(a,s,l){const c=$P(wE.ghash,!1,a,l,n);for(let u=0;u<s.length;u++)c[u]^=s[u];return c}function o(){const a=qo(t),s=Ig.slice(),l=Ig.slice();if(bd(a,!1,l,l,s),e.length===12)l.set(e);else{const c=Ig.slice(),u=(0,We.createView)(c);(0,We.setBigUint64)(u,8,BigInt(8*e.length),!1);const f=wE.ghash.create(s).update(e).update(c);f.digestInto(l),f.destroy()}return{xk:a,authKey:s,counter:l,tagMask:bd(a,!1,l,Ig)}}return{encrypt(a){(0,en.bytes)(a);const{xk:s,authKey:l,counter:c,tagMask:u}=o(),f=new Uint8Array(a.length+r),p=[s,l,c,u];(0,We.isAligned32)(a)||p.push(a=(0,We.copyBytes)(a)),bd(s,!1,c,a,f);const g=i(l,u,f.subarray(0,f.length-r));return p.push(g),f.set(g,a.length),(0,We.clean)(...p),f},decrypt(a){if((0,en.bytes)(a),a.length<r)throw new Error("aes/gcm: ciphertext less than tagLen (16)");const{xk:s,authKey:l,counter:c,tagMask:u}=o(),f=[s,l,u,c];(0,We.isAligned32)(a)||f.push(a=(0,We.copyBytes)(a));const p=a.subarray(0,-16),g=a.subarray(-16),m=i(l,u,p);if(f.push(m),!(0,We.equalBytes)(m,g))throw new Error("aes/gcm: invalid ghash tag");const v=bd(s,!1,c,p);return(0,We.clean)(...f),v}}});const kg=(t,e,n)=>r=>{if(!Number.isSafeInteger(r)||e>r||r>n)throw new Error(`${t}: invalid value=${r}, must be [${e}..${n}]`)};function FP(t){return t!=null&&typeof t=="object"&&(t instanceof Uint32Array||t.constructor.name==="Uint32Array")}function UP(t,e){if((0,en.bytes)(e,16),!FP(t))throw new Error("_encryptBlock accepts result of expandKeyLE");const n=(0,We.u32)(e);let{s0:r,s1:i,s2:o,s3:a}=ti(t,n[0],n[1],n[2],n[3]);return n[0]=r,n[1]=i,n[2]=o,n[3]=a,e}function zP(t,e){if((0,en.bytes)(e,16),!FP(t))throw new Error("_decryptBlock accepts result of expandKeyLE");const n=(0,We.u32)(e);let{s0:r,s1:i,s2:o,s3:a}=Fh(t,n[0],n[1],n[2],n[3]);return n[0]=r,n[1]=i,n[2]=o,n[3]=a,e}$n.siv=(0,We.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},function(t,e,n){const r=kg("AAD",0,68719476736),i=kg("plaintext",0,2**36),o=kg("nonce",12,12),a=kg("ciphertext",16,2**36+16);function s(){const u=qo(t),f=new Uint8Array(t.length),p=new Uint8Array(16),g=[u,f];let m=e;(0,We.isAligned32)(m)||g.push(m=(0,We.copyBytes)(m));const v=(0,We.u32)(m);let _=0,w=v[0],I=v[1],k=v[2],$=0;for(const z of[p,f].map(We.u32)){const H=(0,We.u32)(z);for(let P=0;P<H.length;P+=2){const{s0:D,s1:B}=ti(u,_,w,I,k);H[P+0]=D,H[P+1]=B,_=++$}}const L={authKey:p,encKey:qo(f)};return(0,We.clean)(...g),L}function l(u,f,p){const g=$P(wE.polyval,!0,f,p,n);for(let k=0;k<12;k++)g[k]^=e[k];g[15]&=127;const m=(0,We.u32)(g);let v=m[0],_=m[1],w=m[2],I=m[3];return{s0:v,s1:_,s2:w,s3:I}=ti(u,v,_,w,I),m[0]=v,m[1]=_,m[2]=w,m[3]=I,g}function c(u,f,p){let g=(0,We.copyBytes)(f);g[15]|=128;const m=bd(u,!0,g,p);return(0,We.clean)(g),m}return(0,en.bytes)(t,16,24,32),(0,en.bytes)(e),o(e.length),n!==void 0&&((0,en.bytes)(n),r(n.length)),{encrypt(u){(0,en.bytes)(u),i(u.length);const{encKey:f,authKey:p}=s(),g=l(f,p,u),m=[f,p,g];(0,We.isAligned32)(u)||m.push(u=(0,We.copyBytes)(u));const v=new Uint8Array(u.length+16);return v.set(g,u.length),v.set(c(f,g,u)),(0,We.clean)(...m),v},decrypt(u){(0,en.bytes)(u),a(u.length);const f=u.subarray(-16),{encKey:p,authKey:g}=s(),m=[p,g];(0,We.isAligned32)(u)||m.push(u=(0,We.copyBytes)(u));const v=c(p,f,u.subarray(0,-16)),_=l(p,g,v);if(m.push(_),!(0,We.equalBytes)(f,_))throw(0,We.clean)(...m),new Error("invalid polyval tag");return(0,We.clean)(...m),v}}});const Xm={encrypt(t,e){if(e.length>=2**32)throw new Error("plaintext should be less than 4gb");const n=qo(t);if(e.length===16)UP(n,e);else{const r=(0,We.u32)(e);let i=r[0],o=r[1];for(let a=0,s=1;a<6;a++)for(let l=2;l<r.length;l+=2,s++){const{s0:c,s1:u,s2:f,s3:p}=ti(n,i,o,r[l],r[l+1]);i=c,o=u^Qm(s),r[l]=f,r[l+1]=p}r[0]=i,r[1]=o}n.fill(0)},decrypt(t,e){if(e.length-8>=2**32)throw new Error("ciphertext should be less than 4gb");const n=$h(t),r=e.length/8-1;if(r===1)zP(n,e);else{const i=(0,We.u32)(e);let o=i[0],a=i[1];for(let s=0,l=6*r;s<6;s++)for(let c=2*r;c>=1;c-=2,l--){a^=Qm(l);const{s0:u,s1:f,s2:p,s3:g}=Fh(n,o,a,i[c],i[c+1]);o=u,a=f,i[c]=p,i[c+1]=g}i[0]=o,i[1]=a}n.fill(0)}},GI=new Uint8Array(8).fill(166);$n.aeskw=(0,We.wrapCipher)({blockSize:8},t=>({encrypt(e){if((0,en.bytes)(e),!e.length||e.length%8!=0)throw new Error("invalid plaintext length");if(e.length===8)throw new Error("8-byte keys not allowed in AESKW, use AESKWP instead");const n=(0,We.concatBytes)(GI,e);return Xm.encrypt(t,n),n},decrypt(e){if((0,en.bytes)(e),e.length%8!=0||e.length<24)throw new Error("invalid ciphertext length");const n=(0,We.copyBytes)(e);if(Xm.decrypt(t,n),!(0,We.equalBytes)(n.subarray(0,8),GI))throw new Error("integrity check failed");return n.subarray(0,8).fill(0),n.subarray(8)}}));const YI=2790873510;$n.aeskwp=(0,We.wrapCipher)({blockSize:8},t=>({encrypt(e){if((0,en.bytes)(e),!e.length)throw new Error("invalid plaintext length");const n=8*Math.ceil(e.length/8),r=new Uint8Array(8+n);r.set(e,8);const i=(0,We.u32)(r);return i[0]=YI,i[1]=Qm(e.length),Xm.encrypt(t,r),r},decrypt(e){if((0,en.bytes)(e),e.length<16)throw new Error("invalid ciphertext length");const n=(0,We.copyBytes)(e),r=(0,We.u32)(n);Xm.decrypt(t,n);const i=Qm(r[1])>>>0,o=8*Math.ceil(i/8);if(r[0]!==YI||n.length-8!==o)throw new Error("integrity check failed");for(let a=i;a<o;a++)if(n[8+a]!==0)throw new Error("integrity check failed");return n.subarray(0,8).fill(0),n.subarray(8,8+i)}})),$n.unsafe={expandKeyLE:qo,expandKeyDecLE:$h,encrypt:ti,decrypt:Fh,encryptBlock:UP,decryptBlock:zP,ctrCounter:jP,ctr32:bd},Object.defineProperty(Id,"__esModule",{value:!0}),Id.aes256cbc=Id.aes256gcm=void 0;var qP=$n;Id.aes256gcm=function(t,e,n){return(0,qP.gcm)(t,e,n)};Id.aes256cbc=function(t,e,n){return(0,qP.cbc)(t,e)};var ev={},HP={},Ed={};Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.sigma=void 0,Ed.rotl=function(t,e){return t<<e|t>>>32-e},Ed.createCipher=function(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:o,rounds:a}=(0,co.checkOpts)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return(0,Zs.number)(i),(0,Zs.number)(a),(0,Zs.bool)(o),(0,Zs.bool)(n),(s,l,c,u,f=0)=>{(0,Zs.bytes)(s),(0,Zs.bytes)(l),(0,Zs.bytes)(c);const p=c.length;if(u===void 0&&(u=new Uint8Array(p)),(0,Zs.bytes)(u),(0,Zs.number)(f),f<0||f>=JI)throw new Error("arx: counter overflow");if(u.length<p)throw new Error(`arx: output (${u.length}) is shorter than data (${p})`);const g=[];let m,v,_=s.length;if(_===32)g.push(m=(0,co.copyBytes)(s)),v=KP;else{if(_!==16||!n)throw new Error(`arx: invalid 32-byte key, got length=${_}`);m=new Uint8Array(32),m.set(s),m.set(s,16),v=fG,g.push(m)}F3(l)||g.push(l=(0,co.copyBytes)(l));const w=(0,co.u32)(m);if(r){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(v,w,(0,co.u32)(l.subarray(0,16)),w),l=l.subarray(16)}const I=16-i;if(I!==l.length)throw new Error(`arx: nonce must be ${I} or 16 bytes`);if(I!==12){const $=new Uint8Array(12);$.set(l,o?0:12-l.length),l=$,g.push(l)}const k=(0,co.u32)(l);return function($,L,z,H,P,D,B,O){const y=P.length,E=new Uint8Array(Mg),S=(0,co.u32)(E),C=F3(P)&&F3(D),T=C?(0,co.u32)(P):ZI,j=C?(0,co.u32)(D):ZI;for(let A=0;A<y;B++){if($(L,z,H,S,B,O),B>=JI)throw new Error("arx: counter overflow");const M=Math.min(Mg,y-A);if(C&&M===Mg){const x=A/4;if(A%4!=0)throw new Error("arx: invalid block position");for(let R,F=0;F<hG;F++)R=x+F,j[R]=T[R]^S[F];A+=Mg}else{for(let x,R=0;R<M;R++)x=A+R,D[x]=P[x]^E[R];A+=M}}}(t,v,w,k,c,u,f,a),(0,co.clean)(...g),u}};const Zs=Ur,co=Wi,WP=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),uG=WP("expand 16-byte k"),dG=WP("expand 32-byte k"),fG=(0,co.u32)(uG),KP=(0,co.u32)(dG);function F3(t){return t.byteOffset%4==0}Ed.sigma=KP.slice();const Mg=64,hG=16,JI=2**32-1,ZI=new Uint32Array;var yh={};Object.defineProperty(yh,"__esModule",{value:!0}),yh.poly1305=void 0,yh.wrapConstructorWithKey=VP;const Og=Ur,ah=Wi,Er=(t,e)=>255&t[e++]|(255&t[e++])<<8;class pG{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=(0,ah.toBytes)(e),(0,Og.bytes)(e,32);const n=Er(e,0),r=Er(e,2),i=Er(e,4),o=Er(e,6),a=Er(e,8),s=Er(e,10),l=Er(e,12),c=Er(e,14);this.r[0]=8191&n,this.r[1]=8191&(n>>>13|r<<3),this.r[2]=7939&(r>>>10|i<<6),this.r[3]=8191&(i>>>7|o<<9),this.r[4]=255&(o>>>4|a<<12),this.r[5]=a>>>1&8190,this.r[6]=8191&(a>>>14|s<<2),this.r[7]=8065&(s>>>11|l<<5),this.r[8]=8191&(l>>>8|c<<8),this.r[9]=c>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Er(e,16+2*u)}process(e,n,r=!1){const i=r?0:2048,{h:o,r:a}=this,s=a[0],l=a[1],c=a[2],u=a[3],f=a[4],p=a[5],g=a[6],m=a[7],v=a[8],_=a[9],w=Er(e,n+0),I=Er(e,n+2),k=Er(e,n+4),$=Er(e,n+6),L=Er(e,n+8),z=Er(e,n+10),H=Er(e,n+12),P=Er(e,n+14);let D=o[0]+(8191&w),B=o[1]+(8191&(w>>>13|I<<3)),O=o[2]+(8191&(I>>>10|k<<6)),y=o[3]+(8191&(k>>>7|$<<9)),E=o[4]+(8191&($>>>4|L<<12)),S=o[5]+(L>>>1&8191),C=o[6]+(8191&(L>>>14|z<<2)),T=o[7]+(8191&(z>>>11|H<<5)),j=o[8]+(8191&(H>>>8|P<<8)),A=o[9]+(P>>>5|i),M=0,x=M+D*s+B*(5*_)+O*(5*v)+y*(5*m)+E*(5*g);M=x>>>13,x&=8191,x+=S*(5*p)+C*(5*f)+T*(5*u)+j*(5*c)+A*(5*l),M+=x>>>13,x&=8191;let R=M+D*l+B*s+O*(5*_)+y*(5*v)+E*(5*m);M=R>>>13,R&=8191,R+=S*(5*g)+C*(5*p)+T*(5*f)+j*(5*u)+A*(5*c),M+=R>>>13,R&=8191;let F=M+D*c+B*l+O*s+y*(5*_)+E*(5*v);M=F>>>13,F&=8191,F+=S*(5*m)+C*(5*g)+T*(5*p)+j*(5*f)+A*(5*u),M+=F>>>13,F&=8191;let U=M+D*u+B*c+O*l+y*s+E*(5*_);M=U>>>13,U&=8191,U+=S*(5*v)+C*(5*m)+T*(5*g)+j*(5*p)+A*(5*f),M+=U>>>13,U&=8191;let K=M+D*f+B*u+O*c+y*l+E*s;M=K>>>13,K&=8191,K+=S*(5*_)+C*(5*v)+T*(5*m)+j*(5*g)+A*(5*p),M+=K>>>13,K&=8191;let G=M+D*p+B*f+O*u+y*c+E*l;M=G>>>13,G&=8191,G+=S*s+C*(5*_)+T*(5*v)+j*(5*m)+A*(5*g),M+=G>>>13,G&=8191;let Q=M+D*g+B*p+O*f+y*u+E*c;M=Q>>>13,Q&=8191,Q+=S*l+C*s+T*(5*_)+j*(5*v)+A*(5*m),M+=Q>>>13,Q&=8191;let ne=M+D*m+B*g+O*p+y*f+E*u;M=ne>>>13,ne&=8191,ne+=S*c+C*l+T*s+j*(5*_)+A*(5*v),M+=ne>>>13,ne&=8191;let J=M+D*v+B*m+O*g+y*p+E*f;M=J>>>13,J&=8191,J+=S*u+C*c+T*l+j*s+A*(5*_),M+=J>>>13,J&=8191;let Z=M+D*_+B*v+O*m+y*g+E*p;M=Z>>>13,Z&=8191,Z+=S*f+C*u+T*c+j*l+A*s,M+=Z>>>13,Z&=8191,M=(M<<2)+M|0,M=M+x|0,x=8191&M,M>>>=13,R+=M,o[0]=x,o[1]=R,o[2]=F,o[3]=U,o[4]=K,o[5]=G,o[6]=Q,o[7]=ne,o[8]=J,o[9]=Z}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let s=2;s<10;s++)e[s]+=i,i=e[s]>>>13,e[s]&=8191;e[0]+=5*i,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let s=1;s<10;s++)r[s]=e[s]+i,i=r[s]>>>13,r[s]&=8191;r[9]-=8192;let o=(1^i)-1;for(let s=0;s<10;s++)r[s]&=o;o=~o;for(let s=0;s<10;s++)e[s]=e[s]&o|r[s];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let a=e[0]+n[0];e[0]=65535&a;for(let s=1;s<8;s++)a=(e[s]+n[s]|0)+(a>>>16)|0,e[s]=65535&a;(0,ah.clean)(r)}update(e){(0,Og.exists)(this);const{buffer:n,blockLen:r}=this,i=(e=(0,ah.toBytes)(e)).length;for(let o=0;o<i;){const a=Math.min(r-this.pos,i-o);if(a!==r)n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&&(this.process(n,0,!1),this.pos=0);else for(;r<=i-o;o+=r)this.process(e,o)}return this}destroy(){(0,ah.clean)(this.h,this.r,this.buffer,this.pad)}digestInto(e){(0,Og.exists)(this),(0,Og.output)(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let o=0;for(let a=0;a<8;a++)e[o++]=r[a]>>>0,e[o++]=r[a]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function VP(t){const e=(r,i)=>t(i).update((0,ah.toBytes)(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}yh.poly1305=VP(t=>new pG(t)),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.xchacha20poly1305=t.chacha20poly1305=t._poly1305_aead=t.chacha12=t.chacha8=t.xchacha20=t.chacha20=t.chacha20orig=void 0,t.hchacha=a;const e=Ed,n=Ur,r=yh,i=Wi;function o(f,p,g,m,v,_=20){let w=f[0],I=f[1],k=f[2],$=f[3],L=p[0],z=p[1],H=p[2],P=p[3],D=p[4],B=p[5],O=p[6],y=p[7],E=v,S=g[0],C=g[1],T=g[2],j=w,A=I,M=k,x=$,R=L,F=z,U=H,K=P,G=D,Q=B,ne=O,J=y,Z=E,ee=S,ie=C,se=T;for(let ae=0;ae<_;ae+=2)j=j+R|0,Z=(0,e.rotl)(Z^j,16),G=G+Z|0,R=(0,e.rotl)(R^G,12),j=j+R|0,Z=(0,e.rotl)(Z^j,8),G=G+Z|0,R=(0,e.rotl)(R^G,7),A=A+F|0,ee=(0,e.rotl)(ee^A,16),Q=Q+ee|0,F=(0,e.rotl)(F^Q,12),A=A+F|0,ee=(0,e.rotl)(ee^A,8),Q=Q+ee|0,F=(0,e.rotl)(F^Q,7),M=M+U|0,ie=(0,e.rotl)(ie^M,16),ne=ne+ie|0,U=(0,e.rotl)(U^ne,12),M=M+U|0,ie=(0,e.rotl)(ie^M,8),ne=ne+ie|0,U=(0,e.rotl)(U^ne,7),x=x+K|0,se=(0,e.rotl)(se^x,16),J=J+se|0,K=(0,e.rotl)(K^J,12),x=x+K|0,se=(0,e.rotl)(se^x,8),J=J+se|0,K=(0,e.rotl)(K^J,7),j=j+F|0,se=(0,e.rotl)(se^j,16),ne=ne+se|0,F=(0,e.rotl)(F^ne,12),j=j+F|0,se=(0,e.rotl)(se^j,8),ne=ne+se|0,F=(0,e.rotl)(F^ne,7),A=A+U|0,Z=(0,e.rotl)(Z^A,16),J=J+Z|0,U=(0,e.rotl)(U^J,12),A=A+U|0,Z=(0,e.rotl)(Z^A,8),J=J+Z|0,U=(0,e.rotl)(U^J,7),M=M+K|0,ee=(0,e.rotl)(ee^M,16),G=G+ee|0,K=(0,e.rotl)(K^G,12),M=M+K|0,ee=(0,e.rotl)(ee^M,8),G=G+ee|0,K=(0,e.rotl)(K^G,7),x=x+R|0,ie=(0,e.rotl)(ie^x,16),Q=Q+ie|0,R=(0,e.rotl)(R^Q,12),x=x+R|0,ie=(0,e.rotl)(ie^x,8),Q=Q+ie|0,R=(0,e.rotl)(R^Q,7);let X=0;m[X++]=w+j|0,m[X++]=I+A|0,m[X++]=k+M|0,m[X++]=$+x|0,m[X++]=L+R|0,m[X++]=z+F|0,m[X++]=H+U|0,m[X++]=P+K|0,m[X++]=D+G|0,m[X++]=B+Q|0,m[X++]=O+ne|0,m[X++]=y+J|0,m[X++]=E+Z|0,m[X++]=S+ee|0,m[X++]=C+ie|0,m[X++]=T+se|0}function a(f,p,g,m){let v=f[0],_=f[1],w=f[2],I=f[3],k=p[0],$=p[1],L=p[2],z=p[3],H=p[4],P=p[5],D=p[6],B=p[7],O=g[0],y=g[1],E=g[2],S=g[3];for(let T=0;T<20;T+=2)v=v+k|0,O=(0,e.rotl)(O^v,16),H=H+O|0,k=(0,e.rotl)(k^H,12),v=v+k|0,O=(0,e.rotl)(O^v,8),H=H+O|0,k=(0,e.rotl)(k^H,7),_=_+$|0,y=(0,e.rotl)(y^_,16),P=P+y|0,$=(0,e.rotl)($^P,12),_=_+$|0,y=(0,e.rotl)(y^_,8),P=P+y|0,$=(0,e.rotl)($^P,7),w=w+L|0,E=(0,e.rotl)(E^w,16),D=D+E|0,L=(0,e.rotl)(L^D,12),w=w+L|0,E=(0,e.rotl)(E^w,8),D=D+E|0,L=(0,e.rotl)(L^D,7),I=I+z|0,S=(0,e.rotl)(S^I,16),B=B+S|0,z=(0,e.rotl)(z^B,12),I=I+z|0,S=(0,e.rotl)(S^I,8),B=B+S|0,z=(0,e.rotl)(z^B,7),v=v+$|0,S=(0,e.rotl)(S^v,16),D=D+S|0,$=(0,e.rotl)($^D,12),v=v+$|0,S=(0,e.rotl)(S^v,8),D=D+S|0,$=(0,e.rotl)($^D,7),_=_+L|0,O=(0,e.rotl)(O^_,16),B=B+O|0,L=(0,e.rotl)(L^B,12),_=_+L|0,O=(0,e.rotl)(O^_,8),B=B+O|0,L=(0,e.rotl)(L^B,7),w=w+z|0,y=(0,e.rotl)(y^w,16),H=H+y|0,z=(0,e.rotl)(z^H,12),w=w+z|0,y=(0,e.rotl)(y^w,8),H=H+y|0,z=(0,e.rotl)(z^H,7),I=I+k|0,E=(0,e.rotl)(E^I,16),P=P+E|0,k=(0,e.rotl)(k^P,12),I=I+k|0,E=(0,e.rotl)(E^I,8),P=P+E|0,k=(0,e.rotl)(k^P,7);let C=0;m[C++]=v,m[C++]=_,m[C++]=w,m[C++]=I,m[C++]=O,m[C++]=y,m[C++]=E,m[C++]=S}t.chacha20orig=(0,e.createCipher)(o,{counterRight:!1,counterLength:8,allowShortKeys:!0}),t.chacha20=(0,e.createCipher)(o,{counterRight:!1,counterLength:4,allowShortKeys:!1}),t.xchacha20=(0,e.createCipher)(o,{counterRight:!1,counterLength:8,extendNonceFn:a,allowShortKeys:!1}),t.chacha8=(0,e.createCipher)(o,{counterRight:!1,counterLength:4,rounds:8}),t.chacha12=(0,e.createCipher)(o,{counterRight:!1,counterLength:4,rounds:12});const s=new Uint8Array(16),l=(f,p)=>{f.update(p);const g=p.length%16;g&&f.update(s.subarray(g))},c=new Uint8Array(32);function u(f,p,g,m,v){const _=f(p,g,c),w=r.poly1305.create(_);v&&l(w,v),l(w,m);const I=new Uint8Array(16),k=(0,i.createView)(I);(0,i.setBigUint64)(k,0,BigInt(v?v.length:0),!0),(0,i.setBigUint64)(k,8,BigInt(m.length),!0),w.update(I);const $=w.digest();return(0,i.clean)(_,I),$}t._poly1305_aead=f=>(p,g,m)=>((0,n.bytes)(p,32),(0,n.bytes)(g),{encrypt(_,w){const I=_.length,k=I+16;w?(0,n.bytes)(w,k):w=new Uint8Array(k),f(p,g,_,w,1);const $=u(f,p,g,w.subarray(0,-16),m);return w.set($,I),(0,i.clean)($),w},decrypt(_,w){const I=_.length,k=I-16;if(I<16)throw new Error("encrypted data must be at least 16 bytes");w?(0,n.bytes)(w,k):w=new Uint8Array(k);const $=_.subarray(0,-16),L=_.subarray(-16),z=u(f,p,g,$,m);if(!(0,i.equalBytes)(L,z))throw new Error("invalid tag");return f(p,g,$,w,1),(0,i.clean)(z),w}}),t.chacha20poly1305=(0,i.wrapCipher)({blockSize:64,nonceLength:12,tagLength:16},(0,t._poly1305_aead)(t.chacha20)),t.xchacha20poly1305=(0,i.wrapCipher)({blockSize:64,nonceLength:24,tagLength:16},(0,t._poly1305_aead)(t.xchacha20))}(HP),Object.defineProperty(ev,"__esModule",{value:!0}),ev.xchacha20=void 0;var id,QI,Zf,gG=HP;ev.xchacha20=function(t,e,n){return(0,gG.xchacha20poly1305)(t,e,n)},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.aesDecrypt=t.aesEncrypt=t.symDecrypt=t.symEncrypt=void 0;var e=Wi,n=u_,r=Id,i=ev,o=Bh,a=fr;t.symEncrypt=function(u,f,p){return s(l,u,f,p)};function s(u,f,p,g){var m=(0,o.symmetricAlgorithm)();if(m==="aes-256-gcm")return u(r.aes256gcm,f,p,(0,o.symmetricNonceLength)(),a.AEAD_TAG_LENGTH,g);if(m==="xchacha20")return u(i.xchacha20,f,p,a.XCHACHA20_NONCE_LENGTH,a.AEAD_TAG_LENGTH,g);if(m==="aes-256-cbc")return u(r.aes256cbc,f,p,16,0);throw new Error("Not implemented")}function l(u,f,p,g,m,v){var _=(0,n.randomBytes)(g),w=u(f,_,v).encrypt(p);if(m===0)return(0,e.concatBytes)(_,w);var I=w.length-m,k=w.subarray(0,I),$=w.subarray(I);return(0,e.concatBytes)(_,$,k)}function c(u,f,p,g,m,v){var _=p.subarray(0,g),w=u(f,Uint8Array.from(_),v),I=p.subarray(g);if(m===0)return w.decrypt(I);var k=I.subarray(0,m),$=I.subarray(m);return w.decrypt((0,e.concatBytes)($,k))}t.symDecrypt=function(u,f,p){return s(c,u,f,p)},t.aesEncrypt=t.symEncrypt,t.aesDecrypt=t.symDecrypt}(zI),id=sy,QI=wo&&wo.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Zf=wo&&wo.__exportStar||function(t,e){for(var n in t)n==="default"||Object.prototype.hasOwnProperty.call(e,n)||QI(e,t,n)},Object.defineProperty(id,"__esModule",{value:!0}),Zf(YT,id),Zf(OP,id),Zf(vE,id),Zf(zI,id);var Uh={};Object.defineProperty(Uh,"__esModule",{value:!0}),Uh.PublicKey=void 0;var XI=Wi,Rg=sy,mG=function(){function t(e){this.data=(0,Rg.convertPublicKeyFormat)(e,!0)}return t.fromHex=function(e){return new t((0,Rg.hexToPublicKey)(e))},Object.defineProperty(t.prototype,"uncompressed",{get:function(){return je.from((0,Rg.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"compressed",{get:function(){return je.from(this.data)},enumerable:!1,configurable:!0}),t.prototype.toHex=function(e){return e===void 0&&(e=!0),(0,XI.bytesToHex)(e?this.data:this.uncompressed)},t.prototype.decapsulate=function(e,n){n===void 0&&(n=!1);var r=n?this.data:this.uncompressed,i=e.multiply(this,n);return(0,Rg.getSharedKey)(r,i)},t.prototype.equals=function(e){return(0,XI.equalBytes)(this.data,e.data)},t}();Uh.PublicKey=mG,Object.defineProperty(Gm,"__esModule",{value:!0}),Gm.PrivateKey=void 0;var ek=Wi,od=sy,vG=Uh,yG=function(){function t(e){if(e===void 0)this.data=(0,od.getValidSecret)();else{if(!(0,od.isValidPrivateKey)(e))throw new Error("Invalid private key");this.data=e}this.publicKey=new vG.PublicKey((0,od.getPublicKey)(this.data))}return t.fromHex=function(e){return new t((0,od.decodeHex)(e))},Object.defineProperty(t.prototype,"secret",{get:function(){return je.from(this.data)},enumerable:!1,configurable:!0}),t.prototype.toHex=function(){return(0,ek.bytesToHex)(this.data)},t.prototype.encapsulate=function(e,n){n===void 0&&(n=!1);var r=n?this.publicKey.compressed:this.publicKey.uncompressed,i=this.multiply(e,n);return(0,od.getSharedKey)(r,i)},t.prototype.multiply=function(e,n){return n===void 0&&(n=!1),(0,od.getSharedPoint)(this.data,e.compressed,n)},t.prototype.equals=function(e){return(0,ek.equalBytes)(this.data,e.data)},t}();Gm.PrivateKey=yG,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PublicKey=t.PrivateKey=void 0;var e=Gm;Object.defineProperty(t,"PrivateKey",{enumerable:!0,get:function(){return e.PrivateKey}});var n=Uh;Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return n.PublicKey}})}(C3),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.PublicKey=t.PrivateKey=t.ECIES_CONFIG=void 0,t.encrypt=function(s,l){var c=new r.PrivateKey,u=s instanceof Uint8Array?new r.PublicKey(s):r.PublicKey.fromHex(s),f=c.encapsulate(u,(0,n.isHkdfKeyCompressed)()),p=(0,n.isEphemeralKeyCompressed)()?c.publicKey.compressed:c.publicKey.uncompressed,g=(0,i.symEncrypt)(f,l);return je.from((0,e.concatBytes)(p,g))},t.decrypt=function(s,l){var c=s instanceof Uint8Array?new r.PrivateKey(s):r.PrivateKey.fromHex(s),u=(0,n.ephemeralKeySize)(),f=new r.PublicKey(l.subarray(0,u)),p=l.subarray(u),g=f.decapsulate(c,(0,n.isHkdfKeyCompressed)());return je.from((0,i.symDecrypt)(g,p))};var e=Wi,n=Bh,r=C3,i=sy,o=Bh;Object.defineProperty(t,"ECIES_CONFIG",{enumerable:!0,get:function(){return o.ECIES_CONFIG}});var a=C3;Object.defineProperty(t,"PrivateKey",{enumerable:!0,get:function(){return a.PrivateKey}}),Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return a.PublicKey}}),t.utils={aesEncrypt:i.aesEncrypt,aesDecrypt:i.aesDecrypt,symEncrypt:i.symEncrypt,symDecrypt:i.symDecrypt,decodeHex:i.decodeHex,getValidSecret:i.getValidSecret,remove0x:i.remove0x}}(hd);const GP=ni("KeyExchange:Layer"),YP=ni("SocketService:Layer"),JP=ni("Ecies:Layer"),ZP=ni("RemoteCommunication:Layer");GP.color="##95c44e",YP.color="#f638d7",JP.color="#465b9c",ZP.color="#47a2be";const Te={KeyExchange:GP,SocketService:YP,Ecies:JP,RemoteCommunication:ZP};let Qf,Tg=[],U3=[];const Ia=(t,e)=>Be(void 0,void 0,void 0,function*(){Qf=e,U3.push(t),function(n){return Be(this,void 0,void 0,function*(){if(!Qf||!n)return;(function(){const a=U3;U3=Tg,Tg=a})();const r=Qf.endsWith("/")?`${Qf}evt`:`${Qf}/evt`,i=Object.assign({},n);if(delete i.params,n.params)for(const[a,s]of Object.entries(n.params))i[a]=s;const o=JSON.stringify(i);Te.RemoteCommunication(`[sendBufferedEvents] Sending ${Tg.length} analytics events to ${r}`);try{const a=yield TT(r,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:o}),s=yield a.text();Te.RemoteCommunication(`[sendBufferedEvents] Response: ${s}`),Tg.length=0}catch{}})}(t).catch(()=>{})});class z3{constructor(e){this.enabled=!0,e!=null&&e.debug&&ni.enable("Ecies:Layer"),this.ecies=e!=null&&e.privateKey?hd.PrivateKey.fromHex(e.privateKey):new hd.PrivateKey,Te.Ecies("[ECIES constructor()] initialized secret: ",this.ecies.toHex()),Te.Ecies("[ECIES constructor()] initialized public: ",this.ecies.publicKey.toHex()),Te.Ecies("[ECIES constructor()] init with",this)}generateECIES(){this.ecies=new hd.PrivateKey}getPublicKey(){return this.ecies.publicKey.toHex()}encrypt(e,n){let r=e;if(this.enabled)try{Te.Ecies("[ECIES: encrypt()] using otherPublicKey",n);const i=je.from(e),o=hd.encrypt(n,i);r=je.from(o).toString("base64")}catch(i){throw Te.Ecies("[ECIES: encrypt()] error encrypt:",i),Te.Ecies("[ECIES: encrypt()] private: ",this.ecies.toHex()),Te.Ecies("[ECIES: encrypt()] data: ",e),Te.Ecies("[ECIES: encrypt()] otherkey: ",n),i}return r}decrypt(e){let n=e;if(this.enabled)try{Te.Ecies("[ECIES: decrypt()] using privateKey",this.ecies.toHex());const r=je.from(e.toString(),"base64");n=hd.decrypt(this.ecies.toHex(),r).toString()}catch(r){throw Te.Ecies("[ECIES: decrypt()] error decrypt",r),Te.Ecies("[ECIES: decrypt()] private: ",this.ecies.toHex()),Te.Ecies("[ECIES: decrypt()] encryptedData: ",e),r}return n}getKeyInfo(){return{private:this.ecies.toHex(),public:this.ecies.publicKey.toHex()}}toString(){Te.Ecies("[ECIES: toString()]",this.getKeyInfo())}}var Kl={version:"0.33.0"};const Wd="https://metamask-sdk.api.cx.metamask.io/",wG=["websocket"],Kd=6048e5,bG=3e3,Br={METAMASK_CONNECTSIGN:"metamask_connectSign",METAMASK_CONNECTWITH:"metamask_connectWith",METAMASK_OPEN:"metamask_open",METAMASK_BATCH:"metamask_batch",PERSONAL_SIGN:"personal_sign",WALLET_REQUESTPERMISSIONS:"wallet_requestPermissions",WALLET_REVOKEPERMISSIONS:"wallet_revokePermissions",WALLET_WATCHASSET:"wallet_watchAsset",ETH_REQUESTACCOUNTS:"eth_requestAccounts",ETH_SENDTRANSACTION:"eth_sendTransaction",ETH_SIGNTYPEDDATA:"eth_signTypedData",ETH_SIGNTYPEDDATA_V3:"eth_signTypedData_v3",ETH_SIGNTYPEDDATA_V4:"eth_signTypedData_v4",ETH_SIGNTRANSACTION:"eth_signTransaction",ETH_SIGN:"eth_sign",PERSONAL_EC_RECOVER:"personal_ecRecover"},EG=[Br.METAMASK_CONNECTSIGN,Br.METAMASK_CONNECTWITH,Br.METAMASK_OPEN,Br.METAMASK_BATCH,Br.PERSONAL_SIGN,Br.WALLET_REQUESTPERMISSIONS,Br.WALLET_REVOKEPERMISSIONS,Br.WALLET_WATCHASSET,Br.ETH_SENDTRANSACTION,Br.ETH_SIGNTYPEDDATA,Br.ETH_SIGNTYPEDDATA_V3,Br.ETH_SIGNTYPEDDATA_V4,Br.ETH_SIGNTRANSACTION,Br.ETH_SIGN,Br.PERSONAL_EC_RECOVER];function Lp(t){return EG.includes(t)}function QP(t){const{context:e}=t;Te.RemoteCommunication(`[RemoteCommunication: clean()] context=${e}`),t.channelConfig=void 0,t.ready=!1,t.originatorConnectStarted=!1}var Ar,Ge,tv,an,Nn,Jn,sd;(sd=Ar||(Ar={})).DISCONNECTED="disconnected",sd.WAITING="waiting",sd.TIMEOUT="timeout",sd.LINKED="linked",sd.PAUSED="paused",sd.TERMINATED="terminated",function(t){t.KEY_INFO="key_info",t.SERVICE_STATUS="service_status",t.PROVIDER_UPDATE="provider_update",t.RPC_UPDATE="rpc_update",t.KEYS_EXCHANGED="keys_exchanged",t.JOIN_CHANNEL="join_channel",t.PUBLIC_KEY="public_key",t.CHANNEL_CREATED="channel_created",t.CLIENTS_CONNECTED="clients_connected",t.CLIENTS_DISCONNECTED="clients_disconnected",t.CLIENTS_WAITING="clients_waiting",t.CLIENTS_READY="clients_ready",t.REJECTED="rejected",t.WALLET_INIT="wallet_init",t.CHANNEL_PERSISTENCE="channel_persistence",t.CONFIG="config",t.MESSAGE_ACK="ack",t.SOCKET_DISCONNECTED="socket_disconnected",t.SOCKET_RECONNECT="socket_reconnect",t.OTP="otp",t.SDK_RPC_CALL="sdk_rpc_call",t.AUTHORIZED="authorized",t.CONNECTION_STATUS="connection_status",t.MESSAGE="message",t.TERMINATE="terminate"}(Ge||(Ge={})),(tv||(tv={})).KEY_EXCHANGE="key_exchange",function(t){t.KEY_HANDSHAKE_START="key_handshake_start",t.KEY_HANDSHAKE_CHECK="key_handshake_check",t.KEY_HANDSHAKE_SYN="key_handshake_SYN",t.KEY_HANDSHAKE_SYNACK="key_handshake_SYNACK",t.KEY_HANDSHAKE_ACK="key_handshake_ACK",t.KEY_HANDSHAKE_WALLET="key_handshake_wallet",t.KEY_HANDSHAKE_NONE="none"}(an||(an={}));class xG extends ry.EventEmitter2{constructor({communicationLayer:e,otherPublicKey:n,context:r,ecies:i,logging:o}){super(),this.keysExchanged=!1,this.step=an.KEY_HANDSHAKE_NONE,this.debug=!1,this.context=r,this.communicationLayer=e,i!=null&&i.privateKey&&n&&(Te.KeyExchange(`[KeyExchange: constructor()] otherPubKey=${n} set keysExchanged to true!`,i),this.keysExchanged=!0),this.myECIES=new z3(Object.assign(Object.assign({},i),{debug:o==null?void 0:o.eciesLayer})),this.communicationLayer.state.eciesInstance=this.myECIES,this.myPublicKey=this.myECIES.getPublicKey(),this.debug=(o==null?void 0:o.keyExchangeLayer)===!0,n&&this.setOtherPublicKey(n),this.communicationLayer.on(tv.KEY_EXCHANGE,this.onKeyExchangeMessage.bind(this))}onKeyExchangeMessage(e){const{relayPersistence:n}=this.communicationLayer.remote.state;if(Te.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} keysExchanged=${this.keysExchanged} relayPersistence=${n}`,e),n)return void Te.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Ignoring key exchange message because relay persistence is activated");const{message:r}=e;this.keysExchanged&&Te.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} received handshake while already exchanged. step=${this.step} otherPubKey=${this.otherPublicKey}`),this.emit(Ge.KEY_INFO,r.type),r.type===an.KEY_HANDSHAKE_SYN?(this.checkStep([an.KEY_HANDSHAKE_NONE,an.KEY_HANDSHAKE_ACK]),Te.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYN",r),r.pubkey&&this.setOtherPublicKey(r.pubkey),this.communicationLayer.sendMessage({type:an.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey}).catch(i=>{Te.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_SYNACK",i)}),this.setStep(an.KEY_HANDSHAKE_ACK)):r.type===an.KEY_HANDSHAKE_SYNACK?(this.checkStep([an.KEY_HANDSHAKE_SYNACK,an.KEY_HANDSHAKE_ACK,an.KEY_HANDSHAKE_NONE]),Te.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYNACK"),r.pubkey&&this.setOtherPublicKey(r.pubkey),this.communicationLayer.sendMessage({type:an.KEY_HANDSHAKE_ACK}).catch(i=>{Te.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_ACK",i)}),this.keysExchanged=!0,this.setStep(an.KEY_HANDSHAKE_ACK),this.emit(Ge.KEYS_EXCHANGED)):r.type===an.KEY_HANDSHAKE_ACK&&(Te.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_ACK set keysExchanged to true!"),this.checkStep([an.KEY_HANDSHAKE_ACK,an.KEY_HANDSHAKE_NONE]),this.keysExchanged=!0,this.setStep(an.KEY_HANDSHAKE_ACK),this.emit(Ge.KEYS_EXCHANGED))}resetKeys(e){this.clean(),this.myECIES=new z3(e)}clean(){Te.KeyExchange(`[KeyExchange: clean()] context=${this.context} reset handshake state`),this.setStep(an.KEY_HANDSHAKE_NONE),this.emit(Ge.KEY_INFO,this.step),this.keysExchanged=!1}start({isOriginator:e,force:n}){const{relayPersistence:r,protocolVersion:i}=this.communicationLayer.remote.state,o=i>=2;r?Te.KeyExchange("[KeyExchange: start()] Ignoring key exchange message because relay persistence is activated"):(Te.KeyExchange(`[KeyExchange: start()] context=${this.context} protocolVersion=${i} isOriginator=${e} step=${this.step} force=${n} relayPersistence=${r} keysExchanged=${this.keysExchanged}`),e?!(this.keysExchanged||this.step!==an.KEY_HANDSHAKE_NONE&&this.step!==an.KEY_HANDSHAKE_SYNACK)||n?(Te.KeyExchange(`[KeyExchange: start()] context=${this.context} -- start key exchange (force=${n}) -- step=${this.step}`,this.step),this.clean(),this.setStep(an.KEY_HANDSHAKE_SYNACK),this.communicationLayer.sendMessage({type:an.KEY_HANDSHAKE_SYN,pubkey:this.myPublicKey,v:2}).catch(a=>{Te.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYN",a)})):Te.KeyExchange(`[KeyExchange: start()] context=${this.context} -- key exchange already ${this.keysExchanged?"done":"in progress"} -- aborted.`,this.step):this.keysExchanged&&n!==!0?Te.KeyExchange("[KeyExchange: start()] don't send KEY_HANDSHAKE_START -- exchange already done."):o?this.communicationLayer.sendMessage({type:an.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey,v:2}).catch(a=>{Te.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYNACK",a)}):(this.communicationLayer.sendMessage({type:an.KEY_HANDSHAKE_START}).catch(a=>{Te.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_START",a)}),this.clean()))}setStep(e){this.step=e,this.emit(Ge.KEY_INFO,e)}checkStep(e){e.length>0&&e.indexOf(this.step.toString())}setRelayPersistence({localKey:e,otherKey:n}){this.otherPublicKey=n,this.myECIES=new z3({privateKey:e,debug:this.debug}),this.keysExchanged=!0}setKeysExchanged(e){this.keysExchanged=e}areKeysExchanged(){return this.keysExchanged}getMyPublicKey(){return this.myPublicKey}getOtherPublicKey(){return this.otherPublicKey}setOtherPublicKey(e){Te.KeyExchange("[KeyExchange: setOtherPubKey()]",e),this.otherPublicKey=e}encryptMessage(e){if(!this.otherPublicKey)throw new Error("encryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.encrypt(e,this.otherPublicKey)}decryptMessage(e){if(!this.otherPublicKey)throw new Error("decryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.decrypt(e)}getKeyInfo(){return{ecies:Object.assign(Object.assign({},this.myECIES.getKeyInfo()),{otherPubKey:this.otherPublicKey}),step:this.step,keysExchanged:this.areKeysExchanged()}}toString(){const e={keyInfo:this.getKeyInfo(),keysExchanged:this.keysExchanged,step:this.step};return JSON.stringify(e)}}(function(t){t.TERMINATE="terminate",t.ANSWER="answer",t.OFFER="offer",t.CANDIDATE="candidate",t.JSONRPC="jsonrpc",t.WALLET_INFO="wallet_info",t.WALLET_INIT="wallet_init",t.ORIGINATOR_INFO="originator_info",t.PAUSE="pause",t.OTP="otp",t.AUTHORIZED="authorized",t.PING="ping",t.READY="ready"})(Nn||(Nn={})),function(t){t.REQUEST="sdk_connect_request_started",t.REQUEST_MOBILE="sdk_connect_request_started_mobile",t.RECONNECT="sdk_reconnect_request_started",t.CONNECTED="sdk_connection_established",t.CONNECTED_MOBILE="sdk_connection_established_mobile",t.AUTHORIZED="sdk_connection_authorized",t.REJECTED="sdk_connection_rejected",t.TERMINATED="sdk_connection_terminated",t.DISCONNECTED="sdk_disconnected",t.SDK_USE_EXTENSION="sdk_use_extension",t.SDK_RPC_REQUEST="sdk_rpc_request",t.SDK_RPC_REQUEST_RECEIVED="sdk_rpc_request_received",t.SDK_RPC_REQUEST_DONE="sdk_rpc_request_done",t.SDK_EXTENSION_UTILIZED="sdk_extension_utilized",t.SDK_USE_INAPP_BROWSER="sdk_use_inapp_browser"}(Jn||(Jn={}));const mm=(t,e,n)=>Be(void 0,void 0,void 0,function*(){var r,i,o,a,s,l;const{remote:c,state:u}=t,{channelId:f,isOriginator:p}=u;if(e==="error_terminated")return Te.SocketService(`handleJoinChannelResults: Channel ${f} terminated`),void t.emit(Ge.TERMINATE);if(!n)return void Te.SocketService(`handleJoinChannelResults: No result for channel ${f}`);const{persistence:g,walletKey:m,rejected:v}=n;if(Te.SocketService(`handleJoinChannelResults: Channel ${f} persistence=${g} walletKey=${m} rejected=${v}`),v)return Te.SocketService(`handleJoinChannelResults: Channel ${f} rejected`),yield t.remote.disconnect({terminate:!0}),t.remote.emit(Ge.REJECTED,{channelId:f}),void t.remote.emitServiceStatusEvent();if(m&&!(!((r=c.state.channelConfig)===null||r===void 0)&&r.otherKey)){t.getKeyExchange().setOtherPublicKey(m),(i=t.state.keyExchange)===null||i===void 0||i.setKeysExchanged(!0),c.state.ready=!0,c.state.authorized=!0,c.emit(Ge.AUTHORIZED);const{communicationLayer:_,storageManager:w}=c.state,I=Object.assign(Object.assign({},c.state.channelConfig),{channelId:(o=c.state.channelId)!==null&&o!==void 0?o:"",validUntil:Date.now()+Kd,localKey:_==null?void 0:_.getKeyInfo().ecies.private,otherKey:m});t.sendMessage({type:an.KEY_HANDSHAKE_ACK}).catch(k=>{}),(a=t.state.socket)===null||a===void 0||a.emit(Nn.PING,{id:f,clientType:p?"dapp":"wallet",context:"on_channel_reconnect",message:""}),yield w==null?void 0:w.persistChannelConfig(I),c.emitServiceStatusEvent(),c.setConnectionStatus(Ar.LINKED)}g&&(t.emit(Ge.CHANNEL_PERSISTENCE),(s=t.state.keyExchange)===null||s===void 0||s.setKeysExchanged(!0),c.state.ready=!0,c.state.authorized=!0,c.emit(Ge.AUTHORIZED),Ia(Object.assign(Object.assign({id:f??"",event:p?Jn.CONNECTED:Jn.CONNECTED_MOBILE},t.remote.state.originatorInfo),{sdkVersion:t.remote.state.sdkVersion,commLayer:t.state.communicationLayerPreference,commLayerVersion:Kl.version,walletVersion:(l=t.remote.state.walletInfo)===null||l===void 0?void 0:l.version}),u.communicationServerUrl).catch(_=>{}))}),Md=t=>new Promise(e=>{setTimeout(e,t)}),tk=(t,e,...n)=>Be(void 0,[t,e,...n],void 0,function*(r,i,o=200){let a;const s=Date.now();let l=!1;for(;!l;){if(l=Date.now()-s>3e5,a=i[r],a.elapsedTime!==void 0)return a;yield Md(o)}throw new Error(`RPC ${r} timed out`)}),EE=t=>Be(void 0,void 0,void 0,function*(){const{state:e}=t,{socket:n,channelId:r,context:i,isOriginator:o,isReconnecting:a}=e;if(a)return Te.SocketService("[SocketService: reconnectSocket()] Reconnection already in progress, skipping",t),!1;if(!n)return Te.SocketService("[SocketService: reconnectSocket()] socket is not defined",t),!1;if(!r)return!1;const{connected:s}=n;e.isReconnecting=!0,e.reconnectionAttempts=0,Te.SocketService(`[SocketService: reconnectSocket()] connected=${s} trying to reconnect after socketio disconnection`,t);try{for(;3>e.reconnectionAttempts;){if(Te.SocketService(`[SocketService: reconnectSocket()] Attempt ${e.reconnectionAttempts+1} of 3`,t),yield Md(200),n.connected)return Te.SocketService("Socket already connected --- ping to retrieve messages"),n.emit(Nn.PING,{id:r,clientType:o?"dapp":"wallet",context:"on_channel_config",message:""}),!0;e.resumed=!0,n.connect(),t.emit(Ge.SOCKET_RECONNECT);try{if(yield new Promise((l,c)=>{n.emit(Ge.JOIN_CHANNEL,{channelId:r,context:`${i}connect_again`,clientType:o?"dapp":"wallet"},(u,f)=>Be(void 0,void 0,void 0,function*(){try{yield mm(t,u,f),l()}catch(p){c(p)}}))}),yield Md(100),n.connected)return Te.SocketService(`Reconnection successful on attempt ${e.reconnectionAttempts+1}`),!0}catch(l){Te.SocketService(`Error during reconnection attempt ${e.reconnectionAttempts+1}:`,l)}e.reconnectionAttempts+=1,3>e.reconnectionAttempts&&(yield Md(200))}return Te.SocketService("Failed to reconnect after 3 attempts"),!1}finally{e.isReconnecting=!1,e.reconnectionAttempts=0}});function XP(t,e){return Be(this,void 0,void 0,function*(){var n;const r=(n=t.state.keyExchange)===null||n===void 0?void 0:n.encryptMessage(JSON.stringify(e)),i={id:t.state.channelId,context:t.state.context,clientType:t.state.isOriginator?"dapp":"wallet",message:r,plaintext:t.state.hasPlaintext?JSON.stringify(e):void 0};return Te.SocketService(`[SocketService: encryptAndSendMessage()] context=${t.state.context}`,i),e.type===Nn.TERMINATE&&(t.state.manualDisconnect=!0),new Promise((o,a)=>{var s;(s=t.state.socket)===null||s===void 0||s.emit(Ge.MESSAGE,i,(l,c)=>{var u;l&&(Te.SocketService(`[SocketService: encryptAndSendMessage()] error=${l}`),a(l)),Te.SocketService("[encryptAndSendMessage] response",c),o((u=c==null?void 0:c.success)!==null&&u!==void 0&&u)})})})}var xd;(function(t){t.RPC_CHECK="rpcCheck",t.SKIPPED_RPC="skippedRpc"})(xd||(xd={}));const e9=["eth_sendTransaction","eth_signTypedData","eth_signTransaction","personal_sign","wallet_requestPermissions","wallet_switchEthereumChain","eth_signTypedData_v3","eth_signTypedData_v4","metamask_connectSign","metamask_connectWith","metamask_batch"].map(t=>t.toLowerCase()),_G=[{event:Ge.CLIENTS_CONNECTED,handler:function(t,e){return n=>Be(this,void 0,void 0,function*(){var r,i,o,a,s,l,c,u,f,p,g;const m=(i=(r=t.remote.state.channelConfig)===null||r===void 0?void 0:r.relayPersistence)!==null&&i!==void 0&&i;if(Te.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected-${e}' relayPersistence=${m} resumed=${t.state.resumed}  clientsPaused=${t.state.clientsPaused} keysExchanged=${(o=t.state.keyExchange)===null||o===void 0?void 0:o.areKeysExchanged()} isOriginator=${t.state.isOriginator}`),t.emit(Ge.CLIENTS_CONNECTED,{isOriginator:t.state.isOriginator,keysExchanged:(a=t.state.keyExchange)===null||a===void 0?void 0:a.areKeysExchanged(),context:t.state.context}),t.state.resumed)t.state.isOriginator||(Te.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} 'clients_connected' / keysExchanged=${(s=t.state.keyExchange)===null||s===void 0?void 0:s.areKeysExchanged()} -- backward compatibility`),(l=t.state.keyExchange)===null||l===void 0||l.start({isOriginator:(c=t.state.isOriginator)!==null&&c!==void 0&&c})),t.state.resumed=!1;else if(t.state.clientsPaused)Te.SocketService("[SocketService: handleClientsConnected()] 'clients_connected' skip sending originatorInfo on pause");else if(!t.state.isOriginator){const v=!m;Te.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected' / keysExchanged=${(u=t.state.keyExchange)===null||u===void 0?void 0:u.areKeysExchanged()} -- force=${v} -- backward compatibility`),Te.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected' / keysExchanged=${(f=t.state.keyExchange)===null||f===void 0?void 0:f.areKeysExchanged()} -- force=${v} -- backward compatibility`),(p=t.state.keyExchange)===null||p===void 0||p.start({isOriginator:(g=t.state.isOriginator)!==null&&g!==void 0&&g,force:v})}t.state.clientsConnected=!0,t.state.clientsPaused=!1})}},{event:Ge.CHANNEL_CREATED,handler:function(t,e){return n=>{Te.SocketService(`[SocketService: handleChannelCreated()] context=${t.state.context} on 'channel_created-${e}'`,n),t.emit(Ge.CHANNEL_CREATED,n)}}},{event:Ge.CLIENTS_DISCONNECTED,handler:function(t,e){return()=>{var n;t.state.clientsConnected=!1,Te.SocketService(`[SocketService: handlesClientsDisconnected()] context=${t.state.context} on 'clients_disconnected-${e}'`),t.remote.state.relayPersistence?Te.SocketService(`[SocketService: handlesClientsDisconnected()] context=${t.state.context} on 'clients_disconnected-${e}' - relayPersistence enabled, skipping key exchange cleanup.`):(t.state.isOriginator&&!t.state.clientsPaused&&((n=t.state.keyExchange)===null||n===void 0||n.clean()),t.emit(Ge.CLIENTS_DISCONNECTED,e))}}},{event:Ge.CONFIG,handler:function(t,e){return n=>Be(this,void 0,void 0,function*(){var r,i,o;Te.SocketService(`[SocketService: handleChannelConfig()] update relayPersistence on 'config-${e}'`,n);const{persistence:a,walletKey:s}=n;t.state.isOriginator&&t.remote.state.channelConfig?(n.walletKey&&!t.remote.state.channelConfig.otherKey&&(Te.SocketService(`Setting wallet key ${s}`),t.remote.state.channelConfig.otherKey=s,t.getKeyExchange().setOtherPublicKey(n.walletKey),(r=t.state.keyExchange)===null||r===void 0||r.setKeysExchanged(!0),yield t.remote.sendMessage({type:an.KEY_HANDSHAKE_ACK}),yield t.remote.sendMessage({type:Nn.PING}),yield(i=t.remote.state.storageManager)===null||i===void 0?void 0:i.persistChannelConfig(t.remote.state.channelConfig)),a!==!0||t.remote.state.channelConfig.relayPersistence||(Te.SocketService(`Setting relay persistence ${a}`),t.remote.state.channelConfig.relayPersistence=a,t.remote.state.relayPersistence=!0,t.remote.emit(Ge.CHANNEL_PERSISTENCE),t.remote.state.authorized=!0,t.remote.state.ready=!0,t.remote.emit(Ge.AUTHORIZED),yield(o=t.remote.state.storageManager)===null||o===void 0?void 0:o.persistChannelConfig(t.remote.state.channelConfig))):t.state.isOriginator||n.persistence&&(t.remote.state.relayPersistence=!0,t.remote.emit(Ge.CHANNEL_PERSISTENCE))})}},{event:Ge.MESSAGE,handler:function(t,e){return n=>{var r,i,o,a,s,l,c,u,f,p,g,m,v,_,w,I,k,$;const{ackId:L,message:z,error:H}=n,P=(r=t.remote.state.relayPersistence)!==null&&r!==void 0&&r;if(Te.SocketService(`[SocketService handleMessage()]  relayPersistence=${P}  context=${t.state.context} on 'message' ${e} keysExchanged=${(i=t.state.keyExchange)===null||i===void 0?void 0:i.areKeysExchanged()}`,n),H)throw Te.SocketService(`
      [SocketService handleMessage()] context=${t.state.context}::on 'message' error=${H}`),new Error(H);const D=typeof z=="string";if(!D&&(z==null?void 0:z.type)===an.KEY_HANDSHAKE_START)return P?void 0:(Te.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' received HANDSHAKE_START isOriginator=${t.state.isOriginator}`,z),void((o=t.state.keyExchange)===null||o===void 0||o.start({isOriginator:(a=t.state.isOriginator)!==null&&a!==void 0&&a,force:!0})));if(!D&&(!((s=z==null?void 0:z.type)===null||s===void 0)&&s.startsWith("key_handshake")))return P?void 0:(Te.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' emit KEY_EXCHANGE`,z),void t.emit(tv.KEY_EXCHANGE,{message:z,context:t.state.context}));if(D&&!(!((l=t.state.keyExchange)===null||l===void 0)&&l.areKeysExchanged())){let y=!1;try{Te.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' trying to decrypt message`),(c=t.state.keyExchange)===null||c===void 0||c.decryptMessage(z),y=!0}catch(E){Te.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' error`,E)}if(!y)return t.state.isOriginator?(f=t.state.keyExchange)===null||f===void 0||f.start({isOriginator:(p=t.state.isOriginator)!==null&&p!==void 0&&p}):t.sendMessage({type:an.KEY_HANDSHAKE_START}).catch(E=>{}),void Te.SocketService(`Message ignored because invalid key exchange status. step=${(g=t.state.keyExchange)===null||g===void 0?void 0:g.getKeyInfo().step}`,(m=t.state.keyExchange)===null||m===void 0?void 0:m.getKeyInfo(),z);Te.SocketService("Invalid key exchange status detected --- updating it."),(u=t.state.keyExchange)===null||u===void 0||u.setKeysExchanged(!0)}else if(!D&&(z!=null&&z.type))return void t.emit(Ge.MESSAGE,z);if(!D)return void t.emit(Ge.MESSAGE,z);const B=(v=t.state.keyExchange)===null||v===void 0?void 0:v.decryptMessage(z),O=JSON.parse(B??"{}");if(L&&(L==null?void 0:L.length)>0&&(Te.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' ackid=${L} channelId=${e}`),(_=t.state.socket)===null||_===void 0||_.emit(Ge.MESSAGE_ACK,{ackId:L,channelId:e,clientType:t.state.isOriginator?"dapp":"wallet"})),t.state.clientsPaused=(O==null?void 0:O.type)===Nn.PAUSE,t.state.isOriginator&&O.data){const y=O.data,E=t.state.rpcMethodTracker[y.id];if(E){const S=Date.now()-E.timestamp;Te.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' received answer for id=${y.id} method=${E.method} responseTime=${S}`,O),t.remote.state.analytics&&e9.includes(E.method.toLowerCase())&&Ia(Object.assign(Object.assign({id:(w=t.remote.state.channelId)!==null&&w!==void 0?w:"",event:Jn.SDK_RPC_REQUEST_DONE,sdkVersion:t.remote.state.sdkVersion,commLayerVersion:Kl.version},t.remote.state.originatorInfo),{walletVersion:(I=t.remote.state.walletInfo)===null||I===void 0?void 0:I.version,params:{method:E.method,from:"mobile"}}),t.remote.state.communicationServerUrl).catch(T=>{}),Lp(E.method)&&Gn.analytics.track(y.error?y.error.code===4001?"sdk_action_rejected":"sdk_action_failed":"sdk_action_succeeded",{action:E.method});const C=Object.assign(Object.assign({},E),{result:y.result,error:y.error?{code:(k=y.error)===null||k===void 0?void 0:k.code,message:($=y.error)===null||$===void 0?void 0:$.message}:void 0,elapsedTime:S});t.state.rpcMethodTracker[y.id]=C,t.emit(Ge.RPC_UPDATE,C)}}t.emit(Ge.MESSAGE,{message:O})}}},{event:Ge.REJECTED,handler:function(t,e){return n=>Be(this,void 0,void 0,function*(){var r;t.state.isOriginator&&!t.remote.state.ready?(Te.SocketService(`[SocketService: handleChannelRejected()] context=${t.state.context} channelId=${e} isOriginator=${t.state.isOriginator} ready=${t.remote.state.ready}`,t.remote.state.originatorInfo),Ia(Object.assign(Object.assign({id:e,event:Jn.REJECTED},t.remote.state.originatorInfo),{sdkVersion:t.remote.state.sdkVersion,commLayer:t.state.communicationLayerPreference,commLayerVersion:Kl.version,walletVersion:(r=t.remote.state.walletInfo)===null||r===void 0?void 0:r.version}),t.remote.state.communicationServerUrl).catch(i=>{}),Gn.analytics.track("sdk_connection_rejected",{transport_type:"websocket"}),yield t.remote.disconnect({terminate:!0}),t.remote.emit(Ge.REJECTED,{channelId:e}),t.remote.setConnectionStatus(Ar.DISCONNECTED)):Te.SocketService(`[SocketService: handleChannelRejected()] SKIP -- channelId=${e} isOriginator=${t.state.isOriginator} ready=${t.remote.state.ready}`)})}},{event:"clients_waiting_to_join",handler:function(t,e){return n=>{Te.SocketService(`[SocketService: handleClientsWaitingToJoin()] context=${t.state.context} on 'clients_waiting_to_join-${e}'`,n),t.emit(Ge.CLIENTS_WAITING,n)}}}],SG=[{event:Ge.KEY_INFO,handler:function(t){return e=>{Te.SocketService("[SocketService: handleKeyInfo()] on 'KEY_INFO'",e),t.emit(Ge.KEY_INFO,e)}}},{event:Ge.KEYS_EXCHANGED,handler:function(t){return()=>{var e,n,r;Te.SocketService(`[SocketService: handleKeysExchanged()] on 'keys_exchanged' keyschanged=${(e=t.state.keyExchange)===null||e===void 0?void 0:e.areKeysExchanged()}`);const{channelConfig:i}=t.remote.state;if(i){const a=t.getKeyExchange().getKeyInfo().ecies;i.localKey=a.private,i.otherKey=a.otherPubKey,t.remote.state.channelConfig=i,(n=t.remote.state.storageManager)===null||n===void 0||n.persistChannelConfig(i).catch(s=>{})}t.emit(Ge.KEYS_EXCHANGED,{keysExchanged:(r=t.state.keyExchange)===null||r===void 0?void 0:r.areKeysExchanged(),isOriginator:t.state.isOriginator});const o={keyInfo:t.getKeyInfo()};t.emit(Ge.SERVICE_STATUS,o)}}}];function nk(t,e){Te.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} setting socket listeners for channel ${e}...`);const{socket:n}=t.state,{keyExchange:r}=t.state;n&&t.state.isOriginator&&(t.state.debug&&(n==null||n.io.on("error",i=>{Te.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=error`,i)}),n==null||n.io.on("reconnect",i=>{Te.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect`,i),EE(t).catch(o=>{})}),n==null||n.io.on("reconnect_error",i=>{Te.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect_error`,i)}),n==null||n.io.on("reconnect_failed",()=>{Te.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect_failed`)})),n==null||n.on("disconnect",i=>(Te.SocketService(`[SocketService: setupChannelListener()] on 'disconnect' -- MetaMaskSDK socket disconnected '${i}' begin recovery...`),function(o){return a=>{Te.SocketService(`[SocketService: handleDisconnect()] on 'disconnect' manualDisconnect=${o.state.manualDisconnect}`,a),o.state.manualDisconnect||(o.emit(Ge.SOCKET_DISCONNECTED),EE(o).catch(s=>{}))}}(t)(i)))),_G.forEach(({event:i,handler:o})=>{n==null||n.on(`${i}-${e}`,o(t,e))}),SG.forEach(({event:i,handler:o})=>{r==null||r.on(i,o(t))}),t.state.setupChannelListeners=!0}class CG extends ry.EventEmitter2{constructor(e){super(),this.state={clientsConnected:!1,clientsPaused:!1,manualDisconnect:!1,lastRpcId:void 0,rpcMethodTracker:{},hasPlaintext:!1,communicationServerUrl:"",focusListenerAdded:!1,removeFocusListener:void 0,isReconnecting:!1,reconnectionAttempts:0},this.options=e;const{reconnect:n,communicationLayerPreference:r,communicationServerUrl:i,context:o,remote:a,logging:s}=e;this.state.resumed=n,this.state.context=o,this.state.isOriginator=a.state.isOriginator,this.state.communicationLayerPreference=r,this.state.debug=(s==null?void 0:s.serviceLayer)===!0,this.remote=a,(s==null?void 0:s.serviceLayer)===!0&&ni.enable("SocketService:Layer"),this.state.communicationServerUrl=i,this.state.hasPlaintext=this.state.communicationServerUrl!==Wd&&(s==null?void 0:s.plaintext)===!0,Te.SocketService(`[SocketService: constructor()] Socket IO url: ${this.state.communicationServerUrl}`),this.initSocket()}initSocket(){var e;const{otherPublicKey:n,ecies:r,logging:i}=this.options,o={autoConnect:!1,transports:wG,withCredentials:!0},a=this.state.communicationServerUrl;Te.SocketService(`[SocketService: initSocket()] Socket IO url: ${a}`),this.state.socket=gh(a,o),function(l){if(typeof window<"u"&&typeof document<"u"&&(Te.SocketService(`[SocketService: setupSocketFocusListener()] hasFocus=${document.hasFocus()}`,l),!l.state.focusListenerAdded)){const c=()=>{Te.SocketService("Document has focus --- reconnecting socket"),EE(l).catch(u=>{})};window.addEventListener("focus",c),l.state.focusListenerAdded=!0,l.state.removeFocusListener=()=>{window.removeEventListener("focus",c),l.state.focusListenerAdded=!1}}}(this);const s={communicationLayer:this,otherPublicKey:n,sendPublicKey:!1,context:(e=this.state.context)!==null&&e!==void 0?e:"",ecies:r,logging:i};this.state.keyExchange=new xG(s)}resetKeys(){return Te.SocketService("[SocketService: resetKeys()] Resetting keys."),void((e=this.state.keyExchange)===null||e===void 0||e.resetKeys());var e}createChannel(){return Be(this,void 0,void 0,function*(){return function(e){return Be(this,void 0,void 0,function*(){var n,r,i;if(Te.SocketService(`[SocketService: createChannel()] context=${e.state.context}`),e.state.socket||e.initSocket(),(n=e.state.socket)===null||n===void 0?void 0:n.connected)throw new Error("socket already connected");(r=e.state.socket)===null||r===void 0||r.connect(),e.state.manualDisconnect=!1,e.state.isOriginator=!0;const o=Sl();e.state.channelId=o,nk(e,o),yield new Promise((s,l)=>{var c;(c=e.state.socket)===null||c===void 0||c.emit(Ge.JOIN_CHANNEL,{channelId:o,context:`${e.state.context}createChannel`,clientType:"dapp"},(u,f)=>Be(this,void 0,void 0,function*(){try{yield mm(e,u,f),s()}catch(p){l(p)}}))});const a=(i=e.state.keyExchange)===null||i===void 0?void 0:i.getKeyInfo();return{channelId:o,pubKey:(a==null?void 0:a.ecies.public)||"",privKey:(a==null?void 0:a.ecies.private)||""}})}(this)})}connectToChannel({channelId:e,withKeyExchange:n=!1,authorized:r}){return function(i){return Be(this,arguments,void 0,function*({options:o,instance:a}){const{channelId:s,authorized:l,withKeyExchange:c}=o,{state:u,remote:f}=a,{isOriginator:p=!1,socket:g,keyExchange:m}=u,{channelConfig:v}=f.state;if(g!=null&&g.connected)throw new Error("socket already connected");if(p&&(v!=null&&v.relayPersistence)){const{localKey:_,otherKey:w}=v;_&&w&&(m==null||m.setRelayPersistence({localKey:_,otherKey:w}))}return Object.assign(u,{manualDisconnect:!1,withKeyExchange:c,isOriginator:p,channelId:s}),g==null||g.connect(),nk(a,s),!p&&l&&(m==null||m.setKeysExchanged(!0),Object.assign(f.state,{ready:!0,authorized:!0})),new Promise(_=>{var w;const I=(w=m==null?void 0:m.getKeyInfo())===null||w===void 0?void 0:w.ecies.public;g==null||g.emit(Ge.JOIN_CHANNEL,{channelId:s,context:`${u.context}_connectToChannel`,clientType:p?"dapp":"wallet",publicKey:l&&!p?I:void 0},(k,$)=>Be(this,void 0,void 0,function*(){yield mm(a,k,$),_()}))})})}({options:{channelId:e,withKeyExchange:n,authorized:r},instance:this})}getKeyInfo(){return this.state.keyExchange.getKeyInfo()}keyCheck(){var e,n;(n=(e=this).state.socket)===null||n===void 0||n.emit(Ge.MESSAGE,{id:e.state.channelId,context:e.state.context,message:{type:an.KEY_HANDSHAKE_CHECK,pubkey:e.getKeyInfo().ecies.otherPubKey}})}getKeyExchange(){return this.state.keyExchange}sendMessage(e){return Be(this,void 0,void 0,function*(){return function(n,r){return Be(this,void 0,void 0,function*(){var i,o,a;if(!n.state.channelId)throw Te.SocketService("handleSendMessage: no channelId - Create a channel first"),new Error("Create a channel first");if(Te.SocketService(`[SocketService: handleSendMessage()] context=${n.state.context} areKeysExchanged=${(i=n.state.keyExchange)===null||i===void 0?void 0:i.areKeysExchanged()}`,r),(o=r==null?void 0:r.type)===null||o===void 0?void 0:o.startsWith("key_handshake"))return function(l,c){var u;Te.SocketService(`[SocketService: handleKeyHandshake()] context=${l.state.context}`,c),(u=l.state.socket)===null||u===void 0||u.emit(Ge.MESSAGE,{id:l.state.channelId,context:l.state.context,clientType:l.state.isOriginator?"dapp":"wallet",message:c})}(n,r),!0;(function(l,c){var u;if(!(!((u=l.state.keyExchange)===null||u===void 0)&&u.areKeysExchanged())&&!l.remote.state.relayPersistence)throw Te.SocketService(`[SocketService: validateKeyExchange()] context=${l.state.context} ERROR keys not exchanged`,c),new Error("Keys not exchanged BBB")})(n,r),function(l,c){var u;const f=(u=c==null?void 0:c.method)!==null&&u!==void 0?u:"",p=c==null?void 0:c.id;l.state.isOriginator&&p&&(l.state.rpcMethodTracker[p]={id:p,timestamp:Date.now(),method:f},l.emit(Ge.RPC_UPDATE,l.state.rpcMethodTracker[p]))}(n,r);const s=yield XP(n,r);return n.remote.state.analytics&&n.remote.state.isOriginator&&r.method&&e9.includes(r.method.toLowerCase())&&Ia({id:(a=n.remote.state.channelId)!==null&&a!==void 0?a:"",event:Jn.SDK_RPC_REQUEST,params:{method:r.method,from:"mobile"}},n.remote.state.communicationServerUrl).catch(l=>{}),n.remote.state.isOriginator&&r.method&&Lp(r.method)&&Gn.analytics.track("sdk_action_requested",{action:r.method}),function(l,c){return Be(this,void 0,void 0,function*(){var u;const f=c==null?void 0:c.id,p=(u=c==null?void 0:c.method)!==null&&u!==void 0?u:"";if(l.state.isOriginator&&f)try{const g=tk(f,l.state.rpcMethodTracker,200).then(_=>({type:xd.RPC_CHECK,result:_})),m=Be(this,void 0,void 0,function*(){const _=yield(I=>Be(void 0,[I],void 0,function*({rpcId:k,instance:$}){for(;$.state.lastRpcId===k||$.state.lastRpcId===void 0;)yield Md(200);return $.state.lastRpcId}))({instance:l,rpcId:f}),w=yield tk(_,l.state.rpcMethodTracker,200);return{type:xd.SKIPPED_RPC,result:w}}),v=yield Promise.race([g,m]);if(v.type===xd.RPC_CHECK){const _=v.result;Te.SocketService(`[SocketService:handleRpcReplies()] id=${c.id} ${p} ( ${_.elapsedTime} ms)`,_.result)}else{if(v.type!==xd.SKIPPED_RPC)throw new Error(`Error handling RPC replies for ${f}`);{const _=Object.assign(Object.assign({},l.state.rpcMethodTracker[f]),{error:new Error("SDK_CONNECTION_ISSUE")});l.emit(Ge.RPC_UPDATE,_);const w={data:Object.assign(Object.assign({},_),{jsonrpc:"2.0"}),name:"metamask-provider"};l.emit(Ge.MESSAGE,{message:w})}}}catch(g){throw g}})}(n,r).catch(l=>{}),s})}(this,e)})}ping(){return function(e){return Be(this,void 0,void 0,function*(){var n,r;Te.SocketService(`[SocketService: ping()] context=${e.state.context} originator=${e.state.isOriginator} keysExchanged=${(n=e.state.keyExchange)===null||n===void 0?void 0:n.areKeysExchanged()}`),(r=e.state.socket)===null||r===void 0||r.emit(Nn.PING,{id:e.state.channelId,context:"ping",clientType:e.remote.state.isOriginator?"dapp":"wallet",message:""})})}(this)}pause(){return function(e){return Be(this,void 0,void 0,function*(){var n,r;Te.SocketService(`[SocketService: pause()] context=${e.state.context}`),e.state.manualDisconnect=!0,!((n=e.state.keyExchange)===null||n===void 0)&&n.areKeysExchanged()&&(yield e.sendMessage({type:Nn.PAUSE})),(r=e.state.socket)===null||r===void 0||r.disconnect()})}(this)}isConnected(){var e;return(e=this.state.socket)===null||e===void 0?void 0:e.connected}resume(){return function(e){return Be(this,void 0,void 0,function*(){const{state:n,remote:r}=e,{socket:i,channelId:o,context:a,keyExchange:s,isOriginator:l}=n,{isOriginator:c}=r.state;if(Te.SocketService(`[SocketService: resume()] channelId=${o} context=${a} connected=${i==null?void 0:i.connected} manualDisconnect=${n.manualDisconnect} resumed=${n.resumed} keysExchanged=${s==null?void 0:s.areKeysExchanged()}`),!o)throw Te.SocketService("[SocketService: resume()] channelId is not defined"),new Error("ChannelId is not defined");i!=null&&i.connected?(Te.SocketService("[SocketService: resume()] already connected."),i.emit(Nn.PING,{id:o,clientType:c?"dapp":"wallet",context:"on_channel_config",message:""}),r.hasRelayPersistence()||s!=null&&s.areKeysExchanged()||(l?yield e.sendMessage({type:Nn.READY}):s==null||s.start({isOriginator:!1}))):(i==null||i.connect(),Te.SocketService(`[SocketService: resume()] after connecting socket --> connected=${i==null?void 0:i.connected}`),i==null||i.emit(Ge.JOIN_CHANNEL,{channelId:o,context:`${a}_resume`,clientType:c?"dapp":"wallet"},(u,f)=>Be(this,void 0,void 0,function*(){try{yield mm(e,u,f)}catch{}}))),n.manualDisconnect=!1,n.resumed=!0})}(this)}getRPCMethodTracker(){return this.state.rpcMethodTracker}disconnect(e){return function(n,r){var i,o,a,s,l;Te.SocketService(`[SocketService: disconnect()] context=${n.state.context}`,r),r!=null&&r.terminate&&((o=(i=n.state).removeFocusListener)===null||o===void 0||o.call(i),n.state.channelId=r.channelId,(a=n.state.socket)===null||a===void 0||a.removeAllListeners(),(s=n.state.keyExchange)===null||s===void 0||s.clean(),n.remote.state.ready=!1,n.state.socket=void 0,n.state.rpcMethodTracker={}),n.state.manualDisconnect=!0,(l=n.state.socket)===null||l===void 0||l.disconnect()}(this,e)}}var hu,zr,rk;function AG(t){return()=>Be(this,void 0,void 0,function*(){var e,n,r;const{state:i}=t;if(i.authorized)return;yield Be(this,void 0,void 0,function*(){for(;!i.walletInfo;)yield Md(500)});const o="7.3".localeCompare(((e=i.walletInfo)===null||e===void 0?void 0:e.version)||"");if(Te.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' version=${(n=i.walletInfo)===null||n===void 0?void 0:n.version} compareValue=${o}`),o!==1)return;const a=i.platformType===zr.MobileWeb||i.platformType===zr.ReactNative||i.platformType===zr.MetaMaskMobileWebview;Te.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' platform=${i.platformType} secure=${a} channel=${i.channelId} walletVersion=${(r=i.walletInfo)===null||r===void 0?void 0:r.version}`),a&&(i.authorized=!0,t.emit(Ge.AUTHORIZED))})}function IG(t){return e=>{const{state:n}=t;Te.RemoteCommunication(`[RemoteCommunication: handleChannelCreatedEvent()] context=${n.context} on 'channel_created' channelId=${e}`),t.emit(Ge.CHANNEL_CREATED,e)}}function kG(t,e){return()=>{var n,r,i,o;const{state:a}=t;Te.RemoteCommunication(`[RemoteCommunication: handleClientsConnectedEvent()] on 'clients_connected' channel=${a.channelId} keysExchanged=${(r=(n=a.communicationLayer)===null||n===void 0?void 0:n.getKeyInfo())===null||r===void 0?void 0:r.keysExchanged}`),a.analytics&&Ia(Object.assign(Object.assign({id:(i=a.channelId)!==null&&i!==void 0?i:"",event:a.reconnection?Jn.RECONNECT:a.isOriginator?Jn.REQUEST:Jn.REQUEST_MOBILE},a.originatorInfo),{commLayer:e,sdkVersion:a.sdkVersion,walletVersion:(o=a.walletInfo)===null||o===void 0?void 0:o.version,commLayerVersion:Kl.version}),a.communicationServerUrl).catch(s=>{}),a.isOriginator&&!a.reconnection&&Gn.analytics.track("sdk_connection_established",{transport_type:"websocket"}),a.clientsConnected=!0,a.originatorInfoSent=!1,t.emit(Ge.CLIENTS_CONNECTED)}}function MG(t){return e=>{const{state:n}=t;Te.RemoteCommunication(`[RemoteCommunication: handleClientsDisconnectedEvent()] context=${n.context} on 'clients_disconnected' channelId=${e}`),n.relayPersistence||(n.clientsConnected=!1,n.ready=!1,n.authorized=!1),t.emit(Ge.CLIENTS_DISCONNECTED,n.channelId),t.setConnectionStatus(Ar.DISCONNECTED)}}function OG(t){return e=>{var n;const{state:r}=t;if(Te.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] context=${r.context} on 'clients_waiting' numberUsers=${e} ready=${r.ready} autoStarted=${r.originatorConnectStarted}`),t.setConnectionStatus(Ar.WAITING),t.emit(Ge.CLIENTS_WAITING,e),r.originatorConnectStarted){Te.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] on 'clients_waiting' watch autoStarted=${r.originatorConnectStarted} timeout`,r.autoConnectOptions);const i=((n=r.autoConnectOptions)===null||n===void 0?void 0:n.timeout)||3e3,o=setTimeout(()=>{Te.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] setTimeout(${i}) terminate channelConfig`,r.autoConnectOptions),r.originatorConnectStarted=!1,r.ready||t.setConnectionStatus(Ar.TIMEOUT),clearTimeout(o)},i)}}}function RG(t,e){return n=>{var r,i,o,a,s,l,c,u;const{state:f}=t;if(Te.RemoteCommunication(`[RemoteCommunication: handleKeysExchangedEvent()] context=${f.context} on commLayer.'keys_exchanged' channel=${f.channelId}`,n),(i=(r=f.communicationLayer)===null||r===void 0?void 0:r.getKeyInfo())===null||i===void 0?void 0:i.keysExchanged){const p=Object.assign(Object.assign({},f.channelConfig),{channelId:(o=f.channelId)!==null&&o!==void 0?o:"",validUntil:((a=f.channelConfig)===null||a===void 0?void 0:a.validUntil)||Kd,localKey:f.communicationLayer.getKeyInfo().ecies.private,otherKey:f.communicationLayer.getKeyInfo().ecies.otherPubKey});(s=f.storageManager)===null||s===void 0||s.persistChannelConfig(p).catch(g=>{}),t.setConnectionStatus(Ar.LINKED)}(function(p,g){var m,v,_,w,I,k,$,L;const{state:z}=p;Te.RemoteCommunication(`[RemoteCommunication: setLastActiveDate()] channel=${z.channelId}`,g);const H=Object.assign(Object.assign({},z.channelConfig),{channelId:(m=z.channelId)!==null&&m!==void 0?m:"",validUntil:(_=(v=z.channelConfig)===null||v===void 0?void 0:v.validUntil)!==null&&_!==void 0?_:0,relayPersistence:z.relayPersistence,localKey:(I=(w=z.communicationLayer)===null||w===void 0?void 0:w.state.keyExchange)===null||I===void 0?void 0:I.getKeyInfo().ecies.private,otherKey:($=(k=z.communicationLayer)===null||k===void 0?void 0:k.state.keyExchange)===null||$===void 0?void 0:$.getKeyInfo().ecies.otherPubKey,lastActive:g.getTime()});(L=z.storageManager)===null||L===void 0||L.persistChannelConfig(H)})(t,new Date),f.analytics&&f.channelId&&Ia(Object.assign(Object.assign({id:f.channelId,event:n.isOriginator?Jn.CONNECTED:Jn.CONNECTED_MOBILE},f.originatorInfo),{sdkVersion:f.sdkVersion,commLayer:e,commLayerVersion:Kl.version,walletVersion:(l=f.walletInfo)===null||l===void 0?void 0:l.version}),f.communicationServerUrl).catch(p=>{}),f.isOriginator=n.isOriginator,n.isOriginator||((c=f.communicationLayer)===null||c===void 0||c.sendMessage({type:Nn.READY}),f.ready=!0,f.paused=!1),n.isOriginator&&!f.originatorInfoSent&&((u=f.communicationLayer)===null||u===void 0||u.sendMessage({type:Nn.ORIGINATOR_INFO,originatorInfo:f.originatorInfo,originator:f.originatorInfo}),f.originatorInfoSent=!0)}}function TG(t){return e=>{let n=e;e.message&&(n=n.message),function(r,i){const{state:o}=i;if(Te.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] context=${o.context} on 'message' typeof=${typeof r}`,r),i.state.ready=!0,o.isOriginator||r.type!==Nn.ORIGINATOR_INFO)if(o.isOriginator&&r.type===Nn.WALLET_INFO)(function(a,s){const{state:l}=a;l.walletInfo=s.walletInfo,l.paused=!1})(i,r);else{if(o.isOriginator&&r.type===Nn.WALLET_INIT)(function(a,s){return Be(this,void 0,void 0,function*(){var l,c,u;const{state:f}=a;if(f.isOriginator){const p=s.data||{};if(typeof p=="object"&&"accounts"in p&&"chainId"in p&&"walletKey"in p)try{const{channelConfig:g}=a.state;if(Te.RemoteCommunication("WALLET_INIT: channelConfig",JSON.stringify(g,null,2)),g){const m=p.accounts,v=p.chainId,_=p.walletKey;let w,I=!1;"deeplinkProtocol"in p&&(I=!!p.deeplinkProtocol,a.state.deeplinkProtocolAvailable=I),"walletVersion"in p&&(w=p.walletVersion),yield(l=a.state.storageManager)===null||l===void 0?void 0:l.persistChannelConfig(Object.assign(Object.assign({},g),{otherKey:_,walletVersion:w,deeplinkProtocolAvailable:I,relayPersistence:!0})),yield(c=a.state.storageManager)===null||c===void 0?void 0:c.persistAccounts(m),yield(u=a.state.storageManager)===null||u===void 0?void 0:u.persistChainId(v)}a.emit(Ge.WALLET_INIT,{accounts:p.accounts,chainId:p.chainId})}catch{}}})})(i,r).catch(a=>{Te.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${a}`)});else if(r.type===Nn.TERMINATE)(function(a){return Be(this,void 0,void 0,function*(){const{state:s}=a;s.isOriginator&&(yield t9({options:{terminate:!0,sendMessage:!1},instance:a}),a.emit(Ge.TERMINATE))})})(i).catch(a=>{Te.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${a}`)});else if(r.type===Nn.PAUSE)(function(a){const{state:s}=a;s.paused=!0,a.setConnectionStatus(Ar.PAUSED)})(i);else if(r.type===Nn.READY&&o.isOriginator)(function(a){const{state:s}=a;a.setConnectionStatus(Ar.LINKED);const l=s.paused;s.paused=!1,a.emit(Ge.CLIENTS_READY,{isOriginator:s.isOriginator,walletInfo:s.walletInfo}),l&&(s.authorized=!0,a.emit(Ge.AUTHORIZED))})(i);else{if(r.type===Nn.OTP&&o.isOriginator)return void function(a,s){var l;const{state:c}=a;a.emit(Ge.OTP,s.otpAnswer),"6.6".localeCompare(((l=c.walletInfo)===null||l===void 0?void 0:l.version)||"")===1&&a.emit(Ge.SDK_RPC_CALL,{method:Br.ETH_REQUESTACCOUNTS,params:[]})}(i,r);r.type===Nn.AUTHORIZED&&o.isOriginator&&function(a){const{state:s}=a;s.authorized=!0,a.emit(Ge.AUTHORIZED)}(i)}i.emit(Ge.MESSAGE,r)}else(function(a,s){var l;const{state:c}=a;(l=c.communicationLayer)===null||l===void 0||l.sendMessage({type:Nn.WALLET_INFO,walletInfo:c.walletInfo}),c.originatorInfo=s.originatorInfo||s.originator,a.emit(Ge.CLIENTS_READY,{isOriginator:c.isOriginator,originatorInfo:c.originatorInfo}),c.paused=!1})(i,r)}(n,t)}}function PG(t){return()=>{const{state:e}=t;Te.RemoteCommunication("[RemoteCommunication: handleSocketReconnectEvent()] on 'socket_reconnect' -- reset key exchange status / set ready to false"),e.ready=!1,e.authorized=!1,QP(e),t.emitServiceStatusEvent({context:"socket_reconnect"})}}function NG(t){return()=>{const{state:e}=t;Te.RemoteCommunication("[RemoteCommunication: handleSocketDisconnectedEvent()] on 'socket_Disconnected' set ready to false"),e.ready=!1}}function LG(t){return()=>Be(this,void 0,void 0,function*(){var e,n,r,i,o,a,s;const{state:l}=t;Te.RemoteCommunication(`[RemoteCommunication: handleFullPersistenceEvent()] context=${l.context}`),t.state.ready=!0,t.state.clientsConnected=!0,t.state.authorized=!0,t.state.relayPersistence=!0,(e=t.state.communicationLayer)===null||e===void 0||e.getKeyExchange().setKeysExchanged(!0),t.emit(Ge.KEYS_EXCHANGED,{keysExchanged:!0,isOriginator:!0}),t.emit(Ge.AUTHORIZED),t.emit(Ge.CLIENTS_READY),t.emit(Ge.CHANNEL_PERSISTENCE);try{l.channelConfig=Object.assign(Object.assign({},l.channelConfig),{localKey:(n=l.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange().getKeyInfo().ecies.private,otherKey:(r=l.communicationLayer)===null||r===void 0?void 0:r.getKeyExchange().getOtherPublicKey(),channelId:(i=l.channelId)!==null&&i!==void 0?i:"",validUntil:(a=(o=l.channelConfig)===null||o===void 0?void 0:o.validUntil)!==null&&a!==void 0?a:Kd,relayPersistence:!0}),yield(s=l.storageManager)===null||s===void 0?void 0:s.persistChannelConfig(l.channelConfig)}catch{}})}function ik({communicationLayerPreference:t,otherPublicKey:e,reconnect:n,ecies:r,communicationServerUrl:i=Wd,instance:o}){var a,s,l,c,u,f,p,g,m,v,_;const{state:w}=o;if(Te.RemoteCommunication("[initCommunicationLayer()] ",JSON.stringify(w,null,2)),t!==hu.SOCKET)throw new Error("Invalid communication protocol");w.communicationLayer=new CG({communicationLayerPreference:t,otherPublicKey:e,reconnect:n,transports:w.transports,communicationServerUrl:i,context:w.context,ecies:r,logging:w.logging,remote:o});let I=typeof document<"u"&&document.URL||"",k=typeof document<"u"&&document.title||"";!((a=w.dappMetadata)===null||a===void 0)&&a.url&&(I=w.dappMetadata.url),!((s=w.dappMetadata)===null||s===void 0)&&s.name&&(k=w.dappMetadata.name);const $=(f=(c=(l=w.dappMetadata)===null||l===void 0?void 0:l.name)!==null&&c!==void 0?c:(u=w.dappMetadata)===null||u===void 0?void 0:u.url)!==null&&f!==void 0?f:"N/A",L=typeof window<"u"&&window.location!==void 0&&(p=window.location.hostname)!==null&&p!==void 0?p:$,z={url:I,title:k,source:(g=w.dappMetadata)===null||g===void 0?void 0:g.source,dappId:L,anonId:w.anonId,icon:((m=w.dappMetadata)===null||m===void 0?void 0:m.iconUrl)||((v=w.dappMetadata)===null||v===void 0?void 0:v.base64Icon),platform:w.platformType,apiVersion:Kl.version,connector:(_=w.dappMetadata)===null||_===void 0?void 0:_.connector};w.originatorInfo=z;const H={[Ge.AUTHORIZED]:AG(o),[Ge.MESSAGE]:TG(o),[Ge.CHANNEL_PERSISTENCE]:LG(o),[Ge.CLIENTS_CONNECTED]:kG(o,t),[Ge.KEYS_EXCHANGED]:RG(o,t),[Ge.SOCKET_DISCONNECTED]:NG(o),[Ge.SOCKET_RECONNECT]:PG(o),[Ge.CLIENTS_DISCONNECTED]:MG(o),[Ge.KEY_INFO]:()=>{},[Ge.CHANNEL_CREATED]:IG(o),[Ge.CLIENTS_WAITING]:OG(o),[Ge.RPC_UPDATE]:P=>{o.emit(Ge.RPC_UPDATE,P)}};for(const[P,D]of Object.entries(H))try{w.communicationLayer.on(P,D)}catch{}}function t9(t){return Be(this,arguments,void 0,function*({options:e,instance:n}){const{state:r}=n;return Te.RemoteCommunication(`[RemoteCommunication: disconnect()] channel=${r.channelId}`,e),new Promise((i,o)=>{var a,s,l,c,u,f;e!=null&&e.terminate?(n.state.ready&&Ia({id:(a=n.state.channelId)!==null&&a!==void 0?a:"",event:Jn.TERMINATED},n.state.communicationServerUrl).catch(p=>{}),r.ready=!1,r.paused=!1,(s=r.storageManager)===null||s===void 0||s.terminate((l=r.channelId)!==null&&l!==void 0?l:""),n.state.terminated=!0,e.sendMessage?!((c=r.communicationLayer)===null||c===void 0)&&c.getKeyInfo().keysExchanged&&n.state.communicationLayer&&XP(n.state.communicationLayer,{type:Nn.TERMINATE}).then(()=>{i(!0)}).catch(p=>{o(p)}):i(!0),r.authorized=!1,r.relayPersistence=!1,r.channelId=Sl(),e.channelId=r.channelId,r.channelConfig=void 0,r.originatorConnectStarted=!1,(u=r.communicationLayer)===null||u===void 0||u.disconnect(e),n.setConnectionStatus(Ar.TERMINATED)):((f=r.communicationLayer)===null||f===void 0||f.disconnect(e),n.setConnectionStatus(Ar.DISCONNECTED),i(!0))})})}(hu||(hu={})).SOCKET="socket",function(t){t.NonBrowser="nodejs",t.MetaMaskMobileWebview="in-app-browser",t.DesktopWeb="web-desktop",t.MobileWeb="web-mobile",t.ReactNative="react-native"}(zr||(zr={}));class DG extends ry.EventEmitter2{constructor(e){super(),this.state={ready:!1,anonId:"",authorized:!1,isOriginator:!1,terminated:!1,protocolVersion:1,paused:!1,deeplinkProtocolAvailable:!1,platformType:"metamask-mobile",analytics:!1,reconnection:!1,originatorInfoSent:!1,communicationServerUrl:Wd,context:"",persist:!1,clientsConnected:!1,sessionDuration:Kd,originatorConnectStarted:!1,debug:!1,_connectionStatus:Ar.DISCONNECTED},this._options=e;const{anonId:n,platformType:r,communicationLayerPreference:i,otherPublicKey:o,reconnect:a,walletInfo:s,dappMetadata:l,protocolVersion:c,transports:u,context:f,relayPersistence:p,ecies:g,analytics:m=!1,storage:v,sdkVersion:_,communicationServerUrl:w=Wd,logging:I,autoConnect:k={timeout:bG}}=e;this.state.anonId=n,this.state.otherPublicKey=o,this.state.dappMetadata=l,this.state.walletInfo=s,this.state.transports=u,this.state.platformType=r,this.state.analytics=m,this.state.protocolVersion=c??1,this.state.isOriginator=!o,this.state.relayPersistence=p,this.state.communicationServerUrl=w,this.state.context=f,this.state.terminated=!1,this.state.sdkVersion=_,this.setMaxListeners(50),this.setConnectionStatus(Ar.DISCONNECTED),v!=null&&v.duration&&(this.state.sessionDuration=Kd),this.state.storageOptions=v,this.state.autoConnectOptions=k,this.state.debug=(I==null?void 0:I.remoteLayer)===!0,(I==null?void 0:I.remoteLayer)===!0&&ni.enable("RemoteCommunication:Layer"),(I==null?void 0:I.serviceLayer)===!0&&ni.enable("SocketService:Layer"),(I==null?void 0:I.eciesLayer)===!0&&ni.enable("ECIES:Layer"),(I==null?void 0:I.keyExchangeLayer)===!0&&ni.enable("KeyExchange:Layer"),this.state.logging=I,v!=null&&v.storageManager&&(this.state.storageManager=v.storageManager),Te.RemoteCommunication(`[RemoteCommunication: constructor()] protocolVersion=${c} relayPersistence=${p} isOriginator=${this.state.isOriginator} communicationLayerPreference=${i} otherPublicKey=${o} reconnect=${a}`),this.state.isOriginator||ik({communicationLayerPreference:i,otherPublicKey:o,reconnect:a,ecies:g,communicationServerUrl:w,instance:this}),this.emitServiceStatusEvent({context:"constructor"})}initFromDappStorage(){return Be(this,void 0,void 0,function*(){var e;if(this.state.storageManager){const n=yield this.state.storageManager.getPersistedChannelConfig({});n&&(this.state.channelConfig=n,this.state.channelId=n.channelId,this.state.deeplinkProtocolAvailable=(e=n.deeplinkProtocolAvailable)!==null&&e!==void 0&&e,n.relayPersistence&&(this.state.authorized=!0,this.state.ready=!0,this.setConnectionStatus(Ar.LINKED),yield this.connectToChannel({channelId:n.channelId})))}ik({communicationLayerPreference:hu.SOCKET,otherPublicKey:this.state.otherPublicKey,reconnect:this._options.reconnect,ecies:this._options.ecies,communicationServerUrl:this.state.communicationServerUrl,instance:this})})}originatorSessionConnect(){return Be(this,void 0,void 0,function*(){return yield function(e){return Be(this,void 0,void 0,function*(){var n;const{state:r}=e;if(!r.storageManager)return void Te.RemoteCommunication("[RemoteCommunication: originatorSessionConnect()] no storage manager defined - skip");const i=yield r.storageManager.getPersistedChannelConfig({});if(Te.RemoteCommunication(`[RemoteCommunication: originatorSessionConnect()] autoStarted=${r.originatorConnectStarted} channelConfig`,i),(n=r.communicationLayer)===null||n===void 0?void 0:n.isConnected())return Te.RemoteCommunication("[RemoteCommunication: originatorSessionConnect()] socket already connected - skip"),i;if(i){if(i.validUntil>Date.now())return r.channelConfig=i,r.originatorConnectStarted=!0,r.channelId=i==null?void 0:i.channelId,r.reconnection=!0,i;Te.RemoteCommunication("[RemoteCommunication: autoConnect()] Session has expired")}r.originatorConnectStarted=!1})}(this)})}generateChannelIdConnect(){return Be(this,void 0,void 0,function*(){return function(e){return Be(this,void 0,void 0,function*(){var n,r,i,o,a,s;if(!e.communicationLayer)throw new Error("communication layer not initialized");if(e.ready)throw new Error("Channel already connected");if(e.channelId&&(!((n=e.communicationLayer)===null||n===void 0)&&n.isConnected()))return e.channelConfig=Object.assign(Object.assign({},e.channelConfig),{channelId:e.channelId,validUntil:Date.now()+e.sessionDuration}),(r=e.storageManager)===null||r===void 0||r.persistChannelConfig(e.channelConfig),{channelId:e.channelId,privKey:(o=(i=e.communicationLayer)===null||i===void 0?void 0:i.getKeyInfo())===null||o===void 0?void 0:o.ecies.private,pubKey:(s=(a=e.communicationLayer)===null||a===void 0?void 0:a.getKeyInfo())===null||s===void 0?void 0:s.ecies.public};Te.RemoteCommunication("[RemoteCommunication: generateChannelId()]");const l=yield e.communicationLayer.createChannel();Te.RemoteCommunication("[RemoteCommunication: generateChannelId()] channel created",l);const c=Object.assign(Object.assign({},e.channelConfig),{channelId:l.channelId,localKey:l.privKey,validUntil:Date.now()+e.sessionDuration});return e.channelId=l.channelId,e.channelConfig=c,{channelId:e.channelId,pubKey:l.pubKey,privKey:l.privKey}})}(this.state)})}clean(){return QP(this.state)}connectToChannel({channelId:e,withKeyExchange:n,authorized:r}){return function(i){return Be(this,arguments,void 0,function*({channelId:o,withKeyExchange:a,authorized:s,state:l}){var c,u,f;if(!cE(o))throw Te.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${l.context} invalid channel channelId=${o}`),new Error(`Invalid channel ${o}`);if(Te.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${l.context} channelId=${o} withKeyExchange=${a}`),(c=l.communicationLayer)===null||c===void 0?void 0:c.isConnected())return void Te.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${l.context} already connected - interrupt connection.`);l.channelId=o,yield(u=l.communicationLayer)===null||u===void 0?void 0:u.connectToChannel({channelId:o,authorized:s,withKeyExchange:a});const p=Object.assign(Object.assign({},l.channelConfig),{channelId:o,validUntil:Date.now()+l.sessionDuration});l.channelConfig=p,(f=l.storageManager)===null||f===void 0||f.persistChannelConfig(p)})}({channelId:e,authorized:r,withKeyExchange:n,state:this.state})}sendMessage(e){return Be(this,void 0,void 0,function*(){const n=this.state.isOriginator&&e.method&&Lp(e.method);n&&Gn.analytics.track("sdk_action_requested",{action:e.method});try{return yield function(r,i){return Be(this,void 0,void 0,function*(){var o,a;const{state:s}=r;Te.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${s.context} paused=${s.paused} ready=${s.ready} relayPersistence=${s.relayPersistence} authorized=${s.authorized} socket=${(o=s.communicationLayer)===null||o===void 0?void 0:o.isConnected()} clientsConnected=${s.clientsConnected} status=${s._connectionStatus}`,i),s.relayPersistence||s.ready&&(!((a=s.communicationLayer)===null||a===void 0)&&a.isConnected())&&s.clientsConnected||(Te.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${s.context}  SKIP message waiting for MM mobile readiness.`),yield new Promise(l=>{r.once(Ge.CLIENTS_READY,l)}),Te.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${s.context}  AFTER SKIP / READY -- sending pending message`));try{return yield function(c,u){return Be(this,void 0,void 0,function*(){return new Promise(f=>{var p;const{state:g}=c;Te.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${g.context} ready=${g.ready} authorized=${g.authorized} method=${u.method}`),!g.isOriginator||g.authorized||g.relayPersistence?(p=g.communicationLayer)===null||p===void 0||p.sendMessage(u).then(m=>{f(m)}).catch(m=>{f(!1)}):c.once(Ge.AUTHORIZED,()=>{var m;Te.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${g.context}  AFTER SKIP / AUTHORIZED -- sending pending message`),(m=g.communicationLayer)===null||m===void 0||m.sendMessage(u).then(v=>{f(v)}).catch(v=>{f(!1)})})})})}(r,i)}catch(l){throw l}})}(this,e)}catch(r){throw n&&Gn.analytics.track("sdk_action_failed",{action:e.method}),r}})}testStorage(){return Be(this,void 0,void 0,function*(){return function(e){return Be(this,void 0,void 0,function*(){var n;const r=yield(n=e.storageManager)===null||n===void 0?void 0:n.getPersistedChannelConfig();Te.RemoteCommunication("[RemoteCommunication: testStorage()] res",r)})}(this.state)})}hasDeeplinkProtocol(){return this.state.deeplinkProtocolAvailable}getChannelConfig(){return this.state.channelConfig}isReady(){return this.state.ready}isConnected(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.isConnected()}isAuthorized(){return this.state.authorized}isPaused(){return this.state.paused}getCommunicationLayer(){return this.state.communicationLayer}ping(){return Be(this,void 0,void 0,function*(){var e;Te.RemoteCommunication(`[RemoteCommunication: ping()] channel=${this.state.channelId}`),yield(e=this.state.communicationLayer)===null||e===void 0?void 0:e.ping()})}testLogger(){Te.RemoteCommunication(`testLogger() channel=${this.state.channelId}`),Te.SocketService(`testLogger() channel=${this.state.channelId}`),Te.Ecies(`testLogger() channel=${this.state.channelId}`),Te.KeyExchange(`testLogger() channel=${this.state.channelId}`)}keyCheck(){var e;Te.RemoteCommunication(`[RemoteCommunication: keyCheck()] channel=${this.state.channelId}`),(e=this.state.communicationLayer)===null||e===void 0||e.keyCheck()}setConnectionStatus(e){this.state._connectionStatus!==e&&(this.state._connectionStatus=e,this.emit(Ge.CONNECTION_STATUS,e),this.emitServiceStatusEvent({context:"setConnectionStatus"}))}emitServiceStatusEvent(e={}){this.emit(Ge.SERVICE_STATUS,this.getServiceStatus())}getConnectionStatus(){return this.state._connectionStatus}getServiceStatus(){return{originatorInfo:this.state.originatorInfo,keyInfo:this.getKeyInfo(),connectionStatus:this.state._connectionStatus,channelConfig:this.state.channelConfig,channelId:this.state.channelId}}getKeyInfo(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.getKeyInfo()}resetKeys(){var e;(e=this.state.communicationLayer)===null||e===void 0||e.resetKeys()}setOtherPublicKey(e){var n;const r=(n=this.state.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange();if(!r)throw new Error("KeyExchange is not initialized.");r.getOtherPublicKey()!==e&&r.setOtherPublicKey(e)}pause(){return Be(this,void 0,void 0,function*(){var e;Te.RemoteCommunication(`[RemoteCommunication: pause()] channel=${this.state.channelId}`),yield(e=this.state.communicationLayer)===null||e===void 0?void 0:e.pause(),this.setConnectionStatus(Ar.PAUSED)})}getVersion(){return Kl.version}hasRelayPersistence(){var e;return(e=this.state.relayPersistence)!==null&&e!==void 0&&e}resume(){return Be(this,void 0,void 0,function*(){return function(e){return Be(this,void 0,void 0,function*(){var n;const{state:r}=e;Te.RemoteCommunication(`[RemoteCommunication: resume()] channel=${r.channelId}`),yield(n=r.communicationLayer)===null||n===void 0?void 0:n.resume(),e.setConnectionStatus(Ar.LINKED)})}(this)})}encrypt(e){var n,r,i;const o=(n=this.state.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange(),a=o==null?void 0:o.getOtherPublicKey();if(!a)throw new Error("KeyExchange not completed");return(i=(r=this.state.communicationLayer)===null||r===void 0?void 0:r.state.eciesInstance)===null||i===void 0?void 0:i.encrypt(e,a)}decrypt(e){var n,r,i;if(!(!((n=this.state.communicationLayer)===null||n===void 0)&&n.state.eciesInstance))throw new Error("ECIES instance is not initialized");return(i=(r=this.state.communicationLayer)===null||r===void 0?void 0:r.state.eciesInstance)===null||i===void 0?void 0:i.decrypt(e)}getChannelId(){return this.state.channelId}getRPCMethodTracker(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.getRPCMethodTracker()}reject({channelId:e}){return function(n){return Be(this,arguments,void 0,function*({channelId:r,state:i}){var o,a,s;if(!cE(r))throw Te.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${i.context} invalid channel channelId=${r}`),new Error(`Invalid channel ${r}`);if(i.isOriginator)return void Te.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} isOriginator=${i.isOriginator} channelId=${r}`);const{socket:l}=(a=(o=i.communicationLayer)===null||o===void 0?void 0:o.state)!==null&&a!==void 0?a:{};l!=null&&l.connected||(Te.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} socket already connected`),l==null||l.connect()),Ia(Object.assign(Object.assign({id:r,event:Jn.REJECTED},i.originatorInfo),{sdkVersion:i.sdkVersion,commLayerVersion:Kl.version,walletVersion:(s=i.walletInfo)===null||s===void 0?void 0:s.version}),i.communicationServerUrl).catch(c=>{}),yield new Promise((c,u)=>{l==null||l.emit(Ge.REJECTED,{channelId:r},(f,p)=>{Te.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} socket=${l==null?void 0:l.id}`,{error:f,response:p}),f?u(f):c(p)})})})}({channelId:e,state:this.state})}disconnect(e){return Be(this,void 0,void 0,function*(){return t9({options:e,instance:this})})}}(function(t){t.RENEW="renew",t.LINK="link"})(rk||(rk={}));var BG="ERC721",jG="ERC1155",Fn={errors:{disconnected:()=>"MetaMask: Disconnected from chain. Attempting to connect.",permanentlyDisconnected:()=>"MetaMask: Disconnected from MetaMask background. Page reload required.",sendSiteMetadata:()=>"MetaMask: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:t=>`MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ${t} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidNetworkParams:()=>"MetaMask: Received invalid network parameters. Please report this bug.",invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:t=>`'args.logger' must include required method '${t}'.`},info:{connected:t=>`MetaMask: Connected to chain with ID "${t}".`},warnings:{chainIdDeprecation:`MetaMask: 'ethereum.chainId' is deprecated and may be removed in the future. Please use the 'eth_chainId' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,networkVersionDeprecation:`MetaMask: 'ethereum.networkVersion' is deprecated and may be removed in the future. Please use the 'net_version' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,selectedAddressDeprecation:`MetaMask: 'ethereum.selectedAddress' is deprecated and may be removed in the future. Please use the 'eth_accounts' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,enableDeprecation:`MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1102`,sendDeprecation:`MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193`,events:{close:`MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect`,data:`MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`,networkChanged:`MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged`,notification:`MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`},rpc:{ethDecryptDeprecation:`MetaMask: The RPC method 'eth_decrypt' is deprecated and may be removed in the future.
For more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,ethGetEncryptionPublicKeyDeprecation:`MetaMask: The RPC method 'eth_getEncryptionPublicKey' is deprecated and may be removed in the future.
For more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,walletWatchAssetNFTExperimental:`MetaMask: The RPC method 'wallet_watchAsset' is experimental for ERC721/ERC1155 assets and may change in the future.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/blob/main/MIPs/mip-1.md and https://github.com/MetaMask/metamask-improvement-proposals/blob/main/PROCESS-GUIDE.md#proposal-lifecycle`},experimentalMethods:"MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning."}};function $G(t){const e={ethDecryptDeprecation:!1,ethGetEncryptionPublicKeyDeprecation:!1,walletWatchAssetNFTExperimental:!1};return(n,r,i)=>{var o;e.ethDecryptDeprecation||n.method!=="eth_decrypt"?e.ethGetEncryptionPublicKeyDeprecation||n.method!=="eth_getEncryptionPublicKey"?!e.walletWatchAssetNFTExperimental&&n.method==="wallet_watchAsset"&&[BG,jG].includes(((o=n.params)==null?void 0:o.type)||"")&&(t.warn(Fn.warnings.rpc.walletWatchAssetNFTExperimental),e.walletWatchAssetNFTExperimental=!0):(t.warn(Fn.warnings.rpc.ethGetEncryptionPublicKeyDeprecation),e.ethGetEncryptionPublicKeyDeprecation=!0):(t.warn(Fn.warnings.rpc.ethDecryptDeprecation),e.ethDecryptDeprecation=!0),i()}}var n9=4294967295,ok=Math.floor(Math.random()*n9);function FG(){return(t,e,n,r)=>{const i=t.id,o=ok=(ok+1)%n9;t.id=o,e.id=o,n(a=>{t.id=i,e.id=i,a()})}}var w_=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Al=(t,e,n)=>(w_(t,e,"read from private field"),n?n.call(t):e.get(t)),Fo=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Pg=(t,e,n,r)=>(w_(t,e,"write to private field"),e.set(t,n),n),Qr=(t,e,n)=>(w_(t,e,"access private method"),n),wl={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},sk={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};function ak(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}var nv=(t,e)=>Object.hasOwnProperty.call(t,e);class UG extends TypeError{constructor(e,n){let r;const{message:i,explanation:o,...a}=e,{path:s}=e,l=s.length===0?i:`At path: ${s.join(".")} -- ${i}`;super(o??l),o!=null&&(this.cause=l),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function xa(t){return typeof t=="object"&&t!=null}function Rs(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function zG(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:o}=e,{type:a}=n,{refinement:s,message:l=`Expected a value of type \`${a}\`${s?` with refinement \`${s}\``:""}, but received: \`${Rs(r)}\``}=t;return{value:r,type:a,refinement:s,key:i[i.length-1],path:i,branch:o,...t,message:l}}function*lk(t,e,n,r){(function(i){return xa(i)&&typeof i[Symbol.iterator]=="function"})(t)||(t=[t]);for(const i of t){const o=zG(i,e,n,r);o&&(yield o)}}function*b_(t,e,n={}){const{path:r=[],branch:i=[t],coerce:o=!1,mask:a=!1}=n,s={path:r,branch:i};if(o&&(t=e.coercer(t,s),a&&e.type!=="type"&&xa(e.schema)&&xa(t)&&!Array.isArray(t)))for(const c in t)e.schema[c]===void 0&&delete t[c];let l="valid";for(const c of e.validator(t,s))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,u,f]of e.entries(t,s)){const p=b_(u,f,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,u],coerce:o,mask:a,message:n.message});for(const g of p)g[0]?(l=g[0].refinement!=null?"not_refined":"not_valid",yield[g[0],void 0]):o&&(u=g[1],c===void 0?t=u:t instanceof Map?t.set(c,u):t instanceof Set?t.add(u):xa(t)&&(u!==void 0||c in t)&&(t[c]=u))}if(l!=="not_valid")for(const c of e.refiner(t,s))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,t])}class Yo{constructor(e){const{type:n,schema:r,validator:i,refiner:o,coercer:a=l=>l,entries:s=function*(){}}=e;this.type=n,this.schema=r,this.entries=s,this.coercer=a,this.validator=i?(l,c)=>lk(i(l,c),c,this,l):()=>[],this.refiner=o?(l,c)=>lk(o(l,c),c,this,l):()=>[]}assert(e,n){return r9(e,this,n)}create(e,n){return i9(e,this,n)}is(e){return nf(e,this)}mask(e,n){return function(r,i,o){const a=zh(r,i,{coerce:!0,mask:!0,message:o});if(a[0])throw a[0];return a[1]}(e,this,n)}validate(e,n={}){return zh(e,this,n)}}function r9(t,e,n){const r=zh(t,e,{message:n});if(r[0])throw r[0]}function i9(t,e,n){const r=zh(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function nf(t,e){return!zh(t,e)[0]}function zh(t,e,n={}){const r=b_(t,e,n),i=function(o){const{done:a,value:s}=o.next();return a?void 0:s}(r);return i[0]?[new UG(i[0],function*(){for(const a of r)a[0]&&(yield a[0])}),void 0]:[void 0,i[1]]}function Vl(t,e){return new Yo({type:t,schema:null,validator:e})}function ck(t){let e;return new Yo({type:"lazy",schema:null,*entries(n,r){e??(e=t()),yield*e.entries(n,r)},validator:(n,r)=>(e??(e=t()),e.validator(n,r)),coercer:(n,r)=>(e??(e=t()),e.coercer(n,r)),refiner:(n,r)=>(e??(e=t()),e.refiner(n,r))})}function o9(t){return new Yo({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${Rs(e)}`})}function s9(t){const e=Rs(t),n=typeof t;return new Yo({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator:r=>r===t||`Expected the literal \`${e}\`, but received: ${Rs(r)}`})}function a9(){return Vl("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Rs(t)}`)}function l9(t){const e=t?Object.keys(t):[],n=Vl("never",()=>!1);return new Yo({type:"object",schema:t||null,*entries(r){if(t&&xa(r)){const i=new Set(Object.keys(r));for(const o of e)i.delete(o),yield[o,r[o],t[o]];for(const o of i)yield[o,r[o],n]}},validator:r=>xa(r)||`Expected an object, but received: ${Rs(r)}`,coercer:r=>xa(r)?{...r}:r})}function uk(t){return new Yo({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function c9(t,e){return new Yo({type:"record",schema:null,*entries(n){if(xa(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator:n=>xa(n)||`Expected an object, but received: ${Rs(n)}`})}function Gl(){return Vl("string",t=>typeof t=="string"||`Expected a string, but received: ${Rs(t)}`)}function ay(t){const e=t.map(n=>n.type).join(" | ");return new Yo({type:"union",schema:null,coercer(n){for(const r of t){const[i,o]=r.validate(n,{coerce:!0});if(!i)return o}return n},validator(n,r){const i=[];for(const o of t){const[...a]=b_(n,o,r),[s]=a;if(!s[0])return[];for(const[l]of a)l&&i.push(l)}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Rs(n)}`,...i]}})}function qG(t){return function(e){return function(n){return typeof n=="object"&&n!==null&&"message"in n}(e)&&typeof e.message=="string"?e.message:e==null?"":String(e)}(t).replace(/\.$/u,"")}function HG(t,e){var r,i;return n=t,typeof((i=(r=n==null?void 0:n.prototype)==null?void 0:r.constructor)==null?void 0:i.name)=="string"?new t({message:e}):t({message:e});var n}var WG=class extends Error{constructor(t){super(t.message),this.code="ERR_ASSERTION"}};function u9(){throw new Error("setTimeout has not been defined")}function d9(){throw new Error("clearTimeout has not been defined")}var fl=u9,hl=d9;function f9(t){if(fl===setTimeout)return setTimeout(t,0);if((fl===u9||!fl)&&setTimeout)return fl=setTimeout,setTimeout(t,0);try{return fl(t,0)}catch{try{return fl.call(null,t,0)}catch{return fl.call(this,t,0)}}}typeof ri.setTimeout=="function"&&(fl=setTimeout),typeof ri.clearTimeout=="function"&&(hl=clearTimeout);var Gc,ya=[],Od=!1,vm=-1;function KG(){Od&&Gc&&(Od=!1,Gc.length?ya=Gc.concat(ya):vm=-1,ya.length&&h9())}function h9(){if(!Od){var t=f9(KG);Od=!0;for(var e=ya.length;e;){for(Gc=ya,ya=[];++vm<e;)Gc&&Gc[vm].run();vm=-1,e=ya.length}Gc=null,Od=!1,function(n){if(hl===clearTimeout)return clearTimeout(n);if((hl===d9||!hl)&&clearTimeout)return hl=clearTimeout,clearTimeout(n);try{return hl(n)}catch{try{return hl.call(null,n)}catch{return hl.call(this,n)}}}(t)}}function p9(t,e){this.fun=t,this.array=e}p9.prototype.run=function(){this.fun.apply(null,this.array)};function bu(){}var VG=bu,GG=bu,YG=bu,JG=bu,ZG=bu,QG=bu,XG=bu,pd=ri.performance||{},eY=pd.now||pd.mozNow||pd.msNow||pd.oNow||pd.webkitNow||function(){return new Date().getTime()},tY=new Date,nn={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];ya.push(new p9(t,e)),ya.length!==1||Od||f9(h9)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:VG,addListener:GG,once:YG,off:JG,removeListener:ZG,removeAllListeners:QG,emit:XG,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*eY.call(pd),n=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(n-=t[0],(r-=t[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-tY)/1e3}},qh=t=>l9(t);function dk({path:t,branch:e}){const n=t[t.length-1];return nv(e[e.length-2],n)}function rv(t){return new Yo({...t,type:`optional ${t.type}`,validator:(e,n)=>!dk(n)||t.validator(e,n),refiner:(e,n)=>!dk(n)||t.refiner(e,n)})}var Ng,fk,hk,iv=ay([s9(null),Vl("boolean",t=>typeof t=="boolean"),Vl("finite number",t=>nf(t,a9())&&Number.isFinite(t)),Gl(),o9(ck(()=>iv)),c9(Gl(),ck(()=>iv))]),Hh=(Ng=iv,fk=Vl("any",()=>!0),hk=t=>(function(e,n,r="Assertion failed",i=WG){try{r9(e,n)}catch(o){throw HG(i,`${r}: ${qG(o)}.`)}}(t,iv),JSON.parse(JSON.stringify(t,(e,n)=>{if(e!=="__proto__"&&e!=="constructor")return n}))),new Yo({...Ng,coercer:(t,e)=>nf(t,fk)?Ng.coercer(hk(t,e),e):Ng.coercer(t,e)}));function xE(t){try{return function(e){i9(e,Hh)}(t),!0}catch{return!1}}var wh=s9("2.0"),ym=function(t){return new Yo({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}(ay([a9(),Gl()])),_E=qh({code:Vl("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${Rs(t)}`),message:Gl(),data:rv(Hh),stack:rv(Gl())}),g9=ay([c9(Gl(),Hh),o9(Hh)]),nY=qh({id:ym,jsonrpc:wh,method:Gl(),params:rv(g9)}),rY=qh({jsonrpc:wh,method:Gl(),params:rv(g9)});function pk(t){return nf(t,nY)}function gk(t){return nf(t,_E)}l9({id:ym,jsonrpc:wh,result:uk(Vl("unknown",()=>!0)),error:uk(_E)}),ay([qh({id:ym,jsonrpc:wh,result:Hh}),qh({id:ym,jsonrpc:wh,error:_E})]);var mk=wl.internal,iY="Unspecified error message. This is a bug, please report it.",oY={code:mk,message:m9(mk)},sY="Unspecified server error.";function m9(t,e=iY){if(function(n){return Number.isInteger(n)}(t)){const n=t.toString();if(nv(sk,n))return sk[n].message;if(function(r){return r>=-32099&&r<=-32e3}(t))return sY}return e}function vk(t,{fallbackError:e=oY,shouldIncludeStack:n=!0}={}){if(!gk(e))throw new Error("Must provide fallback error with integer number code and string message.");const r=function(i,o){if(i&&typeof i=="object"&&"serialize"in i&&typeof i.serialize=="function")return i.serialize();if(gk(i))return i;const a=v9(i);return{...o,data:{cause:a}}}(t,e);return n||delete r.stack,r}function v9(t){return Array.isArray(t)?t.map(e=>xE(e)?e:ak(e)?yk(e):null):ak(t)?yk(t):xE(t)?t:null}function yk(t){return Object.getOwnPropertyNames(t).reduce((e,n)=>{const r=t[n];return xE(r)&&(e[n]=r),e},{})}var y9=lh;lh.default=lh,lh.stable=wk,lh.stableStringify=wk;var ov="[...]",w9="[Circular]",pu=[],Yc=[];function b9(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function lh(t,e,n,r){var i;r===void 0&&(r=b9()),SE(t,"",0,[],void 0,0,r);try{i=Yc.length===0?JSON.stringify(t,e,n):JSON.stringify(t,E9(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;pu.length!==0;){var o=pu.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function Rd(t,e,n,r){var i=Object.getOwnPropertyDescriptor(r,n);i.get!==void 0?i.configurable?(Object.defineProperty(r,n,{value:t}),pu.push([r,n,e,i])):Yc.push([e,n,t]):(r[n]=t,pu.push([r,n,e]))}function SE(t,e,n,r,i,o,a){var s;if(o+=1,typeof t=="object"&&t!==null){for(s=0;s<r.length;s++)if(r[s]===t)return void Rd(w9,t,e,i);if(a.depthLimit!==void 0&&o>a.depthLimit||a.edgesLimit!==void 0&&n+1>a.edgesLimit)return void Rd(ov,t,e,i);if(r.push(t),Array.isArray(t))for(s=0;s<t.length;s++)SE(t[s],s,s,r,t,o,a);else{var l=Object.keys(t);for(s=0;s<l.length;s++){var c=l[s];SE(t[c],c,s,r,t,o,a)}}r.pop()}}function aY(t,e){return t<e?-1:t>e?1:0}function wk(t,e,n,r){r===void 0&&(r=b9());var i,o=CE(t,"",0,[],void 0,0,r)||t;try{i=Yc.length===0?JSON.stringify(o,e,n):JSON.stringify(o,E9(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;pu.length!==0;){var a=pu.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return i}function CE(t,e,n,r,i,o,a){var s;if(o+=1,typeof t=="object"&&t!==null){for(s=0;s<r.length;s++)if(r[s]===t)return void Rd(w9,t,e,i);try{if(typeof t.toJSON=="function")return}catch{return}if(a.depthLimit!==void 0&&o>a.depthLimit||a.edgesLimit!==void 0&&n+1>a.edgesLimit)return void Rd(ov,t,e,i);if(r.push(t),Array.isArray(t))for(s=0;s<t.length;s++)CE(t[s],s,s,r,t,o,a);else{var l={},c=Object.keys(t).sort(aY);for(s=0;s<c.length;s++){var u=c[s];CE(t[u],u,s,r,t,o,a),l[u]=t[u]}if(i===void 0)return l;pu.push([i,e,t]),i[e]=l}r.pop()}}function E9(t){return t=t!==void 0?t:function(e,n){return n},function(e,n){if(Yc.length>0)for(var r=0;r<Yc.length;r++){var i=Yc[r];if(i[1]===e&&i[0]===n){n=i[2],Yc.splice(r,1);break}}return t.call(this,e,n)}}var lY=oy(y9),sa=class extends Error{constructor(t,e,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!e||typeof e!="string")throw new Error('"message" must be a non-empty string.');super(e),this.code=t,n!==void 0&&(this.data=n)}serialize(){const t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data,function(e){if(typeof e!="object"||e===null)return!1;try{let n=e;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}catch{return!1}}(this.data)&&(t.data.cause=v9(this.data.cause))),this.stack&&(t.stack=this.stack),t}toString(){return lY(this.serialize(),cY,2)}};function cY(t,e){if(e!=="[Circular]")return e}var bh=t=>uY(wl.invalidRequest,t);function uY(t,e){const[n,r]=function(i){if(i){if(typeof i=="string")return[i];if(typeof i=="object"&&!Array.isArray(i)){const{message:o,data:a}=i;if(o&&typeof o!="string")throw new Error("Must specify string message.");return[o??void 0,a]}}return[]}(e);return new sa(t,n??m9(t),r)}var x9={};function pl(){}function sn(){sn.init.call(this)}function _9(t){return t._maxListeners===void 0?sn.defaultMaxListeners:t._maxListeners}function bk(t,e,n,r){var i,o,a;if(typeof n!="function")throw new TypeError('"listener" argument must be a function');if((o=t._events)?(o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),a=o[e]):(o=t._events=new pl,t._eventsCount=0),a){if(typeof a=="function"?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),!a.warned&&(i=_9(t))&&i>0&&a.length>i){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=a.length,function(l){typeof console.warn=="function"?console.warn(l):console.log(l)}(s)}}else a=o[e]=n,++t._eventsCount;return t}function Ek(t,e,n){var r=!1;function i(){t.removeListener(e,i),r||(r=!0,n.apply(t,arguments))}return i.listener=n,i}function xk(t){var e=this._events;if(e){var n=e[t];if(typeof n=="function")return 1;if(n)return n.length}return 0}function Xf(t,e){for(var n=new Array(e);e--;)n[e]=t[e];return n}pl.prototype=Object.create(null),sn.EventEmitter=sn,sn.usingDomains=!1,sn.prototype.domain=void 0,sn.prototype._events=void 0,sn.prototype._maxListeners=void 0,sn.defaultMaxListeners=10,sn.init=function(){this.domain=null,sn.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new pl,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},sn.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},sn.prototype.getMaxListeners=function(){return _9(this)},sn.prototype.emit=function(t){var e,n,r,i,o,a,s,l=t==="error";if(a=this._events)l=l&&a.error==null;else if(!l)return!1;if(s=this.domain,l){if(e=arguments[1],!s){if(e instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=s,e.domainThrown=!1,s.emit("error",e),!1}if(!(n=a[t]))return!1;var u=typeof n=="function";switch(r=arguments.length){case 1:(function(f,p,g){if(p)f.call(g);else for(var m=f.length,v=Xf(f,m),_=0;_<m;++_)v[_].call(g)})(n,u,this);break;case 2:(function(f,p,g,m){if(p)f.call(g,m);else for(var v=f.length,_=Xf(f,v),w=0;w<v;++w)_[w].call(g,m)})(n,u,this,arguments[1]);break;case 3:(function(f,p,g,m,v){if(p)f.call(g,m,v);else for(var _=f.length,w=Xf(f,_),I=0;I<_;++I)w[I].call(g,m,v)})(n,u,this,arguments[1],arguments[2]);break;case 4:(function(f,p,g,m,v,_){if(p)f.call(g,m,v,_);else for(var w=f.length,I=Xf(f,w),k=0;k<w;++k)I[k].call(g,m,v,_)})(n,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];(function(f,p,g,m){if(p)f.apply(g,m);else for(var v=f.length,_=Xf(f,v),w=0;w<v;++w)_[w].apply(g,m)})(n,u,this,i)}return!0},sn.prototype.addListener=function(t,e){return bk(this,t,e,!1)},sn.prototype.on=sn.prototype.addListener,sn.prototype.prependListener=function(t,e){return bk(this,t,e,!0)},sn.prototype.once=function(t,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.on(t,Ek(this,t,e)),this},sn.prototype.prependOnceListener=function(t,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(t,Ek(this,t,e)),this},sn.prototype.removeListener=function(t,e){var n,r,i,o,a;if(typeof e!="function")throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[t]))return this;if(n===e||n.listener&&n.listener===e)--this._eventsCount==0?this._events=new pl:(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if(typeof n!="function"){for(i=-1,o=n.length;o-- >0;)if(n[o]===e||n[o].listener&&n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;if(n.length===1){if(n[0]=void 0,--this._eventsCount==0)return this._events=new pl,this;delete r[t]}else(function(s,l){for(var c=l,u=c+1,f=s.length;u<f;c+=1,u+=1)s[c]=s[u];s.pop()})(n,i);r.removeListener&&this.emit("removeListener",t,a||e)}return this},sn.prototype.off=function(t,e){return this.removeListener(t,e)},sn.prototype.removeAllListeners=function(t){var e,n;if(!(n=this._events))return this;if(!n.removeListener)return arguments.length===0?(this._events=new pl,this._eventsCount=0):n[t]&&(--this._eventsCount==0?this._events=new pl:delete n[t]),this;if(arguments.length===0){for(var r,i=Object.keys(n),o=0;o<i.length;++o)(r=i[o])!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new pl,this._eventsCount=0,this}if(typeof(e=n[t])=="function")this.removeListener(t,e);else if(e)do this.removeListener(t,e[e.length-1]);while(e[0]);return this},sn.prototype.listeners=function(t){var e,n,r=this._events;return n=r&&(e=r[t])?typeof e=="function"?[e.listener||e]:function(i){for(var o=new Array(i.length),a=0;a<o.length;++a)o[a]=i[a].listener||i[a];return o}(e):[],n},sn.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):xk.call(t,e)},sn.prototype.listenerCount=xk,sn.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var E_=Pp(Object.freeze({__proto__:null,EventEmitter:sn,default:sn}));Object.defineProperty(x9,"__esModule",{value:!0});const dY=E_;function _k(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}let fY=class extends dY.EventEmitter{emit(t,...e){let n=t==="error";const r=this._events;if(r!==void 0)n=n&&r.error===void 0;else if(!n)return!1;if(n){let o;if(e.length>0&&([o]=e),o instanceof Error)throw o;const a=new Error("Unhandled error."+(o?` (${o.message})`:""));throw a.context=o,a}const i=r[t];if(i===void 0)return!1;if(typeof i=="function")_k(i,this,e);else{const o=i.length,a=function(s){const l=s.length,c=new Array(l);for(let u=0;u<l;u+=1)c[u]=s[u];return c}(i);for(let s=0;s<o;s+=1)_k(a[s],this,e)}return!0}};var sv,bl,_d,ch,wm,bm,AE,Em,IE,q3,Sk,xm,kE,H3,Ck,Eh,av,W3,Ak,S9=x9.default=fY,Lo=class _m extends S9{constructor({notificationHandler:e}={}){super(),Fo(this,ch),Fo(this,bm),Fo(this,Em),Fo(this,sv,!1),Fo(this,bl,void 0),Fo(this,_d,void 0),Pg(this,bl,[]),Pg(this,_d,e)}destroy(){Al(this,bl).forEach(e=>{"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}),Pg(this,bl,[]),Pg(this,sv,!0)}push(e){Qr(this,ch,wm).call(this),Al(this,bl).push(e)}handle(e,n){if(Qr(this,ch,wm).call(this),n&&typeof n!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?n?Qr(this,bm,AE).call(this,e,n):Qr(this,bm,AE).call(this,e):n?Qr(this,Em,IE).call(this,e,n):this._promiseHandle(e)}asMiddleware(){return Qr(this,ch,wm).call(this),async(e,n,r,i)=>{var o,a;try{const[s,l,c]=await Qr(o=_m,xm,kE).call(o,e,n,Al(this,bl));return l?(await Qr(a=_m,Eh,av).call(a,c),i(s)):r(async u=>{var f;try{await Qr(f=_m,Eh,av).call(f,c)}catch(p){return u(p)}return u()})}catch(s){return i(s)}}}async _promiseHandle(e){return new Promise((n,r)=>{Qr(this,Em,IE).call(this,e,(i,o)=>{i&&o===void 0?r(i):n(o)}).catch(r)})}};sv=new WeakMap,bl=new WeakMap,_d=new WeakMap,ch=new WeakSet,wm=function(){if(Al(this,sv))throw new Error("This engine is destroyed and can no longer be used.")},bm=new WeakSet,AE=async function(t,e){try{if(t.length===0){const r=[{id:null,jsonrpc:"2.0",error:new sa(wl.invalidRequest,"Request batch must contain plain objects. Received an empty array")}];return e?e(null,r):r}const n=(await Promise.all(t.map(this._promiseHandle.bind(this)))).filter(r=>r!==void 0);return e?e(null,n):n}catch(n){if(e)return e(n);throw n}},Em=new WeakSet,IE=async function(t,e){var n;if(!t||Array.isArray(t)||typeof t!="object"){const a=new sa(wl.invalidRequest,"Requests must be plain objects. Received: "+typeof t,{request:t});return e(a,{id:null,jsonrpc:"2.0",error:a})}if(typeof t.method!="string"){const a=new sa(wl.invalidRequest,"Must specify a string method. Received: "+typeof t.method,{request:t});return Al(this,_d)&&!pk(t)?e(null):e(a,{id:t.id??null,jsonrpc:"2.0",error:a})}if(Al(this,_d)&&nf(t,rY)&&!pk(t)){try{await Al(this,_d).call(this,t)}catch(a){return e(a)}return e(null)}let r=null;const i={...t},o={id:i.id,jsonrpc:i.jsonrpc};try{await Qr(n=Lo,q3,Sk).call(n,i,o,Al(this,bl))}catch(a){r=a}return r&&(delete o.result,o.error||(o.error=vk(r))),e(r,o)},q3=new WeakSet,Sk=async function(t,e,n){var r,i,o;const[a,s,l]=await Qr(r=Lo,xm,kE).call(r,t,e,n);if(Qr(i=Lo,W3,Ak).call(i,t,e,s),await Qr(o=Lo,Eh,av).call(o,l),a)throw a},xm=new WeakSet,kE=async function(t,e,n){var r;const i=[];let o=null,a=!1;for(const s of n)if([o,a]=await Qr(r=Lo,H3,Ck).call(r,t,e,s,i),a)break;return[o,a,i.reverse()]},H3=new WeakSet,Ck=async function(t,e,n,r){return new Promise(i=>{const o=s=>{const l=s||e.error;l&&(e.error=vk(l)),i([l,!0])},a=s=>{e.error?o(e.error):(s&&(typeof s!="function"&&o(new sa(wl.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof s}" for request:
${K3(t)}`,{request:t})),r.push(s)),i([null,!1]))};try{n(t,e,a,o)}catch(s){o(s)}})},Eh=new WeakSet,av=async function(t){for(const e of t)await new Promise((n,r)=>{e(i=>i?r(i):n())})},W3=new WeakSet,Ak=function(t,e,n){if(!nv(e,"result")&&!nv(e,"error"))throw new sa(wl.internal,`JsonRpcEngine: Response has no error or result for request:
${K3(t)}`,{request:t});if(!n)throw new sa(wl.internal,`JsonRpcEngine: Nothing ended request:
${K3(t)}`,{request:t})},Fo(Lo,q3),Fo(Lo,xm),Fo(Lo,H3),Fo(Lo,Eh),Fo(Lo,W3);var hY=Lo;function K3(t){return JSON.stringify(t,null,2)}var C9=Object.freeze(["eth_subscription"]),pY=(t=console)=>[FG(),gY(t),$G(t)];function gY(t){return(e,n,r)=>{typeof e.method=="string"&&e.method||(n.error=bh({message:"The request 'method' must be a non-empty string.",data:e})),r(i=>{const{error:o}=n;return o&&t.error(`MetaMask - RPC Error: ${o.message}`,o),i()})}}var Sm=(t,e,n=!0)=>(r,i)=>{r||i.error?e(r||i.error):!n||Array.isArray(i)?t(i):t(i.result)},A9=t=>!!t&&typeof t=="string"&&t.startsWith("0x"),I9=()=>{};async function Ik(t,e){try{const n=await async function(){return{name:mY(window),icon:await vY(window)}}();t.handle({jsonrpc:"2.0",id:1,method:"metamask_sendDomainMetadata",params:n},I9)}catch(n){e.error({message:Fn.errors.sendSiteMetadata(),originalError:n})}}function mY(t){const{document:e}=t,n=e.querySelector('head > meta[property="og:site_name"]');if(n)return n.content;const r=e.querySelector('head > meta[name="title"]');return r?r.content:e.title&&e.title.length>0?e.title:window.location.hostname}async function vY(t){const{document:e}=t,n=e.querySelectorAll('head > link[rel~="icon"]');for(const r of Array.from(n))if(r&&await yY(r.href))return r.href;return null}async function yY(t){return new Promise((e,n)=>{try{const r=document.createElement("img");r.onload=()=>e(!0),r.onerror=()=>e(!1),r.src=t}catch(r){n(r)}})}var k9=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},xs=(t,e,n)=>(k9(t,e,"read from private field"),n?n.call(t):e.get(t)),ME=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},aa=(t,e,n,r)=>(k9(t,e,"write to private field"),e.set(t,n),n);function kk(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}class wY extends sn{emit(e,...n){let r=e==="error";const i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let a;if(n.length>0&&([a]=n),a instanceof Error)throw a;const s=new Error("Unhandled error."+(a?` (${a.message})`:""));throw s.context=a,s}const o=i[e];if(o===void 0)return!1;if(typeof o=="function")kk(o,this,n);else{const a=o.length,s=function(l){const c=l.length,u=new Array(c);for(let f=0;f<c;f+=1)u[f]=l[f];return u}(o);for(let l=0;l<a;l+=1)kk(s[l],this,n)}return!0}}var gl,Bc,bY=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;i--!=0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(o=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;i--!=0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!=0;){var a=o[i];if(!t(e[a],n[a]))return!1}return!0}return e!=e&&n!=n},EY=oy(bY),M9=class O9 extends wY{constructor({logger:e=console,maxEventListeners:n=100,rpcMiddleware:r=[]}={}){super(),ME(this,gl,void 0),ME(this,Bc,void 0),this._log=e,this.setMaxListeners(n),this._state={...O9._defaultState},aa(this,Bc,null),aa(this,gl,null),this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this.request=this.request.bind(this);const i=new hY;r.forEach(o=>i.push(o)),this._rpcEngine=i}get chainId(){return xs(this,gl)}get selectedAddress(){return xs(this,Bc)}isConnected(){return this._state.isConnected}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw bh({message:Fn.errors.invalidRequestArgs(),data:e});const{method:n,params:r}=e;if(typeof n!="string"||n.length===0)throw bh({message:Fn.errors.invalidRequestMethod(),data:e});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))throw bh({message:Fn.errors.invalidRequestParams(),data:e});const i=r==null?{method:n}:{method:n,params:r};return new Promise((o,a)=>{this._rpcRequest(i,Sm(o,a))})}_initializeState(e){if(this._state.initialized)throw new Error("Provider already initialized.");if(e){const{accounts:n,chainId:r,isUnlocked:i,networkVersion:o}=e;this._handleConnect(r),this._handleChainChanged({chainId:r,networkVersion:o}),this._handleUnlockStateChanged({accounts:n,isUnlocked:i}),this._handleAccountsChanged(n)}this._state.initialized=!0,this.emit("_initialized")}_rpcRequest(e,n){let r=n;return Array.isArray(e)||(e.jsonrpc||(e.jsonrpc="2.0"),e.method!=="eth_accounts"&&e.method!=="eth_requestAccounts"||(r=(i,o)=>{this._handleAccountsChanged(o.result??[],e.method==="eth_accounts"),n(i,o)})),this._rpcEngine.handle(e,r)}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),this._log.debug(Fn.info.connected(e)))}_handleDisconnect(e,n){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let r;this._state.isConnected=!1,e?(r=new sa(1013,n??Fn.errors.disconnected()),this._log.debug(r)):(r=new sa(1011,n??Fn.errors.permanentlyDisconnected()),this._log.error(r),aa(this,gl,null),this._state.accounts=null,aa(this,Bc,null),this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleChainChanged({chainId:e}={}){A9(e)?(this._handleConnect(e),e!==xs(this,gl)&&(aa(this,gl,e),this._state.initialized&&this.emit("chainChanged",xs(this,gl)))):this._log.error(Fn.errors.invalidNetworkParams(),{chainId:e})}_handleAccountsChanged(e,n=!1){let r=e;Array.isArray(e)||(this._log.error("MetaMask: Received invalid accounts parameter. Please report this bug.",e),r=[]);for(const i of e)if(typeof i!="string"){this._log.error("MetaMask: Received non-string account. Please report this bug.",e),r=[];break}if(!EY(this._state.accounts,r)&&(n&&this._state.accounts!==null&&this._log.error("MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.",r),this._state.accounts=r,xs(this,Bc)!==r[0]&&aa(this,Bc,r[0]||null),this._state.initialized)){const i=[...r];this.emit("accountsChanged",i)}}_handleUnlockStateChanged({accounts:e,isUnlocked:n}={}){typeof n=="boolean"?n!==this._state.isUnlocked&&(this._state.isUnlocked=n,this._handleAccountsChanged(e??[])):this._log.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.")}};gl=new WeakMap,Bc=new WeakMap,M9._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1};var Mk,Ok,xY=M9,OE={exports:{}};function R9(){return Ok?Mk:(Ok=1,Mk=E_.EventEmitter)}var x_,__=Pp(BV);x_=typeof Object.create=="function"?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t};var T9=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},_Y=/%[sdj%]/g;function ly(t){if(!Wh(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(ks(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(t).replace(_Y,function(s){if(s==="%%")return"%";if(n>=i)return s;switch(s){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch{return"[Circular]"}default:return s}}),a=r[n];n<i;a=r[++n])Dp(a)||!Eu(a)?o+=" "+a:o+=" "+ks(a);return o}function S_(t,e){if(Ss(ri.process))return function(){return S_(t,e).apply(this,arguments)};if(nn.noDeprecation===!0)return t;var n=!1;return function(){if(!n){if(nn.throwDeprecation)throw new Error(e);nn.traceDeprecation?console.trace(e):console.error(e),n=!0}return t.apply(this,arguments)}}var V3,Lg={};function P9(t){return Ss(V3)&&(V3=nn.env.NODE_DEBUG||""),t=t.toUpperCase(),!Lg[t]&&(new RegExp("\\b"+t+"\\b","i").test(V3)?Lg[t]=function(){var e=ly.apply(null,arguments);console.error("%s %d: %s",t,0,e)}:Lg[t]=function(){}),Lg[t]}function ks(t,e){var n={seen:[],stylize:CY};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),cy(e)?n.showHidden=e:e&&k_(n,e),Ss(n.showHidden)&&(n.showHidden=!1),Ss(n.depth)&&(n.depth=2),Ss(n.colors)&&(n.colors=!1),Ss(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=SY),lv(n,t,n.depth)}function SY(t,e){var n=ks.styles[e];return n?"\x1B["+ks.colors[n][0]+"m"+t+"\x1B["+ks.colors[n][1]+"m":t}function CY(t,e){return t}function lv(t,e,n){if(t.customInspect&&e&&Sh(e.inspect)&&e.inspect!==ks&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return Wh(r)||(r=lv(t,r,n)),r}var i=function(p,g){if(Ss(g))return p.stylize("undefined","undefined");if(Wh(g)){var m="'"+JSON.stringify(g).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return p.stylize(m,"string")}if(A_(g))return p.stylize(""+g,"number");if(cy(g))return p.stylize(""+g,"boolean");if(Dp(g))return p.stylize("null","null")}(t,e);if(i)return i;var o=Object.keys(e),a=function(p){var g={};return p.forEach(function(m,v){g[m]=!0}),g}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),_h(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return G3(e);if(o.length===0){if(Sh(e)){var s=e.name?": "+e.name:"";return t.stylize("[Function"+s+"]","special")}if(xh(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(cv(e))return t.stylize(Date.prototype.toString.call(e),"date");if(_h(e))return G3(e)}var l,c="",u=!1,f=["{","}"];return C_(e)&&(u=!0,f=["[","]"]),Sh(e)&&(c=" [Function"+(e.name?": "+e.name:"")+"]"),xh(e)&&(c=" "+RegExp.prototype.toString.call(e)),cv(e)&&(c=" "+Date.prototype.toUTCString.call(e)),_h(e)&&(c=" "+G3(e)),o.length!==0||u&&e.length!=0?n<0?xh(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),l=u?function(p,g,m,v,_){for(var w=[],I=0,k=g.length;I<k;++I)$9(g,String(I))?w.push(Y3(p,g,m,v,String(I),!0)):w.push("");return _.forEach(function($){$.match(/^\d+$/)||w.push(Y3(p,g,m,v,$,!0))}),w}(t,e,n,a,o):o.map(function(p){return Y3(t,e,n,a,p,u)}),t.seen.pop(),function(p,g,m){var v=p.reduce(function(_,w){return w.indexOf(`
`),_+w.replace(/\u001b\[\d\d?m/g,"").length+1},0);return v>60?m[0]+(g===""?"":g+`
 `)+" "+p.join(`,
  `)+" "+m[1]:m[0]+g+" "+p.join(", ")+" "+m[1]}(l,c,f)):f[0]+c+f[1]}function G3(t){return"["+Error.prototype.toString.call(t)+"]"}function Y3(t,e,n,r,i,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),$9(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(l.value)<0?(s=Dp(n)?lv(t,l.value,null):lv(t,l.value,n-1)).indexOf(`
`)>-1&&(s=o?s.split(`
`).map(function(c){return"  "+c}).join(`
`).substr(2):`
`+s.split(`
`).map(function(c){return"   "+c}).join(`
`)):s=t.stylize("[Circular]","special")),Ss(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function C_(t){return Array.isArray(t)}function cy(t){return typeof t=="boolean"}function Dp(t){return t===null}function N9(t){return t==null}function A_(t){return typeof t=="number"}function Wh(t){return typeof t=="string"}function L9(t){return typeof t=="symbol"}function Ss(t){return t===void 0}function xh(t){return Eu(t)&&I_(t)==="[object RegExp]"}function Eu(t){return typeof t=="object"&&t!==null}function cv(t){return Eu(t)&&I_(t)==="[object Date]"}function _h(t){return Eu(t)&&(I_(t)==="[object Error]"||t instanceof Error)}function Sh(t){return typeof t=="function"}function D9(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||t===void 0}function B9(t){return je.isBuffer(t)}function I_(t){return Object.prototype.toString.call(t)}function J3(t){return t<10?"0"+t.toString(10):t.toString(10)}ks.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},ks.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var AY=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function j9(){var t,e;console.log("%s - %s",(t=new Date,e=[J3(t.getHours()),J3(t.getMinutes()),J3(t.getSeconds())].join(":"),[t.getDate(),AY[t.getMonth()],e].join(" ")),ly.apply(null,arguments))}function k_(t,e){if(!e||!Eu(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}function $9(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var jc=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function M_(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');if(jc&&t[jc]){var e;if(typeof(e=t[jc])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,jc,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var n,r,i=new Promise(function(s,l){n=s,r=l}),o=[],a=0;a<arguments.length;a++)o.push(arguments[a]);o.push(function(s,l){s?r(s):n(l)});try{t.apply(this,o)}catch(s){r(s)}return i}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),jc&&Object.defineProperty(e,jc,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,T9(t))}function IY(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}function F9(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,n).then(function(s){nn.nextTick(a.bind(null,null,s))},function(s){nn.nextTick(IY.bind(null,s,a))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,T9(t)),e}M_.custom=jc;var Z3,Rk,Q3,Tk,kY={inherits:x_,_extend:k_,log:j9,isBuffer:B9,isPrimitive:D9,isFunction:Sh,isError:_h,isDate:cv,isObject:Eu,isRegExp:xh,isUndefined:Ss,isSymbol:L9,isString:Wh,isNumber:A_,isNullOrUndefined:N9,isNull:Dp,isBoolean:cy,isArray:C_,inspect:ks,deprecate:S_,format:ly,debuglog:P9,promisify:M_,callbackify:F9},U9=Pp(Object.freeze({__proto__:null,_extend:k_,callbackify:F9,debuglog:P9,default:kY,deprecate:S_,format:ly,inherits:x_,inspect:ks,isArray:C_,isBoolean:cy,isBuffer:B9,isDate:cv,isError:_h,isFunction:Sh,isNull:Dp,isNullOrUndefined:N9,isNumber:A_,isObject:Eu,isPrimitive:D9,isRegExp:xh,isString:Wh,isSymbol:L9,isUndefined:Ss,log:j9,promisify:M_}));function MY(){if(Rk)return Z3;function t(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(l);c&&(f=f.filter(function(p){return Object.getOwnPropertyDescriptor(l,p).enumerable})),u.push.apply(u,f)}return u}function e(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?t(Object(u),!0).forEach(function(f){n(l,f,u[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):t(Object(u)).forEach(function(f){Object.defineProperty(l,f,Object.getOwnPropertyDescriptor(u,f))})}return l}function n(l,c,u){return(c=i(c))in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function r(l,c,u){return c&&function(f,p){for(var g=0;g<p.length;g++){var m=p[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,i(m.key),m)}}(l.prototype,c),Object.defineProperty(l,"prototype",{writable:!1}),l}function i(l){var c=function(u,f){if(typeof u!="object"||u===null)return u;var p=u[Symbol.toPrimitive];if(p!==void 0){var g=p.call(u,f);if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(u)}(l,"string");return typeof c=="symbol"?c:String(c)}Rk=1;var o=__.Buffer,a=U9.inspect,s=a&&a.custom||"inspect";return Z3=function(){function l(){(function(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")})(this,l),this.head=null,this.tail=null,this.length=0}return r(l,[{key:"push",value:function(c){var u={data:c,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}},{key:"unshift",value:function(c){var u={data:c,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}},{key:"shift",value:function(){if(this.length!==0){var c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(c){if(this.length===0)return"";for(var u=this.head,f=""+u.data;u=u.next;)f+=c+u.data;return f}},{key:"concat",value:function(c){if(this.length===0)return o.alloc(0);for(var u,f,p,g=o.allocUnsafe(c>>>0),m=this.head,v=0;m;)u=m.data,f=g,p=v,o.prototype.copy.call(u,f,p),v+=m.data.length,m=m.next;return g}},{key:"consume",value:function(c,u){var f;return c<this.head.data.length?(f=this.head.data.slice(0,c),this.head.data=this.head.data.slice(c)):f=c===this.head.data.length?this.shift():u?this._getString(c):this._getBuffer(c),f}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(c){var u=this.head,f=1,p=u.data;for(c-=p.length;u=u.next;){var g=u.data,m=c>g.length?g.length:c;if(m===g.length?p+=g:p+=g.slice(0,c),(c-=m)===0){m===g.length?(++f,u.next?this.head=u.next:this.head=this.tail=null):(this.head=u,u.data=g.slice(m));break}++f}return this.length-=f,p}},{key:"_getBuffer",value:function(c){var u=o.allocUnsafe(c),f=this.head,p=1;for(f.data.copy(u),c-=f.data.length;f=f.next;){var g=f.data,m=c>g.length?g.length:c;if(g.copy(u,u.length-c,0,m),(c-=m)===0){m===g.length?(++p,f.next?this.head=f.next:this.head=this.tail=null):(this.head=f,f.data=g.slice(m));break}++p}return this.length-=p,u}},{key:s,value:function(c,u){return a(this,e(e({},u),{},{depth:0,customInspect:!1}))}}]),l}(),Z3}function z9(){if(Tk)return Q3;function t(r,i){n(r,i),e(r)}function e(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function n(r,i){r.emit("error",i)}return Tk=1,Q3={destroy:function(r,i){var o=this,a=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return a||s?(i?i(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,nn.nextTick(n,this,r)):nn.nextTick(n,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(l){!i&&l?o._writableState?o._writableState.errorEmitted?nn.nextTick(e,o):(o._writableState.errorEmitted=!0,nn.nextTick(t,o,l)):nn.nextTick(t,o,l):i?(nn.nextTick(e,o),i(l)):nn.nextTick(e,o)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(r,i){var o=r._readableState,a=r._writableState;o&&o.autoDestroy||a&&a.autoDestroy?r.destroy(i):r.emit("error",i)}},Q3}var xu={},Pk,Nk,q9={};function no(t,e,n){n||(n=Error);var r=function(i){var o,a;function s(l,c,u){return i.call(this,function(f,p,g){return typeof e=="string"?e:e(f,p,g)}(l,c,u))||this}return a=i,(o=s).prototype=Object.create(a.prototype),o.prototype.constructor=o,o.__proto__=a,s}(n);r.prototype.name=n.name,r.prototype.code=t,q9[t]=r}function Lk(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map(function(r){return String(r)}),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:n===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}function H9(){if(Nk)return Pk;Nk=1;var t=xu.codes.ERR_INVALID_OPT_VALUE;return Pk={getHighWaterMark:function(e,n,r,i){var o=function(a,s,l){return a.highWaterMark!=null?a.highWaterMark:s?a[l]:null}(n,i,r);if(o!=null){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new t(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}}no("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),no("ERR_INVALID_ARG_TYPE",function(t,e,n){var r,i,o;if(typeof e=="string"&&(i="not ",e.substr(0,i.length)===i)?(r="must not be",e=e.replace(/^not /,"")):r="must be",function(s,l,c){return(c===void 0||c>s.length)&&(c=s.length),s.substring(c-l.length,c)===l}(t," argument"))o="The ".concat(t," ").concat(r," ").concat(Lk(e,"type"));else{var a=function(s,l,c){return typeof c!="number"&&(c=0),!(c+l.length>s.length)&&s.indexOf(l,c)!==-1}(t,".")?"property":"argument";o='The "'.concat(t,'" ').concat(a," ").concat(r," ").concat(Lk(e,"type"))}return o+=". Received type ".concat(typeof n)},TypeError),no("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),no("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),no("ERR_STREAM_PREMATURE_CLOSE","Premature close"),no("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),no("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),no("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),no("ERR_STREAM_WRITE_AFTER_END","write after end"),no("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),no("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),no("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),xu.codes=q9;var X3,Dk,e2,Bk,t2,jk,OY=typeof Object.create=="function"?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t},Bp=Pp(Object.freeze({__proto__:null,default:OY}));function RY(){if(Dk)return X3;function t(e){try{if(!wo.localStorage)return!1}catch{return!1}var n=wo.localStorage[e];return n!=null&&String(n).toLowerCase()==="true"}return Dk=1,X3=function(e,n){if(t("noDeprecation"))return e;var r=!1;return function(){if(!r){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),r=!0}return e.apply(this,arguments)}},X3}function W9(){if(Bk)return e2;function t(y){var E=this;this.next=null,this.entry=null,this.finish=function(){(function(S,C,T){var j=S.entry;for(S.entry=null;j;){var A=j.callback;C.pendingcb--,A(T),j=j.next}C.corkedRequestsFree.next=S})(E,y)}}var e;Bk=1,e2=L,L.WritableState=$;var n={deprecate:RY()},r=R9(),i=__.Buffer,o=(wo!==void 0?wo:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},a,s=z9(),l=H9().getHighWaterMark,c=xu.codes,u=c.ERR_INVALID_ARG_TYPE,f=c.ERR_METHOD_NOT_IMPLEMENTED,p=c.ERR_MULTIPLE_CALLBACK,g=c.ERR_STREAM_CANNOT_PIPE,m=c.ERR_STREAM_DESTROYED,v=c.ERR_STREAM_NULL_VALUES,_=c.ERR_STREAM_WRITE_AFTER_END,w=c.ERR_UNKNOWN_ENCODING,I=s.errorOrDestroy;function k(){}function $(y,E,S){e=e||Vd(),y=y||{},typeof S!="boolean"&&(S=E instanceof e),this.objectMode=!!y.objectMode,S&&(this.objectMode=this.objectMode||!!y.writableObjectMode),this.highWaterMark=l(this,y,"writableHighWaterMark",S),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var C=y.decodeStrings===!1;this.decodeStrings=!C,this.defaultEncoding=y.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(T){(function(j,A){var M=j._writableState,x=M.sync,R=M.writecb;if(typeof R!="function")throw new p;if(function(U){U.writing=!1,U.writecb=null,U.length-=U.writelen,U.writelen=0}(M),A)(function(U,K,G,Q,ne){--K.pendingcb,G?(nn.nextTick(ne,Q),nn.nextTick(O,U,K),U._writableState.errorEmitted=!0,I(U,Q)):(ne(Q),U._writableState.errorEmitted=!0,I(U,Q),O(U,K))})(j,M,x,A,R);else{var F=D(M)||j.destroyed;F||M.corked||M.bufferProcessing||!M.bufferedRequest||P(j,M),x?nn.nextTick(H,j,M,F,R):H(j,M,F,R)}})(E,T)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=y.emitClose!==!1,this.autoDestroy=!!y.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}function L(y){var E=this instanceof(e=e||Vd());if(!E&&!a.call(L,this))return new L(y);this._writableState=new $(y,this,E),this.writable=!0,y&&(typeof y.write=="function"&&(this._write=y.write),typeof y.writev=="function"&&(this._writev=y.writev),typeof y.destroy=="function"&&(this._destroy=y.destroy),typeof y.final=="function"&&(this._final=y.final)),r.call(this)}function z(y,E,S,C,T,j,A){E.writelen=C,E.writecb=A,E.writing=!0,E.sync=!0,E.destroyed?E.onwrite(new m("write")):S?y._writev(T,E.onwrite):y._write(T,j,E.onwrite),E.sync=!1}function H(y,E,S,C){S||function(T,j){j.length===0&&j.needDrain&&(j.needDrain=!1,T.emit("drain"))}(y,E),E.pendingcb--,C(),O(y,E)}function P(y,E){E.bufferProcessing=!0;var S=E.bufferedRequest;if(y._writev&&S&&S.next){var C=E.bufferedRequestCount,T=new Array(C),j=E.corkedRequestsFree;j.entry=S;for(var A=0,M=!0;S;)T[A]=S,S.isBuf||(M=!1),S=S.next,A+=1;T.allBuffers=M,z(y,E,!0,E.length,T,"",j.finish),E.pendingcb++,E.lastBufferedRequest=null,j.next?(E.corkedRequestsFree=j.next,j.next=null):E.corkedRequestsFree=new t(E),E.bufferedRequestCount=0}else{for(;S;){var x=S.chunk,R=S.encoding,F=S.callback;if(z(y,E,!1,E.objectMode?1:x.length,x,R,F),S=S.next,E.bufferedRequestCount--,E.writing)break}S===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=S,E.bufferProcessing=!1}function D(y){return y.ending&&y.length===0&&y.bufferedRequest===null&&!y.finished&&!y.writing}function B(y,E){y._final(function(S){E.pendingcb--,S&&I(y,S),E.prefinished=!0,y.emit("prefinish"),O(y,E)})}function O(y,E){var S=D(E);if(S&&(function(T,j){j.prefinished||j.finalCalled||(typeof T._final!="function"||j.destroyed?(j.prefinished=!0,T.emit("prefinish")):(j.pendingcb++,j.finalCalled=!0,nn.nextTick(B,T,j)))}(y,E),E.pendingcb===0&&(E.finished=!0,y.emit("finish"),E.autoDestroy))){var C=y._readableState;(!C||C.autoDestroy&&C.endEmitted)&&y.destroy()}return S}return Bp(L,r),$.prototype.getBuffer=function(){for(var y=this.bufferedRequest,E=[];y;)E.push(y),y=y.next;return E},function(){try{Object.defineProperty($.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(L,Symbol.hasInstance,{value:function(y){return!!a.call(this,y)||this===L&&y&&y._writableState instanceof $}})):a=function(y){return y instanceof this},L.prototype.pipe=function(){I(this,new g)},L.prototype.write=function(y,E,S){var C,T=this._writableState,j=!1,A=!T.objectMode&&(C=y,i.isBuffer(C)||C instanceof o);return A&&!i.isBuffer(y)&&(y=function(M){return i.from(M)}(y)),typeof E=="function"&&(S=E,E=null),A?E="buffer":E||(E=T.defaultEncoding),typeof S!="function"&&(S=k),T.ending?function(M,x){var R=new _;I(M,R),nn.nextTick(x,R)}(this,S):(A||function(M,x,R,F){var U;return R===null?U=new v:typeof R=="string"||x.objectMode||(U=new u("chunk",["string","Buffer"],R)),!U||(I(M,U),nn.nextTick(F,U),!1)}(this,T,y,S))&&(T.pendingcb++,j=function(M,x,R,F,U,K){if(!R){var G=function(Z,ee,ie){return Z.objectMode||Z.decodeStrings===!1||typeof ee!="string"||(ee=i.from(ee,ie)),ee}(x,F,U);F!==G&&(R=!0,U="buffer",F=G)}var Q=x.objectMode?1:F.length;x.length+=Q;var ne=x.length<x.highWaterMark;if(ne||(x.needDrain=!0),x.writing||x.corked){var J=x.lastBufferedRequest;x.lastBufferedRequest={chunk:F,encoding:U,isBuf:R,callback:K,next:null},J?J.next=x.lastBufferedRequest:x.bufferedRequest=x.lastBufferedRequest,x.bufferedRequestCount+=1}else z(M,x,!1,Q,F,U,K);return ne}(this,T,A,y,E,S)),j},L.prototype.cork=function(){this._writableState.corked++},L.prototype.uncork=function(){var y=this._writableState;y.corked&&(y.corked--,y.writing||y.corked||y.bufferProcessing||!y.bufferedRequest||P(this,y))},L.prototype.setDefaultEncoding=function(y){if(typeof y=="string"&&(y=y.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((y+"").toLowerCase())>-1))throw new w(y);return this._writableState.defaultEncoding=y,this},Object.defineProperty(L.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(L.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),L.prototype._write=function(y,E,S){S(new f("_write()"))},L.prototype._writev=null,L.prototype.end=function(y,E,S){var C=this._writableState;return typeof y=="function"?(S=y,y=null,E=null):typeof E=="function"&&(S=E,E=null),y!=null&&this.write(y,E),C.corked&&(C.corked=1,this.uncork()),C.ending||function(T,j,A){j.ending=!0,O(T,j),A&&(j.finished?nn.nextTick(A):T.once("finish",A)),j.ended=!0,T.writable=!1}(this,C,S),this},Object.defineProperty(L.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(y){this._writableState&&(this._writableState.destroyed=y)}}),L.prototype.destroy=s.destroy,L.prototype._undestroy=s.undestroy,L.prototype._destroy=function(y,E){E(y)},e2}function Vd(){if(jk)return t2;jk=1;var t=Object.keys||function(c){var u=[];for(var f in c)u.push(f);return u};t2=a;var e=K9(),n=W9();Bp(a,e);for(var r=t(n.prototype),i=0;i<r.length;i++){var o=r[i];a.prototype[o]||(a.prototype[o]=n.prototype[o])}function a(c){if(!(this instanceof a))return new a(c);e.call(this,c),n.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s)))}function s(){this._writableState.ended||nn.nextTick(l,this)}function l(c){c.end()}return Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),t2}var TY=je.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Cm(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!TY(e))throw new Error("Unknown encoding: "+e)}(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=NY;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=LY;break;default:return void(this.write=PY)}this.charBuffer=new je(6),this.charReceived=0,this.charLength=0}function PY(t){return t.toString(this.encoding)}function NY(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function LY(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}Cm.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";if(t=t.slice(n,t.length),!((i=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,t.length===0)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var r=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,r),r-=this.charReceived);var i;if(r=(e+=t.toString(this.encoding,0,r)).length-1,(i=e.charCodeAt(r))>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,r)}return e},Cm.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(e==1&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=e},Cm.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;e+=r.slice(0,n).toString(i)}return e};var $k=Pp(Object.freeze({__proto__:null,StringDecoder:Cm})),Fk=xu.codes.ERR_STREAM_PREMATURE_CLOSE;function DY(){}var n2,Uk,zk,qk,r2,Hk,O_=function t(e,n,r){if(typeof n=="function")return t(e,null,n);n||(n={}),r=function(m){var v=!1;return function(){if(!v){v=!0;for(var _=arguments.length,w=new Array(_),I=0;I<_;I++)w[I]=arguments[I];m.apply(this,w)}}}(r||DY);var i=n.readable||n.readable!==!1&&e.readable,o=n.writable||n.writable!==!1&&e.writable,a=function(){e.writable||l()},s=e._writableState&&e._writableState.finished,l=function(){o=!1,s=!0,i||r.call(e)},c=e._readableState&&e._readableState.endEmitted,u=function(){i=!1,c=!0,o||r.call(e)},f=function(m){r.call(e,m)},p=function(){var m;return i&&!c?(e._readableState&&e._readableState.ended||(m=new Fk),r.call(e,m)):o&&!s?(e._writableState&&e._writableState.ended||(m=new Fk),r.call(e,m)):void 0},g=function(){e.req.on("finish",l)};return function(m){return m.setHeader&&typeof m.abort=="function"}(e)?(e.on("complete",l),e.on("abort",p),e.req?g():e.on("request",g)):o&&!e._writableState&&(e.on("end",a),e.on("close",a)),e.on("end",u),e.on("finish",l),n.error!==!1&&e.on("error",f),e.on("close",p),function(){e.removeListener("complete",l),e.removeListener("abort",p),e.removeListener("request",g),e.req&&e.req.removeListener("finish",l),e.removeListener("end",a),e.removeListener("close",a),e.removeListener("finish",l),e.removeListener("end",u),e.removeListener("error",f),e.removeListener("close",p)}};function BY(){if(Uk)return n2;var t;function e(v,_,w){return(_=function(I){var k=function($,L){if(typeof $!="object"||$===null)return $;var z=$[Symbol.toPrimitive];if(z!==void 0){var H=z.call($,L);if(typeof H!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)($)}(I,"string");return typeof k=="symbol"?k:String(k)}(_))in v?Object.defineProperty(v,_,{value:w,enumerable:!0,configurable:!0,writable:!0}):v[_]=w,v}Uk=1;var n=O_,r=Symbol("lastResolve"),i=Symbol("lastReject"),o=Symbol("error"),a=Symbol("ended"),s=Symbol("lastPromise"),l=Symbol("handlePromise"),c=Symbol("stream");function u(v,_){return{value:v,done:_}}function f(v){var _=v[r];if(_!==null){var w=v[c].read();w!==null&&(v[s]=null,v[r]=null,v[i]=null,_(u(w,!1)))}}function p(v){nn.nextTick(f,v)}var g=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((e(t={get stream(){return this[c]},next:function(){var v=this,_=this[o];if(_!==null)return Promise.reject(_);if(this[a])return Promise.resolve(u(void 0,!0));if(this[c].destroyed)return new Promise(function($,L){nn.nextTick(function(){v[o]?L(v[o]):$(u(void 0,!0))})});var w,I=this[s];if(I)w=new Promise(function($,L){return function(z,H){$.then(function(){L[a]?z(u(void 0,!0)):L[l](z,H)},H)}}(I,this));else{var k=this[c].read();if(k!==null)return Promise.resolve(u(k,!1));w=new Promise(this[l])}return this[s]=w,w}},Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var v=this;return new Promise(function(_,w){v[c].destroy(null,function(I){I?w(I):_(u(void 0,!0))})})}),t),g);return n2=function(v){var _,w=Object.create(m,(e(_={},c,{value:v,writable:!0}),e(_,r,{value:null,writable:!0}),e(_,i,{value:null,writable:!0}),e(_,o,{value:null,writable:!0}),e(_,a,{value:v._readableState.endEmitted,writable:!0}),e(_,l,{value:function(I,k){var $=w[c].read();$?(w[s]=null,w[r]=null,w[i]=null,I(u($,!1))):(w[r]=I,w[i]=k)},writable:!0}),_));return w[s]=null,n(v,function(I){if(I&&I.code!=="ERR_STREAM_PREMATURE_CLOSE"){var k=w[i];return k!==null&&(w[s]=null,w[r]=null,w[i]=null,k(I)),void(w[o]=I)}var $=w[r];$!==null&&(w[s]=null,w[r]=null,w[i]=null,$(u(void 0,!0))),w[a]=!0}),v.on("readable",p.bind(null,w)),w},n2}function K9(){if(Hk)return r2;var t;Hk=1,r2=L,L.ReadableState=$,E_.EventEmitter;var e=function(F,U){return F.listeners(U).length},n=R9(),r=__.Buffer,i=(wo!==void 0?wo:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},o,a=U9;o=a&&a.debuglog?a.debuglog("stream"):function(){};var s,l,c,u=MY(),f=z9(),p=H9().getHighWaterMark,g=xu.codes,m=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,_=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;Bp(L,n);var I=f.errorOrDestroy,k=["error","close","destroy","pause","resume"];function $(F,U,K){t=t||Vd(),F=F||{},typeof K!="boolean"&&(K=U instanceof t),this.objectMode=!!F.objectMode,K&&(this.objectMode=this.objectMode||!!F.readableObjectMode),this.highWaterMark=p(this,F,"readableHighWaterMark",K),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=F.emitClose!==!1,this.autoDestroy=!!F.autoDestroy,this.destroyed=!1,this.defaultEncoding=F.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,F.encoding&&(s||(s=$k.StringDecoder),this.decoder=new s(F.encoding),this.encoding=F.encoding)}function L(F){if(t=t||Vd(),!(this instanceof L))return new L(F);var U=this instanceof t;this._readableState=new $(F,this,U),this.readable=!0,F&&(typeof F.read=="function"&&(this._read=F.read),typeof F.destroy=="function"&&(this._destroy=F.destroy)),n.call(this)}function z(F,U,K,G,Q){o("readableAddChunk",U);var ne,J=F._readableState;if(U===null)J.reading=!1,function(Z,ee){if(o("onEofChunk"),!ee.ended){if(ee.decoder){var ie=ee.decoder.end();ie&&ie.length&&(ee.buffer.push(ie),ee.length+=ee.objectMode?1:ie.length)}ee.ended=!0,ee.sync?B(Z):(ee.needReadable=!1,ee.emittedReadable||(ee.emittedReadable=!0,O(Z)))}}(F,J);else if(Q||(ne=function(Z,ee){var ie;se=ee,r.isBuffer(se)||se instanceof i||typeof ee=="string"||ee===void 0||Z.objectMode||(ie=new m("chunk",["string","Buffer","Uint8Array"],ee));var se;return ie}(J,U)),ne)I(F,ne);else if(J.objectMode||U&&U.length>0)if(typeof U=="string"||J.objectMode||Object.getPrototypeOf(U)===r.prototype||(U=function(Z){return r.from(Z)}(U)),G)J.endEmitted?I(F,new w):H(F,J,U,!0);else if(J.ended)I(F,new v);else{if(J.destroyed)return!1;J.reading=!1,J.decoder&&!K?(U=J.decoder.write(U),J.objectMode||U.length!==0?H(F,J,U,!1):y(F,J)):H(F,J,U,!1)}else G||(J.reading=!1,y(F,J));return!J.ended&&(J.length<J.highWaterMark||J.length===0)}function H(F,U,K,G){U.flowing&&U.length===0&&!U.sync?(U.awaitDrain=0,F.emit("data",K)):(U.length+=U.objectMode?1:K.length,G?U.buffer.unshift(K):U.buffer.push(K),U.needReadable&&B(F)),y(F,U)}Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(F){this._readableState&&(this._readableState.destroyed=F)}}),L.prototype.destroy=f.destroy,L.prototype._undestroy=f.undestroy,L.prototype._destroy=function(F,U){U(F)},L.prototype.push=function(F,U){var K,G=this._readableState;return G.objectMode?K=!0:typeof F=="string"&&((U=U||G.defaultEncoding)!==G.encoding&&(F=r.from(F,U),U=""),K=!0),z(this,F,U,!1,K)},L.prototype.unshift=function(F){return z(this,F,null,!0,!1)},L.prototype.isPaused=function(){return this._readableState.flowing===!1},L.prototype.setEncoding=function(F){s||(s=$k.StringDecoder);var U=new s(F);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;for(var K=this._readableState.buffer.head,G="";K!==null;)G+=U.write(K.data),K=K.next;return this._readableState.buffer.clear(),G!==""&&this._readableState.buffer.push(G),this._readableState.length=G.length,this};var P=1073741824;function D(F,U){return F<=0||U.length===0&&U.ended?0:U.objectMode?1:F!=F?U.flowing&&U.length?U.buffer.head.data.length:U.length:(F>U.highWaterMark&&(U.highWaterMark=function(K){return K>=P?K=P:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K}(F)),F<=U.length?F:U.ended?U.length:(U.needReadable=!0,0))}function B(F){var U=F._readableState;o("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,U.emittedReadable||(o("emitReadable",U.flowing),U.emittedReadable=!0,nn.nextTick(O,F))}function O(F){var U=F._readableState;o("emitReadable_",U.destroyed,U.length,U.ended),U.destroyed||!U.length&&!U.ended||(F.emit("readable"),U.emittedReadable=!1),U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,j(F)}function y(F,U){U.readingMore||(U.readingMore=!0,nn.nextTick(E,F,U))}function E(F,U){for(;!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&U.length===0);){var K=U.length;if(o("maybeReadMore read 0"),F.read(0),K===U.length)break}U.readingMore=!1}function S(F){var U=F._readableState;U.readableListening=F.listenerCount("readable")>0,U.resumeScheduled&&!U.paused?U.flowing=!0:F.listenerCount("data")>0&&F.resume()}function C(F){o("readable nexttick read 0"),F.read(0)}function T(F,U){o("resume",U.reading),U.reading||F.read(0),U.resumeScheduled=!1,F.emit("resume"),j(F),U.flowing&&!U.reading&&F.read(0)}function j(F){var U=F._readableState;for(o("flow",U.flowing);U.flowing&&F.read()!==null;);}function A(F,U){return U.length===0?null:(U.objectMode?K=U.buffer.shift():!F||F>=U.length?(K=U.decoder?U.buffer.join(""):U.buffer.length===1?U.buffer.first():U.buffer.concat(U.length),U.buffer.clear()):K=U.buffer.consume(F,U.decoder),K);var K}function M(F){var U=F._readableState;o("endReadable",U.endEmitted),U.endEmitted||(U.ended=!0,nn.nextTick(x,U,F))}function x(F,U){if(o("endReadableNT",F.endEmitted,F.length),!F.endEmitted&&F.length===0&&(F.endEmitted=!0,U.readable=!1,U.emit("end"),F.autoDestroy)){var K=U._writableState;(!K||K.autoDestroy&&K.finished)&&U.destroy()}}function R(F,U){for(var K=0,G=F.length;K<G;K++)if(F[K]===U)return K;return-1}return L.prototype.read=function(F){o("read",F),F=parseInt(F,10);var U=this._readableState,K=F;if(F!==0&&(U.emittedReadable=!1),F===0&&U.needReadable&&((U.highWaterMark!==0?U.length>=U.highWaterMark:U.length>0)||U.ended))return o("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?M(this):B(this),null;if((F=D(F,U))===0&&U.ended)return U.length===0&&M(this),null;var G,Q=U.needReadable;return o("need readable",Q),(U.length===0||U.length-F<U.highWaterMark)&&o("length less than watermark",Q=!0),U.ended||U.reading?o("reading or ended",Q=!1):Q&&(o("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(F=D(K,U))),(G=F>0?A(F,U):null)===null?(U.needReadable=U.length<=U.highWaterMark,F=0):(U.length-=F,U.awaitDrain=0),U.length===0&&(U.ended||(U.needReadable=!0),K!==F&&U.ended&&M(this)),G!==null&&this.emit("data",G),G},L.prototype._read=function(F){I(this,new _("_read()"))},L.prototype.pipe=function(F,U){var K=this,G=this._readableState;switch(G.pipesCount){case 0:G.pipes=F;break;case 1:G.pipes=[G.pipes,F];break;default:G.pipes.push(F)}G.pipesCount+=1,o("pipe count=%d opts=%j",G.pipesCount,U);var Q=(!U||U.end!==!1)&&F!==nn.stdout&&F!==nn.stderr?J:de;function ne(me,Ee){o("onunpipe"),me===K&&Ee&&Ee.hasUnpiped===!1&&(Ee.hasUnpiped=!0,o("cleanup"),F.removeListener("close",X),F.removeListener("finish",ae),F.removeListener("drain",Z),F.removeListener("error",se),F.removeListener("unpipe",ne),K.removeListener("end",J),K.removeListener("end",de),K.removeListener("data",ie),ee=!0,!G.awaitDrain||F._writableState&&!F._writableState.needDrain||Z())}function J(){o("onend"),F.end()}G.endEmitted?nn.nextTick(Q):K.once("end",Q),F.on("unpipe",ne);var Z=function(me){return function(){var Ee=me._readableState;o("pipeOnDrain",Ee.awaitDrain),Ee.awaitDrain&&Ee.awaitDrain--,Ee.awaitDrain===0&&e(me,"data")&&(Ee.flowing=!0,j(me))}}(K);F.on("drain",Z);var ee=!1;function ie(me){o("ondata");var Ee=F.write(me);o("dest.write",Ee),Ee===!1&&((G.pipesCount===1&&G.pipes===F||G.pipesCount>1&&R(G.pipes,F)!==-1)&&!ee&&(o("false write response, pause",G.awaitDrain),G.awaitDrain++),K.pause())}function se(me){o("onerror",me),de(),F.removeListener("error",se),e(F,"error")===0&&I(F,me)}function X(){F.removeListener("finish",ae),de()}function ae(){o("onfinish"),F.removeListener("close",X),de()}function de(){o("unpipe"),K.unpipe(F)}return K.on("data",ie),function(me,Ee,ye){if(typeof me.prependListener=="function")return me.prependListener(Ee,ye);me._events&&me._events[Ee]?Array.isArray(me._events[Ee])?me._events[Ee].unshift(ye):me._events[Ee]=[ye,me._events[Ee]]:me.on(Ee,ye)}(F,"error",se),F.once("close",X),F.once("finish",ae),F.emit("pipe",K),G.flowing||(o("pipe resume"),K.resume()),F},L.prototype.unpipe=function(F){var U=this._readableState,K={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return F&&F!==U.pipes||(F||(F=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,F&&F.emit("unpipe",this,K)),this;if(!F){var G=U.pipes,Q=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var ne=0;ne<Q;ne++)G[ne].emit("unpipe",this,{hasUnpiped:!1});return this}var J=R(U.pipes,F);return J===-1||(U.pipes.splice(J,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),F.emit("unpipe",this,K)),this},L.prototype.on=function(F,U){var K=n.prototype.on.call(this,F,U),G=this._readableState;return F==="data"?(G.readableListening=this.listenerCount("readable")>0,G.flowing!==!1&&this.resume()):F==="readable"&&(G.endEmitted||G.readableListening||(G.readableListening=G.needReadable=!0,G.flowing=!1,G.emittedReadable=!1,o("on readable",G.length,G.reading),G.length?B(this):G.reading||nn.nextTick(C,this))),K},L.prototype.addListener=L.prototype.on,L.prototype.removeListener=function(F,U){var K=n.prototype.removeListener.call(this,F,U);return F==="readable"&&nn.nextTick(S,this),K},L.prototype.removeAllListeners=function(F){var U=n.prototype.removeAllListeners.apply(this,arguments);return F!=="readable"&&F!==void 0||nn.nextTick(S,this),U},L.prototype.resume=function(){var F=this._readableState;return F.flowing||(o("resume"),F.flowing=!F.readableListening,function(U,K){K.resumeScheduled||(K.resumeScheduled=!0,nn.nextTick(T,U,K))}(this,F)),F.paused=!1,this},L.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},L.prototype.wrap=function(F){var U=this,K=this._readableState,G=!1;for(var Q in F.on("end",function(){if(o("wrapped end"),K.decoder&&!K.ended){var J=K.decoder.end();J&&J.length&&U.push(J)}U.push(null)}),F.on("data",function(J){o("wrapped data"),K.decoder&&(J=K.decoder.write(J)),K.objectMode&&J==null||(K.objectMode||J&&J.length)&&(U.push(J)||(G=!0,F.pause()))}),F)this[Q]===void 0&&typeof F[Q]=="function"&&(this[Q]=function(J){return function(){return F[J].apply(F,arguments)}}(Q));for(var ne=0;ne<k.length;ne++)F.on(k[ne],this.emit.bind(this,k[ne]));return this._read=function(J){o("wrapped _read",J),G&&(G=!1,F.resume())},this},typeof Symbol=="function"&&(L.prototype[Symbol.asyncIterator]=function(){return l===void 0&&(l=BY()),l(this)}),Object.defineProperty(L.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(L.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(L.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(F){this._readableState&&(this._readableState.flowing=F)}}),L._fromList=A,Object.defineProperty(L.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(L.from=function(F,U){return c===void 0&&(c=qk?zk:(qk=1,zk=function(){throw new Error("Readable.from is not available in the browser")})),c(L,F,U)}),r2}var V9=la,uy=xu.codes,jY=uy.ERR_METHOD_NOT_IMPLEMENTED,$Y=uy.ERR_MULTIPLE_CALLBACK,FY=uy.ERR_TRANSFORM_ALREADY_TRANSFORMING,UY=uy.ERR_TRANSFORM_WITH_LENGTH_0,Am=Vd();function zY(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(r===null)return this.emit("error",new $Y);n.writechunk=null,n.writecb=null,e!=null&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function la(t){if(!(this instanceof la))return new la(t);Am.call(this,t),this._transformState={afterTransform:zY.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",qY)}function qY(){var t=this;typeof this._flush!="function"||this._readableState.destroyed?Wk(this,null,null):this._flush(function(e,n){Wk(t,e,n)})}function Wk(t,e,n){if(e)return t.emit("error",e);if(n!=null&&t.push(n),t._writableState.length)throw new UY;if(t._transformState.transforming)throw new FY;return t.push(null)}Bp(la,Am),la.prototype.push=function(t,e){return this._transformState.needTransform=!1,Am.prototype.push.call(this,t,e)},la.prototype._transform=function(t,e,n){n(new jY("_transform()"))},la.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},la.prototype._read=function(t){var e=this._transformState;e.writechunk===null||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},la.prototype._destroy=function(t,e){Am.prototype._destroy.call(this,t,function(n){e(n)})};var i2,HY=Kh,G9=V9;function Kh(t){if(!(this instanceof Kh))return new Kh(t);G9.call(this,t)}Bp(Kh,G9),Kh.prototype._transform=function(t,e,n){n(null,t)};var Y9=xu.codes,WY=Y9.ERR_MISSING_ARGS,KY=Y9.ERR_STREAM_DESTROYED;function Kk(t){if(t)throw t}function Vk(t){t()}function VY(t,e){return t.pipe(e)}var GY=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=function(a){return a.length?typeof a[a.length-1]!="function"?Kk:a.pop():Kk}(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new WY("streams");var o=e.map(function(a,s){var l=s<e.length-1;return function(c,u,f,p){p=function(v){var _=!1;return function(){_||(_=!0,v.apply(void 0,arguments))}}(p);var g=!1;c.on("close",function(){g=!0}),i2===void 0&&(i2=O_),i2(c,{readable:u,writable:f},function(v){if(v)return p(v);g=!0,p()});var m=!1;return function(v){if(!g&&!m)return m=!0,function(_){return _.setHeader&&typeof _.abort=="function"}(c)?c.abort():typeof c.destroy=="function"?c.destroy():void p(v||new KY("pipe"))}}(a,l,s>0,function(c){r||(r=c),c&&o.forEach(Vk),l||(o.forEach(Vk),i(r))})});return e.reduce(VY)};(function(t,e){(e=OE.exports=K9()).Stream=e,e.Readable=e,e.Writable=W9(),e.Duplex=Vd(),e.Transform=V9,e.PassThrough=HY,e.finished=O_,e.pipeline=GY})(0,OE.exports);var Gd=OE.exports;function YY(t={}){const e={},n=new Gd.Duplex({objectMode:!0,read:()=>{},write:function(o,a,s){let l=null;try{o.id?function(c){const{id:u}=c;if(u===null)return;const f=e[u];if(!f)return void console.warn(`StreamMiddleware - Unknown response id "${u}"`);delete e[u],Object.assign(f.res,c),setTimeout(f.end)}(o):function(c){t!=null&&t.retryOnMessage&&c.method===t.retryOnMessage&&Object.values(e).forEach(({req:u,retryCount:f=0})=>{if(!u.id)return;if(f>=3)throw new Error(`StreamMiddleware - Retry limit exceeded for request id "${u.id}"`);const p=e[u.id];p&&(p.retryCount=f+1),i(u)}),r.emit("notification",c)}(o)}catch(c){l=c}s(l)}}),r=new S9;return{events:r,middleware:(o,a,s,l)=>{e[o.id]={req:o,res:a,next:s,end:l},i(o)},stream:n};function i(o){n.push(o)}}var uv={},RE={exports:{}},JY=function t(e,n){if(e&&n)return t(e)(n);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(i){r[i]=e[i]}),r;function r(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];var a=e.apply(this,i),s=i[i.length-1];return typeof a=="function"&&a!==s&&Object.keys(s).forEach(function(l){a[l]=s[l]}),a}},Gk=JY;function Dg(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function Yk(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},n=t.name||"Function wrapped with `once`";return e.onceError=n+" shouldn't be called more than once",e.called=!1,e}RE.exports=Gk(Dg),RE.exports.strict=Gk(Yk),Dg.proto=Dg(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Dg(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Yk(this)},configurable:!0})});var ZY=RE.exports,dv={};Object.defineProperty(dv,"__esModule",{value:!0}),dv.Substream=void 0;const QY=Gd;class XY extends QY.Duplex{constructor({parent:e,name:n}){super({objectMode:!0}),this._parent=e,this._name=n}_read(){}_write(e,n,r){this._parent.push({name:this._name,data:e}),r()}}dv.Substream=XY;var eJ=wo&&wo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(uv,"__esModule",{value:!0}),uv.ObjectMultiplex=void 0;const o2=Gd,tJ=eJ(ZY),nJ=dv,Jk=Symbol("IGNORE_SUBSTREAM");let rJ=class extends o2.Duplex{constructor(t={}){super(Object.assign(Object.assign({},t),{objectMode:!0})),this._substreams={}}createStream(t){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name "${t}" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name "${t}" already ended`);if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error(`ObjectMultiplex - Substream for name "${t}" already exists`);const e=new nJ.Substream({parent:this,name:t});return this._substreams[t]=e,function(n,r){const i=(0,tJ.default)(r);(0,o2.finished)(n,{readable:!1},i),(0,o2.finished)(n,{writable:!1},i)}(this,n=>e.destroy(n||void 0)),e}ignoreStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error(`ObjectMultiplex - Substream for name "${t}" already exists`);this._substreams[t]=Jk}_read(){}_write(t,e,n){const{name:r,data:i}=t;if(!r)return console.warn(`ObjectMultiplex - malformed chunk without name "${t}"`),n();const o=this._substreams[r];return o?(o!==Jk&&o.push(i),n()):(console.warn(`ObjectMultiplex - orphaned data for stream "${r}"`),n())}};uv.ObjectMultiplex=rJ;var iJ=oy(uv.ObjectMultiplex);const fs=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";fs.writable=t=>fs(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object",fs.readable=t=>fs(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object",fs.duplex=t=>fs.writable(t)&&fs.readable(t),fs.transform=t=>fs.duplex(t)&&typeof t._transform=="function";var hs,oJ=fs,sJ=class extends xY{constructor(t,{jsonRpcStreamName:e,logger:n=console,maxEventListeners:r=100,rpcMiddleware:i=[]}){if(super({logger:n,maxEventListeners:r,rpcMiddleware:i}),!oJ.duplex(t))throw new Error(Fn.errors.invalidDuplexStream());this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this);const o=new iJ;Gd.pipeline(t,o,t,this._handleStreamDisconnect.bind(this,"MetaMask")),this._jsonRpcConnection=YY({retryOnMessage:"METAMASK_EXTENSION_CONNECT_CAN_RETRY"}),Gd.pipeline(this._jsonRpcConnection.stream,o.createStream(e),this._jsonRpcConnection.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider")),this._rpcEngine.push(this._jsonRpcConnection.middleware),this._jsonRpcConnection.events.on("notification",a=>{const{method:s,params:l}=a;s==="metamask_accountsChanged"?this._handleAccountsChanged(l):s==="metamask_unlockStateChanged"?this._handleUnlockStateChanged(l):s==="metamask_chainChanged"?this._handleChainChanged(l):C9.includes(s)?this.emit("message",{type:s,data:l}):s==="METAMASK_STREAM_FAILURE"&&t.destroy(new Error(Fn.errors.permanentlyDisconnected()))})}async _initializeStateAsync(){let t;try{t=await this.request({method:"metamask_getProviderState"})}catch(e){this._log.error("MetaMask: Failed to get initial state. Please report this bug.",e)}this._initializeState(t)}_handleStreamDisconnect(t,e){let n=`MetaMask: Lost connection to "${t}".`;e!=null&&e.stack&&(n+=`
${e.stack}`),this._log.warn(n),this.listenerCount("error")>0&&this.emit("error",n),this._handleDisconnect(!1,e?e.message:void 0)}_handleChainChanged({chainId:t,networkVersion:e}={}){A9(t)&&(n=>!!n&&typeof n=="string")(e)?e==="loading"?this._handleDisconnect(!0):super._handleChainChanged({chainId:t}):this._log.error(Fn.errors.invalidNetworkParams(),{chainId:t,networkVersion:e})}},aJ=class extends sJ{constructor(t,{jsonRpcStreamName:e="metamask-provider",logger:n=console,maxEventListeners:r=100,shouldSendMetadata:i}={}){if(super(t,{jsonRpcStreamName:e,logger:n,maxEventListeners:r,rpcMiddleware:pY(n)}),this._sentWarnings={chainId:!1,networkVersion:!1,selectedAddress:!1,enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}},ME(this,hs,void 0),this._initializeStateAsync(),aa(this,hs,null),this.isMetaMask=!0,this._sendSync=this._sendSync.bind(this),this.enable=this.enable.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._metamask=this._getExperimentalApi(),this._jsonRpcConnection.events.on("notification",o=>{const{method:a}=o;C9.includes(a)&&(this.emit("data",o),this.emit("notification",o.params.result))}),i)if(document.readyState==="complete")Ik(this._rpcEngine,this._log);else{const o=()=>{Ik(this._rpcEngine,this._log),window.removeEventListener("DOMContentLoaded",o)};window.addEventListener("DOMContentLoaded",o)}}get chainId(){return this._sentWarnings.chainId||(this._log.warn(Fn.warnings.chainIdDeprecation),this._sentWarnings.chainId=!0),super.chainId}get networkVersion(){return this._sentWarnings.networkVersion||(this._log.warn(Fn.warnings.networkVersionDeprecation),this._sentWarnings.networkVersion=!0),xs(this,hs)}get selectedAddress(){return this._sentWarnings.selectedAddress||(this._log.warn(Fn.warnings.selectedAddressDeprecation),this._sentWarnings.selectedAddress=!0),super.selectedAddress}sendAsync(t,e){this._rpcRequest(t,e)}addListener(t,e){return this._warnOfDeprecation(t),super.addListener(t,e)}on(t,e){return this._warnOfDeprecation(t),super.on(t,e)}once(t,e){return this._warnOfDeprecation(t),super.once(t,e)}prependListener(t,e){return this._warnOfDeprecation(t),super.prependListener(t,e)}prependOnceListener(t,e){return this._warnOfDeprecation(t),super.prependOnceListener(t,e)}_handleDisconnect(t,e){super._handleDisconnect(t,e),xs(this,hs)&&!t&&aa(this,hs,null)}_warnOfDeprecation(t){var e;((e=this._sentWarnings)==null?void 0:e.events[t])===!1&&(this._log.warn(Fn.warnings.events[t]),this._sentWarnings.events[t]=!0)}async enable(){return this._sentWarnings.enable||(this._log.warn(Fn.warnings.enableDeprecation),this._sentWarnings.enable=!0),new Promise((t,e)=>{try{this._rpcRequest({method:"eth_requestAccounts",params:[]},Sm(t,e))}catch(n){e(n)}})}send(t,e){return this._sentWarnings.send||(this._log.warn(Fn.warnings.sendDeprecation),this._sentWarnings.send=!0),typeof t!="string"||e&&!Array.isArray(e)?t&&typeof t=="object"&&typeof e=="function"?this._rpcRequest(t,e):this._sendSync(t):new Promise((n,r)=>{try{this._rpcRequest({method:t,params:e},Sm(n,r,!1))}catch(i){r(i)}})}_sendSync(t){let e;switch(t.method){case"eth_accounts":e=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":e=this.selectedAddress??null;break;case"eth_uninstallFilter":this._rpcRequest(t,I9),e=!0;break;case"net_version":e=xs(this,hs)??null;break;default:throw new Error(Fn.errors.unsupportedSync(t.method))}return{id:t.id,jsonrpc:t.jsonrpc,result:e}}_getExperimentalApi(){return new Proxy({isUnlocked:async()=>(this._state.initialized||await new Promise(t=>{this.on("_initialized",()=>t())}),this._state.isUnlocked),requestBatch:async t=>{if(!Array.isArray(t))throw bh({message:"Batch requests must be made with an array of request objects.",data:t});return new Promise((e,n)=>{this._rpcRequest(t,Sm(e,n))})}},{get:(t,e,...n)=>(this._sentWarnings.experimentalMethods||(this._log.warn(Fn.warnings.experimentalMethods),this._sentWarnings.experimentalMethods=!0),Reflect.get(t,e,...n))})}_handleChainChanged({chainId:t,networkVersion:e}={}){super._handleChainChanged({chainId:t,networkVersion:e}),this._state.isConnected&&e!==xs(this,hs)&&(aa(this,hs,e),this._state.initialized&&this.emit("networkChanged",xs(this,hs)))}};hs=new WeakMap;const Ne=ni("MM_SDK");let Zk;Ne.color="#FFAC1C";var J9={},Fl={};Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.EthereumProviderError=Fl.EthereumRpcError=void 0;const lJ=y9;class Z9 extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return lJ.default(this.serialize(),cJ,2)}}Fl.EthereumRpcError=Z9;function cJ(t,e){if(e!=="[Circular]")return e}Fl.EthereumProviderError=class extends Z9{constructor(t,e,n){if(!function(r){return Number.isInteger(r)&&r>=1e3&&r<=4999}(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,e,n)}};var R_={},El={};Object.defineProperty(El,"__esModule",{value:!0}),El.errorValues=El.errorCodes=void 0,El.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},El.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=El,n=Fl,r=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",o={code:r,message:a(r)};function a(f,p=i){if(Number.isInteger(f)){const g=f.toString();if(u(e.errorValues,g))return e.errorValues[g].message;if(l(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return p}function s(f){if(!Number.isInteger(f))return!1;const p=f.toString();return!!e.errorValues[p]||!!l(f)}function l(f){return f>=-32099&&f<=-32e3}function c(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function u(f,p){return Object.prototype.hasOwnProperty.call(f,p)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=a,t.isValidCode=s,t.serializeError=function(f,{fallbackError:p=o,shouldIncludeStack:g=!1}={}){var m,v;if(!p||!Number.isInteger(p.code)||typeof p.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof n.EthereumRpcError)return f.serialize();const _={};if(f&&typeof f=="object"&&!Array.isArray(f)&&u(f,"code")&&s(f.code)){const I=f;_.code=I.code,I.message&&typeof I.message=="string"?(_.message=I.message,u(I,"data")&&(_.data=I.data)):(_.message=a(_.code),_.data={originalError:c(f)})}else{_.code=p.code;const I=(m=f)===null||m===void 0?void 0:m.message;_.message=I&&typeof I=="string"?I:p.message,_.data={originalError:c(f)}}const w=(v=f)===null||v===void 0?void 0:v.stack;return g&&f&&w&&typeof w=="string"&&(_.stack=w),_}}(R_);var fv={};Object.defineProperty(fv,"__esModule",{value:!0}),fv.ethErrors=void 0;const T_=Fl,Q9=R_,Lr=El;function ro(t,e){const[n,r]=X9(e);return new T_.EthereumRpcError(t,n||Q9.getMessageFromCode(t),r)}function eh(t,e){const[n,r]=X9(e);return new T_.EthereumProviderError(t,n||Q9.getMessageFromCode(t),r)}function X9(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}fv.ethErrors={rpc:{parse:t=>ro(Lr.errorCodes.rpc.parse,t),invalidRequest:t=>ro(Lr.errorCodes.rpc.invalidRequest,t),invalidParams:t=>ro(Lr.errorCodes.rpc.invalidParams,t),methodNotFound:t=>ro(Lr.errorCodes.rpc.methodNotFound,t),internal:t=>ro(Lr.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return ro(e,t)},invalidInput:t=>ro(Lr.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>ro(Lr.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>ro(Lr.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>ro(Lr.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>ro(Lr.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>ro(Lr.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>eh(Lr.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>eh(Lr.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>eh(Lr.errorCodes.provider.unsupportedMethod,t),disconnected:t=>eh(Lr.errorCodes.provider.disconnected,t),chainDisconnected:t=>eh(Lr.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new T_.EthereumProviderError(e,n,r)}}},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Fl;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const n=R_;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return n.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return n.getMessageFromCode}});const r=fv;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return r.ethErrors}});const i=El;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})}(J9);var eN={exports:{}};eN.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(r,i,o){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:o})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var a in r)n.d(o,a,(function(s){return r[s]}).bind(null,a));return o},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=90)}({17:function(t,e,n){e.__esModule=!0,e.default=void 0;var r=n(18),i=function(){function o(){}return o.getFirstMatch=function(a,s){var l=s.match(a);return l&&l.length>0&&l[1]||""},o.getSecondMatch=function(a,s){var l=s.match(a);return l&&l.length>1&&l[2]||""},o.matchAndReturnConst=function(a,s,l){if(a.test(s))return l},o.getWindowsVersionName=function(a){switch(a){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},o.getMacOSVersionName=function(a){var s=a.split(".").splice(0,2).map(function(l){return parseInt(l,10)||0});if(s.push(0),s[0]===10)switch(s[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},o.getAndroidVersionName=function(a){var s=a.split(".").splice(0,2).map(function(l){return parseInt(l,10)||0});if(s.push(0),!(s[0]===1&&s[1]<5))return s[0]===1&&s[1]<6?"Cupcake":s[0]===1&&s[1]>=6?"Donut":s[0]===2&&s[1]<2?"Eclair":s[0]===2&&s[1]===2?"Froyo":s[0]===2&&s[1]>2?"Gingerbread":s[0]===3?"Honeycomb":s[0]===4&&s[1]<1?"Ice Cream Sandwich":s[0]===4&&s[1]<4?"Jelly Bean":s[0]===4&&s[1]>=4?"KitKat":s[0]===5?"Lollipop":s[0]===6?"Marshmallow":s[0]===7?"Nougat":s[0]===8?"Oreo":s[0]===9?"Pie":void 0},o.getVersionPrecision=function(a){return a.split(".").length},o.compareVersions=function(a,s,l){l===void 0&&(l=!1);var c=o.getVersionPrecision(a),u=o.getVersionPrecision(s),f=Math.max(c,u),p=0,g=o.map([a,s],function(m){var v=f-o.getVersionPrecision(m),_=m+new Array(v+1).join(".0");return o.map(_.split("."),function(w){return new Array(20-w.length).join("0")+w}).reverse()});for(l&&(p=f-Math.min(c,u)),f-=1;f>=p;){if(g[0][f]>g[1][f])return 1;if(g[0][f]===g[1][f]){if(f===p)return 0;f-=1}else if(g[0][f]<g[1][f])return-1}},o.map=function(a,s){var l,c=[];if(Array.prototype.map)return Array.prototype.map.call(a,s);for(l=0;l<a.length;l+=1)c.push(s(a[l]));return c},o.find=function(a,s){var l,c;if(Array.prototype.find)return Array.prototype.find.call(a,s);for(l=0,c=a.length;l<c;l+=1){var u=a[l];if(s(u,l))return u}},o.assign=function(a){for(var s,l,c=a,u=arguments.length,f=new Array(u>1?u-1:0),p=1;p<u;p++)f[p-1]=arguments[p];if(Object.assign)return Object.assign.apply(Object,[a].concat(f));var g=function(){var m=f[s];typeof m=="object"&&m!==null&&Object.keys(m).forEach(function(v){c[v]=m[v]})};for(s=0,l=f.length;s<l;s+=1)g();return a},o.getBrowserAlias=function(a){return r.BROWSER_ALIASES_MAP[a]},o.getBrowserTypeByAlias=function(a){return r.BROWSER_MAP[a]||""},o}();e.default=i,t.exports=e.default},18:function(t,e,n){e.__esModule=!0,e.ENGINE_MAP=e.OS_MAP=e.PLATFORMS_MAP=e.BROWSER_MAP=e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},e.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},e.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},e.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},e.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function a(l,c){for(var u=0;u<c.length;u++){var f=c[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}var s=function(){function l(){}var c,u,f;return l.getParser=function(p,g){if(g===void 0&&(g=!1),typeof p!="string")throw new Error("UserAgent should be a string");return new i.default(p,g)},l.parse=function(p){return new i.default(p).getResult()},c=l,f=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(u=null)&&a(c.prototype,u),f&&a(c,f),l}();e.default=s,t.exports=e.default},91:function(t,e,n){e.__esModule=!0,e.default=void 0;var r=l(n(92)),i=l(n(93)),o=l(n(94)),a=l(n(95)),s=l(n(17));function l(u){return u&&u.__esModule?u:{default:u}}var c=function(){function u(p,g){if(g===void 0&&(g=!1),p==null||p==="")throw new Error("UserAgent parameter can't be empty");this._ua=p,this.parsedResult={},g!==!0&&this.parse()}var f=u.prototype;return f.getUA=function(){return this._ua},f.test=function(p){return p.test(this._ua)},f.parseBrowser=function(){var p=this;this.parsedResult.browser={};var g=s.default.find(r.default,function(m){if(typeof m.test=="function")return m.test(p);if(m.test instanceof Array)return m.test.some(function(v){return p.test(v)});throw new Error("Browser's test function is not valid")});return g&&(this.parsedResult.browser=g.describe(this.getUA())),this.parsedResult.browser},f.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},f.getBrowserName=function(p){return p?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},f.getBrowserVersion=function(){return this.getBrowser().version},f.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},f.parseOS=function(){var p=this;this.parsedResult.os={};var g=s.default.find(i.default,function(m){if(typeof m.test=="function")return m.test(p);if(m.test instanceof Array)return m.test.some(function(v){return p.test(v)});throw new Error("Browser's test function is not valid")});return g&&(this.parsedResult.os=g.describe(this.getUA())),this.parsedResult.os},f.getOSName=function(p){var g=this.getOS().name;return p?String(g).toLowerCase()||"":g||""},f.getOSVersion=function(){return this.getOS().version},f.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},f.getPlatformType=function(p){p===void 0&&(p=!1);var g=this.getPlatform().type;return p?String(g).toLowerCase()||"":g||""},f.parsePlatform=function(){var p=this;this.parsedResult.platform={};var g=s.default.find(o.default,function(m){if(typeof m.test=="function")return m.test(p);if(m.test instanceof Array)return m.test.some(function(v){return p.test(v)});throw new Error("Browser's test function is not valid")});return g&&(this.parsedResult.platform=g.describe(this.getUA())),this.parsedResult.platform},f.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},f.getEngineName=function(p){return p?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},f.parseEngine=function(){var p=this;this.parsedResult.engine={};var g=s.default.find(a.default,function(m){if(typeof m.test=="function")return m.test(p);if(m.test instanceof Array)return m.test.some(function(v){return p.test(v)});throw new Error("Browser's test function is not valid")});return g&&(this.parsedResult.engine=g.describe(this.getUA())),this.parsedResult.engine},f.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},f.getResult=function(){return s.default.assign({},this.parsedResult)},f.satisfies=function(p){var g=this,m={},v=0,_={},w=0;if(Object.keys(p).forEach(function(D){var B=p[D];typeof B=="string"?(_[D]=B,w+=1):typeof B=="object"&&(m[D]=B,v+=1)}),v>0){var I=Object.keys(m),k=s.default.find(I,function(D){return g.isOS(D)});if(k){var $=this.satisfies(m[k]);if($!==void 0)return $}var L=s.default.find(I,function(D){return g.isPlatform(D)});if(L){var z=this.satisfies(m[L]);if(z!==void 0)return z}}if(w>0){var H=Object.keys(_),P=s.default.find(H,function(D){return g.isBrowser(D,!0)});if(P!==void 0)return this.compareVersion(_[P])}},f.isBrowser=function(p,g){g===void 0&&(g=!1);var m=this.getBrowserName().toLowerCase(),v=p.toLowerCase(),_=s.default.getBrowserTypeByAlias(v);return g&&_&&(v=_.toLowerCase()),v===m},f.compareVersion=function(p){var g=[0],m=p,v=!1,_=this.getBrowserVersion();if(typeof _=="string")return p[0]===">"||p[0]==="<"?(m=p.substr(1),p[1]==="="?(v=!0,m=p.substr(2)):g=[],p[0]===">"?g.push(1):g.push(-1)):p[0]==="="?m=p.substr(1):p[0]==="~"&&(v=!0,m=p.substr(1)),g.indexOf(s.default.compareVersions(_,m,v))>-1},f.isOS=function(p){return this.getOSName(!0)===String(p).toLowerCase()},f.isPlatform=function(p){return this.getPlatformType(!0)===String(p).toLowerCase()},f.isEngine=function(p){return this.getEngineName(!0)===String(p).toLowerCase()},f.is=function(p,g){return g===void 0&&(g=!1),this.isBrowser(p,g)||this.isOS(p)||this.isPlatform(p)},f.some=function(p){var g=this;return p===void 0&&(p=[]),p.some(function(m){return g.is(m)})},u}();e.default=c,t.exports=e.default},92:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(s){var l={name:"Googlebot"},c=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,s)||i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/opera/i],describe:function(s){var l={name:"Opera"},c=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/opr\/|opios/i],describe:function(s){var l={name:"Opera"},c=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,s)||i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/SamsungBrowser/i],describe:function(s){var l={name:"Samsung Internet for Android"},c=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/Whale/i],describe:function(s){var l={name:"NAVER Whale Browser"},c=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/MZBrowser/i],describe:function(s){var l={name:"MZ Browser"},c=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,s)||i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/focus/i],describe:function(s){var l={name:"Focus"},c=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,s)||i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/swing/i],describe:function(s){var l={name:"Swing"},c=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,s)||i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/coast/i],describe:function(s){var l={name:"Opera Coast"},c=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(s){var l={name:"Opera Touch"},c=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/yabrowser/i],describe:function(s){var l={name:"Yandex Browser"},c=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/ucbrowser/i],describe:function(s){var l={name:"UC Browser"},c=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/Maxthon|mxios/i],describe:function(s){var l={name:"Maxthon"},c=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/epiphany/i],describe:function(s){var l={name:"Epiphany"},c=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/puffin/i],describe:function(s){var l={name:"Puffin"},c=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/sleipnir/i],describe:function(s){var l={name:"Sleipnir"},c=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/k-meleon/i],describe:function(s){var l={name:"K-Meleon"},c=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/micromessenger/i],describe:function(s){var l={name:"WeChat"},c=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/qqbrowser/i],describe:function(s){var l={name:/qqbrowserlite/i.test(s)?"QQ Browser Lite":"QQ Browser"},c=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/msie|trident/i],describe:function(s){var l={name:"Internet Explorer"},c=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/\sedg\//i],describe:function(s){var l={name:"Microsoft Edge"},c=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/edg([ea]|ios)/i],describe:function(s){var l={name:"Microsoft Edge"},c=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/vivaldi/i],describe:function(s){var l={name:"Vivaldi"},c=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/seamonkey/i],describe:function(s){var l={name:"SeaMonkey"},c=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/sailfish/i],describe:function(s){var l={name:"Sailfish"},c=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,s);return c&&(l.version=c),l}},{test:[/silk/i],describe:function(s){var l={name:"Amazon Silk"},c=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/phantom/i],describe:function(s){var l={name:"PhantomJS"},c=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/slimerjs/i],describe:function(s){var l={name:"SlimerJS"},c=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(s){var l={name:"BlackBerry"},c=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/(web|hpw)[o0]s/i],describe:function(s){var l={name:"WebOS Browser"},c=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/bada/i],describe:function(s){var l={name:"Bada"},c=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/tizen/i],describe:function(s){var l={name:"Tizen"},c=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/qupzilla/i],describe:function(s){var l={name:"QupZilla"},c=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/firefox|iceweasel|fxios/i],describe:function(s){var l={name:"Firefox"},c=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/electron/i],describe:function(s){var l={name:"Electron"},c=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/MiuiBrowser/i],describe:function(s){var l={name:"Miui"},c=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/chromium/i],describe:function(s){var l={name:"Chromium"},c=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/chrome|crios|crmo/i],describe:function(s){var l={name:"Chrome"},c=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/GSA/i],describe:function(s){var l={name:"Google Search"},c=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:function(s){var l=!s.test(/like android/i),c=s.test(/android/i);return l&&c},describe:function(s){var l={name:"Android Browser"},c=i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/playstation 4/i],describe:function(s){var l={name:"PlayStation 4"},c=i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/safari|applewebkit/i],describe:function(s){var l={name:"Safari"},c=i.default.getFirstMatch(o,s);return c&&(l.version=c),l}},{test:[/.*/i],describe:function(s){var l=s.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(l,s),version:i.default.getSecondMatch(l,s)}}}];e.default=a,t.exports=e.default},93:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/Roku\/DVP/],describe:function(s){var l=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,s);return{name:o.OS_MAP.Roku,version:l}}},{test:[/windows phone/i],describe:function(s){var l=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,s);return{name:o.OS_MAP.WindowsPhone,version:l}}},{test:[/windows /i],describe:function(s){var l=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,s),c=i.default.getWindowsVersionName(l);return{name:o.OS_MAP.Windows,version:l,versionName:c}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(s){var l={name:o.OS_MAP.iOS},c=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,s);return c&&(l.version=c),l}},{test:[/macintosh/i],describe:function(s){var l=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,s).replace(/[_\s]/g,"."),c=i.default.getMacOSVersionName(l),u={name:o.OS_MAP.MacOS,version:l};return c&&(u.versionName=c),u}},{test:[/(ipod|iphone|ipad)/i],describe:function(s){var l=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,s).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:l}}},{test:function(s){var l=!s.test(/like android/i),c=s.test(/android/i);return l&&c},describe:function(s){var l=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,s),c=i.default.getAndroidVersionName(l),u={name:o.OS_MAP.Android,version:l};return c&&(u.versionName=c),u}},{test:[/(web|hpw)[o0]s/i],describe:function(s){var l=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,s),c={name:o.OS_MAP.WebOS};return l&&l.length&&(c.version=l),c}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(s){var l=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,s)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,s)||i.default.getFirstMatch(/\bbb(\d+)/i,s);return{name:o.OS_MAP.BlackBerry,version:l}}},{test:[/bada/i],describe:function(s){var l=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,s);return{name:o.OS_MAP.Bada,version:l}}},{test:[/tizen/i],describe:function(s){var l=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,s);return{name:o.OS_MAP.Tizen,version:l}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(s){var l=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,s);return{name:o.OS_MAP.PlayStation4,version:l}}}];e.default=a,t.exports=e.default},94:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(s){var l=i.default.getFirstMatch(/(can-l01)/i,s)&&"Nova",c={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return l&&(c.model=l),c}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(s){var l=s.test(/ipod|iphone/i),c=s.test(/like (ipod|iphone)/i);return l&&!c},describe:function(s){var l=i.default.getFirstMatch(/(ipod|iphone)/i,s);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:l}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getBrowserName(!0)==="blackberry"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(s){return s.getBrowserName(!0)==="bada"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getBrowserName()==="windows phone"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(s){var l=Number(String(s.getOSVersion()).split(".")[0]);return s.getOSName(!0)==="android"&&l>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(s){return s.getOSName(!0)==="android"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getOSName(!0)==="macos"},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(s){return s.getOSName(!0)==="windows"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(s){return s.getOSName(!0)==="linux"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(s){return s.getOSName(!0)==="playstation 4"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(s){return s.getOSName(!0)==="roku"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];e.default=a,t.exports=e.default},95:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:function(s){return s.getBrowserName(!0)==="microsoft edge"},describe:function(s){if(/\sedg\//i.test(s))return{name:o.ENGINE_MAP.Blink};var l=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,s);return{name:o.ENGINE_MAP.EdgeHTML,version:l}}},{test:[/trident/i],describe:function(s){var l={name:o.ENGINE_MAP.Trident},c=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:function(s){return s.test(/presto/i)},describe:function(s){var l={name:o.ENGINE_MAP.Presto},c=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:function(s){var l=s.test(/gecko/i),c=s.test(/like gecko/i);return l&&!c},describe:function(s){var l={name:o.ENGINE_MAP.Gecko},c=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(s){var l={name:o.ENGINE_MAP.WebKit},c=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,s);return c&&(l.version=c),l}}];e.default=a,t.exports=e.default}});var tN=oy(eN.exports);const Ci={Initialized:"initialized",DisplayURI:"display_uri",ProviderUpdate:"provider_update",ConnectWithResponse:"connectWithResponse",ConnectionStatus:"connection_status",ServiceStatus:"service_status"};class Ko{constructor({shouldSetOnWindow:e,connectionStream:n,shouldSendMetadata:r=!1,shouldShimWeb3:i,sdkInstance:o}){const a=new uJ({connectionStream:n,shouldSendMetadata:r,shouldSetOnWindow:e,shouldShimWeb3:i,autoRequestAccounts:!1}),s=new Proxy(a,{deleteProperty:()=>!0});if(this.provider=s,this.sdkInstance=o,e&&typeof window<"u")try{l=a,window.ethereum=l,window.dispatchEvent(new Event("ethereum#initialized"))}catch(c){Ne("[Ethereum] Unable to set global provider - window.ethereum may be read-only",c)}var l;if(i&&typeof window<"u")try{(function(c,u=console){let f=!1,p=!1;if(!window.web3){const g="__isMetaMaskShim__";let m={currentProvider:c};Object.defineProperty(m,g,{value:!0,enumerable:!0,configurable:!1,writable:!1}),m=new Proxy(m,{get:(v,_,...w)=>(_!=="currentProvider"||f?_==="currentProvider"||_===g||p||(p=!0,u.error("MetaMask no longer injects web3. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),c.request({method:"metamask_logWeb3ShimUsage"}).catch(I=>{u.debug("MetaMask: Failed to log web3 shim usage.",I)})):(f=!0,u.warn("You are accessing the MetaMask window.web3.currentProvider shim. This property is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3")),Reflect.get(v,_,...w)),set:(...v)=>(u.warn("You are accessing the MetaMask window.web3 shim. This object is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),Reflect.set(...v))}),Object.defineProperty(window,"web3",{value:m,enumerable:!1,configurable:!0,writable:!0})}})(this.provider)}catch(c){Ne("[Ethereum] Unable to shim web3 - window.web3 may be read-only",c)}this.provider.on("display_uri",c=>{this.sdkInstance.emit(Ci.DisplayURI,c)}),this.provider.on("_initialized",()=>{const c={chainId:this.provider.getChainId(),isConnected:this.provider.isConnected(),isMetaMask:this.provider.isMetaMask,selectedAddress:this.provider.getSelectedAddress(),networkVersion:this.provider.getNetworkVersion()};this.sdkInstance.emit(Ci.Initialized,c),Ne("[Ethereum: constructor()] provider initialized",c)})}static init(e){var n;return Ne("[Ethereum: init()] Initializing Ethereum service"),this.instance=new Ko(e),(n=this.instance)===null||n===void 0?void 0:n.provider}static destroy(){}static getInstance(){var e;if(!(!((e=this.instance)===null||e===void 0)&&e.provider))throw new Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance}static getProvider(){var e;if(!(!((e=this.instance)===null||e===void 0)&&e.provider))throw new Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance.provider}}class Vh{constructor({useDeepLink:e,preferredOpenLink:n,debug:r=!1}){this.state={platformType:void 0,useDeeplink:!1,preferredOpenLink:void 0,debug:!1},this.state.platformType=this.getPlatformType(),this.state.useDeeplink=e,this.state.preferredOpenLink=n,this.state.debug=r}openDeeplink(e,n,r){return function(i,o,a,s){const{state:l}=i;Ne(`[PlatfformManager: openDeeplink()] universalLink --> ${o}`),Ne(`[PlatfformManager: openDeeplink()] deepLink --> ${a}`);try{if(l.preferredOpenLink)return void l.preferredOpenLink(l.useDeeplink?a:o,s);if(Ne(`[PlatfformManager: openDeeplink()] open link now useDeepLink=${l.useDeeplink} link=${l.useDeeplink?a:o}`),l.useDeeplink)typeof window<"u"&&(window.location.href=a);else if(typeof document<"u"){const c=document.createElement("a");c.href=o,c.target="_self",c.rel="noreferrer noopener",c.click()}}catch(c){console.log("[PlatfformManager: openDeeplink()] can't open link",c)}}(this,e,n,r)}isReactNative(){var e;return this.isNotBrowser()&&typeof window<"u"&&(window==null?void 0:window.navigator)&&((e=window.navigator)===null||e===void 0?void 0:e.product)==="ReactNative"}isMetaMaskInstalled(){return function(){const e=Ko.getProvider()||(window==null?void 0:window.ethereum);return Ne(`[PlatfformManager: isMetaMaskInstalled()] isMetaMask=${e==null?void 0:e.isMetaMask} isConnected=${e==null?void 0:e.isConnected()}`),(e==null?void 0:e.isMetaMask)&&(e==null?void 0:e.isConnected())}()}isDesktopWeb(){return this.isBrowser()&&!this.isMobileWeb()}isMobile(){var e,n;const r=tN.parse(window.navigator.userAgent);return((e=r==null?void 0:r.platform)===null||e===void 0?void 0:e.type)==="mobile"||((n=r==null?void 0:r.platform)===null||n===void 0?void 0:n.type)==="tablet"}isSecure(){return this.isReactNative()||this.isMobileWeb()}isMetaMaskMobileWebView(){return typeof window<"u"&&!!window.ReactNativeWebView&&!!navigator.userAgent.endsWith("MetaMaskMobile")}isMobileWeb(){return this.state.platformType===zr.MobileWeb}static isNotBrowser(){var e;return typeof window>"u"||!(window!=null&&window.navigator)||ri!==void 0&&((e=ri==null?void 0:ri.navigator)===null||e===void 0?void 0:e.product)==="ReactNative"||(navigator==null?void 0:navigator.product)==="ReactNative"}isNotBrowser(){return Vh.isNotBrowser()}static isBrowser(){return!this.isNotBrowser()}isBrowser(){return Vh.isBrowser()}isNodeJS(){return this.isNotBrowser()&&!this.isReactNative()}isUseDeepLink(){return this.state.useDeeplink}getPlatformType(){return function(e){const{state:n}=e;return n.platformType?n.platformType:e.isReactNative()?zr.ReactNative:e.isNotBrowser()?zr.NonBrowser:e.isMetaMaskMobileWebView()?zr.MetaMaskMobileWebview:e.isMobile()?zr.MobileWeb:zr.DesktopWeb}(this)}}const nN=t=>Be(void 0,void 0,void 0,function*(){if(Vh.isBrowser()){const{StorageManagerWeb:n}=yield Promise.resolve().then(function(){return $J});return new n(t)}const e={persistChannelConfig:()=>Be(void 0,void 0,void 0,function*(){}),getPersistedChannelConfig:()=>Be(void 0,void 0,void 0,function*(){}),persistAccounts:()=>Be(void 0,void 0,void 0,function*(){}),getCachedAccounts:()=>Be(void 0,void 0,void 0,function*(){return[]}),persistChainId:()=>Be(void 0,void 0,void 0,function*(){}),getCachedChainId:()=>Be(void 0,void 0,void 0,function*(){}),terminate:()=>Be(void 0,void 0,void 0,function*(){})};return Promise.resolve(e)});class uJ extends aJ{constructor({connectionStream:e,shouldSendMetadata:n,autoRequestAccounts:r=!1}){super(e,{logger:console,maxEventListeners:100,shouldSendMetadata:n}),this.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:"",networkVersion:""},Ne(`[SDKProvider: constructor()] autoRequestAccounts=${r}`),this.state.autoRequestAccounts=r}forceInitializeState(){return Be(this,void 0,void 0,function*(){return Ne(`[SDKProvider: forceInitializeState()] autoRequestAccounts=${this.state.autoRequestAccounts}`),this._initializeStateAsync()})}_setConnected(){Ne("[SDKProvider: _setConnected()] Setting connected state"),this._state.isConnected=!0}getState(){return this._state}getSDKProviderState(){return this.state}getSelectedAddress(){var e;const{accounts:n}=this._state;return n&&n.length!==0?((e=n[0])===null||e===void 0?void 0:e.toLowerCase())||"":(Ne("[SDKProvider: getSelectedAddress] No accounts found"),null)}getChainId(){return this.state.chainId}getNetworkVersion(){return this.state.networkVersion}setSDKProviderState(e){this.state=Object.assign(Object.assign({},this.state),e)}handleAccountsChanged(e,n){return this._handleAccountsChanged(e,n)}handleDisconnect({terminate:e=!1}){(function({terminate:n=!1,instance:r}){const{state:i}=r;Ne(`[SDKProvider: handleDisconnect()] cleaning up provider state terminate=${n}`,r),n&&(r._state.accounts=null,r._state.isUnlocked=!1,r._state.isPermanentlyDisconnected=!0,r._state.initialized=!1),r._handleAccountsChanged([]),r._state.isConnected=!1,r.emit("disconnect",J9.ethErrors.provider.disconnected()),i.providerStateRequested=!1})({terminate:e,instance:this})}_initializeStateAsync(){return Be(this,void 0,void 0,function*(){return function(e){var n,r;return Be(this,void 0,void 0,function*(){e.state===void 0&&(e.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:""});const{state:i}=e;let o;if(i.providerStateRequested)Ne("[SDKProvider: initializeStateAsync()] initialization already in progress");else{let a;i.providerStateRequested=!0;let s=null,l=!1,c=!1;const u=yield nN({enabled:!0});if(u){const f=yield u.getPersistedChannelConfig({});l=(n=f==null?void 0:f.relayPersistence)!==null&&n!==void 0&&n,a=yield u.getCachedChainId();const p=yield u.getCachedAccounts();p.length>0&&(s=p[0])}if(Ne(`[SDKProvider: initializeStateAsync()] relayPersistence=${l}`,{relayPersistence:l,cachedChainId:a,cachedSelectedAddress:s}),l)if(a&&s)o={accounts:[s],chainId:a,isUnlocked:!1},c=!0;else try{o=yield e.request({method:"metamask_getProviderState"})}catch(f){return e._log.error("MetaMask: Failed to get initial state. Please report this bug.",f),void(i.providerStateRequested=!1)}if(((r=o==null?void 0:o.accounts)===null||r===void 0?void 0:r.length)===0)if(e.getSelectedAddress())o.accounts=[e.getSelectedAddress()];else{Ne("[SDKProvider: initializeStateAsync()] Fetch accounts remotely.");const f=yield e.request({method:"eth_requestAccounts",params:[]});o.accounts=f}e._initializeState(o),i.providerStateRequested=!1,c&&(e._state.isConnected=!0,e.emit("connect",{chainId:o==null?void 0:o.chainId}))}})}(this)})}_initializeState(e){return Ne("[SDKProvider: _initializeState()]",e),function(n,r,i){return Ne("[SDKProvider: initializeState()] set state._initialized to false"),n._state.initialized=!1,r(i)}(this,super._initializeState.bind(this),e)}_handleChainChanged({chainId:e,networkVersion:n}={}){this.state.chainId=e,this.state.networkVersion=n,function({instance:r,chainId:i,networkVersion:o,superHandleChainChanged:a}){Ne(`[SDKProvider: handleChainChanged()] chainId=${i} networkVersion=${o}`);let s=o;o||(Ne("[SDKProvider: handleChainChanged()] forced network version to prevent provider error"),s="1"),i!==Zk&&(Gn.analytics.track("sdk_used_chain",{caip_chain_id:`eip155:${parseInt(i??"0x1",16)}`}),Zk=i),r._state.isConnected=!0,r.emit("connect",{chainId:i}),a({chainId:i,networkVersion:s})}({instance:this,chainId:e,networkVersion:n,superHandleChainChanged:super._handleChainChanged.bind(this)})}}var Gh,_u={name:"@metamask/sdk",version:"0.33.0",description:"",homepage:"https://github.com/MetaMask/metamask-sdk#readme",bugs:{url:"https://github.com/MetaMask/metamask-sdk/issues"},repository:{type:"git",url:"https://github.com/MetaMask/metamask-sdk",directory:"packages/sdk"},main:"dist/node/cjs/metamask-sdk.js",module:"dist/browser/es/metamask-sdk.js",browser:"dist/browser/es/metamask-sdk.js",unpkg:"dist/browser/umd/metamask-sdk.js","react-native":"dist/react-native/es/metamask-sdk.js",types:"dist/types/src/index.d.ts",sideEffects:!1,files:["/dist"],scripts:{"build:types":"tsc --project tsconfig.build.json --emitDeclarationOnly --outDir dist/types",build:"yarn build:types && rollup -c --bundleConfigAsCjs","build:clean":"yarn clean && yarn build","build:post-tsc":"echo 'N/A'","build:pre-tsc":"echo 'N/A'",typecheck:"tsc --noEmit",clean:"rimraf ./dist",size:"node bundle-size && size-limit",lint:"yarn lint:eslint && yarn lint:misc --check","lint:changelog":"../../scripts/validate-changelog.sh @metamask/sdk","lint:eslint":"eslint . --cache --ext js,ts","lint:fix":"yarn lint:eslint --fix && yarn lint:misc --write","lint:misc":"prettier '**/*.json' '**/*.md' '!CHANGELOG.md' --ignore-path ../../.gitignore",prepack:"../../scripts/prepack.sh","publish:preview":"yarn npm publish --tag preview",reset:"yarn clean && rimraf ./node_modules/",test:'jest --testPathIgnorePatterns "/e2e/"',"test:coverage":'jest --coverage --testPathIgnorePatterns "/e2e/"',"test:e2e":'jest --testPathPattern "/e2e/"',"test:ci":'jest --coverage --passWithNoTests --setupFilesAfterEnv ./jest-preload.js --testPathIgnorePatterns "/e2e/"',"test:dev":'jest -c ./jest.config.ts --detectOpenHandles  --testPathIgnorePatterns "/e2e/"',watch:"rollup -c -w",dev:'concurrently "tsc --watch" "rollup -c -w --bundleConfigAsCjs"',"build:dev":"yarn build:types && NODE_ENV=dev rollup -c --bundleConfigAsCjs"},dependencies:{"@babel/runtime":"^7.26.0","@metamask/onboarding":"^1.0.1","@metamask/providers":"16.1.0","@metamask/sdk-analytics":"workspace:*","@metamask/sdk-communication-layer":"workspace:*","@metamask/sdk-install-modal-web":"workspace:*","@paulmillr/qr":"^0.2.1",bowser:"^2.9.0","cross-fetch":"^4.0.0",debug:"^4.3.4",eciesjs:"^0.4.11","eth-rpc-errors":"^4.0.3",eventemitter2:"^6.4.9","obj-multiplex":"^1.0.0",pump:"^3.0.0","readable-stream":"^3.6.2","socket.io-client":"^4.5.1",tslib:"^2.6.0",util:"^0.12.4",uuid:"^8.3.2"},devDependencies:{"@jest/globals":"^29.3.1","@lavamoat/allow-scripts":"^2.3.1","@metamask/auto-changelog":"3.1.0","@metamask/eslint-config":"^6.0.0","@metamask/eslint-config-nodejs":"^6.0.0","@metamask/eslint-config-typescript":"^6.0.0","@react-native-async-storage/async-storage":"^1.19.6","@rollup/plugin-alias":"^5.1.1","@rollup/plugin-commonjs":"^25.0.7","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.2","@rollup/plugin-replace":"^6.0.1","@rollup/plugin-terser":"^0.4.1","@size-limit/preset-big-lib":"^11.0.2","@types/dom-screen-wake-lock":"^1.0.2","@types/node":"^20.1.3","@types/pump":"^1.1.1","@types/qrcode-terminal":"^0.12.0","@types/uuid":"^10.0.0","@typescript-eslint/eslint-plugin":"^4.26.0","@typescript-eslint/parser":"^4.26.0","browserify-zlib":"^0.2.0",buffer:"^6.0.3",concurrently:"^9.1.2","crypto-browserify":"^3.12.0",eslint:"^7.30.0","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.23.4","eslint-plugin-jest":"^24.4.0","eslint-plugin-jsdoc":"^36.1.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^3.4.0","https-browserify":"^1.0.0",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1",prettier:"^2.3.0",process:"^0.11.10",rimraf:"^4.4.0",rollup:"^4.26.0","rollup-plugin-analyzer":"^4.0.0","rollup-plugin-jscc":"^2.0.0","rollup-plugin-natives":"^0.7.5","rollup-plugin-node-builtins":"^2.1.2","rollup-plugin-polyfill-node":"^0.13.0","rollup-plugin-sizes":"^1.0.6","rollup-plugin-typescript2":"^0.31.2","rollup-plugin-visualizer":"^5.12.0","size-limit":"^11.0.2","stream-browserify":"^3.0.0","stream-http":"^3.2.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.3.2",url:"^0.11.0",webpack:"^5.0.0"},publishConfig:{access:"public",registry:"https://registry.npmjs.org/"},lavamoat:{allowScripts:{"eciesjs>secp256k1":!1,"socket.io-client>engine.io-client>ws>bufferutil":!1,"socket.io-client>engine.io-client>ws>utf-8-validate":!1,"@metamask/sdk-communication-layer>bufferutil":!1,"@metamask/sdk-communication-layer>eciesjs>secp256k1":!1,"@metamask/sdk-communication-layer>utf-8-validate":!1}}};(function(t){t.INPAGE="metamask-inpage",t.CONTENT_SCRIPT="metamask-contentscript",t.PROVIDER="metamask-provider"})(Gh||(Gh={}));const Qk="direct",Yh="https://metamask.app.link/connect",Jh="metamask://connect",Xk={NAME:"MetaMask",RDNS:["io.metamask","io.metamask.flask"]},dJ=/(?:^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u,At={METAMASK_GETPROVIDERSTATE:"metamask_getProviderState",METAMASK_CONNECTSIGN:"metamask_connectSign",METAMASK_CONNECTWITH:"metamask_connectWith",METAMASK_OPEN:"metamask_open",METAMASK_BATCH:"metamask_batch",PERSONAL_SIGN:"personal_sign",WALLET_REQUESTPERMISSIONS:"wallet_requestPermissions",WALLET_REVOKEPERMISSIONS:"wallet_revokePermissions",WALLET_GETPERMISSIONS:"wallet_getPermissions",WALLET_WATCHASSET:"wallet_watchAsset",WALLET_ADDETHEREUMCHAIN:"wallet_addEthereumChain",WALLET_SWITCHETHETHEREUMCHAIN:"wallet_switchEthereumChain",ETH_REQUESTACCOUNTS:"eth_requestAccounts",ETH_ACCOUNTS:"eth_accounts",ETH_CHAINID:"eth_chainId",ETH_SENDTRANSACTION:"eth_sendTransaction",ETH_SIGNTYPEDDATA:"eth_signTypedData",ETH_SIGNTYPEDDATA_V3:"eth_signTypedData_v3",ETH_SIGNTYPEDDATA_V4:"eth_signTypedData_v4",ETH_SIGNTRANSACTION:"eth_signTransaction",ETH_SIGN:"eth_sign",PERSONAL_EC_RECOVER:"personal_ecRecover"},Zh={[At.ETH_REQUESTACCOUNTS]:!0,[At.ETH_SENDTRANSACTION]:!0,[At.ETH_SIGNTRANSACTION]:!0,[At.ETH_SIGN]:!0,[At.PERSONAL_SIGN]:!0,[At.ETH_ACCOUNTS]:!1,[At.ETH_CHAINID]:!1,[At.PERSONAL_SIGN]:!0,[At.ETH_SIGNTYPEDDATA]:!0,[At.ETH_SIGNTYPEDDATA_V3]:!0,[At.ETH_SIGNTYPEDDATA_V4]:!0,[At.WALLET_REQUESTPERMISSIONS]:!0,[At.WALLET_GETPERMISSIONS]:!0,[At.WALLET_WATCHASSET]:!0,[At.WALLET_ADDETHEREUMCHAIN]:!0,[At.WALLET_SWITCHETHETHEREUMCHAIN]:!0,[At.METAMASK_CONNECTSIGN]:!0,[At.METAMASK_CONNECTWITH]:!0,[At.PERSONAL_EC_RECOVER]:!0,[At.METAMASK_BATCH]:!0,[At.METAMASK_OPEN]:!0},fJ=Object.keys(Zh).filter(t=>Zh[t]===!0).map(t=>t.toLowerCase()),rN=["eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sign"].map(t=>t.toLowerCase()),s2=".sdk-comm",hv="providerType",TE=".MMSDK_cached_address",PE=".MMSDK_cached_chainId",us={CHAIN_CHANGED:"chainChanged",ACCOUNTS_CHANGED:"accountsChanged",DISCONNECT:"disconnect",CONNECT:"connect",CONNECTED:"connected"},hJ=1e6;var Ms;(function(t){t.TERMINATE="terminate",t.EXTENSION="extension",t.INITIALIZED="initialized"})(Ms||(Ms={}));const pJ=typeof window<"u"&&window.localStorage;function gJ({instance:t,msg:e}){return Be(this,void 0,void 0,function*(){if(t._initialized||(Ne("[MetaMaskSDK: connectAndSign()] provider not ready -- wait for init()"),yield t.init()),Ne(`[MetaMaskSDK: connectAndSign()] activeProvider=${t.activeProvider}`),!t.activeProvider)throw new Error("SDK state invalid -- undefined provider");const n=/^0x([0-9A-Fa-f]{2})*$/u.test(e)?e:function(r){let i;if(je!==void 0)i=je.from(r,"utf8").toString("hex");else if(typeof TextEncoder<"u"){const o=new TextEncoder().encode(r);i=Array.from(o).map(a=>a.toString(16).padStart(2,"0")).join("")}else{if(typeof ri!="object"||!("Buffer"in ri))throw new Error("Unable to convert string to hex: No available method.");i=ri.Buffer.from(r,"utf8").toString("hex")}return`0x${i}`}(e);return t.activeProvider.request({method:At.METAMASK_CONNECTWITH,params:[{method:At.PERSONAL_SIGN,params:[n]}]})})}function eM(t){var e,n;return Be(this,void 0,void 0,function*(){Ne("[MetaMaskSDK: connectWithExtensionProvider()] ",t),t.sdkProvider=t.activeProvider,t.activeProvider=window.extension,window.ethereum=window.extension;try{const r=yield(e=window.extension)===null||e===void 0?void 0:e.request({method:"eth_requestAccounts"});Ne(`[MetaMaskSDK: connectWithExtensionProvider()] accounts=${r}`)}catch(r){return void console.warn("[MetaMaskSDK: connectWithExtensionProvider()] can't request accounts error",r)}localStorage.setItem(hv,"extension"),t.extensionActive=!0,t.emit(Ci.ProviderUpdate,Ms.EXTENSION),t.options.enableAnalytics&&((n=t.analytics)===null||n===void 0||n.send({event:Jn.SDK_USE_EXTENSION}))})}function pv(t){let e;if(je!==void 0)e=je.from(t,"utf8").toString("base64");else if(typeof btoa=="function")e=btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/gu,(n,r)=>String.fromCharCode(parseInt(r,16))));else{if(typeof ri!="object"||!("Buffer"in ri))throw new Error("Unable to base64 encode: No available method.");e=ri.Buffer.from(t,"utf8").toString("base64")}return e}function mJ(t,e,n,r){var i,o,a,s,l,c,u,f,p,g,m,v,_,w,I,k,$,L,z,H;return Be(this,void 0,void 0,function*(){const P=(i=t.state.remote)===null||i===void 0?void 0:i.isReady(),D=(o=t.state.remote)===null||o===void 0?void 0:o.isConnected(),B=(a=t.state.remote)===null||a===void 0?void 0:a.isPaused(),O=Ko.getProvider(),y=(s=t.state.remote)===null||s===void 0?void 0:s.getChannelId(),E=(l=t.state.remote)===null||l===void 0?void 0:l.isAuthorized(),{deeplinkProtocol:S}=t.state,{method:C,data:T,triggeredInstaller:j}=(R=>{var F,U,K,G;let Q;je.isBuffer(R)?(Q=R.toJSON(),Q._isBuffer=!0):Q=R;const ne=(F=Q==null?void 0:Q.data)===null||F===void 0?void 0:F.method;let J=!1;return typeof((U=Q==null?void 0:Q.data)===null||U===void 0?void 0:U.params)=="object"&&((G=(K=Q==null?void 0:Q.data)===null||K===void 0?void 0:K.params)===null||G===void 0?void 0:G.__triggeredInstaller)===!0&&(J=!0,Q.data.params=Q.data.params.wrappedParams),{method:ne,data:Q,triggeredInstaller:J}})(e);if(Ne(`[RCPMS: write()] method='${C}' isRemoteReady=${P} channelId=${y} isSocketConnected=${D} isRemotePaused=${B} providerConnected=${O.isConnected()}`,e),!y)return C!==At.METAMASK_GETPROVIDERSTATE&&Ne(`[RCPMS: write()] ${C} --> channelId is undefined`),r(new Error("disconnected"));Ne(`[RCPMS: write()] remote.isPaused()=${(c=t.state.remote)===null||c===void 0?void 0:c.isPaused()} authorized=${E} ready=${P} socketConnected=${D}`,e);const A=(u=t.state.platformManager)===null||u===void 0?void 0:u.isSecure(),M=(p=(f=t.state.platformManager)===null||f===void 0?void 0:f.isMobileWeb())!==null&&p!==void 0&&p,x=(m=(g=t.state.remote)===null||g===void 0?void 0:g.hasDeeplinkProtocol())!==null&&m!==void 0&&m&&M&&E;try{if(!j){const U=JSON.stringify(T==null?void 0:T.data);if(U.length>hJ)return r(new Error(`Message size ${U.length} exceeds maximum allowed size of 1000000 bytes`));(v=t.state.remote)===null||v===void 0||v.sendMessage(T==null?void 0:T.data).then(()=>{Ne(`[RCPMS: _write()] ${C} sent successfully`)}).catch(K=>{Ne("[RCPMS: _write()] error sending message",K)})}if(!A)return Ne(`[RCPMS: _write()] unsecure platform for method ${C} -- return callback`),r();if(j)return Ne("[RCPMS: _write()] prevent deeplink -- installation completed separately."),r();const R=(I=(w=(_=t.state.remote)===null||_===void 0?void 0:_.getKeyInfo())===null||w===void 0?void 0:w.ecies.public)!==null&&I!==void 0?I:"";let F=encodeURI(`channelId=${y}&pubkey=${R}&comm=socket&t=d&v=2`);if(x){const U=JSON.stringify(T==null?void 0:T.data),K=(k=t.state.remote)===null||k===void 0?void 0:k.encrypt(U);if(!K)return Ne("[RCPMS: _write()] error encrypting message"),r(new Error("RemoteCommunicationPostMessageStream - disconnected"));F+=`&scheme=${S}&rpc=${pv(K)}`}if(!(!(($=t.state.platformManager)===null||$===void 0)&&$.isMetaMaskInstalled()))return Ne("[RCPMS: _write()] prevent deeplink until installation is completed."),r();Zh[C]?(Ne(`[RCPMS: _write()] redirect link for '${C}' socketConnected=${D} connect?${F}`),(L=t.state.platformManager)===null||L===void 0||L.openDeeplink(`${Yh}?${F}`,`${Jh}?${F}`,"_self")):!((z=t.state.remote)===null||z===void 0)&&z.isPaused()?(Ne(`[RCPMS: _write()] MM is PAUSED! deeplink with connect! targetMethod=${C}`),(H=t.state.platformManager)===null||H===void 0||H.openDeeplink(`${Yh}?redirect=true&${F}`,`${Jh}?redirect=true&${F}`,"_self")):Ne(`[RCPMS: _write()] method ${C} doesn't need redirect.`)}catch(R){return Ne("[RCPMS: _write()] error sending message",R),r(new Error("RemoteCommunicationPostMessageStream - disconnected"))}return r()})}class vJ extends Gd.Duplex{constructor({name:e,remote:n,deeplinkProtocol:r,platformManager:i}){super({objectMode:!0}),this.state={_name:null,remote:null,deeplinkProtocol:!1,platformManager:null},this.state._name=e,this.state.remote=n,this.state.deeplinkProtocol=r,this.state.platformManager=i,this._onMessage=this._onMessage.bind(this),this.state.remote.on(Ge.MESSAGE,this._onMessage)}_write(e,n,r){return Be(this,void 0,void 0,function*(){return mJ(this,e,0,r)})}_read(){}_onMessage(e){return function(n,r){try{if(Ne("[RCPMS: onMessage()] message",r),!r||typeof r!="object"||typeof(r==null?void 0:r.data)!="object")return;if(!(r!=null&&r.name))return void Ne("[RCPMS: onMessage()] ignore message without name",r);if((r==null?void 0:r.name)!==Gh.PROVIDER)return void Ne(`[RCPMS: onMessage()] ignore message with wrong name message=${r}`);if(je.isBuffer(r)){const i=je.from(r);n.push(i)}else n.push(r)}catch(i){Ne(`[RCPMS: onMessage()] ignore message error err=${i}`)}}(this,e)}start(){}}let tM=1;const iN=t=>new Promise(e=>{setTimeout(()=>{e(!0)},t)}),yJ=({checkInstallationOnAllCalls:t=!1,communicationLayerPreference:e,injectProvider:n,shouldShimWeb3:r,platformManager:i,installer:o,sdk:a,remoteConnection:s,debug:l})=>Be(void 0,void 0,void 0,function*(){var c,u;const f=(({name:B,remoteConnection:O})=>{if(!O||!(O!=null&&O.getConnector()))throw new Error("Missing remote connection parameter");return new vJ({name:B,remote:O==null?void 0:O.getConnector(),deeplinkProtocol:O==null?void 0:O.state.deeplinkProtocol,platformManager:O==null?void 0:O.getPlatformManager()})})({name:Gh.INPAGE,target:Gh.CONTENT_SCRIPT,remoteConnection:s}),p=i.getPlatformType(),g=a.options.dappMetadata,m=`Sdk/Javascript SdkVersion/${_u.version} Platform/${p} dApp/${(c=g.url)!==null&&c!==void 0?c:g.name} dAppTitle/${g.name}`;let v=null,_=null;const w=(u=a.options.storage)===null||u===void 0?void 0:u.storageManager;if(w){try{const B=yield w.getCachedAccounts();B.length>0&&(v=B[0])}catch(B){console.error(`[initializeMobileProvider] failed to get cached addresses: ${B}`)}try{const B=yield w.getCachedChainId();B&&(_=B)}catch(B){console.error(`[initializeMobileProvider] failed to parse cached chainId: ${B}`)}}Ne(`[initializeMobileProvider] cachedAccountAddress: ${v}, cachedChainId: ${_}`);const I=!(!n||p===zr.NonBrowser||p===zr.ReactNative),k=Ko.init({shouldSetOnWindow:I,connectionStream:f,shouldShimWeb3:r,sdkInstance:a});let $=!1;const L=B=>{$=B},z=()=>$,H=(B,O,y,E)=>Be(void 0,void 0,void 0,function*(){var S,C,T,j,A,M,x,R,F;const U=Ko.getProvider();if($){U.emit("display_uri",(s==null?void 0:s.state.qrcodeLink)||""),s==null||s.showActiveModal();let se=z();for(;se;){const X=z(),ae=s==null?void 0:s.isAuthorized();se=X&&!ae,Ne(`[initializeMobileProvider: sendRequest()] waiting for initialization to complete - initializing: ${X} authorized: ${ae}`),yield iN(1e3)}return Ne("[initializeMobileProvider: sendRequest()] initial method completed -- prevent installation and call provider"),y(...O)}const K=i.isMetaMaskInstalled(),G=s==null?void 0:s.isConnected();let Q=null,ne=null,J=null;if(Q=(S=U.getSelectedAddress())!==null&&S!==void 0?S:v,J=U.getChainId()||_,Q&&w&&Q!==v&&w.persistAccounts([Q]).catch(se=>{console.error(`[initializeMobileProvider] failed to persist account: ${se}`)}),J&&(_=J,w&&w.persistChainId(J).catch(se=>{console.error(`[initializeMobileProvider] failed to persist chainId: ${se}`)})),Ne("[initializeMobileProvider: sendRequest()]",{selectedAddress:Q,chainId:J}),E&&Ne(`[initializeMobileProvider: sendRequest()] method=${B} ongoing=${$} selectedAddress=${Q} isInstalled=${K} checkInstallationOnAllCalls=${t} socketConnected=${G}`),Q&&B.toLowerCase()===At.ETH_ACCOUNTS.toLowerCase())return[Q];if(J&&B.toLowerCase()===At.ETH_CHAINID.toLowerCase())return J;const Z=[At.ETH_REQUESTACCOUNTS,At.WALLET_REQUESTPERMISSIONS,At.METAMASK_CONNECTSIGN,At.METAMASK_CONNECTWITH],ee=!Zh[B],ie=(C=a.options.readonlyRPCMap)===null||C===void 0?void 0:C[J];if(ie&&ee)try{const se=(T=O==null?void 0:O[0])===null||T===void 0?void 0:T.params,X=yield(({rpcEndpoint:ae,method:de,sdkInfo:me,params:Ee})=>Be(void 0,void 0,void 0,function*(){const ye=JSON.stringify({jsonrpc:"2.0",method:de,params:Ee,id:(tM+=1,tM)}),ue={Accept:"application/json","Content-Type":"application/json"};let _e;ae.includes("infura")&&(ue["Metamask-Sdk-Info"]=me);try{_e=yield TT(ae,{method:"POST",headers:ue,body:ye})}catch(Ie){throw Ie instanceof Error?new Error(`Failed to fetch from RPC: ${Ie.message}`):new Error(`Failed to fetch from RPC: ${Ie}`)}if(!_e.ok)throw new Error(`Server responded with a status of ${_e.status}`);return(yield _e.json()).result}))({rpcEndpoint:ie,sdkInfo:m,method:B,params:se||[]});return E&&Ne(`initializeProvider::ReadOnlyRPCResponse ${X}`),X}catch(se){console.warn(`[initializeMobileProvider: sendRequest()] method=${B} readOnlyRPCRequest failed:`,se)}if((!K||K&&!G)&&B!==At.METAMASK_GETPROVIDERSTATE){const se=((j=O==null?void 0:O[0])===null||j===void 0?void 0:j.params)||[];if(Z.indexOf(B)!==-1||t){L(!0);const X=B===At.METAMASK_CONNECTWITH,ae=`${Date.now()}`;try{yield o.start({wait:!1,connectWith:X?{method:B,id:ae,params:se}:void 0}),yield new Promise((de,me)=>{s!=null&&s.isAuthorized()&&(Ne("[initializeMobileProvider: sendRequest()] already authorized"),de(!0)),s==null||s.getConnector().once(Ge.AUTHORIZED,()=>{de(!0)}),a.once(Ge.PROVIDER_UPDATE,Ee=>{Ne(`[initializeMobileProvider: sendRequest()] PROVIDER_UPDATE --- remote provider request interupted type=${Ee}`),Ee===Ms.EXTENSION?me(Ge.PROVIDER_UPDATE):me(new Error("Connection Terminated"))})})}catch(de){if(Ms.EXTENSION===de){if(Ne(`[initializeMobileProvider: sendRequest()] extension provider detect: re-create ${B} on the active provider`),B.toLowerCase()===At.METAMASK_CONNECTSIGN.toLowerCase()){const me=yield(A=a.getProvider())===null||A===void 0?void 0:A.request({method:At.ETH_REQUESTACCOUNTS,params:[]});if(!me.length)throw new Error("SDK state invalid -- undefined accounts");const Ee=yield(M=a.getProvider())===null||M===void 0?void 0:M.request({method:At.PERSONAL_SIGN,params:[se[0],me[0]]});return a.emit(Ci.ConnectWithResponse,Ee),Ee}if(B.toLowerCase()===At.METAMASK_CONNECTWITH.toLowerCase()){const[me]=se,Ee=yield(({method:ye,sdk:ue,params:_e})=>Be(void 0,void 0,void 0,function*(){var Ie,we,Fe,He;if(!ue.isExtensionActive())throw new Error("SDK state invalid -- extension is not active");Ne("[MetaMaskProvider: extensionConnectWithOverwrite()] Overwriting request method",ye,_e);const Ve=yield(Ie=ue.getProvider())===null||Ie===void 0?void 0:Ie.request({method:At.ETH_REQUESTACCOUNTS,params:[]});if(!Ve.length)throw new Error("SDK state invalid -- undefined accounts");if((ye==null?void 0:ye.toLowerCase())===At.PERSONAL_SIGN.toLowerCase()){const Je={method:ye,params:[_e[0],Ve[0]]};return yield(we=ue.getProvider())===null||we===void 0?void 0:we.request(Je)}if((ye==null?void 0:ye.toLowerCase())===At.ETH_SENDTRANSACTION.toLowerCase()){const Je={method:ye,params:[Object.assign(Object.assign({},_e[0]),{from:Ve[0]})]};return yield(Fe=ue.getProvider())===null||Fe===void 0?void 0:Fe.request(Je)}return rN.includes(ye.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${ye} -- not handled by the extension -- call separately`),Ve):yield(He=ue.getProvider())===null||He===void 0?void 0:He.request({method:ye,params:_e})}))({method:me.method,sdk:a,params:me.params});return a.emit(Ci.ConnectWithResponse,Ee),Ee}return Ne(`[initializeMobileProvider: sendRequest()] sending '${B}' on active provider`,se),yield(x=a.getProvider())===null||x===void 0?void 0:x.request({method:B,params:se})}throw de===Ge.REJECTED?(s==null||s.closeModal(),(R=a.getProvider())===null||R===void 0||R.handleDisconnect({terminate:!1}),Object.assign(new Error("User rejected connection"),{code:4001})):(Ne(`[initializeMobileProvider: sendRequest()] failed to start installer: ${de}`),de)}finally{L(!1)}if(B===At.ETH_REQUESTACCOUNTS)return ne=yield new Promise(de=>{const me=setInterval(()=>{const{accounts:Ee}=U.getState();Ee&&(clearInterval(me),de(Ee))},100)}),Ne(`[initializeMobileProvider: sendRequest()] selectedAddress: ${Q} --- SKIP rpc call`),ne;if(B===At.METAMASK_CONNECTWITH)try{let de=0;const me=5,Ee=({resolve:Ie,reject:we})=>{de+=1;const Fe=s==null?void 0:s.getConnector().getRPCMethodTracker(),He=Fe==null?void 0:Fe[ae];return Ne(`TRACKER: update method ${ae}`,He),He!=null&&He.result?(Ne("[initializeMobileProvider: sendRequest()] found result",He.result),a.emit(Ci.ConnectWithResponse,He.result),void Ie(He.result)):He!=null&&He.error?(Ne("[initializeMobileProvider: sendRequest()] found error",He.error),void we(He.error)):de>=me?(Ne("[initializeMobileProvider: sendRequest()] max message count reached without result"),void we(new Error("Max message count reached without result"))):void Ne("[initializeMobileProvider: sendRequest()] not found yet, need to wait for next update")};let ye,ue;const _e=yield new Promise((Ie,we)=>{const Fe=s==null?void 0:s.getConnector().getRPCMethodTracker();Ne(`TRACKER: method ${ae}`,Fe),Fe!=null&&Fe[ae].result?(Ne("[initializeMobileProvider: sendRequest()] found result",Fe==null?void 0:Fe[ae].result),Ie(Fe==null?void 0:Fe[ae].result)):Fe!=null&&Fe[ae].error&&(Ne("[initializeMobileProvider: sendRequest()] found error",Fe==null?void 0:Fe[ae].error),we(Fe==null?void 0:Fe[ae].error)),ue=()=>Ee({resolve:Ie,reject:we}),ye=s==null?void 0:s.getConnector().on(Ge.RPC_UPDATE,ue)});return ue&&(ye==null||ye.off(Ge.RPC_UPDATE,ue)),Ne("TRACKER: result",_e),_e}catch(de){throw Ne("[initializeMobileProvider: sendRequest()] error:",de),de}return O[0]&&typeof O[0]=="object"&&(O[0].params={__triggeredInstaller:!0,wrappedParams:O[0].params}),y(...O)}if(i.isSecure()&&Zh[B])return y(...O);if(a.isExtensionActive())return Ne(`[initializeMobileProvider: sendRequest()] EXTENSION active - redirect request '${B}' to it`,O,se),yield(F=a.getProvider())===null||F===void 0?void 0:F.request({method:B,params:se});throw Ne(`[initializeMobileProvider: sendRequest()] method=${B} --- skip --- not connected/installed`),new Error("MetaMask is not connected/installed, please call eth_requestAccounts to connect first.")}try{const se=yield y(...O);if(Ne(`[initializeMobileProvider: sendRequest()] method=${B} rpcResponse`,se),B===At.WALLET_REQUESTPERMISSIONS){const X=se.reduce((ae,de)=>{var me;if(de.parentCapability==="eth_accounts"){const Ee=(me=de.caveats.find(ye=>ye.type==="restrictReturnedAccounts"))===null||me===void 0?void 0:me.value;Ee&&ae.push(...Ee)}return ae},[]);Ne("[initializeMobileProvider: sendRequest()] accountsToPersist:",X),X.length>0&&(U.handleAccountsChanged(X,!1),w==null||w.persistAccounts(X))}return se}catch(se){throw console.error("[initializeMobileProvider: sendRequest()] error:",se),se}}),{request:P}=k;k.request=(...B)=>Be(void 0,void 0,void 0,function*(){return H(B==null?void 0:B[0].method,B,P,l)});const{send:D}=k;return k.send=(...B)=>Be(void 0,void 0,void 0,function*(){return H(B==null?void 0:B[0],B,D,l)}),Ne("[initializeMobileProvider: sendRequest()] metamaskStream.start()"),f.start(),k});function wJ(t){var e,n,r,i;return Be(this,void 0,void 0,function*(){const{options:o}=t,a={communicationLayerPreference:(e=o.communicationLayerPreference)!==null&&e!==void 0?e:hu.SOCKET,platformManager:t.platformManager,sdk:t,checkInstallationOnAllCalls:o.checkInstallationOnAllCalls,injectProvider:(n=o.injectProvider)===null||n===void 0||n,shouldShimWeb3:(r=o.shouldShimWeb3)===null||r===void 0||r,extensionOnly:(i=o.extensionOnly)===null||i===void 0||i,installer:t.installer,remoteConnection:t.remoteConnection,debug:t.debug},s=yield yJ(a);t.activeProvider=s,function(l){var c,u,f,p;(u=(c=l.remoteConnection)===null||c===void 0?void 0:c.getConnector())===null||u===void 0||u.on(Ci.ConnectionStatus,g=>{l.emit(Ci.ConnectionStatus,g)}),(p=(f=l.remoteConnection)===null||f===void 0?void 0:f.getConnector())===null||p===void 0||p.on(Ci.ServiceStatus,g=>{l.emit(Ci.ServiceStatus,g)})}(t)})}const bJ="sdk";class EJ{constructor({serverUrl:e,enabled:n,originatorInfo:r}){this.serverURL=Wd,this.serverURL=e,this.originatorInfo=r,this.enabled=n==null||n}send({event:e,params:n}){if(!this.enabled)return;const r=Object.assign(Object.assign({id:bJ,event:e,sdkVersion:_u.version},this.originatorInfo),{params:n});Ne(`[Analytics: send()] event: ${e}`,r),Ia(r,this.serverURL).catch(i=>{Ne(`[Analytics: send()] error: ${i}`)})}}const xJ=()=>{if(typeof document>"u")return;let t;const e=document.getElementsByTagName("link");for(let n=0;n<e.length;n++)e[n].getAttribute("rel")!=="icon"&&e[n].getAttribute("rel")!=="shortcut icon"||(t=e[n].getAttribute("href"));return t},_J=163400;function nM(t){var e,n,r;const{dappMetadata:i}=t,o=function({url:u,name:f}){var p;const g=u+f,m=pv(g);if(!localStorage)return"";let v=(p=localStorage.getItem(m))!==null&&p!==void 0?p:"";if(!v){v=Sl();try{localStorage.setItem(m,v)}catch{return""}}return v}({url:(e=i==null?void 0:i.url)!==null&&e!==void 0?e:"no_url",name:(n=i==null?void 0:i.name)!==null&&n!==void 0?n:"no_name"}),a=(r=t.platformManager)===null||r===void 0?void 0:r.getPlatformType(),s=a===zr.DesktopWeb,l=a===zr.MetaMaskMobileWebview;let c="N/A";return s?c="extension":l&&(c="mobile"),{id:o,from:c}}const Bg=(t,e,n)=>{if(Lp(t))if(n||e&&typeof e=="object"&&e!==null&&"error"in e){const r=n||(e==null?void 0:e.error);r&&r.code===4001?Gn.analytics.track("sdk_action_rejected",{action:t}):Gn.analytics.track("sdk_action_failed",{action:t})}else Gn.analytics.track("sdk_action_succeeded",{action:t})},oN=({provider:t,sdkInstance:e})=>{if("state"in t)throw new Error("INVALID EXTENSION PROVIDER");return new Proxy(t,{get:(n,r)=>r==="request"?function(i){var o,a;return Be(this,void 0,void 0,function*(){Ne("[wrapExtensionProvider()] Overwriting request method",i);const{method:s,params:l}=i,c=fJ.includes(s.toLowerCase()),{id:u,from:f}=nM(e);if(c&&((o=e.analytics)===null||o===void 0||o.send({event:Jn.SDK_RPC_REQUEST,params:{method:s,from:f,id:u}})),Lp(s)&&Gn.analytics.track("sdk_action_requested",{action:s}),s===At.METAMASK_BATCH&&Array.isArray(l))return(({target:m,args:v,trackEvent:_,sdkInstance:w})=>Be(void 0,void 0,void 0,function*(){var I,k;if(v.method!=="metamask_batch")throw new Error("Invalid usage");const $=[],L=(I=v==null?void 0:v.params)!==null&&I!==void 0?I:[];for(const P of L){const D=yield m==null?void 0:m.request({method:P.method,params:P.params});$.push(D)}const{id:z,from:H}=nM(w);_&&((k=w.analytics)===null||k===void 0||k.send({event:Jn.SDK_RPC_REQUEST_DONE,params:{method:v.method,from:H,id:z}}));for(const P of $)Bg(v.method,P,null);return $}))({target:n,args:i,trackEvent:c,sdkInstance:e});if(s.toLowerCase()===At.METAMASK_CONNECTSIGN.toLowerCase()&&Array.isArray(l))return(({target:m,params:v})=>Be(void 0,void 0,void 0,function*(){let _,w=null;try{const I=yield m.request({method:At.ETH_REQUESTACCOUNTS,params:[]});if(!I.length)throw new Error("SDK state invalid -- undefined accounts");return _=yield m.request({method:At.PERSONAL_SIGN,params:[v[0],I[0]]}),_}catch(I){throw w=I,I}finally{Bg(At.PERSONAL_SIGN,_,w)}}))({target:n,params:l});if(s.toLowerCase()===At.METAMASK_CONNECTWITH.toLowerCase()&&Array.isArray(l))return(({target:m,params:v})=>Be(void 0,void 0,void 0,function*(){const[_]=v,w=_.method,I=_.params;let k,$=null;try{const L=yield m.request({method:At.ETH_REQUESTACCOUNTS,params:[]});if(!Array.isArray(L)||!L.length)throw new Error("SDK state invalid -- undefined accounts");return(w==null?void 0:w.toLowerCase())===At.PERSONAL_SIGN.toLowerCase()?(k=yield m.request({method:w,params:[I[0],L[0]]}),k):(w==null?void 0:w.toLowerCase())===At.ETH_SENDTRANSACTION.toLowerCase()?(k=yield m.request({method:w,params:[Object.assign(Object.assign({},I[0]),{from:L[0]})]}),k):rN.includes(w.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${w} -- not handled by the extension -- call separately`),k=L,k):(k=yield m.request({method:w,params:I}),k)}catch(L){throw $=L,L}finally{Bg(w,k,$)}}))({target:n,params:l});let p,g=null;try{return p=yield n.request(i),p}catch(m){throw g=m,m}finally{c&&((a=e.analytics)===null||a===void 0||a.send({event:Jn.SDK_RPC_REQUEST_DONE,params:{method:s,from:f,id:u}})),Bg(s,p,g)}})}:r==="getChainId"?function(){return t.chainId}:r==="getNetworkVersion"?function(){return t.networkVersion}:r==="getSelectedAddress"?function(){return t.selectedAddress}:r==="isConnected"?function(){return t._state.isConnected}:n[r]})};var gv;function SJ({mustBeMetaMask:t,sdkInstance:e}){return Be(this,void 0,void 0,function*(){if(typeof window>"u")throw new Error("window not available");try{const n=yield new Promise((r,i)=>{const o=setTimeout(()=>{i(new Error("eip6963RequestProvider timed out"))},500);window.addEventListener(gv.Announce,a=>{const s=a,{detail:{info:l,provider:c}={}}=s,{name:u,rdns:f,uuid:p}=l??{};dJ.test(p)&&u.startsWith(Xk.NAME)&&Xk.RDNS.includes(f)&&(clearTimeout(o),r(c))}),window.dispatchEvent(new Event(gv.Request))});return oN({provider:n,sdkInstance:e})}catch{throw new Error("Provider not found")}})}(function(t){t.Announce="eip6963:announceProvider",t.Request="eip6963:requestProvider"})(gv||(gv={}));const CJ=t=>Be(void 0,void 0,void 0,function*(){const{options:e}=t,{infuraAPIKey:n}=e;if(!n)return;const r={"0x1":`https://mainnet.infura.io/v3/${n}`,"0x5":`https://goerli.infura.io/v3/${n}`,"0xaa36a7":`https://sepolia.infura.io/v3/${n}`,"0xe708":`https://linea-mainnet.infura.io/v3/${n}`,"0xe704":`https://linea-goerli.infura.io/v3/${n}`,"0x89":`https://polygon-mainnet.infura.io/v3/${n}`,"0x13881":`https://polygon-mumbai.infura.io/v3/${n}`,"0x45":`https://optimism-mainnet.infura.io/v3/${n}`,"0x1a4":`https://optimism-goerli.infura.io/v3/${n}`,"0xa4b1":`https://arbitrum-mainnet.infura.io/v3/${n}`,"0x66eed":`https://arbitrum-goerli.infura.io/v3/${n}`,"0x2a15c308d":`https://palm-mainnet.infura.io/v3/${n}`,"0x2a15c3083":`https://palm-testnet.infura.io/v3/${n}`,"0xa86a":`https://avalanche-mainnet.infura.io/v3/${n}`,"0xa869":`https://avalanche-fuji.infura.io/v3/${n}`,"0x4e454152":`https://aurora-mainnet.infura.io/v3/${n}`,"0x4e454153":`https://aurora-testnet.infura.io/v3/${n}`,"0x534e5f4d41494e":`https://starknet-mainnet.infura.io/v3/${n}`,"0x534e5f474f45524c49":`https://starknet-goerli.infura.io/v3/${n}`,"0x534e5f474f45524c4932":`https://starknet-goerli2.infura.io/v3/${n}`,"0xa4ec":`https://celo-mainnet.infura.io/v3/${n}`,"0xaef3":`https://celo-alfajores.infura.io/v3/${n}`};t.options.readonlyRPCMap?t.options.readonlyRPCMap=Object.assign(Object.assign({},t.options.readonlyRPCMap),r):t.options.readonlyRPCMap=r}),AJ=t=>Be(void 0,void 0,void 0,function*(){const{options:e}=t,{readonlyRPCMap:n}=e;if(n)try{Ne("[MetaMaskSDK: setupReadOnlyRPCProviders()] Setting up Readonly RPC Providers",n),t.setReadOnlyRPCCalls(!0)}catch{throw new Error("Invalid Infura Settings")}});function IJ(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(c){try{l(r.next(c))}catch(u){o(u)}}function s(c){try{l(r.throw(c))}catch(u){o(u)}}function l(c){var u;c.done?i(c.value):(u=c.value,u instanceof n?u:new n(function(f){f(u)})).then(a,s)}l((r=r.apply(t,[])).next())})}function kJ(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||u[0]!==6&&u[0]!==2)){a=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(u[0]===6&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(f){u=[6,f],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([l,c])}}}var rM="INSTALLED",iM="NOT_INSTALLED",oM="REGISTERED",sM="REGISTERING",aM="RELOADING",lM={CHROME:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",FIREFOX:"https://addons.mozilla.org/firefox/addon/ether-metamask/",DEFAULT:"https://metamask.io"},jg="REGISTRATION_IN_PROGRESS",cM="FORWARDER_ID",MJ=function(){function t(e){var n=e===void 0?{}:e,r=n.forwarderOrigin,i=r===void 0?"https://fwd.metamask.io":r,o=n.forwarderMode,a=o===void 0?t.FORWARDER_MODE.INJECT:o;this.forwarderOrigin=i,this.forwarderMode=a,this.state=t.isMetaMaskInstalled()?rM:iM;var s=t._detectBrowser();this.downloadUrl=s?lM[s]:lM.DEFAULT,this._onMessage=this._onMessage.bind(this),this._onMessageFromForwarder=this._onMessageFromForwarder.bind(this),this._openForwarder=this._openForwarder.bind(this),this._openDownloadPage=this._openDownloadPage.bind(this),this.startOnboarding=this.startOnboarding.bind(this),this.stopOnboarding=this.stopOnboarding.bind(this),window.addEventListener("message",this._onMessage),a===t.FORWARDER_MODE.INJECT&&sessionStorage.getItem(jg)==="true"&&t._injectForwarder(this.forwarderOrigin)}return t.prototype._onMessage=function(e){if(e.origin===this.forwarderOrigin)return e.data.type==="metamask:reload"?this._onMessageFromForwarder(e):void console.debug("Unknown message from '"+e.origin+"' with data "+JSON.stringify(e.data))},t.prototype._onMessageUnknownStateError=function(e){throw new Error("Unknown state: '"+e+"'")},t.prototype._onMessageFromForwarder=function(e){return IJ(this,0,void 0,function(){return kJ(this,function(n){switch(n.label){case 0:switch(this.state){case aM:return[3,1];case iM:return[3,2];case rM:return[3,3];case sM:return[3,5];case oM:return[3,6]}return[3,7];case 1:return console.debug("Ignoring message while reloading"),[3,8];case 2:return console.debug("Reloading now to register with MetaMask"),this.state=aM,location.reload(),[3,8];case 3:return console.debug("Registering with MetaMask"),this.state=sM,[4,t._register()];case 4:return n.sent(),this.state=oM,e.source.postMessage({type:"metamask:registrationCompleted"},e.origin),this.stopOnboarding(),[3,8];case 5:return console.debug("Already registering - ignoring reload message"),[3,8];case 6:return console.debug("Already registered - ignoring reload message"),[3,8];case 7:this._onMessageUnknownStateError(this.state),n.label=8;case 8:return[2]}})})},t.prototype.startOnboarding=function(){sessionStorage.setItem(jg,"true"),this._openDownloadPage(),this._openForwarder()},t.prototype.stopOnboarding=function(){sessionStorage.getItem(jg)==="true"&&(this.forwarderMode===t.FORWARDER_MODE.INJECT&&(console.debug("Removing forwarder"),t._removeForwarder()),sessionStorage.setItem(jg,"false"))},t.prototype._openForwarder=function(){this.forwarderMode===t.FORWARDER_MODE.OPEN_TAB?window.open(this.forwarderOrigin,"_blank"):t._injectForwarder(this.forwarderOrigin)},t.prototype._openDownloadPage=function(){window.open(this.downloadUrl,"_blank")},t.isMetaMaskInstalled=function(){return!!(window.ethereum&&window.ethereum.isMetaMask)},t._register=function(){return window.ethereum.request({method:"wallet_registerOnboarding"})},t._injectForwarder=function(e){var n=document.body,r=document.createElement("iframe");r.setAttribute("height","0"),r.setAttribute("width","0"),r.setAttribute("style","display: none;"),r.setAttribute("src",e),r.setAttribute("id",cM),n.insertBefore(r,n.children[0])},t._removeForwarder=function(){var e;(e=document.getElementById(cM))===null||e===void 0||e.remove()},t._detectBrowser=function(){var e=tN.parse(window.navigator.userAgent);return e.browser.name==="Firefox"?"FIREFOX":["Chrome","Chromium"].includes(e.browser.name||"")?"CHROME":null},t.FORWARDER_MODE={INJECT:"INJECT",OPEN_TAB:"OPEN_TAB"},t}();function OJ(t,{wait:e=!1}){return Be(this,void 0,void 0,function*(){return Ne(`[MetamaskInstaller: startInstaller()] wait=${e}`),e&&(yield iN(1e3)),yield t.checkInstallation()})}class RJ{constructor({remote:e,preferDesktop:n,platformManager:r,debug:i=!1}){this.state={isInstalling:!1,hasInstalled:!1,resendRequest:null,preferDesktop:!1,platformManager:null,remote:null,debug:!1,connectWith:void 0},this.state.remote=e,this.state.preferDesktop=n,this.state.platformManager=r,this.state.debug=i}startDesktopOnboarding(){return function(){return Be(this,void 0,void 0,function*(){Ne("[MetamaskInstaller: startDesktopOnboarding() starting desktop onboarding"),window.ethereum&&(window.ethereum=void 0),new MJ().startOnboarding()})}()}redirectToProperInstall(){return Be(this,void 0,void 0,function*(){return function(e){var n,r;return Be(this,void 0,void 0,function*(){const{state:i}=e,o=(n=i.platformManager)===null||n===void 0?void 0:n.getPlatformType();if(Ne(`[MetamaskInstaller: redirectToProperInstall()] platform=${o}`),o===zr.MetaMaskMobileWebview)return!1;i.isInstalling=!0;try{yield(r=i.remote)===null||r===void 0?void 0:r.startConnection({connectWith:i.connectWith}),i.isInstalling=!1,i.hasInstalled=!0}catch(a){throw i.isInstalling=!1,a}return!0})}(this)})}checkInstallation(){return Be(this,void 0,void 0,function*(){return function(e){var n;return Be(this,void 0,void 0,function*(){const{state:r}=e,i=(n=r.platformManager)===null||n===void 0?void 0:n.isMetaMaskInstalled();return Ne(`[MetamaskInstaller: checkInstallation()] isInstalled=${i}`),!!i||(yield e.redirectToProperInstall())})}(this)})}start({wait:e=!1,connectWith:n}){return Be(this,void 0,void 0,function*(){this.state.connectWith=n,Ne(`[MetaMaskInstaller: start()] wait=${e}`,n),yield OJ(this,{wait:e})})}}class sN{constructor({debug:e,sdkVersion:n}){this.containers={install:void 0,pending:void 0,select:void 0},this.defined={install:!1,pending:!1,select:!1},this.debug=e!=null&&e,this.sdkVersion=n}loadComponent(e){return Be(this,void 0,void 0,function*(){if(!this.defined[e]){this.defined[e]=!0;try{const n=yield Promise.resolve().then(function(){return dZ});console.log("loader",n),n.defineCustomElements()}catch(n){console.error(`Failed to load ${e} modal:`,n)}}})}renderInstallModal(e){var n;return Be(this,void 0,void 0,function*(){this.debug&&console.debug("ModalLoader: renderInstallModal",e),this.containers.install=e.parentElement,yield this.loadComponent("install");const r=document.createElement("mm-install-modal");r.link=e.link,r.preferDesktop=e.preferDesktop,r.sdkVersion=(n=e.sdkVersion)!==null&&n!==void 0?n:this.sdkVersion,r.addEventListener("close",({detail:{shouldTerminate:i}})=>e.onClose(i)),r.addEventListener("startDesktopOnboarding",e.metaMaskInstaller.startDesktopOnboarding),r.addEventListener("trackAnalytics",i=>{var o;return(o=e.onAnalyticsEvent)===null||o===void 0?void 0:o.call(e,i.detail)}),e.parentElement.appendChild(r)})}renderSelectModal(e){var n;return Be(this,void 0,void 0,function*(){this.containers.select=e.parentElement,yield this.loadComponent("select");const r=document.createElement("mm-select-modal");r.link=e.link,r.sdkVersion=(n=e.sdkVersion)!==null&&n!==void 0?n:this.sdkVersion,r.preferDesktop=e.preferDesktop,r.addEventListener("close",({detail:{shouldTerminate:i}})=>e.onClose(i)),r.addEventListener("connectWithExtension",e.connectWithExtension),e.parentElement.appendChild(r),setTimeout(()=>this.updateQRCode(e.link),100)})}renderPendingModal(e){var n;return Be(this,void 0,void 0,function*(){this.containers.pending=e.parentElement,yield this.loadComponent("pending");const r=document.createElement("mm-pending-modal");r.sdkVersion=(n=e.sdkVersion)!==null&&n!==void 0?n:this.sdkVersion,r.displayOTP=e.displayOTP,r.addEventListener("close",e.onClose),r.addEventListener("updateOTPValue",({detail:{otpValue:i}})=>e.updateOTPValue(i)),e.onDisconnect&&r.addEventListener("disconnect",e.onDisconnect),e.parentElement.appendChild(r)})}updateOTPValue(e){const n=()=>{var r;const i=(r=this.containers.pending)===null||r===void 0?void 0:r.querySelector("mm-pending-modal");return!!i&&(i.otpCode=e,!0)};setTimeout(()=>{n()},800)}updateQRCode(e){var n,r;const i=(n=this.containers.install)===null||n===void 0?void 0:n.querySelector("mm-install-modal");if(i)i.link=e;else{const o=(r=this.containers.select)===null||r===void 0?void 0:r.querySelector("mm-select-modal");o&&(o.link=e)}}unmount(){Object.entries(this.containers).forEach(([e,n])=>{var r;(r=n==null?void 0:n.parentNode)===null||r===void 0||r.removeChild(n),this.containers[e]=void 0})}}const TJ=({link:t,debug:e,installer:n,terminate:r,connectWithExtension:i,preferDesktop:o,onAnalyticsEvent:a})=>{let s=null,l=null;Ne("[UI: InstallModal-web: sdkWebInstallModal()] ################## Installing Modal #################"),Ne(`[UI: InstallModal-web: sdkWebInstallModal()] link=${t}`),Ne(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${t}" --ios`),Ne(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${t}" --android`),Ne(`[UI: InstallModal-web: sdkWebInstallModal()] adb shell am start -a android.intent.action.VIEW -d "${t}"`);const c=u=>{var f;Ne("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web unmounting install modal -- shouldTerminate:",u,l),l!=null&&l.parentNode&&((f=l.parentNode)===null||f===void 0||f.removeChild(l)),l=null,s=null,u===!0&&(r==null||r())};return{mount:u=>{if(Ne("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web mounting install modal",l),l)return l.style.display="block",void(s==null||s.updateQRCode(u));s=new sN({debug:e,sdkVersion:_u.version}),l=document.createElement("div"),document.body.appendChild(l),window.extension?s.renderSelectModal({parentElement:l,connectWithExtension:()=>{c(),i==null||i()},onClose:c,link:t,preferDesktop:o!=null&&o}).catch(f=>{console.error(f)}):s.renderInstallModal({parentElement:l,preferDesktop:o!=null&&o,link:t,metaMaskInstaller:n,onClose:c,onAnalyticsEvent:a}).catch(f=>{console.error("[UI: InstallModal-web: sdkWebInstallModal()]",f)})},unmount:c}},PJ=({onDisconnect:t,debug:e})=>{let n=null,r=null;const i=()=>{Ne("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web unmount",n),n!=null&&n.parentNode&&n.parentNode.removeChild(n),n=null,r=null},o=s=>{Ne("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web updateOTPValue",s),r&&r.updateOTPValue(s)},a=({displayOTP:s}={displayOTP:!0})=>{Ne("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web mount",n),n?n.style.display="block":(r=new sN({debug:e,sdkVersion:_u.version}),n=document.createElement("div"),document.body.appendChild(n),r.renderPendingModal({parentElement:n,onClose:i,onDisconnect:t,updateOTPValue:o,displayOTP:s}).catch(l=>{console.error("[UI: pendingModal-web: sdkWebPendingModal()]",l)}))};return a(),{mount:a,unmount:i,updateOTPValue:o}};function aN(t,e){var n,r,i,o;t.connector||(Ne("[RemoteConnection: initializeConnector()] initialize connector"),t.connector=new DG({anonId:e.anonId,platformType:e.platformManager.getPlatformType(),communicationLayerPreference:e.communicationLayerPreference,transports:e.transports,dappMetadata:Object.assign(Object.assign({},e.dappMetadata),{source:e._source}),analytics:e.enableAnalytics,communicationServerUrl:e.communicationServerUrl,sdkVersion:_u.version,context:"dapp",ecies:e.ecies,storage:e.storage,logging:e.logging}),e.timer&&(Ne("[RemoteConnection: initializeConnector()] reset background timer",e.timer),(r=(n=e.timer)===null||n===void 0?void 0:n.stopBackgroundTimer)===null||r===void 0||r.call(n),(o=(i=e.timer)===null||i===void 0?void 0:i.runBackgroundTimer)===null||o===void 0||o.call(i,()=>!1,1e4)))}function NE(t){t.listeners.forEach(({event:e,handler:n})=>{var r;(r=t.connector)===null||r===void 0||r.off(e,n)}),t.listeners=[]}function NJ(t,e,n){return Be(this,void 0,void 0,function*(){const r=setTimeout(()=>{Gn.analytics.track("sdk_connection_failed",{transport_type:"websocket"})},6e4);return new Promise((i,o)=>{if(!t.connector)return void o(new Error("No connector available"));Ne("[RemoteConnection: connectWithModalInstaller()]",{state:t,options:e,linkParams:n});const a=`${t.useDeeplink?Jh:Yh}?${n}`;(function(s,l,c){var u,f,p,g;s.installModal=(f=(u=l.modals).install)===null||f===void 0?void 0:f.call(u,{link:c,preferDesktop:s.preferDesktop,installer:l.getMetaMaskInstaller(),terminate:()=>{Ne("[RemoteConnection: showInstallModal() => terminate()] terminate connection"),l.sdk.terminate().catch(m=>{console.warn("[MMSDK] failed to terminate connection",m)})},debug:s.developerMode,connectWithExtension:()=>{var m;return(m=l.connectWithExtensionProvider)===null||m===void 0||m.call(l),!1},onAnalyticsEvent:({event:m,params:v})=>{var _,w,I;const k=Object.assign(Object.assign({},v),{sdkVersion:l.sdk.getVersion(),dappId:(_=l.dappMetadata)===null||_===void 0?void 0:_.name,source:l._source,url:(w=l.dappMetadata)===null||w===void 0?void 0:w.url});(I=s.analytics)===null||I===void 0||I.send({event:m,params:k})}}),(g=(p=s.installModal)===null||p===void 0?void 0:p.mount)===null||g===void 0||g.call(p,c)})(t,e,a),e.sdk.once(Ge.PROVIDER_UPDATE,s=>Be(this,void 0,void 0,function*(){if(Ne("[RemoteConnection: connectWithModalInstaller()] once provider_update -- resolving startConnection promise"),s===Ms.TERMINATE){const l={code:4001,message:"User rejected the request."};return clearTimeout(r),void o(l)}o(s)})),t.connector.once(Ge.AUTHORIZED,()=>{clearTimeout(r),i()}),t.connector.once(Ge.REJECTED,()=>{clearTimeout(r),o(Ge.REJECTED)}),t.connector.once(Ge.CLIENTS_READY,()=>Be(this,void 0,void 0,function*(){Ne("[RemoteConnection: connectWithModalInstaller()] once clients_ready -- resolving startConnection promise"),clearTimeout(r),i()}))})})}function lN(t,e){function n(r,i){var o;(o=t.connector)===null||o===void 0||o.on(r,i),t.listeners.push({event:r,handler:i})}t.connector&&(NE(t),n(Ge.WALLET_INIT,({accounts:r,chainId:i})=>Be(this,void 0,void 0,function*(){Ne(`[RemoteConnection: setupListeners() => EventType.WALLET_INIT] 'wallet_init' accounts=${r} chainId=${i}`);const o=Ko.getProvider();o._setConnected();const a={accounts:r,chainId:i,isUnlocked:!1};o._initializeState(a),o.emit("chainChanged",i),o.emit("accountsChanged",r)})),n(Ge.AUTHORIZED,()=>Be(this,void 0,void 0,function*(){var r,i,o,a;try{Ne("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' closing modals",t.pendingModal,t.installModal);const s=Ko.getProvider();s._setConnected(),(i=(r=t.pendingModal)===null||r===void 0?void 0:r.unmount)===null||i===void 0||i.call(r),(a=(o=t.installModal)===null||o===void 0?void 0:o.unmount)===null||a===void 0||a.call(o,!1),t.otpAnswer=void 0,t.authorized=!0,Ne("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' provider.state",s.getState()),yield s.forceInitializeState()}catch{}})),n(Ge.TERMINATE,()=>{var r,i,o,a,s;(i=(r=t.pendingModal)===null||r===void 0?void 0:r.unmount)===null||i===void 0||i.call(r),(a=(o=t.installModal)===null||o===void 0?void 0:o.unmount)===null||a===void 0||a.call(o,!0),t.pendingModal=void 0,t.installModal=void 0,t.otpAnswer=void 0,(s=t.connector)===null||s===void 0||s.disconnect({terminate:!0}),t.authorized=!1,Ko.getProvider().handleDisconnect({terminate:!0}),NE(t),Ne("[RemoteConnection: setupListeners()] All listeners cleaned up")}))}function LJ(t,e,{initialCheck:n,connectWith:r}={}){var i,o,a,s,l,c,u,f,p,g,m,v,_,w,I,k,$,L,z;return Be(this,void 0,void 0,function*(){try{if(aN(t,e),!t.connector)throw new Error("no connector defined");lN(t);const H=Ko.getProvider();t.authorized=!1,H.emit("connecting");const P=yield(i=t.connector)===null||i===void 0?void 0:i.originatorSessionConnect();Ne(`[RemoteConnection: startConnection()] after originatorSessionConnect initialCheck=${n}`,P);let D=(o=P==null?void 0:P.channelId)!==null&&o!==void 0?o:"",B=(s=(a=t.connector.getKeyInfo())===null||a===void 0?void 0:a.ecies.public)!==null&&s!==void 0?s:"",O=(c=(l=t.connector.getKeyInfo())===null||l===void 0?void 0:l.ecies.private)!==null&&c!==void 0?c:"";if(n&&!P)return Promise.resolve();if(!P&&!n){const G=yield t.connector.generateChannelIdConnect();D=(u=G.channelId)!==null&&u!==void 0?u:"",B=(f=G.pubKey)!==null&&f!==void 0?f:"",O=(p=G.privKey)!==null&&p!==void 0?p:"";const Q=Date.now();(g=t.connector.state.storageManager)===null||g===void 0||g.persistChannelConfig({channelId:D,localKey:O,lastActive:Q,validUntil:Q+Kd})}if(n&&(P!=null&&P.channelId))return!((m=t.connector)===null||m===void 0)&&m.isConnected()||(Ne(`[RemoteConnection: startConnection()] reconnecting to channel initialCheck=${n}`,P),yield(v=t.connector)===null||v===void 0?void 0:v.connectToChannel({channelId:D})),Promise.resolve();P&&!(!((_=t.connector)===null||_===void 0)&&_.isConnected())&&(Ne("[RemoteConnection: startConnection()] reconnecting to channel",P),yield(w=t.connector)===null||w===void 0?void 0:w.connectToChannel({channelId:D}));const y=!((I=t.platformManager)===null||I===void 0)&&I.isSecure()?"":"&t=q",E=_u.version,{iconUrl:S,name:C,url:T,scheme:j}=e.dappMetadata||{},A=(k=t.platformManager)===null||k===void 0?void 0:k.getPlatformType();let M="N/A";typeof window<"u"&&window.location&&window.location.hostname?M=window.location.hostname:C!==void 0?M=C:T!==void 0&&(M=T);const x={url:T??"",title:C??"",icon:S,scheme:j??"",apiVersion:E,dappId:M||T||"N/A",anonId:e.anonId,platform:A??"",source:($=e._source)!==null&&$!==void 0?$:""},R=pv(JSON.stringify(x));let F=`channelId=${D}&v=2&comm=${(L=t.communicationLayerPreference)!==null&&L!==void 0?L:""}&pubkey=${B}${y}&originatorInfo=${R}`;if(r){F+=`&rpc=${pv(JSON.stringify(r))}`;const G=t.connector.getRPCMethodTracker();G&&(G[`${r.id}`]=Object.assign(Object.assign({},r),{id:`${r.id}`,timestamp:Date.now()}))}const U=encodeURI(F),K=`${t.useDeeplink?Jh:Yh}?${F}`;if(t.qrcodeLink=K,t.developerMode&&Ne(`[RemoteConnection: startConnection()] qrcodeLink=${U}`),H.emit("display_uri",K),Gn.analytics.track("sdk_connection_initiated",{transport_type:"websocket"}),(z=t.platformManager)===null||z===void 0?void 0:z.isSecure()){const G=setTimeout(()=>{Gn.analytics.track("sdk_connection_failed",{transport_type:"websocket"})},6e4);return yield function(Q,ne){var J,Z;return Be(this,void 0,void 0,function*(){const ee=`${Yh}?${ne}`,ie=`${Jh}?${ne}`;(Z=(J=Q.platformManager)===null||J===void 0?void 0:J.openDeeplink)===null||Z===void 0||Z.call(J,ee,ie,"_self")})}(t,U),new Promise((Q,ne)=>{var J,Z,ee;if(!((J=t.connector)===null||J===void 0)&&J.isAuthorized())return clearTimeout(G),void Q();(Z=t.connector)===null||Z===void 0||Z.once(Ge.AUTHORIZED,()=>{clearTimeout(G),Q()}),(ee=t.connector)===null||ee===void 0||ee.once(Ge.REJECTED,()=>{clearTimeout(G),ne(Ge.REJECTED)})})}return NJ(t,e,U)}catch(H){throw console.error("[startConnection] error",H),H}})}class DJ{constructor(e){var n,r,i;this.state={connector:void 0,qrcodeLink:void 0,analytics:void 0,developerMode:!1,authorized:!1,reconnection:!1,preferDesktop:!1,deeplinkProtocol:!1,listeners:[],communicationLayerPreference:void 0,platformManager:void 0,pendingModal:void 0,installModal:void 0,otpAnswer:void 0},this.options=e;const o=((n=e.logging)===null||n===void 0?void 0:n.developerMode)===!0||((r=e.logging)===null||r===void 0?void 0:r.sdk)===!0;this.state.developerMode=o,this.state.analytics=e.analytics,this.state.preferDesktop=(i=e.preferDesktop)!==null&&i!==void 0&&i,this.state.useDeeplink=e.sdk.options.useDeeplink,this.state.communicationLayerPreference=e.communicationLayerPreference,this.state.platformManager=e.platformManager,e.modals.install||(e.modals.install=TJ),e.modals.otp||(e.modals.otp=PJ)}startConnection(e){return Be(this,void 0,void 0,function*(){return LJ(this.state,this.options,e)})}initRemoteCommunication({sdkInstance:e}){var n,r,i;return Be(this,void 0,void 0,function*(){const o=yield(r=(n=e.options.storage)===null||n===void 0?void 0:n.storageManager)===null||r===void 0?void 0:r.getPersistedChannelConfig();if(!this.options.ecies){const a={privateKey:o==null?void 0:o.localKey};this.options.ecies=a}aN(this.state,this.options),yield(i=this.getConnector())===null||i===void 0?void 0:i.initFromDappStorage(),lN(this.state,this.options)})}showActiveModal(){return function(e){var n,r,i,o;e.authorized?Ne("[RemoteConnection: showActiveModal()] already authorized"):e.pendingModal?(r=(n=e.pendingModal).mount)===null||r===void 0||r.call(n):e.installModal&&((o=(i=e.installModal).mount)===null||o===void 0||o.call(i,e.qrcodeLink||""))}(this.state)}closeModal(){var e,n,r,i;(n=(e=this.state.pendingModal)===null||e===void 0?void 0:e.unmount)===null||n===void 0||n.call(e),(i=(r=this.state.installModal)===null||r===void 0?void 0:r.unmount)===null||i===void 0||i.call(r,!1)}getUniversalLink(){if(!this.state.qrcodeLink)throw new Error("connection not started. run startConnection() first.");return this.state.qrcodeLink}getChannelConfig(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.getChannelConfig()}getKeyInfo(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.getKeyInfo()}getConnector(){if(!this.state.connector)throw new Error("invalid remote connector");return this.state.connector}getPlatformManager(){if(!this.state.platformManager)throw new Error("PlatformManager not available");return this.state.platformManager}isConnected(){var e;return((e=this.state.connector)===null||e===void 0?void 0:e.isReady())||!1}isAuthorized(){var e;return((e=this.state.connector)===null||e===void 0?void 0:e.isAuthorized())||!1}isPaused(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.isPaused()}disconnect(e){var n,r,i;Ne("[RemoteConnection: disconnect()]",e),e!=null&&e.terminate&&(Ko.getProvider().handleDisconnect({terminate:!0}),(r=(n=this.state.pendingModal)===null||n===void 0?void 0:n.unmount)===null||r===void 0||r.call(n),this.state.otpAnswer=void 0),(i=this.state.connector)===null||i===void 0||i.disconnect(e),function(o){Ne("[RemoteConnection: cleanupConnector()] cleaning up connector"),o.connector&&(NE(o),o.connector.disconnect({terminate:!0}).catch(a=>{Ne("[RemoteConnection: cleanupConnector()] error disconnecting connector",a)}))}(this.state)}}function BJ(t){var e,n,r,i,o,a,s,l,c,u,f;return Be(this,void 0,void 0,function*(){const{options:p}=t;if(p.logging=(e=p.logging)!==null&&e!==void 0?e:{},p.communicationLayerPreference=(n=p.communicationLayerPreference)!==null&&n!==void 0?n:hu.SOCKET,p.enableDebug!==void 0&&(ni.enable("MM_SDK"),console.warn("enableDebug is removed. Please use enableAnalytics instead.")),p.enableAnalytics=(r=p.enableAnalytics)===null||r===void 0||r,p.injectProvider=(i=p.injectProvider)===null||i===void 0||i,p.shouldShimWeb3=(o=p.shouldShimWeb3)===null||o===void 0||o,p.extensionOnly=(a=p.extensionOnly)===null||a===void 0||a,p.useDeeplink=(s=p.useDeeplink)===null||s===void 0||s,p.storage=(l=p.storage)!==null&&l!==void 0?l:{enabled:!0},p.headless){ni("[MetaMaskSDK: performSDKInitialization()] headless mode enabled");const I=()=>{},k={install:()=>({mount:I,unmount:I})},$={installer:I};p.modals=k,p.ui=$}const g=((c=p.logging)===null||c===void 0?void 0:c.developerMode)===!0;t.debug=((u=p.logging)===null||u===void 0?void 0:u.sdk)||g,Ne("[MetaMaskSDK: performSDKInitialization()] options",t.options);const m=Object.assign({},p.logging);g&&(m.sdk=!0,m.eciesLayer=!0,m.keyExchangeLayer=!0,m.remoteLayer=!0,m.serviceLayer=!0,m.plaintext=!0),yield function(I){var k;return Be(this,void 0,void 0,function*(){const{options:$}=I;I.platformManager=new Vh({useDeepLink:(k=$.useDeeplink)!==null&&k!==void 0&&k,preferredOpenLink:$.openDeeplink,debug:I.debug})})}(t),yield function(I){var k,$,L,z,H;return Be(this,void 0,void 0,function*(){const{options:P}=I,D=(k=I.platformManager)===null||k===void 0?void 0:k.getPlatformType();I.analytics=new EJ({serverUrl:($=P.communicationServerUrl)!==null&&$!==void 0?$:Wd,enabled:P.enableAnalytics,originatorInfo:{url:(L=P.dappMetadata.url)!==null&&L!==void 0?L:"",title:(z=P.dappMetadata.name)!==null&&z!==void 0?z:"",dappId:I.getDappId(),platform:D??"",source:(H=P._source)!==null&&H!==void 0?H:"",anonId:""}})})}(t),yield function(I){var k,$,L;return Be(this,void 0,void 0,function*(){if(!I.options.enableAnalytics||!(!((k=I.platformManager)===null||k===void 0)&&k.isBrowser())&&!(!(($=I.platformManager)===null||$===void 0)&&$.isReactNative()))return;const z=I.getVersion(),H=I.getDappId(),P=yield I.getAnonId(),D=(L=I.platformManager)===null||L===void 0?void 0:L.getPlatformType(),B=I.options._source;Gn.analytics.setGlobalProperty("sdk_version",z),Gn.analytics.setGlobalProperty("dapp_id",H),Gn.analytics.setGlobalProperty("anon_id",P),Gn.analytics.setGlobalProperty("platform",D),Gn.analytics.setGlobalProperty("integration_type",B),Gn.analytics.enable(),Gn.analytics.track("sdk_initialized",{})})}(t),yield function(I){var k;return Be(this,void 0,void 0,function*(){const{options:$}=I;((k=$.storage)===null||k===void 0?void 0:k.enabled)!==!0||$.storage.storageManager||($.storage.storageManager=yield nN($.storage))})}(t),yield function(I){return Be(this,void 0,void 0,function*(){const{options:k}=I,$=/^(http|https):\/\/[^\s]*$/;if(k.dappMetadata){k.dappMetadata.iconUrl&&!$.test(k.dappMetadata.iconUrl)&&(console.warn("Invalid dappMetadata.iconUrl: URL must start with http:// or https://"),k.dappMetadata.iconUrl=void 0),k.dappMetadata.base64Icon&&k.dappMetadata.base64Icon.length>_J&&(console.warn("Invalid dappMetadata.base64Icon: Base64-encoded icon string length must be less than 163400 characters"),k.dappMetadata.base64Icon=void 0),k.dappMetadata.url&&!$.test(k.dappMetadata.url)&&console.warn("Invalid dappMetadata.url: URL must start with http:// or https://");const L=xJ();if(L&&!k.dappMetadata.iconUrl&&!k.dappMetadata.base64Icon){const z=`${window.location.protocol}//${window.location.host}${L}`;k.dappMetadata.iconUrl=z}}I.dappMetadata=k.dappMetadata})}(t),yield CJ(t),yield AJ(t);const{metamaskBrowserExtension:v,preferExtension:_,shouldReturn:w}=yield function(I){var k,$,L,z;return Be(this,void 0,void 0,function*(){const{options:H}=I;let P,D=!1,B=!1;if(typeof window<"u"&&window.ethereum&&!(!((k=I.platformManager)===null||k===void 0)&&k.isMetaMaskMobileWebView())){D=localStorage.getItem(hv)==="extension";try{P=yield SJ({mustBeMetaMask:!0,sdkInstance:I}),window.extension=P,P.on(us.CHAIN_CHANGED,O=>{Ne(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE chainChanged chainId=${O}`),I.sdkProvider&&I.getMobileProvider().emit(us.CHAIN_CHANGED,O)}),P.on(us.ACCOUNTS_CHANGED,O=>Be(this,void 0,void 0,function*(){var y;Ne(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE accountsChanged accounts=${O}`);const E=!!I.sdkProvider,S=!!I.extensionActive;if(E&&I.getMobileProvider().emit(us.ACCOUNTS_CHANGED,O),S&&(O==null?void 0:O.length)===0&&(yield(y=I.getProvider())===null||y===void 0?void 0:y.request({method:At.WALLET_GETPERMISSIONS,params:[]})).length===0)try{yield I.terminate()}catch(C){Ne("[MetaMaskSDK: setupExtensionPreferences()] error terminating on permissions revoked",C)}})),P.on(us.DISCONNECT,O=>{Ne(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE disconnect error=${O}`),I.sdkProvider&&I.getMobileProvider().emit(us.DISCONNECT,O)}),P.on(us.CONNECT,O=>{Ne(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connect args=${O}`),I.sdkProvider&&I.getMobileProvider().emit(us.CONNECT,O)}),P.on(us.CONNECTED,O=>{Ne("[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connected",O),I.sdkProvider&&I.getMobileProvider().emit(us.CONNECTED,O)})}catch{window.extension=void 0}}else!(($=I.platformManager)===null||$===void 0)&&$.isMetaMaskMobileWebView()&&((L=I.analytics)===null||L===void 0||L.send({event:Jn.SDK_USE_INAPP_BROWSER}),I.activeProvider=oN({provider:window.ethereum,sdkInstance:I}),I._initialized=!0,B=!0);return P&&H.extensionOnly&&(Ne("[MetaMaskSDK: setupExtensionPreferences()] EXTENSION ONLY --- prevent sdk initialization"),(z=I.analytics)===null||z===void 0||z.send({event:Jn.SDK_USE_EXTENSION}),I.activeProvider=P,I.extensionActive=!0,I.extension=P,I._initialized=!0,B=!0),{preferExtension:D,shouldReturn:B,metamaskBrowserExtension:P}})}(t);if(w)Ne("[MetaMaskSDK: performSDKInitialization()] shouldReturn=true --- prevent sdk initialization");else{yield function(I,k){var $,L,z,H,P;return Be(this,void 0,void 0,function*(){const{options:D}=I,B=Object.assign({},D.logging);I.remoteConnection=new DJ({anonId:yield I.getAnonId(),preferDesktop:($=D.preferDesktop)!==null&&$!==void 0&&$,communicationLayerPreference:(L=D.communicationLayerPreference)!==null&&L!==void 0?L:hu.SOCKET,analytics:I.analytics,dappMetadata:D.dappMetadata,_source:D._source,enableAnalytics:(z=D.enableAnalytics)===null||z===void 0||z,timer:D.timer,sdk:I,platformManager:I.platformManager,transports:D.transports,communicationServerUrl:D.communicationServerUrl,storage:(H=D.storage)!==null&&H!==void 0?H:{enabled:!0},getMetaMaskInstaller:()=>{if(!I.installer)throw new Error("Invalid SDK status -- installer not initialized");return I.installer},logging:B,connectWithExtensionProvider:k===void 0?void 0:()=>eM(I),modals:Object.assign(Object.assign({},D.modals),{onPendingModalDisconnect:I.terminate.bind(I)})}),yield I.remoteConnection.initRemoteCommunication({sdkInstance:I}),I.installer=new RJ({remote:I.remoteConnection,preferDesktop:(P=D.preferDesktop)!==null&&P!==void 0&&P,platformManager:I.platformManager,debug:I.debug})})}(t,v),yield wJ(t),yield function(I,k){var $,L;return Be(this,void 0,void 0,function*(){const{options:z}=I;k?(Ne("[MetaMaskSDK: handleAutoAndExtensionConnections()] preferExtension is detected -- connect with it."),($=I.analytics)===null||$===void 0||$.send({event:Jn.SDK_EXTENSION_UTILIZED}),eM(I).catch(H=>{console.warn("Can't connect with MetaMask extension...",H),localStorage.removeItem(hv)})):z.checkInstallationImmediately&&(!((L=I.platformManager)===null||L===void 0)&&L.isDesktopWeb()?(Ne("[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately"),I.connect().catch(H=>{Ne(`[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- error on autoconnect _err=${H}`)})):console.warn("[handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- only for web desktop")),I._initialized=!0})}(t,_);try{yield(f=t.remoteConnection)===null||f===void 0?void 0:f.startConnection({initialCheck:!0})}catch(I){console.error("[MetaMaskSDK: setupRemoteConnectionAndInstaller()] Error while checking installation",I)}t.emit(Ci.ProviderUpdate,Ms.INITIALIZED)}})}class jJ extends gV{constructor(e={storage:{enabled:!0},injectProvider:!0,forceInjectProvider:!1,enableAnalytics:!0,shouldShimWeb3:!0,useDeeplink:!0,extensionOnly:!0,headless:!1,dappMetadata:{name:"",url:"",iconUrl:""},_source:Qk,i18nOptions:{enabled:!1}}){var n,r,i;super(),this.extensionActive=!1,this._initialized=!1,this.sdkInitPromise=void 0,this.debug=!1,this.readonlyRPCCalls=!1,this.availableLanguages=["en"],this.ANON_ID_STORAGE_KEY="mm-sdk-anon-id",ni.disable();const o=((n=e.logging)===null||n===void 0?void 0:n.developerMode)===!0;if((!((r=e.logging)===null||r===void 0)&&r.sdk||o)&&ni.enable("MM_SDK"),Ne("[MetaMaskSDK: constructor()]: begin."),this.setMaxListeners(50),!(!((i=e.dappMetadata)===null||i===void 0)&&i.url)){if(typeof window>"u"||typeof document>"u")throw new Error("You must provide dAppMetadata url");e.dappMetadata=Object.assign(Object.assign({},e.dappMetadata),{url:`${window.location.protocol}//${window.location.host}`})}this.options=e,this.options._source||(e._source=Qk),this.init().then(()=>{Ne("[MetaMaskSDK: constructor()]: initialized successfully."),typeof window<"u"&&(window.mmsdk=this)}).catch(a=>{console.error("[MetaMaskSDK: constructor()] error during initialization",a)})}init(){return Be(this,void 0,void 0,function*(){return function(e){var n;return Be(this,void 0,void 0,function*(){if(typeof window<"u"&&(!((n=window.mmsdk)===null||n===void 0)&&n.isInitialized()))return Ne("[MetaMaskSDK: initializeMetaMaskSDK()] already initialized"),Promise.resolve(window.mmsdk);if(e._initialized)return Ne("[MetaMaskSDK: initializeMetaMaskSDK()] already initialized"),e.sdkInitPromise;if(e.sdkInitPromise)return Ne("[MetaMaskSDK: initializeMetaMaskSDK()] already initializing"),e.sdkInitPromise;try{e.sdkInitPromise=BJ(e),yield e.sdkInitPromise}catch(r){throw console.error(r),r}return e.sdkInitPromise})}(this)})}isExtensionActive(){return this.extensionActive}checkExtensionAvailability(){var e;return typeof window<"u"&&!!(!((e=window.ethereum)===null||e===void 0)&&e.isMetaMask)}connect(){return Be(this,void 0,void 0,function*(){return function(e){return Be(this,void 0,void 0,function*(){if(e._initialized||(Ne("[MetaMaskSDK: connect()] provider not ready -- wait for init()"),yield e.init()),Ne(`[MetaMaskSDK: connect()] isExtensionActive=${e.isExtensionActive()} activeProvider`,e.activeProvider),!e.activeProvider)throw new Error("SDK state invalid -- undefined provider");const n=e.activeProvider.getSelectedAddress();return n?[n]:e.activeProvider.request({method:At.ETH_REQUESTACCOUNTS,params:[]})})}(this)})}connectAndSign({msg:e}){return Be(this,void 0,void 0,function*(){return gJ({instance:this,msg:e})})}connectWith(e){return Be(this,void 0,void 0,function*(){return function({instance:n,rpc:r}){return Be(this,void 0,void 0,function*(){if(n._initialized||(Ne("[MetaMaskSDK: connectWith()] provider not ready -- wait for init()"),yield n.init()),Ne(`[MetaMaskSDK: connectWith()] method: ${r.method} rpc=${r}`),!n.activeProvider)throw new Error("SDK state invalid -- undefined provider");return n.activeProvider.request({method:At.METAMASK_CONNECTWITH,params:[r]})})}({instance:this,rpc:e})})}resume(){return function(e){var n,r,i;return Be(this,void 0,void 0,function*(){if(!(!((r=(n=e.remoteConnection)===null||n===void 0?void 0:n.getConnector())===null||r===void 0)&&r.isReady()))return Ne("[MetaMaskSDK: resume()] channel is not ready -- starting connection"),void((i=e.remoteConnection)===null||i===void 0||i.startConnection());Ne("[MetaMaskSDK: resume()] channel is ready")})}(this)}disconnect(){return console.warn("MetaMaskSDK.disconnect() is deprecated, use terminate()"),this.terminate()}isAuthorized(){var e;(e=this.remoteConnection)===null||e===void 0||e.isAuthorized()}terminate(){return function(e){var n,r,i;return Be(this,void 0,void 0,function*(){if(!(!((n=e.platformManager)===null||n===void 0)&&n.isMetaMaskMobileWebView())){if(pJ&&(window.localStorage.removeItem(hv),window.localStorage.removeItem(PE),window.localStorage.removeItem(TE)),e.extensionActive){try{yield(r=e.activeProvider)===null||r===void 0?void 0:r.request({method:At.WALLET_REVOKEPERMISSIONS,params:[{eth_accounts:{}}]})}catch(o){Ne("[MetaMaskSDK: terminate()] error revoking permissions",o)}return e.options.extensionOnly?(e.emit(Ci.ProviderUpdate,Ms.TERMINATE),void Ne("[MetaMaskSDK: terminate()] extensionOnly --- prevent switching providers")):(e.activeProvider=e.sdkProvider,window.ethereum=e.activeProvider,e.extensionActive=!1,void e.emit(Ci.ProviderUpdate,Ms.TERMINATE))}e.emit(Ci.ProviderUpdate,Ms.TERMINATE),Ne(`[MetaMaskSDK: terminate()] remoteConnection=${e.remoteConnection}`),(i=e.remoteConnection)===null||i===void 0||i.disconnect({terminate:!0,sendMessage:!0})}})}(this)}isInitialized(){return this._initialized}setReadOnlyRPCCalls(e){this.readonlyRPCCalls=e}hasReadOnlyRPCCalls(){return this.readonlyRPCCalls}getProvider(){if(this.activeProvider)return this.activeProvider;console.warn("MetaMaskSDK: No active provider found")}getMobileProvider(){if(!this.sdkProvider)throw new Error("SDK state invalid -- undefined mobile provider");return this.sdkProvider}getUniversalLink(){var e;const n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getUniversalLink();if(!n)throw new Error("No Universal Link available, please call eth_requestAccounts first.");return n}getChannelId(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getChannelConfig())===null||n===void 0?void 0:n.channelId}getRPCHistory(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0?void 0:n.getRPCMethodTracker()}getVersion(){return _u.version}getDappId(){var e,n,r,i;return typeof window>"u"||window.location===void 0?(i=(n=(e=this.options.dappMetadata)===null||e===void 0?void 0:e.name)!==null&&n!==void 0?n:(r=this.options.dappMetadata)===null||r===void 0?void 0:r.url)!==null&&i!==void 0?i:"N/A":window.location.hostname}getAnonId(){var e,n;return Be(this,void 0,void 0,function*(){if(this._anonId)return this._anonId;let r;return r=!((e=this.platformManager)===null||e===void 0)&&e.isBrowser()?this.getBrowserAnonId():!((n=this.platformManager)===null||n===void 0)&&n.isReactNative()?yield this.getReactNativeAnonId():Sl(),this._anonId=r,r})}getBrowserAnonId(){const e=this.ANON_ID_STORAGE_KEY;try{const n=localStorage.getItem(e);if(n)return n;const r=Sl();return localStorage.setItem(e,r),r}catch(n){return console.error("[MetaMaskSDK: getBrowserAnonId()] LocalStorage access error:",n),Sl()}}getReactNativeAnonId(){return Be(this,void 0,void 0,function*(){const e=this.ANON_ID_STORAGE_KEY;try{const n=require("@react-native-async-storage/async-storage").default,r=yield n.getItem(e);if(r)return r;const i=Sl();return yield n.setItem(e,i),i}catch(n){return console.error("[MetaMaskSDK: getReactNativeAnonId()] Error accessing AsyncStorage:",n),Sl()}})}getWalletStatus(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0?void 0:n.getConnectionStatus()}_getChannelConfig(){var e;return(e=this.remoteConnection)===null||e===void 0?void 0:e.getChannelConfig()}_ping(){var e,n;(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0||n.ping()}_keyCheck(){var e,n;(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0||n.keyCheck()}_getServiceStatus(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0?void 0:n.getServiceStatus()}_getRemoteConnection(){return this.remoteConnection}_getDappMetadata(){return this.dappMetadata}_getKeyInfo(){var e;return(e=this.remoteConnection)===null||e===void 0?void 0:e.getKeyInfo()}_resetKeys(){var e,n;(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0||n.resetKeys()}_getConnection(){return this.remoteConnection}emit(e,n){return super.emit(e,n)}on(e,n){return super.on(e,n)}}var $J=Object.freeze({__proto__:null,StorageManagerWeb:class{constructor({enabled:t}={enabled:!1}){this.enabled=!1,this.enabled=t}persistChannelConfig(t){return Be(this,void 0,void 0,function*(){const e=JSON.stringify(t);Ne(`[StorageManagerWeb: persistChannelConfig()] enabled=${this.enabled}`,t),localStorage.setItem(s2,e)})}getPersistedChannelConfig(){return Be(this,void 0,void 0,function*(){let t;try{if(Ne(`[StorageManagerWeb: getPersistedChannelConfig()] enabled=${this.enabled}`),t=localStorage.getItem(s2),Ne("[StorageManagerWeb: getPersistedChannelConfig()]",t),!t)return;const e=JSON.parse(t);return Ne("[StorageManagerWeb: getPersistedChannelConfig()] channelConfig",e),e}catch(e){return void console.error("[StorageManagerWeb: getPersistedChannelConfig()] Can't find existing channel config",e)}})}persistAccounts(t){return Be(this,void 0,void 0,function*(){Ne(`[StorageManagerWeb: persistAccounts()] enabled=${this.enabled}`,t);const e=JSON.stringify(t);localStorage.setItem(TE,e)})}getCachedAccounts(){return Be(this,void 0,void 0,function*(){try{const t=localStorage.getItem(TE);return t?JSON.parse(t):[]}catch(t){throw console.error("[StorageManagerWeb: getCachedAccounts()] Error reading cached accounts",t),t}})}persistChainId(t){return Be(this,void 0,void 0,function*(){Ne(`[StorageManagerWeb: persistChainId()] enabled=${this.enabled}`,t),localStorage.setItem(PE,t)})}getCachedChainId(){return Be(this,void 0,void 0,function*(){try{const t=localStorage.getItem(PE);return t??void 0}catch(t){throw console.error("[StorageManagerWeb: getCachedChainId()] Error reading cached chainId",t),t}})}terminate(){return Be(this,void 0,void 0,function*(){Ne(`[StorageManagerWeb: terminate()] enabled=${this.enabled}`),localStorage.removeItem(s2)})}}});const FJ="hydrated",UJ=!1,zJ=!0;var qJ=Object.defineProperty,P_=new WeakMap,Bl=t=>P_.get(t),N_=(t,e)=>P_.set(e.$lazyInstance$=t,e),uM=(t,e)=>e in t,su=(t,e)=>(0,console.error)(t,e),a2=new Map,Im=new Map,cN="slot-fb{display:contents}slot-fb[hidden]{display:none}",dy=typeof window<"u"?window:{},Cs=dy.document||{head:{}},Sr={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,r)=>t.addEventListener(e,n,r),rel:(t,e,n,r)=>t.removeEventListener(e,n,r),ce:(t,e)=>new CustomEvent(t,e)},uN=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),LE=!1,dM=[],dN=[],HJ=(t,e)=>n=>{t.push(n),LE||(LE=!0,4&Sr.$flags$?L_(DE):Sr.raf(DE))},fM=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){su(n)}t.length=0},DE=()=>{fM(dM),fM(dN),(LE=dM.length>0)&&Sr.raf(DE)},L_=t=>(e=>Promise.resolve(e))().then(t),WJ=HJ(dN),hM={},D_=t=>(t=typeof t)=="object"||t==="function";function fN(t){var e,n,r;return(r=(n=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?r:void 0}((t,e)=>{for(var n in e)qJ(t,n,{get:e[n],enumerable:!0})})({},{err:()=>hN,map:()=>KJ,ok:()=>BE,unwrap:()=>VJ,unwrapErr:()=>GJ});var BE=t=>({isOk:!0,isErr:!1,value:t}),hN=t=>({isOk:!1,isErr:!0,value:t});function KJ(t,e){if(t.isOk){const n=e(t.value);return n instanceof Promise?n.then(r=>BE(r)):BE(n)}if(t.isErr){const n=t.value;return hN(n)}throw"should never get here"}var B_,VJ=t=>{if(t.isOk)return t.value;throw t.value},GJ=t=>{if(t.isErr)return t.value;throw t.value},De=(t,e,...n)=>{let r=null,i=!1,o=!1;const a=[],s=c=>{for(let u=0;u<c.length;u++)r=c[u],Array.isArray(r)?s(r):r!=null&&typeof r!="boolean"&&((i=typeof t!="function"&&!D_(r))&&(r=String(r)),i&&o?a[a.length-1].$text$+=r:a.push(i?mv(null,r):r),o=i)};if(s(n),e){const c=e.className||e.class;c&&(e.class=typeof c!="object"?c:Object.keys(c).filter(u=>c[u]).join(" "))}if(typeof t=="function")return t(e===null?{}:e,a,JJ);const l=mv(t,null);return l.$attrs$=e,a.length>0&&(l.$children$=a),l},mv=(t,e)=>({$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null,$attrs$:null}),YJ={},JJ={forEach:(t,e)=>t.map(pM).forEach(e),map:(t,e)=>t.map(pM).map(e).map(ZJ)},pM=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),ZJ=t=>{if(typeof t.vtag=="function"){const n={...t.vattrs};return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),De(t.vtag,n,...t.vchildren||[])}const e=mv(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},fy=t=>Bl(t).$hostElement$,Ul=(t,e,n)=>{const r=fy(t);return{emit:i=>pN(r,e,{bubbles:!0,composed:!0,cancelable:!0,detail:i})}},pN=(t,e,n)=>{const r=Sr.ce(e,n);return t.dispatchEvent(r),r},gM=new WeakMap,QJ=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,r=e.$flags$;e.$tagName$;const i=((o,a,s)=>{var l;const c=gN(a),u=Im.get(c);if(o=o.nodeType===11?o:Cs,u)if(typeof u=="string"){o=o.head||o;let f,p=gM.get(o);if(p||gM.set(o,p=new Set),!p.has(c)){{f=Cs.createElement("style"),f.innerHTML=u;const g=(l=Sr.$nonce$)!=null?l:fN(Cs);if(g!=null&&f.setAttribute("nonce",g),!(1&a.$flags$))if(o.nodeName==="HEAD"){const m=o.querySelectorAll("link[rel=preconnect]"),v=m.length>0?m[m.length-1].nextSibling:o.querySelector("style");o.insertBefore(f,v)}else if("host"in o)if(uN){const m=new CSSStyleSheet;m.replaceSync(u),o.adoptedStyleSheets=[m,...o.adoptedStyleSheets]}else{const m=o.querySelector("style");m?m.innerHTML=u+m.innerHTML:o.prepend(f)}else o.append(f);1&a.$flags$&&o.nodeName!=="HEAD"&&o.insertBefore(f,null)}4&a.$flags$&&(f.innerHTML+=cN),p&&p.add(c)}}else o.adoptedStyleSheets.includes(u)||(o.adoptedStyleSheets=[...o.adoptedStyleSheets,u]);return c})(n.shadowRoot?n.shadowRoot:n.getRootNode(),e);10&r&&2&r&&(n["s-sc"]=i,n.classList.add(i+"-h"))},gN=(t,e)=>"sc-"+t.$tagName$,mM=(t,e,n,r,i,o)=>{if(n!==r){let a=uM(t,e),s=e.toLowerCase();if(e==="class"){const l=t.classList,c=vM(n),u=vM(r);l.remove(...c.filter(f=>f&&!u.includes(f))),l.add(...u.filter(f=>f&&!c.includes(f)))}else if(e==="style"){for(const l in n)r&&r[l]!=null||(l.includes("-")?t.style.removeProperty(l):t.style[l]="");for(const l in r)n&&r[l]===n[l]||(l.includes("-")?t.style.setProperty(l,r[l]):t.style[l]=r[l])}else if(a||e[0]!=="o"||e[1]!=="n"){const l=D_(r);if((a||l&&r!==null)&&!i)try{if(t.tagName.includes("-"))t[e]=r;else{const c=r??"";e==="list"?a=!1:n!=null&&t[e]==c||(typeof t.__lookupSetter__(e)=="function"?t[e]=c:t.setAttribute(e,c))}}catch{}r==null||r===!1?r===!1&&t.getAttribute(e)!==""||t.removeAttribute(e):(!a||4&o||i)&&!l&&(r=r===!0?"":r,t.setAttribute(e,r))}else if(e=e[2]==="-"?e.slice(3):uM(dy,s)?s.slice(2):s[2]+e.slice(3),n||r){const l=e.endsWith(mN);e=e.replace(eZ,""),n&&Sr.rel(t,e,n,l),r&&Sr.ael(t,e,r,l)}}},XJ=/\s/,vM=t=>t?t.split(XJ):[],mN="Capture",eZ=new RegExp(mN+"$"),vN=(t,e,n)=>{const r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,i=t&&t.$attrs$||hM,o=e.$attrs$||hM;for(const a of yM(Object.keys(i)))a in o||mM(r,a,i[a],void 0,n,e.$flags$);for(const a of yM(Object.keys(o)))mM(r,a,i[a],o[a],n,e.$flags$)};function yM(t){return t.includes("ref")?[...t.filter(e=>e!=="ref"),"ref"]:t}var go=!1,j_=(t,e,n,r)=>{const i=e.$children$[n];let o,a,s=0;if(i.$text$!==null)o=i.$elm$=Cs.createTextNode(i.$text$);else{if(go||(go=i.$tag$==="svg"),o=i.$elm$=Cs.createElementNS(go?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",i.$tag$),go&&i.$tag$==="foreignObject"&&(go=!1),vN(null,i,go),o.getRootNode().querySelector("body"),i.$children$)for(s=0;s<i.$children$.length;++s)a=j_(t,i,s),a&&o.appendChild(a);i.$tag$==="svg"?go=!1:o.tagName==="foreignObject"&&(go=!0)}return o["s-hn"]=B_,o},wM=(t,e,n,r,i,o)=>{let a,s=t;for(s.shadowRoot&&s.tagName===B_&&(s=s.shadowRoot);i<=o;++i)r[i]&&(a=j_(null,n,i),a&&(r[i].$elm$=a,km(s,a,e)))},bM=(t,e,n)=>{for(let r=e;r<=n;++r){const i=t[r];if(i){const o=i.$elm$;o&&o.remove()}}},$g=(t,e,n=!1)=>t.$tag$===e.$tag$,uh=(t,e,n=!1)=>{const r=e.$elm$=t.$elm$,i=t.$children$,o=e.$children$,a=e.$tag$,s=e.$text$;s===null?(vN(t,e,go=a==="svg"||a!=="foreignObject"&&go),i!==null&&o!==null?((l,c,u,f,p=!1)=>{let g,m=0,v=0,_=c.length-1,w=c[0],I=c[_],k=f.length-1,$=f[0],L=f[k];for(;m<=_&&v<=k;)w==null?w=c[++m]:I==null?I=c[--_]:$==null?$=f[++v]:L==null?L=f[--k]:$g(w,$,p)?(uh(w,$,p),w=c[++m],$=f[++v]):$g(I,L,p)?(uh(I,L,p),I=c[--_],L=f[--k]):$g(w,L,p)?(uh(w,L,p),km(l,w.$elm$,I.$elm$.nextSibling),w=c[++m],L=f[--k]):$g(I,$,p)?(uh(I,$,p),km(l,I.$elm$,w.$elm$),I=c[--_],$=f[++v]):(g=j_(c&&c[v],u,v),$=f[++v],g&&km(w.$elm$.parentNode,g,w.$elm$));m>_?wM(l,f[k+1]==null?null:f[k+1].$elm$,u,f,v,k):v>k&&bM(c,m,_)})(r,i,e,o,n):o!==null?(t.$text$!==null&&(r.textContent=""),wM(r,null,e,o,0,o.length-1)):!n&&zJ&&i!==null&&bM(i,0,i.length-1),go&&a==="svg"&&(go=!1)):t.$text$!==s&&(r.data=s)},km=(t,e,n)=>t==null?void 0:t.insertBefore(e,n),tZ=(t,e,n=!1)=>{const r=t.$hostElement$,i=t.$cmpMeta$,o=t.$vnode$||mv(null,null),a=(s=e)&&s.$tag$===YJ?e:De(null,null,e);var s;if(B_=r.tagName,n&&a.$attrs$)for(const l of Object.keys(a.$attrs$))r.hasAttribute(l)&&!["key","ref","style","class"].includes(l)&&(a.$attrs$[l]=r[l]);a.$tag$=null,a.$flags$|=4,t.$vnode$=a,a.$elm$=o.$elm$=r.shadowRoot||r,r["s-sc"],1&i.$flags$,uh(o,a,n)},yN=(t,e)=>{e&&!t.$onRenderResolve$&&e["s-p"]&&e["s-p"].push(new Promise(n=>t.$onRenderResolve$=n))},$_=(t,e)=>(t.$flags$|=16,4&t.$flags$?void(t.$flags$|=512):(yN(t,t.$ancestorComponent$),WJ(()=>nZ(t,e)))),nZ=(t,e)=>{const n=t.$hostElement$;t.$cmpMeta$.$tagName$;const r=t.$lazyInstance$;if(!r)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);return rZ(void 0,()=>oZ(t,r,e))},rZ=(t,e)=>iZ(t)?t.then(e).catch(n=>{console.error(n),e()}):e(),iZ=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",oZ=async(t,e,n)=>{var r;const i=t.$hostElement$;t.$cmpMeta$.$tagName$;const o=i["s-rc"];n&&QJ(t),t.$cmpMeta$.$tagName$,sZ(t,e,i,n),o&&(o.map(a=>a()),i["s-rc"]=void 0);{const a=(r=i["s-p"])!=null?r:[],s=()=>aZ(t);a.length===0?s():(Promise.all(a).then(s),t.$flags$|=4,a.length=0)}},sZ=(t,e,n,r)=>{try{e=e.render(),t.$flags$&=-17,t.$flags$|=2,tZ(t,e,r)}catch(i){su(i,t.$hostElement$)}return null},aZ=t=>{t.$cmpMeta$.$tagName$;const e=t.$hostElement$,n=()=>{},r=t.$lazyInstance$,i=t.$ancestorComponent$;64&t.$flags$?n():(t.$flags$|=64,bN(e),F_(r,"componentDidLoad"),t.$onReadyResolve$(e),i||wN()),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),512&t.$flags$&&L_(()=>$_(t,!1)),t.$flags$&=-517},wN=t=>{bN(Cs.documentElement),L_(()=>pN(dy,"appload",{detail:{namespace:"sdk-install-modal-web"}}))},F_=(t,e,n)=>{if(t&&t[e])try{return t[e](n)}catch(r){su(r)}},bN=t=>{var e;return t.classList.add((e=FJ)!=null?e:"hydrated")},lZ=(t,e,n,r)=>{const i=Bl(t);if(!i)throw new Error(`Couldn't find host element for "${r.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const o=i.$hostElement$,a=i.$instanceValues$.get(e),s=i.$flags$,l=i.$lazyInstance$;var c,u;c=n,u=r.$members$[e][0],n=c==null||D_(c)?c:4&u?c!=="false"&&(c===""||!!c):1&u?String(c):c;const f=Number.isNaN(a)&&Number.isNaN(n);if((!(8&s)||a===void 0)&&n!==a&&!f&&(i.$instanceValues$.set(e,n),l)){if(r.$watchers$&&128&s){const p=r.$watchers$[e];p&&p.map(g=>{try{l[g](n,a,e)}catch(m){su(m,o)}})}(18&s)==2&&$_(i,!1)}},EN=(t,e,n)=>{var r,i;const o=t.prototype;if(e.$members$||e.$watchers$||t.watchers){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers);const a=Object.entries((r=e.$members$)!=null?r:{});if(a.map(([s,[l]])=>{(31&l||2&n&&32&l)&&Object.defineProperty(o,s,{get(){return c=s,Bl(this).$instanceValues$.get(c);var c},set(c){lZ(this,s,c,e)},configurable:!0,enumerable:!0})}),1&n){const s=new Map;o.attributeChangedCallback=function(l,c,u){Sr.jmp(()=>{var f;const p=s.get(l);if(this.hasOwnProperty(p))u=this[p],delete this[p];else{if(o.hasOwnProperty(p)&&typeof this[p]=="number"&&this[p]==u)return;if(p==null){const g=Bl(this),m=g==null?void 0:g.$flags$;if(m&&!(8&m)&&128&m&&u!==c){const v=g.$lazyInstance$,_=(f=e.$watchers$)==null?void 0:f[l];_==null||_.forEach(w=>{v[w]!=null&&v[w].call(v,u,c,l)})}return}}this[p]=(u!==null||typeof this[p]!="boolean")&&u})},t.observedAttributes=Array.from(new Set([...Object.keys((i=e.$watchers$)!=null?i:{}),...a.filter(([l,c])=>15&c[0]).map(([l,c])=>{const u=c[1]||l;return s.set(u,l),u})]))}}return t},cZ=async(t,e,n,r)=>{let i;if((32&e.$flags$)==0){if(e.$flags$|=32,n.$lazyBundleId$){const s=((l,c,u)=>{const f=l.$tagName$.replace(/-/g,"_"),p=l.$lazyBundleId$;if(!p)return;const g=a2.get(p);if(g)return g[f];{const m=v=>(a2.set(p,v),v[f]);if(p==="mm-install-modal_3")return Promise.resolve().then(function(){return SZ}).then(m,su)}return on(()=>import(`./${p}.entry.js`),[]).then(m=>(a2.set(p,m),m[f]),su)})(n);if(s&&"then"in s?i=await s:i=s,!i)throw new Error(`Constructor for "${n.$tagName$}#${e.$modeName$}" was not found`);i.isProxied||(n.$watchers$=i.watchers,EN(i,n,2),i.isProxied=!0),n.$tagName$,e.$flags$|=8;try{new i(e)}catch(l){su(l)}e.$flags$&=-9,e.$flags$|=128,jE(e.$lazyInstance$)}else{i=t.constructor;const s=t.localName;customElements.whenDefined(s).then(()=>e.$flags$|=128)}if(i&&i.style){let s;typeof i.style=="string"&&(s=i.style);const l=gN(n);Im.has(l)||(n.$tagName$,((c,u,f)=>{let p=Im.get(c);uN&&f?(p=p||new CSSStyleSheet,typeof p=="string"?p=u:p.replaceSync(u)):p=u,Im.set(c,p)})(l,s,!!(1&n.$flags$)))}}const o=e.$ancestorComponent$,a=()=>$_(e,!0);o&&o["s-rc"]?o["s-rc"].push(a):a()},jE=t=>{F_(t,"connectedCallback")},EM=t=>{F_(t,"disconnectedCallback")},uZ=(t,e={})=>{var n;const r=[],i=e.exclude||[],o=dy.customElements,a=Cs.head,s=a.querySelector("meta[charset]"),l=Cs.createElement("style"),c=[];let u,f=!0;Object.assign(Sr,e),Sr.$resourcesUrl$=new URL(e.resourcesUrl||"./",Cs.baseURI).href;let p=!1;if(t.map(g=>{g[1].map(m=>{var v;const _={$flags$:m[0],$tagName$:m[1],$members$:m[2],$listeners$:m[3]};4&_.$flags$&&(p=!0),_.$members$=m[2],_.$watchers$=(v=m[4])!=null?v:{};const w=_.$tagName$,I=class extends HTMLElement{constructor(k){if(super(k),this.hasRegisteredEventListeners=!1,(($,L)=>{const z={$flags$:0,$hostElement$:$,$cmpMeta$:L,$instanceValues$:new Map};z.$onReadyPromise$=new Promise(H=>z.$onReadyResolve$=H),$["s-p"]=[],$["s-rc"]=[],P_.set($,z)})(k=this,_),1&_.$flags$)if(k.shadowRoot){if(k.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${_.$tagName$}! Mode is set to ${k.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else k.attachShadow({mode:"open"})}connectedCallback(){Bl(this),this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0),u&&(clearTimeout(u),u=null),f?c.push(this):Sr.jmp(()=>(k=>{if((1&Sr.$flags$)==0){const $=Bl(k),L=$.$cmpMeta$;if(L.$tagName$,1&$.$flags$)$!=null&&$.$lazyInstance$?jE($.$lazyInstance$):$!=null&&$.$onReadyPromise$&&$.$onReadyPromise$.then(()=>jE($.$lazyInstance$));else{$.$flags$|=1;{let z=k;for(;z=z.parentNode||z.host;)if(z["s-p"]){yN($,$.$ancestorComponent$=z);break}}L.$members$&&Object.entries(L.$members$).map(([z,[H]])=>{if(31&H&&k.hasOwnProperty(z)){const P=k[z];delete k[z],k[z]=P}}),cZ(k,$,L)}}})(this))}disconnectedCallback(){Sr.jmp(()=>(async k=>{if((1&Sr.$flags$)==0){const $=Bl(k);$!=null&&$.$lazyInstance$?EM($.$lazyInstance$):$!=null&&$.$onReadyPromise$&&$.$onReadyPromise$.then(()=>EM($.$lazyInstance$))}})(this))}componentOnReady(){return Bl(this).$onReadyPromise$}};_.$lazyBundleId$=g[0],i.includes(w)||o.get(w)||(r.push(w),o.define(w,EN(I,_,1)))})}),r.length>0&&(p&&(l.textContent+=cN),l.textContent+=r.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",l.innerHTML.length)){l.setAttribute("data-styles","");const g=(n=Sr.$nonce$)!=null?n:fN(Cs);g!=null&&l.setAttribute("nonce",g),a.insertBefore(l,s?s.nextSibling:a.firstChild)}f=!1,c.length?c.map(g=>g.connectedCallback()):Sr.jmp(()=>u=setTimeout(wN,30))};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var t=HTMLElement;window.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}})();var dZ=Object.freeze({__proto__:null,defineCustomElements:async(t,e)=>{if(typeof window<"u")return await void 0,uZ([["mm-install-modal_3",[[1,"mm-install-modal",{link:[1],sdkVersion:[1,"sdk-version"],preferDesktop:[4,"prefer-desktop"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:["updatePreferDesktop"]}],[1,"mm-pending-modal",{displayOTP:[4,"display-o-t-p"],sdkVersion:[1,"sdk-version"],otpCode:[1,"otp-code"],translationsLoaded:[32]}],[1,"mm-select-modal",{link:[1],sdkVersion:[1,"sdk-version"],preferDesktop:[4,"prefer-desktop"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:["updatePreferDesktop"]}]]]],e)},setNonce:t=>Sr.$nonce$=t});const fZ={fontFamily:"Roboto, sans-serif"},U_=({className:t},e)=>De("div",{style:fZ,class:t},e),l2=({Icon:t,text:e})=>De("div",{class:"flexContainer",style:{padding:"6",flexDirection:"row"}},De("div",{class:"flexItem1"},De(t,null)),De("div",{class:"flexItem11"},De("span",{style:{lineHeight:"2",color:"black"}},e))),hZ=()=>De("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},De("path",{d:"M20.0002 7.9702V10.0302C20.0002 10.5802 19.5602 11.0302 19.0002 11.0502H17.0402C15.9602 11.0502 14.9702 10.2602 14.8802 9.1802C14.8202 8.5502 15.0602 7.9602 15.4802 7.5502C15.8502 7.1702 16.3602 6.9502 16.9202 6.9502H19.0002C19.5602 6.9702 20.0002 7.4202 20.0002 7.9702Z",fill:"#037DD6"}),De("path",{d:"M18.47 12.55H17.04C15.14 12.55 13.54 11.12 13.38 9.3C13.29 8.26 13.67 7.22 14.43 6.48C15.07 5.82 15.96 5.45 16.92 5.45H18.47C18.76 5.45 19 5.21 18.97 4.92C18.75 2.49 17.14 0.83 14.75 0.55C14.51 0.51 14.26 0.5 14 0.5H5C4.72 0.5 4.45 0.52 4.19 0.56C1.64 0.88 0 2.78 0 5.5V12.5C0 15.26 2.24 17.5 5 17.5H14C16.8 17.5 18.73 15.75 18.97 13.08C19 12.79 18.76 12.55 18.47 12.55ZM11 6.75H5C4.59 6.75 4.25 6.41 4.25 6C4.25 5.59 4.59 5.25 5 5.25H11C11.41 5.25 11.75 5.59 11.75 6C11.75 6.41 11.41 6.75 11 6.75Z",fill:"#037DD6"})),pZ=()=>De("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},De("path",{d:"M14.44 0.0999756C12.63 0.0999756 11.01 0.979976 10 2.32998C8.99 0.979976 7.37 0.0999756 5.56 0.0999756C2.49 0.0999756 0 2.59998 0 5.68998C0 6.87998 0.19 7.97998 0.52 8.99998C2.1 14 6.97 16.99 9.38 17.81C9.72 17.93 10.28 17.93 10.62 17.81C13.03 16.99 17.9 14 19.48 8.99998C19.81 7.97998 20 6.87998 20 5.68998C20 2.59998 17.51 0.0999756 14.44 0.0999756Z",fill:"#037DD6"})),gZ=()=>De("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},De("path",{d:"M16.28 7.53V6.28C16.28 3.58 15.63 0 10 0C4.37 0 3.72 3.58 3.72 6.28V7.53C0.92 7.88 0 9.3 0 12.79V14.65C0 18.75 1.25 20 5.35 20H14.65C18.75 20 20 18.75 20 14.65V12.79C20 9.3 19.08 7.88 16.28 7.53ZM10 16.74C8.33 16.74 6.98 15.38 6.98 13.72C6.98 12.05 8.34 10.7 10 10.7C11.66 10.7 13.02 12.06 13.02 13.72C13.02 15.39 11.67 16.74 10 16.74ZM5.35 7.44C5.27 7.44 5.2 7.44 5.12 7.44V6.28C5.12 3.35 5.95 1.4 10 1.4C14.05 1.4 14.88 3.35 14.88 6.28V7.45C14.8 7.45 14.73 7.45 14.65 7.45H5.35V7.44Z",fill:"#037DD6"})),mZ=()=>De("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},De("path",{d:"M16.4405 8.8999C20.0405 9.2099 21.5105 11.0599 21.5105 15.1099V15.2399C21.5105 19.7099 19.7205 21.4999 15.2505 21.4999H8.74047C4.27047 21.4999 2.48047 19.7099 2.48047 15.2399V15.1099C2.48047 11.0899 3.93047 9.2399 7.47047 8.9099",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),De("path",{d:"M12 2V14.88",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),De("path",{d:"M15.3504 12.6499L12.0004 15.9999L8.65039 12.6499",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));function z_({version:t}){return De("div",{style:{textAlign:"center",color:"#BBC0C5",fontSize:"12"}},"SDK Version ",t?`v${t}`:"unknown")}const q_=()=>De("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},De("rect",{width:"16",height:"16",fill:"white"}),De("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.40554 2.40554C2.94627 1.86482 3.82296 1.86482 4.36369 2.40554L8 6.04186L11.6363 2.40554C12.177 1.86482 13.0537 1.86482 13.5945 2.40554C14.1352 2.94627 14.1352 3.82296 13.5945 4.36369L9.95814 8L13.5945 11.6363C14.1352 12.177 14.1352 13.0537 13.5945 13.5945C13.0537 14.1352 12.177 14.1352 11.6363 13.5945L8 9.95814L4.36369 13.5945C3.82296 14.1352 2.94627 14.1352 2.40554 13.5945C1.86482 13.0537 1.86482 12.177 2.40554 11.6363L6.04186 8L2.40554 4.36369C1.86482 3.82296 1.86482 2.94627 2.40554 2.40554Z",fill:"#BBC0C5"})),H_=()=>De("svg",{width:"120",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 127 63"},De("path",{fill:"currentColor",d:"M71.554 48.607v13.81h-7.072v-9.568l-8.059.945c-1.77.205-2.548.79-2.548 1.864 0 1.575 1.478 2.239 4.648 2.239 1.932 0 4.073-.29 5.963-.79l-3.66 5.225c-1.479.332-2.92.496-4.44.496-6.414 0-10.074-2.57-10.074-7.132 0-4.023 2.877-6.136 9.416-6.884l8.638-1.012c-.467-2.532-2.362-3.633-6.13-3.633-3.537 0-7.443.912-10.937 2.613l1.111-6.18c3.248-1.369 6.95-2.074 10.69-2.074 8.226 0 12.461 3.444 12.461 10.075l-.008.005ZM7.938 31.315.208 62.416h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73l-7.73-31.105-14.518 17.388L7.934 31.311l.004.004ZM36.97.21 22.452 17.598 7.938.21.208 31.315h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73L36.97.21Zm53.17 48.107-6.25-.912c-1.562-.247-2.178-.747-2.178-1.617 0-1.41 1.52-2.032 4.647-2.032 3.62 0 6.868.747 10.283 2.364l-.862-6.094c-2.757-.995-5.922-1.491-9.212-1.491-7.688 0-11.886 2.696-11.886 7.547 0 3.776 2.303 5.889 7.196 6.636l6.335.954c1.603.248 2.261.87 2.261 1.865 0 1.41-1.478 2.074-4.481 2.074-3.948 0-8.225-.953-11.72-2.654l.7 6.094c3.003 1.122 6.91 1.785 10.57 1.785 7.896 0 12.007-2.78 12.007-7.715 0-3.94-2.303-6.057-7.4-6.8l-.01-.004ZM100.3 34.09v28.325h7.071V34.091H100.3Zm15.334 15.595 9.833-10.744h-8.8l-9.296 11.114 9.912 12.356h8.925l-10.574-12.73v.004Zm-16.321-25.09c0 4.56 3.66 7.13 10.074 7.13 1.52 0 2.961-.167 4.44-.495l3.66-5.225c-1.89.496-4.031.79-5.963.79-3.166 0-4.648-.664-4.648-2.239 0-1.079.783-1.659 2.549-1.864l8.058-.945v9.567h7.072v-13.81c0-6.635-4.236-10.075-12.461-10.075-3.744 0-7.442.705-10.691 2.075l-1.112 6.178c3.495-1.701 7.401-2.613 10.937-2.613 3.769 0 5.664 1.1 6.13 3.633l-8.637 1.013c-6.539.747-9.417 2.86-9.417 6.883l.009-.004Zm-19.779-1.492c0 5.725 3.29 8.627 9.787 8.627 2.59 0 4.732-.416 6.785-1.37l.903-6.261c-1.974 1.2-3.99 1.822-6.005 1.822-3.044 0-4.402-1.243-4.402-4.023v-8.295h10.732V7.84H86.601V2.948l-13.448 7.174v3.482h6.372V23.1l.008.004Zm-6.95-2.612v1.411H53.47c.862 2.873 3.423 4.187 7.97 4.187 3.62 0 6.993-.747 9.992-2.196l-.862 6.056c-2.757 1.16-6.251 1.785-9.829 1.785-9.5 0-14.68-4.23-14.68-12.066 0-7.838 5.264-12.235 13.406-12.235s13.119 4.771 13.119 13.062l-.005-.004ZM53.378 17.09h12.086c-.637-2.751-2.732-4.188-6.08-4.188-3.349 0-5.335 1.399-6.006 4.188Z"}));function Lc(t,e){return t.toString(2).padStart(e,"0")}function xM(t,e){const n=t%e;return n>=0?n:e+n}function zi(t,e){return new Array(t).fill(e)}function _M(...t){let e=0;for(const r of t)e=Math.max(e,r.length);const n=[];for(let r=0;r<e;r++)for(const i of t)r>=i.length||n.push(i[r]);return new Uint8Array(n)}function SM(t,e,n){if(n<0||n+e.length>t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[n+r])return!1;return!0}function CM(t){return{has:e=>t.includes(e),decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=t.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${t}`);return r})},encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(n=>{if(function(r){if(!Number.isSafeInteger(r))throw new Error(`Wrong integer: ${r}`)}(n),n<0||n>=t.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${t.length})`);return t[n]})}}}class ji{static size(e,n){if(typeof e=="number"&&(e={height:e,width:e}),!Number.isSafeInteger(e.height)&&e.height!==1/0)throw new Error(`Bitmap: wrong height=${e.height} (${typeof e.height})`);if(!Number.isSafeInteger(e.width)&&e.width!==1/0)throw new Error(`Bitmap: wrong width=${e.width} (${typeof e.width})`);return n!==void 0&&(e={width:Math.min(e.width,n.width),height:Math.min(e.height,n.height)}),e}static fromString(e){const n=(e=e.replace(/^\n+/g,"").replace(/\n+$/g,"")).split(`
`),r=n.length,i=new Array(r);let o;for(const a of n){const s=a.split("").map(l=>{if(l==="X")return!0;if(l===" ")return!1;if(l!=="?")throw new Error(`Bitmap.fromString: unknown symbol=${l}`)});if(o&&s.length!==o)throw new Error(`Bitmap.fromString different row sizes: width=${o} cur=${s.length}`);o=s.length,i.push(s)}return o||(o=0),new ji({height:r,width:o},i)}constructor(e,n){const{height:r,width:i}=ji.size(e);this.data=n||Array.from({length:r},()=>zi(i,void 0)),this.height=r,this.width=i}point(e){return this.data[e.y][e.x]}isInside(e){return 0<=e.x&&e.x<this.width&&0<=e.y&&e.y<this.height}size(e){if(!e)return{height:this.height,width:this.width};const{x:n,y:r}=this.xy(e);return{height:this.height-r,width:this.width-n}}xy(e){if(typeof e=="number"&&(e={x:e,y:e}),!Number.isSafeInteger(e.x))throw new Error(`Bitmap: wrong x=${e.x}`);if(!Number.isSafeInteger(e.y))throw new Error(`Bitmap: wrong y=${e.y}`);return e.x=xM(e.x,this.width),e.y=xM(e.y,this.height),e}rect(e,n,r){const{x:i,y:o}=this.xy(e),{height:a,width:s}=ji.size(n,this.size({x:i,y:o}));for(let l=0;l<a;l++)for(let c=0;c<s;c++)this.data[o+l][i+c]=typeof r=="function"?r({x:c,y:l},this.data[o+l][i+c]):r;return this}rectRead(e,n,r){return this.rect(e,n,(i,o)=>(r(i,o),o))}hLine(e,n,r){return this.rect(e,{width:n,height:1},r)}vLine(e,n,r){return this.rect(e,{width:1,height:n},r)}border(e=2,n){const r=this.height+2*e,i=this.width+2*e,o=zi(e,n),a=Array.from({length:e},()=>zi(i,n));return new ji({height:r,width:i},[...a,...this.data.map(s=>[...o,...s,...o]),...a])}embed(e,n){return this.rect(e,n.size(),({x:r,y:i})=>n.data[i][r])}rectSlice(e,n=this.size()){const r=new ji(ji.size(n,this.size(this.xy(e))));return this.rect(e,n,({x:i,y:o},a)=>r.data[o][i]=a),r}inverse(){const{height:e,width:n}=this;return new ji({height:n,width:e}).rect({x:0,y:0},1/0,({x:r,y:i})=>this.data[r][i])}scale(e){if(!Number.isSafeInteger(e)||e>1024)throw new Error(`Wrong scale factor: ${e}`);const{height:n,width:r}=this;return new ji({height:e*n,width:e*r}).rect({x:0,y:0},1/0,({x:i,y:o})=>this.data[Math.floor(o/e)][Math.floor(i/e)])}clone(){return new ji(this.size()).rect({x:0,y:0},this.size(),({x:e,y:n})=>this.data[n][e])}assertDrawn(){this.rectRead(0,1/0,(e,n)=>{if(typeof n!="boolean")throw new Error("Invalid color type="+typeof n)})}toString(){return this.data.map(e=>e.map(n=>n===void 0?"?":n?"X":" ").join("")).join(`
`)}toASCII(){const{height:e,width:n,data:r}=this;let i="";for(let o=0;o<e;o+=2){for(let a=0;a<n;a++){const s=r[o][a],l=o+1>=e||r[o+1][a];s||l?!s&&l?i+="":s&&!l?i+="":s&&l&&(i+=" "):i+=""}i+=`
`}return i}toTerm(){const e="\x1B[0m",n=`\x1B[1;47m  ${e}`,r=`\x1B[40m  ${e}`;return this.data.map(i=>i.map(o=>o?r:n).join("")).join(`
`)}toSVG(){let e=`<svg xmlns:svg="http://www.w3.org/2000/svg" viewBox="0 0 ${this.width} ${this.height}" version="1.1" xmlns="http://www.w3.org/2000/svg">`;return this.rectRead(0,1/0,({x:n,y:r},i)=>{i&&(e+=`<rect x="${n}" y="${r}" width="1" height="1" />`)}),e+="</svg>",e}toGIF(){const e=s=>[255&s,s>>>8&255],n=[...e(this.width),...e(this.height)],r=[];this.rectRead(0,1/0,(s,l)=>r.push(+(l===!0)));const i=126,o=[71,73,70,56,55,97,...n,246,0,0,255,255,255,...zi(381,0),44,0,0,0,0,...n,0,7],a=Math.floor(r.length/i);for(let s=0;s<a;s++)o.push(127,128,...r.slice(i*s,i*(s+1)).map(l=>+l));return o.push(r.length%i+1,128,...r.slice(a*i).map(s=>+s)),o.push(1,129,0,59),new Uint8Array(o)}toImage(e=!1){const{height:n,width:r}=this.size(),i=new Uint8Array(n*r*(e?3:4));let o=0;for(let a=0;a<n;a++)for(let s=0;s<r;s++){const l=this.data[a][s]?0:255;i[o++]=l,i[o++]=l,i[o++]=l,e||(i[o++]=255)}return{height:n,width:r,data:i}}}const AM=["low","medium","quartile","high"],IM=["numeric","alphanumeric","byte","kanji","eci"],vZ=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],yZ={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},wZ={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},qr={size:{encode:t=>21+4*(t-1),decode:t=>(t-17)/4},sizeType:t=>Math.floor((t+7)/17),alignmentPatterns(t){if(t===1)return[];const e=qr.size.encode(t)-6-1,n=e-6,r=Math.ceil(n/28);let i=Math.floor(n/r);i%2?i+=1:n%r*2>=r&&(i+=2);const o=[6];for(let a=1;a<r;a++)o.push(e-(r-a)*i);return o.push(e),o},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(t,e){const n=qr.ECCode[t]<<3|e;let r=n;for(let i=0;i<10;i++)r=r<<1^1335*(r>>9);return(n<<10|r)^qr.formatMask},versionBits(t){let e=t;for(let n=0;n<12;n++)e=e<<1^7973*(e>>11);return t<<12|e},alphabet:{numeric:CM("0123456789"),alphanumerc:CM("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:")},lengthBits:(t,e)=>({numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]})[e][qr.sizeType(t)],modeBits:{numeric:"0001",alphanumeric:"0010",byte:"0100",kanji:"1000",eci:"0111"},capacity(t,e){const n=vZ[t-1],r=yZ[e][t-1],i=wZ[e][t-1],o=Math.floor(n/i)-r,a=i-n%i;return{words:r,numBlocks:i,shortBlocks:a,blockLen:o,capacity:8*(n-r*i),total:(r+o)*i+i-a}}},$E=[(t,e)=>(t+e)%2==0,(t,e)=>e%2==0,(t,e)=>t%3==0,(t,e)=>(t+e)%3==0,(t,e)=>(Math.floor(e/2)+Math.floor(t/3))%2==0,(t,e)=>t*e%2+t*e%3==0,(t,e)=>(t*e%2+t*e%3)%2==0,(t,e)=>((t+e)%2+t*e%3)%2==0],ut={tables:(t=>{const e=zi(256,0),n=zi(256,0);for(let r=0,i=1;r<256;r++)e[r]=i,n[i]=r,i<<=1,256&i&&(i^=285);return{exp:e,log:n}})(),exp:t=>ut.tables.exp[t],log(t){if(t===0)throw new Error(`GF.log: wrong arg=${t}`);return ut.tables.log[t]%255},mul:(t,e)=>t===0||e===0?0:ut.tables.exp[(ut.tables.log[t]+ut.tables.log[e])%255],add:(t,e)=>t^e,pow:(t,e)=>ut.tables.exp[ut.tables.log[t]*e%255],inv(t){if(t===0)throw new Error(`GF.inverse: wrong arg=${t}`);return ut.tables.exp[255-ut.tables.log[t]]},polynomial(t){if(t.length==0)throw new Error("GF.polymomial: wrong length");if(t[0]!==0)return t;let e=0;for(;e<t.length-1&&t[e]==0;e++);return t.slice(e)},monomial(t,e){if(t<0)throw new Error(`GF.monomial: wrong degree=${t}`);if(e==0)return[0];let n=zi(t+1,0);return n[0]=e,ut.polynomial(n)},degree:t=>t.length-1,coefficient:(t,e)=>t[ut.degree(t)-e],mulPoly(t,e){if(t[0]===0||e[0]===0)return[0];const n=zi(t.length+e.length-1,0);for(let r=0;r<t.length;r++)for(let i=0;i<e.length;i++)n[r+i]=ut.add(n[r+i],ut.mul(t[r],e[i]));return ut.polynomial(n)},mulPolyScalar(t,e){if(e==0)return[0];if(e==1)return t;const n=zi(t.length,0);for(let r=0;r<t.length;r++)n[r]=ut.mul(t[r],e);return ut.polynomial(n)},mulPolyMonomial(t,e,n){if(e<0)throw new Error("GF.mulPolyMonomial: wrong degree");if(n==0)return[0];const r=zi(t.length+e,0);for(let i=0;i<t.length;i++)r[i]=ut.mul(t[i],n);return ut.polynomial(r)},addPoly(t,e){if(t[0]===0)return e;if(e[0]===0)return t;let n=t,r=e;n.length>r.length&&([n,r]=[r,n]);let i=zi(r.length,0),o=r.length-n.length,a=r.slice(0,o);for(let s=0;s<a.length;s++)i[s]=a[s];for(let s=o;s<r.length;s++)i[s]=ut.add(n[s-o],r[s]);return ut.polynomial(i)},remainderPoly(t,e){const n=Array.from(t);for(let r=0;r<t.length-e.length+1;r++){const i=n[r];if(i!==0)for(let o=1;o<e.length;o++)e[o]!==0&&(n[r+o]=ut.add(n[r+o],ut.mul(e[o],i)))}return n.slice(t.length-e.length+1,n.length)},divisorPoly(t){let e=[1];for(let n=0;n<t;n++)e=ut.mulPoly(e,[1,ut.pow(2,n)]);return e},evalPoly(t,e){if(e==0)return ut.coefficient(t,0);let n=t[0];for(let r=1;r<t.length;r++)n=ut.add(ut.mul(e,n),t[r]);return n},euclidian(t,e,n){ut.degree(t)<ut.degree(e)&&([t,e]=[e,t]);let r=t,i=e,o=[0],a=[1];for(;2*ut.degree(i)>=n;){let c=r,u=o;if(r=i,o=a,r[0]===0)throw new Error("rLast[0] === 0");i=c;let f=[0];const p=ut.inv(r[0]);for(;ut.degree(i)>=ut.degree(r)&&i[0]!==0;){const g=ut.degree(i)-ut.degree(r),m=ut.mul(i[0],p);f=ut.addPoly(f,ut.monomial(g,m)),i=ut.addPoly(i,ut.mulPolyMonomial(r,g,m))}if(f=ut.mulPoly(f,o),a=ut.addPoly(f,u),ut.degree(i)>=ut.degree(r))throw new Error(`Division failed r: ${i}, rLast: ${r}`)}const s=ut.coefficient(a,0);if(s==0)throw new Error("sigmaTilde(0) was zero");const l=ut.inv(s);return[ut.mulPolyScalar(a,l),ut.mulPolyScalar(i,l)]}};function bZ(t,e){const{words:n,shortBlocks:r,numBlocks:i,blockLen:o,total:a}=qr.capacity(t,e),s=(l=n,{encode(c){const u=ut.divisorPoly(l),f=Array.from(c);return f.push(...u.slice(0,-1).fill(0)),Uint8Array.from(ut.remainderPoly(f,u))},decode(c){const u=c.slice(),f=ut.polynomial(Array.from(c));let p=zi(l,0),g=!1;for(let k=0;k<l;k++){const $=ut.evalPoly(f,ut.exp(k));p[p.length-1-k]=$,$!==0&&(g=!0)}if(!g)return u;p=ut.polynomial(p);const m=ut.monomial(l,1),[v,_]=ut.euclidian(m,p,l),w=zi(ut.degree(v),0);let I=0;for(let k=1;k<256&&I<w.length;k++)ut.evalPoly(v,k)===0&&(w[I++]=ut.inv(k));if(I!==w.length)throw new Error("RS.decode: wrong errors number");for(let k=0;k<w.length;k++){const $=u.length-1-ut.log(w[k]);if($<0)throw new Error("RS.decode: wrong error location");const L=ut.inv(w[k]);let z=1;for(let H=0;H<w.length;H++)k!==H&&(z=ut.mul(z,ut.add(1,ut.mul(w[H],L))));u[$]=ut.add(u[$],ut.mul(ut.evalPoly(_,L),ut.inv(z)))}return u}});var l;return{encode(c){const u=[],f=[];for(let v=0;v<i;v++){const _=o+(v<r?0:1);u.push(c.subarray(0,_)),f.push(s.encode(c.subarray(0,_))),c=c.subarray(_)}const p=_M(...u),g=_M(...f),m=new Uint8Array(p.length+g.length);return m.set(p),m.set(g,p.length),m},decode(c){if(c.length!==a)throw new Error(`interleave.decode: len(data)=${c.length}, total=${a}`);const u=[];for(let g=0;g<i;g++){const m=g<r;u.push(new Uint8Array(n+o+(m?0:1)))}let f=0;for(let g=0;g<o;g++)for(let m=0;m<i;m++)u[m][g]=c[f++];for(let g=r;g<i;g++)u[g][o]=c[f++];for(let g=o;g<o+n;g++)for(let m=0;m<i;m++){const v=m<r;u[m][g+(v?0:1)]=c[f++]}const p=[];for(const g of u)p.push(...Array.from(s.decode(g)).slice(0,-n));return Uint8Array.from(p)}}}function kM(t,e,n,r){let i="",o=n.length;if(r==="numeric"){const f=qr.alphabet.numeric.decode(n.split("")),p=f.length;for(let g=0;g<p-2;g+=3)i+=Lc(100*f[g]+10*f[g+1]+f[g+2],10);p%3==1?i+=Lc(f[p-1],4):p%3==2&&(i+=Lc(10*f[p-2]+f[p-1],7))}else if(r==="alphanumeric"){const f=qr.alphabet.alphanumerc.decode(n.split("")),p=f.length;for(let g=0;g<p-1;g+=2)i+=Lc(45*f[g]+f[g+1],11);p%2==1&&(i+=Lc(f[p-1],6))}else{if(r!=="byte")throw new Error("encode: unsupported type");{const f=function(p){if(typeof p!="string")throw new Error("utf8ToBytes expected string, got "+typeof p);return new Uint8Array(new TextEncoder().encode(p))}(n);o=f.length,i=Array.from(f).map(p=>Lc(p,8)).join("")}}const{capacity:a}=qr.capacity(t,e),s=Lc(o,qr.lengthBits(t,r));let l=qr.modeBits[r]+s+i;if(l.length>a)throw new Error("Capacity overflow");l+="0".repeat(Math.min(4,Math.max(0,a-l.length))),l.length%8&&(l+="0".repeat(8-l.length%8));const c="1110110000010001";for(let f=0;l.length!==a;f++)l+=c[f%16];const u=Uint8Array.from(l.match(/(.{8})/g).map(f=>+`0b${f}`));return bZ(t,e).encode(u)}function MM(t,e,n,r,i=!1){const o=function(l,c,u,f=!1){const p=qr.size.encode(l);let g=new ji(p+2);const m=new ji(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);g=g.embed(0,m).embed({x:-m.width,y:0},m).embed({x:0,y:-m.height},m),g=g.rectSlice(1,p);const v=new ji(1).rect(0,1,!0).border(1,!1).border(1,!0),_=qr.alignmentPatterns(l);for(const w of _)for(const I of _)g.data[w][I]===void 0&&g.embed({x:I-2,y:w-2},v);g=g.hLine({x:0,y:6},1/0,({x:w},I)=>I===void 0?w%2==0:I).vLine({x:6,y:0},1/0,({y:w},I)=>I===void 0?w%2==0:I);{const w=qr.formatBits(c,u),I=k=>!f&&(w>>k&1)==1;for(let k=0;k<6;k++)g.data[k][8]=I(k);for(let k=6;k<8;k++)g.data[k+1][8]=I(k);for(let k=8;k<15;k++)g.data[p-15+k][8]=I(k);for(let k=0;k<8;k++)g.data[8][p-k-1]=I(k);for(let k=8;k<9;k++)g.data[8][15-k-1+1]=I(k);for(let k=9;k<15;k++)g.data[8][15-k-1]=I(k);g.data[p-8][8]=!f}if(l>=7){const w=qr.versionBits(l);for(let I=0;I<18;I+=1){const k=!f&&(w>>I&1)==1,$=Math.floor(I/3),L=I%3+p-8-3;g.data[$][L]=k,g.data[L][$]=k}}return g}(t,e,r,i);let a=0;const s=8*n.length;if(function(l,c,u){const f=l.height,p=$E[c];let g=-1,m=f-1;for(let v=f-1;v>0;v-=2){for(v==6&&(v=5);;m+=g){for(let _=0;_<2;_+=1){const w=v-_;l.data[m][w]===void 0&&u(w,m,p(w,m))}if(m+g<0||m+g>=f)break}g=-g}}(o,r,(l,c,u)=>{let f=!1;a<s&&(f=(n[a>>>3]>>(7-a&7)&1)!=0,a++),o.data[c][l]=f!==u}),a!==s)throw new Error("QR: bytes left after draw");return o}function EZ(t){const e=t.inverse(),n=g=>{let m=0;for(let v,_=0,w=1;_<g.length;_++)v===g[_]&&(w++,_!==g.length-1)||(w>=5&&(m+=w-5+3),v=g[_],w=1);return m};let r=0;t.data.forEach(g=>r+=n(g)),e.data.forEach(g=>r+=n(g));let i=0,o=t.data;const a=t.width-1,s=t.height-1;for(let g=0;g<a;g++)for(let m=0;m<s;m++){const v=g+1,_=m+1;o[g][m]===o[v][m]&&o[v][m]===o[g][_]&&o[v][m]===o[v][_]&&(i+=3)}const l=g=>{const m=[!0,!1,!0,!0,!0,!1,!0],v=[!1,!1,!1,!1],_=[...m,...v],w=[...v,...m];let I=0;for(let k=0;k<g.length;k++)SM(g,_,k)&&(I+=40),SM(g,w,k)&&(I+=40);return I};let c=0;for(const g of t.data)c+=l(g);for(const g of e.data)c+=l(g);let u=0;t.rectRead(0,1/0,(g,m)=>u+=m?1:0);const f=u/(t.height*t.width)*100,p=10*Math.floor(Math.abs(f-50)/5);return r+i+c+p}function xN(t,e="raw",n={}){const r=n.ecc!==void 0?n.ecc:"medium";(function(u){if(!AM.includes(u))throw new Error(`Invalid error correction mode=${u}. Expected: ${AM}`)})(r);const i=n.encoding!==void 0?n.encoding:function(u){let f="numeric";for(let p of u)if(!qr.alphabet.numeric.has(p)&&(f="alphanumeric",!qr.alphabet.alphanumerc.has(p)))return"byte";return f}(t);(function(u){if(!IM.includes(u))throw new Error(`Encoding: invalid mode=${u}. Expected: ${IM}`);if(u==="kanji"||u==="eci")throw new Error(`Encoding: ${u} is not supported (yet?).`)})(i),n.mask!==void 0&&function(u){if(![0,1,2,3,4,5,6,7].includes(u)||!$E[u])throw new Error(`Invalid mask=${u}. Expected number [0..7]`)}(n.mask);let o,a=n.version,s=new Error("Unknown error");if(a!==void 0)(function(u){if(!Number.isSafeInteger(u)||u<1||u>40)throw new Error(`Invalid version=${u}. Expected number [1..40]`)})(a),o=kM(a,r,t,i);else for(let u=1;u<=40;u++)try{o=kM(u,r,t,i),a=u;break}catch(f){s=f}if(!a||!o)throw s;let l=function(u,f,p,g){if(g===void 0){const m=function(){let v,_=1/0;return{add(w,I){w>=_||(v=I,_=w)},get:()=>v,score:()=>_}}();for(let v=0;v<$E.length;v++)m.add(EZ(MM(u,f,p,v,!0)),v);g=m.get()}if(g===void 0)throw new Error("Cannot find mask");return MM(u,f,p,g)}(a,r,o,n.mask);l.assertDrawn();const c=n.border===void 0?2:n.border;if(!Number.isSafeInteger(c))throw new Error("Wrong border type="+typeof c);if(l=l.border(c,!1),n.scale!==void 0&&(l=l.scale(n.scale)),e==="raw")return l.data;if(e==="ascii")return l.toASCII();if(e==="svg")return l.toSVG();if(e==="gif")return l.toGIF();if(e==="term")return l.toTerm();throw new Error(`Unknown output: ${e}`)}const c2={DESKTOP:"Desktop",MOBILE:"Mobile",META_MASK_MOBILE_APP:"MetaMask mobile app",SCAN_TO_CONNECT:"Scan to connect and sign with",CONNECT_WITH_EXTENSION:"Connect With MetaMask Extension",INSTALL_MODAL:{TRUSTED_BY_USERS:"Trusted by over 30 million users to buy, store, send and swap crypto securely",LEADING_CRYPTO_WALLET:"The leading crypto wallet & gateway to blockchain apps built on Ethereum Mainnet, Polygon, Optimism, and many other networks",CONTROL_DIGITAL_INTERACTIONS:"Puts you in control of your digital interactions by making power of cryptography more accessible",INSTALL_META_MASK_EXTENSION:"Install MetaMask Extension"},PENDING_MODAL:{OPEN_META_MASK_SELECT_CODE:"Please open the MetaMask wallet app and select the code on the screen OR disconnect",OPEN_META_MASK_CONTINUE:"Open the MetaMask app to continue with your session.",NUMBER_AFTER_OPEN_NOTICE:"If a number doesn't appear after opening MetaMask, please click disconnect and re-scan the QRCode.",DISCONNECT:"Disconnect"},SELECT_MODAL:{CRYPTO_TAKE_CONTROL_TEXT:"Take control of your crypto and explore the blockchain with the wallet trusted by over 30 million people worldwide"},META_MASK_MODAL:{ADDRESS_COPIED:"Address copied to clipboard!",DISCONNECT:"Disconnect",ACTIVE_NETWORK:"Active Network"}};class W_{constructor(e){var n;this.translations=c2,this.supportedLocales=["es","fr","he","it","pt","tr"],this.baseUrl=(n=e==null?void 0:e.baseUrl)!==null&&n!==void 0?n:"https://raw.githubusercontent.com/MetaMask/metamask-sdk/refs/heads/gh-pages/locales"}getBrowserLanguage(){if((navigator.languages||[navigator.language]).some(n=>n.toLowerCase().startsWith("en")))return"en";const e=navigator.language.toLowerCase().split("-")[0];return this.supportedLocales.includes(e)?e:"en"}async init(e){const n=this.getBrowserLanguage()||e.fallbackLng;await this.loadTranslations(n)}async loadTranslations(e){const n=e.split("-")[0];if(n!=="en"&&this.supportedLocales.includes(n))try{const r=`${this.baseUrl}/${n}.json`,i=await fetch(r);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);this.translations=await i.json()}catch(r){console.warn(` Failed to load ${n} translations, falling back to English:`,r),this.translations=c2}else this.translations=c2}t(e){return this.getNestedTranslation(e,this.translations)||e}getNestedTranslation(e,n){const r=e.split(".");let i=n;for(const o of r){if(typeof i!="object")return"";i=i[o]}return typeof i=="string"?i:""}}var Ch;(function(t){t.SDK_MODAL_VIEWED="sdk_modal_viewed",t.SDK_MODAL_BUTTON_CLICKED="sdk_modal_button_clicked",t.SDK_MODAL_TOGGLE_CHANGED="sdk_modal_toggle_changed"})(Ch||(Ch={}));const _N=class{constructor(t){N_(this,t),this.close=Ul(this,"close"),this.startDesktopOnboarding=Ul(this,"startDesktopOnboarding"),this.trackAnalytics=Ul(this,"trackAnalytics"),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.onClose=this.onClose.bind(this),this.onStartDesktopOnboardingHandler=this.onStartDesktopOnboardingHandler.bind(this),this.setTab=this.setTab.bind(this),this.render=this.render.bind(this),this.setTab(this.preferDesktop?1:2),this.i18nInstance=new W_}componentDidLoad(){this.trackAnalytics.emit({event:Ch.SDK_MODAL_VIEWED,params:{extensionInstalled:!1,tab:this.tab===1?"desktop":"mobile"}})}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}updatePreferDesktop(t){t?this.setTab(1):this.setTab(2)}onClose(t=!1){this.close.emit({shouldTerminate:t})}onStartDesktopOnboardingHandler(){this.trackAnalytics.emit({event:Ch.SDK_MODAL_BUTTON_CLICKED,params:{button_type:"install_extension",tab:"desktop"}}),this.startDesktopOnboarding.emit()}setTab(t,e=!1){e&&this.trackAnalytics.emit({event:Ch.SDK_MODAL_TOGGLE_CHANGED,params:{toggle:this.tab===1?"desktop_to_mobile":"mobile_to_desktop"}}),this.tab=t,this.isDefaultTab=!1}render(){if(!this.translationsLoaded)return null;const t=r=>this.i18nInstance.t(r),e=this.isDefaultTab?this.preferDesktop?1:2:this.tab,n=xN(this.link,"svg",{ecc:"medium",scale:2});return De(U_,{className:"install-model"},De("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),De("div",{class:"modal"},De("div",{class:"closeButtonContainer"},De("div",{class:"right"},De("span",{class:"closeButton",onClick:()=>this.onClose(!0)},De(q_,null)))),De("div",{class:"logoContainer"},De(H_,null)),De("div",null,De("div",{class:"tabcontainer"},De("div",{class:"flexContainer"},De("div",{onClick:()=>this.setTab(1,!0),class:"tab flexItem "+(e===1?"tabactive":"")},t("DESKTOP")),De("div",{onClick:()=>this.setTab(2,!0),class:"tab flexItem "+(e===2?"tabactive":"")},t("MOBILE")))),De("div",{style:{display:e===1?"none":"block"}},De("div",{class:"flexContainer"},De("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},n&&De("div",{id:"sdk-mm-qrcode",class:"center",innerHTML:n}),De("div",{class:"connectMobileText"},t("SCAN_TO_CONNECT")," ",De("br",null),De("span",{class:"blue"},De("b",null,t("META_MASK_MOBILE_APP"))))))),De("div",{style:{display:e===2?"none":"block"}},De("div",{class:"item"},De(l2,{Icon:pZ,text:t("INSTALL_MODAL.TRUSTED_BY_USERS")})),De("div",{class:"item"},De(l2,{Icon:hZ,text:t("INSTALL_MODAL.LEADING_CRYPTO_WALLET")})),De("div",{class:"item"},De(l2,{Icon:gZ,text:t("INSTALL_MODAL.CONTROL_DIGITAL_INTERACTIONS")})),De("button",{class:"button",onClick:()=>this.onStartDesktopOnboardingHandler()},De(mZ,null),De("span",{class:"installExtensionText"},t("INSTALL_MODAL.INSTALL_META_MASK_EXTENSION"))))),De(z_,{version:this.sdkVersion})))}get el(){return fy(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};_N.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;const SN=class{constructor(t){N_(this,t),this.close=Ul(this,"close"),this.disconnect=Ul(this,"disconnect"),this.updateOTPValue=Ul(this,"updateOTPValue"),this.displayOTP=void 0,this.sdkVersion=void 0,this.otpCode=void 0,this.translationsLoaded=!1,this.i18nInstance=new W_}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(){this.close.emit()}onDisconnect(){this.disconnect.emit()}onUpdateOTPValueHandler(t){this.updateOTPValue.emit({otpValue:t})}disconnectedCallback(){this.onClose()}render(){var t;if(!this.translationsLoaded)return null;const e=(t=this.displayOTP)===null||t===void 0||t,n=this.sdkVersion,r=i=>this.i18nInstance.t(i);return De(U_,{className:"pending-modal"},De("div",{class:"backdrop",onClick:()=>this.onClose()}),De("div",{class:"modal"},De("div",{class:"closeButtonContainer"},De("div",{class:"right"},De("span",{class:"closeButton",onClick:()=>this.onClose()},De(q_,null)))),De("div",{class:"logoContainer"},De(H_,null)),De("div",null,De("div",{class:"flexContainer",style:{flexDirection:"column",color:"black"}},De("div",{class:"flexItem",style:{textAlign:"center",marginTop:"30px",marginBottom:"30px",fontSize:"16px"}},r(e?"PENDING_MODAL.OPEN_META_MASK_SELECT_CODE":"PENDING_MODAL.OPEN_META_MASK_CONTINUE")),De("div",{id:"sdk-mm-otp-value",style:{padding:"10px",fontSize:"32px",display:this.otpCode?"block":"none"}},this.otpCode),e&&De("div",{class:"notice"},"* ",r("PENDING_MODAL.NUMBER_AFTER_OPEN_NOTICE"))),De("div",{style:{marginTop:"20px"}},De("button",{class:"button blue",style:{marginTop:"5px",color:"#0376C9",borderColor:"#0376C9",borderWidth:"1px",borderStyle:"solid",backgroundColor:"white"},onClick:()=>this.onDisconnect()},r("PENDING_MODAL.DISCONNECT")))),De(z_,{version:n})))}get el(){return fy(this)}};SN.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;const xZ=()=>De("svg",{width:"21",height:"15",viewBox:"0 0 21 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},De("path",{d:"M14.1364 14.9851C13.5909 14.9851 13.2273 14.5851 13.2273 13.9851C13.2273 13.3851 13.5909 12.9851 14.1364 12.9851C16.6818 12.9851 18.6818 10.7851 18.6818 7.98508C18.6818 5.18508 16.6818 2.98508 14.1364 2.98508C11.5909 2.98508 9.59091 5.18508 9.59091 7.98508C9.59091 8.58508 9.22727 8.98508 8.68182 8.98508C8.13636 8.98508 7.77273 8.58508 7.77273 7.98508C7.77273 4.08508 10.5909 0.985077 14.1364 0.985077C17.6818 0.985077 20.5 4.08508 20.5 7.98508C20.5 11.8851 17.6818 14.9851 14.1364 14.9851ZM6.68182 14.7851C3.22727 14.7851 0.5 11.6851 0.5 7.98508C0.5 4.28508 3.22727 1.18508 6.68182 1.18508C7.22727 1.18508 7.59091 1.58508 7.59091 2.18508C7.59091 2.78508 7.22727 3.18508 6.68182 3.18508C4.22727 3.18508 2.31818 5.38508 2.31818 7.98508C2.31818 10.5851 4.22727 12.7851 6.68182 12.7851C9.13636 12.7851 11.0455 10.6851 11.0455 7.98508C11.0455 7.38508 11.4091 6.98508 11.9545 6.98508C12.5 6.98508 12.8636 7.38508 12.8636 7.98508C12.7727 11.6851 10.0455 14.7851 6.68182 14.7851Z",fill:"white"})),_Z=()=>De("svg",{width:"400",height:"300",viewBox:"0 0 400 300",fill:"none",xmlns:"http://www.w3.org/2000/svg"},De("rect",{width:"400",height:"300",fill:"white"}),De("path",{d:"M300.116 242.46L250.485 227.681L213.057 250.055L186.944 250.045L149.493 227.681L99.8843 242.46L84.7939 191.518L99.8843 134.979L84.7939 87.1777L99.8843 27.9336L177.402 74.2466H222.598L300.116 27.9336L315.206 87.1777L300.116 134.979L315.206 191.518L300.116 242.46Z",fill:"#FF5C16"}),De("path",{d:"M99.8955 27.9336L177.414 74.2792L174.331 106.085L99.8955 27.9336Z",fill:"#FF5C16"}),De("path",{d:"M149.505 191.539L183.612 217.521L149.505 227.681V191.539Z",fill:"#FF5C16"}),De("path",{d:"M180.886 148.585L174.33 106.107L132.369 134.991L132.348 134.98V135.001L132.477 164.732L149.493 148.585H149.504H180.886Z",fill:"#FF5C16"}),De("path",{d:"M300.116 27.9336L222.598 74.2792L225.67 106.085L300.116 27.9336Z",fill:"#FF5C16"}),De("path",{d:"M250.508 191.539L216.4 217.521L250.508 227.681V191.539Z",fill:"#FF5C16"}),De("path",{d:"M267.652 135.001H267.663H267.652V134.98L267.641 134.991L225.68 106.107L219.125 148.585H250.507L267.533 164.732L267.652 135.001Z",fill:"#FF5C16"}),De("path",{d:"M149.493 227.681L99.8843 242.46L84.7939 191.54H149.493V227.681Z",fill:"#E34807"}),De("path",{d:"M180.875 148.574L190.351 209.98L177.219 175.838L132.456 164.732L149.483 148.574H180.864H180.875Z",fill:"#E34807"}),De("path",{d:"M250.507 227.681L300.116 242.46L315.206 191.54H250.507V227.681Z",fill:"#E34807"}),De("path",{d:"M219.126 148.574L209.649 209.98L222.782 175.838L267.545 164.732L250.507 148.574H219.126Z",fill:"#E34807"}),De("path",{d:"M84.7939 191.517L99.8843 134.979H132.337L132.456 164.721L177.219 175.826L190.351 209.969L183.601 217.488L149.493 191.506H84.7939V191.517Z",fill:"#FF8D5D"}),De("path",{d:"M315.206 191.517L300.116 134.979H267.664L267.545 164.721L222.782 175.826L209.649 209.969L216.4 217.488L250.507 191.506H315.206V191.517Z",fill:"#FF8D5D"}),De("path",{d:"M222.598 74.2466H200H177.402L174.33 106.053L190.351 209.936H209.649L225.681 106.053L222.598 74.2466Z",fill:"#FF8D5D"}),De("path",{d:"M99.8843 27.9336L84.7939 87.1777L99.8843 134.979H132.337L174.319 106.085L99.8843 27.9336Z",fill:"#661800"}),De("path",{d:"M171.496 160.906H156.795L148.79 168.752L177.229 175.804L171.496 160.896V160.906Z",fill:"#661800"}),De("path",{d:"M300.116 27.9336L315.206 87.1777L300.116 134.979H267.663L225.681 106.085L300.116 27.9336Z",fill:"#661800"}),De("path",{d:"M228.525 160.906H243.248L251.253 168.763L222.781 175.826L228.525 160.896V160.906Z",fill:"#661800"}),De("path",{d:"M213.046 229.789L216.399 217.51L209.649 209.991H190.34L183.59 217.51L186.943 229.789",fill:"#661800"}),De("path",{d:"M213.047 229.789V250.066H186.944V229.789H213.047Z",fill:"#C0C4CD"}),De("path",{d:"M149.504 227.66L186.965 250.056V229.779L183.611 217.5L149.504 227.66Z",fill:"#E7EBF6"}),De("path",{d:"M250.506 227.66L213.045 250.056V229.779L216.398 217.5L250.506 227.66Z",fill:"#E7EBF6"})),CN=class{constructor(t){N_(this,t),this.close=Ul(this,"close"),this.connectWithExtension=Ul(this,"connectWithExtension"),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.i18nInstance=new W_,this.setTab(this.preferDesktop?1:2)}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(t=!1){this.close.emit({shouldTerminate:t})}connectWithExtensionHandler(){this.connectWithExtension.emit()}setTab(t){this.tab=t,this.isDefaultTab=!1}disconnectedCallback(){this.onClose()}updatePreferDesktop(t){t?this.setTab(1):this.setTab(2)}render(){if(!this.translationsLoaded)return null;const t=i=>this.i18nInstance.t(i),e=this.sdkVersion,n=this.isDefaultTab?this.preferDesktop?1:2:this.tab,r=xN(this.link,"svg",{ecc:"medium",scale:2});return De(U_,{className:"select-modal"},De("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),De("div",{class:"modal"},De("div",{class:"closeButtonContainer"},De("div",{class:"right"},De("span",{class:"closeButton",onClick:()=>this.onClose(!0)},De(q_,null)))),De("div",{class:"logoContainer"},De(H_,null)),De("div",null,De("div",{class:"tabcontainer"},De("div",{class:"flexContainer"},De("div",{onClick:()=>this.setTab(1),class:"tab flexItem "+(n===1?"tabactive":"")},t("DESKTOP")),De("div",{onClick:()=>this.setTab(2),class:"tab flexItem "+(n===2?"tabactive":"")},t("MOBILE")))),De("div",{style:{display:n===1?"none":"block"}},De("div",{class:"flexContainer"},De("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},De("div",{class:"center",id:"sdk-mm-qrcode",innerHTML:r}),De("div",{class:"connectMobileText"},t("SCAN_TO_CONNECT"),De("br",null),De("span",{class:"blue"},De("b",null,t("META_MASK_MOBILE_APP"))))))),De("div",{style:{display:n===2?"none":"block"}},De("div",{style:{display:"flex",justifyContent:"center",height:"300",marginTop:"-20"}},De(_Z,null)),De("div",{class:"extensionLabel"},t("SELECT_MODAL.CRYPTO_TAKE_CONTROL_TEXT")),De("button",{class:"button",onClick:()=>this.connectWithExtensionHandler()},De(xZ,null),De("span",{class:"installExtensionText"},t("CONNECT_WITH_EXTENSION"))))),De(z_,{version:e})))}get el(){return fy(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};CN.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;var SZ=Object.freeze({__proto__:null,mm_install_modal:_N,mm_pending_modal:SN,mm_select_modal:CN});const Hoe={GET_ACCOUNTS:"getAccounts",SOLANA_REQUEST_ACCOUNTS:"solana_requestAccounts",SEND_TRANSACTION:"solana_sendTransaction",SIGN_TRANSACTION:"solana_signTransaction",SIGN_ALL_TRANSACTIONS:"solana_signAllTransactions",SIGN_MESSAGE:"solana_signMessage",SOLANA_PRIVATE_KEY:"solana_privateKey",PRIVATE_KEY:"private_key",SOLANA_PUBLIC_KEY:"solana_publicKey",PUBLIC_KEY:"public_key"},Woe={SOLANA_MAINNET:"0x65",SOLANA_TESTNET:"0x66",SOLANA_DEVNET:"0x67"},OM={GET_ACCOUNTS:"eth_accounts",ETH_TRANSACTION:"eth_sendTransaction",ETH_ESTIMATE_AA_TRANSACTION_GAS:"eth_estimateAATransactionGas",ETH_REQUEST_ACCOUNTS:"eth_requestAccounts",ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SIGN:"eth_sign",ETH_SIGN_TYPED_DATA_V4:"eth_signTypedData_v4",PERSONAL_SIGN:"personal_sign",ETH_GET_TRANSACTION_COUNT:"eth_getTransactionCount",ETH_GET_TRANSACTION_BY_HASH:"eth_getTransactionByHash",ETH_GET_TRANSACTION_RECEIPT:"eth_getTransactionReceipt",WATCH_ASSET:"wallet_watchAsset",ETH_GET_BLOCK_BY_HASH:"eth_getBlockByHash",ETH_GET_CODE:"eth_getCode",ETH_GET_GAS_PRICE:"eth_gasPrice",ETH_PRIVATE_KEY:"eth_privateKey",PRIVATE_KEY:"private_key",ETH_PUBLIC_KEY:"eth_publicKey",PUBLIC_KEY:"public_key",SWITCH_CHAIN:"wallet_switchEthereumChain",ADD_CHAIN:"wallet_addEthereumChain"};function Qh(t){let e=!1,n=0,r;try{r=window[t],e=!0,n=r.length;const i="__storage_test__";return r.setItem(i,i),r.removeItem(i),!0}catch(i){const o=i;return!!(o&&(o.code===22||o.code===1014||o.name==="QuotaExceededError"||o.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&n!==0)}}const CZ=t=>{const e=Yq(t);return!e.exp||e.exp<Math.floor(Date.now()/1e3)},AZ=(t,e)=>Qh("localStorage")?localStorage.getItem(`${t.toLowerCase()}_${e}`):null,IZ=(t,e,n)=>Qh("localStorage")?localStorage.setItem(`${t.toLowerCase()}_${e}`,n):null,kZ=(t,e)=>Qh("localStorage")?localStorage.removeItem(`${t.toLowerCase()}_${e}`):null;class MZ extends RT{async init(e){}async getIdentityToken(){if(!this.provider||this.status!==st.CONNECTED)throw St.notConnectedError();if(!this.coreOptions)throw ot.invalidParams("Please initialize Web3Auth with valid options");const e=await this.provider.request({method:OM.GET_ACCOUNTS});if(e&&e.length>0){const n=AZ(e[0],this.name);if(n&&!CZ(n))return{idToken:n};const r=await this.provider.request({method:"eth_chainId"}),i=this.coreOptions.chains.find(f=>f.chainId===r);if(!i)throw ot.invalidParams("chainConfig is required before authentication");const{chainNamespace:o}=i,a={domain:window.location.origin,uri:window.location.href,address:e[0],chainId:parseInt(r,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},s=await Jq(a,o),l=`0x${Buffer.from(s,"utf8").toString("hex")}`,c=await this.provider.request({method:OM.PERSONAL_SIGN,params:[l,e[0]]}),u=await Zq(o,c,s,this.name,this.coreOptions.sessionTime,this.coreOptions.clientId,this.coreOptions.web3AuthNetwork);return IZ(e[0],this.name,u),{idToken:u}}throw St.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnectSession(){super.checkDisconnectionRequirements();const e=await this.provider.request({method:"eth_accounts"});e&&e.length>0&&kZ(e[0],this.name)}async disconnect(){this.rehydrated=!1,this.emit(dt.DISCONNECTED)}}class OZ extends MZ{constructor(e){super(e),Ae(this,"connectorNamespace",$l.EIP155),Ae(this,"currentChainNamespace",$t.EIP155),Ae(this,"type",na.EXTERNAL),Ae(this,"name",ht.METAMASK),Ae(this,"status",st.NOT_READY),Ae(this,"metamaskProvider",null),Ae(this,"metamaskSDK",null),Ae(this,"metamaskOptions",void 0),Ae(this,"analytics",void 0),this.metamaskOptions=e.connectorSettings,this.analytics=e.analytics}get provider(){return this.status!==st.NOT_READY&&this.metamaskProvider?this.metamaskProvider:null}set provider(e){throw new Error("Not implemented")}async init(e){var n;await super.init(e);const r=this.coreOptions.chains.find(l=>l.chainId===e.chainId);super.checkInitializationRequirements({chainConfig:r});const i=await tV(window),o={name:eV(window)||"web3auth",url:window.location.origin||"https://web3auth.io",iconUrl:i},a=On(this.metamaskOptions||{},{dappMetadata:o});this.metamaskSDK=new jJ(be(be({},a),{},{_source:"web3auth",useDeeplink:(n=a.useDeeplink)!==null&&n!==void 0?n:!0}));const s=await this.metamaskSDK.init();s&&(this.metamaskSDK=s),this.isInjected=this.metamaskSDK.isExtensionActive(),this.status=st.READY,this.emit(dt.READY,ht.METAMASK);try{if(e.autoConnect&&(this.rehydrated=!0,!await this.connect({chainId:e.chainId})))throw this.rehydrated=!1,St.connectionError("Failed to rehydrate.")}catch(l){this.emit(dt.REHYDRATION_ERROR,l)}}async connect({chainId:e}){if(super.checkConnectionRequirements(),!this.metamaskSDK)throw St.notConnectedError("Connector is not initialized");const n=this.coreOptions.chains.find(f=>f.chainId===e);if(!n)throw St.connectionError("Chain config is not available");const r=!this.isInjected&&!this.rehydrated,i=Date.now(),o={connector:this.name,connector_type:this.type,is_injected:this.isInjected,chain_id:md(n),chain_name:n==null?void 0:n.displayName,chain_namespace:n==null?void 0:n.chainNamespace};try{if(this.status!==st.CONNECTING){var a;this.status=st.CONNECTING,this.emit(dt.CONNECTING,{connector:ht.METAMASK}),!this.metamaskSDK.isExtensionActive()&&(a=this.metamaskOptions)!==null&&a!==void 0&&a.headless&&this.metamaskSDK.getProvider().on("display_uri",g=>{this.updateConnectorData({uri:g})}),await this.metamaskSDK.connect()}if(this.metamaskProvider=this.metamaskSDK.getProvider(),!this.metamaskProvider)throw St.notConnectedError("Failed to connect with provider");await this.metamaskProvider.request({method:"eth_chainId"})!==n.chainId&&await this.switchChain(n,!0);const p=g=>{g.length===0&&this.disconnect()};if(this.metamaskProvider.on("accountsChanged",p),this.metamaskProvider.once("disconnect",()=>{this.disconnect()}),this.status=st.CONNECTED,r){var s,l;(s=this.analytics)===null||s===void 0||s.track(dn.CONNECTION_STARTED,o),(l=this.analytics)===null||l===void 0||l.track(dn.CONNECTION_COMPLETED,be(be({},o),{},{duration:Date.now()-i}))}return this.emit(dt.CONNECTED,{connector:ht.METAMASK,reconnected:this.rehydrated,provider:this.metamaskProvider}),this.metamaskProvider}catch(f){if(this.status=st.READY,this.rehydrated||this.emit(dt.ERRORED,f),this.rehydrated=!1,r){var c,u;(c=this.analytics)===null||c===void 0||c.track(dn.CONNECTION_STARTED,o),(u=this.analytics)===null||u===void 0||u.track(dn.CONNECTION_FAILED,be(be(be({},o),jq(f)),{},{duration:Date.now()-i}))}throw f instanceof yo?f:St.connectionError("Failed to login with MetaMask wallet",f)}}async disconnect(e={cleanup:!1}){if(!this.metamaskProvider)throw St.connectionError("MetaMask provider is not available");await super.disconnectSession(),typeof this.metamaskProvider.removeAllListeners<"u"&&this.metamaskProvider.removeAllListeners(),await this.metamaskSDK.terminate(),e.cleanup?(this.status=st.NOT_READY,this.metamaskProvider=null):this.status=st.READY,await super.disconnect()}async getUserInfo(){if(this.status!==st.CONNECTED)throw St.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async switchChain(e,n=!1){super.checkSwitchChainRequirements(e,n);const r=()=>this.metamaskProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:e.chainId}]});try{await r()}catch(i){if((i==null?void 0:i.code)===4902){const o=this.coreOptions.chains.find(a=>a.chainId===e.chainId&&[$t.EIP155,$t.SOLANA].includes(a.chainNamespace));await this.addChain(o),await r()}else throw i}}async enableMFA(){throw new Error("Method Not implemented")}async manageMFA(){throw new Error("Method Not implemented")}async addChain(e){if(!this.metamaskProvider)throw St.connectionError("Injected provider is not available");await this.metamaskProvider.request({method:"wallet_addEthereumChain",params:[{chainId:e.chainId,chainName:e.displayName,rpcUrls:[e.rpcTarget],blockExplorerUrls:[e.blockExplorerUrl],nativeCurrency:{name:e.tickerName,symbol:e.ticker,decimals:e.decimals||18},iconUrls:[e.logo]}]})}}const RZ=t=>({coreOptions:e,analytics:n})=>new OZ({connectorSettings:t,coreOptions:e,analytics:n}),AN=be(be({},$t),{},{MULTICHAIN:"multichain"}),gs={READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},Uo=be({},gs),vv={WALLET_SERVICES:"wallet-services",NFT_CHECKOUT:"nft-checkout"},TZ={SOLANA:"solana"};be(be({},vv),TZ);class gn extends yo{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"WalletServicesPluginError"})}static fromCode(e,n="",r){return new gn(e,`${gn.messages[e]}${n}`,r)}static notInitialized(e="",n){return gn.fromCode(5210,e,n)}static unsupportedConnector(e="",n){return gn.fromCode(5211,e,n)}static providerRequired(e="",n){return gn.fromCode(5212,e,n)}static web3authRequired(e="",n){return gn.fromCode(5213,e,n)}static web3AuthNotConnected(e="",n){return gn.fromCode(5214,e,n)}static alreadyInitialized(e="",n){return gn.fromCode(5216,e,n)}static unsupportedChainNamespace(e="",n){return gn.fromCode(5218,e,n)}static differentWeb3AuthNetwork(e="",n){return gn.fromCode(5219,e,n)}static invalidParams(e="",n){return gn.fromCode(5220,e,n)}static web3authNotInitialized(e="",n){return gn.fromCode(5221,e,n)}static invalidSession(e="",n){return gn.fromCode(5222,e,n)}static walletPluginNotConnected(e="",n){return gn.fromCode(5223,e,n)}}Ae(gn,"messages",{5210:"Wallet Services Plugin is not initialized",5211:"Web3Auth is connected to unsupported connector. Wallet services connector plugin requires web3auth connected to auth connector.",5212:"Provider is required..",5213:"Web3Auth instance is required while initialization.",5214:"Web3Auth is not connected.",5216:"Plugin is already initialized",5218:"Unsupported chain namespace.",5219:"Plugin network different than web3auth instance network.",5221:"Web3Auth is not initialized",5222:"Invalid session inside wallet services. Please report this issue.",5223:"Wallet plugin is not connected Yet. Please wait for plugin to connect and listen via `connected` event on the plugin"});class ra extends yo{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"NFTCheckoutPluginError"})}static fromCode(e,n="",r){return new ra(e,`${ra.messages[e]}${n}`,r)}static notInitialized(e="",n){return ra.fromCode(6210,e,n)}static providerRequired(e="",n){return ra.fromCode(6212,e,n)}static web3authRequired(e="",n){return ra.fromCode(6213,e,n)}static web3AuthNotConnected(e="",n){return ra.fromCode(6214,e,n)}static pluginNotConnected(e="",n){return ra.fromCode(6223,e,n)}}Ae(ra,"messages",{6210:"NFT Checkout Plugin is not initialized",6212:"Provider is required..",6213:"Web3Auth instance is required while initialization.",6214:"Web3Auth is not connected.",6223:"NFT Checkout plugin is not connected Yet. Please wait for plugin to connect and listen via `connected` event on the plugin"});class PZ extends Ql{constructor(...e){super(...e),Ae(this,"name",vv.WALLET_SERVICES),Ae(this,"status",gs.DISCONNECTED),Ae(this,"SUPPORTED_CONNECTORS",[ht.AUTH]),Ae(this,"pluginNamespace",AN.MULTICHAIN),Ae(this,"wsEmbedInstance",void 0),Ae(this,"provider",null),Ae(this,"web3auth",null),Ae(this,"isInitialized",!1),Ae(this,"analytics",void 0)}get proxyProvider(){var e;return(e=this.wsEmbedInstance)!==null&&e!==void 0&&e.provider?this.wsEmbedInstance.provider:null}async initWithWeb3Auth(e,n,r){if(this.isInitialized)return;if(!e)throw gn.web3authRequired();if(e.provider&&!this.SUPPORTED_CONNECTORS.includes(e.connectedConnectorName))throw gn.notInitialized();const i=e.currentChain;if(![$t.EIP155,$t.SOLANA].includes(i==null?void 0:i.chainNamespace))throw gn.unsupportedChainNamespace();e.provider&&(this.provider=e.provider),this.web3auth=e,this.analytics=r;const o=e.getConnector(ht.AUTH);if(!o||!o.wsEmbed)throw gn.web3AuthNotConnected();this.wsEmbedInstance=o.wsEmbed,this.isInitialized=!0,this.status=gs.READY,this.emit(Uo.READY)}initWithProvider(){throw new Error("Method not implemented.")}async connect(){if(!this.isInitialized)throw gn.notInitialized();if(this.emit(Uo.CONNECTING),this.status=gs.CONNECTING,!this.provider){var e;(e=this.web3auth)!==null&&e!==void 0&&e.provider&&(this.provider=this.web3auth.provider)}if(this.web3auth.status!==st.CONNECTED)throw gn.web3AuthNotConnected();if(!this.web3auth.provider)throw gn.providerRequired();try{this.emit(Uo.CONNECTED),this.status=gs.CONNECTED}catch(n){nt.error(n),this.status=gs.ERRORED,this.emit(Uo.ERRORED,{error:n.message||"Something went wrong"})}}async showWalletConnectScanner(e){var n,r;if(!((n=this.wsEmbedInstance)!==null&&n!==void 0&&n.isLoggedIn))throw gn.walletPluginNotConnected();return(r=this.analytics)===null||r===void 0||r.track(dn.WALLET_CONNECT_SCANNER_CLICKED,{is_visible:e==null?void 0:e.show}),this.wsEmbedInstance.showWalletConnectScanner(e)}async showCheckout(e){var n,r;if(!((n=this.wsEmbedInstance)!==null&&n!==void 0&&n.isLoggedIn))throw gn.walletPluginNotConnected();return(r=this.analytics)===null||r===void 0||r.track(dn.WALLET_CHECKOUT_CLICKED,{is_visible:e==null?void 0:e.show,receive_wallet_address_enabled:!!(e!=null&&e.receiveWalletAddress),token_list:e==null?void 0:e.tokenList,fiat_list:e==null?void 0:e.fiatList}),this.wsEmbedInstance.showCheckout(e)}async showWalletUi(e){var n,r;if(!((n=this.wsEmbedInstance)!==null&&n!==void 0&&n.isLoggedIn))throw gn.walletPluginNotConnected();return(r=this.analytics)===null||r===void 0||r.track(dn.WALLET_UI_CLICKED,{is_visible:e==null?void 0:e.show,path:e==null?void 0:e.path}),this.wsEmbedInstance.showWalletUi(e)}async showSwap(e){var n,r;if(!((n=this.wsEmbedInstance)!==null&&n!==void 0&&n.isLoggedIn))throw gn.walletPluginNotConnected();return(r=this.analytics)===null||r===void 0||r.track(dn.WALLET_SWAP_CLICKED,{is_visible:e==null?void 0:e.show,from_token:e==null?void 0:e.fromToken,to_token:e==null?void 0:e.toToken,from_value_enabled:!!(e!=null&&e.fromValue),to_address_enabled:!!(e!=null&&e.toAddress)}),this.wsEmbedInstance.showSwap(e)}async cleanup(){var e;return(e=this.wsEmbedInstance)===null||e===void 0?void 0:e.cleanUp()}async disconnect(){var e;if(this.status!==gs.CONNECTED)throw gn.invalidSession("Wallet Services plugin is not connected");(e=this.wsEmbedInstance)!==null&&e!==void 0&&e.isLoggedIn&&await this.wsEmbedInstance.logout(),this.emit(Uo.DISCONNECTED),this.status=gs.DISCONNECTED}}const NZ=()=>()=>new PZ,LZ=["walletScope"];class DZ extends Ql{constructor(e,n){if(super(),Ae(this,"coreOptions",void 0),Ae(this,"status",st.NOT_READY),Ae(this,"aaProvider",null),Ae(this,"connectors",[]),Ae(this,"commonJRPCProvider",null),Ae(this,"analytics",void 0),Ae(this,"plugins",{}),Ae(this,"storage",void 0),Ae(this,"state",{connectedConnectorName:null,cachedConnector:null,currentChainId:null,idToken:null}),Ae(this,"loginMode",Lh.NO_MODAL),!e.clientId)throw ot.invalidParams("Please provide a valid clientId in constructor");e.enableLogging?nt.enableAll():nt.setLevel("error"),e.storageType||(e.storageType="local"),this.coreOptions=e,this.storage=this.getStorageMethod(),this.analytics=new FK,this.analytics.setGlobalProperties({integration_type:ST.NATIVE_SDK}),this.loadState(n),this.state.idToken&&this.coreOptions.ssr&&(this.status=st.CONNECTED)}get currentChain(){var e;if(this.currentChainId)return(e=this.coreOptions.chains)===null||e===void 0?void 0:e.find(n=>n.chainId===this.currentChainId)}get connected(){return!!this.connectedConnector}get provider(){return this.status!==st.NOT_READY&&this.commonJRPCProvider?this.commonJRPCProvider:null}get connectedConnectorName(){return this.state.connectedConnectorName}get cachedConnector(){return this.state.cachedConnector}get currentChainId(){var e;return this.state.currentChainId||this.coreOptions.defaultChainId||((e=this.coreOptions.chains)===null||e===void 0||(e=e[0])===null||e===void 0?void 0:e.chainId)||null}get connectedConnector(){var e;return this.getConnector(this.connectedConnectorName,(e=this.currentChain)===null||e===void 0?void 0:e.chainNamespace)}get accountAbstractionProvider(){return this.aaProvider}set provider(e){throw new Error("Not implemented")}async init(e){const n=Date.now();this.analytics.init(),this.analytics.identify(this.coreOptions.clientId,{web3auth_client_id:this.coreOptions.clientId,web3auth_network:this.coreOptions.web3AuthNetwork}),this.analytics.setGlobalProperties({dapp_url:window.location.origin,sdk_name:CT.WEB_NO_MODAL,sdk_version:kT,web3auth_client_id:this.coreOptions.clientId,web3auth_network:this.coreOptions.web3AuthNetwork});let r={};try{var i,o;const{signal:s}=e||{};let l;try{var a;l=await AT({clientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,aaProvider:(a=this.coreOptions.accountAbstractionConfig)===null||a===void 0?void 0:a.smartAccountType,authBuildEnv:this.coreOptions.authBuildEnv})}catch(u){const f=await Ox(u);throw nt.error("Failed to fetch project configurations",f),ot.notReady("failed to fetch project configurations",f)}this.initAccountAbstractionConfig(l),this.initChainsConfig(l),this.initCachedConnectorAndChainId(),this.initUIConfig(l),this.initWalletServicesConfig(l),this.analytics.setGlobalProperties({team_id:l.teamId}),r=this.getInitializationTrackData(),await ha(()=>this.setupCommonJRPCProvider(),s),this.on(dt.CONNECTORS_UPDATED,async({connectors:u})=>{await ha(()=>Promise.all(u.map(this.setupConnector.bind(this))),s,()=>{var p;((p=this.connectors)===null||p===void 0?void 0:p.length)>0&&this.cleanup()}),this.status===st.NOT_READY&&(this.status=st.READY,this.emit(dt.READY))}),await ha(()=>this.loadConnectors({projectConfig:l}),s),await ha(()=>this.initPlugins(),s);const c=this.getConnector(ht.AUTH);r=be(be({},r),{},{connectors:this.connectors.map(u=>u.name),plugins:Object.keys(this.plugins),auth_ux_mode:(c==null||(i=c.authInstance)===null||i===void 0||(i=i.options)===null||i===void 0?void 0:i.uxMode)||((o=this.coreOptions.uiConfig)===null||o===void 0?void 0:o.uxMode)}),this.analytics.track(dn.SDK_INITIALIZATION_COMPLETED,be(be({},r),{},{duration:Date.now()-n}))}catch(s){if(s instanceof DOMException&&s.name==="AbortError")return;throw this.analytics.track(dn.SDK_INITIALIZATION_FAILED,be(be(be({},r),fd(s)),{},{duration:Date.now()-n})),nt.error("Failed to initialize modal",s),s}}getConnector(e,n){return this.connectors.find(r=>r.name!==e?!1:n?r.connectorNamespace===$l.MULTICHAIN?!0:r.connectorNamespace===n:!0)||null}clearCache(){this.setState({connectedConnectorName:null,cachedConnector:null,currentChainId:null,idToken:null})}async cleanup(){for(const e of this.connectors)e.cleanup&&await e.cleanup()}async switchChain(e){var n;if(e.chainId===((n=this.currentChain)===null||n===void 0?void 0:n.chainId))return;if(!this.coreOptions.chains.find(i=>i.chainId===e.chainId))throw ot.invalidParams("Invalid chainId");if(this.status===st.CONNECTED&&this.connectedConnector){await this.connectedConnector.switchChain(e);return}if(this.commonJRPCProvider){await this.commonJRPCProvider.switchChain(e);return}throw ot.notReady("No wallet is ready")}async connectTo(e,n,r){this.loginMode=r||"no-modal";const i=this.getConnector(e,n==null?void 0:n.chainNamespace);if(!i||!this.commonJRPCProvider)throw ot.notFound(`Please add wallet connector for ${e} wallet, before connecting`);const o=this.getInitialChainIdForConnector(i),a=be(be({},n),{},{chainId:o.chainId}),s=Date.now();let l;if(e===ht.AUTH){var c;const u=n,f=i.getOAuthProviderConfig({authConnection:u.authConnection,authConnectionId:u.authConnectionId,groupedAuthConnectionId:u.groupedAuthConnectionId});l={connector:e,connector_type:i.type,chain_id:md(o),chain_name:o.displayName,chain_namespace:o.chainNamespace,auth_connection:u.authConnection,auth_connection_id:u.authConnectionId,group_auth_connection_id:u.groupedAuthConnectionId,mfa_level:u.mfaLevel,wallet_key_enabled:u.getWalletKey,extra_login_options_enabled:!!u.extraLoginOptions,dapp_share_enabled:!!u.dappShare,curve:u.curve,auth_dapp_url:u.dappUrl,is_sfa:!!u.idToken,is_default_auth_connection:f==null?void 0:f.isDefault,auth_ux_mode:(c=i.authInstance)===null||c===void 0||(c=c.options)===null||c===void 0?void 0:c.uxMode}}else l={connector:e,connector_type:i.type,is_injected:i.isInjected,chain_id:md(o),chain_name:o.displayName,chain_namespace:o.chainNamespace};return this.analytics.track(dn.CONNECTION_STARTED,l),new Promise((u,f)=>{const p=()=>{this.off(dt.CONNECTED,g),this.off(dt.ERRORED,m)},g=async()=>{const v=await i.getUserInfo();this.analytics.track(dn.CONNECTION_COMPLETED,be(be({},l),{},{is_mfa_enabled:v==null?void 0:v.isMfaEnabled,duration:Date.now()-s})),p(),u(this.provider)},m=async v=>{this.analytics.track(dn.CONNECTION_FAILED,be(be(be({},l),fd(v)),{},{duration:Date.now()-s})),p(),f(v)};this.once(dt.CONNECTED,g),this.once(dt.ERRORED,m),i.connect(a),this.setCurrentChain(o.chainId)})}async logout(e={cleanup:!1}){if(this.status!==st.CONNECTED||!this.connectedConnector)throw St.notConnectedError("No wallet is connected");await this.connectedConnector.disconnect(e)}async getUserInfo(){var e;if(nt.debug("Getting user info",this.status,(e=this.connectedConnector)===null||e===void 0?void 0:e.name),this.status!==st.CONNECTED||!this.connectedConnector)throw St.notConnectedError("No wallet is connected");return this.connectedConnector.getUserInfo()}async enableMFA(e){var n;if(this.status!==st.CONNECTED||!this.connectedConnector)throw St.notConnectedError("No wallet is connected");if(this.connectedConnector.name!==ht.AUTH)throw St.unsupportedOperation("EnableMFA is not supported for this connector.");const r=this.connectedConnector,i={connector:this.connectedConnector.name,auth_ux_mode:(n=r.authInstance)===null||n===void 0||(n=n.options)===null||n===void 0?void 0:n.uxMode};try{this.analytics.track(dn.MFA_ENABLEMENT_STARTED,i),await this.connectedConnector.enableMFA(e)}catch(o){throw this.analytics.track(dn.MFA_ENABLEMENT_FAILED,be(be({},i),fd(o))),o}}async manageMFA(e){var n;if(this.status!==st.CONNECTED||!this.connectedConnector)throw St.notConnectedError("No wallet is connected");if(this.connectedConnector.name!==ht.AUTH)throw St.unsupportedOperation("ManageMFA is not supported for this connector.");const r=this.connectedConnector,i={connector:this.connectedConnector.name,auth_ux_mode:(n=r.authInstance)===null||n===void 0||(n=n.options)===null||n===void 0?void 0:n.uxMode};try{this.analytics.track(dn.MFA_MANAGEMENT_SELECTED,i),await this.connectedConnector.manageMFA(e)}catch(o){throw this.analytics.track(dn.MFA_MANAGEMENT_FAILED,be(be({},i),fd(o))),o}}async getIdentityToken(){if(this.status!==st.CONNECTED||!this.connectedConnector)throw St.notConnectedError("No wallet is connected");const e={connector:this.connectedConnector.name};try{this.analytics.track(dn.IDENTITY_TOKEN_STARTED,e);const n=await this.connectedConnector.getIdentityToken();return this.analytics.track(dn.IDENTITY_TOKEN_COMPLETED,e),n}catch(n){throw this.analytics.track(dn.IDENTITY_TOKEN_FAILED,be(be({},e),fd(n))),n}}getPlugin(e){return this.plugins[e]||null}setAnalyticsProperties(e){this.analytics.setGlobalProperties(e)}initChainsConfig(e){const n=new Map,r=[...e.chains||[],...this.coreOptions.chains||[]];for(const a of r){const s=n.get(a.chainId);s?n.set(a.chainId,be(be({},s),a)):n.set(a.chainId,a)}if(this.coreOptions.chains=Array.from(n.values()),this.coreOptions.chains.length===0)throw nt.error("chain info not found. Please configure chains on dashboard at https://dashboard.web3auth.io"),ot.invalidParams("Please configure chains on dashboard at https://dashboard.web3auth.io");const i=new Set(Object.values($t));for(const a of this.coreOptions.chains){if(!a.chainNamespace||!i.has(a.chainNamespace))throw nt.error(`Please provide a valid chainNamespace in chains for chain ${a.chainId}`),ot.invalidParams(`Please provide a valid chainNamespace in chains for chain ${a.chainId}`);if(a.chainNamespace!==$t.OTHER&&!g3(a.chainId))throw nt.error(`Please provide a valid chainId in chains for chain ${a.chainId}`),ot.invalidParams(`Please provide a valid chainId as hex string in chains for chain ${a.chainId}`);if(a.chainNamespace!==$t.OTHER)try{new URL(a.rpcTarget)}catch(s){throw nt.error(`Please provide a valid rpcTarget in chains for chain ${a.chainId}`,s),ot.invalidParams(`Please provide a valid rpcTarget in chains for chain ${a.chainId}`)}}if(this.coreOptions.accountAbstractionConfig){if(this.coreOptions.accountAbstractionConfig.chains.length===0)throw nt.error("Please configure chains for smart accounts on dashboard at https://dashboard.web3auth.io"),ot.invalidParams("Please configure chains for smart accounts on dashboard at https://dashboard.web3auth.io");for(const a of this.coreOptions.accountAbstractionConfig.chains){if(!g3(a.chainId))throw nt.error(`Please provide a valid chainId in accountAbstractionConfig.chains for chain ${a.chainId}`),ot.invalidParams(`Please provide a valid chainId in accountAbstractionConfig.chains for chain ${a.chainId}`);try{var o;new URL((o=a.bundlerConfig)===null||o===void 0?void 0:o.url)}catch(s){throw nt.error(`Please provide a valid bundlerConfig.url in accountAbstractionConfig.chains for chain ${a.chainId}`,s),ot.invalidParams(`Please provide a valid bundlerConfig.url in accountAbstractionConfig.chains for chain ${a.chainId}`)}if(!n.has(a.chainId))throw nt.error(`Please provide chain config for AA chain in accountAbstractionConfig.chains for chain ${a.chainId}`),ot.invalidParams(`Please provide chain config for AA chain in accountAbstractionConfig.chains for chain ${a.chainId}`)}}}initAccountAbstractionConfig(e){var n;if(!!!(this.coreOptions.accountAbstractionConfig||e!=null&&e.smartAccounts))return;const i=(e==null?void 0:e.smartAccounts)||{},{walletScope:o}=i,a=Tv(i,LZ),s=new Map,l=[...(a==null?void 0:a.chains)||[],...((n=this.coreOptions.accountAbstractionConfig)===null||n===void 0?void 0:n.chains)||[]];for(const c of l){const u=s.get(c.chainId);u?s.set(c.chainId,be(be({},u),c)):s.set(c.chainId,c)}this.coreOptions.accountAbstractionConfig=be(be({},On(a||{},this.coreOptions.accountAbstractionConfig||{})),{},{chains:Array.from(s.values())}),this.coreOptions.useAAWithExternalWallet===void 0&&(this.coreOptions.useAAWithExternalWallet=o===Qq.ALL)}initUIConfig(e){this.coreOptions.uiConfig=On.all([{mode:"light",uxMode:$r.POPUP},iU(e.whitelabel||{}),this.coreOptions.uiConfig||{}])}initCachedConnectorAndChainId(){const e=this.state.currentChainId,n=e&&this.coreOptions.chains.some(i=>i.chainId===e);if(this.coreOptions.defaultChainId&&!g3(this.coreOptions.defaultChainId))throw ot.invalidParams("Please provide a valid defaultChainId in constructor");const r=n?e:this.coreOptions.defaultChainId||this.coreOptions.chains[0].chainId;this.setState({currentChainId:r})}initWalletServicesConfig(e){var n,r,i,o,a,s;const{enableKeyExport:l,walletUi:c}=e,{enablePortfolioWidget:u=!1,enableTokenDisplay:f=!0,enableNftDisplay:p=!0,enableWalletConnect:g=!0,enableBuyButton:m=!0,enableSendButton:v=!0,enableSwapButton:_=!0,enableReceiveButton:w=!0,enableShowAllTokensButton:I=!0,enableConfirmationModal:k=!1,portfolioWidgetPosition:$=Nq.BOTTOM_LEFT,defaultPortfolio:L="token"}=c||{},z={showWidgetButton:u,hideNftDisplay:!p,hideTokenDisplay:!f,hideTransfers:!v,hideTopup:!m,hideReceive:!w,hideSwap:!_,hideShowAllTokens:!I,hideWalletConnect:!g,buttonPosition:$,defaultPortfolio:L},H=On.all([z,((n=this.coreOptions.walletServicesConfig)===null||n===void 0?void 0:n.whiteLabel)||{}]),P=(r=(i=this.coreOptions.walletServicesConfig)===null||i===void 0?void 0:i.confirmationStrategy)!==null&&r!==void 0?r:k?xA.MODAL:xA.AUTO_APPROVE,D=(o=(a=(s=this.coreOptions.walletServicesConfig)===null||s===void 0?void 0:s.enableKeyExport)!==null&&a!==void 0?a:l)!==null&&o!==void 0?o:!0;this.coreOptions.walletServicesConfig=be(be({},this.coreOptions.walletServicesConfig),{},{confirmationStrategy:P,whiteLabel:H,enableKeyExport:D})}getInitializationTrackData(){try{var e,n,r,i,o;const a=(e=this.coreOptions.chains)===null||e===void 0?void 0:e.find(l=>l.chainId===this.coreOptions.defaultChainId),s=Array.from(new Set((n=this.coreOptions.chains)===null||n===void 0?void 0:n.map(l=>lE(l.rpcTarget)))).filter(Boolean);return be(be(be({chain_ids:(r=this.coreOptions.chains)===null||r===void 0?void 0:r.map(l=>md(l)),chain_names:(i=this.coreOptions.chains)===null||i===void 0?void 0:i.map(l=>l.displayName),chain_rpc_targets:s,default_chain_id:a?md(a):void 0,default_chain_name:a==null?void 0:a.displayName,logging_enabled:this.coreOptions.enableLogging,storage_type:this.coreOptions.storageType,session_time:this.coreOptions.sessionTime,sfa_key_enabled:this.coreOptions.useSFAKey,mipd_enabled:this.coreOptions.multiInjectedProviderDiscovery,private_key_provider_enabled:!!this.coreOptions.privateKeyProvider,ssr_enabled:this.coreOptions.ssr,auth_build_env:this.coreOptions.authBuildEnv,auth_ux_mode:(o=this.coreOptions.uiConfig)===null||o===void 0?void 0:o.uxMode,auth_mfa_level:this.coreOptions.mfaLevel,auth_mfa_settings:Object.keys(this.coreOptions.mfaSettings||{}),aa_enabled_for_external_wallets:this.coreOptions.accountAbstractionConfig?this.coreOptions.useAAWithExternalWallet:void 0},IT(this.coreOptions.uiConfig)),HK(this.coreOptions.accountAbstractionConfig)),WK(this.coreOptions.walletServicesConfig))}catch(a){return nt.error("Failed to get initialization track data",a),{}}}async setupCommonJRPCProvider(){this.commonJRPCProvider=await s_.getProviderInstance({chain:this.currentChain,chains:this.coreOptions.chains}),this.commonJRPCProvider.on("chainChanged",e=>this.setCurrentChain(e))}async setupConnector(e){this.subscribeToConnectorEvents(e);try{const n=this.getInitialChainIdForConnector(e),r=this.checkIfAutoConnect(e);await e.init({autoConnect:r,chainId:n.chainId})}catch(n){nt.error(n,e.name)}}async loadConnectors({projectConfig:e,modalMode:n}){var r;const i=[...this.coreOptions.connectors||[],oV()],o={projectConfig:e,coreOptions:this.coreOptions,analytics:this.analytics},a=!!e.externalWalletAuth,s=a&&((r=this.coreOptions.multiInjectedProviderDiscovery)!==null&&r!==void 0?r:!0),l=new Set(this.coreOptions.chains.map(u=>u.chainNamespace));if(s&&m3()){if(l.has($t.SOLANA)){const{createSolanaMipd:u,hasSolanaWalletStandardFeatures:f,walletStandardConnector:p}=await on(async()=>{const{createSolanaMipd:m,hasSolanaWalletStandardFeatures:v,walletStandardConnector:_}=await import("./index-B1XmwByX.js");return{createSolanaMipd:m,hasSolanaWalletStandardFeatures:v,walletStandardConnector:_}},__vite__mapDeps([3,4,5,6])),g=u();g.on("register",async(...m)=>{const v=m.filter(f).map(_=>p(_)(o));this.setConnectors(v)}),i.push(...g.get().filter(m=>f(m)).map(p))}if(l.has($t.EIP155)){const{createMipd:u,injectedEvmConnector:f}=await on(async()=>{const{createMipd:g,injectedEvmConnector:m}=await import("./index-BKmr6_Dz.js");return{createMipd:g,injectedEvmConnector:m}},[]),p=u();p.subscribe(g=>{const m=g.map(v=>f(v)(o));this.setConnectors(m)}),i.push(...p.getProviders().map(f))}}if(m3()&&(l.has($t.EIP155)||l.has($t.SOLANA))&&i.push(RZ(n?{headless:!0}:void 0)),m3()&&a&&(l.has($t.SOLANA)||l.has($t.EIP155))){const{walletConnectV2Connector:u}=await on(async()=>{const{walletConnectV2Connector:f}=await import("./index-CNcAfzVy.js");return{walletConnectV2Connector:f}},__vite__mapDeps([7,6]));i.push(u())}const c=i.map(u=>u(o));this.setConnectors(c)}async initPlugins(){const{chains:e,plugins:n}=this.coreOptions,r=n||[];e.some(o=>o.chainNamespace===$t.EIP155||o.chainNamespace===$t.SOLANA)&&r.push(NZ());for(const o of r){const a=o();this.plugins[a.name]||(this.plugins[a.name]=a)}}setConnectors(e){const n=o=>`${o.connectorNamespace}-${o.name}`,r=new Set(this.connectors.map(n)),i=e.map(o=>{const a=n(o);return r.has(a)?null:(r.add(a),o)}).filter(o=>o!==null);i.length>0&&(this.connectors=[...this.connectors,...i],this.emit(dt.CONNECTORS_UPDATED,{connectors:i}))}subscribeToConnectorEvents(e){e.on(dt.CONNECTED,async n=>{var r,i;if(!this.commonJRPCProvider)throw ot.notFound("CommonJrpcProvider not found");const{provider:o}=n;if(this.coreOptions.ssr)try{const u=await e.getIdentityToken();if(!u.idToken)throw St.connectionError("No idToken found");this.setState({idToken:u.idToken})}catch(u){nt.error(u),this.status=st.ERRORED,this.emit(dt.ERRORED,u,this.loginMode);return}let a=o.provider||o;const{accountAbstractionConfig:s}=this.coreOptions;if(((r=this.currentChain)===null||r===void 0?void 0:r.chainNamespace)===$t.EIP155&&(s==null||(i=s.chains)===null||i===void 0?void 0:i.some(u=>{var f;return u.chainId===((f=this.currentChain)===null||f===void 0?void 0:f.chainId)}))&&(n.connector===ht.AUTH||this.coreOptions.useAAWithExternalWallet)){var c;const{accountAbstractionProvider:u,toEoaProvider:f}=await on(async()=>{const{accountAbstractionProvider:v,toEoaProvider:_}=await import("./index-Dygkxhw4.js").then(w=>w.f);return{accountAbstractionProvider:v,toEoaProvider:_}},__vite__mapDeps([8,5,4])),p=n.connector===ht.AUTH?await f(o):o,g=new Set((s==null||(c=s.chains)===null||c===void 0?void 0:c.map(v=>v.chainId))||[]),m=await u({accountAbstractionConfig:s,provider:p,chain:this.currentChain,chains:this.coreOptions.chains.filter(v=>g.has(v.chainId)),useProviderAsTransport:n.connector===ht.AUTH});this.aaProvider=m,n.connector!==ht.AUTH&&this.coreOptions.useAAWithExternalWallet&&(a=this.aaProvider)}this.commonJRPCProvider.updateProviderEngineProxy(a),this.setState({connectedConnectorName:n.connector}),this.cacheWallet(n.connector),this.status=st.CONNECTED,nt.debug("connected",this.status,this.connectedConnectorName),this.connectToPlugins(n),this.emit(dt.CONNECTED,be(be({},n),{},{loginMode:this.loginMode}))}),e.on(dt.DISCONNECTED,async()=>{this.commonJRPCProvider.removeAllListeners(),this.setupCommonJRPCProvider(),this.status=st.READY;const n=this.state.cachedConnector;this.connectedConnectorName===n&&this.clearCache(),nt.debug("disconnected",this.status,this.connectedConnectorName),await Promise.all(Object.values(this.plugins).map(async r=>{if(r.SUPPORTED_CONNECTORS.includes(e.name)&&r.status===gs.CONNECTED)return r.disconnect().catch(i=>{i.code!==5211&&nt.error(i)})})),this.setState({connectedConnectorName:null}),this.emit(dt.DISCONNECTED)}),e.on(dt.CONNECTING,n=>{this.status=st.CONNECTING,this.emit(dt.CONNECTING,n),nt.debug("connecting",this.status,this.connectedConnectorName)}),e.on(dt.ERRORED,n=>{this.status=st.ERRORED,this.clearCache(),this.emit(dt.ERRORED,n,this.loginMode),nt.debug("errored",this.status,this.connectedConnectorName)}),e.on(dt.REHYDRATION_ERROR,n=>{this.status=st.READY,this.clearCache(),this.emit(dt.REHYDRATION_ERROR,n)}),e.on(dt.CONNECTOR_DATA_UPDATED,n=>{nt.debug("connector data updated",n),this.emit(dt.CONNECTOR_DATA_UPDATED,n)}),e.on(dt.CACHE_CLEAR,n=>{nt.debug("connector cache clear",n),this.clearCache()}),e.on(dt.MFA_ENABLED,n=>{var r;nt.debug("mfa enabled",n);const i=this.connectedConnector;this.analytics.track(dn.MFA_ENABLEMENT_COMPLETED,{connector:this.connectedConnector.name,auth_ux_mode:(r=i.authInstance)===null||r===void 0||(r=r.options)===null||r===void 0?void 0:r.uxMode,is_mfa_enabled:n}),this.emit(dt.MFA_ENABLED,n)})}checkInitRequirements(){if(this.status===st.READY)throw ot.notReady("Connector is already initialized")}checkIfAutoConnect(e){var n;let r=this.cachedConnector===e.name;return r&&(n=this.currentChain)!==null&&n!==void 0&&n.chainNamespace&&(e.connectorNamespace===$l.MULTICHAIN?r=!0:r=e.connectorNamespace===this.currentChain.chainNamespace),r}getInitialChainIdForConnector(e){var n;let r=this.currentChain;if(((n=r)===null||n===void 0?void 0:n.chainNamespace)!==e.connectorNamespace&&e.connectorNamespace!==$l.MULTICHAIN&&(r=this.coreOptions.chains.find(i=>i.chainNamespace===e.connectorNamespace),!r))throw ot.invalidParams(`No chain found for ${e.connectorNamespace}`);return r}cacheWallet(e){this.setState({cachedConnector:e})}setCurrentChain(e){if(e===this.currentChainId)return;if(!this.coreOptions.chains.find(r=>r.chainId===e))throw ot.invalidParams(`Invalid chainId: ${e}`);this.setState({currentChainId:e})}connectToPlugins(e){Object.values(this.plugins).map(async n=>{try{var r;if(!n.SUPPORTED_CONNECTORS.includes(e.connector)||n.pluginNamespace!==AN.MULTICHAIN&&n.pluginNamespace!==((r=this.currentChain)===null||r===void 0?void 0:r.chainNamespace)||n.status===gs.CONNECTED)return;await n.initWithWeb3Auth(this,this.coreOptions.uiConfig,this.analytics),await n.connect()}catch(i){if(i.code===5211)return;nt.error(i)}})}setState(e){this.state=be(be({},this.state),e),this.storage.setItem(AA,JSON.stringify(this.state))}loadState(e){if(e){this.state=e;return}const n=this.storage.getItem(AA);n&&(this.state=eH(n))}getStorageMethod(){return this.coreOptions.ssr||this.coreOptions.storageType==="cookies"?tH({expiry:this.coreOptions.sessionTime}):this.coreOptions.storageType==="session"&&Qh("sessionStorage")?window.sessionStorage:this.coreOptions.storageType==="local"&&Qh("localStorage")?window.localStorage:new y8}}function BZ(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function jZ(){const t=new Set;let e=[];const n=()=>BZ(i=>{e.some(({info:o})=>o.uuid===i.info.uuid)||(e=[...e,i],t.forEach(o=>o(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:i}){return e.find(o=>o.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(i,{emitImmediately:o}={}){return t.add(i),o&&i(e,{added:e}),()=>t.delete(i)}}}var u2={exports:{}},RM;function $Z(){return RM||(RM=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var g=new i(u,f||l,p),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],g]:l._events[m].push(g):(l._events[m]=g,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,g=f.length,m=new Array(g);p<g;p++)m[p]=f[p].fn;return m},s.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,p,g,m){var v=n?n+c:c;if(!this._events[v])return!1;var _=this._events[v],w=arguments.length,I,k;if(_.fn){switch(_.once&&this.removeListener(c,_.fn,void 0,!0),w){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,u),!0;case 3:return _.fn.call(_.context,u,f),!0;case 4:return _.fn.call(_.context,u,f,p),!0;case 5:return _.fn.call(_.context,u,f,p,g),!0;case 6:return _.fn.call(_.context,u,f,p,g,m),!0}for(k=1,I=new Array(w-1);k<w;k++)I[k-1]=arguments[k];_.fn.apply(_.context,I)}else{var $=_.length,L;for(k=0;k<$;k++)switch(_[k].once&&this.removeListener(c,_[k].fn,void 0,!0),w){case 1:_[k].fn.call(_[k].context);break;case 2:_[k].fn.call(_[k].context,u);break;case 3:_[k].fn.call(_[k].context,u,f);break;case 4:_[k].fn.call(_[k].context,u,f,p);break;default:if(!I)for(L=1,I=new Array(w-1);L<w;L++)I[L-1]=arguments[L];_[k].fn.apply(_[k].context,I)}}return!0},s.prototype.on=function(c,u,f){return o(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return o(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,p){var g=n?n+c:c;if(!this._events[g])return this;if(!u)return a(this,g),this;var m=this._events[g];if(m.fn)m.fn===u&&(!p||m.once)&&(!f||m.context===f)&&a(this,g);else{for(var v=0,_=[],w=m.length;v<w;v++)(m[v].fn!==u||p&&!m[v].once||f&&m[v].context!==f)&&_.push(m[v]);_.length?this._events[g]=_.length===1?_[0]:_:a(this,g)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s}(u2)),u2.exports}var FZ=$Z();const UZ=Hi(FZ);function K_(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function TM(t){return K_(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const IN="2.33.3";let th={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${IN}`},Ir=class FE extends Error{constructor(e,n={}){var s;const r=(()=>{var l;return n.cause instanceof FE?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),i=n.cause instanceof FE&&n.cause.docsPath||n.docsPath,o=(s=th.getDocsUrl)==null?void 0:s.call(th,{...n,docsPath:i}),a=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...th.version?[`Version: ${th.version}`]:[]].join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=IN}walk(e){return kN(this,e)}};function kN(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?kN(t.cause,e):e?null:t}class Koe extends Ir{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class MN extends Ir{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}class Voe extends Ir{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function rf(t,{dir:e,size:n=32}={}){return typeof t=="string"?zZ(t,{dir:e,size:n}):qZ(t,{dir:e,size:n})}function zZ(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new MN({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function qZ(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new MN({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const o=e==="right";r[o?i:n-i-1]=t[o?i:t.length-i-1]}return r}class HZ extends Ir{constructor({max:e,min:n,signed:r,size:i,value:o}){super(`Number "${o}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class Goe extends Ir{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class WZ extends Ir{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}class KZ extends Ir{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function d2(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Su(t,{size:e}){if(TM(t)>e)throw new KZ({givenSize:TM(t),maxSize:e})}function VZ(t,e={}){const{signed:n}=e;e.size&&Su(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,o=(1n<<BigInt(i)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function Yoe(t,e={}){let n=t;if(e.size&&(Su(n,{size:e.size}),n=d2(n)),d2(n)==="0x00")return!1;if(d2(n)==="0x01")return!0;throw new WZ(n)}function Joe(t,e={}){return Number(VZ(t,e))}const GZ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function YZ(t,e={}){return typeof t=="number"||typeof t=="bigint"?yv(t,e):typeof t=="string"?RN(t,e):typeof t=="boolean"?JZ(t,e):ON(t,e)}function JZ(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Su(n,{size:e.size}),rf(n,{size:e.size})):n}function ON(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=GZ[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Su(r,{size:e.size}),rf(r,{dir:"right",size:e.size})):r}function yv(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof o=="bigint"&&n?-o-1n:0;if(o&&i>o||i<a){const l=typeof t=="bigint"?"n":"";throw new HZ({max:o?`${o}${l}`:void 0,min:`${a}${l}`,signed:n,size:r,value:`${t}${l}`})}const s=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?rf(s,{size:r}):s}const ZZ=new TextEncoder;function RN(t,e={}){const n=ZZ.encode(t);return ON(n,e)}const QZ=new TextEncoder;function XZ(t,e={}){return typeof t=="number"||typeof t=="bigint"?tQ(t,e):typeof t=="boolean"?eQ(t,e):K_(t)?TN(t,e):PN(t,e)}function eQ(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Su(n,{size:e.size}),rf(n,{size:e.size})):n}const Qs={zero:48,nine:57,A:65,F:70,a:97,f:102};function PM(t){if(t>=Qs.zero&&t<=Qs.nine)return t-Qs.zero;if(t>=Qs.A&&t<=Qs.F)return t-(Qs.A-10);if(t>=Qs.a&&t<=Qs.f)return t-(Qs.a-10)}function TN(t,e={}){let n=t;e.size&&(Su(n,{size:e.size}),n=rf(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,o=new Uint8Array(i);for(let a=0,s=0;a<i;a++){const l=PM(r.charCodeAt(s++)),c=PM(r.charCodeAt(s++));if(l===void 0||c===void 0)throw new Ir(`Invalid byte sequence ("${r[s-2]}${r[s-1]}" in "${r}").`);o[a]=l*16+c}return o}function tQ(t,e){const n=yv(t,e);return TN(n)}function PN(t,e={}){const n=QZ.encode(t);return typeof e.size=="number"?(Su(n,{size:e.size}),rf(n,{dir:"right",size:e.size})):n}function nQ(t,e){const n=e||"hex",r=L2(K_(t,{strict:!1})?XZ(t):t);return n==="bytes"?r:YZ(r)}class rQ extends Ir{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class V_ extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const f2=new V_(8192);function NN(t,e){if(f2.has(`${t}.${e}`))return f2.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=nQ(PN(n),"bytes"),i=n.split("");for(let a=0;a<40;a+=2)r[a>>1]>>4>=8&&i[a]&&(i[a]=i[a].toUpperCase()),(r[a>>1]&15)>=8&&i[a+1]&&(i[a+1]=i[a+1].toUpperCase());const o=`0x${i.join("")}`;return f2.set(`${t}.${e}`,o),o}function Fg(t,e){if(!oQ(t,{strict:!1}))throw new rQ({address:t});return NN(t,e)}const iQ=/^0x[a-fA-F0-9]{40}$/,h2=new V_(8192);function oQ(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(h2.has(r))return h2.get(r);const i=iQ.test(t)?t.toLowerCase()===t?!0:n?NN(t)===t:!0:!1;return h2.set(r,i),i}function sQ(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const zl=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n),Zoe=t=>t,jp=t=>t;class Ah extends Ir{constructor({body:e,cause:n,details:r,headers:i,status:o,url:a}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${jp(a)}`,e&&`Request body: ${zl(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=o,this.url=a}}class NM extends Ir{constructor({body:e,cause:n,details:r,url:i}){super("WebSocket request failed.",{cause:n,details:r,metaMessages:[`URL: ${jp(i)}`,e&&`Request body: ${zl(e)}`].filter(Boolean),name:"WebSocketRequestError"})}}class G_ extends Ir{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${jp(r)}`,`Request body: ${zl(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class wv extends Ir{constructor({url:e}={}){super("The socket has been closed.",{metaMessages:[e&&`URL: ${jp(e)}`].filter(Boolean),name:"SocketClosedError"})}}class UE extends Ir{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${jp(n)}`,`Request body: ${zl(e)}`],name:"TimeoutError"})}}const aQ=-1;class Oi extends Ir{constructor(e,{code:n,docsPath:r,metaMessages:i,name:o,shortMessage:a}){super(a,{cause:e,docsPath:r,metaMessages:i||(e==null?void 0:e.metaMessages),name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||e.name,this.code=e instanceof G_?e.code:n??aQ}}class Ki extends Oi{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Xh extends Oi{constructor(e){super(e,{code:Xh.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Xh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class ep extends Oi{constructor(e){super(e,{code:ep.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(ep,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class tp extends Oi{constructor(e,{method:n}={}){super(e,{code:tp.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(tp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class np extends Oi{constructor(e){super(e,{code:np.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(np,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Yd extends Oi{constructor(e){super(e,{code:Yd.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Yd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class rp extends Oi{constructor(e){super(e,{code:rp.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(rp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class ip extends Oi{constructor(e){super(e,{code:ip.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(ip,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class ql extends Oi{constructor(e){super(e,{code:ql.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(ql,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class op extends Oi{constructor(e){super(e,{code:op.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(op,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Jc extends Oi{constructor(e,{method:n}={}){super(e,{code:Jc.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Jc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Jd extends Oi{constructor(e){super(e,{code:Jd.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Jd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class sp extends Oi{constructor(e){super(e,{code:sp.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(sp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Xr extends Ki{constructor(e){super(e,{code:Xr.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Xr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class ap extends Ki{constructor(e){super(e,{code:ap.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(ap,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class lp extends Ki{constructor(e,{method:n}={}){super(e,{code:lp.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(lp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class cp extends Ki{constructor(e){super(e,{code:cp.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(cp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class up extends Ki{constructor(e){super(e,{code:up.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(up,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class gu extends Ki{constructor(e){super(e,{code:gu.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(gu,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class dp extends Ki{constructor(e){super(e,{code:dp.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(dp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class fp extends Ki{constructor(e){super(e,{code:fp.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(fp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class hp extends Ki{constructor(e){super(e,{code:hp.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(hp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class pp extends Ki{constructor(e){super(e,{code:pp.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(pp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class gp extends Ki{constructor(e){super(e,{code:gp.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(gp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class mp extends Ki{constructor(e){super(e,{code:mp.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(mp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class vp extends Ki{constructor(e){super(e,{code:vp.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(vp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class lQ extends Oi{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function cQ(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const p2=new Map;function LN({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const o=async()=>{const u=l();a();const f=u.map(({args:p})=>p);f.length!==0&&t(f).then(p=>{i&&Array.isArray(p)&&p.sort(i);for(let g=0;g<u.length;g++){const{resolve:m}=u[g];m==null||m([p[g],p])}}).catch(p=>{for(let g=0;g<u.length;g++){const{reject:m}=u[g];m==null||m(p)}})},a=()=>p2.delete(e),s=()=>l().map(({args:u})=>u),l=()=>p2.get(e)||[],c=u=>p2.set(e,[...l(),u]);return{flush:a,async schedule(u){const{promise:f,resolve:p,reject:g}=cQ();return(n==null?void 0:n([...s(),u]))&&o(),l().length>0?(c({args:u,resolve:p,reject:g}),f):(c({args:u,resolve:p,reject:g}),setTimeout(o,r),f)}}}async function uQ(t){return new Promise(e=>setTimeout(e,t))}function DN(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,o)=>{const a=async({count:s=0}={})=>{const l=async({error:c})=>{const u=typeof e=="function"?e({count:s,error:c}):e;u&&await uQ(u),a({count:s+1})};try{const c=await t();i(c)}catch(c){if(s<n&&await r({count:s,error:c}))return l({error:c});o(c)}};a()})}const zE=256;let Ug=zE,zg;function BN(t=11){if(!zg||Ug+t>zE*2){zg="",Ug=0;for(let e=0;e<zE;e++)zg+=(256+Math.random()*256|0).toString(16).substring(1)}return zg.substring(Ug,Ug+++t)}function dQ(t){const{batch:e,chain:n,ccipRead:r,key:i="base",name:o="Base Client",type:a="base"}=t,s=t.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),l=(n==null?void 0:n.blockTime)??12e3,c=Math.min(Math.max(Math.floor(l/2),500),4e3),u=t.pollingInterval??c,f=t.cacheTime??u,p=t.account?sQ(t.account):void 0,{config:g,request:m,value:v}=t.transport({chain:n,pollingInterval:u}),_={...g,...v},w={account:p,batch:e,cacheTime:f,ccipRead:r,chain:n,key:i,name:o,pollingInterval:u,request:m,transport:_,type:a,uid:BN(),...s?{experimental_blockTag:s}:{}};function I(k){return $=>{const L=$(k);for(const H in w)delete L[H];const z={...k,...L};return Object.assign(z,{extend:I(z)})}}return Object.assign(w,{extend:I(w)})}const qg=new V_(8192);function fQ(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(qg.get(n))return qg.get(n);const r=t().finally(()=>qg.delete(n));return qg.set(n,r),r}function hQ(t,e={}){return async(n,r={})=>{var f;const{dedupe:i=!1,methods:o,retryDelay:a=150,retryCount:s=3,uid:l}={...e,...r},{method:c}=n;if((f=o==null?void 0:o.exclude)!=null&&f.includes(c))throw new Jc(new Error("method not supported"),{method:c});if(o!=null&&o.include&&!o.include.includes(c))throw new Jc(new Error("method not supported"),{method:c});const u=i?RN(`${l}.${zl(n)}`):void 0;return fQ(()=>DN(async()=>{try{return await t(n)}catch(p){const g=p;switch(g.code){case Xh.code:throw new Xh(g);case ep.code:throw new ep(g);case tp.code:throw new tp(g,{method:n.method});case np.code:throw new np(g);case Yd.code:throw new Yd(g);case rp.code:throw new rp(g);case ip.code:throw new ip(g);case ql.code:throw new ql(g);case op.code:throw new op(g);case Jc.code:throw new Jc(g,{method:n.method});case Jd.code:throw new Jd(g);case sp.code:throw new sp(g);case Xr.code:throw new Xr(g);case ap.code:throw new ap(g);case lp.code:throw new lp(g);case cp.code:throw new cp(g);case up.code:throw new up(g);case gu.code:throw new gu(g);case dp.code:throw new dp(g);case fp.code:throw new fp(g);case hp.code:throw new hp(g);case pp.code:throw new pp(g);case gp.code:throw new gp(g);case mp.code:throw new mp(g);case vp.code:throw new vp(g);case 5e3:throw new Xr(g);default:throw p instanceof Ir?p:new lQ(g)}}},{delay:({count:p,error:g})=>{var m;if(g&&g instanceof Ah){const v=(m=g==null?void 0:g.headers)==null?void 0:m.get("Retry-After");if(v!=null&&v.match(/\d/))return Number.parseInt(v)*1e3}return~~(1<<p)*a},retryCount:s,shouldRetry:({error:p})=>pQ(p)}),{enabled:i,id:u})}}function pQ(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Jd.code||t.code===Yd.code:t instanceof Ah&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function jN({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:o=150,timeout:a,type:s},l){const c=BN();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:o,timeout:a,type:s},request:hQ(r,{methods:e,retryCount:i,retryDelay:o,uid:c}),value:l}}class $N extends Ir{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Y_(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,o)=>{(async()=>{let a;try{const s=new AbortController;n>0&&(a=setTimeout(()=>{r?s.abort():o(e)},n)),i(await t({signal:(s==null?void 0:s.signal)||null}))}catch(s){(s==null?void 0:s.name)==="AbortError"&&o(e),o(s)}finally{clearTimeout(a)}})()})}function gQ(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const qE=gQ();function mQ(t,e={}){return{async request(n){var f;const{body:r,onRequest:i=e.onRequest,onResponse:o=e.onResponse,timeout:a=e.timeout??1e4}=n,s={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:l,method:c,signal:u}=s;try{const p=await Y_(async({signal:m})=>{const v={...s,body:Array.isArray(r)?zl(r.map(k=>({jsonrpc:"2.0",id:k.id??qE.take(),...k}))):zl({jsonrpc:"2.0",id:r.id??qE.take(),...r}),headers:{"Content-Type":"application/json",...l},method:c||"POST",signal:u||(a>0?m:null)},_=new Request(t,v),w=await(i==null?void 0:i(_,v))??{...v,url:t};return await fetch(w.url??t,w)},{errorInstance:new UE({body:r,url:t}),timeout:a,signal:!0});o&&await o(p);let g;if((f=p.headers.get("Content-Type"))!=null&&f.startsWith("application/json"))g=await p.json();else{g=await p.text();try{g=JSON.parse(g||"{}")}catch(m){if(p.ok)throw m;g={error:g}}}if(!p.ok)throw new Ah({body:r,details:zl(g.error)||p.statusText,headers:p.headers,status:p.status,url:t});return g}catch(p){throw p instanceof Ah||p instanceof UE?p:new Ah({body:r,cause:p,url:t})}}}}function FN(t,e={}){const{batch:n,fetchOptions:r,key:i="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:s,onFetchResponse:l,retryDelay:c,raw:u}=e;return({chain:f,retryCount:p,timeout:g})=>{const{batchSize:m=1e3,wait:v=0}=typeof n=="object"?n:{},_=e.retryCount??p,w=g??e.timeout??1e4,I=t||(f==null?void 0:f.rpcUrls.default.http[0]);if(!I)throw new $N;const k=mQ(I,{fetchOptions:r,onRequest:s,onResponse:l,timeout:w});return jN({key:i,methods:o,name:a,async request({method:$,params:L}){const z={method:$,params:L},{schedule:H}=LN({id:I,wait:v,shouldSplitBatch(O){return O.length>m},fn:O=>k.request({body:O}),sort:(O,y)=>O.id-y.id}),P=async O=>n?H(O):[await k.request({body:O})],[{error:D,result:B}]=await P(z);if(u)return{error:D,result:B};if(D)throw new G_({body:z,error:D,url:I});return B},retryCount:_,retryDelay:c,timeout:w,type:"http"},{fetchOptions:r,url:I})}}function UN(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const g2=new Map;async function vQ(t){const{getSocket:e,keepAlive:n=!0,key:r="socket",reconnect:i=!0,url:o}=t,{interval:a=3e4}=typeof n=="object"?n:{},{attempts:s=5,delay:l=2e3}=typeof i=="object"?i:{},c=JSON.stringify({keepAlive:n,key:r,url:o,reconnect:i});let u=g2.get(c);if(u)return u;let f=0;const{schedule:p}=LN({id:c,fn:async()=>{const v=new Map,_=new Map;let w,I,k,$=!1;function L(){if(i&&f<s){if($)return;$=!0,f++,I==null||I.close(),setTimeout(async()=>{await z().catch(console.error),$=!1},l)}else v.clear(),_.clear()}async function z(){const H=await e({onClose(){var P,D;for(const B of v.values())(P=B.onError)==null||P.call(B,new wv({url:o}));for(const B of _.values())(D=B.onError)==null||D.call(B,new wv({url:o}));L()},onError(P){var D,B;w=P;for(const O of v.values())(D=O.onError)==null||D.call(O,w);for(const O of _.values())(B=O.onError)==null||B.call(O,w);L()},onOpen(){w=void 0,f=0},onResponse(P){const D=P.method==="eth_subscription",B=D?P.params.subscription:P.id,O=D?_:v,y=O.get(B);y&&y.onResponse(P),D||O.delete(B)}});if(I=H,n&&(k&&clearInterval(k),k=setInterval(()=>{var P;return(P=I.ping)==null?void 0:P.call(I)},a)),i&&_.size>0){const P=_.entries();for(const[D,{onResponse:B,body:O,onError:y}]of P)O&&(_.delete(D),u==null||u.request({body:O,onResponse:B,onError:y}))}return H}return await z(),w=void 0,u={close(){k&&clearInterval(k),I.close(),g2.delete(c)},get socket(){return I},request({body:H,onError:P,onResponse:D}){w&&P&&P(w);const B=H.id??qE.take(),O=y=>{var E;typeof y.id=="number"&&B!==y.id||(H.method==="eth_subscribe"&&typeof y.result=="string"&&_.set(y.result,{onResponse:O,onError:P,body:H}),H.method==="eth_unsubscribe"&&_.delete((E=H.params)==null?void 0:E[0]),D(y))};v.set(B,{onResponse:O,onError:P});try{I.request({body:{jsonrpc:"2.0",id:B,...H}})}catch(y){P==null||P(y)}},requestAsync({body:H,timeout:P=1e4}){return Y_(()=>new Promise((D,B)=>this.request({body:H,onError:B,onResponse:D})),{errorInstance:new UE({body:H,url:o}),timeout:P})},requests:v,subscriptions:_,url:o},g2.set(c,u),[u]}}),[g,[m]]=await p();return m}async function Mm(t,e={}){const{keepAlive:n,reconnect:r}=e;return vQ({async getSocket({onClose:i,onError:o,onOpen:a,onResponse:s}){const l=await on(()=>import("./native-P2dgms0y.js"),[]).then(g=>g.WebSocket),c=new l(t);function u(){c.removeEventListener("close",u),c.removeEventListener("message",f),c.removeEventListener("error",o),c.removeEventListener("open",a),i()}function f({data:g}){try{const m=JSON.parse(g);s(m)}catch(m){o(m)}}c.addEventListener("close",u),c.addEventListener("message",f),c.addEventListener("error",o),c.addEventListener("open",a),c.readyState===l.CONNECTING&&await new Promise((g,m)=>{c&&(c.onopen=g,c.onerror=m)});const{close:p}=c;return Object.assign(c,{close(){p.bind(c)(),u()},ping(){try{if(c.readyState===c.CLOSED||c.readyState===c.CLOSING)throw new NM({url:c.url,cause:new wv({url:c.url})});const g={jsonrpc:"2.0",method:"net_version",params:[]};c.send(JSON.stringify(g))}catch(g){o(g)}},request({body:g}){if(c.readyState===c.CLOSED||c.readyState===c.CLOSING)throw new NM({body:g,url:c.url,cause:new wv({url:c.url})});return c.send(JSON.stringify(g))}})},keepAlive:n,reconnect:r,url:t})}async function yQ(t){const e=await Mm(t);return Object.assign(e.socket,{requests:e.requests,subscriptions:e.subscriptions})}function wQ(t,e={}){const{keepAlive:n,key:r="webSocket",methods:i,name:o="WebSocket JSON-RPC",reconnect:a,retryDelay:s}=e;return({chain:l,retryCount:c,timeout:u})=>{var v;const f=e.retryCount??c,p=u??e.timeout??1e4,g=t||((v=l==null?void 0:l.rpcUrls.default.webSocket)==null?void 0:v[0]),m={keepAlive:n,reconnect:a};if(!g)throw new $N;return jN({key:r,methods:i,name:o,async request({method:_,params:w}){const I={method:_,params:w},k=await Mm(g,m),{error:$,result:L}=await k.requestAsync({body:I,timeout:p});if($)throw new G_({body:I,error:$,url:g});return L},retryCount:f,retryDelay:s,timeout:p,type:"webSocket"},{getSocket(){return yQ(g)},getRpcClient(){return Mm(g,m)},async subscribe({params:_,onData:w,onError:I}){const k=await Mm(g,m),{result:$}=await new Promise((L,z)=>k.request({body:{method:"eth_subscribe",params:_},onError(H){z(H),I==null||I(H)},onResponse(H){if(H.error){z(H.error),I==null||I(H.error);return}if(typeof H.id=="number"){L(H);return}H.method==="eth_subscription"&&w(H.params)}}));return{subscriptionId:$,async unsubscribe(){return new Promise(L=>k.request({body:{method:"eth_unsubscribe",params:[$]},onResponse:L}))}}}})}}const bQ=fe.createContext(null);function EQ({children:t,context:e}){const n=fe.useContext(e),{getPlugin:r,isInitialized:i,isConnected:o}=n,[a,s]=fe.useState(!1),[l,c]=fe.useState(!1),[u,f]=fe.useState(null);fe.useEffect(()=>{if(i){const g=r(vv.WALLET_SERVICES);f(g)}},[i,r]),fe.useEffect(()=>{if(o){const g=r(vv.WALLET_SERVICES);f(g),(g==null?void 0:g.status)===st.CONNECTED&&s(!0)}},[o,r,u]),fe.useEffect(()=>{const g=()=>{s(!0),c(!1)},m=()=>{s(!1),c(!1)},v=()=>{c(!0)};return u&&(u.on(Uo.CONNECTED,g),u.on(Uo.DISCONNECTED,m),u.on(Uo.CONNECTING,v)),()=>{u&&(u.off(Uo.CONNECTED,g),u.off(Uo.DISCONNECTED,m),u.off(Uo.CONNECTING,v))}},[u]);const p=fe.useMemo(()=>({plugin:u,ready:a,connecting:l}),[u,a,l]);return fe.createElement(bQ.Provider,{value:p},t)}const xQ="10.1.0",_Q={hideWalletDiscovery:!1,connectors:{[Hm.AUTH]:{label:"Auth",showOnModal:!0}}},SQ="https://assets.web3auth.io/v1/wallet-registry.json";function J_(t){return t.charAt(0).toUpperCase()+t.slice(1)}const CQ=new Set([it.CUSTOM,it.PASSKEYS,it.TELEGRAM,it.AUTHENTICATOR]),HE=Object.values(it).filter(t=>!CQ.has(t)),AQ=HE.reduce((t,e)=>(e==="email_passwordless"?t[e]="Email":e==="sms_passwordless"?t[e]="Mobile":t[e]=J_(e),t),{}),IQ={[xi.DEVELOPMENT]:"https://api-develop.web3auth.io/passwordless-service",[xi.STAGING]:"https://api.web3auth.io/passwordless-service",[xi.PRODUCTION]:"https://api.web3auth.io/passwordless-service",[xi.TESTING]:"https://api-develop.web3auth.io/passwordless-service"},kQ="d5f0c15c-eeda-4f9c-934a-d8e0348e83b2",Hg={MODAL_VISIBILITY:"MODAL_VISIBILITY"},Un={INITIALIZED:"initialized",CONNECTED:"connected",CONNECTING:"connecting",ERRORED:"errored"};let bv=function(t){return t.SUCCESS="success",t.ERROR="error",t.WARNING="warning",t.INFO="info",t}({});function MQ(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var OQ=`@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap");.w3a-parent-container *,.w3a-parent-container :after,.w3a-parent-container :before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.w3a-parent-container ::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }
/*! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com*/.w3a-parent-container *,.w3a-parent-container :after,.w3a-parent-container :before{border:0 solid;box-sizing:border-box}.w3a-parent-container :after,.w3a-parent-container :before{--tw-content:""}.w3a-parent-container :host,.w3a-parent-container html{-webkit-text-size-adjust:100%;font-feature-settings:normal;-webkit-tap-highlight-color:transparent;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;tab-size:4}.w3a-parent-container body{line-height:inherit;margin:0}.w3a-parent-container hr{border-top-width:1px;color:inherit;height:0}.w3a-parent-container abbr:where([title]){text-decoration:underline dotted}.w3a-parent-container h1,.w3a-parent-container h2,.w3a-parent-container h3,.w3a-parent-container h4,.w3a-parent-container h5,.w3a-parent-container h6{font-size:inherit;font-weight:inherit}.w3a-parent-container a{color:inherit;text-decoration:inherit}.w3a-parent-container b,.w3a-parent-container strong{font-weight:bolder}.w3a-parent-container code,.w3a-parent-container kbd,.w3a-parent-container pre,.w3a-parent-container samp{font-feature-settings:normal;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em;font-variation-settings:normal}.w3a-parent-container small{font-size:80%}.w3a-parent-container sub,.w3a-parent-container sup{font-size:75%;line-height:0;position:relative;vertical-align:initial}.w3a-parent-container sub{bottom:-.25em}.w3a-parent-container sup{top:-.5em}.w3a-parent-container table{border-collapse:collapse;border-color:inherit;text-indent:0}.w3a-parent-container button,.w3a-parent-container input,.w3a-parent-container optgroup,.w3a-parent-container select,.w3a-parent-container textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}.w3a-parent-container button,.w3a-parent-container select{text-transform:none}.w3a-parent-container button,.w3a-parent-container input:where([type=button]),.w3a-parent-container input:where([type=reset]),.w3a-parent-container input:where([type=submit]){-webkit-appearance:button;background-color:initial;background-image:none}.w3a-parent-container :-moz-focusring{outline:auto}.w3a-parent-container :-moz-ui-invalid{box-shadow:none}.w3a-parent-container progress{vertical-align:initial}.w3a-parent-container ::-webkit-inner-spin-button,.w3a-parent-container ::-webkit-outer-spin-button{height:auto}.w3a-parent-container [type=search]{-webkit-appearance:textfield;outline-offset:-2px}.w3a-parent-container ::-webkit-search-decoration{-webkit-appearance:none}.w3a-parent-container ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.w3a-parent-container summary{display:list-item}.w3a-parent-container blockquote,.w3a-parent-container dd,.w3a-parent-container dl,.w3a-parent-container figure,.w3a-parent-container h1,.w3a-parent-container h2,.w3a-parent-container h3,.w3a-parent-container h4,.w3a-parent-container h5,.w3a-parent-container h6,.w3a-parent-container hr,.w3a-parent-container p,.w3a-parent-container pre{margin:0}.w3a-parent-container fieldset{margin:0;padding:0}.w3a-parent-container legend{padding:0}.w3a-parent-container menu,.w3a-parent-container ol,.w3a-parent-container ul{list-style:none;margin:0;padding:0}.w3a-parent-container dialog{padding:0}.w3a-parent-container textarea{resize:vertical}.w3a-parent-container input::placeholder,.w3a-parent-container textarea::placeholder{color:#9ca3af;opacity:1}.w3a-parent-container [role=button],.w3a-parent-container button{cursor:pointer}.w3a-parent-container :disabled{cursor:default}.w3a-parent-container audio,.w3a-parent-container canvas,.w3a-parent-container embed,.w3a-parent-container iframe,.w3a-parent-container img,.w3a-parent-container object,.w3a-parent-container svg,.w3a-parent-container video{display:block;vertical-align:middle}.w3a-parent-container img,.w3a-parent-container video{height:auto;max-width:100%}.w3a-parent-container [hidden]:where(:not([hidden=until-found])){display:none}.w3a-parent-container{--app-on-primary:#fff;--app-primary-50:#ebf5ff;--app-primary-100:#e1effe;--app-primary-200:#c3ddfd;--app-primary-300:#a4cafe;--app-primary-400:#76a9fa;--app-primary-500:#3f83f8;--app-primary-600:#0346ff;--app-primary-700:#1a56db;--app-primary-800:#1e429f;--app-primary-900:#233876;--app-gray-50:#f9fafb;--app-gray-100:#f3f4f6;--app-gray-200:#e5e7eb;--app-gray-300:#d1d5db;--app-gray-400:#9ca3af;--app-gray-500:#6b7280;--app-gray-600:#4b5563;--app-gray-700:#374151;--app-gray-800:#1f2a37;--app-gray-900:#111928;--app-blue-50:#ebf5ff;--app-blue-100:#e1effe;--app-blue-200:#c3ddfd;--app-blue-300:#a4cafe;--app-blue-400:#76a9fa;--app-blue-500:#3f83f8;--app-blue-600:#0346ff;--app-blue-700:#1a56db;--app-blue-800:#1e429f;--app-blue-900:#233876;--app-red-50:#fdf2f2;--app-red-100:#fde8e8;--app-red-200:#fbd5d5;--app-red-300:#f8b4b4;--app-red-400:#f98080;--app-red-500:#f05252;--app-red-600:#e02424;--app-red-700:#c81e1e;--app-red-800:#9b1c1c;--app-red-900:#771d1d;--app-green-50:#f3faf7;--app-green-100:#def7ec;--app-green-200:#bcf0da;--app-green-300:#84e1bc;--app-green-400:#31c48d;--app-green-500:#0e9f6e;--app-green-600:#057a55;--app-green-700:#046c4e;--app-green-800:#03543f;--app-green-900:#014737;--app-yellow-50:#fdfdea;--app-yellow-100:#fdf6b2;--app-yellow-200:#fce96a;--app-yellow-300:#faca15;--app-yellow-400:#e3a008;--app-yellow-500:#c27803;--app-yellow-600:#9f580a;--app-yellow-700:#8e4b10;--app-yellow-800:#723b13;--app-yellow-900:#633112;--app-success:#30cca4;--app-warning:#fbc94a;--app-error:#fb4a61;--app-info:#d4d4d4;--app-white:#fff;--app-black:#000}.w3a-parent-container body{box-sizing:border-box;margin:0!important;padding:0!important}.w3a-parent-container{font-family:Inter;position:relative}.w3a-parent-container .w3a-parent-container>*{scrollbar-color:#e5e7eb!important}.w3a-parent-container .w3a--social-container{scroll-padding-right:10px;scrollbar-color:#e5e7eb!important}.w3a-parent-container .w3a--modal-curtain{background-color:initial;left:0;opacity:0;position:absolute;right:0;top:0;transition:opacity 50ms ease-in;z-index:1}.w3a-parent-container .w3a--fixed{position:fixed}.w3a-parent-container .w3a--absolute{position:absolute}.w3a-parent-container .w3a--relative{position:relative}.w3a-parent-container .w3a--inset-x-4{left:1rem;right:1rem}.w3a-parent-container .w3a--bottom-2{bottom:.5rem}.w3a-parent-container .w3a--bottom-4{bottom:1rem}.w3a-parent-container .w3a--bottom-8{bottom:2rem}.w3a-parent-container .w3a--bottom-\\[100\\%\\]{bottom:100%}.w3a-parent-container .w3a--left-0{left:0}.w3a-parent-container .w3a--left-2{left:.5rem}.w3a-parent-container .w3a--left-\\[50\\%\\]{left:50%}.w3a-parent-container .w3a--right-4{right:1rem}.w3a-parent-container .w3a--right-6{right:1.5rem}.w3a-parent-container .w3a--top-0{top:0}.w3a-parent-container .w3a--top-1\\/2{top:50%}.w3a-parent-container .w3a--top-4{top:1rem}.w3a-parent-container .w3a--top-8{top:2rem}.w3a-parent-container .w3a--top-\\[16px\\]{top:16px}.w3a-parent-container .w3a--top-\\[30px\\]{top:30px}.w3a-parent-container .w3a--z-10{z-index:10}.w3a-parent-container .w3a--z-20{z-index:20}.w3a-parent-container .w3a--z-50{z-index:50}.w3a-parent-container .w3a--z-\\[-1\\]{z-index:-1}.w3a-parent-container .w3a--z-\\[45\\]{z-index:45}.w3a-parent-container .w3a--z-\\[60\\]{z-index:60}.w3a-parent-container .w3a--mx-auto{margin-left:auto;margin-right:auto}.w3a-parent-container .w3a--my-2{margin-bottom:.5rem;margin-top:.5rem}.w3a-parent-container .w3a--my-4{margin-bottom:1rem;margin-top:1rem}.w3a-parent-container .w3a--my-6{margin-bottom:1.5rem;margin-top:1.5rem}.w3a-parent-container .-w3a--mt-10{margin-top:-2.5rem}.w3a-parent-container .-w3a--mt-2{margin-top:-.5rem}.w3a-parent-container .-w3a--mt-6{margin-top:-1.5rem}.w3a-parent-container .w3a--mb-2{margin-bottom:.5rem}.w3a-parent-container .w3a--ml-0{margin-left:0}.w3a-parent-container .w3a--ml-2{margin-left:.5rem}.w3a-parent-container .w3a--ml-4{margin-left:1rem}.w3a-parent-container .w3a--mr-2\\.5{margin-right:.625rem}.w3a-parent-container .w3a--mr-auto{margin-right:auto}.w3a-parent-container .w3a--mt-2{margin-top:.5rem}.w3a-parent-container .w3a--mt-3{margin-top:.75rem}.w3a-parent-container .w3a--mt-auto{margin-top:auto}.w3a-parent-container .w3a--block{display:block}.w3a-parent-container .w3a--flex{display:flex}.w3a-parent-container .w3a--inline-flex{display:inline-flex}.w3a-parent-container .w3a--grid{display:grid}.w3a-parent-container .w3a--contents{display:contents}.w3a-parent-container .w3a--hidden{display:none}.w3a-parent-container .w3a--size-10{height:2.5rem;width:2.5rem}.w3a-parent-container .w3a--size-3{height:.75rem;width:.75rem}.w3a-parent-container .w3a--size-5{height:1.25rem;width:1.25rem}.w3a-parent-container .w3a--size-\\[300px\\]{height:300px;width:300px}.w3a-parent-container .w3a--size-auto{height:auto;width:auto}.w3a-parent-container .w3a--size-full{height:100%;width:100%}.w3a-parent-container .w3a--h-0{height:0}.w3a-parent-container .w3a--h-11{height:2.75rem}.w3a-parent-container .w3a--h-12{height:3rem}.w3a-parent-container .w3a--h-9{height:2.25rem}.w3a-parent-container .w3a--h-\\[280px\\]{height:280px}.w3a-parent-container .w3a--h-\\[300px\\]{height:300px}.w3a-parent-container .w3a--h-\\[328px\\]{height:328px}.w3a-parent-container .w3a--h-\\[42px\\]{height:42px}.w3a-parent-container .w3a--h-\\[50px\\]{height:50px}.w3a-parent-container .w3a--h-auto{height:auto}.w3a-parent-container .w3a--h-full{height:100%}.w3a-parent-container .w3a--h-px{height:1px}.w3a-parent-container .w3a--h-screen{height:100vh}.w3a-parent-container .w3a--w-0{width:0}.w3a-parent-container .w3a--w-12{width:3rem}.w3a-parent-container .w3a--w-4\\/5{width:80%}.w3a-parent-container .w3a--w-\\[100px\\]{width:100px}.w3a-parent-container .w3a--w-\\[104px\\]{width:104px}.w3a-parent-container .w3a--w-\\[200px\\]{width:200px}.w3a-parent-container .w3a--w-\\[356px\\]{width:356px}.w3a-parent-container .w3a--w-\\[90\\%\\]{width:90%}.w3a-parent-container .w3a--w-\\[96\\%\\]{width:96%}.w3a-parent-container .w3a--w-auto{width:auto}.w3a-parent-container .w3a--w-full{width:100%}.w3a-parent-container .w3a--w-max{width:max-content}.w3a-parent-container .w3a--w-screen{width:100vw}.w3a-parent-container .w3a--max-w-\\[180px\\]{max-width:180px}.w3a-parent-container .w3a--flex-1{flex:1 1 0%}.w3a-parent-container .-w3a--translate-x-10{--tw-translate-x:-2.5rem}.w3a-parent-container .-w3a--translate-x-10,.w3a-parent-container .-w3a--translate-x-6{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .-w3a--translate-x-6{--tw-translate-x:-1.5rem}.w3a-parent-container .-w3a--translate-y-1\\/2{--tw-translate-y:-50%}.w3a-parent-container .-w3a--translate-y-1\\/2,.w3a-parent-container .w3a--translate-y-0{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--translate-y-0{--tw-translate-y:0px}.w3a-parent-container .w3a--translate-y-\\[100vh\\]{--tw-translate-y:100vh}.w3a-parent-container .w3a--translate-y-\\[100vh\\],.w3a-parent-container .w3a--translate-y-full{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--translate-y-full{--tw-translate-y:100%}@keyframes w3a--pulse{50%{opacity:.5}}.w3a-parent-container .w3a--animate-pulse{animation:w3a--pulse 2s cubic-bezier(.4,0,.6,1) infinite}.w3a-parent-container .w3a--cursor-not-allowed{cursor:not-allowed}.w3a-parent-container .w3a--cursor-pointer{cursor:pointer}.w3a-parent-container .w3a--appearance-none{appearance:none}.w3a-parent-container .w3a--auto-rows-min{grid-auto-rows:min-content}.w3a-parent-container .w3a--grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.w3a-parent-container .w3a--flex-col{flex-direction:column}.w3a-parent-container .w3a--items-start{align-items:flex-start}.w3a-parent-container .w3a--items-end{align-items:flex-end}.w3a-parent-container .w3a--items-center{align-items:center}.w3a-parent-container .\\!w3a--justify-start{justify-content:flex-start!important}.w3a-parent-container .w3a--justify-start{justify-content:flex-start}.w3a-parent-container .\\!w3a--justify-center{justify-content:center!important}.w3a-parent-container .w3a--justify-center{justify-content:center}.w3a-parent-container .\\!w3a--justify-between{justify-content:space-between!important}.w3a-parent-container .w3a--justify-between{justify-content:space-between}.w3a-parent-container .w3a--justify-items-start{justify-items:start}.w3a-parent-container .w3a--gap-2{gap:.5rem}.w3a-parent-container .w3a--gap-3{gap:.75rem}.w3a-parent-container .w3a--gap-x-1{column-gap:.25rem}.w3a-parent-container .w3a--gap-x-2{column-gap:.5rem}.w3a-parent-container .w3a--gap-x-4{column-gap:1rem}.w3a-parent-container .w3a--gap-x-6{column-gap:1.5rem}.w3a-parent-container .w3a--gap-y-1{row-gap:.25rem}.w3a-parent-container .w3a--gap-y-2{row-gap:.5rem}.w3a-parent-container .w3a--gap-y-4{row-gap:1rem}.w3a-parent-container .w3a--space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(.5rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(.5rem*var(--tw-space-x-reverse))}.w3a-parent-container .w3a--overflow-hidden{overflow:hidden}.w3a-parent-container .w3a--overflow-y-auto{overflow-y:auto}.w3a-parent-container .w3a--truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.w3a-parent-container .w3a--rounded{border-radius:.25rem}.w3a-parent-container .w3a--rounded-2xl{border-radius:1rem}.w3a-parent-container .w3a--rounded-3xl{border-radius:1.5rem}.w3a-parent-container .w3a--rounded-\\[30px\\]{border-radius:30px}.w3a-parent-container .w3a--rounded-full{border-radius:9999px}.w3a-parent-container .w3a--rounded-lg{border-radius:.5rem}.w3a-parent-container .w3a--rounded-md{border-radius:.375rem}.w3a-parent-container .w3a--rounded-none{border-radius:0}.w3a-parent-container .w3a--border{border-width:1px}.w3a-parent-container .\\!w3a--border-app-primary-600{border-color:var(--app-primary-600)!important}.w3a-parent-container .w3a--border-app-blue-200{border-color:var(--app-blue-200)}.w3a-parent-container .w3a--border-app-gray-100{border-color:var(--app-gray-100)}.w3a-parent-container .w3a--border-app-gray-200{border-color:var(--app-gray-200)}.w3a-parent-container .w3a--border-app-gray-300{border-color:var(--app-gray-300)}.w3a-parent-container .w3a--border-app-gray-800{border-color:var(--app-gray-800)}.w3a-parent-container .w3a--border-app-green-200{border-color:var(--app-green-200)}.w3a-parent-container .w3a--border-app-green-400{border-color:var(--app-green-400)}.w3a-parent-container .w3a--border-app-red-200{border-color:var(--app-red-200)}.w3a-parent-container .w3a--border-app-red-600{border-color:var(--app-red-600)}.w3a-parent-container .w3a--border-app-yellow-200{border-color:var(--app-yellow-200)}.w3a-parent-container .w3a--border-transparent{border-color:#0000}.w3a-parent-container .\\!w3a--bg-app-gray-800{background-color:var(--app-gray-800)!important}.w3a-parent-container .w3a--bg-app-blue-100{background-color:var(--app-blue-100)}.w3a-parent-container .w3a--bg-app-gray-100{background-color:var(--app-gray-100)}.w3a-parent-container .w3a--bg-app-gray-200{background-color:var(--app-gray-200)}.w3a-parent-container .w3a--bg-app-gray-400{background-color:var(--app-gray-400)}.w3a-parent-container .w3a--bg-app-gray-50{background-color:var(--app-gray-50)}.w3a-parent-container .w3a--bg-app-gray-500{background-color:var(--app-gray-500)}.w3a-parent-container .w3a--bg-app-gray-800{background-color:var(--app-gray-800)}.w3a-parent-container .w3a--bg-app-green-100{background-color:var(--app-green-100)}.w3a-parent-container .w3a--bg-app-light-surface1{background-color:var(--app-white)}.w3a-parent-container .w3a--bg-app-primary-100{background-color:var(--app-primary-100)}.w3a-parent-container .w3a--bg-app-red-100{background-color:var(--app-red-100)}.w3a-parent-container .w3a--bg-app-white{background-color:var(--app-white)}.w3a-parent-container .w3a--bg-app-yellow-100{background-color:var(--app-yellow-100)}.w3a-parent-container .w3a--bg-transparent{background-color:initial}.w3a-parent-container .w3a--object-contain{object-fit:contain}.w3a-parent-container .w3a--p-0{padding:0}.w3a-parent-container .w3a--p-2{padding:.5rem}.w3a-parent-container .w3a--p-3{padding:.75rem}.w3a-parent-container .w3a--p-4{padding:1rem}.w3a-parent-container .w3a--p-6{padding:1.5rem}.w3a-parent-container .w3a--px-2{padding-left:.5rem;padding-right:.5rem}.w3a-parent-container .w3a--px-2\\.5{padding-left:.625rem;padding-right:.625rem}.w3a-parent-container .w3a--px-4{padding-left:1rem;padding-right:1rem}.w3a-parent-container .w3a--px-5{padding-left:1.25rem;padding-right:1.25rem}.w3a-parent-container .w3a--px-\\[6px\\]{padding-left:6px;padding-right:6px}.w3a-parent-container .w3a--py-0\\.5{padding-bottom:.125rem;padding-top:.125rem}.w3a-parent-container .w3a--py-1{padding-bottom:.25rem;padding-top:.25rem}.w3a-parent-container .w3a--py-2{padding-bottom:.5rem;padding-top:.5rem}.w3a-parent-container .w3a--py-2\\.5{padding-bottom:.625rem;padding-top:.625rem}.w3a-parent-container .w3a--py-3{padding-bottom:.75rem;padding-top:.75rem}.w3a-parent-container .w3a--py-6{padding-bottom:1.5rem;padding-top:1.5rem}.w3a-parent-container .w3a--py-\\[3px\\]{padding-bottom:3px;padding-top:3px}.w3a-parent-container .w3a--pl-2{padding-left:.5rem}.w3a-parent-container .w3a--pl-6{padding-left:1.5rem}.w3a-parent-container .w3a--pr-1\\.5{padding-right:.375rem}.w3a-parent-container .w3a--pr-2\\.5{padding-right:.625rem}.w3a-parent-container .w3a--pr-3{padding-right:.75rem}.w3a-parent-container .w3a--pt-5{padding-top:1.25rem}.w3a-parent-container .w3a--pt-6{padding-top:1.5rem}.w3a-parent-container .w3a--text-left{text-align:left}.w3a-parent-container .w3a--text-center{text-align:center}.w3a-parent-container .w3a--text-start{text-align:start}.w3a-parent-container .w3a--text-3xl{font-size:1.875rem;line-height:2.25rem}.w3a-parent-container .w3a--text-base{font-size:1rem;line-height:1.5rem}.w3a-parent-container .w3a--text-lg{font-size:1.125rem;line-height:1.75rem}.w3a-parent-container .w3a--text-sm{font-size:.875rem;line-height:1.25rem}.w3a-parent-container .w3a--text-xl{font-size:1.25rem;line-height:1.75rem}.w3a-parent-container .w3a--text-xs{font-size:.75rem;line-height:1rem}.w3a-parent-container .w3a--font-bold{font-weight:700}.w3a-parent-container .w3a--font-medium{font-weight:500}.w3a-parent-container .w3a--font-normal{font-weight:400}.w3a-parent-container .w3a--font-semibold{font-weight:600}.w3a-parent-container .w3a--uppercase{text-transform:uppercase}.w3a-parent-container .w3a--text-app-blue-900{color:var(--app-blue-900)}.w3a-parent-container .w3a--text-app-gray-100{color:var(--app-gray-100)}.w3a-parent-container .w3a--text-app-gray-400{color:var(--app-gray-400)}.w3a-parent-container .w3a--text-app-gray-500{color:var(--app-gray-500)}.w3a-parent-container .w3a--text-app-gray-700{color:var(--app-gray-700)}.w3a-parent-container .w3a--text-app-gray-900{color:var(--app-gray-900)}.w3a-parent-container .w3a--text-app-green-400{color:var(--app-green-400)}.w3a-parent-container .w3a--text-app-green-500{color:var(--app-green-500)}.w3a-parent-container .w3a--text-app-green-900{color:var(--app-green-900)}.w3a-parent-container .w3a--text-app-primary-600{color:var(--app-primary-600)}.w3a-parent-container .w3a--text-app-primary-800{color:var(--app-primary-800)}.w3a-parent-container .w3a--text-app-red-400{color:var(--app-red-400)}.w3a-parent-container .w3a--text-app-red-500{color:var(--app-red-500)}.w3a-parent-container .w3a--text-app-red-900{color:var(--app-red-900)}.w3a-parent-container .w3a--text-app-yellow-900{color:var(--app-yellow-900)}.w3a-parent-container .w3a--opacity-0{opacity:0}.w3a-parent-container .w3a--shadow-2xl{--tw-shadow:0 25px 50px -12px #00000040;--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color)}.w3a-parent-container .w3a--shadow-2xl,.w3a-parent-container .w3a--shadow-lg{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--shadow-lg{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color)}.w3a-parent-container .w3a--shadow-xl{--tw-shadow:0 20px 25px -5px #0000001a,0 8px 10px -6px #0000001a;--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--outline-none{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .w3a--transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--transition-opacity{transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--transition-transform{transition-duration:.15s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--delay-100{transition-delay:.1s}.w3a-parent-container .w3a--delay-300{transition-delay:.3s}.w3a-parent-container .w3a--delay-500{transition-delay:.5s}.w3a-parent-container .w3a--delay-700{transition-delay:.7s}.w3a-parent-container .w3a--duration-150{transition-duration:.15s}.w3a-parent-container .w3a--duration-300{transition-duration:.3s}.w3a-parent-container .w3a--duration-500{transition-duration:.5s}.w3a-parent-container .w3a--duration-\\[400ms\\]{transition-duration:.4s}.w3a-parent-container .w3a--ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.w3a-parent-container .w3a--bottom-sheet-bg{background-color:var(--app-gray-600);opacity:.5}.w3a-parent-container .w3a--connected-logo{color:var(--app-green-500);height:4rem;width:4rem}.w3a-parent-container .w3a--connected-logo:is(.w3a--dark *){color:var(--app-green-400)}.w3a-parent-container .w3a--error-logo{color:var(--app-red-500);height:4rem;width:4rem}.w3a-parent-container .w3a--error-logo:is(.w3a--dark *){color:var(--app-red-400)}.w3a-parent-container .w3a--btn{align-items:center;appearance:none;border-color:var(--app-gray-200);border-width:1px;color:var(--app-gray-700);column-gap:.5rem;display:flex;font-size:1rem;font-weight:400;justify-content:center;line-height:1.5rem;padding:.75rem 1.25rem;width:100%}.w3a-parent-container .w3a--btn:hover{--tw-translate-y:0.5px;--tw-shadow:0px 2px 8px 2px #e5e7eb;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);background-color:var(--app-gray-50);border-color:var(--app-gray-50);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--btn:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .w3a--btn:hover:is(.w3a--dark *){--tw-shadow:0px 2px 8px 2px #111928;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);background-color:var(--app-gray-800);border-color:var(--app-gray-800);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--input{align-items:center;border-color:var(--app-gray-200);border-width:1px;column-gap:.5rem;display:flex;justify-content:space-between;padding:.75rem 1.25rem;width:100%}.w3a-parent-container .w3a--input:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .first-letter\\:w3a--capitalize:first-letter{text-transform:capitalize}.w3a-parent-container .placeholder\\:w3a--text-xs::placeholder{font-size:.75rem;line-height:1rem}.w3a-parent-container .placeholder\\:w3a--text-app-gray-400::placeholder{color:var(--app-gray-400)}.w3a-parent-container .hover\\:w3a--translate-y-\\[0\\.5px\\]:hover{--tw-translate-y:0.5px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .hover\\:w3a--border-app-gray-50:hover{border-color:var(--app-gray-50)}.w3a-parent-container .hover\\:w3a--border-transparent:hover{border-color:#0000}.w3a-parent-container .hover\\:\\!w3a--bg-app-gray-100:hover{background-color:var(--app-gray-100)!important}.w3a-parent-container .hover\\:w3a--bg-app-gray-200:hover{background-color:var(--app-gray-200)}.w3a-parent-container .hover\\:w3a--text-app-gray-900:hover{color:var(--app-gray-900)}.w3a-parent-container .hover\\:w3a--shadow-light:hover{--tw-shadow:0px 2px 8px 2px #e5e7eb;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .focus\\:w3a--outline-none:focus{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .active\\:w3a--scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .active\\:w3a--outline-none:active{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--block{display:block}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--hidden{display:none}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-0{--tw-translate-x:0px}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-0,.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-6{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-6{--tw-translate-x:1.5rem}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--opacity-0{opacity:0}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--opacity-100{opacity:1}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--delay-0{transition-delay:0s}.w3a-parent-container .dark\\:w3a--block:is(.w3a--dark *){display:block}.w3a-parent-container .dark\\:w3a--hidden:is(.w3a--dark *){display:none}.w3a-parent-container .dark\\:w3a--border:is(.w3a--dark *){border-width:1px}.w3a-parent-container .dark\\:w3a--border-app-gray-500:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--border-app-gray-600:is(.w3a--dark *){border-color:var(--app-gray-600)}.w3a-parent-container .dark\\:w3a--border-app-gray-700:is(.w3a--dark *){border-color:var(--app-gray-700)}.w3a-parent-container .dark\\:w3a--border-app-gray-800:is(.w3a--dark *){border-color:var(--app-gray-800)}.w3a-parent-container .dark\\:w3a--border-app-green-500:is(.w3a--dark *){border-color:var(--app-green-500)}.w3a-parent-container .dark\\:w3a--border-app-primary-400:is(.w3a--dark *){border-color:var(--app-primary-400)}.w3a-parent-container .dark\\:w3a--border-app-primary-500:is(.w3a--dark *){border-color:var(--app-primary-500)}.w3a-parent-container .dark\\:w3a--border-app-red-500:is(.w3a--dark *){border-color:var(--app-red-500)}.w3a-parent-container .dark\\:w3a--bg-app-dark-surface-main:is(.w3a--dark *){background-color:var(--app-gray-900)}.w3a-parent-container .dark\\:w3a--bg-app-gray-200:is(.w3a--dark *){background-color:var(--app-gray-200)}.w3a-parent-container .dark\\:w3a--bg-app-gray-400:is(.w3a--dark *){background-color:var(--app-gray-400)}.w3a-parent-container .dark\\:w3a--bg-app-gray-500:is(.w3a--dark *){background-color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--bg-app-gray-600:is(.w3a--dark *){background-color:var(--app-gray-600)}.w3a-parent-container .dark\\:w3a--bg-app-gray-700:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container .dark\\:w3a--bg-app-gray-800:is(.w3a--dark *){background-color:var(--app-gray-800)}.w3a-parent-container .dark\\:w3a--bg-transparent:is(.w3a--dark *){background-color:initial}.w3a-parent-container .dark\\:w3a--text-app-gray-200:is(.w3a--dark *){color:var(--app-gray-200)}.w3a-parent-container .dark\\:w3a--text-app-gray-300:is(.w3a--dark *){color:var(--app-gray-300)}.w3a-parent-container .dark\\:w3a--text-app-gray-400:is(.w3a--dark *){color:var(--app-gray-400)}.w3a-parent-container .dark\\:w3a--text-app-gray-500:is(.w3a--dark *){color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--text-app-green-400:is(.w3a--dark *){color:var(--app-green-400)}.w3a-parent-container .dark\\:w3a--text-app-primary-400:is(.w3a--dark *){color:var(--app-primary-400)}.w3a-parent-container .dark\\:w3a--text-app-primary-500:is(.w3a--dark *){color:var(--app-primary-500)}.w3a-parent-container .dark\\:w3a--text-app-red-400:is(.w3a--dark *){color:var(--app-red-400)}.w3a-parent-container .dark\\:w3a--text-app-white:is(.w3a--dark *){color:var(--app-white)}.w3a-parent-container .dark\\:placeholder\\:w3a--text-app-gray-500:is(.w3a--dark *)::placeholder{color:var(--app-gray-500)}.w3a-parent-container .dark\\:hover\\:w3a--border-app-gray-800:hover:is(.w3a--dark *){border-color:var(--app-gray-800)}.w3a-parent-container .dark\\:hover\\:w3a--border-transparent:hover:is(.w3a--dark *){border-color:#0000}.w3a-parent-container .dark\\:hover\\:\\!w3a--bg-app-gray-800:hover:is(.w3a--dark *){background-color:var(--app-gray-800)!important}.w3a-parent-container .dark\\:hover\\:w3a--bg-app-gray-600:hover:is(.w3a--dark *){background-color:var(--app-gray-600)}.w3a-parent-container .dark\\:hover\\:w3a--bg-app-gray-700:hover:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container .dark\\:hover\\:w3a--text-app-white:hover:is(.w3a--dark *){color:var(--app-white)}.w3a-parent-container .dark\\:hover\\:w3a--shadow-dark:hover:is(.w3a--dark *){--tw-shadow:0px 2px 8px 2px #111928;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}@media (min-width:640px){.w3a-parent-container .sm\\:w3a--left-8{left:2rem}.w3a-parent-container .sm\\:w3a--right-8{right:2rem}.w3a-parent-container .sm\\:w3a--justify-start{justify-content:flex-start}.w3a-parent-container .sm\\:w3a--justify-end{justify-content:flex-end}.w3a-parent-container .sm\\:w3a--shadow-lg{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}}@media(min-width:375px){.w3a-parent-container .\\[\\@media\\(min-width\\:375px\\)\\]\\:w3a--w-\\[393px\\]{width:393px}}`;MQ(OQ);const RQ=t=>({ui_modal_login_methods_order:t==null?void 0:t.loginMethodsOrder,ui_modal_z_index:t==null?void 0:t.modalZIndex,ui_modal_display_errors_on_modal:t==null?void 0:t.displayErrorsOnModal,ui_modal_login_grid_col:t==null?void 0:t.loginGridCol,ui_modal_primary_button:t==null?void 0:t.primaryButton,ui_modal_widget_type:t==null?void 0:t.widgetType,ui_modal_target_id_used:!!(t!=null&&t.targetId),ui_modal_logo_alignment:t==null?void 0:t.logoAlignment,ui_modal_border_radius_type:t==null?void 0:t.borderRadiusType,ui_modal_button_radius_type:t==null?void 0:t.buttonRadiusType,ui_modal_sign_in_methods:t==null?void 0:t.signInMethods,ui_modal_add_previous_login_hint:t==null?void 0:t.addPreviousLoginHint,ui_modal_display_installed_external_wallets:t==null?void 0:t.displayInstalledExternalWallets,ui_modal_display_external_wallets_count:t==null?void 0:t.displayExternalWalletsCount}),Fc={LOGIN:"login",CONNECT_WALLET:"connect_wallet"},Il={CONNECT_WALLET:"Connect Your Wallet",SELECTED_WALLET:"Selected Wallet"},zN="https://images.web3auth.io/web3auth-logo-w.svg",qN="https://images.web3auth.io/web3auth-logo-w-light.svg",TQ="https://images.web3auth.io/login-wallet-connect.svg",PQ="#0364FF",NQ="#FFFFFF",LQ={app:{android:"io.metamask",chrome:"nkbihfbeogaeaoehlefnkodbefgpgknn",edge:"ejbalbakoplchlghecdalmeeeajnimhm",firefox:"ether-metamask",ios:"id1438144202"},chains:["eip155:1"],imgExtension:"webp",injected:[{injected_id:"isMetaMask",namespace:"eip155"}],mobile:{inAppBrowser:"https://metamask.app.link/dapp",native:"metamask://wc",universal:"https://metamask.app.link/wc"},name:"MetaMask",primaryColor:"#E2761B",walletConnect:{sdks:["sign_v1","sign_v2"]}};function HN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=HN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function DQ(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=HN(t))&&(r&&(r+=" "),r+=e);return r}const Z_="-",BQ=t=>{const e=$Q(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const s=a.split(Z_);return s[0]===""&&s.length!==1&&s.shift(),WN(s,e)||jQ(a)},getConflictingClassGroupIds:(a,s)=>{const l=n[a]||[];return s&&r[a]?[...l,...r[a]]:l}}},WN=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?WN(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(Z_);return(a=e.validators.find(({validator:s})=>s(o)))==null?void 0:a.classGroupId},LM=/^\[(.+)\]$/,jQ=t=>{if(LM.test(t)){const e=LM.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},$Q=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)WE(n[i],r,i,e);return r},WE=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:DM(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(FQ(i)){WE(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{WE(a,DM(e,o),n,r)})})},DM=(t,e)=>{let n=t;return e.split(Z_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},FQ=t=>t.isThemeGetter,UQ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,a)=>{n.set(o,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},KE="!",VE=":",zQ=VE.length,qQ=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const o=[];let a=0,s=0,l=0,c;for(let m=0;m<i.length;m++){let v=i[m];if(a===0&&s===0){if(v===VE){o.push(i.slice(l,m)),l=m+zQ;continue}if(v==="/"){c=m;continue}}v==="["?a++:v==="]"?a--:v==="("?s++:v===")"&&s--}const u=o.length===0?i:i.substring(l),f=HQ(u),p=f!==u,g=c&&c>l?c-l:void 0;return{modifiers:o,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:g}};if(e){const i=e+VE,o=r;r=a=>a.startsWith(i)?o(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},HQ=t=>t.endsWith(KE)?t.substring(0,t.length-1):t.startsWith(KE)?t.substring(1):t,WQ=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let o=[];return r.forEach(a=>{a[0]==="["||e[a]?(i.push(...o.sort(),a),o=[]):o.push(a)}),i.push(...o.sort()),i}},KQ=t=>({cache:UQ(t.cacheSize),parseClassName:qQ(t),sortModifiers:WQ(t),...BQ(t)}),VQ=/\s+/,GQ=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=e,a=[],s=t.trim().split(VQ);let l="";for(let c=s.length-1;c>=0;c-=1){const u=s[c],{isExternal:f,modifiers:p,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:v}=n(u);if(f){l=u+(l.length>0?" "+l:l);continue}let _=!!v,w=r(_?m.substring(0,v):m);if(!w){if(!_){l=u+(l.length>0?" "+l:l);continue}if(w=r(m),!w){l=u+(l.length>0?" "+l:l);continue}_=!1}const I=o(p).join(":"),k=g?I+KE:I,$=k+w;if(a.includes($))continue;a.push($);const L=i(w,_);for(let z=0;z<L.length;++z){const H=L[z];a.push(k+H)}l=u+(l.length>0?" "+l:l)}return l};function YQ(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=KN(e))&&(r&&(r+=" "),r+=n);return r}const KN=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=KN(t[r]))&&(n&&(n+=" "),n+=e);return n};function JQ(t,...e){let n,r,i,o=a;function a(l){const c=e.reduce((u,f)=>f(u),t());return n=KQ(c),r=n.cache.get,i=n.cache.set,o=s,s(l)}function s(l){const c=r(l);if(c)return c;const u=GQ(l,n);return i(l,u),u}return function(){return o(YQ.apply(null,arguments))}}const rr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},VN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,GN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ZQ=/^\d+\/\d+$/,QQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eX=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,tX=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nX=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ad=t=>ZQ.test(t),zt=t=>!!t&&!Number.isNaN(Number(t)),cl=t=>!!t&&Number.isInteger(Number(t)),m2=t=>t.endsWith("%")&&zt(t.slice(0,-1)),Xs=t=>QQ.test(t),rX=()=>!0,iX=t=>XQ.test(t)&&!eX.test(t),YN=()=>!1,oX=t=>tX.test(t),sX=t=>nX.test(t),aX=t=>!gt(t)&&!mt(t),lX=t=>of(t,QN,YN),gt=t=>VN.test(t),Dc=t=>of(t,XN,iX),v2=t=>of(t,hX,zt),BM=t=>of(t,JN,YN),cX=t=>of(t,ZN,sX),Wg=t=>of(t,eL,oX),mt=t=>GN.test(t),nh=t=>sf(t,XN),uX=t=>sf(t,pX),jM=t=>sf(t,JN),dX=t=>sf(t,QN),fX=t=>sf(t,ZN),Kg=t=>sf(t,eL,!0),of=(t,e,n)=>{const r=VN.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},sf=(t,e,n=!1)=>{const r=GN.exec(t);return r?r[1]?e(r[1]):n:!1},JN=t=>t==="position"||t==="percentage",ZN=t=>t==="image"||t==="url",QN=t=>t==="length"||t==="size"||t==="bg-size",XN=t=>t==="length",hX=t=>t==="number",pX=t=>t==="family-name",eL=t=>t==="shadow",gX=()=>{const t=rr("color"),e=rr("font"),n=rr("text"),r=rr("font-weight"),i=rr("tracking"),o=rr("leading"),a=rr("breakpoint"),s=rr("container"),l=rr("spacing"),c=rr("radius"),u=rr("shadow"),f=rr("inset-shadow"),p=rr("text-shadow"),g=rr("drop-shadow"),m=rr("blur"),v=rr("perspective"),_=rr("aspect"),w=rr("ease"),I=rr("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...$(),mt,gt],z=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto","contain","none"],P=()=>[mt,gt,l],D=()=>[ad,"full","auto",...P()],B=()=>[cl,"none","subgrid",mt,gt],O=()=>["auto",{span:["full",cl,mt,gt]},cl,mt,gt],y=()=>[cl,"auto",mt,gt],E=()=>["auto","min","max","fr",mt,gt],S=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],C=()=>["start","end","center","stretch","center-safe","end-safe"],T=()=>["auto",...P()],j=()=>[ad,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],A=()=>[t,mt,gt],M=()=>[...$(),jM,BM,{position:[mt,gt]}],x=()=>["no-repeat",{repeat:["","x","y","space","round"]}],R=()=>["auto","cover","contain",dX,lX,{size:[mt,gt]}],F=()=>[m2,nh,Dc],U=()=>["","none","full",c,mt,gt],K=()=>["",zt,nh,Dc],G=()=>["solid","dashed","dotted","double"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>[zt,m2,jM,BM],J=()=>["","none",m,mt,gt],Z=()=>["none",zt,mt,gt],ee=()=>["none",zt,mt,gt],ie=()=>[zt,mt,gt],se=()=>[ad,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Xs],breakpoint:[Xs],color:[rX],container:[Xs],"drop-shadow":[Xs],ease:["in","out","in-out"],font:[aX],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Xs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Xs],shadow:[Xs],spacing:["px",zt],text:[Xs],"text-shadow":[Xs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ad,gt,mt,_]}],container:["container"],columns:[{columns:[zt,gt,mt,s]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[cl,"auto",mt,gt]}],basis:[{basis:[ad,"full","auto",s,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[zt,ad,"auto","initial","none",gt]}],grow:[{grow:["",zt,mt,gt]}],shrink:[{shrink:["",zt,mt,gt]}],order:[{order:[cl,"first","last","none",mt,gt]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":y()}],"col-end":[{"col-end":y()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":y()}],"row-end":[{"row-end":y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":E()}],"auto-rows":[{"auto-rows":E()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...S(),"normal"]}],"justify-items":[{"justify-items":[...C(),"normal"]}],"justify-self":[{"justify-self":["auto",...C()]}],"align-content":[{content:["normal",...S()]}],"align-items":[{items:[...C(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...C(),{baseline:["","last"]}]}],"place-content":[{"place-content":S()}],"place-items":[{"place-items":[...C(),"baseline"]}],"place-self":[{"place-self":["auto",...C()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:T()}],mx:[{mx:T()}],my:[{my:T()}],ms:[{ms:T()}],me:[{me:T()}],mt:[{mt:T()}],mr:[{mr:T()}],mb:[{mb:T()}],ml:[{ml:T()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:j()}],w:[{w:[s,"screen",...j()]}],"min-w":[{"min-w":[s,"screen","none",...j()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[a]},...j()]}],h:[{h:["screen","lh",...j()]}],"min-h":[{"min-h":["screen","lh","none",...j()]}],"max-h":[{"max-h":["screen","lh",...j()]}],"font-size":[{text:["base",n,nh,Dc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,mt,v2]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",m2,gt]}],"font-family":[{font:[uX,gt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,mt,gt]}],"line-clamp":[{"line-clamp":[zt,"none",mt,v2]}],leading:[{leading:[o,...P()]}],"list-image":[{"list-image":["none",mt,gt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",mt,gt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:A()}],"text-color":[{text:A()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:[zt,"from-font","auto",mt,Dc]}],"text-decoration-color":[{decoration:A()}],"underline-offset":[{"underline-offset":[zt,"auto",mt,gt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",mt,gt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",mt,gt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:M()}],"bg-repeat":[{bg:x()}],"bg-size":[{bg:R()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},cl,mt,gt],radial:["",mt,gt],conic:[cl,mt,gt]},fX,cX]}],"bg-color":[{bg:A()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:A()}],"gradient-via":[{via:A()}],"gradient-to":[{to:A()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:K()}],"border-w-x":[{"border-x":K()}],"border-w-y":[{"border-y":K()}],"border-w-s":[{"border-s":K()}],"border-w-e":[{"border-e":K()}],"border-w-t":[{"border-t":K()}],"border-w-r":[{"border-r":K()}],"border-w-b":[{"border-b":K()}],"border-w-l":[{"border-l":K()}],"divide-x":[{"divide-x":K()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":K()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...G(),"hidden","none"]}],"divide-style":[{divide:[...G(),"hidden","none"]}],"border-color":[{border:A()}],"border-color-x":[{"border-x":A()}],"border-color-y":[{"border-y":A()}],"border-color-s":[{"border-s":A()}],"border-color-e":[{"border-e":A()}],"border-color-t":[{"border-t":A()}],"border-color-r":[{"border-r":A()}],"border-color-b":[{"border-b":A()}],"border-color-l":[{"border-l":A()}],"divide-color":[{divide:A()}],"outline-style":[{outline:[...G(),"none","hidden"]}],"outline-offset":[{"outline-offset":[zt,mt,gt]}],"outline-w":[{outline:["",zt,nh,Dc]}],"outline-color":[{outline:A()}],shadow:[{shadow:["","none",u,Kg,Wg]}],"shadow-color":[{shadow:A()}],"inset-shadow":[{"inset-shadow":["none",f,Kg,Wg]}],"inset-shadow-color":[{"inset-shadow":A()}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:A()}],"ring-offset-w":[{"ring-offset":[zt,Dc]}],"ring-offset-color":[{"ring-offset":A()}],"inset-ring-w":[{"inset-ring":K()}],"inset-ring-color":[{"inset-ring":A()}],"text-shadow":[{"text-shadow":["none",p,Kg,Wg]}],"text-shadow-color":[{"text-shadow":A()}],opacity:[{opacity:[zt,mt,gt]}],"mix-blend":[{"mix-blend":[...Q(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Q()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[zt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":ne()}],"mask-image-linear-from-color":[{"mask-linear-from":A()}],"mask-image-linear-to-color":[{"mask-linear-to":A()}],"mask-image-t-from-pos":[{"mask-t-from":ne()}],"mask-image-t-to-pos":[{"mask-t-to":ne()}],"mask-image-t-from-color":[{"mask-t-from":A()}],"mask-image-t-to-color":[{"mask-t-to":A()}],"mask-image-r-from-pos":[{"mask-r-from":ne()}],"mask-image-r-to-pos":[{"mask-r-to":ne()}],"mask-image-r-from-color":[{"mask-r-from":A()}],"mask-image-r-to-color":[{"mask-r-to":A()}],"mask-image-b-from-pos":[{"mask-b-from":ne()}],"mask-image-b-to-pos":[{"mask-b-to":ne()}],"mask-image-b-from-color":[{"mask-b-from":A()}],"mask-image-b-to-color":[{"mask-b-to":A()}],"mask-image-l-from-pos":[{"mask-l-from":ne()}],"mask-image-l-to-pos":[{"mask-l-to":ne()}],"mask-image-l-from-color":[{"mask-l-from":A()}],"mask-image-l-to-color":[{"mask-l-to":A()}],"mask-image-x-from-pos":[{"mask-x-from":ne()}],"mask-image-x-to-pos":[{"mask-x-to":ne()}],"mask-image-x-from-color":[{"mask-x-from":A()}],"mask-image-x-to-color":[{"mask-x-to":A()}],"mask-image-y-from-pos":[{"mask-y-from":ne()}],"mask-image-y-to-pos":[{"mask-y-to":ne()}],"mask-image-y-from-color":[{"mask-y-from":A()}],"mask-image-y-to-color":[{"mask-y-to":A()}],"mask-image-radial":[{"mask-radial":[mt,gt]}],"mask-image-radial-from-pos":[{"mask-radial-from":ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":ne()}],"mask-image-radial-from-color":[{"mask-radial-from":A()}],"mask-image-radial-to-color":[{"mask-radial-to":A()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[zt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":ne()}],"mask-image-conic-from-color":[{"mask-conic-from":A()}],"mask-image-conic-to-color":[{"mask-conic-to":A()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:M()}],"mask-repeat":[{mask:x()}],"mask-size":[{mask:R()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",mt,gt]}],filter:[{filter:["","none",mt,gt]}],blur:[{blur:J()}],brightness:[{brightness:[zt,mt,gt]}],contrast:[{contrast:[zt,mt,gt]}],"drop-shadow":[{"drop-shadow":["","none",g,Kg,Wg]}],"drop-shadow-color":[{"drop-shadow":A()}],grayscale:[{grayscale:["",zt,mt,gt]}],"hue-rotate":[{"hue-rotate":[zt,mt,gt]}],invert:[{invert:["",zt,mt,gt]}],saturate:[{saturate:[zt,mt,gt]}],sepia:[{sepia:["",zt,mt,gt]}],"backdrop-filter":[{"backdrop-filter":["","none",mt,gt]}],"backdrop-blur":[{"backdrop-blur":J()}],"backdrop-brightness":[{"backdrop-brightness":[zt,mt,gt]}],"backdrop-contrast":[{"backdrop-contrast":[zt,mt,gt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",zt,mt,gt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[zt,mt,gt]}],"backdrop-invert":[{"backdrop-invert":["",zt,mt,gt]}],"backdrop-opacity":[{"backdrop-opacity":[zt,mt,gt]}],"backdrop-saturate":[{"backdrop-saturate":[zt,mt,gt]}],"backdrop-sepia":[{"backdrop-sepia":["",zt,mt,gt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",mt,gt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[zt,"initial",mt,gt]}],ease:[{ease:["linear","initial",w,mt,gt]}],delay:[{delay:[zt,mt,gt]}],animate:[{animate:["none",I,mt,gt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,mt,gt]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:Z()}],"rotate-x":[{"rotate-x":Z()}],"rotate-y":[{"rotate-y":Z()}],"rotate-z":[{"rotate-z":Z()}],scale:[{scale:ee()}],"scale-x":[{"scale-x":ee()}],"scale-y":[{"scale-y":ee()}],"scale-z":[{"scale-z":ee()}],"scale-3d":["scale-3d"],skew:[{skew:ie()}],"skew-x":[{"skew-x":ie()}],"skew-y":[{"skew-y":ie()}],transform:[{transform:[mt,gt,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:se()}],"translate-x":[{"translate-x":se()}],"translate-y":[{"translate-y":se()}],"translate-z":[{"translate-z":se()}],"translate-none":["translate-none"],accent:[{accent:A()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:A()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",mt,gt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",mt,gt]}],fill:[{fill:["none",...A()]}],"stroke-w":[{stroke:[zt,nh,Dc,v2]}],stroke:[{stroke:["none",...A()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},mX=JQ(gX),y2=new Map;function Gt(...t){const e=JSON.stringify(t);if(y2.has(e))return y2.get(e);const n=mX(DQ(t));return y2.set(e,n),n}const vX=(t,e)=>{if(e!=null&&e.startsWith("https://"))return e;switch(t){case"chrome":return`https://chrome.google.com/webstore/detail/${e}`;case"firefox":return`https://addons.mozilla.org/firefox/addon/${e}`;case"edge":return`https://microsoftedge.microsoft.com/addons/detail/${e}`;default:return null}},yX=(t,e)=>{if(e!=null&&e.includes("https://"))return e;switch(t){case"android":return`https://play.google.com/store/apps/details?id=${e}`;case"ios":return`https://apps.apple.com/app/safepal-wallet/${e}`;default:return""}},wX=t=>{switch(t){case"ios":return"iOS";case"android":return"Android";default:return""}},bX=t=>t.charAt(0).toUpperCase()+t.slice(1),ki=t=>`https://images.web3auth.io/login-modal/${t}.svg`,tL="https://api.web3auth.io/passwordless-service",EX=async()=>{try{const t=await Ns(`${tL}/api/v3/user/location`);return t&&t.data.country?{country:t.data.country,dialCode:t.data.dial_code}:null}catch(t){return nt.error("error getting user country",t),null}},xX=async t=>{try{const e=await cu(`${tL}/api/v3/phone_number/validate`,{phone_number:t});return e&&e.success?e:{success:!1,parsed_number:"",country_flag:""}}catch(e){return nt.error("error validating phone number",e),e.status===400?{success:!1,parsed_number:"",country_flag:""}:{success:!1,parsed_number:"",country_flag:""}}},nL=t=>{let e=t;return e||(e=(typeof window<"u"&&(window.navigator.userLanguage||window.navigator.language)||"en-US").split("-")[0]),Object.prototype.hasOwnProperty.call(nU,e)?e:oo.en};function _X(t){const e=encodeURIComponent(t.uri);return t.link.startsWith("http")?`${t.link}/wc?uri=${e}`:t.link?`${t.link}wc?uri=${e}`:""}const SX=t=>{if(!t)return"passwordless.something-wrong-error";switch(t){case"E001":return"passwordless.error-invalid-params";case"E002":return"passwordless.error-invalid-origin";case"E201":return"passwordless.error-sending-sms-failed";case"E300":return"passwordless.error-no-mail-generated";case"E301":return"passwordless.error-invalid-link";case"E302":return"passwordless.error-new-link-generated-heading";case"E304":case"E403":return"passwordless.error-max-retry-limit-reached";case"E305":case"E401":return"passwordless.error-invalid-otp";case"E306":return"passwordless.error-otp-expired";case"E400":return"passwordless.error-no-sms-generated";case"E411":return"passwordless.error-plan-limit-reached";case"E412":return"passwordless.error-recaptcha-verification-failed";case"E502":return"passwordless.error-invalid-test-account";default:return"passwordless.something-wrong-error"}};function CX(t){const{open:e=!0,padding:n=!0,shadow:r=!0,border:i=!1,showCloseIcon:o=!1,onClose:a,children:s,borderRadius:l="large"}=t,[c,u]=fe.useState(!1);fe.useEffect(()=>{e?setTimeout(()=>{u(!0)},50):u(!1)},[e]);const f=()=>{a&&a()};return c?re.jsxs("div",{className:Gt("w3a--bg-app-light-surface1 dark:w3a--bg-app-dark-surface-main w3a--rounded-3xl w3a--w-[356px] [@media(min-width:375px)]:w3a--w-[393px] w3a--h-auto w3a--flex w3a--flex-col w3a--duration-500",{"w3a--translate-y-0 w3a--delay-100":c,"w3a--translate-y-[100vh]":!c,"w3a--p-4":n,"w3a--shadow-xl sm:w3a--shadow-lg":r,"w3a--border w3a--border-app-gray-100 dark:w3a--border-app-gray-800":i,"w3a--rounded-[30px]":l==="large","w3a--rounded-2xl":l==="medium","w3a--rounded-none":l==="small"}),children:[o&&re.jsx("div",{className:"w3a--absolute w3a--right-6 w3a--top-[30px] w3a--z-10 w3a--cursor-pointer",children:re.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:f,className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:re.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),s]}):null}function AX(t){const{children:e,open:n,onClose:r,placement:i="center",padding:o=!0,shadow:a=!0,border:s=!1,showCloseIcon:l=!0,borderRadius:c="large"}=t,[u,f]=fe.useState(!1);fe.useEffect(()=>{n?(document.body.style.overflow="hidden",setTimeout(()=>{f(!0)},50)):(f(!1),document.body.style.overflow="")},[n]);const p=fe.useMemo(()=>({center:"w3a--top-0 w3a--left-0 w3a--items-center w3a--justify-center","top-center":"w3a--top-8 w3a--left-0 w3a--items-start w3a--justify-center","bottom-center":"w3a--bottom-8 w3a--left-0 w3a--items-end w3a--justify-center",left:"sm:w3a--left-8 w3a--flex w3a--items-center w3a--justify-center sm:w3a--justify-start",right:"sm:w3a--right-8 w3a--flex w3a--items-center w3a--justify-center sm:w3a--justify-end"}),[]),g=fe.useMemo(()=>p[i],[i,p]),m=()=>{r&&r()};return re.jsx("div",{className:Gt("w3a--fixed w3a--z-50 w3a--overflow-hidden w3a--flex w3a--transition-all",g,{"w3a--w-screen w3a--h-screen":u,"w3a--w-0 w3a--h-0 w3a--delay-500":!u}),children:re.jsxs("div",{className:Gt("w3a--bg-app-light-surface1 dark:w3a--bg-app-dark-surface-main w3a--w-[356px] [@media(min-width:375px)]:w3a--w-[393px] w3a--h-auto w3a--flex w3a--flex-col w3a--duration-500",{"w3a--translate-y-0 w3a--delay-100":u,"w3a--translate-y-[100vh]":!u,"w3a--p-4":o,"w3a--shadow-xl sm:w3a--shadow-lg":a,"w3a--border w3a--border-app-gray-100 dark:w3a--border-app-gray-800":s,"w3a--rounded-[30px]":c==="large","w3a--rounded-2xl":c==="medium","w3a--rounded-none":c==="small"}),children:[l&&re.jsx("div",{className:"w3a--absolute w3a--right-6 w3a--top-[30px] w3a--z-10 w3a--cursor-pointer",children:re.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:m,className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:re.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),e]})})}const IX=(t,e,n,r)=>{var o,a,s,l;const i=[n,{code:e,...r||{}}];if((a=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&a.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);au(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(s=t==null?void 0:t.services)==null?void 0:s.logger)!=null&&l.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},$M={},GE=(t,e,n,r)=>{au(n)&&$M[n]||(au(n)&&($M[n]=new Date),IX(t,e,n,r))},rL=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},YE=(t,e,n)=>{t.loadNamespaces(e,rL(t,n))},FM=(t,e,n,r)=>{if(au(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return YE(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,rL(t,r))},kX=(t,e,n={})=>!e.languages||!e.languages.length?(GE(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),au=t=>typeof t=="string",MX=t=>typeof t=="object"&&t!==null,OX=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,RX={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},TX=t=>RX[t],PX=t=>t.replace(OX,TX);let JE={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:PX};const NX=(t={})=>{JE={...JE,...t}},LX=()=>JE;let iL;const DX=t=>{iL=t},BX=()=>iL,jX={type:"3rdParty",init(t){NX(t.options.react),DX(t)}},$X=fe.createContext();class FX{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const UX=(t,e)=>{const n=fe.useRef();return fe.useEffect(()=>{n.current=t},[t,e]),n.current},oL=(t,e,n,r)=>t.getFixedT(e,n,r),zX=(t,e,n,r)=>fe.useCallback(oL(t,e,n,r),[t,e,n,r]),oi=(t,e={})=>{var $,L,z,H;const{i18n:n}=e,{i18n:r,defaultNS:i}=fe.useContext($X)||{},o=n||r||BX();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new FX),!o){GE(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const P=(B,O)=>au(O)?O:MX(O)&&au(O.defaultValue)?O.defaultValue:Array.isArray(B)?B[B.length-1]:B,D=[P,{},!1];return D.t=P,D.i18n={},D.ready=!1,D}($=o.options.react)!=null&&$.wait&&GE(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...LX(),...o.options.react,...e},{useSuspense:s,keyPrefix:l}=a;let c=i||((L=o.options)==null?void 0:L.defaultNS);c=au(c)?[c]:c||["translation"],(H=(z=o.reportNamespaces).addUsedNamespaces)==null||H.call(z,c);const u=(o.isInitialized||o.initializedStoreOnce)&&c.every(P=>kX(P,o,a)),f=zX(o,e.lng||null,a.nsMode==="fallback"?c:c[0],l),p=()=>f,g=()=>oL(o,e.lng||null,a.nsMode==="fallback"?c:c[0],l),[m,v]=fe.useState(p);let _=c.join();e.lng&&(_=`${e.lng}${_}`);const w=UX(_),I=fe.useRef(!0);fe.useEffect(()=>{const{bindI18n:P,bindI18nStore:D}=a;I.current=!0,!u&&!s&&(e.lng?FM(o,e.lng,c,()=>{I.current&&v(g)}):YE(o,c,()=>{I.current&&v(g)})),u&&w&&w!==_&&I.current&&v(g);const B=()=>{I.current&&v(g)};return P&&(o==null||o.on(P,B)),D&&(o==null||o.store.on(D,B)),()=>{I.current=!1,o&&P&&(P==null||P.split(" ").forEach(O=>o.off(O,B))),D&&o&&D.split(" ").forEach(O=>o.store.off(O,B))}},[o,_]),fe.useEffect(()=>{I.current&&u&&v(p)},[o,l,u]);const k=[m,o,u];if(k.t=m,k.i18n=o,k.ready=u,u||!u&&!s)return k;throw new Promise(P=>{e.lng?FM(o,e.lng,c,()=>P()):YE(o,c,()=>P())})},$p=fe.createContext({bodyState:{metamaskQrCode:{show:!1,wallet:null},installLinks:{show:!1,wallet:null},multiChainSelector:{show:!1,wallet:null}},toast:{message:"",type:bv.SUCCESS},setBodyState:()=>{},setToast:()=>{}}),hy=fe.createContext({isDark:!0}),Nt=t=>typeof t=="string",rh=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},UM=t=>t==null?"":""+t,qX=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},HX=/###/g,zM=t=>t&&t.indexOf("###")>-1?t.replace(HX,"."):t,qM=t=>!t||Nt(t),Ih=(t,e,n)=>{const r=Nt(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(qM(t))return{};const o=zM(r[i]);!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++i}return qM(t)?{}:{obj:t,k:zM(r[i])}},HM=(t,e,n)=>{const{obj:r,k:i}=Ih(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let o=e[e.length-1],a=e.slice(0,e.length-1),s=Ih(t,a,Object);for(;s.obj===void 0&&a.length;)o=`${a[a.length-1]}.${o}`,a=a.slice(0,a.length-1),s=Ih(t,a,Object),s!=null&&s.obj&&typeof s.obj[`${s.k}.${o}`]<"u"&&(s.obj=void 0);s.obj[`${s.k}.${o}`]=n},WX=(t,e,n,r)=>{const{obj:i,k:o}=Ih(t,e,Object);i[o]=i[o]||[],i[o].push(n)},Ev=(t,e)=>{const{obj:n,k:r}=Ih(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},KX=(t,e,n)=>{const r=Ev(t,n);return r!==void 0?r:Ev(e,n)},sL=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?Nt(t[r])||t[r]instanceof String||Nt(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):sL(t[r],e[r],n):t[r]=e[r]);return t},ld=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var VX={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const GX=t=>Nt(t)?t.replace(/[&<>"'\/]/g,e=>VX[e]):t;class YX{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const JX=[" ",",","?","!",";"],ZX=new YX(20),QX=(t,e,n)=>{e=e||"",n=n||"";const r=JX.filter(a=>e.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const i=ZX.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let o=!i.test(t);if(!o){const a=t.indexOf(n);a>0&&!i.test(t.substring(0,a))&&(o=!0)}return o},ZE=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let a,s="";for(let l=o;l<r.length;++l)if(l!==o&&(s+=n),s+=r[l],a=i[s],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<r.length-1)continue;o+=l-o+1;break}i=a}return i},yp=t=>t==null?void 0:t.replace("_","-"),XX={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class xv{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||XX,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(Nt(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new xv(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new xv(this.logger,e)}}var As=new xv;class py{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,o])=>{for(let a=0;a<o;a++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,o])=>{for(let a=0;a<o;a++)i.apply(i,[e,...n])})}}class WM extends py{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var c,u;const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;e.indexOf(".")>-1?s=e.split("."):(s=[e,n],r&&(Array.isArray(r)?s.push(...r):Nt(r)&&o?s.push(...r.split(o)):s.push(r)));const l=Ev(this.data,s);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=s[0],n=s[1],r=s.slice(2).join(".")),l||!a||!Nt(r)?l:ZE((u=(c=this.data)==null?void 0:c[e])==null?void 0:u[n],r,o)}addResource(e,n,r,i,o={silent:!1}){const a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let s=[e,n];r&&(s=s.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(s=e.split("."),i=n,n=s[1]),this.addNamespaces(n),HM(this.data,s,i),o.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const o in r)(Nt(r[o])||Array.isArray(r[o]))&&this.addResource(e,n,o,r[o],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,o,a={silent:!1,skipCopy:!1}){let s=[e,n];e.indexOf(".")>-1&&(s=e.split("."),i=r,r=n,n=s[1]),this.addNamespaces(n);let l=Ev(this.data,s)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?sL(l,r,o):l={...l,...r},HM(this.data,s,l),a.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var aL={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(o=>{var a;e=((a=this.processors[o])==null?void 0:a.process(e,n,r,i))??e}),e}};const KM={},VM=t=>!Nt(t)&&typeof t!="boolean"&&typeof t!="number";class _v extends py{constructor(e,n={}){super(),qX(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=As.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,s=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!QX(e,r,i);if(a&&!s){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:Nt(o)?[o]:o};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(o=c.shift()),e=c.join(i)}return{key:e,namespaces:Nt(o)?[o]:o}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:s,namespaces:l}=this.extractFromKey(e[e.length-1],i),c=l[l.length-1];let u=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const f=i.lng||this.language,p=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return p?o?{res:`${c}${u}${s}`,usedKey:s,exactUsedKey:s,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${u}${s}`:o?{res:s,usedKey:s,exactUsedKey:s,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:s;const g=this.resolve(e,i);let m=g==null?void 0:g.res;const v=(g==null?void 0:g.usedKey)||s,_=(g==null?void 0:g.exactUsedKey)||s,w=["[object Number]","[object Function]","[object RegExp]"],I=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject,$=i.count!==void 0&&!Nt(i.count),L=_v.hasDefaultValue(i),z=$?this.pluralResolver.getSuffix(f,i.count,i):"",H=i.ordinal&&$?this.pluralResolver.getSuffix(f,i.count,{ordinal:!1}):"",P=$&&!i.ordinal&&i.count===0,D=P&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${z}`]||i[`defaultValue${H}`]||i.defaultValue;let B=m;k&&!m&&L&&(B=D);const O=VM(B),y=Object.prototype.toString.apply(B);if(k&&B&&O&&w.indexOf(y)<0&&!(Nt(I)&&Array.isArray(B))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const E=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,B,{...i,ns:l}):`key '${s} (${this.language})' returned an object instead of string.`;return o?(g.res=E,g.usedParams=this.getUsedParamsDetails(i),g):E}if(a){const E=Array.isArray(B),S=E?[]:{},C=E?_:v;for(const T in B)if(Object.prototype.hasOwnProperty.call(B,T)){const j=`${C}${a}${T}`;L&&!m?S[T]=this.translate(j,{...i,defaultValue:VM(D)?D[T]:void 0,joinArrays:!1,ns:l}):S[T]=this.translate(j,{...i,joinArrays:!1,ns:l}),S[T]===j&&(S[T]=B[T])}m=S}}else if(k&&Nt(I)&&Array.isArray(m))m=m.join(I),m&&(m=this.extendTranslation(m,e,i,r));else{let E=!1,S=!1;!this.isValidLookup(m)&&L&&(E=!0,m=D),this.isValidLookup(m)||(S=!0,m=s);const T=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&S?void 0:m,j=L&&D!==m&&this.options.updateMissing;if(S||E||j){if(this.logger.log(j?"updateKey":"missingKey",f,c,s,j?D:m),a){const R=this.resolve(s,{...i,keySeparator:!1});R&&R.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let A=[];const M=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&M&&M[0])for(let R=0;R<M.length;R++)A.push(M[R]);else this.options.saveMissingTo==="all"?A=this.languageUtils.toResolveHierarchy(i.lng||this.language):A.push(i.lng||this.language);const x=(R,F,U)=>{var G;const K=L&&U!==m?U:T;this.options.missingKeyHandler?this.options.missingKeyHandler(R,c,F,K,j,i):(G=this.backendConnector)!=null&&G.saveMissing&&this.backendConnector.saveMissing(R,c,F,K,j,i),this.emit("missingKey",R,c,F,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&$?A.forEach(R=>{const F=this.pluralResolver.getSuffixes(R,i);P&&i[`defaultValue${this.options.pluralSeparator}zero`]&&F.indexOf(`${this.options.pluralSeparator}zero`)<0&&F.push(`${this.options.pluralSeparator}zero`),F.forEach(U=>{x([R],s+U,i[`defaultValue${U}`]||D)})}):x(A,s,D))}m=this.extendTranslation(m,e,i,g,r),S&&m===s&&this.options.appendNamespaceToMissingKey&&(m=`${c}${u}${s}`),(S||E)&&this.options.parseMissingKeyHandler&&(m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${u}${s}`:s,E?m:void 0,i))}return o?(g.res=m,g.usedParams=this.getUsedParamsDetails(i),g):m}extendTranslation(e,n,r,i,o){var l,c;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=Nt(e)&&(((c=r==null?void 0:r.interpolation)==null?void 0:c.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(u){const g=e.match(this.interpolator.nestingRegexp);f=g&&g.length}let p=r.replace&&!Nt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,r.lng||this.language||i.usedLng,r),u){const g=e.match(this.interpolator.nestingRegexp),m=g&&g.length;f<m&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...g)=>(o==null?void 0:o[0])===g[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null):this.translate(...g,n),r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,s=Nt(a)?[a]:a;return e!=null&&(s!=null&&s.length)&&r.applyPostProcessor!==!1&&(e=aL.handle(s,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,o,a,s;return Nt(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),u=c.key;i=u;let f=c.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const p=n.count!==void 0&&!Nt(n.count),g=p&&!n.ordinal&&n.count===0,m=n.context!==void 0&&(Nt(n.context)||typeof n.context=="number")&&n.context!=="",v=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(_=>{var w,I;this.isValidLookup(r)||(s=_,!KM[`${v[0]}-${_}`]&&((w=this.utils)!=null&&w.hasLoadedNamespace)&&!((I=this.utils)!=null&&I.hasLoadedNamespace(s))&&(KM[`${v[0]}-${_}`]=!0,this.logger.warn(`key "${i}" for languages "${v.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(k=>{var z;if(this.isValidLookup(r))return;a=k;const $=[u];if((z=this.i18nFormat)!=null&&z.addLookupKeys)this.i18nFormat.addLookupKeys($,u,k,_,n);else{let H;p&&(H=this.pluralResolver.getSuffix(k,n.count,n));const P=`${this.options.pluralSeparator}zero`,D=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&($.push(u+H),n.ordinal&&H.indexOf(D)===0&&$.push(u+H.replace(D,this.options.pluralSeparator)),g&&$.push(u+P)),m){const B=`${u}${this.options.contextSeparator}${n.context}`;$.push(B),p&&($.push(B+H),n.ordinal&&H.indexOf(D)===0&&$.push(B+H.replace(D,this.options.pluralSeparator)),g&&$.push(B+P))}}let L;for(;L=$.pop();)this.isValidLookup(r)||(o=L,r=this.getResource(k,_,L,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:a,usedNS:s}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var o;return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Nt(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const o of n)delete i[o]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class GM{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=As.create("languageUtils")}getScriptPartFromCode(e){if(e=yp(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=yp(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Nt(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(a=>{if(a===o)return a;if(!(a.indexOf("-")<0&&o.indexOf("-")<0)&&(a.indexOf("-")>0&&o.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===o||a.indexOf(o)===0&&o.length>1))return a})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Nt(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],o=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return Nt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):Nt(e)&&o(this.formatLanguageCode(e)),r.forEach(a=>{i.indexOf(a)<0&&o(this.formatLanguageCode(a))}),i}}const YM={zero:0,one:1,two:2,few:3,many:4,other:5},JM={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class eee{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=As.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=yp(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let a;try{a=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),JM;if(!e.match(/-|_/))return JM;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,n)}return this.pluralRulesCache[o]=a,a}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,o)=>YM[i]-YM[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const ZM=(t,e,n,r=".",i=!0)=>{let o=KX(t,e,n);return!o&&i&&Nt(n)&&(o=ZE(t,n,r),o===void 0&&(o=ZE(e,n,r))),o},w2=t=>t.replace(/\$/g,"$$$$");class tee{constructor(e={}){var n;this.logger=As.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:a,suffix:s,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:f,nestingPrefix:p,nestingPrefixEscaped:g,nestingSuffix:m,nestingSuffixEscaped:v,nestingOptionsSeparator:_,maxReplaces:w,alwaysFormat:I}=e.interpolation;this.escape=n!==void 0?n:GX,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?ld(o):a||"{{",this.suffix=s?ld(s):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=p?ld(p):g||ld("$t("),this.nestingSuffix=m?ld(m):v||ld(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=w||1e3,this.alwaysFormat=I!==void 0?I:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var g;let o,a,s;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=m=>{if(m.indexOf(this.formatSeparator)<0){const I=ZM(n,l,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(I,void 0,r,{...i,...n,interpolationkey:m}):I}const v=m.split(this.formatSeparator),_=v.shift().trim(),w=v.join(this.formatSeparator).trim();return this.format(ZM(n,l,_,this.options.keySeparator,this.options.ignoreJSONStructure),w,r,{...i,...n,interpolationkey:_})};this.resetRegExp();const u=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((g=i==null?void 0:i.interpolation)==null?void 0:g.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>w2(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?w2(this.escape(m)):w2(m)}].forEach(m=>{for(s=0;o=m.regex.exec(e);){const v=o[1].trim();if(a=c(v),a===void 0)if(typeof u=="function"){const w=u(e,o,i);a=Nt(w)?w:""}else if(i&&Object.prototype.hasOwnProperty.call(i,v))a="";else if(f){a=o[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${e}`),a="";else!Nt(a)&&!this.useRawValueToEscape&&(a=UM(a));const _=m.safeValue(a);if(e=e.replace(o[0],_),f?(m.regex.lastIndex+=a.length,m.regex.lastIndex-=o[0].length):m.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,o,a;const s=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const f=l.split(new RegExp(`${u}[ ]*{`));let p=`{${f[1]}`;l=f[0],p=this.interpolate(p,a);const g=p.match(/'/g),m=p.match(/"/g);(((g==null?void 0:g.length)??0)%2===0&&!m||m.length%2!==0)&&(p=p.replace(/'/g,'"'));try{a=JSON.parse(p),c&&(a={...c,...a})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,v),`${l}${u}${p}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];a={...r},a=a.replace&&!Nt(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const c=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(c!==-1&&(l=i[1].slice(c).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),i[1]=i[1].slice(0,c)),o=n(s.call(this,i[1].trim(),a),a),o&&i[0]===e&&!Nt(o))return o;Nt(o)||(o=UM(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),o=""),l.length&&(o=l.reduce((u,f)=>this.format(u,f,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),e=e.replace(i[0],o),this.regexp.lastIndex=0}return e}}const nee=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(a=>{if(a){const[s,...l]=a.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=s.trim();n[u]||(n[u]=c),c==="false"&&(n[u]=!1),c==="true"&&(n[u]=!0),isNaN(c)||(n[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},QM=t=>{const e={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const a=r+JSON.stringify(o);let s=e[a];return s||(s=t(yp(r),i),e[a]=s),s(n)}},ree=t=>(e,n,r)=>t(yp(n),r)(e);class iee{constructor(e={}){this.logger=As.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?QM:ree;this.formats={number:r((i,o)=>{const a=new Intl.NumberFormat(i,{...o});return s=>a.format(s)}),currency:r((i,o)=>{const a=new Intl.NumberFormat(i,{...o,style:"currency"});return s=>a.format(s)}),datetime:r((i,o)=>{const a=new Intl.DateTimeFormat(i,{...o});return s=>a.format(s)}),relativetime:r((i,o)=>{const a=new Intl.RelativeTimeFormat(i,{...o});return s=>a.format(s,o.range||"day")}),list:r((i,o)=>{const a=new Intl.ListFormat(i,{...o});return s=>a.format(s)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=QM(n)}format(e,n,r,i={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(s=>s.indexOf(")")>-1)){const s=o.findIndex(l=>l.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,s)].join(this.formatSeparator)}return o.reduce((s,l)=>{var f;const{formatName:c,formatOptions:u}=nee(l);if(this.formats[c]){let p=s;try{const g=((f=i==null?void 0:i.formatParams)==null?void 0:f[i.interpolationkey])||{},m=g.locale||g.lng||i.locale||i.lng||r;p=this.formats[c](s,m,{...u,...i,...g})}catch(g){this.logger.warn(g)}return p}else this.logger.warn(`there was no format function for ${c}`);return s},e)}}const oee=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class see extends py{constructor(e,n,r,i={}){var o,a;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=As.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(a=(o=this.backend)==null?void 0:o.init)==null||a.call(o,r,i.backend,i)}queueLoad(e,n,r,i){const o={},a={},s={},l={};return e.forEach(c=>{let u=!0;n.forEach(f=>{const p=`${c}|${f}`;!r.reload&&this.store.hasResourceBundle(c,f)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?a[p]===void 0&&(a[p]=!0):(this.state[p]=1,u=!1,a[p]===void 0&&(a[p]=!0),o[p]===void 0&&(o[p]=!0),l[f]===void 0&&(l[f]=!0)))}),u||(s[c]=!0)}),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),o=i[0],a=i[1];n&&this.emit("failedLoading",o,a,n),!n&&r&&this.store.addResourceBundle(o,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const s={};this.queue.forEach(l=>{WX(l.loaded,[o],a),oee(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{s[c]||(s[c]={});const u=l.loaded[c];u.length&&u.forEach(f=>{s[c][f]===void 0&&(s[c][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,i=0,o=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:o,callback:a});return}this.readingCalls++;const s=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,o*2,a)},o);return}a(c,u)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(u=>s(null,u)).catch(s):s(null,c)}catch(c){s(c)}return}return l(e,n,s)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Nt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Nt(n)&&(n=[n]);const o=this.queueLoad(e,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(a=>{this.loadOne(a)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(a,s)=>{a&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,a),!a&&s&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,s),this.loaded(e,a,s)})}saveMissing(e,n,r,i,o,a={},s=()=>{}){var l,c,u,f,p;if((c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace&&!((f=(u=this.services)==null?void 0:u.utils)!=null&&f.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((p=this.backend)!=null&&p.create){const g={...a,isUpdate:o},m=this.backend.create.bind(this.backend);if(m.length<6)try{let v;m.length===5?v=m(e,n,r,i,g):v=m(e,n,r,i),v&&typeof v.then=="function"?v.then(_=>s(null,_)).catch(s):s(null,v)}catch(v){s(v)}else m(e,n,r,i,s,g)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const XM=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Nt(t[1])&&(e.defaultValue=t[1]),Nt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),eO=t=>{var e,n;return Nt(t.ns)&&(t.ns=[t.ns]),Nt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Nt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Vg=()=>{},aee=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class wp extends py{constructor(e={},n){if(super(),this.options=eO(e),this.services={},this.logger=As,this.modules={external:[]},aee(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Nt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=XM();this.options={...r,...this.options,...eO(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?As.init(i(this.modules.logger),this.options):As.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=iee;const u=new GM(this.options);this.store=new WM(this.options.resources,this.options);const f=this.services;f.logger=As,f.resourceStore=this.store,f.languageUtils=u,f.pluralResolver=new eee(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(f.formatter=i(c),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new tee(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new see(i(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(g,...m)=>{this.emit(g,...m)}),this.modules.languageDetector&&(f.languageDetector=i(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=i(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new _v(this.services,this.options),this.translator.on("*",(g,...m)=>{this.emit(g,...m)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Vg),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...u)=>this.store[c](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...u)=>(this.store[c](...u),this)});const s=rh(),l=()=>{const c=(u,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(f),n(u,f)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),s}loadResources(e,n=Vg){var o,a;let r=n;const i=Nt(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const s=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(f=>{f!=="cimode"&&s.indexOf(f)<0&&s.push(f)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>l(u)),(a=(o=this.options.preload)==null?void 0:o.forEach)==null||a.call(o,c=>l(c)),this.services.backendConnector.load(s,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,n,r){const i=rh();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Vg),this.services.backendConnector.reload(e,n,o=>{i.resolve(),r(o)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&aL.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=rh();this.emit("languageChanging",e);const i=s=>{this.language=s,this.languages=this.services.languageUtils.toResolveHierarchy(s),this.resolvedLanguage=void 0,this.setResolvedLanguage(s)},o=(s,l)=>{l?this.isLanguageChangingTo===e&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...c)=>this.t(...c)),n&&n(s,(...c)=>this.t(...c))},a=s=>{var u,f;!e&&!s&&this.services.languageDetector&&(s=[]);const l=Nt(s)?s:s&&s[0],c=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(Nt(s)?[s]:s);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),(f=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||f.call(u,c)),this.loadResources(c,p=>{o(p,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,n,r){const i=(o,a,...s)=>{let l;typeof a!="object"?l=this.options.overloadTranslationOptionHandler([o,a].concat(s)):l={...a},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const c=this.options.keySeparator||".";let u;return l.keyPrefix&&Array.isArray(o)?u=o.map(f=>`${l.keyPrefix}${c}${f}`):u=l.keyPrefix?`${l.keyPrefix}${c}${o}`:o,this.t(u,l)};return Nt(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(s,l)=>{const c=this.services.backendConnector.state[`${s}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const s=n.precheck(this,a);if(s!==void 0)return s}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!i||a(o,e)))}loadNamespaces(e,n){const r=rh();return this.options.ns?(Nt(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=rh();Nt(e)&&(e=[e]);const i=this.options.preload||[],o=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return o.length?(this.options.preload=i.concat(o),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(e){var i,o;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const s=a.getTextInfo();if(s&&s.direction)return s.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((o=this.services)==null?void 0:o.languageUtils)||new GM(XM());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new wp(e,n)}cloneInstance(e={},n=Vg){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},o=new wp(i);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(s=>{o[s]=this[s]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){const s=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},l[c]=Object.keys(l[c]).reduce((u,f)=>(u[f]={...l[c][f]},u),l[c]),l),{});o.store=new WM(s,i),o.services.resourceStore=o.store}return o.translator=new _v(o.services,i),o.translator.on("*",(s,...l)=>{o.emit(s,...l)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Hr=wp.createInstance();Hr.createInstance=wp.createInstance;Hr.createInstance;Hr.dir;Hr.init;Hr.loadResources;Hr.reloadResources;Hr.use;Hr.changeLanguage;Hr.getFixedT;Hr.t;Hr.exists;Hr.setDefaultNamespace;Hr.hasLoadedNamespace;Hr.loadNamespaces;Hr.loadLanguages;var lL={"adapter-loader.message":"Verify your {{adapter}} account to continue","adapter-loader.message1":"Verify your {{adapter}}","adapter-loader.message2":"account to continue",allChains:"All Chains","connect-wallet.more-wallets":"More Wallets",connectYourWallet:"Connect your wallet","errors-invalid-email":"Invalid Email","errors-invalid-number":"Invalid Phone Number","errors-invalid-number-email":"Invalid Email or Phone Number","errors-required":"Required","external.all-wallets":"All Wallets","external.back":"Back","external.connect":"Continue with a wallet","external.connect-wallet":"Connect Wallet","external.continue":"Continue with external wallet","external.continue-custom":"Continue with {{wallet}}","external.dont-have":"Don't have","external.get":"Get","external.get-wallet":"Get Wallet","external.install-browser-extension":"Install {{browser}} extension","external.install-mobile-app":"Install {{os}} app","external.installed":"Installed","external.no-wallets-found":"No wallets found","external.search-subtext":"Try search instead","external.search-text":"Don't see your wallet?","external.search-wallet":"Search through {{count}} wallets...","external.select-chain":"Select Chain","external.select-chain-description":"This {{wallet}} wallet supports multiple chains. Select which chain you'd like to connect to","external.title":"External Wallet","external.walletconnect-connect":"Connect","external.walletconnect-copy":"Scan the QR code with WalletConnect supported wallet or click to copy link","external.walletconnect-subtitle":"Scan the QR code with a WalletConnect-compatible wallet","footer.and":"and","footer.by-signing-in":"By signing in, you agree to our","footer.message":"Self-custodial login by","footer.message-new":"Self-custody via","footer.policy":"Privacy Policy","footer.privacy-policy":"Privacy Policy","footer.terms":"Terms of Use","footer.terms-of-service":"Terms of Service","footer.terms-service":"Terms of Service","footer.version":"Version",getWallet:"Get Wallet","header-subtitle":"Select one of the following options to continue","header-subtitle-name":"Your {{appName}} wallet with one click","header-subtitle-new":"Your blockchain wallet with one click","header-title":"Sign in","header-tooltip-desc":"The wallet serves as an account to store and manage your digital assets on the blockchain.","header-tooltip-title":"Wallet","network.add-request":"This site is requesting to add a network","network.cancel":"Cancel","network.from":"From","network.proceed":"Proceed","network.switch-request":"This site is requesting to switch networks","network.to":"To","otp.email-subtext":"Please enter the 6-digit verification code","otp.email-subtext-example":"that was sent to your email {{email}}","otp.email-title":"Email verification","otp.mobile-subtext":"Enter the OTP sent to","otp.mobile-title":"OTP verification","otp.success":"You are connected to your account!","passkey.add":"Add Passkey","passkey.haveExisting":"Have an existing passkey?","passkey.learn-more":"Learn more","passkey.or":"or","passkey.register-desc":"With passkeys, you can verify your identity through your face, fingerprint, or security keys.","passkey.register-title":"Register Passkey","passkey.use":"I have a passkey","passwordless.title":"Continue with {{title}}","popup.phone-body":"Your country code will be detected automatically, but if you're using a phone number from a different country, you'll need to enter the correct country code manually.","popup.phone-header":"Phone number and country code","post-loading.connected":"You are connected with your account","post-loading.something-wrong":"Something went wrong!",resendCode:"Resend Code",resendTimer:" Resend in {{timer}} seconds","social.continue":"Continue with","social.continueCustom":"Continue with {{adapter}}","social.email":"Email","social.email-continue":"Continue with Email","social.email-new":"name@example.com","social.passwordless-cta":"Continue","social.passwordless-login":"Login","social.passwordless-title":"Email/Phone","social.phone":"Phone","social.policy":"We do not store any data related to your social logins.","social.sign-in":"Sign in","social.sms":"Mobile","social.sms-continue":"Continue with Mobile","social.sms-invalid-number":"Invalid phone number","social.sms-placeholder-text":"E.g.:","social.view-less":"View less","social.view-less-socials":"View less socials","social.view-more":"View more","social.view-more-socials":"View more socials"},cL={"error-invalid-link":"Invalid verification link or link expired","error-invalid-origin":"Something went wrong, error code: E002","error-invalid-otp":"Invalid OTP, please try again","error-invalid-params":"Missing or Invalid Parameters.","error-max-retry-limit-reached":"You have reached the limit for wrong attempts. Please restart the flow again to complete verification.","error-new-link-generated-heading":"New verification link generated","error-no-mail-generated":"No mail generated. Please initiate the passwordless flow first.","error-no-sms-generated":"No OTP generated. Please initiate the passwordless flow first.","error-otp-expired":"OTP Expired","error-plan-limit-reached":"E411. Limit Reached","error-recaptcha-verification-failed":"Captcha verification failed. Please try again.","error-sending-sms-failed":"There was an error sending an sms. Please try again.","error-invalid-test-account":"Invalid test account","something-wrong-error":"Something went wrong"},uL={modal:lL,passwordless:cL};const lee=Object.freeze(Object.defineProperty({__proto__:null,default:uL,modal:lL,passwordless:cL},Symbol.toStringTag,{value:"Module"})),Yt=Hr.createInstance();Yt.use(jX).init({resources:{en:{translation:uL}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1},debug:!1,react:{useSuspense:!0}});function tO({isShown:t,onClose:e,children:n,uiConfig:r}){const{borderRadiusType:i="large"}=r;return re.jsxs(re.Fragment,{children:[re.jsx("div",{className:Gt("w3a--bottom-sheet-bg w3a--fixed w3a--left-0 w3a--top-0 w3a--size-full w3a--transition-opacity w3a--duration-300",{"w3a--rounded-[30px]":i==="large","w3a--rounded-2xl":i==="medium","w3a--rounded-none":i==="small"}),onClick:e,"aria-hidden":"true",role:"button"}),re.jsxs("div",{className:Gt(`w3a--fixed w3a--bottom-2 w3a--left-2 w3a--mx-auto w3a--flex w3a--w-[96%] w3a--flex-col 
      w3a--gap-y-2 w3a--border w3a--border-app-gray-100 w3a--bg-app-white w3a--p-4 w3a--shadow-lg w3a--transition-transform w3a--duration-500 
      w3a--ease-out dark:w3a--border-app-gray-600 dark:w3a--bg-app-dark-surface-main
      ${t?"w3a--translate-y-0 w3a--delay-700":"w3a--translate-y-full"}`,{"w3a--rounded-[30px]":i==="large","w3a--rounded-2xl":i==="medium","w3a--rounded-none":i==="small"}),children:[re.jsx("div",{className:"w3a--absolute w3a--right-4 w3a--top-[16px] w3a--z-10 w3a--cursor-pointer",children:re.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:e,className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:re.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),n]})]})}const Q_=fe.createContext({analytics:void 0});function cee(t){const{isDark:e,isLoading:n,selectedChain:r,setSelectedChain:i,chainNamespace:o}=t,[a]=oi(void 0,{i18n:Yt}),s=fe.useMemo(()=>{const l=[{id:"all",name:"modal.allChains",icon:""}];for(const c of o)(c===$t.EIP155||c===$t.SOLANA)&&l.push({id:c,name:c===$t.EIP155?"EVM":c,icon:c===$t.EIP155?"ethereum":c});return l},[o]);return n?re.jsx("div",{className:"w3a--flex w3a--items-center w3a--justify-between w3a--gap-x-2",children:Array.from({length:s.length}).map((l,c)=>re.jsx("div",{className:"w3a--h-12 w3a--w-[100px] w3a--animate-pulse w3a--rounded-2xl w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700"},`chain-loader-${c}`))}):re.jsx("div",{className:"w3a--flex w3a--items-center w3a--justify-items-start w3a--gap-x-4",children:s.map(l=>re.jsxs("button",{type:"button",className:Gt("w3a--flex w3a--w-[104px] w3a--items-center w3a--justify-center w3a--gap-x-1 w3a--text-xs w3a--font-medium w3a--px-4 w3a--py-3 w3a--text-app-gray-500 dark:w3a--text-app-gray-300 hover:w3a--bg-app-gray-200 dark:hover:w3a--bg-app-gray-700 w3a--h-12 w3a--rounded-2xl w3a--border w3a--border-transparent",{"w3a--bg-app-gray-100 dark:w3a--bg-app-gray-800 w3a--border-app-gray-200 dark:w3a--border-app-gray-700 w3a--text-app-gray-900 dark:w3a--text-app-white hover:!w3a--bg-app-gray-100 dark:hover:!w3a--bg-app-gray-800":r===l.id}),onClick:()=>i(l.id),children:[l.icon&&re.jsx("img",{src:ki(e?`${l.icon}-dark`:`${l.icon}-light`),alt:l.name,className:"w3a--size-5 w3a--object-contain"}),re.jsx("span",{className:"first-letter:w3a--capitalize",children:a(l.name)})]},l.id))})}function dL(t){const{onBackClick:e,currentPage:n,selectedButton:r}=t,[i]=oi(void 0,{i18n:Yt}),o=()=>{e&&e()};return re.jsxs("div",{className:"w3a--flex w3a--items-center w3a--justify-between",children:[re.jsx("button",{type:"button",className:"w3a--z-20 w3a--flex w3a--size-5 w3a--cursor-pointer w3a--items-center w3a--justify-center w3a--rounded-full",onClick:o,children:re.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:re.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.707 16.707a1 1 0 0 1-1.414 0l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 1.414L5.414 9H17a1 1 0 1 1 0 2H5.414l4.293 4.293a1 1 0 0 1 0 1.414",clipRule:"evenodd"})})}),re.jsx("p",{className:"w3a--text-base w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:n===Il.SELECTED_WALLET?r==null?void 0:r.displayName:n===Il.CONNECT_WALLET?i("modal.connectYourWallet"):n}),re.jsx("div",{className:"w3a--z-[-1] w3a--size-5"})]})}const Td={SOCIAL:"social",WALLET:"wallet"};function bo(t){const{id:e="",isButton:n=!1,imageData:r="",height:i="auto",width:o="auto",extension:a="svg",darkImageId:s="",darkHoverImageId:l="",imageId:c,hoverImageId:u,fallbackImageId:f}=t,{isDark:p}=fe.useContext(hy),g=fe.useMemo(()=>p&&s?s:c,[p,s,c]),m=fe.useMemo(()=>p&&l?l:u,[p,l,u]);return n?r?re.jsx("img",{id:e,src:r,height:i,width:o,alt:u,className:Gt("w3a--object-contain",`w3a--h-${i} w3a--w-${o}`)}):re.jsx("img",{id:e,src:`https://images.web3auth.io/${m}.${a}`,height:i,width:o,alt:u,className:Gt("w3a--rounded w3a--object-contain",`w3a--h-${i} w3a--w-${o}`)}):r?re.jsx("img",{id:e,src:r,height:i,width:o,alt:c,className:Gt("w3a--object-contain",`w3a--h-${i} w3a--w-${o}`),onError:({currentTarget:v})=>{if(f){const _=v;_.onerror=null,_.src=`https://images.web3auth.io/${f}.svg`}}}):re.jsx("img",{id:e,src:`https://images.web3auth.io/${g}.${a}`,height:i,width:o,alt:c,className:Gt("w3a--rounded w3a--object-contain",`w3a--h-${i} w3a--w-${o}`),onError:({currentTarget:v})=>{if(f){const _=v;_.onerror=null,_.src=`https://images.web3auth.io/${f}.svg`}}})}function uee(t,e,n){const r=t===it.TWITTER?`login-X${e?"-light":"-dark"}`:`login-${t}${e?"-light":"-dark"}`,i=t===it.APPLE||t===it.GITHUB||t===it.TWITTER?r:`login-${t}-active`;return n?re.jsx(bo,{width:"20",imageId:i,hoverImageId:i,isButton:!0}):re.jsx(bo,{width:"20",imageId:r,hoverImageId:i})}function dee(t){const{text:e,showIcon:n,showText:r,method:i,isDark:o,isPrimaryBtn:a,onClick:s,children:l,btnStyle:c,buttonRadius:u="pill"}=t;return re.jsxs("button",{type:"button",onClick:f=>s&&s(f),className:Gt("w3a--btn",c,{"w3a--rounded-full":u==="pill","w3a--rounded-lg":u==="rounded","w3a--rounded-none":u==="square"}),children:[n&&uee(i,o,a),r&&re.jsx("p",{className:"w3a--text-sm w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:e}),l]})}var b2={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var nO;function fee(){return nO||(nO=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var s=arguments[a];s&&(o=i(o,r(s)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var s in o)e.call(o,s)&&o[s]&&(a=i(a,s));return a}function i(o,a){return a?o?o+" "+a:o+a:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(b2)),b2.exports}var hee=fee();const pee=Hi(hee);function gee(t){const[e]=oi(void 0,{i18n:Yt}),{deviceDetails:n,button:r,walletConnectUri:i,onClick:o,label:a,buttonRadius:s}=t,l=fe.useContext(hy),c=fe.useMemo(()=>n.platform!=="desktop"&&r.href&&r.hasWalletConnect&&!r.isInstalled,[n,r]),u=fe.useMemo(()=>r.href?_X({uri:i,link:r.href}):i,[r,i]),f=()=>{u&&c?window.open(u,"_blank"):o&&o()};return re.jsxs("button",{type:"button",className:pee(`w3a--group w3a--relative w3a--overflow-hidden w3a--flex w3a--w-full w3a--items-center w3a--justify-between w3a--bg-app-gray-50 w3a--p-3 hover:w3a--bg-app-gray-200 
        hover:w3a--text-app-gray-900 dark:w3a--bg-app-gray-800 dark:hover:w3a--bg-app-gray-600 active:w3a--scale-95 w3a--transition-all w3a--duration-150`,{"w3a--rounded-full":s==="pill","w3a--rounded-lg":s==="rounded","w3a--rounded-none":s==="square"}),onClick:f,children:[re.jsxs("div",{className:"w3a--flex w3a--items-center w3a--gap-x-2",children:[re.jsx("figure",{className:"w3a--size-5",children:re.jsx(bo,{imageData:r.icon,imageId:`login-${r.name}`,hoverImageId:`login-${r.name}`,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:r.imgExtension||"webp"})}),re.jsx("p",{className:"w3a--max-w-[180px] w3a--truncate w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:a})]}),r.hasInjectedWallet&&re.jsx("span",{className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--flex w3a--w-auto -w3a--translate-y-1/2 w3a--items-center w3a--rounded-md w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:e("modal.external.installed")}),re.jsx("img",{id:"injected-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:ki(l?"chevron-right-light":"chevron-right-dark"),alt:"arrow"})]})}function Om(t){const{type:e,props:n}=t,r=n,i=n,{text:o,showIcon:a,showText:s,method:l,isDark:c,isPrimaryBtn:u,onClick:f,children:p,btnStyle:g,buttonRadius:m}=r,{label:v,onClick:_,button:w,deviceDetails:I,walletConnectUri:k,buttonRadius:$}=i;return re.jsxs(re.Fragment,{children:[e===Td.SOCIAL&&re.jsx(dee,{text:o,showIcon:a,showText:s,method:l,isDark:c,isPrimaryBtn:u,onClick:f,btnStyle:g,buttonRadius:m,children:p}),e===Td.WALLET&&re.jsx(gee,{label:v,walletConnectUri:k,onClick:_,button:w,deviceDetails:I,buttonRadius:$})]})}function mee(){const[t]=oi(void 0,{i18n:Yt});return re.jsx("div",{className:"w3a--flex w3a--w-full w3a--items-center w3a--justify-center w3a--py-6 w3a--text-center w3a--text-app-gray-400 dark:w3a--text-app-gray-500",children:t("modal.external.no-wallets-found")})}function vee(t){const{externalButtons:e,isLoading:n,handleWalletClick:r,deviceDetails:i,walletConnectUri:o,buttonRadius:a}=t;return n?re.jsx("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:Array.from({length:6}).map((s,l)=>re.jsx("div",{className:Gt("w3a--h-12 w3a--w-full w3a--animate-pulse w3a--rounded-2xl w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700",{"w3a--rounded-full":a==="pill","w3a--rounded-lg":a==="rounded","w3a--rounded-none":a==="square"})},`loader-${l}`))}):re.jsx("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2 w3a--pr-1.5",children:e.map(s=>re.jsx(Om,{type:Td.WALLET,props:{label:s.displayName,onClick:()=>r(s),button:s,deviceDetails:i,walletConnectUri:o,buttonRadius:a}},s.name))})}function yee(t){const{totalExternalWalletsCount:e,initialWalletCount:n,handleMoreWallets:r,isLoading:i,isDark:o,buttonRadius:a}=t,[s]=oi(void 0,{i18n:Yt}),l=()=>{r&&r()};return i&&n<e?re.jsx("div",{className:Gt("w3a--h-12 w3a--w-full w3a--animate-pulse w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700",{"w3a--rounded-full":a==="pill","w3a--rounded-lg":a==="rounded","w3a--rounded-none":a==="square"})}):re.jsxs("button",{type:"button",className:Gt("w3a--flex w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--bg-app-gray-50 w3a--p-3 hover:w3a--bg-app-gray-200 dark:w3a--bg-app-gray-800 dark:hover:w3a--bg-app-gray-600 active:w3a--scale-95 w3a--transition-all w3a--duration-150 w3a--mr-2.5",{"w3a--rounded-full":a==="pill","w3a--rounded-lg":a==="rounded","w3a--rounded-none":a==="square"}),onClick:l,children:[re.jsx("img",{src:ki(o?"view-dark":"view-light"),alt:"view",height:"24",width:"24"}),re.jsx("p",{className:"w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:s("modal.connect-wallet.more-wallets")}),re.jsx("span",{className:"w3a--inline-flex w3a--items-center w3a--rounded-full w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:e-n})]})}function wee(t){const{externalButtons:e,isLoading:n,totalExternalWalletsCount:r,initialWalletCount:i,handleWalletClick:o,handleMoreWallets:a,isDark:s,deviceDetails:l,walletConnectUri:c,buttonRadius:u}=t,[f,p]=fe.useState(!0),g=()=>{p(!1),a()};return re.jsxs(re.Fragment,{children:[re.jsx("ul",{className:Gt("w3a--overflow-y-auto w3a--flex w3a--flex-col w3a--gap-y-2 w3a--h-[280px] w3a--social-container w3a--pr-2.5",{"w3a--h-[328px]":!f}),children:e.length===0?re.jsx(mee,{}):re.jsx(vee,{externalButtons:e,isLoading:n,handleWalletClick:o,deviceDetails:l,walletConnectUri:c,buttonRadius:u})}),f&&r>15&&!n&&i<r&&re.jsx(yee,{totalExternalWalletsCount:r,initialWalletCount:i,handleMoreWallets:g,isLoading:n,isDark:s,buttonRadius:u})]})}var ea={},dh={exports:{}};dh.exports;var rO;function bee(){return rO||(rO=1,function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,o=2,a=9007199254740991,s="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",f="[object Date]",p="[object Error]",g="[object Function]",m="[object GeneratorFunction]",v="[object Map]",_="[object Number]",w="[object Null]",I="[object Object]",k="[object Promise]",$="[object Proxy]",L="[object RegExp]",z="[object Set]",H="[object String]",P="[object Symbol]",D="[object Undefined]",B="[object WeakMap]",O="[object ArrayBuffer]",y="[object DataView]",E="[object Float32Array]",S="[object Float64Array]",C="[object Int8Array]",T="[object Int16Array]",j="[object Int32Array]",A="[object Uint8Array]",M="[object Uint8ClampedArray]",x="[object Uint16Array]",R="[object Uint32Array]",F=/[\\^$.*+?()[\]{}|]/g,U=/^\[object .+?Constructor\]$/,K=/^(?:0|[1-9]\d*)$/,G={};G[E]=G[S]=G[C]=G[T]=G[j]=G[A]=G[M]=G[x]=G[R]=!0,G[s]=G[l]=G[O]=G[u]=G[y]=G[f]=G[p]=G[g]=G[v]=G[_]=G[I]=G[L]=G[z]=G[H]=G[B]=!1;var Q=typeof window=="object"&&window&&window.Object===Object&&window,ne=typeof self=="object"&&self&&self.Object===Object&&self,J=Q||ne||Function("return this")(),Z=e&&!e.nodeType&&e,ee=Z&&!0&&t&&!t.nodeType&&t,ie=ee&&ee.exports===Z,se=ie&&Q.process,X=function(){try{return se&&se.binding&&se.binding("util")}catch{}}(),ae=X&&X.isTypedArray;function de(pe,Ce){for(var Ue=-1,ct=pe==null?0:pe.length,cn=0,Pt=[];++Ue<ct;){var bn=pe[Ue];Ce(bn,Ue,pe)&&(Pt[cn++]=bn)}return Pt}function me(pe,Ce){for(var Ue=-1,ct=Ce.length,cn=pe.length;++Ue<ct;)pe[cn+Ue]=Ce[Ue];return pe}function Ee(pe,Ce){for(var Ue=-1,ct=pe==null?0:pe.length;++Ue<ct;)if(Ce(pe[Ue],Ue,pe))return!0;return!1}function ye(pe,Ce){for(var Ue=-1,ct=Array(pe);++Ue<pe;)ct[Ue]=Ce(Ue);return ct}function ue(pe){return function(Ce){return pe(Ce)}}function _e(pe,Ce){return pe.has(Ce)}function Ie(pe,Ce){return pe==null?void 0:pe[Ce]}function we(pe){var Ce=-1,Ue=Array(pe.size);return pe.forEach(function(ct,cn){Ue[++Ce]=[cn,ct]}),Ue}function Fe(pe,Ce){return function(Ue){return pe(Ce(Ue))}}function He(pe){var Ce=-1,Ue=Array(pe.size);return pe.forEach(function(ct){Ue[++Ce]=ct}),Ue}var Ve=Array.prototype,Je=Function.prototype,te=Object.prototype,W=J["__core-js_shared__"],Y=Je.toString,le=te.hasOwnProperty,ge=function(){var pe=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||"");return pe?"Symbol(src)_1."+pe:""}(),ke=te.toString,Re=RegExp("^"+Y.call(le).replace(F,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=ie?J.Buffer:void 0,Bt=J.Symbol,at=J.Uint8Array,xt=te.propertyIsEnumerable,kt=Ve.splice,Lt=Bt?Bt.toStringTag:void 0,Zt=Object.getOwnPropertySymbols,zn=rt?rt.isBuffer:void 0,Ze=Fe(Object.keys,Object),Ct=Bs(J,"DataView"),Ht=Bs(J,"Map"),It=Bs(J,"Promise"),wt=Bs(J,"Set"),ce=Bs(J,"WeakMap"),he=Bs(Object,"create"),$e=Mr(Ct),qe=Mr(Ht),Qe=Mr(It),_t=Mr(wt),Cn=Mr(ce),Wt=Bt?Bt.prototype:void 0,Ft=Wt?Wt.valueOf:void 0;function er(pe){var Ce=-1,Ue=pe==null?0:pe.length;for(this.clear();++Ce<Ue;){var ct=pe[Ce];this.set(ct[0],ct[1])}}function fn(){this.__data__=he?he(null):{},this.size=0}function mn(pe){var Ce=this.has(pe)&&delete this.__data__[pe];return this.size-=Ce?1:0,Ce}function Ls(pe){var Ce=this.__data__;if(he){var Ue=Ce[pe];return Ue===r?void 0:Ue}return le.call(Ce,pe)?Ce[pe]:void 0}function hn(pe){var Ce=this.__data__;return he?Ce[pe]!==void 0:le.call(Ce,pe)}function Qt(pe,Ce){var Ue=this.__data__;return this.size+=this.has(pe)?0:1,Ue[pe]=he&&Ce===void 0?r:Ce,this}er.prototype.clear=fn,er.prototype.delete=mn,er.prototype.get=Ls,er.prototype.has=hn,er.prototype.set=Qt;function Zn(pe){var Ce=-1,Ue=pe==null?0:pe.length;for(this.clear();++Ce<Ue;){var ct=pe[Ce];this.set(ct[0],ct[1])}}function si(){this.__data__=[],this.size=0}function Wr(pe){var Ce=this.__data__,Ue=Cu(Ce,pe);if(Ue<0)return!1;var ct=Ce.length-1;return Ue==ct?Ce.pop():kt.call(Ce,Ue,1),--this.size,!0}function or(pe){var Ce=this.__data__,Ue=Cu(Ce,pe);return Ue<0?void 0:Ce[Ue][1]}function Na(pe){return Cu(this.__data__,pe)>-1}function La(pe,Ce){var Ue=this.__data__,ct=Cu(Ue,pe);return ct<0?(++this.size,Ue.push([pe,Ce])):Ue[ct][1]=Ce,this}Zn.prototype.clear=si,Zn.prototype.delete=Wr,Zn.prototype.get=or,Zn.prototype.has=Na,Zn.prototype.set=La;function ai(pe){var Ce=-1,Ue=pe==null?0:pe.length;for(this.clear();++Ce<Ue;){var ct=pe[Ce];this.set(ct[0],ct[1])}}function ec(){this.size=0,this.__data__={hash:new er,map:new(Ht||Zn),string:new er}}function tc(pe){var Ce=Xt(this,pe).delete(pe);return this.size-=Ce?1:0,Ce}function vn(pe){return Xt(this,pe).get(pe)}function nc(pe){return Xt(this,pe).has(pe)}function Ds(pe,Ce){var Ue=Xt(this,pe),ct=Ue.size;return Ue.set(pe,Ce),this.size+=Ue.size==ct?0:1,this}ai.prototype.clear=ec,ai.prototype.delete=tc,ai.prototype.get=vn,ai.prototype.has=nc,ai.prototype.set=Ds;function _o(pe){var Ce=-1,Ue=pe==null?0:pe.length;for(this.__data__=new ai;++Ce<Ue;)this.add(pe[Ce])}function Jo(pe){return this.__data__.set(pe,r),this}function rc(pe){return this.__data__.has(pe)}_o.prototype.add=_o.prototype.push=Jo,_o.prototype.has=rc;function Kr(pe){var Ce=this.__data__=new Zn(pe);this.size=Ce.size}function Zo(){this.__data__=new Zn,this.size=0}function kr(pe){var Ce=this.__data__,Ue=Ce.delete(pe);return this.size=Ce.size,Ue}function ic(pe){return this.__data__.get(pe)}function Ri(pe){return this.__data__.has(pe)}function vy(pe,Ce){var Ue=this.__data__;if(Ue instanceof Zn){var ct=Ue.__data__;if(!Ht||ct.length<n-1)return ct.push([pe,Ce]),this.size=++Ue.size,this;Ue=this.__data__=new ai(ct)}return Ue.set(pe,Ce),this.size=Ue.size,this}Kr.prototype.clear=Zo,Kr.prototype.delete=kr,Kr.prototype.get=ic,Kr.prototype.has=Ri,Kr.prototype.set=vy;function yy(pe,Ce){var Ue=es(pe),ct=!Ue&&ac(pe),cn=!Ue&&!ct&&uf(pe),Pt=!Ue&&!ct&&!cn&&ff(pe),bn=Ue||ct||cn||Pt,qn=bn?ye(pe.length,String):[],En=qn.length;for(var yn in pe)le.call(pe,yn)&&!(bn&&(yn=="length"||cn&&(yn=="offset"||yn=="parent")||Pt&&(yn=="buffer"||yn=="byteLength"||yn=="byteOffset")||qp(yn,En)))&&qn.push(yn);return qn}function Cu(pe,Ce){for(var Ue=pe.length;Ue--;)if(Co(pe[Ue][0],Ce))return Ue;return-1}function Au(pe,Ce,Ue){var ct=Ce(pe);return es(pe)?ct:me(ct,Ue(pe))}function Qo(pe){return pe==null?pe===void 0?D:w:Lt&&Lt in Object(pe)?zp(pe):Xo(pe)}function Da(pe){return ns(pe)&&Qo(pe)==s}function oc(pe,Ce,Ue,ct,cn){return pe===Ce?!0:pe==null||Ce==null||!ns(pe)&&!ns(Ce)?pe!==pe&&Ce!==Ce:wy(pe,Ce,Ue,ct,oc,cn)}function wy(pe,Ce,Ue,ct,cn,Pt){var bn=es(pe),qn=es(Ce),En=bn?l:So(pe),yn=qn?l:So(Ce);En=En==s?I:En,yn=yn==s?I:yn;var sr=En==I,li=yn==I,Hn=En==yn;if(Hn&&uf(pe)){if(!uf(Ce))return!1;bn=!0,sr=!1}if(Hn&&!sr)return Pt||(Pt=new Kr),bn||ff(pe)?Iu(pe,Ce,Ue,ct,cn,Pt):sc(pe,Ce,En,Ue,ct,cn,Pt);if(!(Ue&i)){var vr=sr&&le.call(pe,"__wrapped__"),Vr=li&&le.call(Ce,"__wrapped__");if(vr||Vr){var Dn=vr?pe.value():pe,Or=Vr?Ce.value():Ce;return Pt||(Pt=new Kr),cn(Dn,Or,Ue,ct,Pt)}}return Hn?(Pt||(Pt=new Kr),Ey(pe,Ce,Ue,ct,cn,Pt)):!1}function by(pe){if(!df(pe)||cf(pe))return!1;var Ce=Ba(pe)?Re:U;return Ce.test(Mr(pe))}function af(pe){return ns(pe)&&Kp(pe.length)&&!!G[Qo(pe)]}function Up(pe){if(!Mu(pe))return Ze(pe);var Ce=[];for(var Ue in Object(pe))le.call(pe,Ue)&&Ue!="constructor"&&Ce.push(Ue);return Ce}function Iu(pe,Ce,Ue,ct,cn,Pt){var bn=Ue&i,qn=pe.length,En=Ce.length;if(qn!=En&&!(bn&&En>qn))return!1;var yn=Pt.get(pe);if(yn&&Pt.get(Ce))return yn==Ce;var sr=-1,li=!0,Hn=Ue&o?new _o:void 0;for(Pt.set(pe,Ce),Pt.set(Ce,pe);++sr<qn;){var vr=pe[sr],Vr=Ce[sr];if(ct)var Dn=bn?ct(Vr,vr,sr,Ce,pe,Pt):ct(vr,Vr,sr,pe,Ce,Pt);if(Dn!==void 0){if(Dn)continue;li=!1;break}if(Hn){if(!Ee(Ce,function(Or,Ao){if(!_e(Hn,Ao)&&(vr===Or||cn(vr,Or,Ue,ct,Pt)))return Hn.push(Ao)})){li=!1;break}}else if(!(vr===Vr||cn(vr,Vr,Ue,ct,Pt))){li=!1;break}}return Pt.delete(pe),Pt.delete(Ce),li}function sc(pe,Ce,Ue,ct,cn,Pt,bn){switch(Ue){case y:if(pe.byteLength!=Ce.byteLength||pe.byteOffset!=Ce.byteOffset)return!1;pe=pe.buffer,Ce=Ce.buffer;case O:return!(pe.byteLength!=Ce.byteLength||!Pt(new at(pe),new at(Ce)));case u:case f:case _:return Co(+pe,+Ce);case p:return pe.name==Ce.name&&pe.message==Ce.message;case L:case H:return pe==Ce+"";case v:var qn=we;case z:var En=ct&i;if(qn||(qn=He),pe.size!=Ce.size&&!En)return!1;var yn=bn.get(pe);if(yn)return yn==Ce;ct|=o,bn.set(pe,Ce);var sr=Iu(qn(pe),qn(Ce),ct,cn,Pt,bn);return bn.delete(pe),sr;case P:if(Ft)return Ft.call(pe)==Ft.call(Ce)}return!1}function Ey(pe,Ce,Ue,ct,cn,Pt){var bn=Ue&i,qn=ku(pe),En=qn.length,yn=ku(Ce),sr=yn.length;if(En!=sr&&!bn)return!1;for(var li=En;li--;){var Hn=qn[li];if(!(bn?Hn in Ce:le.call(Ce,Hn)))return!1}var vr=Pt.get(pe);if(vr&&Pt.get(Ce))return vr==Ce;var Vr=!0;Pt.set(pe,Ce),Pt.set(Ce,pe);for(var Dn=bn;++li<En;){Hn=qn[li];var Or=pe[Hn],Ao=Ce[Hn];if(ct)var ja=bn?ct(Ao,Or,Hn,Ce,pe,Pt):ct(Or,Ao,Hn,pe,Ce,Pt);if(!(ja===void 0?Or===Ao||cn(Or,Ao,Ue,ct,Pt):ja)){Vr=!1;break}Dn||(Dn=Hn=="constructor")}if(Vr&&!Dn){var Ou=pe.constructor,$a=Ce.constructor;Ou!=$a&&"constructor"in pe&&"constructor"in Ce&&!(typeof Ou=="function"&&Ou instanceof Ou&&typeof $a=="function"&&$a instanceof $a)&&(Vr=!1)}return Pt.delete(pe),Pt.delete(Ce),Vr}function ku(pe){return Au(pe,xy,lf)}function Xt(pe,Ce){var Ue=pe.__data__;return Hp(Ce)?Ue[typeof Ce=="string"?"string":"hash"]:Ue.map}function Bs(pe,Ce){var Ue=Ie(pe,Ce);return by(Ue)?Ue:void 0}function zp(pe){var Ce=le.call(pe,Lt),Ue=pe[Lt];try{pe[Lt]=void 0;var ct=!0}catch{}var cn=ke.call(pe);return ct&&(Ce?pe[Lt]=Ue:delete pe[Lt]),cn}var lf=Zt?function(pe){return pe==null?[]:(pe=Object(pe),de(Zt(pe),function(Ce){return xt.call(pe,Ce)}))}:lc,So=Qo;(Ct&&So(new Ct(new ArrayBuffer(1)))!=y||Ht&&So(new Ht)!=v||It&&So(It.resolve())!=k||wt&&So(new wt)!=z||ce&&So(new ce)!=B)&&(So=function(pe){var Ce=Qo(pe),Ue=Ce==I?pe.constructor:void 0,ct=Ue?Mr(Ue):"";if(ct)switch(ct){case $e:return y;case qe:return v;case Qe:return k;case _t:return z;case Cn:return B}return Ce});function qp(pe,Ce){return Ce=Ce??a,!!Ce&&(typeof pe=="number"||K.test(pe))&&pe>-1&&pe%1==0&&pe<Ce}function Hp(pe){var Ce=typeof pe;return Ce=="string"||Ce=="number"||Ce=="symbol"||Ce=="boolean"?pe!=="__proto__":pe===null}function cf(pe){return!!ge&&ge in pe}function Mu(pe){var Ce=pe&&pe.constructor,Ue=typeof Ce=="function"&&Ce.prototype||te;return pe===Ue}function Xo(pe){return ke.call(pe)}function Mr(pe){if(pe!=null){try{return Y.call(pe)}catch{}try{return pe+""}catch{}}return""}function Co(pe,Ce){return pe===Ce||pe!==pe&&Ce!==Ce}var ac=Da(function(){return arguments}())?Da:function(pe){return ns(pe)&&le.call(pe,"callee")&&!xt.call(pe,"callee")},es=Array.isArray;function ts(pe){return pe!=null&&Kp(pe.length)&&!Ba(pe)}var uf=zn||cc;function Wp(pe,Ce){return oc(pe,Ce)}function Ba(pe){if(!df(pe))return!1;var Ce=Qo(pe);return Ce==g||Ce==m||Ce==c||Ce==$}function Kp(pe){return typeof pe=="number"&&pe>-1&&pe%1==0&&pe<=a}function df(pe){var Ce=typeof pe;return pe!=null&&(Ce=="object"||Ce=="function")}function ns(pe){return pe!=null&&typeof pe=="object"}var ff=ae?ue(ae):af;function xy(pe){return ts(pe)?yy(pe):Up(pe)}function lc(){return[]}function cc(){return!1}t.exports=Wp}(dh,dh.exports)),dh.exports}var E2={exports:{}},iO;function Eee(){return iO||(iO=1,function(t,e){var n=function(){var r=function(L,z){var H=236,P=17,D=L,B=o[z],O=null,y=0,E=null,S=[],C={},T=function(J,Z){y=D*4+17,O=function(ee){for(var ie=new Array(ee),se=0;se<ee;se+=1){ie[se]=new Array(ee);for(var X=0;X<ee;X+=1)ie[se][X]=null}return ie}(y),j(0,0),j(y-7,0),j(0,y-7),x(),M(),F(J,Z),D>=7&&R(J),E==null&&(E=G(D,B,S)),U(E,Z)},j=function(J,Z){for(var ee=-1;ee<=7;ee+=1)if(!(J+ee<=-1||y<=J+ee))for(var ie=-1;ie<=7;ie+=1)Z+ie<=-1||y<=Z+ie||(0<=ee&&ee<=6&&(ie==0||ie==6)||0<=ie&&ie<=6&&(ee==0||ee==6)||2<=ee&&ee<=4&&2<=ie&&ie<=4?O[J+ee][Z+ie]=!0:O[J+ee][Z+ie]=!1)},A=function(){for(var J=0,Z=0,ee=0;ee<8;ee+=1){T(!0,ee);var ie=s.getLostPoint(C);(ee==0||J>ie)&&(J=ie,Z=ee)}return Z},M=function(){for(var J=8;J<y-8;J+=1)O[J][6]==null&&(O[J][6]=J%2==0);for(var Z=8;Z<y-8;Z+=1)O[6][Z]==null&&(O[6][Z]=Z%2==0)},x=function(){for(var J=s.getPatternPosition(D),Z=0;Z<J.length;Z+=1)for(var ee=0;ee<J.length;ee+=1){var ie=J[Z],se=J[ee];if(O[ie][se]==null)for(var X=-2;X<=2;X+=1)for(var ae=-2;ae<=2;ae+=1)X==-2||X==2||ae==-2||ae==2||X==0&&ae==0?O[ie+X][se+ae]=!0:O[ie+X][se+ae]=!1}},R=function(J){for(var Z=s.getBCHTypeNumber(D),ee=0;ee<18;ee+=1){var ie=!J&&(Z>>ee&1)==1;O[Math.floor(ee/3)][ee%3+y-8-3]=ie}for(var ee=0;ee<18;ee+=1){var ie=!J&&(Z>>ee&1)==1;O[ee%3+y-8-3][Math.floor(ee/3)]=ie}},F=function(J,Z){for(var ee=B<<3|Z,ie=s.getBCHTypeInfo(ee),se=0;se<15;se+=1){var X=!J&&(ie>>se&1)==1;se<6?O[se][8]=X:se<8?O[se+1][8]=X:O[y-15+se][8]=X}for(var se=0;se<15;se+=1){var X=!J&&(ie>>se&1)==1;se<8?O[8][y-se-1]=X:se<9?O[8][15-se-1+1]=X:O[8][15-se-1]=X}O[y-8][8]=!J},U=function(J,Z){for(var ee=-1,ie=y-1,se=7,X=0,ae=s.getMaskFunction(Z),de=y-1;de>0;de-=2)for(de==6&&(de-=1);;){for(var me=0;me<2;me+=1)if(O[ie][de-me]==null){var Ee=!1;X<J.length&&(Ee=(J[X]>>>se&1)==1);var ye=ae(ie,de-me);ye&&(Ee=!Ee),O[ie][de-me]=Ee,se-=1,se==-1&&(X+=1,se=7)}if(ie+=ee,ie<0||y<=ie){ie-=ee,ee=-ee;break}}},K=function(J,Z){for(var ee=0,ie=0,se=0,X=new Array(Z.length),ae=new Array(Z.length),de=0;de<Z.length;de+=1){var me=Z[de].dataCount,Ee=Z[de].totalCount-me;ie=Math.max(ie,me),se=Math.max(se,Ee),X[de]=new Array(me);for(var ye=0;ye<X[de].length;ye+=1)X[de][ye]=255&J.getBuffer()[ye+ee];ee+=me;var ue=s.getErrorCorrectPolynomial(Ee),_e=c(X[de],ue.getLength()-1),Ie=_e.mod(ue);ae[de]=new Array(ue.getLength()-1);for(var ye=0;ye<ae[de].length;ye+=1){var we=ye+Ie.getLength()-ae[de].length;ae[de][ye]=we>=0?Ie.getAt(we):0}}for(var Fe=0,ye=0;ye<Z.length;ye+=1)Fe+=Z[ye].totalCount;for(var He=new Array(Fe),Ve=0,ye=0;ye<ie;ye+=1)for(var de=0;de<Z.length;de+=1)ye<X[de].length&&(He[Ve]=X[de][ye],Ve+=1);for(var ye=0;ye<se;ye+=1)for(var de=0;de<Z.length;de+=1)ye<ae[de].length&&(He[Ve]=ae[de][ye],Ve+=1);return He},G=function(J,Z,ee){for(var ie=u.getRSBlocks(J,Z),se=f(),X=0;X<ee.length;X+=1){var ae=ee[X];se.put(ae.getMode(),4),se.put(ae.getLength(),s.getLengthInBits(ae.getMode(),J)),ae.write(se)}for(var de=0,X=0;X<ie.length;X+=1)de+=ie[X].dataCount;if(se.getLengthInBits()>de*8)throw"code length overflow. ("+se.getLengthInBits()+">"+de*8+")";for(se.getLengthInBits()+4<=de*8&&se.put(0,4);se.getLengthInBits()%8!=0;)se.putBit(!1);for(;!(se.getLengthInBits()>=de*8||(se.put(H,8),se.getLengthInBits()>=de*8));)se.put(P,8);return K(se,ie)};C.addData=function(J,Z){Z=Z||"Byte";var ee=null;switch(Z){case"Numeric":ee=p(J);break;case"Alphanumeric":ee=g(J);break;case"Byte":ee=m(J);break;case"Kanji":ee=v(J);break;default:throw"mode:"+Z}S.push(ee),E=null},C.isDark=function(J,Z){if(J<0||y<=J||Z<0||y<=Z)throw J+","+Z;return O[J][Z]},C.getModuleCount=function(){return y},C.make=function(){if(D<1){for(var J=1;J<40;J++){for(var Z=u.getRSBlocks(J,B),ee=f(),ie=0;ie<S.length;ie++){var se=S[ie];ee.put(se.getMode(),4),ee.put(se.getLength(),s.getLengthInBits(se.getMode(),J)),se.write(ee)}for(var X=0,ie=0;ie<Z.length;ie++)X+=Z[ie].dataCount;if(ee.getLengthInBits()<=X*8)break}D=J}T(!1,A())},C.createTableTag=function(J,Z){J=J||2,Z=typeof Z>"u"?J*4:Z;var ee="";ee+='<table style="',ee+=" border-width: 0px; border-style: none;",ee+=" border-collapse: collapse;",ee+=" padding: 0px; margin: "+Z+"px;",ee+='">',ee+="<tbody>";for(var ie=0;ie<C.getModuleCount();ie+=1){ee+="<tr>";for(var se=0;se<C.getModuleCount();se+=1)ee+='<td style="',ee+=" border-width: 0px; border-style: none;",ee+=" border-collapse: collapse;",ee+=" padding: 0px; margin: 0px;",ee+=" width: "+J+"px;",ee+=" height: "+J+"px;",ee+=" background-color: ",ee+=C.isDark(ie,se)?"#000000":"#ffffff",ee+=";",ee+='"/>';ee+="</tr>"}return ee+="</tbody>",ee+="</table>",ee},C.createSvgTag=function(J,Z,ee,ie){var se={};typeof arguments[0]=="object"&&(se=arguments[0],J=se.cellSize,Z=se.margin,ee=se.alt,ie=se.title),J=J||2,Z=typeof Z>"u"?J*4:Z,ee=typeof ee=="string"?{text:ee}:ee||{},ee.text=ee.text||null,ee.id=ee.text?ee.id||"qrcode-description":null,ie=typeof ie=="string"?{text:ie}:ie||{},ie.text=ie.text||null,ie.id=ie.text?ie.id||"qrcode-title":null;var X=C.getModuleCount()*J+Z*2,ae,de,me,Ee,ye="",ue;for(ue="l"+J+",0 0,"+J+" -"+J+",0 0,-"+J+"z ",ye+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',ye+=se.scalable?"":' width="'+X+'px" height="'+X+'px"',ye+=' viewBox="0 0 '+X+" "+X+'" ',ye+=' preserveAspectRatio="xMinYMin meet"',ye+=ie.text||ee.text?' role="img" aria-labelledby="'+Q([ie.id,ee.id].join(" ").trim())+'"':"",ye+=">",ye+=ie.text?'<title id="'+Q(ie.id)+'">'+Q(ie.text)+"</title>":"",ye+=ee.text?'<description id="'+Q(ee.id)+'">'+Q(ee.text)+"</description>":"",ye+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',ye+='<path d="',me=0;me<C.getModuleCount();me+=1)for(Ee=me*J+Z,ae=0;ae<C.getModuleCount();ae+=1)C.isDark(me,ae)&&(de=ae*J+Z,ye+="M"+de+","+Ee+ue);return ye+='" stroke="transparent" fill="black"/>',ye+="</svg>",ye},C.createDataURL=function(J,Z){J=J||2,Z=typeof Z>"u"?J*4:Z;var ee=C.getModuleCount()*J+Z*2,ie=Z,se=ee-Z;return $(ee,ee,function(X,ae){if(ie<=X&&X<se&&ie<=ae&&ae<se){var de=Math.floor((X-ie)/J),me=Math.floor((ae-ie)/J);return C.isDark(me,de)?0:1}else return 1})},C.createImgTag=function(J,Z,ee){J=J||2,Z=typeof Z>"u"?J*4:Z;var ie=C.getModuleCount()*J+Z*2,se="";return se+="<img",se+=' src="',se+=C.createDataURL(J,Z),se+='"',se+=' width="',se+=ie,se+='"',se+=' height="',se+=ie,se+='"',ee&&(se+=' alt="',se+=Q(ee),se+='"'),se+="/>",se};var Q=function(J){for(var Z="",ee=0;ee<J.length;ee+=1){var ie=J.charAt(ee);switch(ie){case"<":Z+="&lt;";break;case">":Z+="&gt;";break;case"&":Z+="&amp;";break;case'"':Z+="&quot;";break;default:Z+=ie;break}}return Z},ne=function(J){var Z=1;J=typeof J>"u"?Z*2:J;var ee=C.getModuleCount()*Z+J*2,ie=J,se=ee-J,X,ae,de,me,Ee,ye={"":""," ":""," ":"","  ":" "},ue={"":""," ":""," ":" ","  ":" "},_e="";for(X=0;X<ee;X+=2){for(de=Math.floor((X-ie)/Z),me=Math.floor((X+1-ie)/Z),ae=0;ae<ee;ae+=1)Ee="",ie<=ae&&ae<se&&ie<=X&&X<se&&C.isDark(de,Math.floor((ae-ie)/Z))&&(Ee=" "),ie<=ae&&ae<se&&ie<=X+1&&X+1<se&&C.isDark(me,Math.floor((ae-ie)/Z))?Ee+=" ":Ee+="",_e+=J<1&&X+1>=se?ue[Ee]:ye[Ee];_e+=`
`}return ee%2&&J>0?_e.substring(0,_e.length-ee-1)+Array(ee+1).join(""):_e.substring(0,_e.length-1)};return C.createASCII=function(J,Z){if(J=J||1,J<2)return ne(Z);J-=1,Z=typeof Z>"u"?J*2:Z;var ee=C.getModuleCount()*J+Z*2,ie=Z,se=ee-Z,X,ae,de,me,Ee=Array(J+1).join(""),ye=Array(J+1).join("  "),ue="",_e="";for(X=0;X<ee;X+=1){for(de=Math.floor((X-ie)/J),_e="",ae=0;ae<ee;ae+=1)me=1,ie<=ae&&ae<se&&ie<=X&&X<se&&C.isDark(de,Math.floor((ae-ie)/J))&&(me=0),_e+=me?Ee:ye;for(de=0;de<J;de+=1)ue+=_e+`
`}return ue.substring(0,ue.length-1)},C.renderTo2dContext=function(J,Z){Z=Z||2;for(var ee=C.getModuleCount(),ie=0;ie<ee;ie++)for(var se=0;se<ee;se++)J.fillStyle=C.isDark(ie,se)?"black":"white",J.fillRect(ie*Z,se*Z,Z,Z)},C};r.stringToBytesFuncs={default:function(L){for(var z=[],H=0;H<L.length;H+=1){var P=L.charCodeAt(H);z.push(P&255)}return z}},r.stringToBytes=r.stringToBytesFuncs.default,r.createStringToBytes=function(L,z){var H=function(){for(var D=I(L),B=function(){var M=D.read();if(M==-1)throw"eof";return M},O=0,y={};;){var E=D.read();if(E==-1)break;var S=B(),C=B(),T=B(),j=String.fromCharCode(E<<8|S),A=C<<8|T;y[j]=A,O+=1}if(O!=z)throw O+" != "+z;return y}(),P=63;return function(D){for(var B=[],O=0;O<D.length;O+=1){var y=D.charCodeAt(O);if(y<128)B.push(y);else{var E=H[D.charAt(O)];typeof E=="number"?(E&255)==E?B.push(E):(B.push(E>>>8),B.push(E&255)):B.push(P)}}return B}};var i={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},o={L:1,M:0,Q:3,H:2},a={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},s=function(){var L=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],z=1335,H=7973,P=21522,D={},B=function(O){for(var y=0;O!=0;)y+=1,O>>>=1;return y};return D.getBCHTypeInfo=function(O){for(var y=O<<10;B(y)-B(z)>=0;)y^=z<<B(y)-B(z);return(O<<10|y)^P},D.getBCHTypeNumber=function(O){for(var y=O<<12;B(y)-B(H)>=0;)y^=H<<B(y)-B(H);return O<<12|y},D.getPatternPosition=function(O){return L[O-1]},D.getMaskFunction=function(O){switch(O){case a.PATTERN000:return function(y,E){return(y+E)%2==0};case a.PATTERN001:return function(y,E){return y%2==0};case a.PATTERN010:return function(y,E){return E%3==0};case a.PATTERN011:return function(y,E){return(y+E)%3==0};case a.PATTERN100:return function(y,E){return(Math.floor(y/2)+Math.floor(E/3))%2==0};case a.PATTERN101:return function(y,E){return y*E%2+y*E%3==0};case a.PATTERN110:return function(y,E){return(y*E%2+y*E%3)%2==0};case a.PATTERN111:return function(y,E){return(y*E%3+(y+E)%2)%2==0};default:throw"bad maskPattern:"+O}},D.getErrorCorrectPolynomial=function(O){for(var y=c([1],0),E=0;E<O;E+=1)y=y.multiply(c([1,l.gexp(E)],0));return y},D.getLengthInBits=function(O,y){if(1<=y&&y<10)switch(O){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:return 8;case i.MODE_KANJI:return 8;default:throw"mode:"+O}else if(y<27)switch(O){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw"mode:"+O}else if(y<41)switch(O){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw"mode:"+O}else throw"type:"+y},D.getLostPoint=function(O){for(var y=O.getModuleCount(),E=0,S=0;S<y;S+=1)for(var C=0;C<y;C+=1){for(var T=0,j=O.isDark(S,C),A=-1;A<=1;A+=1)if(!(S+A<0||y<=S+A))for(var M=-1;M<=1;M+=1)C+M<0||y<=C+M||A==0&&M==0||j==O.isDark(S+A,C+M)&&(T+=1);T>5&&(E+=3+T-5)}for(var S=0;S<y-1;S+=1)for(var C=0;C<y-1;C+=1){var x=0;O.isDark(S,C)&&(x+=1),O.isDark(S+1,C)&&(x+=1),O.isDark(S,C+1)&&(x+=1),O.isDark(S+1,C+1)&&(x+=1),(x==0||x==4)&&(E+=3)}for(var S=0;S<y;S+=1)for(var C=0;C<y-6;C+=1)O.isDark(S,C)&&!O.isDark(S,C+1)&&O.isDark(S,C+2)&&O.isDark(S,C+3)&&O.isDark(S,C+4)&&!O.isDark(S,C+5)&&O.isDark(S,C+6)&&(E+=40);for(var C=0;C<y;C+=1)for(var S=0;S<y-6;S+=1)O.isDark(S,C)&&!O.isDark(S+1,C)&&O.isDark(S+2,C)&&O.isDark(S+3,C)&&O.isDark(S+4,C)&&!O.isDark(S+5,C)&&O.isDark(S+6,C)&&(E+=40);for(var R=0,C=0;C<y;C+=1)for(var S=0;S<y;S+=1)O.isDark(S,C)&&(R+=1);var F=Math.abs(100*R/y/y-50)/5;return E+=F*10,E},D}(),l=function(){for(var L=new Array(256),z=new Array(256),H=0;H<8;H+=1)L[H]=1<<H;for(var H=8;H<256;H+=1)L[H]=L[H-4]^L[H-5]^L[H-6]^L[H-8];for(var H=0;H<255;H+=1)z[L[H]]=H;var P={};return P.glog=function(D){if(D<1)throw"glog("+D+")";return z[D]},P.gexp=function(D){for(;D<0;)D+=255;for(;D>=256;)D-=255;return L[D]},P}();function c(L,z){if(typeof L.length>"u")throw L.length+"/"+z;var H=function(){for(var D=0;D<L.length&&L[D]==0;)D+=1;for(var B=new Array(L.length-D+z),O=0;O<L.length-D;O+=1)B[O]=L[O+D];return B}(),P={};return P.getAt=function(D){return H[D]},P.getLength=function(){return H.length},P.multiply=function(D){for(var B=new Array(P.getLength()+D.getLength()-1),O=0;O<P.getLength();O+=1)for(var y=0;y<D.getLength();y+=1)B[O+y]^=l.gexp(l.glog(P.getAt(O))+l.glog(D.getAt(y)));return c(B,0)},P.mod=function(D){if(P.getLength()-D.getLength()<0)return P;for(var B=l.glog(P.getAt(0))-l.glog(D.getAt(0)),O=new Array(P.getLength()),y=0;y<P.getLength();y+=1)O[y]=P.getAt(y);for(var y=0;y<D.getLength();y+=1)O[y]^=l.gexp(l.glog(D.getAt(y))+B);return c(O,0).mod(D)},P}var u=function(){var L=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],z=function(D,B){var O={};return O.totalCount=D,O.dataCount=B,O},H={},P=function(D,B){switch(B){case o.L:return L[(D-1)*4+0];case o.M:return L[(D-1)*4+1];case o.Q:return L[(D-1)*4+2];case o.H:return L[(D-1)*4+3];default:return}};return H.getRSBlocks=function(D,B){var O=P(D,B);if(typeof O>"u")throw"bad rs block @ typeNumber:"+D+"/errorCorrectionLevel:"+B;for(var y=O.length/3,E=[],S=0;S<y;S+=1)for(var C=O[S*3+0],T=O[S*3+1],j=O[S*3+2],A=0;A<C;A+=1)E.push(z(T,j));return E},H}(),f=function(){var L=[],z=0,H={};return H.getBuffer=function(){return L},H.getAt=function(P){var D=Math.floor(P/8);return(L[D]>>>7-P%8&1)==1},H.put=function(P,D){for(var B=0;B<D;B+=1)H.putBit((P>>>D-B-1&1)==1)},H.getLengthInBits=function(){return z},H.putBit=function(P){var D=Math.floor(z/8);L.length<=D&&L.push(0),P&&(L[D]|=128>>>z%8),z+=1},H},p=function(L){var z=i.MODE_NUMBER,H=L,P={};P.getMode=function(){return z},P.getLength=function(O){return H.length},P.write=function(O){for(var y=H,E=0;E+2<y.length;)O.put(D(y.substring(E,E+3)),10),E+=3;E<y.length&&(y.length-E==1?O.put(D(y.substring(E,E+1)),4):y.length-E==2&&O.put(D(y.substring(E,E+2)),7))};var D=function(O){for(var y=0,E=0;E<O.length;E+=1)y=y*10+B(O.charAt(E));return y},B=function(O){if("0"<=O&&O<="9")return O.charCodeAt(0)-48;throw"illegal char :"+O};return P},g=function(L){var z=i.MODE_ALPHA_NUM,H=L,P={};P.getMode=function(){return z},P.getLength=function(B){return H.length},P.write=function(B){for(var O=H,y=0;y+1<O.length;)B.put(D(O.charAt(y))*45+D(O.charAt(y+1)),11),y+=2;y<O.length&&B.put(D(O.charAt(y)),6)};var D=function(B){if("0"<=B&&B<="9")return B.charCodeAt(0)-48;if("A"<=B&&B<="Z")return B.charCodeAt(0)-65+10;switch(B){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+B}};return P},m=function(L){var z=i.MODE_8BIT_BYTE,H=r.stringToBytes(L),P={};return P.getMode=function(){return z},P.getLength=function(D){return H.length},P.write=function(D){for(var B=0;B<H.length;B+=1)D.put(H[B],8)},P},v=function(L){var z=i.MODE_KANJI,H=r.stringToBytesFuncs.SJIS;if(!H)throw"sjis not supported.";(function(B,O){var y=H(B);if(y.length!=2||(y[0]<<8|y[1])!=O)throw"sjis not supported."})("",38726);var P=H(L),D={};return D.getMode=function(){return z},D.getLength=function(B){return~~(P.length/2)},D.write=function(B){for(var O=P,y=0;y+1<O.length;){var E=(255&O[y])<<8|255&O[y+1];if(33088<=E&&E<=40956)E-=33088;else if(57408<=E&&E<=60351)E-=49472;else throw"illegal char at "+(y+1)+"/"+E;E=(E>>>8&255)*192+(E&255),B.put(E,13),y+=2}if(y<O.length)throw"illegal char at "+(y+1)},D},_=function(){var L=[],z={};return z.writeByte=function(H){L.push(H&255)},z.writeShort=function(H){z.writeByte(H),z.writeByte(H>>>8)},z.writeBytes=function(H,P,D){P=P||0,D=D||H.length;for(var B=0;B<D;B+=1)z.writeByte(H[B+P])},z.writeString=function(H){for(var P=0;P<H.length;P+=1)z.writeByte(H.charCodeAt(P))},z.toByteArray=function(){return L},z.toString=function(){var H="";H+="[";for(var P=0;P<L.length;P+=1)P>0&&(H+=","),H+=L[P];return H+="]",H},z},w=function(){var L=0,z=0,H=0,P="",D={},B=function(y){P+=String.fromCharCode(O(y&63))},O=function(y){if(!(y<0)){if(y<26)return 65+y;if(y<52)return 97+(y-26);if(y<62)return 48+(y-52);if(y==62)return 43;if(y==63)return 47}throw"n:"+y};return D.writeByte=function(y){for(L=L<<8|y&255,z+=8,H+=1;z>=6;)B(L>>>z-6),z-=6},D.flush=function(){if(z>0&&(B(L<<6-z),L=0,z=0),H%3!=0)for(var y=3-H%3,E=0;E<y;E+=1)P+="="},D.toString=function(){return P},D},I=function(L){var z=L,H=0,P=0,D=0,B={};B.read=function(){for(;D<8;){if(H>=z.length){if(D==0)return-1;throw"unexpected end of file./"+D}var y=z.charAt(H);if(H+=1,y=="=")return D=0,-1;if(y.match(/^\s$/))continue;P=P<<6|O(y.charCodeAt(0)),D+=6}var E=P>>>D-8&255;return D-=8,E};var O=function(y){if(65<=y&&y<=90)return y-65;if(97<=y&&y<=122)return y-97+26;if(48<=y&&y<=57)return y-48+52;if(y==43)return 62;if(y==47)return 63;throw"c:"+y};return B},k=function(L,z){var H=L,P=z,D=new Array(L*z),B={};B.setPixel=function(S,C,T){D[C*H+S]=T},B.write=function(S){S.writeString("GIF87a"),S.writeShort(H),S.writeShort(P),S.writeByte(128),S.writeByte(0),S.writeByte(0),S.writeByte(0),S.writeByte(0),S.writeByte(0),S.writeByte(255),S.writeByte(255),S.writeByte(255),S.writeString(","),S.writeShort(0),S.writeShort(0),S.writeShort(H),S.writeShort(P),S.writeByte(0);var C=2,T=y(C);S.writeByte(C);for(var j=0;T.length-j>255;)S.writeByte(255),S.writeBytes(T,j,255),j+=255;S.writeByte(T.length-j),S.writeBytes(T,j,T.length-j),S.writeByte(0),S.writeString(";")};var O=function(S){var C=S,T=0,j=0,A={};return A.write=function(M,x){if(M>>>x)throw"length over";for(;T+x>=8;)C.writeByte(255&(M<<T|j)),x-=8-T,M>>>=8-T,j=0,T=0;j=M<<T|j,T=T+x},A.flush=function(){T>0&&C.writeByte(j)},A},y=function(S){for(var C=1<<S,T=(1<<S)+1,j=S+1,A=E(),M=0;M<C;M+=1)A.add(String.fromCharCode(M));A.add(String.fromCharCode(C)),A.add(String.fromCharCode(T));var x=_(),R=O(x);R.write(C,j);var F=0,U=String.fromCharCode(D[F]);for(F+=1;F<D.length;){var K=String.fromCharCode(D[F]);F+=1,A.contains(U+K)?U=U+K:(R.write(A.indexOf(U),j),A.size()<4095&&(A.size()==1<<j&&(j+=1),A.add(U+K)),U=K)}return R.write(A.indexOf(U),j),R.write(T,j),R.flush(),x.toByteArray()},E=function(){var S={},C=0,T={};return T.add=function(j){if(T.contains(j))throw"dup key:"+j;S[j]=C,C+=1},T.size=function(){return C},T.indexOf=function(j){return S[j]},T.contains=function(j){return typeof S[j]<"u"},T};return B},$=function(L,z,H){for(var P=k(L,z),D=0;D<z;D+=1)for(var B=0;B<L;B+=1)P.setPixel(B,D,H(B,D));var O=_();P.write(O);for(var y=w(),E=O.toByteArray(),S=0;S<E.length;S+=1)y.writeByte(E[S]);return y.flush(),"data:image/gif;base64,"+y};return r}();(function(){n.stringToBytesFuncs["UTF-8"]=function(r){function i(o){for(var a=[],s=0;s<o.length;s++){var l=o.charCodeAt(s);l<128?a.push(l):l<2048?a.push(192|l>>6,128|l&63):l<55296||l>=57344?a.push(224|l>>12,128|l>>6&63,128|l&63):(s++,l=65536+((l&1023)<<10|o.charCodeAt(s)&1023),a.push(240|l>>18,128|l>>12&63,128|l>>6&63,128|l&63))}return a}return i(r)}})(),function(r){t.exports=r()}(function(){return n})}(E2)),E2.exports}var oO;function xee(){if(oO)return ea;oO=1;var t=ea&&ea.__extends||function(){var a=function(s,l){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(c[f]=u[f])},a(s,l)};return function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");a(s,l);function c(){this.constructor=s}s.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)}}(),e=ea&&ea.__assign||function(){return e=Object.assign||function(a){for(var s,l=1,c=arguments.length;l<c;l++){s=arguments[l];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(a[u]=s[u])}return a},e.apply(this,arguments)};Object.defineProperty(ea,"__esModule",{value:!0}),ea.QRCode=void 0;var n=bee(),r=Eee(),i=Mv(),o=function(a){t(s,a);function s(l){var c=a.call(this,l)||this;return c.canvasRef=i.createRef(),c}return s.prototype.download=function(l,c){if(this.canvasRef.current){var u=void 0;switch(l){case"jpg":u="image/jpeg";break;case"webp":u="image/webp";break;case"png":default:u="image/png";break}var f=this.canvasRef.current.toDataURL(u,1),p=document.createElement("a");p.download=c??"react-qrcode-logo",p.href=f,p.click()}},s.prototype.utf16to8=function(l){var c="",u,f,p=l.length;for(u=0;u<p;u++)f=l.charCodeAt(u),f>=1&&f<=127?c+=l.charAt(u):f>2047?(c+=String.fromCharCode(224|f>>12&15),c+=String.fromCharCode(128|f>>6&63),c+=String.fromCharCode(128|f>>0&63)):(c+=String.fromCharCode(192|f>>6&31),c+=String.fromCharCode(128|f>>0&63));return c},s.prototype.drawRoundedSquare=function(l,c,u,f,p,g,m,v){v.lineWidth=l,v.fillStyle=p,v.strokeStyle=p,u+=l/2,c+=l/2,f-=l,Array.isArray(g)||(g=[g,g,g,g]),g=g.map(function($){return $=Math.min($,f/2),$<0?0:$});var _=g[0]||0,w=g[1]||0,I=g[2]||0,k=g[3]||0;v.beginPath(),v.moveTo(c+_,u),v.lineTo(c+f-w,u),w&&v.quadraticCurveTo(c+f,u,c+f,u+w),v.lineTo(c+f,u+f-I),I&&v.quadraticCurveTo(c+f,u+f,c+f-I,u+f),v.lineTo(c+k,u+f),k&&v.quadraticCurveTo(c,u+f,c,u+f-k),v.lineTo(c,u+_),_&&v.quadraticCurveTo(c,u,c+_,u),v.closePath(),v.stroke(),m&&v.fill()},s.prototype.drawPositioningPattern=function(l,c,u,f,p,g,m){m===void 0&&(m=[0,0,0,0]);var v=Math.ceil(c),_,w;typeof m!="number"&&!Array.isArray(m)?(_=m.outer||0,w=m.inner||0):(_=m,w=_);var I,k;typeof g!="string"?(I=g.outer,k=g.inner):(I=g,k=g);var $=f*c+u,L=p*c+u,z=c*7;this.drawRoundedSquare(v,L,$,z,I,_,!1,l),z=c*3,$+=c*2,L+=c*2,this.drawRoundedSquare(v,L,$,z,k,w,!0,l)},s.prototype.isInPositioninZone=function(l,c,u){return u.some(function(f){return c>=f.row&&c<=f.row+7&&l>=f.col&&l<=f.col+7})},s.prototype.transformPixelLengthIntoNumberOfCells=function(l,c){return l/c},s.prototype.isCoordinateInImage=function(l,c,u,f,p,g,m,v){if(v){var _=2,w=this.transformPixelLengthIntoNumberOfCells(p,m),I=this.transformPixelLengthIntoNumberOfCells(g,m),k=this.transformPixelLengthIntoNumberOfCells(u,m)-1,$=this.transformPixelLengthIntoNumberOfCells(f,m)-1;return c>=w-_&&c<=w+k+_&&l>=I-_&&l<=I+$+_}else return!1},s.prototype.shouldComponentUpdate=function(l){return!n(this.props,l)},s.prototype.componentDidMount=function(){this.update()},s.prototype.componentDidUpdate=function(){this.update()},s.prototype.update=function(){var l,c=this.props,u=c.value,f=c.ecLevel,p=c.enableCORS,g=c.bgColor,m=c.fgColor,v=c.logoImage,_=c.logoOpacity,w=c.logoOnLoad,I=c.removeQrCodeBehindLogo,k=c.qrStyle,$=c.eyeRadius,L=c.eyeColor,z=c.logoPaddingStyle,H=+this.props.size,P=+this.props.quietZone,D=this.props.logoWidth?+this.props.logoWidth:0,B=this.props.logoHeight?+this.props.logoHeight:0,O=this.props.logoPadding?+this.props.logoPadding:0,y=r(0,f);y.addData(this.utf16to8(u)),y.make();var E=(l=this.canvasRef)===null||l===void 0?void 0:l.current,S=E.getContext("2d"),C=H+2*P,T=y.getModuleCount(),j=H/T,A=window.devicePixelRatio||1;E.height=E.width=C*A,S.scale(A,A),S.fillStyle=g,S.fillRect(0,0,C,C);var M=P,x=[{row:0,col:0},{row:0,col:T-7},{row:T-7,col:0}];if(S.strokeStyle=m,k==="dots"){S.fillStyle=m;for(var R=j/2,F=0;F<T;F++)for(var U=0;U<T;U++)y.isDark(F,U)&&!this.isInPositioninZone(F,U,x)&&(S.beginPath(),S.arc(Math.round(U*j)+R+M,Math.round(F*j)+R+M,R/100*75,0,2*Math.PI,!1),S.closePath(),S.fill())}else if(k==="fluid"){for(var R=Math.ceil(j/2),F=0;F<T;F++)for(var U=0;U<T;U++)if(y.isDark(F,U)&&!this.isInPositioninZone(F,U,x)){var K=[!1,!1,!1,!1];F>0&&!y.isDark(F-1,U)&&U>0&&!y.isDark(F,U-1)&&(K[0]=!0),F>0&&!y.isDark(F-1,U)&&U<T-1&&!y.isDark(F,U+1)&&(K[1]=!0),F<T-1&&!y.isDark(F+1,U)&&U<T-1&&!y.isDark(F,U+1)&&(K[2]=!0),F<T-1&&!y.isDark(F+1,U)&&U>0&&!y.isDark(F,U-1)&&(K[3]=!0);var G=Math.ceil((U+1)*j)-Math.floor(U*j),Q=Math.ceil((F+1)*j)-Math.floor(F*j);S.fillStyle=m,S.beginPath(),S.arc(Math.round(U*j)+R+M,Math.round(F*j)+R+M,R,0,2*Math.PI,!1),S.closePath(),S.fill(),K[0]||S.fillRect(Math.round(U*j)+M,Math.round(F*j)+M,G/2,Q/2),K[1]||S.fillRect(Math.round(U*j)+M+Math.floor(G/2),Math.round(F*j)+M,G/2,Q/2),K[2]||S.fillRect(Math.round(U*j)+M+Math.floor(G/2),Math.round(F*j)+M+Math.floor(Q/2),G/2,Q/2),K[3]||S.fillRect(Math.round(U*j)+M,Math.round(F*j)+M+Math.floor(Q/2),G/2,Q/2)}}else for(var F=0;F<T;F++)for(var U=0;U<T;U++)if(y.isDark(F,U)&&!this.isInPositioninZone(F,U,x)){S.fillStyle=m;var G=Math.ceil((U+1)*j)-Math.floor(U*j),Q=Math.ceil((F+1)*j)-Math.floor(F*j);S.fillRect(Math.round(U*j)+M,Math.round(F*j)+M,G,Q)}for(var ne=0;ne<3;ne++){var J=x[ne],F=J.row,U=J.col,Z=$,ee=void 0;Array.isArray(Z)&&(Z=Z[ne]),typeof Z=="number"&&(Z=[Z,Z,Z,Z]),L?Array.isArray(L)?ee=L[ne]:ee=L:ee=m,this.drawPositioningPattern(S,j,M,F,U,ee,Z)}if(v){var ie=new Image;p&&(ie.crossOrigin="Anonymous"),ie.onload=function(se){S.save();var X=D||H*.2,ae=B||X,de=(H-X)/2,me=(H-ae)/2;if(I||O){S.beginPath(),S.strokeStyle=g,S.fillStyle=g;var Ee=X+2*O,ye=ae+2*O,ue=de+M-O,_e=me+M-O;if(z==="circle"){var Ie=ue+Ee/2,we=_e+ye/2;S.ellipse(Ie,we,Ee/2,ye/2,0,0,2*Math.PI),S.stroke(),S.fill()}else S.fillRect(ue,_e,Ee,ye)}S.globalAlpha=_,S.drawImage(ie,de+M,me+M,X,ae),S.restore(),w&&w(se)},ie.src=v}},s.prototype.render=function(){var l,c=+this.props.size+2*+this.props.quietZone;return i.createElement("canvas",{id:(l=this.props.id)!==null&&l!==void 0?l:"react-qrcode-logo",height:c,width:c,style:e({height:c+"px",width:c+"px"},this.props.style),ref:this.canvasRef})},s.defaultProps={value:"https://reactjs.org/",ecLevel:"M",enableCORS:!1,size:150,quietZone:10,bgColor:"#FFFFFF",fgColor:"#000000",logoOpacity:1,qrStyle:"squares",eyeRadius:[0,0,0],logoPaddingStyle:"square"},s}(i.Component);return ea.QRCode=o,ea}var _ee=xee();function fL(t){var e;const[n]=oi(void 0,{i18n:Yt}),{bodyState:r,setBodyState:i}=fe.useContext($p),{qrCodeValue:o,isDark:a,selectedButton:s,logoImage:l,primaryColor:c}=t,u=fe.useMemo(()=>typeof window>"u"?!1:fh.getParser(window.navigator.userAgent).getPlatformType()==="desktop",[]),f=document.documentElement,p="#FFFFFF",g="#000000",m=((e=getComputedStyle(f))===null||e===void 0||(e=e.getPropertyValue("--app-gray-800"))===null||e===void 0?void 0:e.trim())||"#1f2a37",v=c&&c.toLowerCase()==="#ffffff"?"#000000":c;return re.jsxs("div",{className:"w3a--contents",children:[o?re.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4 w3a--rounded-2xl w3a--border w3a--border-app-gray-200 w3a--p-4 dark:w3a--border-app-gray-700",children:[re.jsx("div",{className:"w3a--relative w3a--flex w3a--size-[300px] w3a--items-center w3a--justify-center w3a--rounded-2xl",children:re.jsx(_ee.QRCode,{size:u?300:260,eyeRadius:5,qrStyle:"dots",removeQrCodeBehindLogo:!0,logoImage:l||TQ,value:o,logoHeight:32,logoWidth:32,logoPadding:10,eyeColor:a?p:v,bgColor:a?m:p,fgColor:a?p:g})}),re.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:n("modal.external.walletconnect-copy")})]}):re.jsx("div",{className:"w3a--mx-auto w3a--flex w3a--size-[300px] w3a--animate-pulse w3a--items-center w3a--justify-center w3a--rounded-lg w3a--bg-app-gray-200 w3a--p-2 dark:w3a--bg-app-gray-700",children:re.jsx(bo,{imageId:`login-${s.name}`,hoverImageId:`login-${s.name}`,fallbackImageId:"wallet",height:"30",width:"30",isButton:!0,extension:s.imgExtension})}),re.jsxs("div",{className:"w3a--flex w3a--w-full w3a--items-center w3a--justify-between w3a--rounded-2xl w3a--bg-app-gray-50  w3a--px-4 w3a--py-2 w3a--text-app-gray-900 dark:w3a--bg-app-gray-800 dark:w3a--text-app-white",children:[re.jsxs("p",{className:"w3a--text-sm w3a--text-app-gray-900 dark:w3a--text-app-white",children:[n("modal.external.dont-have")," ",re.jsx("span",{children:s==null?void 0:s.displayName}),"?"]}),re.jsx("button",{type:"button",className:"w3a--appearance-none w3a--rounded-full w3a--border w3a--border-app-gray-200 w3a--bg-transparent w3a--px-5 w3a--py-2 w3a--text-base w3a--font-normal w3a--text-app-gray-700 w3a--transition-all w3a--duration-150 hover:w3a--border-transparent hover:w3a--shadow-light active:w3a--scale-95 dark:w3a--border-app-gray-700 dark:w3a--text-app-gray-300 dark:hover:w3a--border-transparent dark:hover:w3a--shadow-dark",onClick:()=>{i(be(be({},r),{},{installLinks:{show:!0,wallet:s}}))},children:n("modal.external.get-wallet")})]})]})}function See(t){const{totalExternalWalletCount:e,isLoading:n,walletSearch:r,handleWalletSearch:i,buttonRadius:o}=t,[a,s]=fe.useState(!1),[l]=oi(void 0,{i18n:Yt}),c=u=>{i(u),s(!0)};return re.jsx("input",{type:"text",value:r,onInput:c,onFocus:u=>{u.target.placeholder="",s(!0)},onBlur:u=>{u.target.placeholder=l("modal.external.search-wallet",{count:e}),s(!1)},placeholder:n?l("modal.external.search-wallet-loading"):l("modal.external.search-wallet",{count:e}),disabled:n,className:Gt("w3a--input w3a--appearance-none w3a--outline-none active:w3a--outline-none focus:w3a--outline-none w3a--bg-transparent placeholder:w3a--text-app-gray-400 dark:placeholder:w3a--text-app-gray-500 w3a--text-app-gray-900 dark:w3a--text-app-white",a&&"!w3a--border-app-primary-600",{"w3a--rounded-full":o==="pill","w3a--rounded-lg":o==="rounded","w3a--rounded-none":o==="square"})})}function Cee(t){var e;const{isDark:n,config:r,walletConnectUri:i,metamaskConnectUri:o,walletRegistry:a,allExternalButtons:s,customConnectorButtons:l,connectorVisibilityMap:c,deviceDetails:u,buttonRadius:f="pill",chainNamespace:p,onBackClick:g,handleExternalWalletClick:m,handleWalletDetailsHeight:v}=t,{bodyState:_,setBodyState:w}=fe.useContext($p),{analytics:I}=fe.useContext(Q_),[k,$]=fe.useState(Il.CONNECT_WALLET),[L,z]=fe.useState(!1),[H]=fe.useState(!1),[P,D]=fe.useState(null),[B,O]=fe.useState(""),[y,E]=fe.useState("all"),[S,C]=fe.useState(!1),T=()=>{if(!L&&k===Il.CONNECT_WALLET&&g){g(!1);return}L&&($(Il.CONNECT_WALLET),z(!1),v())},j=fe.useMemo(()=>a&&Object.keys(a.default||{}).length>0&&Object.keys(a.others||{}).length>0,[a]),A=fe.useMemo(()=>{const ie=new Set;return l.concat(s).filter(se=>ie.has(se.name)?!1:(ie.add(se.name),!0))},[s,l]),M=fe.useMemo(()=>new Set(Object.keys(a.default)),[a]),x=fe.useMemo(()=>{const ie=[...s.filter(X=>X.hasInjectedWallet&&M.has(X.name)),...l,...s.filter(X=>!X.hasInjectedWallet&&M.has(X.name))].sort((X,ae)=>X.name===ht.METAMASK&&ae.name===ht.METAMASK?X.hasInjectedWallet?-1:ae.hasInjectedWallet?1:X.isInstalled?-1:ae.isInstalled?1:0:X.name===ht.METAMASK?-1:ae.name===ht.METAMASK?1:0),se=new Set;return ie.filter(X=>se.has(X.name)?!1:(se.add(X.name),!0)).filter(X=>{var ae;return y==="all"||((ae=X.chainNamespaces)===null||ae===void 0?void 0:ae.includes(y))})},[s,l,M,y]),R=fe.useMemo(()=>{const ie=c;return Object.keys(r).reduce((se,X)=>(X!==ht.WALLET_CONNECT_V2&&ie[X]&&se.push({name:X,displayName:r[X].label||X,hasInjectedWallet:r[X].isInjected,hasWalletConnect:!1,hasInstallLinks:!1}),se),[])},[c,r]),F=ie=>{const se=ie.target.value;O(se)},U=ie=>{E(ie),C(!1)},K=fe.useMemo(()=>j?[...A.filter(ie=>ie.hasInjectedWallet),...A.filter(ie=>!ie.hasInjectedWallet)].sort((ie,se)=>ie.name===ht.METAMASK?-1:1).filter(ie=>y==="all"||ie.chainNamespaces.includes(y)).filter(ie=>ie.name.toLowerCase().includes(B.toLowerCase())):R,[j,R,B,A,y]),G=fe.useMemo(()=>j&&!B&&!S?x:K,[j,B,K,x,S]),Q=fe.useMemo(()=>K.length,[K]),ne=fe.useMemo(()=>S?Q:j?x.length:R.length,[j,x,R,S,Q]),J=ie=>{if(I==null||I.track(dn.EXTERNAL_WALLET_SELECTED,{connector:ie.isInstalled?ie.name:ie.hasWalletConnect?ht.WALLET_CONNECT_V2:"",wallet_name:ie.displayName,is_installed:ie.isInstalled,is_injected:ie.hasInjectedWallet,chain_namespaces:ie.chainNamespaces,has_wallet_connect:ie.hasWalletConnect,has_install_links:ie.hasInstallLinks,has_wallet_registry_item:!!ie.walletRegistryItem,total_external_wallets:A.length}),ie.isInstalled){var se;if(ie.name===ht.METAMASK&&!ie.hasInjectedWallet&&u.platform==="desktop"){m({connector:ie.name}),D(ie),z(!0),$(Il.SELECTED_WALLET),v();return}if(((se=ie.chainNamespaces)===null||se===void 0?void 0:se.length)>1){w(be(be({},_),{},{multiChainSelector:{show:!0,wallet:ie}}));return}m({connector:ie.name});return}else ie.hasWalletConnect?(D(ie),z(!0),$(Il.SELECTED_WALLET),v()):w(be(be({},_),{},{installLinks:{show:!0,wallet:ie}}))},Z=()=>{C(!0)},ee=fe.useMemo(()=>L?P.name===ht.METAMASK&&!P.hasInjectedWallet?o:i:null,[o,P,L,i]);return re.jsxs("div",{className:"w3a--relative w3a--flex w3a--flex-1 w3a--flex-col w3a--gap-y-4",children:[re.jsx(dL,{onBackClick:T,currentPage:k,selectedButton:P}),L?re.jsx(fL,{qrCodeValue:ee,isDark:n,selectedButton:P,primaryColor:(e=P.walletRegistryItem)===null||e===void 0?void 0:e.primaryColor,logoImage:`https://images.web3auth.io/login-${P.name}.${P.imgExtension}`}):re.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:[re.jsx(cee,{isDark:n,isLoading:H,selectedChain:y,setSelectedChain:U,chainNamespace:p}),re.jsx(See,{totalExternalWalletCount:Q,isLoading:H,walletSearch:B,handleWalletSearch:F,buttonRadius:f}),re.jsx(wee,{externalButtons:G,isLoading:H,totalExternalWalletsCount:Q,initialWalletCount:ne,handleWalletClick:J,handleMoreWallets:Z,isDark:n,deviceDetails:u,walletConnectUri:i,buttonRadius:f})]})]})}const Aee=t=>{const{isDark:e,wallet:n,handleExternalWalletClick:r}=t,[i]=oi(void 0,{i18n:Yt}),o=n.chainNamespaces.sort().map(a=>({chainNamespace:a,displayName:a==="eip155"?"EVM":a,imageId:`chain-${a==="eip155"?"evm":a}`}));return re.jsxs("div",{children:[re.jsx("div",{className:"w3a--flex w3a--items-center w3a--justify-center",children:re.jsx("p",{className:"w3a--text-base w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:i("modal.external.select-chain")})}),re.jsx("div",{className:"w3a--my-6 w3a--flex w3a--justify-center",children:re.jsx(bo,{imageId:`login-${n.name}`,hoverImageId:`login-${n.name}`,fallbackImageId:"wallet",height:"100",width:"100",isButton:!0,extension:n.imgExtension})}),re.jsx("p",{className:"w3a--my-6 w3a--text-center w3a--text-sm w3a--text-app-gray-500",children:i("modal.external.select-chain-description",{wallet:n.displayName})}),re.jsx("ul",{className:"w3a--flex w3a--flex-col w3a--gap-3",children:o.map(({chainNamespace:a,displayName:s,imageId:l})=>re.jsx("li",{children:re.jsxs("button",{type:"button",className:"w3a--btn w3a--group w3a--relative w3a--h-11 w3a--w-full w3a--items-center !w3a--justify-between w3a--overflow-hidden w3a--rounded-full",onClick:()=>r({connector:n.name,chainNamespace:a}),children:[re.jsxs("div",{className:"w3a--flex w3a--items-center",children:[re.jsx(bo,{imageId:l,hoverImageId:l,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:"svg"}),re.jsx("p",{className:"w3a--ml-2 w3a--text-left w3a--text-sm first-letter:w3a--capitalize",children:s})]}),re.jsx("img",{id:"chain-namespace-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:ki(e?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})},a))})]})};function Iee({privacyPolicy:t,termsOfService:e}){const[n]=oi(void 0,{i18n:Yt});return re.jsxs("div",{className:"w3a--mx-auto w3a--mt-auto w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4 w3a--pt-5",children:[(t||e)&&re.jsxs("p",{className:"w3a--mx-auto w3a--w-4/5 w3a--text-center w3a--text-xs w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:[n("modal.footer.by-signing-in")," ",e&&re.jsxs("a",{href:e,className:"w3a--text-app-primary-600 dark:w3a--text-app-primary-500",children:[n("modal.footer.terms-of-service")," "]}),t&&re.jsxs(re.Fragment,{children:[n("modal.footer.and")," ",re.jsx("a",{href:t,className:"w3a--text-app-primary-600 dark:w3a--text-app-primary-500",children:n("modal.footer.privacy-policy")})]})]}),re.jsxs("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-2",children:[re.jsx("img",{height:"36",src:"https://images.web3auth.io/metamask-footer-logo-light.svg",alt:"Web3Auth Logo Light",className:"w3a--block w3a--h-9 dark:w3a--hidden"}),re.jsx("img",{height:"36",src:"https://images.web3auth.io/metamask-footer-logo-dark.svg",alt:"Web3Auth Logo Dark",className:"w3a--hidden w3a--h-9 dark:w3a--block"})]})]})}const X_=()=>re.jsxs("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-x-2",children:[re.jsx("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-500 dark:w3a--bg-app-gray-200"}),re.jsx("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-400 dark:w3a--bg-app-gray-400"}),re.jsx("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-600"})]});function kee(t){const[e]=oi(void 0,{i18n:Yt}),{connector:n,appLogo:r,connectorName:i}=t,o=fe.useMemo(()=>n==="twitter"?re.jsx(bo,{imageId:"login-x-dark"}):re.jsx(bo,{imageId:`login-${n}`,height:"40",width:"40"}),[n]);return re.jsxs("div",{className:"w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[re.jsxs("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-x-6",children:[re.jsx("figure",{className:"w3a--flex w3a--size-10 w3a--items-center w3a--justify-center w3a--overflow-hidden",children:re.jsx("img",{src:r,alt:"",className:"w3a--size-full w3a--object-contain"})}),re.jsx(X_,{}),o]}),re.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-1",children:[re.jsx("div",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e("modal.adapter-loader.message1",{adapter:i})}),re.jsx("div",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e("modal.adapter-loader.message2",{adapter:i})})]})]})}function Mee(t){const{message:e}=t;return re.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-2",children:[re.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--connected-logo",children:re.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.267 3.455a3.07 3.07 0 0 0 1.745-.723 3.066 3.066 0 0 1 3.976 0 3.07 3.07 0 0 0 1.745.723 3.066 3.066 0 0 1 2.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 0 1 0 3.976 3.07 3.07 0 0 0-.723 1.745 3.066 3.066 0 0 1-2.812 2.812 3.07 3.07 0 0 0-1.745.723 3.066 3.066 0 0 1-3.976 0 3.07 3.07 0 0 0-1.745-.723 3.066 3.066 0 0 1-2.812-2.812 3.07 3.07 0 0 0-.723-1.745 3.066 3.066 0 0 1 0-3.976 3.07 3.07 0 0 0 .723-1.745 3.066 3.066 0 0 1 2.812-2.812m7.44 5.252a1 1 0 0 0-1.414-1.414L9 10.586 7.707 9.293a1 1 0 0 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0z",clipRule:"evenodd"})}),re.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e})]})}function Oee(t){const{message:e}=t;return re.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-2",children:[re.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--error-logo",children:re.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16.001 0A8 8 0 0 1 18 10m-7 4a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-1-9a1 1 0 0 0-1 1v4a1 1 0 1 0 2 0V6a1 1 0 0 0-1-1",clipRule:"evenodd"})}),re.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e})]})}function Ree(t){const{connector:e,connectorName:n,modalStatus:r,onClose:i,appLogo:o,message:a}=t;return fe.useEffect(()=>{r===Un.CONNECTED&&setTimeout(()=>{i()},1e3)},[r,i]),re.jsxs("div",{className:"w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[r===Un.CONNECTING&&re.jsx(kee,{connector:e,connectorName:n,appLogo:o}),r===Un.CONNECTED&&re.jsx(Mee,{message:a}),r===Un.ERRORED&&re.jsx(Oee,{message:a})]})}function io(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QE(t,e){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},QE(t,e)}function Tee(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,QE(t,e)}var Pee=Object.defineProperty,Nee=Object.defineProperties,Lee=Object.getOwnPropertyDescriptors,Sv=Object.getOwnPropertySymbols,hL=Object.prototype.hasOwnProperty,pL=Object.prototype.propertyIsEnumerable,XE=(t,e,n)=>e in t?Pee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fi=(t,e)=>{for(var n in e||(e={}))hL.call(e,n)&&XE(t,n,e[n]);if(Sv)for(var n of Sv(e))pL.call(e,n)&&XE(t,n,e[n]);return t},gL=(t,e)=>Nee(t,Lee(e)),Dee=(t,e)=>{var n={};for(var r in t)hL.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Sv)for(var r of Sv(t))e.indexOf(r)<0&&pL.call(t,r)&&(n[r]=t[r]);return n},hr=(t,e,n)=>(XE(t,typeof e!="symbol"?e+"":e,n),n),Zd=(t,e,n)=>new Promise((r,i)=>{var o=l=>{try{s(n.next(l))}catch(c){i(c)}},a=l=>{try{s(n.throw(l))}catch(c){i(c)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,a);s((n=n.apply(t,e)).next())}),Bee="hCaptcha-script",Rm="hCaptchaOnLoad",sO="script-error",Uc="@hCaptcha/loader";function jee(t){return Object.entries(t).filter(([,e])=>e||e===!1).map(([e,n])=>`${encodeURIComponent(e)}=${encodeURIComponent(String(n))}`).join("&")}function mL(t){let e=t&&t.ownerDocument||document,n=e.defaultView||e.parentWindow||window;return{document:e,window:n}}function vL(t){return t||document.head}function $ee(t){var e;t.setTag("source",Uc),t.setTag("url",document.URL),t.setContext("os",{UA:navigator.userAgent}),t.setContext("browser",Fi({},Fee())),t.setContext("device",gL(Fi({},Uee()),{screen_width_pixels:screen.width,screen_height_pixels:screen.height,language:navigator.language,orientation:((e=screen.orientation)==null?void 0:e.type)||"Unknown",processor_count:navigator.hardwareConcurrency,platform:navigator.platform}))}function Fee(){var t,e,n,r,i,o;let a=navigator.userAgent,s,l;return a.indexOf("Firefox")!==-1?(s="Firefox",l=(t=a.match(/Firefox\/([\d.]+)/))==null?void 0:t[1]):a.indexOf("Edg")!==-1?(s="Microsoft Edge",l=(e=a.match(/Edg\/([\d.]+)/))==null?void 0:e[1]):a.indexOf("Chrome")!==-1&&a.indexOf("Safari")!==-1?(s="Chrome",l=(n=a.match(/Chrome\/([\d.]+)/))==null?void 0:n[1]):a.indexOf("Safari")!==-1&&a.indexOf("Chrome")===-1?(s="Safari",l=(r=a.match(/Version\/([\d.]+)/))==null?void 0:r[1]):a.indexOf("Opera")!==-1||a.indexOf("OPR")!==-1?(s="Opera",l=(i=a.match(/(Opera|OPR)\/([\d.]+)/))==null?void 0:i[2]):a.indexOf("MSIE")!==-1||a.indexOf("Trident")!==-1?(s="Internet Explorer",l=(o=a.match(/(MSIE |rv:)([\d.]+)/))==null?void 0:o[2]):(s="Unknown",l="Unknown"),{name:s,version:l}}function Uee(){let t=navigator.userAgent,e;t.indexOf("Win")!==-1?e="Windows":t.indexOf("Mac")!==-1?e="Mac":t.indexOf("Linux")!==-1?e="Linux":t.indexOf("Android")!==-1?e="Android":t.indexOf("like Mac")!==-1||t.indexOf("iPhone")!==-1||t.indexOf("iPad")!==-1?e="iOS":e="Unknown";let n;return/Mobile|iPhone|iPod|Android/i.test(t)?n="Mobile":/Tablet|iPad/i.test(t)?n="Tablet":n="Desktop",{model:e,family:e,device:n}}var zee=class yL{constructor(e){hr(this,"_parent"),hr(this,"breadcrumbs",[]),hr(this,"context",{}),hr(this,"extra",{}),hr(this,"tags",{}),hr(this,"request"),hr(this,"user"),this._parent=e}get parent(){return this._parent}child(){return new yL(this)}setRequest(e){return this.request=e,this}removeRequest(){return this.request=void 0,this}addBreadcrumb(e){return typeof e.timestamp>"u"&&(e.timestamp=new Date().toISOString()),this.breadcrumbs.push(e),this}setExtra(e,n){return this.extra[e]=n,this}removeExtra(e){return delete this.extra[e],this}setContext(e,n){return typeof n.type>"u"&&(n.type=e),this.context[e]=n,this}removeContext(e){return delete this.context[e],this}setTags(e){return this.tags=Fi(Fi({},this.tags),e),this}setTag(e,n){return this.tags[e]=n,this}removeTag(e){return delete this.tags[e],this}setUser(e){return this.user=e,this}removeUser(){return this.user=void 0,this}toBody(){let e=[],n=this;for(;n;)e.push(n),n=n.parent;return e.reverse().reduce((r,i)=>{var o;return r.breadcrumbs=[...(o=r.breadcrumbs)!=null?o:[],...i.breadcrumbs],r.extra=Fi(Fi({},r.extra),i.extra),r.contexts=Fi(Fi({},r.contexts),i.context),r.tags=Fi(Fi({},r.tags),i.tags),i.user&&(r.user=i.user),i.request&&(r.request=i.request),r},{breadcrumbs:[],extra:{},contexts:{},tags:{},request:void 0,user:void 0})}clear(){this.breadcrumbs=[],this.context={},this.tags={},this.user=void 0}},qee=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Hee=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,Wee=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Kee=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,Gg="?",aO="An unknown error occurred",Vee="0.0.4";function Gee(t){for(let e=0;e<t.length;e++)t[e]=Math.floor(Math.random()*256);return t}function Dr(t){return(t+256).toString(16).substring(1)}function Yee(){let t=Gee(new Array(16));return t[6]=t[6]&15|64,t[8]=t[8]&63|128,Dr(t[0])+Dr(t[1])+Dr(t[2])+Dr(t[3])+"-"+Dr(t[4])+Dr(t[5])+"-"+Dr(t[6])+Dr(t[7])+"-"+Dr(t[8])+Dr(t[9])+"-"+Dr(t[10])+Dr(t[11])+Dr(t[12])+Dr(t[13])+Dr(t[14])+Dr(t[15])}var Jee=[[qee,"chrome"],[Wee,"winjs"],[Hee,"gecko"]];function Zee(t){var e,n,r,i;if(!t.stack)return null;let o=[],a=(r=(n=(e=t.stack).split)==null?void 0:n.call(e,`
`))!=null?r:[];for(let s=0;s<a.length;++s){let l=null,c=null,u=null;for(let[f,p]of Jee)if(c=f.exec(a[s]),c){u=p;break}if(!(!c||!u)){if(u==="chrome")l={filename:(i=c[2])!=null&&i.startsWith("address at ")?c[2].substring(11):c[2],function:c[1]||Gg,lineno:c[3]?+c[3]:null,colno:c[4]?+c[4]:null};else if(u==="winjs")l={filename:c[2],function:c[1]||Gg,lineno:+c[3],colno:c[4]?+c[4]:null};else if(u==="gecko")s===0&&!c[5]&&t.columnNumber!==void 0&&o.length>0&&(o[0].column=t.columnNumber+1),l={filename:c[3],function:c[1]||Gg,lineno:c[4]?+c[4]:null,colno:c[5]?+c[5]:null};else continue;!l.function&&l.lineno&&(l.function=Gg),o.push(l)}}return o.length?o.reverse():null}function Qee(t){let e=Zee(t);return{type:t.name,value:t.message,stacktrace:{frames:e??[]}}}function Xee(t){let e=Kee.exec(t),n=e?e.slice(1):[];if(n.length!==6)throw new Error("Invalid DSN");let r=n[5].split("/"),i=r.slice(0,-1).join("/");return n[0]+"://"+n[3]+(n[4]?":"+n[4]:"")+(i?"/"+i:"")+"/api/"+r.pop()+"/envelope/?sentry_version=7&sentry_key="+n[1]+(n[2]?"&sentry_secret="+n[2]:"")}function ete(t,e,n){var r,i;let o=Fi({event_id:Yee().replaceAll("-",""),platform:"javascript",sdk:{name:"@hcaptcha/sentry",version:Vee},environment:e,release:n,timestamp:Date.now()/1e3},t.scope.toBody());if(t.type==="exception"){o.message=(i=(r=t.error)==null?void 0:r.message)!=null?i:"Unknown error",o.fingerprint=[o.message];let a=[],s=t.error;for(let l=0;l<5&&s&&(a.push(Qee(s)),!(!s.cause||!(s.cause instanceof Error)));l++)s=s.cause;o.exception={values:a.reverse()}}return t.type==="message"&&(o.message=t.message,o.level=t.level),o}function tte(t){if(t instanceof Error)return t;if(typeof t=="string")return new Error(t);if(typeof t=="object"&&t!==null&&!Array.isArray(t)){let n=t,{message:r}=n,i=Dee(n,["message"]),o=new Error(typeof r=="string"?r:aO);return Object.assign(o,i)}let e=new Error(aO);return Object.assign(e,{cause:t})}function nte(t,e,n){return Zd(this,null,function*(){var r,i;try{if(typeof fetch<"u"&&typeof AbortSignal<"u"){let o;if(n){let l=new AbortController;o=l.signal,setTimeout(()=>l.abort(),n)}let a=yield fetch(t,gL(Fi({},e),{signal:o})),s=yield a.text();return{status:a.status,body:s}}return yield new Promise((o,a)=>{var s,l;let c=new XMLHttpRequest;if(c.open((s=e==null?void 0:e.method)!=null?s:"GET",t),c.onload=()=>o({status:c.status,body:c.responseText}),c.onerror=()=>a(new Error("XHR Network Error")),e==null?void 0:e.headers)for(let[u,f]of Object.entries(e.headers))c.setRequestHeader(u,f);if(n){let u=setTimeout(()=>{c.abort(),a(new Error("Request timed out"))},n);c.onloadend=()=>{clearTimeout(u)}}c.send((l=e==null?void 0:e.body)==null?void 0:l.toString())})}catch(o){return{status:0,body:(i=(r=o==null?void 0:o.toString)==null?void 0:r.call(o))!=null?i:"Unknown error"}}})}var yi,ex=(yi=class{constructor(t){hr(this,"apiURL"),hr(this,"dsn"),hr(this,"environment"),hr(this,"release"),hr(this,"sampleRate"),hr(this,"debug"),hr(this,"_scope"),hr(this,"shouldBuffer",!1),hr(this,"bufferlimit",20),hr(this,"buffer",[]);var e,n,r,i,o;this.environment=t.environment,this.release=t.release,this.sampleRate=(e=t.sampleRate)!=null?e:1,this.debug=(n=t.debug)!=null?n:!1,this._scope=(r=t.scope)!=null?r:new zee,this.apiURL=Xee(t.dsn),this.dsn=t.dsn,this.shouldBuffer=(i=t.buffer)!=null?i:!1,this.bufferlimit=(o=t.bufferLimit)!=null?o:20}static init(t){yi._instance||(yi._instance=new yi(t))}static get instance(){if(!yi._instance)throw new Error("Sentry has not been initialized");return yi._instance}log(...t){this.debug&&console.log(...t)}get scope(){return this._scope}static get scope(){return yi.instance.scope}withScope(t){let e=this._scope.child();t(e)}static withScope(t){yi.instance.withScope(t)}captureException(t,e){this.captureEvent({type:"exception",level:"error",error:tte(t),scope:e??this._scope})}static captureException(t,e){yi.instance.captureException(t,e)}captureMessage(t,e="info",n){this.captureEvent({type:"message",level:e,message:t,scope:n??this._scope})}static captureMessage(t,e="info",n){yi.instance.captureMessage(t,e,n)}captureEvent(t){if(Math.random()>=this.sampleRate){this.log("Dropped event due to sample rate");return}if(this.shouldBuffer){if(this.buffer.length>=this.bufferlimit)return;this.buffer.push(t)}else this.sendEvent(t)}sendEvent(t,e=5e3){return Zd(this,null,function*(){try{this.log("Sending sentry event",t);let n=ete(t,this.environment,this.release),r={event_id:n.event_id,dsn:this.dsn},i={type:"event"},o=JSON.stringify(r)+`
`+JSON.stringify(i)+`
`+JSON.stringify(n),a=yield nte(this.apiURL,{method:"POST",headers:{"Content-Type":"application/x-sentry-envelope"},body:o},e);this.log("Sentry response",a.status),a.status!==200&&(console.log(a.body),console.error("Failed to send event to Sentry",a))}catch(n){console.error("Failed to send event",n)}})}flush(t=5e3){return Zd(this,null,function*(){try{this.log("Flushing sentry events",this.buffer.length);let e=this.buffer.splice(0,this.buffer.length).map(n=>this.sendEvent(n,t));yield Promise.all(e),this.log("Flushed all events")}catch(e){console.error("Failed to flush events",e)}})}static flush(t=5e3){return yi.instance.flush(t)}static reset(){yi._instance=void 0}},hr(yi,"_instance"),yi),rte="https://d233059272824702afc8c43834c4912d@sentry.hcaptcha.com/6",ite="2.0.1",ote="production";function ste(t=!0){if(!t)return lO();ex.init({dsn:rte,release:ite,environment:ote});let e=ex.scope;return $ee(e),lO(e)}function lO(t=null){return{addBreadcrumb:e=>{t&&t.addBreadcrumb(e)},captureRequest:e=>{t&&t.setRequest(e)},captureException:e=>{t&&ex.captureException(e,t)}}}function ate({scriptLocation:t,query:e,loadAsync:n=!0,crossOrigin:r="anonymous",apihost:i="https://js.hcaptcha.com",cleanup:o=!0,secureApi:a=!1,scriptSource:s=""}={},l){let c=vL(t),u=mL(c);return new Promise((f,p)=>{let g=u.document.createElement("script");g.id=Bee,s?g.src=`${s}?onload=${Rm}`:a?g.src=`${i}/1/secure-api.js?onload=${Rm}`:g.src=`${i}/1/api.js?onload=${Rm}`,g.crossOrigin=r,g.async=n;let m=(v,_)=>{try{!a&&o&&c.removeChild(g),_(v)}catch(w){p(w)}};g.onload=v=>m(v,f),g.onerror=v=>{l&&l(g.src),m(v,p)},g.src+=e!==""?`&${e}`:"",c.appendChild(g)})}var Yg=[];function lte(t={cleanup:!0},e){try{e.addBreadcrumb({category:Uc,message:"hCaptcha loader params",data:t});let n=vL(t.scriptLocation),r=mL(n),i=Yg.find(({scope:a})=>a===r.window);if(i)return e.addBreadcrumb({category:Uc,message:"hCaptcha already loaded"}),i.promise;let o=new Promise((a,s)=>Zd(this,null,function*(){try{r.window[Rm]=()=>{e.addBreadcrumb({category:Uc,message:"hCaptcha script called onload function"}),a(r.window.hcaptcha)};let l=jee({custom:t.custom,render:t.render,sentry:t.sentry,assethost:t.assethost,imghost:t.imghost,reportapi:t.reportapi,endpoint:t.endpoint,host:t.host,recaptchacompat:t.recaptchacompat,hl:t.hl});yield ate(Fi({query:l},t),c=>{e.captureRequest({url:c,method:"GET"})}),e.addBreadcrumb({category:Uc,message:"hCaptcha loaded",data:i})}catch{e.addBreadcrumb({category:Uc,message:"hCaptcha failed to load"});let c=Yg.findIndex(u=>u.scope===r.window);c!==-1&&Yg.splice(c,1),s(new Error(sO))}}));return Yg.push({promise:o,scope:r.window}),o}catch(n){return e.captureException(n),Promise.reject(new Error(sO))}}function wL(t,e,n=0){return Zd(this,null,function*(){let r=n<2?"Retry loading hCaptcha Api":"Exceeded maximum retries";try{return yield lte(t,e)}catch(i){return e.addBreadcrumb({category:Uc,message:r}),n>=2?(e.captureException(i),Promise.reject(i)):(n+=1,wL(t,e,n))}})}function cte(){return Zd(this,arguments,function*(t={}){let e=ste(t.sentry);return yield wL(t,e)})}function cO(t){var e=t&&t.ownerDocument||document,n=e.defaultView||e.parentWindow||window;return{document:e,window:n}}function uO(t){return t||document.head}var ute=function(t){Tee(e,t);function e(r){var i;return i=t.call(this,r)||this,i._hcaptcha=void 0,i.renderCaptcha=i.renderCaptcha.bind(io(i)),i.resetCaptcha=i.resetCaptcha.bind(io(i)),i.removeCaptcha=i.removeCaptcha.bind(io(i)),i.isReady=i.isReady.bind(io(i)),i._onReady=null,i.loadCaptcha=i.loadCaptcha.bind(io(i)),i.handleOnLoad=i.handleOnLoad.bind(io(i)),i.handleSubmit=i.handleSubmit.bind(io(i)),i.handleExpire=i.handleExpire.bind(io(i)),i.handleError=i.handleError.bind(io(i)),i.handleOpen=i.handleOpen.bind(io(i)),i.handleClose=i.handleClose.bind(io(i)),i.handleChallengeExpired=i.handleChallengeExpired.bind(io(i)),i.ref=fe.createRef(),i.apiScriptRequested=!1,i.sentryHub=null,i.captchaId="",i.state={isApiReady:!1,isRemoved:!1,elementId:r.id},i}var n=e.prototype;return n.componentDidMount=function(){var i=this,o=uO(this.props.scriptLocation),a=cO(o);this._hcaptcha=a.window.hcaptcha||void 0;var s=typeof this._hcaptcha<"u";if(s){this.setState({isApiReady:!0},function(){i.renderCaptcha()});return}this.loadCaptcha()},n.componentWillUnmount=function(){var i=this._hcaptcha,o=this.captchaId;this.isReady()&&(i.reset(o),i.remove(o))},n.shouldComponentUpdate=function(i,o){return!(this.state.isApiReady!==o.isApiReady||this.state.isRemoved!==o.isRemoved)},n.componentDidUpdate=function(i){var o=this,a=["sitekey","size","theme","tabindex","languageOverride","endpoint"],s=a.every(function(l){return i[l]===o.props[l]});s||this.removeCaptcha(function(){o.renderCaptcha()})},n.loadCaptcha=function(){if(!this.apiScriptRequested){var i=this.props,o=i.apihost,a=i.assethost,s=i.endpoint,l=i.host,c=i.imghost,u=i.languageOverride,f=i.reCaptchaCompat,p=i.reportapi,g=i.sentry,m=i.custom,v=i.loadAsync,_=i.scriptLocation,w=i.scriptSource,I=i.secureApi,k=i.cleanup,$=k===void 0?!0:k,L={render:"explicit",apihost:o,assethost:a,endpoint:s,hl:u,host:l,imghost:c,recaptchacompat:f===!1?"off":null,reportapi:p,sentry:g,custom:m,loadAsync:v,scriptLocation:_,scriptSource:w,secureApi:I,cleanup:$};cte(L).then(this.handleOnLoad,this.handleError).catch(this.handleError),this.apiScriptRequested=!0}},n.renderCaptcha=function(i){var o=this,a=this.props.onReady,s=this.state.isApiReady,l=this.captchaId;if(!(!s||l)){var c=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),u=this._hcaptcha,f=u.render(this.ref.current,c);this.captchaId=f,this.setState({isRemoved:!1},function(){i&&i(),a&&a(),o._onReady&&o._onReady(f)})}},n.resetCaptcha=function(){var i=this._hcaptcha,o=this.captchaId;this.isReady()&&i.reset(o)},n.removeCaptcha=function(i){var o=this,a=this._hcaptcha,s=this.captchaId;this.isReady()&&this.setState({isRemoved:!0},function(){o.captchaId="",a.remove(s),i&&i()})},n.handleOnLoad=function(){var i=this;this.setState({isApiReady:!0},function(){var o=uO(i.props.scriptLocation),a=cO(o);i._hcaptcha=a.window.hcaptcha,i.renderCaptcha(function(){var s=i.props.onLoad;s&&s()})})},n.handleSubmit=function(i){var o=this.props.onVerify,a=this.state.isRemoved,s=this._hcaptcha,l=this.captchaId;if(!(typeof s>"u"||a)){var c=s.getResponse(l),u=s.getRespKey(l);o&&o(c,u)}},n.handleExpire=function(){var i=this.props.onExpire,o=this._hcaptcha,a=this.captchaId;this.isReady()&&(o.reset(a),i&&i())},n.handleError=function(i){var o=this.props.onError,a=this._hcaptcha,s=this.captchaId;this.isReady()&&a.reset(s),o&&o(i)},n.isReady=function(){var i=this.state,o=i.isApiReady,a=i.isRemoved;return o&&!a},n.handleOpen=function(){!this.isReady()||!this.props.onOpen||this.props.onOpen()},n.handleClose=function(){!this.isReady()||!this.props.onClose||this.props.onClose()},n.handleChallengeExpired=function(){!this.isReady()||!this.props.onChalExpired||this.props.onChalExpired()},n.execute=function(i){var o=this;i===void 0&&(i=null),i=typeof i=="object"?i:null;try{var a=this._hcaptcha,s=this.captchaId;if(!this.isReady()){var l,c=new Promise(function(u,f){o._onReady=function(p){try{var g=o._hcaptcha;i&&i.async?g.execute(p,i).then(u).catch(f):u(g.execute(p,i))}catch(m){f(m)}}});return(l=i)!=null&&l.async?c:null}return a.execute(s,i)}catch(u){return i&&i.async?Promise.reject(u):null}},n.close=function(){var i=this._hcaptcha,o=this.captchaId;if(this.isReady())return i.close(o)},n.setData=function(i){var o=this._hcaptcha,a=this.captchaId;this.isReady()&&(i&&typeof i!="object"&&(i=null),o.setData(a,i))},n.getResponse=function(){var i=this._hcaptcha;return i.getResponse(this.captchaId)},n.getRespKey=function(){var i=this._hcaptcha;return i.getRespKey(this.captchaId)},n.render=function(){var i=this.state.elementId;return fe.createElement("div",{ref:this.ref,id:i})},e}(fe.Component);class bL{constructor(e){if(Ae(this,"authBaseApiUrl",void 0),Ae(this,"passwordlessParams",void 0),Ae(this,"trackingIdentifier",void 0),Ae(this,"version",`web3auth-${xQ.split(".")[0]}`),!e.authConnection)throw ot.invalidParams("authConnection is required");if(!e.web3authClientId)throw ot.invalidParams("web3authClientId is required");if(!e.loginHint)throw ot.invalidParams("loginHint is required");if(!e.network)throw ot.invalidParams("network is required");e.authBuildEnv||(e.authBuildEnv=xi.PRODUCTION),this.authBaseApiUrl=`${IQ[e.authBuildEnv]}/api/v3/auth`,this.passwordlessParams=e}get name(){if(this.passwordlessParams.authConnection===it.EMAIL_PASSWORDLESS)return"Email";if(this.passwordlessParams.authConnection===it.SMS_PASSWORDLESS)return"Mobile";throw ot.invalidParams("Invalid authConnection")}get connection(){if(this.passwordlessParams.authConnection===it.EMAIL_PASSWORDLESS)return"email";if(this.passwordlessParams.authConnection===it.SMS_PASSWORDLESS)return"sms";throw ot.invalidParams("Invalid authConnection")}get trackingId(){return this.trackingIdentifier}get sessionStorageAvailable(){return P2("sessionStorage")}get whiteLabelParams(){var e;const{uiConfig:n}=this.passwordlessParams;if(!n)return{};const{appName:r,appUrl:i,defaultLanguage:o,mode:a,logoLight:s,logoDark:l,theme:c}=n,u=(e=a==="dark"?l:s)!==null&&e!==void 0?e:"";return{mode:a??"light",name:r??"",url:i??"",language:o??"en",logo:u.includes(".svg")?"":u,theme:c??{}}}set trackingId(e){this.trackingIdentifier=e}async start(e){try{const r=await cu(`${this.authBaseApiUrl}/passwordless/start`,e);if(r&&r.success){var n;this.trackingId=(n=r.data)===null||n===void 0?void 0:n.trackingId,this.sessionStorageAvailable&&window.sessionStorage.setItem("trackingId",this.trackingId)}return r}catch(r){return this.handleError(r)}}async verify(e){try{const n=await cu(`${this.authBaseApiUrl}/passwordless/verify`,e);return n.success?(this.sessionStorageAvailable&&window.sessionStorage.removeItem("trackingId"),{success:!0,data:{id_token:n.id_token}}):{success:!1,error:n.message}}catch(n){return this.handleError(n)}}async handleError(e){let n;if(e.status===429)n="passwordless.error-too-many-requests";else try{const r=await e.json();n=r.error_code?SX(r.error_code):r.message}catch{n="passwordless.something-wrong-error"}return{success:!1,error:n}}}class dte extends bL{constructor(e){var n;super(e),Ae(this,"mailSent",void 0),this.mailSent=!1,this.sessionStorageAvailable&&(this.trackingId=(n=window.sessionStorage.getItem("trackingId"))!==null&&n!==void 0?n:void 0)}async sendVerificationCode({captchaToken:e}){const{loginHint:n,network:r,web3authClientId:i}=this.passwordlessParams,o={client_id:i,web3auth_client_id:i,connection:this.connection,login_hint:n,tracking_id:this.trackingId,whitelabel:this.whiteLabelParams,version:this.version,network:r,flow_type:D2.code,captcha_token:e};return super.start(o)}async verifyCode(e){const{loginHint:n,network:r,web3authClientId:i}=this.passwordlessParams,o={client_id:i,login_hint:n,code:e,connection:"email",tracking_id:this.trackingId,version:this.version,network:r,flow_type:D2.code};return super.verify(o)}}class fte extends bL{constructor(e){if(super(e),this.sessionStorageAvailable){var n;this.trackingId=(n=window.sessionStorage.getItem("trackingId"))!==null&&n!==void 0?n:void 0}}async sendVerificationCode({captchaToken:e}){const{loginHint:n,network:r,web3authClientId:i}=this.passwordlessParams,o=be({client_id:i,web3auth_client_id:i,connection:this.connection,login_hint:n,tracking_id:this.trackingId,whitelabel:this.whiteLabelParams,version:this.version,network:r},e&&{captcha_token:e});return super.start(o)}async verifyCode(e){const{loginHint:n,network:r,web3authClientId:i}=this.passwordlessParams,o={client_id:i,login_hint:n,code:e,connection:this.connection,tracking_id:this.trackingId,version:this.version,network:r};return super.verify(o)}}const hte=(t,e)=>{switch(t){case it.EMAIL_PASSWORDLESS:return new dte(e);case it.SMS_PASSWORDLESS:return new fte(e);default:throw ot.invalidParams(`Unsupported auth connection: ${t}`)}},pte="test_account_",gte="@example.com",mte="+1-555",vte=(t,e)=>{if(t===it.EMAIL_PASSWORDLESS)return e.startsWith(pte)&&e.endsWith(gte);if(t===it.SMS_PASSWORDLESS)return e.startsWith(mte);throw ot.invalidParams(`Unsupported auth connection: ${t}`)},yte=({children:t,content:e,isDark:n=!1,hideHint:r=!1})=>{const[i,o]=fe.useState(!1),a=()=>{o(!0)},s=()=>{o(!1)},l=fe.useMemo(()=>({borderTop:"8px solid transparent",borderRight:"none",borderBottom:"8px solid transparent",borderLeft:`8px solid ${n?"#ffffff":"#1f2a37"}`,left:"0%",top:"calc(100% - 8px)"}),[n]);return re.jsxs("div",{className:"w3a--relative","aria-hidden":!0,onMouseEnter:a,onMouseLeave:s,onFocus:a,onBlur:s,onClick:s,children:[t,i&&!r&&re.jsxs("div",{"data-popover":!0,role:"tooltip",className:Gt("w3a--absolute w3a--z-[45] w3a--shadow-2xl w3a--rounded-lg w3a--bottom-[100%] w3a--left-[50%] w3a--w-max w3a--text-xs w3a--px-[6px] w3a--py-[3px]",n?"w3a--bg-app-white w3a--text-app-gray-900":"w3a--bg-app-gray-800 w3a--text-app-gray-100"),children:[e,re.jsx("div",{className:"w3a--absolute",style:l})]})]})};function dO(t,e,n){const r=t===it.TWITTER?`login-X${e?"-light":"-dark"}`:`login-${t}${e?"-light":"-dark"}`,i=t===it.APPLE||t===it.GITHUB||t===it.TWITTER?r:`login-${t}-active`;return re.jsxs(re.Fragment,{children:[re.jsx("img",{id:"active-login-img",src:`https://images.web3auth.io/${i}${n}`,alt:"active-login-img",className:"w3a--hidden w3a--size-5 w3a--object-contain group-hover:w3a--block"}),re.jsx("img",{id:"login-img",src:`https://images.web3auth.io/${r}${n}`,alt:"login-img",className:"w3a--block w3a--size-5 w3a--object-contain group-hover:w3a--hidden"})]})}function wte(t){const{visibleRow:e,otherRow:n,isDark:r,canShowMore:i,handleSocialLoginClick:o,handleExpandSocialLogins:a,buttonRadius:s}=t,l=()=>e.length===1?"w3a--grid-cols-1":e.length===2?"w3a--grid-cols-2":e.length===3?"w3a--grid-cols-3":"w3a--grid-cols-4";return e.length!==0&&(n==null?void 0:n.length)===0?re.jsx("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:re.jsxs("div",{className:Gt("w3a--grid w3a--w-full w3a--gap-x-2",l()),children:[e.filter((c,u)=>e.length===4?u<=3:u<3).map(c=>re.jsx(yte,{content:"Last Login",isDark:r,hideHint:!0,children:re.jsx(Om,{type:Td.SOCIAL,props:{showText:!1,method:c.method,isDark:r,isPrimaryBtn:!1,btnStyle:"w3a--flex w3a--items-center !w3a--justify-center w3a--w-full w3a--h-11 w3a--group",children:re.jsx(re.Fragment,{children:dO(c.method,r,".svg")}),onClick:()=>o({connector:c.connector,loginParams:c.loginParams}),buttonRadius:s}},c.method)},c.method)),i&&e.length>4&&re.jsx(Om,{type:Td.SOCIAL,props:{showIcon:!1,onClick:a,btnStyle:"w3a--flex w3a--items-center !w3a--justify-center w3a--w-full w3a--h-11",children:re.jsx("img",{src:ki(r?"dots-dark-horizontal":"dots-light-horizontal"),alt:"Logo",className:"w3a--object-contain"}),buttonRadius:s}})]})}):re.jsxs("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-start w3a--justify-start w3a--gap-y-4",children:[re.jsx("button",{type:"button",className:"w3a--appearance-none",onClick:()=>a(),children:re.jsx("img",{src:ki(r?"arrow-left-dark":"arrow-left-light"),alt:"Logo",className:"w3a--object-contain"})}),re.jsx("div",{className:"w3a--social-container w3a--grid w3a--h-[300px] w3a--w-full w3a--auto-rows-min w3a--grid-cols-1 w3a--gap-y-2 w3a--overflow-y-auto w3a--pl-2 w3a--pr-3",children:n.map(c=>re.jsx("div",{className:"w3a--h-11 w3a--w-full",children:re.jsx(Om,{type:Td.SOCIAL,props:{method:c.method,isDark:r,isPrimaryBtn:!1,onClick:()=>o({connector:c.connector,loginParams:c.loginParams}),btnStyle:"w3a--group w3a--relative w3a--overflow-hidden w3a--flex w3a--items-center !w3a--justify-start w3a--w-full w3a--h-11",buttonRadius:s,children:re.jsxs(re.Fragment,{children:[dO(c.method,r,".svg"),re.jsx("p",{className:"w3a--text-sm w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:c.name}),re.jsx("img",{id:"login-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:ki(r?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})}})},c.method))})]})}const EL=fe.forwardRef(({length:t,loading:e,resendTimer:n=60,onComplete:r,onChange:i,error:o=!1,success:a=!1,disabled:s=!1,classes:l,helperText:c="",onResendTimer:u,showCta:f=!0,showTimer:p=!0,autoFocus:g=!1,placeholder:m="",autoComplete:v="one-time-code",type:_="text",resendBtnText:w=""},I)=>{const[k,$]=fe.useState(Array(t).fill("")),[L,z]=fe.useState(n??0),[H]=oi(void 0,{i18n:Yt}),P=fe.useRef([]),D=T=>/^\d$/.test(T)&&T.trim().length===1,B=(T,j)=>{if(T.key==="Backspace"||T.key==="Delete"){T.preventDefault();const R=[...k];if(k[j]!=="")R[j]="";else if(j>0){var A;(A=P.current[j-1])===null||A===void 0||A.focus(),R[j-1]=""}$(R),i&&i(R.join(""))}else if(T.key==="ArrowLeft"){var M;T.preventDefault(),(M=P.current[j-1])===null||M===void 0||M.focus()}else if(T.key==="ArrowRight"){var x;T.preventDefault(),(x=P.current[j+1])===null||x===void 0||x.focus()}else(T.key===" "||T.key==="Spacebar"||T.key==="Space"||!D(T.key)&&P.current[j+1])&&(T.preventDefault(),P.current[j+1].value="")},O=(T,j)=>{T.preventDefault();const{value:A}=T.target;if(A&&A.length>1&&A.length===t){var M;const R=A.split(""),F=[...k];R.forEach((U,K)=>{F[K]=U}),$(F),(M=P.current[R.length===t?t-1:R.length])===null||M===void 0||M.focus(),r&&t===F.length&&r(F.join(""))}else if(D(A)){const R=[...k].slice(0,t);R[j]=A,$(R);const F=R.join("");if(j<t-1&&P.current[j+1]){var x;(x=P.current[j+1])===null||x===void 0||x.focus()}i&&i(A),r&&t===F.length&&r(F)}},y=T=>{T.preventDefault();const j=T.clipboardData.getData("text").slice(0,t);if(j&&/^\d+$/.test(j)){var A;const M=j.split(""),x=[...k];M.forEach((R,F)=>{x[F]=R}),$(x),(A=P.current[M.length===t?t-1:M.length])===null||A===void 0||A.focus(),r&&t===x.length&&r(x.join(""))}},E=()=>{z(n||0),u&&u()};fe.useEffect(()=>{let T=null;return f&&p&&(T=window.setInterval(()=>{L>0?z(j=>j-1):clearInterval(T)},1e3)),()=>{clearInterval(T)}},[L]),fe.useEffect(()=>{if(P&&g){var T;(T=P.current)===null||T===void 0||T[0].focus()}},[g]);const S=Gt("w3a--text-xs w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-white w3a--mt-2",{"w3a--text-app-red-500 dark:w3a--text-app-red-400":o,"w3a--text-app-green-500 dark:w3a--text-app-green-400":a},l==null?void 0:l.helperText),C=new Date().getFullYear();return re.jsxs("div",{className:Gt("w3a--flex w3a--flex-col w3a--items-center",l==null?void 0:l.root),ref:I,children:[re.jsx("form",{className:Gt("w3a--flex w3a--space-x-2",l==null?void 0:l.inputContainer),children:k.map((T,j)=>{var A,M,x;return re.jsx("input",{id:`${C+j}`,type:_,value:T,autoComplete:v,placeholder:Array.isArray(m)?m[j]:m,inputMode:"numeric",onInput:R=>O(R,j),onKeyUp:R=>B(R,j),onPaste:y,className:Gt("w3a--w-12 w3a--h-[42px] w3a--rounded-full w3a--border w3a--text-center w3a--text-xl w3a--focus:outline-none w3a--active:outline-none w3a--focus:border-app-primary-600 dark:w3a--focus:border-app-primary-500 w3a--border-app-gray-300 dark:w3a--border-app-gray-500 w3a--bg-app-gray-50 dark:w3a--bg-app-gray-700 w3a--text-app-gray-900 dark:w3a--text-app-white",a&&((A=l==null?void 0:l.success)!==null&&A!==void 0?A:"w3a--border-app-green-400 dark:w3a--border-app-green-500 w3a--focus:w3a--border-app-green-400 dark:w3a--focus:w3a--border-app-green-500"),o&&((M=l==null?void 0:l.error)!==null&&M!==void 0?M:"w3a--border-app-red-600 dark:w3a--border-app-red-500 w3a--focus:w3a--border-app-red-600 dark:w3a--focus:w3a--border-app-red-500"),s&&((x=l==null?void 0:l.disabled)!==null&&x!==void 0?x:"w3a--border-app-gray-200 w3a--bg-app-gray-200 dark:w3a--border-app-gray-700 w3a--focus:w3a--border-app-gray-200 dark:w3a--focus:w3a--border-app-gray-700 w3a--cursor-not-allowed"),l==null?void 0:l.input),ref:R=>{P.current[j]=R},disabled:s},`${C+j}`)})}),c&&re.jsx("p",{className:S,children:c}),e&&re.jsx("div",{className:"w3a--mt-3",children:re.jsx(X_,{})}),f&&!e&&re.jsx("div",{className:Gt("w3a--flex w3a--items-center w3a--mt-3",l==null?void 0:l.ctaContainer),children:L>0&&p?re.jsx("span",{className:Gt("w3a--text-xs w3a--text-app-gray-500 dark:w3a--text-app-gray-400",l==null?void 0:l.timerText),children:H("modal.resendTimer",{timer:L})}):re.jsx("button",{type:"button",className:Gt("w3a--text-xs w3a--p-0 w3a--text-app-primary-600 dark:w3a--text-app-primary-500",l==null?void 0:l.resendBtnText),onClick:E,disabled:L>0&&p,children:w||H("modal.resendCode")})})]})});EL.displayName="OtpInput";function bte(t){const{setShowOtpFlow:e,handleOtpComplete:n,authConnection:r,loginHint:i="",errorMessage:o,otpLoading:a,countryFlag:s}=t,l=fe.useMemo(()=>r===it.SMS_PASSWORDLESS,[r]),[c]=oi(void 0,{i18n:Yt}),u=fe.useMemo(()=>{if(r===it.EMAIL_PASSWORDLESS)return i;const[f,p]=i.includes("-")?i.split("-"):["",i],g=`${p}`.slice(-Math.floor(p.length/2)).padStart(`${p}`.length,"*");return`${s} ${f} ${g}`},[i,r,s]);return re.jsxs(re.Fragment,{children:[re.jsx("div",{className:"w3a--mr-auto w3a--flex w3a--w-full w3a--items-start w3a--justify-start",children:re.jsx("button",{type:"button",className:"w3a--z-20 w3a--flex w3a--size-5 w3a--cursor-pointer w3a--items-center w3a--justify-center w3a--rounded-full",onClick:()=>e(!1),children:re.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:re.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.707 16.707a1 1 0 0 1-1.414 0l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 1.414L5.414 9H17a1 1 0 1 1 0 2H5.414l4.293 4.293a1 1 0 0 1 0 1.414",clipRule:"evenodd"})})})}),re.jsxs("div",{className:"-w3a--mt-10 w3a--flex w3a--size-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[re.jsx("img",{src:ki(l?"sms-otp-light":"email-otp-light"),alt:"otp",className:"w3a--size-auto"}),re.jsxs("div",{className:"w3a--mx-auto -w3a--mt-6 w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:[re.jsx("p",{className:"w3a--text-lg w3a--font-bold w3a--text-app-gray-900 dark:w3a--text-app-white",children:c(l?"modal.otp.mobile-title":"modal.otp.email-title")}),re.jsxs("div",{className:"w3a--mx-auto w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-1",children:[re.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:c(l?"modal.otp.mobile-subtext":"modal.otp.email-subtext")}),re.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:l?u:c("modal.otp.email-subtext-example",{email:u})})]})]}),re.jsx(EL,{length:6,onComplete:n,error:!!o,helperText:o,loading:a,disabled:a})]})]})}function Ete(t){const{otpLoading:e,setShowOtpFlow:n,handleOtpComplete:r,authConnection:i,loginHint:o,errorMessage:a,countryFlag:s}=t;return re.jsx("div",{className:"w3a--flex w3a--size-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:re.jsx(bte,{errorMessage:a,setShowOtpFlow:n,handleOtpComplete:r,authConnection:i,loginHint:o,otpLoading:e,countryFlag:s})})}function xte(t){const{isModalVisible:e,isPasswordLessCtaClicked:n,setIsPasswordLessCtaClicked:r,title:i,placeholder:o,handleFormSubmit:a,errorMessage:s,isDark:l,isPasswordLessLoading:c,buttonRadius:u}=t,[f]=oi(void 0,{i18n:Yt}),p=fe.useRef(null),[g,m]=fe.useState(""),[v,_]=fe.useState(!1),w=$=>{m($.target.value),_(!0)},I=$=>{const{key:L}=$;L==="Enter"&&(a(g),_(!1))},k=$=>{$.preventDefault(),$.stopPropagation(),a(g),_(!1)};return fe.useEffect(()=>{e||r(!1)},[e,r]),fe.useEffect(()=>{if(n){var $;($=p.current)===null||$===void 0||$.focus()}},[n]),n?re.jsxs(re.Fragment,{children:[re.jsxs("div",{className:Gt("w3a--input",v&&"!w3a--border-app-primary-600",{"w3a--rounded-full":u==="pill","w3a--rounded-lg":u==="rounded","w3a--rounded-none":u==="square"}),children:[re.jsx("input",{ref:p,onInput:w,value:g,placeholder:o,onFocus:()=>{_(!0)},onBlur:$=>{$.target.placeholder=`${o}`,_(!1)},type:"text",className:Gt("w3a--w-full w3a--appearance-none w3a--bg-transparent w3a--text-app-gray-900 w3a--outline-none placeholder:w3a--text-xs placeholder:w3a--text-app-gray-400 focus:w3a--outline-none active:w3a--outline-none dark:w3a--text-app-white dark:placeholder:w3a--text-app-gray-500"),onKeyDown:$=>I($),disabled:c}),c&&re.jsx(X_,{}),g&&!c&&re.jsx("button",{type:"button",className:"w3a--appearance-none",onClick:k,children:re.jsx("img",{src:ki(l?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})})]}),s&&!v&&n&&re.jsx("p",{className:"w3a--w-full w3a--pl-6 w3a--text-start w3a--text-xs w3a--font-normal w3a--text-app-red-500 dark:w3a--text-app-red-400",children:s})]}):re.jsxs("button",{type:"button",className:Gt("w3a--btn !w3a--justify-between w3a--relative w3a--group w3a--overflow-hidden",{"w3a--rounded-full":u==="pill","w3a--rounded-lg":u==="rounded","w3a--rounded-none":u==="square"}),onClick:()=>{r(!0)},children:[re.jsx("p",{className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:f("modal.passwordless.title",{title:i})}),re.jsx("img",{id:"passwordless-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:ki(l?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})}const _te=[it.SMS_PASSWORDLESS,it.EMAIL_PASSWORDLESS,it.AUTHENTICATOR,it.PASSKEYS,it.TELEGRAM,it.CUSTOM];function Ste(t){const{web3authClientId:e,web3authNetwork:n,authBuildEnv:r,appLogo:i,isModalVisible:o,handleSocialLoginHeight:a,socialLoginsConfig:s,installedExternalWalletConfig:l,isDark:c,handleSocialLoginClick:u,totalExternalWallets:f,isEmailPasswordLessLoginVisible:p,isSmsPasswordLessLoginVisible:g,handleExternalWalletBtnClick:m,handleExternalWalletClick:v,areSocialLoginsVisible:_,showPasswordLessInput:w,showExternalWalletButton:I,showExternalWalletCount:k,showInstalledExternalWallets:$,logoAlignment:L="center",buttonRadius:z="pill",deviceDetails:H}=t,[P]=oi(void 0,{i18n:Yt}),{bodyState:D,setBodyState:B}=fe.useContext($p),{analytics:O}=fe.useContext(Q_),[y,E]=fe.useState(""),[S,C]=fe.useState(""),[T,j]=fe.useState(""),[A,M]=fe.useState(""),[x,R]=fe.useState(!1),[F,U]=fe.useState(!1),[K,G]=fe.useState([]),[Q,ne]=fe.useState([]),[J,Z]=fe.useState(!1),[ee,ie]=fe.useState(!1),[se,X]=fe.useState(void 0),[ae,de]=fe.useState(void 0),[me,Ee]=fe.useState(!1),[ye,ue]=fe.useState(!1),[_e,Ie]=fe.useState(!1),[we,Fe]=fe.useState(""),He=fe.useRef(null),Ve=()=>{R(Ze=>!Ze),Z(!1),a()};fe.useEffect(()=>{const Ze=Object.keys(s.loginMethods).filter(ce=>s.loginMethods[ce].showOnModal),Ct=[],Ht=[],It=(s.loginMethodsOrder||[]).reduce((ce,he,$e)=>(ce[he]=$e,ce),{}),wt=Object.keys(s.loginMethods).filter(ce=>!!s.loginMethods[ce].showOnModal&&!_te.includes(ce)).sort((ce,he)=>{var $e,qe;const Qe=(s.loginMethodsOrder||[]).length,_t=($e=It[ce])!==null&&$e!==void 0?$e:Qe,Cn=(qe=It[he])!==null&&qe!==void 0?qe:Qe,{mainOption:Wt}=s.loginMethods[ce]||{},{mainOption:Ft}=s.loginMethods[he]||{};return Wt&&Ft?_t-Cn:Wt?-1:Ft?1:_t-Cn});wt.forEach((ce,he)=>{var $e;const qe=s.loginMethods[ce],Qe=J_(qe.name||ce),_t=he+1,Cn=(s==null||($e=s.uiConfig)===null||$e===void 0?void 0:$e.primaryButton)==="socialLogin"&&_t===1,Wt=wt.length;(Wt>=4?_t>0&&_t<=Wt:_t>0&&_t<4)&&Ct.push({method:ce,isDark:c,isPrimaryBtn:Cn,name:Qe,connector:s.connector,loginParams:{authConnection:qe.authConnection||ce,authConnectionId:qe.authConnectionId,groupedAuthConnectionId:qe.groupedAuthConnectionId,extraLoginOptions:qe.extraLoginOptions,name:Qe,login_hint:""},order:_t}),Ht.push({method:ce,isDark:c,isPrimaryBtn:Cn,name:Qe==="Twitter"?"X":Qe,connector:s.connector,loginParams:{authConnection:ce,authConnectionId:qe.authConnectionId,groupedAuthConnectionId:qe.groupedAuthConnectionId,extraLoginOptions:qe.extraLoginOptions,name:Qe,login_hint:""},order:_t})}),G(Ct),ne(Ht),U(Ze.length>4)},[s,c,z]);const Je=async(Ze,Ct)=>{try{const It=hte(Ze,{loginHint:Ct,web3authClientId:e,network:n,uiConfig:s.uiConfig,authConnection:Ze,authBuildEnv:r});let wt;if(!vte(Ze,Ct)){var Ht;const he=await((Ht=He.current)===null||Ht===void 0?void 0:Ht.execute({async:!0}));if(!he)throw St.connectionError("Captcha token is required");wt=he.response}const ce=await It.sendVerificationCode({captchaToken:wt});if(ce!=null&&ce.error){j(P(ce.error));return}X(Ze),ie(!0),de(It)}catch(It){nt.error(It)}finally{Ee(!1)}},te=async Ze=>{if(Ee(!0),p&&Ze.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i)){const Ht=s.loginMethods[it.EMAIL_PASSWORDLESS];return Ht.isDefault?u({connector:s.connector,loginParams:{authConnection:it.EMAIL_PASSWORDLESS,authConnectionId:Ht.authConnectionId,groupedAuthConnectionId:Ht.groupedAuthConnectionId,extraLoginOptions:Ht.extraLoginOptions,loginHint:Ze,name:"Email"}}):Je(it.EMAIL_PASSWORDLESS,Ze)}if(g){const Ct=Ze.startsWith("+")?Ze:`${y}${Ze}`,Ht=await xX(Ct);if(Ht.success){const It=typeof Ht.parsed_number=="string"?Ht.parsed_number:Ct,wt=s.loginMethods[it.SMS_PASSWORDLESS];return wt.isDefault?u({connector:s.connector,loginParams:{authConnection:it.SMS_PASSWORDLESS,authConnectionId:wt.authConnectionId,groupedAuthConnectionId:wt.groupedAuthConnectionId,extraLoginOptions:wt.extraLoginOptions,loginHint:It,name:"Mobile"}}):(C(Ht.country_flag),Je(it.SMS_PASSWORDLESS,It))}}j(le),Ee(!1)},W=fe.useMemo(()=>P(p&&g?"modal.social.passwordless-title":p?"modal.social.email":"modal.social.phone"),[p,g,P]),Y=fe.useMemo(()=>p&&g?"+(00)123456/name@example.com":p?"name@example.com":"+(00)123456",[p,g]),le=fe.useMemo(()=>P(p&&g?"modal.errors-invalid-number-email":p?"modal.errors-invalid-email":"modal.errors-invalid-number"),[p,g,P]);fe.useEffect(()=>{g&&(async()=>{const Ct=await EX();Ct&&Ct.dialCode&&E(Ct.dialCode)})()},[g]);const ge=Ze=>{O==null||O.track(dn.EXTERNAL_WALLET_LIST_EXPANDED,{total_external_wallets:f,installed_external_wallets:rt.length}),Z(!1),Ze.preventDefault(),m&&m(!0)},ke=async Ze=>{ue(!0),A&&M("");try{var Ct;const It=s.loginMethods[se],wt=await(ae==null?void 0:ae.verifyCode(Ze));if(wt!=null&&wt.error){M(P(wt.error));return}if(wt!=null&&(Ct=wt.data)!==null&&Ct!==void 0&&Ct.id_token){var Ht;return u({connector:s.connector,loginParams:{authConnection:se,authConnectionId:It.authConnectionId,groupedAuthConnectionId:It.groupedAuthConnectionId,extraLoginOptions:be(be({},It.extraLoginOptions),{},{id_token:(Ht=wt.data)===null||Ht===void 0?void 0:Ht.id_token}),loginHint:ae.passwordlessParams.loginHint,name:ae.name}})}}catch(It){nt.error(It)}finally{ue(!1)}},Re=Ze=>{var Ct;if(O==null||O.track(dn.EXTERNAL_WALLET_SELECTED,{connector:Ze.name,wallet_name:Ze.displayName,is_installed:Ze.isInstalled,is_injected:Ze.hasInjectedWallet,chain_namespaces:Ze.chainNamespaces,has_wallet_connect:Ze.hasWalletConnect,has_install_links:Ze.hasInstallLinks,has_wallet_registry_item:!!Ze.walletRegistryItem,total_external_wallets:f}),Ze.name===ht.METAMASK&&!Ze.hasInjectedWallet&&H.platform==="desktop"){v({connector:Ze.name}),B(be(be({},D),{},{metamaskQrCode:{show:!0,wallet:Ze}}));return}((Ct=Ze.chainNamespaces)===null||Ct===void 0?void 0:Ct.length)>1?B(be(be({},D),{},{multiChainSelector:{show:!0,wallet:Ze}})):v({connector:Ze.name})},rt=fe.useMemo(()=>$?l:l.filter(Ze=>Ze.name===ht.METAMASK),[l,$]);if(ee)return re.jsx(Ete,{otpLoading:ye,loginHint:ae==null?void 0:ae.passwordlessParams.loginHint,setShowOtpFlow:ie,authConnection:se,handleOtpComplete:ke,errorMessage:A,countryFlag:S});const Bt=(Ze=[])=>re.jsx(wte,{otherRow:Ze,isDark:c,visibleRow:K,canShowMore:F,handleSocialLoginClick:u,socialLoginsConfig:s,handleExpandSocialLogins:Ve,buttonRadius:z},"social-login-section"),at=()=>re.jsx(xte,{isModalVisible:o,isPasswordLessCtaClicked:J,setIsPasswordLessCtaClicked:Z,title:W,placeholder:Y,handleFormSubmit:te,errorMessage:T,isDark:c,buttonRadius:z,isPasswordLessLoading:me},"passwordless-section"),xt=()=>re.jsxs("div",{className:Gt("w3a--flex w3a--w-full w3a--flex-col w3a--items-start w3a--justify-start w3a--gap-y-2"),children:[rt.length>0&&rt.map(Ze=>re.jsxs("button",{type:"button",className:Gt("w3a--btn !w3a--justify-between w3a--group w3a--relative w3a--overflow-hidden",{"w3a--rounded-full":z==="pill","w3a--rounded-lg":z==="rounded","w3a--rounded-none":z==="square"}),onClick:()=>Re(Ze),children:[re.jsx("p",{className:"w3a--max-w-[180px] w3a--truncate w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:Ze.displayName}),re.jsxs("div",{className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--flex w3a--w-auto -w3a--translate-y-1/2 w3a--items-center w3a--gap-x-2 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0",children:[Ze.hasInjectedWallet&&re.jsx("span",{className:"w3a--inline-flex w3a--items-center w3a--rounded-md w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:P("modal.external.installed")}),re.jsx("figure",{className:"w3a--size-5",children:re.jsx(bo,{imageData:Ze.icon,imageId:`login-${Ze.name}`,hoverImageId:`login-${Ze.name}`,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:Ze.imgExtension||"webp"})})]}),re.jsx("img",{id:"injected-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:ki(c?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]},Ze.name)),f>3&&re.jsxs("button",{type:"button",className:Gt("w3a--btn !w3a--justify-between w3a--group w3a--relative w3a--overflow-hidden",{"w3a--rounded-full":z==="pill","w3a--rounded-lg":z==="rounded","w3a--rounded-none":z==="square"}),onClick:ge,children:[re.jsx("p",{className:"w3a--text-base w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:P("modal.external.all-wallets")}),k&&f>0&&re.jsx("div",{id:"external-wallet-count",className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--w-auto -w3a--translate-y-1/2 w3a--rounded-full w3a--bg-app-primary-100 w3a--px-2.5 w3a--py-0.5 w3a--text-xs w3a--font-medium w3a--text-app-primary-800 w3a--transition-all w3a--delay-300 w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0 group-hover:w3a--delay-0 dark:w3a--border dark:w3a--border-app-primary-500 dark:w3a--bg-transparent dark:w3a--text-app-primary-500",children:f-1}),re.jsx("img",{id:"external-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:ki(c?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})]},"external-wallets-section"),kt=[qN,zN].includes(i)?"":i,Lt=Ze=>re.jsxs("div",{className:Gt("w3a--flex w3a--w-full w3a--items-center w3a--gap-x-2",kt?"w3a--my-2":"w3a--my-4"),children:[re.jsx("div",{className:"w3a--h-px w3a--w-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-500"}),re.jsx("p",{className:"w3a--text-xs w3a--font-normal w3a--uppercase w3a--text-app-gray-400 dark:w3a--text-app-gray-400",children:"or"}),re.jsx("div",{className:"w3a--h-px w3a--w-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-500"})]},`section-delimiter-${Ze}`),Zt=()=>{var Ze;const Ct={social:Bt,passwordless:at,externalWallets:xt},Ht={social:_,passwordless:w,externalWallets:I},It=((Ze=s.uiConfig)===null||Ze===void 0?void 0:Ze.signInMethods)||["social","passwordless","externalWallets"];Object.entries(Ht).forEach(([ce,he])=>{he&&!It.includes(ce)&&It.push(ce)});const wt=It.map(ce=>Ht[ce]&&Ct[ce]()).filter(Boolean);if(wt.length===3){const ce=It.findIndex(he=>he==="externalWallets");ce===0?wt.splice(1,0,Lt(1)):ce===1?(wt.splice(1,0,Lt(1)),wt.splice(3,0,Lt(2))):ce===2&&wt.splice(2,0,Lt(1))}else wt.length===2&&Ht.externalWallets&&wt.splice(1,0,Lt(1));return wt},zn=()=>Bt(Q);return re.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-4 w3a--p-2",children:[re.jsxs("div",{className:Gt("w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2 w3a--pt-6",L==="center"?"":"w3a--w-full"),children:[kt&&re.jsx("figure",{className:Gt("w3a--mx-auto w3a--h-12 w3a--w-[200px]",L==="center"?"w3a--flex w3a--justify-center w3a--items-center":"w3a--ml-0 w3a--w-auto"),children:re.jsx("img",{src:kt,alt:"Logo",className:"w3a--size-full w3a--object-contain"})}),re.jsx("p",{className:Gt("w3a--text-app-gray-900 dark:w3a--text-app-white",L==="center"?"w3a--text-center":"w3a--text-left w3a--w-full w3a--ml-4",kt?"w3a--text-lg w3a--font-semibold":"w3a--text-3xl w3a--font-medium"),children:P("modal.social.sign-in")})]}),re.jsx(ute,{ref:He,sitekey:kQ,size:"invisible",languageOverride:s.uiConfig.defaultLanguage,theme:s.uiConfig.theme,onOpen:()=>Ie(!0),onClose:()=>Ie(!1),onError:()=>Fe("passwordless.captcha-default-error"),onChalExpired:()=>Fe("passwordless.captcha-default-error")}),we&&_e&&re.jsx("p",{className:"-w3a--mt-2 w3a--w-full w3a--pl-6 w3a--text-start w3a--text-xs w3a--font-normal w3a--text-app-red-500 dark:w3a--text-app-red-400",children:P(we)}),!_e&&re.jsxs("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:[!x&&Zt(),x&&zn()]})]})}const Cte=()=>{const{toast:t,setToast:e}=fe.useContext($p);if(fe.useEffect(()=>{t.message&&setTimeout(()=>{e({message:"",type:bv.SUCCESS})},3e3)},[t.message,e]),!t.message)return null;const n={success:"w3a--border-app-green-200 w3a--bg-app-green-100 w3a--text-app-green-900",error:"w3a--border-app-red-200 w3a--bg-app-red-100 w3a--text-app-red-900",warning:"w3a--border-app-yellow-200 w3a--bg-app-yellow-100 w3a--text-app-yellow-900",info:"w3a--border-app-blue-200 w3a--bg-app-blue-100 w3a--text-app-blue-900"},r={success:"w3a--text-app-green-900",error:"w3a--text-app-red-900",warning:"w3a--text-app-yellow-900",info:"w3a--text-app-blue-900"};return re.jsxs("div",{className:`w3a--absolute w3a--inset-x-4 w3a--bottom-4 w3a--z-[60] w3a--mx-auto w3a--w-[90%] w3a--rounded-md w3a--border w3a--p-4 w3a--text-sm ${n[t.type]}`,children:[re.jsx("div",{className:"w3a--absolute w3a--right-4 w3a--top-4 w3a--z-10 w3a--cursor-pointer",children:re.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:()=>e({message:"",type:bv.SUCCESS}),className:r[t.type],children:re.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),re.jsxs("div",{className:"w3a--flex w3a--items-center w3a--gap-2",children:[re.jsx("p",{className:r[t.type],children:"x"}),re.jsx("p",{children:t.message})]})]})};function fO(t){var e,n,r,i,o,a,s;const{setModalState:l,modalState:c,handleExternalWalletBtnClick:u,chainNamespaces:f,walletRegistry:p,appLogo:g,onCloseLoader:m,handleSocialLoginClick:v,showPasswordLessInput:_,showExternalWalletButton:w,socialLoginsConfig:I,areSocialLoginsVisible:k,isEmailPrimary:$,isExternalPrimary:L,showExternalWalletPage:z,isEmailPasswordLessLoginVisible:H,isSmsPasswordLessLoginVisible:P,preHandleExternalWalletClick:D,uiConfig:B,deviceDetails:O}=t,{logoAlignment:y="center",buttonRadiusType:E="pill",privacyPolicy:S="",tncLink:C="",displayInstalledExternalWallets:T=!0,displayExternalWalletsCount:j=!0}=B,[A]=oi(void 0,{i18n:Yt}),{isDark:M}=fe.useContext(hy),[x,R]=fe.useState({metamaskQrCode:{show:!1,wallet:null},installLinks:{show:!1,wallet:null},multiChainSelector:{show:!1,wallet:null}}),[F,U]=fe.useState({message:"",type:bv.SUCCESS}),[K,G]=fe.useState(!1),[Q,ne]=fe.useState(!1),J=Je=>{l(be(be({},c),{},{currentPage:Fc.CONNECT_WALLET})),u&&u(Je)},Z=Je=>{l(be(be({},c),{},{currentPage:Fc.LOGIN})),u&&u(Je)},ee=fe.useMemo(()=>{var Je;if(O.platform==="desktop")return[];const te=((Je=x.installLinks)===null||Je===void 0||(Je=Je.wallet)===null||Je===void 0||(Je=Je.walletRegistryItem)===null||Je===void 0?void 0:Je.app)||{};return Object.keys(te).reduce((Y,le)=>{if(!["android","ios"].includes(le))return Y;const ge=te[le];if(!ge)return Y;const ke=yX(le,ge);if(!ke)return Y;const Re=`${le}-light`,rt=`${le}-dark`;return Y.push(re.jsx("li",{className:"w3a--w-full",children:re.jsx("a",{href:ke,rel:"noopener noreferrer",target:"_blank",children:re.jsxs("button",{type:"button",className:Gt("w3a--group w3a--relative w3a--overflow-hidden w3a--h-11 w3a--flex w3a--w-full w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--border w3a--border-app-gray-200 w3a--bg-app-gray-50 w3a--px-5 w3a--py-2.5 hover:w3a--translate-y-[0.5px] hover:w3a--border-app-gray-50 dark:w3a--border-app-gray-500 dark:w3a--bg-app-gray-800 dark:hover:w3a--border-app-gray-800",{"w3a--rounded-full":E==="pill","w3a--rounded-lg":E==="rounded","w3a--rounded-none":E==="square"}),children:[re.jsx(bo,{imageId:Re,darkImageId:rt,hoverImageId:Re,darkHoverImageId:rt,height:"28",width:"28",isButton:!0}),re.jsx("span",{className:"w3a--text-sm w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:A("modal.external.install-mobile-app",{os:wX(le)})}),re.jsx("img",{id:"install-links-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:ki(M?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})})},ke)),Y},[])},[(e=x.installLinks)===null||e===void 0||(e=e.wallet)===null||e===void 0||(e=e.walletRegistryItem)===null||e===void 0?void 0:e.app,O.platform,M,A,E]),ie=fe.useMemo(()=>{var Je;if(O.platform!=="desktop")return[];const te=O.browser==="brave"?"chrome":O.browser,W=((Je=x.installLinks)===null||Je===void 0||(Je=Je.wallet)===null||Je===void 0||(Je=Je.walletRegistryItem)===null||Je===void 0?void 0:Je.app)||{},Y=W.browser&&W.browser.includes(te)?W.browser:void 0,le=W[te]||Y,ge=le?vX(te,le):null;return[ge?re.jsx("li",{children:re.jsx("a",{href:ge,rel:"noopener noreferrer",target:"_blank",children:re.jsxs("button",{type:"button",className:Gt("w3a--group w3a--relative w3a--overflow-hidden w3a--h-11 w3a--flex w3a--w-full w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--border w3a--border-app-gray-200 w3a--bg-app-gray-50 w3a--px-5 w3a--py-2.5 hover:w3a--translate-y-[0.5px] hover:w3a--border-app-gray-50 dark:w3a--border-app-gray-500 dark:w3a--bg-app-gray-800 dark:hover:w3a--border-app-gray-800",{"w3a--rounded-full":E==="pill","w3a--rounded-lg":E==="rounded","w3a--rounded-none":E==="square"}),children:[re.jsx(bo,{imageId:O.browser,darkImageId:O.browser,hoverImageId:O.browser,darkHoverImageId:O.browser,height:"30",width:"30",isButton:!0}),re.jsx("span",{className:"w3a--text-sm w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:A("modal.external.install-browser-extension",{browser:bX(O.browser)})}),re.jsx("img",{id:"install-links-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:ki(M?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})})},ge):null,...ee]},[(n=x.installLinks)===null||n===void 0||(n=n.wallet)===null||n===void 0||(n=n.walletRegistryItem)===null||n===void 0?void 0:n.app,O.browser,O.platform,M,ee,E,A]),se=fe.useMemo(()=>c.externalWalletsConfig,[c.externalWalletsConfig]),X=fe.useMemo(()=>{const Je={};return Object.keys(se).forEach(te=>{var W;Je[te]=!!(!((W=se[te])===null||W===void 0)&&W.showOnModal)}),Je},[se]),ae=fe.useMemo(()=>Object.keys((p==null?void 0:p.default)||{}).length>0||Object.keys((p==null?void 0:p.others)||{}).length>0,[p]),de=fe.useCallback(Je=>Object.keys(Je).reduce((te,W)=>{var Y,le,ge;if(X[W]===!1)return te;const ke=Je[W];let Re="";if(O.platform!=="desktop"){var rt,Bt;const Ze=ke==null||(rt=ke.mobile)===null||rt===void 0?void 0:rt.universal,Ct=ke==null||(Bt=ke.mobile)===null||Bt===void 0?void 0:Bt.native;Re=Ze||Ct}const at=se[W],xt=(at==null?void 0:at.chainNamespaces)||[],kt=new Set((Y=ke.chains)===null||Y===void 0?void 0:Y.map(Ze=>Ze.split(":")[0])),Lt=new Set((le=ke.injected)===null||le===void 0?void 0:le.map(Ze=>Ze.namespace)),Zt=f.filter(Ze=>kt.has(Ze)||Lt.has(Ze)||xt.includes(Ze)),zn={name:W,displayName:ke.name,href:Re,hasInjectedWallet:(at==null?void 0:at.isInjected)||!1,isInstalled:!!at,hasWalletConnect:ae&&((ge=ke.walletConnect)===null||ge===void 0||(ge=ge.sdks)===null||ge===void 0?void 0:ge.includes("sign_v2")),hasInstallLinks:Object.keys(ke.app||{}).length>0,walletRegistryItem:ke,imgExtension:ke.imgExtension||"svg",icon:at==null?void 0:at.icon,chainNamespaces:Zt};return!zn.hasInjectedWallet&&!zn.hasWalletConnect&&!zn.hasInstallLinks||Zt.length===0||te.push(zn),te},[]),[X,f,se,O.platform,ae]),me=fe.useMemo(()=>[...de(p.default),...de(p.others)],[de,p.default,p.others]),Ee=fe.useMemo(()=>{const Je=Object.keys(se).reduce((W,Y)=>{if(Y===ht.WALLET_CONNECT_V2||!X[Y])return W;const le=se[Y];return W.push({name:Y,displayName:(le==null?void 0:le.label)||Y,hasInjectedWallet:(le==null?void 0:le.isInjected)||!1,isInstalled:!0,hasWalletConnect:!1,hasInstallLinks:!1,icon:le==null?void 0:le.icon,chainNamespaces:(le==null?void 0:le.chainNamespaces)||[]}),W},[]),te=Je.findIndex(W=>W.name===ht.METAMASK&&!W.hasInjectedWallet);if(te!==-1){const W=Je[te];let Y=me.find(le=>le.name===ht.METAMASK);Y||(Y=de({[ht.METAMASK]:LQ})[0]),Y&&Je.splice(te,1,be(be({},Y),{},{chainNamespaces:W.chainNamespaces,isInstalled:!0}))}return Je},[me,se,X,de]),ye=fe.useMemo(()=>Ee.filter(Je=>!Je.hasInjectedWallet),[Ee]),ue=fe.useMemo(()=>Ee.sort((te,W)=>te.name===ht.METAMASK?-1:1).slice(0,T?3:1),[Ee,T]),_e=fe.useMemo(()=>{const Je=new Set;return me.concat(Ee).filter(te=>Je.has(te.name)?!1:(Je.add(te.name),!0)).length},[me,Ee]),Ie=()=>{G(Je=>!Je)},we=()=>{ne(Je=>!Je)},Fe=fe.useMemo(()=>{var Je;const te=S||C;if(c.status!==Un.INITIALIZED)return"530px";if(Q||(Je=x.metamaskQrCode)!==null&&Je!==void 0&&Je.show)return te?"640px":"588px";if(c.currentPage===Fc.CONNECT_WALLET)return te?"640px":"580px";if(K)return te?"644px":"588px";if(ue.length===1)return te?"560px":"530px";if(ue.length>1){const W=500+(ue.length-1)*58;return te?`${W+60}px`:`${W+16}px`}return"539px"},[S,C,c.status,c.currentPage,Q,(r=x.metamaskQrCode)===null||r===void 0?void 0:r.show,K,ue.length]),He=fe.useMemo(()=>({bodyState:x,setBodyState:R,toast:F,setToast:U}),[x,R,F,U]),Ve=fe.useMemo(()=>c.status!==Un.INITIALIZED,[c.status]);return re.jsx($p.Provider,{value:He,children:re.jsxs("div",{className:"w3a--relative w3a--flex w3a--flex-col",children:[re.jsxs("div",{className:"w3a--relative w3a--h-screen w3a--overflow-hidden w3a--transition-all w3a--duration-[400ms] w3a--ease-in-out",style:{maxHeight:Fe},children:[re.jsx("div",{className:"w3a--modal-curtain"}),re.jsxs("div",{className:"w3a--relative w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--p-6",children:[Ve?re.jsx(Ree,{connector:c.detailedLoaderConnector,connectorName:c.detailedLoaderConnectorName,modalStatus:c.status,onClose:m,appLogo:g}):re.jsx(re.Fragment,{children:(i=x.metamaskQrCode)!==null&&i!==void 0&&i.show?re.jsxs("div",{className:"w3a--relative w3a--flex w3a--flex-1 w3a--flex-col w3a--gap-y-4",children:[re.jsx(dL,{onBackClick:()=>R(be(be({},x),{},{metamaskQrCode:{show:!1,wallet:null}})),currentPage:Il.SELECTED_WALLET,selectedButton:x.metamaskQrCode.wallet}),re.jsx(fL,{qrCodeValue:c.metamaskConnectUri,isDark:M,selectedButton:x.metamaskQrCode.wallet,primaryColor:(o=x.metamaskQrCode.wallet.walletRegistryItem)===null||o===void 0?void 0:o.primaryColor,logoImage:`https://images.web3auth.io/login-${x.metamaskQrCode.wallet.name}.${x.metamaskQrCode.wallet.imgExtension}`})]}):re.jsxs(re.Fragment,{children:[c.currentPage===Fc.LOGIN&&z&&c.status===Un.INITIALIZED&&re.jsx(Ste,{web3authClientId:c.web3authClientId,web3authNetwork:c.web3authNetwork,authBuildEnv:c.authBuildEnv,isModalVisible:c.modalVisibility,isDark:M,appLogo:g,showPasswordLessInput:_,showExternalWalletButton:w,showExternalWalletCount:j,showInstalledExternalWallets:T,socialLoginsConfig:I,areSocialLoginsVisible:k,isEmailPrimary:$,isExternalPrimary:L,installedExternalWalletConfig:ue,isEmailPasswordLessLoginVisible:H,isSmsPasswordLessLoginVisible:P,totalExternalWallets:_e,logoAlignment:y,buttonRadius:E,deviceDetails:O,handleSocialLoginClick:v,handleExternalWalletBtnClick:J,handleSocialLoginHeight:Ie,handleExternalWalletClick:D}),c.currentPage===Fc.CONNECT_WALLET&&!z&&c.status===Un.INITIALIZED&&re.jsx(Cee,{isDark:M,walletConnectUri:c.walletConnectUri,metamaskConnectUri:c.metamaskConnectUri,config:c.externalWalletsConfig,walletRegistry:p,allExternalButtons:me,connectorVisibilityMap:X,customConnectorButtons:ye,deviceDetails:O,chainNamespace:f,buttonRadius:E,handleWalletDetailsHeight:we,onBackClick:Z,handleExternalWalletClick:D})]})}),re.jsx(Iee,{privacyPolicy:S,termsOfService:C}),((a=x.multiChainSelector)===null||a===void 0?void 0:a.show)&&re.jsx(tO,{uiConfig:B,isShown:x.multiChainSelector.show,onClose:()=>R(be(be({},x),{},{multiChainSelector:{show:!1,wallet:null}})),children:re.jsx(Aee,{isDark:M,wallet:x.multiChainSelector.wallet,handleExternalWalletClick:Je=>{D(Je),R(be(be({},x),{},{multiChainSelector:{show:!1,wallet:null}}))}})}),((s=x.installLinks)===null||s===void 0?void 0:s.show)&&re.jsxs(tO,{uiConfig:B,isShown:x.installLinks.show,onClose:()=>R(be(be({},x),{},{installLinks:{show:!1,wallet:null}})),children:[re.jsx("p",{className:"w3a--mb-2 w3a--text-center w3a--text-base w3a--font-semibold w3a--text-app-gray-900 dark:w3a--text-app-white",children:A("modal.getWallet")}),re.jsx("div",{className:"w3a--my-4 w3a--flex w3a--justify-center",children:re.jsx(bo,{imageId:`login-${x.installLinks.wallet.name}`,hoverImageId:`login-${x.installLinks.wallet.name}`,fallbackImageId:"wallet",height:"80",width:"80",isButton:!0,extension:x.installLinks.wallet.imgExtension})}),re.jsx("ul",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:O.platform==="desktop"?ie:ee})]})]})]}),re.jsx(Cte,{})]})})}function Ate(t){const{stateListener:e,handleSocialLoginClick:n,handleExternalWalletClick:r,handleShowExternalWallets:i,closeModal:o,appLogo:a,appName:s,chainNamespaces:l,walletRegistry:c,uiConfig:u,deviceDetails:f}=t,{widgetType:p}=u,g=fe.useMemo(()=>p===gd.EMBED,[p]),[m,v]=fe.useState({externalWalletsVisibility:!1,status:Un.INITIALIZED,hasExternalWallets:!1,externalWalletsInitialized:!1,modalVisibility:!1,modalVisibilityDelayed:!1,postLoadingMessage:"",walletConnectUri:"",metamaskConnectUri:"",socialLoginsConfig:{loginMethods:{},loginMethodsOrder:[],connector:"",uiConfig:{}},externalWalletsConfig:{},showExternalWalletsOnly:!1,currentPage:Fc.LOGIN,detailedLoaderConnector:"",detailedLoaderConnectorName:"",web3authClientId:"",web3authNetwork:ru.SAPPHIRE_MAINNET,authBuildEnv:xi.PRODUCTION});fe.useEffect(()=>{v(S=>be(be({},S),{},{modalVisibility:g}))},[g]),fe.useEffect(()=>{e.on("STATE_UPDATED",S=>{nt.debug("state updated",S),v(C=>Hc(On(C,S,{arrayMerge:(j,A)=>A})))}),e.emit("MOUNTED")},[e]);const _=S=>{const{connector:C}=S;v(T=>be(be({},T),{},{detailedLoaderConnector:C,detailedLoaderAdapterName:OT[C]})),r&&r(S)},w=S=>{const{loginParams:C}=S;v(T=>be(be({},T),{},{detailedLoaderConnector:C.authConnection,detailedLoaderConnectorName:C.name})),n(S)},I=fe.useMemo(()=>{var S,C;return m.showExternalWalletsOnly||Object.keys(((S=m.socialLoginsConfig)===null||S===void 0?void 0:S.loginMethods)||{}).length===0?!1:Object.entries(((C=m.socialLoginsConfig)===null||C===void 0?void 0:C.loginMethods)||{}).some(([j,A])=>j!==it.EMAIL_PASSWORDLESS&&A.showOnModal!==!1)},[m]),k=fe.useMemo(()=>{var S;return(S=m.socialLoginsConfig)===null||S===void 0||(S=S.loginMethods[it.EMAIL_PASSWORDLESS])===null||S===void 0?void 0:S.showOnModal},[m.socialLoginsConfig]),$=fe.useMemo(()=>{var S;return(S=m.socialLoginsConfig)===null||S===void 0||(S=S.loginMethods[it.SMS_PASSWORDLESS])===null||S===void 0?void 0:S.showOnModal},[m.socialLoginsConfig]),L=fe.useMemo(()=>{var S;return((S=m.socialLoginsConfig)===null||S===void 0||(S=S.uiConfig)===null||S===void 0?void 0:S.primaryButton)==="emailLogin"},[m.socialLoginsConfig]),z=fe.useMemo(()=>{var S;return((S=m.socialLoginsConfig)===null||S===void 0||(S=S.uiConfig)===null||S===void 0?void 0:S.primaryButton)==="externalLogin"},[m.socialLoginsConfig]),H=fe.useMemo(()=>k||$,[k,$]),P=fe.useMemo(()=>m.hasExternalWallets||!!m.externalWalletsConfig[ht.METAMASK],[m]),D=fe.useMemo(()=>(I||H||!!m.externalWalletsConfig[ht.METAMASK])&&!m.externalWalletsVisibility,[I,H,m]),B=S=>{v(C=>be(be({},C),{},{externalWalletsVisibility:S})),S&&i&&i(m.externalWalletsInitialized)},O=()=>{v(S=>be(be({},S),{},{externalWalletsVisibility:!1,modalVisibility:!1,currentPage:Fc.LOGIN})),o()},y=()=>{m.status===Un.CONNECTED&&v(be(be({},m),{},{modalVisibility:!1,externalWalletsVisibility:!1})),m.status===Un.ERRORED&&v(be(be({},m),{},{modalVisibility:!0,status:Un.INITIALIZED}))},E=fe.useMemo(()=>m.status===Un.INITIALIZED||m.status===Un.CONNECTED||m.status===Un.ERRORED,[m.status]);return fe.useEffect(()=>{if(m.modalVisibility&&typeof m.externalWalletsConfig=="object"){var S;(((S=m.externalWalletsConfig[ht.WALLET_CONNECT_V2])===null||S===void 0?void 0:S.showOnModal)||!1)!==!1&&!m.walletConnectUri&&typeof r=="function"&&r({connector:ht.WALLET_CONNECT_V2})}},[m,r]),p===gd.MODAL?re.jsx(AX,{open:m.modalVisibility,placement:"center",padding:!1,showCloseIcon:E,onClose:O,borderRadius:u.borderRadiusType,children:m.modalVisibility&&re.jsx(fO,{appLogo:a,appName:s,chainNamespaces:l,walletRegistry:c,showPasswordLessInput:H,showExternalWalletButton:P,handleSocialLoginClick:S=>w(S),socialLoginsConfig:m.socialLoginsConfig,areSocialLoginsVisible:I,isEmailPrimary:L,isExternalPrimary:z,showExternalWalletPage:D,handleExternalWalletBtnClick:B,modalState:m,preHandleExternalWalletClick:_,setModalState:v,onCloseLoader:y,isEmailPasswordLessLoginVisible:k,isSmsPasswordLessLoginVisible:$,uiConfig:u,deviceDetails:f})}):re.jsx(CX,{open:m.modalVisibility,padding:!1,onClose:O,borderRadius:u.borderRadiusType,children:m.modalVisibility&&re.jsx(fO,{chainNamespaces:l,walletRegistry:c,appLogo:a,appName:s,showPasswordLessInput:H,showExternalWalletButton:P,handleSocialLoginClick:S=>w(S),socialLoginsConfig:m.socialLoginsConfig,areSocialLoginsVisible:I,isEmailPrimary:L,isExternalPrimary:z,showExternalWalletPage:D,handleExternalWalletBtnClick:B,modalState:m,preHandleExternalWalletClick:_,setModalState:v,onCloseLoader:y,isEmailPasswordLessLoginVisible:k,isSmsPasswordLessLoginVisible:$,uiConfig:u,deviceDetails:f})})}function Ite(t){const e=document.getElementById("w3a-parent-container");e&&e.remove();const n=document.createElement("section");n.classList.add("w3a-parent-container"),n.setAttribute("id","w3a-parent-container"),n.style.zIndex=t,n.style.position="relative",document.body.appendChild(n)}function kte(t){const e=document.getElementById(t);if(!e){nt.error(`Element with ID ${t} not found`);return}e.innerHTML='<div id="w3a-parent-container" class="w3a-parent-container"></div>'}class Mte{constructor(e,n){if(Ae(this,"uiConfig",void 0),Ae(this,"stateEmitter",void 0),Ae(this,"chainNamespaces",void 0),Ae(this,"walletRegistry",void 0),Ae(this,"callbacks",void 0),Ae(this,"externalWalletsConfig",void 0),Ae(this,"analytics",void 0),Ae(this,"initModal",async()=>{const r={isDark:this.isDark},i=this.uiConfig.defaultLanguage||oo.en;return i===oo.de?on(()=>import("./german.json-BA4x9QbI.js"),[]).then(o=>(Yt.addResourceBundle(i,"translation",o.default),Yt.changeLanguage(i))).catch(o=>{nt.error(o)}):i===oo.ja?on(()=>import("./japanese.json-7Mklqb6K.js"),[]).then(o=>(Yt.addResourceBundle(i,"translation",o.default),Yt.changeLanguage(i))).catch(o=>{nt.error(o)}):i===oo.ko?on(()=>import("./korean.json-go86i6vu.js"),[]).then(o=>(Yt.addResourceBundle(i,"translation",o.default),Yt.changeLanguage(i))).catch(o=>{nt.error(o)}):i===oo.zh?on(()=>import("./mandarin.json-BCFiiB7j.js"),[]).then(o=>(Yt.addResourceBundle(i,"translation",o.default),Yt.changeLanguage(i))).catch(o=>{nt.error(o)}):i===oo.es?on(()=>import("./spanish.json-hcJYa-HC.js"),[]).then(o=>(Yt.addResourceBundle(i,"translation",o.default),Yt.changeLanguage(i))).catch(o=>{nt.error(o)}):i===oo.fr?on(()=>import("./french.json-CNaRgoEZ.js"),[]).then(o=>(Yt.addResourceBundle(i,"translation",o.default),Yt.changeLanguage(i))).catch(o=>{nt.error(o)}):i===oo.pt?on(()=>import("./portuguese.json-Dtrng74A.js"),[]).then(o=>(Yt.addResourceBundle(i,"translation",o.default),Yt.changeLanguage(i))).catch(o=>{nt.error(o)}):i===oo.nl?on(()=>import("./dutch.json-BZVBI9RL.js"),[]).then(o=>(Yt.addResourceBundle(i,"translation",o.default),Yt.changeLanguage(i))).catch(o=>{nt.error(o)}):i===oo.tr?on(()=>import("./turkish.json-CHfdJZqr.js"),[]).then(o=>(Yt.addResourceBundle(i,"translation",o.default),Yt.changeLanguage(i))).catch(o=>{nt.error(o)}):i===oo.en&&on(()=>Promise.resolve().then(()=>lee),void 0).then(o=>(Yt.addResourceBundle(i,"translation",o.default),Yt.changeLanguage(i))).catch(o=>{nt.error(o)}),new Promise(o=>{var a,s,l;if(this.stateEmitter.once("MOUNTED",()=>(nt.info("rendered"),this.setState({status:Un.INITIALIZED,web3authClientId:this.uiConfig.web3authClientId,web3authNetwork:this.uiConfig.web3authNetwork,authBuildEnv:this.uiConfig.authBuildEnv}),o())),this.uiConfig.widgetType===gd.MODAL)Ite(this.uiConfig.modalZIndex);else if(this.uiConfig.widgetType===gd.EMBED)kte(this.uiConfig.targetId);else throw ot.invalidParams(`Invalid widget type: ${this.uiConfig.widgetType}`);const c=document.getElementById("w3a-parent-container");r.isDark?c.classList.add("w3a--dark"):c.classList.remove("w3a--dark"),nR.createRoot(c).render(re.jsx(hy.Provider,{value:r,children:re.jsx(Q_.Provider,{value:{analytics:this.analytics},children:re.jsx(Ate,{stateListener:this.stateEmitter,appLogo:r.isDark?this.uiConfig.logoDark:this.uiConfig.logoLight,appName:this.uiConfig.appName,chainNamespaces:this.chainNamespaces,walletRegistry:this.walletRegistry,deviceDetails:this.deviceDetails,handleShowExternalWallets:this.handleShowExternalWallets,handleExternalWalletClick:this.handleExternalWalletClick,handleSocialLoginClick:this.handleSocialLoginClick,closeModal:this.closeModal,uiConfig:this.uiConfig})})}));const f=((a=this.uiConfig)===null||a===void 0||(a=a.theme)===null||a===void 0?void 0:a.primary)===PQ&&((s=this.uiConfig.theme)===null||s===void 0?void 0:s.onPrimary)===NQ;(l=this.uiConfig)!==null&&l!==void 0&&l.theme&&!f&&on(async()=>{const{default:p}=await import("./index-CcYQaUMU.js");return{default:p}},[]).then(({default:p})=>{const g=document.getElementById("w3a-parent-container");Iq(p,g,this.uiConfig.theme)}).catch(p=>{nt.error(p)})})}),Ae(this,"addSocialLogins",(r,i,o,a)=>{this.setState({socialLoginsConfig:{connector:r,loginMethods:i,loginMethodsOrder:o,uiConfig:a}}),nt.info("addSocialLogins",r,i,o,a)}),Ae(this,"addWalletLogins",(r,i)=>{this.externalWalletsConfig=r;const o=!!r[ht.METAMASK];this.setState({externalWalletsConfig:r,externalWalletsInitialized:!!i.externalWalletsInitialized,showExternalWalletsOnly:!!i.showExternalWalletsOnly,externalWalletsVisibility:o?!1:!!i.externalWalletsVisibility})}),Ae(this,"open",()=>{var r,i,o;this.setState({modalVisibility:!0}),(r=this.analytics)===null||r===void 0||r.track(dn.LOGIN_MODAL_OPENED,be(be({chain_namespaces:this.chainNamespaces,wallet_registry_count:Object.keys((i=this.walletRegistry)===null||i===void 0?void 0:i.default).length+Object.keys((o=this.walletRegistry)===null||o===void 0?void 0:o.others).length,external_wallet_connectors:Object.keys(this.externalWalletsConfig||{})},IT(this.uiConfig)),RQ(this.uiConfig))),this.callbacks.onModalVisibility&&this.callbacks.onModalVisibility(!0)}),Ae(this,"closeModal",()=>{var r;this.setState({modalVisibility:!1,externalWalletsVisibility:!1}),(r=this.analytics)===null||r===void 0||r.track(dn.LOGIN_MODAL_CLOSED),this.callbacks.onModalVisibility&&this.callbacks.onModalVisibility(!1)}),Ae(this,"initExternalWalletContainer",()=>{this.setState({hasExternalWallets:!0})}),Ae(this,"handleShowExternalWallets",r=>{this.callbacks.onInitExternalWallets&&this.callbacks.onInitExternalWallets({externalWalletsInitialized:r})}),Ae(this,"handleExternalWalletClick",r=>{nt.info("external wallet clicked",r);const{connector:i,chainNamespace:o}=r;this.callbacks.onExternalWalletLogin&&this.callbacks.onExternalWalletLogin({connector:i,loginParams:{chainNamespace:o}})}),Ae(this,"handleSocialLoginClick",r=>{var i;nt.info("social login clicked",r);const{connector:o,loginParams:a}=r;(i=this.analytics)===null||i===void 0||i.track(dn.SOCIAL_LOGIN_SELECTED,{connector:o,auth_connection:a.authConnection,auth_connection_id:a.authConnectionId,group_auth_connection_id:a.groupedAuthConnectionId}),this.callbacks.onSocialLogin&&this.callbacks.onSocialLogin({connector:o,loginParams:a})}),Ae(this,"setState",r=>{this.stateEmitter.emit("STATE_UPDATED",r)}),Ae(this,"handleConnectorData",r=>{if(r.connectorName===ht.WALLET_CONNECT_V2){const i=r.data;i.uri&&this.setState({walletConnectUri:i.uri})}if(r.connectorName===ht.METAMASK){const i=r.data;i.uri&&this.setState({metamaskConnectUri:i.uri})}}),Ae(this,"subscribeCoreEvents",r=>{r.on(dt.CONNECTING,i=>{var o;if(nt.info("connecting with connector",i),(i==null?void 0:i.connector)===ht.WALLET_CONNECT_V2)return;const a=(o=this.externalWalletsConfig)===null||o===void 0||(o=o[ht.METAMASK])===null||o===void 0?void 0:o.isInjected;(i==null?void 0:i.connector)===ht.METAMASK&&!a&&this.deviceDetails.platform==="desktop"||this.setState({status:Un.CONNECTING})}),r.on(dt.CONNECTED,i=>{nt.debug("connected with connector",i),!i.reconnected&&i.loginMode===Lh.MODAL?this.setState({status:Un.CONNECTED,modalVisibility:!0,postLoadingMessage:"modal.post-loading.connected"}):this.setState({status:Un.CONNECTED})}),r.on(dt.ERRORED,(i,o)=>{nt.error("error",i,i.message),o!==Lh.NO_MODAL&&(i.code===5e3?this.uiConfig.displayErrorsOnModal?this.setState({modalVisibility:!0,postLoadingMessage:i.message||"modal.post-loading.something-wrong",status:Un.ERRORED}):this.setState({modalVisibility:!1}):this.setState({modalVisibility:!0,status:Un.INITIALIZED}))}),r.on(dt.DISCONNECTED,()=>{this.setState({status:Un.INITIALIZED,externalWalletsVisibility:!1})}),r.on(dt.CONNECTOR_DATA_UPDATED,i=>{this.handleConnectorData(i)})}),this.uiConfig=e,e.logoDark||(this.uiConfig.logoDark=qN),e.logoLight||(this.uiConfig.logoLight=zN),e.mode||(this.uiConfig.mode="light"),e.modalZIndex||(this.uiConfig.modalZIndex="99998"),typeof e.displayErrorsOnModal>"u"&&(this.uiConfig.displayErrorsOnModal=!0),e.appName||(this.uiConfig.appName="Web3Auth"),e.loginGridCol||(this.uiConfig.loginGridCol=3),e.primaryButton||(this.uiConfig.primaryButton="socialLogin"),e.defaultLanguage||(this.uiConfig.defaultLanguage=nL(e.defaultLanguage)),e.widgetType||(this.uiConfig.widgetType=gd.MODAL),e.widgetType===gd.EMBED&&!e.targetId)throw nt.error("targetId is required for embed widget"),ot.invalidParams("targetId is required for embed widget");this.stateEmitter=new Ql,this.chainNamespaces=e.chainNamespaces,this.walletRegistry=e.walletRegistry,this.callbacks=n,this.analytics=e.analytics,this.subscribeCoreEvents(this.uiConfig.connectorListener)}get isDark(){return this.uiConfig.mode==="dark"||this.uiConfig.mode==="auto"&&window.matchMedia("(prefers-color-scheme: dark)").matches}get deviceDetails(){if(typeof window>"u")return{platform:"mobile",browser:"chrome",os:"ios"};const e=fh.getParser(window.navigator.userAgent);return{platform:e.getPlatformType(),browser:e.getBrowserName().toLowerCase(),os:e.getOSName()}}}class Ote extends DZ{constructor(e,n){super(e,n),Ae(this,"loginModal",void 0),Ae(this,"options",void 0),Ae(this,"modalConfig",Hc(_Q)),Ae(this,"onInitExternalWallets",async r=>{r.externalWalletsInitialized||await this.initExternalConnectors(this.connectors.filter(i=>i.name===ht.WALLET_CONNECT_V2),{externalWalletsInitialized:!0,externalWalletsVisibility:!0})}),Ae(this,"onSocialLogin",async r=>{try{await this.connectTo(ht.AUTH,r.loginParams,Lh.MODAL)}catch(i){nt.error(`Error while connecting to connector: ${r.connector}`,i)}}),Ae(this,"onExternalWalletLogin",async r=>{try{var i;const o=this.getConnector(r.connector,(i=r.loginParams)===null||i===void 0?void 0:i.chainNamespace);if(o.name===ht.WALLET_CONNECT_V2){const s=this.getInitialChainIdForConnector(o);await o.connect({chainId:s.chainId})}else await this.connectTo(r.connector,r.loginParams,Lh.MODAL)}catch(o){nt.error(`Error while connecting to connector: ${r.connector}`,o)}}),Ae(this,"onModalVisibility",async r=>{nt.debug("is login modal visible",r),this.emit(Hg.MODAL_VISIBILITY,r);const i=this.getConnector(ht.WALLET_CONNECT_V2);if(i){const o=i==null?void 0:i.status;if(nt.debug("trying refreshing wc session",r,o),r&&(o===st.READY||o===st.CONNECTING)){nt.debug("refreshing wc session");try{const a=this.getInitialChainIdForConnector(i);i.connect({chainId:a.chainId})}catch(a){nt.error("Error while disconnecting to wallet connect in core",a)}}!r&&this.status===st.CONNECTED&&(o===st.READY||o===st.CONNECTING)&&(nt.debug("this stops wc connector from trying to reconnect once proposal expires"),i.status=st.READY)}}),Ae(this,"getChainNamespaces",()=>{var r;return[...new Set(((r=this.coreOptions.chains)===null||r===void 0?void 0:r.map(i=>i.chainNamespace))||[])]}),this.options=be({},e),this.options.uiConfig||(this.options.uiConfig={}),this.options.modalConfig&&(this.modalConfig=this.options.modalConfig),nt.info("modalConfig",this.modalConfig)}async init(e){const n=Date.now();this.analytics.init(),this.analytics.identify(this.options.clientId,{web3auth_client_id:this.options.clientId,web3auth_network:this.options.web3AuthNetwork}),this.analytics.setGlobalProperties({dapp_url:window.location.origin,sdk_name:CT.WEB_MODAL,sdk_version:kT,web3auth_client_id:this.options.clientId,web3auth_network:this.options.web3AuthNetwork});let r={};try{var i,o;const{signal:a}=e||{};super.checkInitRequirements();const{projectConfig:s,walletRegistry:l}=await this.getProjectAndWalletConfig();this.initUIConfig(s),super.initAccountAbstractionConfig(s),super.initChainsConfig(s),super.initCachedConnectorAndChainId(),super.initWalletServicesConfig(s),this.analytics.setGlobalProperties({team_id:s.teamId}),r=this.getInitializationTrackData();const{filteredWalletRegistry:c,disabledExternalWallets:u}=this.filterWalletRegistry(l,s);this.loginModal=new Mte(be(be({},this.options.uiConfig),{},{connectorListener:this,web3authClientId:this.options.clientId,web3authNetwork:this.options.web3AuthNetwork,authBuildEnv:this.options.authBuildEnv,chainNamespaces:this.getChainNamespaces(),walletRegistry:c,analytics:this.analytics}),{onInitExternalWallets:this.onInitExternalWallets,onSocialLogin:this.onSocialLogin,onExternalWalletLogin:this.onExternalWalletLogin,onModalVisibility:this.onModalVisibility}),await ha(()=>this.loginModal.initModal(),a),await ha(()=>this.setupCommonJRPCProvider(),a),this.on(dt.CONNECTORS_UPDATED,({connectors:p})=>{ha(()=>this.initConnectors({connectors:p,projectConfig:s,disabledExternalWallets:u}),a,()=>{var m;nt.debug("init aborted"),((m=this.connectors)===null||m===void 0?void 0:m.length)>0&&super.cleanup()})}),await ha(()=>super.loadConnectors({projectConfig:s,modalMode:!0}),a),await ha(()=>super.initPlugins(),a);const f=this.getConnector(ht.AUTH);r=be(be({},r),{},{connectors:this.connectors.map(p=>p.name),plugins:Object.keys(this.plugins),auth_ux_mode:(f==null||(i=f.authInstance)===null||i===void 0||(i=i.options)===null||i===void 0?void 0:i.uxMode)||((o=this.coreOptions.uiConfig)===null||o===void 0?void 0:o.uxMode)}),this.analytics.track(dn.SDK_INITIALIZATION_COMPLETED,be(be({},r),{},{duration:Date.now()-n}))}catch(a){if(a instanceof DOMException&&a.name==="AbortError")return;throw this.analytics.track(dn.SDK_INITIALIZATION_FAILED,be(be(be({},r),fd(a)),{},{duration:Date.now()-n})),nt.error("Failed to initialize modal",a),a}}async connect(){if(!this.loginModal)throw ot.notReady("Login modal is not initialized");return this.connectedConnectorName&&this.status===st.CONNECTED&&this.provider?this.provider:(this.loginModal.open(),new Promise((e,n)=>{const r=()=>(this.removeListener(dt.ERRORED,i),this.removeListener(Hg.MODAL_VISIBILITY,o),e(this.provider)),i=a=>(this.removeListener(dt.CONNECTED,r),this.removeListener(Hg.MODAL_VISIBILITY,o),n(a)),o=a=>{if(!a&&this.status!==st.CONNECTED)return this.removeListener(dt.CONNECTED,r),this.removeListener(dt.ERRORED,i),n(new Error("User closed the modal"))};this.once(dt.CONNECTED,r),this.once(dt.ERRORED,i),this.once(Hg.MODAL_VISIBILITY,o)}))}initUIConfig(e){super.initUIConfig(e),this.options.uiConfig=On(Hc(e.whitelabel||{}),this.options.uiConfig||{}),this.options.uiConfig.defaultLanguage||(this.options.uiConfig.defaultLanguage=nL(this.options.uiConfig.defaultLanguage)),this.options.uiConfig.mode||(this.options.uiConfig.mode="light"),this.options.uiConfig=On(e.loginModal||{},this.options.uiConfig,{arrayMerge:(a,s)=>s});const n=e.embeddedWalletAuth.filter(a=>a.isDefault).map(a=>a.authConnection),r=[...this.options.uiConfig.loginMethodsOrder||[],...n],i=[],o=new Set;for(const a of r)o.has(a)||(o.add(a),i.push(a));this.options.uiConfig.loginMethodsOrder=i}getInitializationTrackData(){var e,n,r,i,o,a,s,l,c,u,f,p,g,m,v,_,w;return be(be({},super.getInitializationTrackData()),{},{modal_hide_wallet_discovery:(e=this.modalConfig)===null||e===void 0?void 0:e.hideWalletDiscovery,modal_connectors:Object.keys(((n=this.modalConfig)===null||n===void 0?void 0:n.connectors)||{}),modal_auth_connector_login_methods:Object.keys(((r=this.modalConfig)===null||r===void 0||(r=r.connectors)===null||r===void 0||(r=r[ht.AUTH])===null||r===void 0?void 0:r.loginMethods)||{}),ui_login_methods_order:(i=this.options.uiConfig)===null||i===void 0?void 0:i.loginMethodsOrder,ui_modal_z_index:(o=this.options.uiConfig)===null||o===void 0?void 0:o.modalZIndex,ui_display_errors_on_modal:(a=this.options.uiConfig)===null||a===void 0?void 0:a.displayErrorsOnModal,ui_login_grid_col:(s=this.options.uiConfig)===null||s===void 0?void 0:s.loginGridCol,ui_primary_button:(l=this.options.uiConfig)===null||l===void 0?void 0:l.primaryButton,ui_modal_widget_type:(c=this.options.uiConfig)===null||c===void 0?void 0:c.widgetType,ui_modal_target_id_used:!!(!((u=this.options.uiConfig)===null||u===void 0)&&u.targetId),ui_modal_logo_alignment:(f=this.options.uiConfig)===null||f===void 0?void 0:f.logoAlignment,ui_modal_border_radius_type:(p=this.options.uiConfig)===null||p===void 0?void 0:p.borderRadiusType,ui_modal_button_radius_type:(g=this.options.uiConfig)===null||g===void 0?void 0:g.buttonRadiusType,ui_modal_sign_in_methods:(m=this.options.uiConfig)===null||m===void 0?void 0:m.signInMethods,ui_modal_add_previous_login_hint:(v=this.options.uiConfig)===null||v===void 0?void 0:v.addPreviousLoginHint,ui_modal_display_installed_external_wallets:(_=this.options.uiConfig)===null||_===void 0?void 0:_.displayInstalledExternalWallets,ui_modal_display_external_wallets_count:(w=this.options.uiConfig)===null||w===void 0?void 0:w.displayExternalWalletsCount})}filterWalletRegistry(e,n){const{disableAllRecommendedWallets:r,disableAllOtherWallets:i,disabledWallets:o}=n.externalWalletAuth||{},a=new Set(o||[]);r&&Object.keys(e.default).forEach(l=>a.add(l)),i&&Object.keys(e.others).forEach(l=>a.add(l)),a.delete(ht.METAMASK);const s=Hc(e);return a.forEach(l=>{delete s.default[l],delete s.others[l]}),{disabledExternalWallets:a,filteredWalletRegistry:s}}async getProjectAndWalletConfig(){var e,n;const[r,i]=await Promise.allSettled([AT({clientId:this.options.clientId,web3AuthNetwork:this.options.web3AuthNetwork,aaProvider:(e=this.options.accountAbstractionConfig)===null||e===void 0?void 0:e.smartAccountType,authBuildEnv:this.options.authBuildEnv}),qK(SQ)]);if(r.status==="rejected"){const l=await Ox(r.reason);throw nt.error("Failed to fetch project configurations",l),ot.notReady("failed to fetch project configurations",l)}const o=r.value;let a={others:{},default:{}};return!!o.externalWalletAuth&&!((n=this.modalConfig)!==null&&n!==void 0&&n.hideWalletDiscovery)&&(i.status==="fulfilled"?a=i.value:nt.error("Failed to fetch wallet registry",i.reason)),{projectConfig:o,walletRegistry:a}}async initConnectors({connectors:e,projectConfig:n,disabledExternalWallets:r}){const i=await this.filterConnectors({projectConfig:n,disabledExternalWallets:r}),{hasInAppConnectors:o,hasExternalConnectors:a}=await this.checkConnectorAvailability(i),s=e.filter(l=>i.includes(l.name));await this.initInAppAndCachedConnectors(s),a&&(o?(this.loginModal.initExternalWalletContainer(),this.initExternalConnectors(s.filter(l=>l.type===na.EXTERNAL&&l.name!==ht.WALLET_CONNECT_V2),{externalWalletsInitialized:!1,showExternalWalletsOnly:!1,externalWalletsVisibility:!1})):await this.initExternalConnectors(s.filter(l=>l.type===na.EXTERNAL),{externalWalletsInitialized:!0,showExternalWalletsOnly:!0,externalWalletsVisibility:!0})),this.status===st.NOT_READY&&(this.status=st.READY,this.emit(dt.READY))}async filterConnectors({projectConfig:e,disabledExternalWallets:n}){var r;const i={},o=new Map;for(const u of e.embeddedWalletAuth||[]){const{isDefault:f,authConnection:p,groupedAuthConnectionId:g,authConnectionId:m}=u;f&&(i[p]={name:AQ[p],authConnection:p,authConnectionId:m,groupedAuthConnectionId:g,extraLoginOptions:u.jwtParameters,isDefault:!0,showOnModal:!0}),o.set(g||m,u)}const a={[ht.AUTH]:{label:ht.AUTH,loginMethods:i}};(r=this.modalConfig)!==null&&r!==void 0&&(r=r.connectors)!==null&&r!==void 0&&r[ht.AUTH]&&(this.modalConfig.connectors[ht.AUTH].loginMethods||(this.modalConfig.connectors[ht.AUTH].loginMethods={}));const s=new Set(HE);return Object.keys(this.modalConfig.connectors[ht.AUTH].loginMethods).forEach(u=>{const f=this.modalConfig.connectors[ht.AUTH].loginMethods[u],{authConnectionId:p,groupedAuthConnectionId:g}=f;if(!s.has(u))throw ot.invalidParams(`Invalid auth connection: ${u}`);if(g||p){if(!o.has(g||p))throw ot.invalidParams(`Invalid auth connection config, authConnection: ${u}. Missing AuthConnectionConfig from the dashboard.`);const m=o.get(g||p);this.modalConfig.connectors[ht.AUTH].loginMethods[u]={authConnection:m.authConnection,authConnectionId:m.authConnectionId,groupedAuthConnectionId:m.groupedAuthConnectionId,isDefault:m.isDefault||!1,extraLoginOptions:be(be({},m.jwtParameters),f.extraLoginOptions)}}}),this.modalConfig.connectors=On(a,Hc(this.modalConfig.connectors||{})),[...new Set([...Object.keys(this.modalConfig.connectors||{}),...this.connectors.map(u=>u.name)])].map(u=>{var f,p,g;const m={label:OT[u]||u.split("-").map(J_).join(" "),showOnModal:!0};this.modalConfig.connectors[u]=be(be({},m),((f=this.modalConfig)===null||f===void 0||(f=f.connectors)===null||f===void 0?void 0:f[u])||{});const v=this.getConnector(u);nt.debug("connector config",u,(p=this.modalConfig.connectors)===null||p===void 0||(p=p[u])===null||p===void 0?void 0:p.showOnModal,v);const _=(g=this.modalConfig.connectors)===null||g===void 0?void 0:g[u];if(!v){if(_.showOnModal)throw ot.invalidParams(`Connector ${u} is not configured`);return}if(!_.showOnModal)return;const w=!!e.externalWalletAuth;if(!(v.type===na.EXTERNAL&&v.name!==ht.METAMASK&&(!w||n.has(u)))){if(u===ht.WALLET_CONNECT_V2){var I;if(!w||(I=this.modalConfig)!==null&&I!==void 0&&I.hideWalletDiscovery)return}return this.modalConfig.connectors[u]=_,u}}).filter(u=>u!==void 0)}async checkConnectorAvailability(e){const n=this.connectors.some(i=>{var o,a;return i.type!==na.IN_APP||((o=this.modalConfig.connectors)===null||o===void 0||(o=o[i.name])===null||o===void 0?void 0:o.showOnModal)!==!0?!1:!!(!((a=this.modalConfig.connectors)!==null&&a!==void 0&&(a=a[i.name])!==null&&a!==void 0&&a.loginMethods)||Object.values(this.modalConfig.connectors[i.name].loginMethods).some(s=>s.showOnModal))});nt.debug(n,this.connectors,e,"hasInAppWallets");const r=e.some(i=>{var o,a;return i===ht.WALLET_CONNECT_V2?!0:((o=this.getConnector(i))===null||o===void 0?void 0:o.type)===na.EXTERNAL&&((a=this.modalConfig.connectors)===null||a===void 0||(a=a[i])===null||a===void 0?void 0:a.showOnModal)});return{hasInAppConnectors:n,hasExternalConnectors:r}}async initInAppAndCachedConnectors(e){await Promise.all(e.map(async n=>{const r=n.name;try{if(n.status!==st.NOT_READY||this.cachedConnector!==r&&n.type===na.EXTERNAL)return;this.subscribeToConnectorEvents(n);const l=this.getInitialChainIdForConnector(n),c=super.checkIfAutoConnect(n);if(await n.init({autoConnect:c,chainId:l.chainId}),n.type===na.IN_APP){var i,o,a,s;nt.info("connectorInitResults",r);const u=((i=this.modalConfig.connectors[r])===null||i===void 0?void 0:i.loginMethods)||{};this.loginModal.addSocialLogins(r,u,((o=this.options.uiConfig)===null||o===void 0?void 0:o.loginMethodsOrder)||HE,be(be({},this.options.uiConfig),{},{loginGridCol:((a=this.options.uiConfig)===null||a===void 0?void 0:a.loginGridCol)||3,primaryButton:((s=this.options.uiConfig)===null||s===void 0?void 0:s.primaryButton)||"socialLogin"}))}}catch(l){nt.error(l,"error while initializing connector ",r)}}))}async initExternalConnectors(e,n){const r={},i={};e.forEach(async o=>{const a=o.name;if(nt.debug("init external wallet",this.cachedConnector,a,o.status),i[a]||(i[a]=new Set),o.connectorNamespace===$l.MULTICHAIN?this.getChainNamespaces().forEach(s=>i[a].add(s)):i[a].add(o.connectorNamespace),o.status===st.NOT_READY&&this.cachedConnector!==a)try{this.subscribeToConnectorEvents(o);const s=this.getInitialChainIdForConnector(o);await o.init({autoConnect:this.cachedConnector===a,chainId:s.chainId})}catch(s){nt.error(s,"error while initializing connector",a)}if([st.NOT_READY,st.READY,st.CONNECTING,st.CONNECTED].includes(o.status)){const s=this.modalConfig.connectors[a];r[a]=be(be({},s),{},{isInjected:o.isInjected,icon:o.icon,chainNamespaces:Array.from(i[a])}),this.loginModal.addWalletLogins(r,{showExternalWalletsOnly:!!n.showExternalWalletsOnly,externalWalletsVisibility:!!n.externalWalletsVisibility,externalWalletsInitialized:!!n.externalWalletsInitialized})}})}}const eS=fe.createContext(null);function Rte(t){const{children:e,config:n,initialState:r}=t,{web3AuthOptions:i}=n,[o,a]=fe.useState(!1),[s,l]=fe.useState(null),[c,u]=fe.useState(null),[f,p]=fe.useState(!1),[g,m]=fe.useState(!1),v=fe.useMemo(()=>(u(null),new Ote(i,r)),[i,r]),[_,w]=fe.useState(v.status===st.CONNECTED),[I,k]=fe.useState(v.status),$=fe.useCallback(z=>{if(!v)throw ot.notReady();return v.getPlugin(z)},[v]);fe.useEffect(()=>{const z=new AbortController;async function H(){try{l(null),a(!0),v.setAnalyticsProperties({integration_type:ST.REACT_HOOKS}),await v.init({signal:z.signal})}catch(P){l(P)}finally{a(!1)}}return v&&H(),()=>{z.abort()}},[v,n]),fe.useEffect(()=>{const z=()=>k(v.status),H=()=>{k(v.status),p(!0)},P=S=>{k(v.status),v.status===st.CONNECTED&&(p(!0),w(!0),u(S.provider))},D=()=>{k(v.status),w(!1),u(null)},B=()=>{k(v.status)},O=()=>{k(v.status)},y=()=>{k(v.status),w(!1),u(null)},E=S=>{typeof S=="boolean"&&m(S)};return v&&(k(v.status),v.on(dt.NOT_READY,z),v.on(dt.READY,H),v.on(dt.CONNECTED,P),v.on(dt.DISCONNECTED,D),v.on(dt.CONNECTING,B),v.on(dt.ERRORED,O),v.on(dt.REHYDRATION_ERROR,y),v.on(dt.MFA_ENABLED,E)),()=>{v&&(v.off(dt.NOT_READY,z),v.off(dt.READY,H),v.off(dt.CONNECTED,P),v.off(dt.DISCONNECTED,D),v.off(dt.CONNECTING,B),v.off(dt.ERRORED,O),v.off(dt.REHYDRATION_ERROR,y),v.off(dt.MFA_ENABLED,E),v.cleanup())}},[v]);const L=fe.useMemo(()=>({web3Auth:v,isConnected:_,isInitialized:f,provider:c,status:I,isInitializing:o,initError:s,isMFAEnabled:g,getPlugin:$,setIsMFAEnabled:m}),[v,_,g,m,f,c,I,$,o,s]);return fe.createElement(eS.Provider,{value:L},e)}const xL=()=>{const t=fe.useContext(eS);if(!t)throw ot.fromCode(1e3,"usage of useWeb3Auth not wrapped in `Web3AuthContextProvider`.");return t},_L=()=>{const{initError:t,isConnected:e,isInitialized:n,isInitializing:r,provider:i,status:o,web3Auth:a,getPlugin:s}=xL();return{initError:t,isConnected:e,isInitialized:n,isInitializing:r,provider:i,status:o,web3Auth:a,getPlugin:s}},Tte=()=>{const{web3Auth:t}=xL(),[e,n]=fe.useState(!1),[r,i]=fe.useState(null),o=fe.useCallback(async a=>{n(!0),i(null);try{await t.logout(a)}catch(s){i(s)}finally{n(!1)}},[t]);return{loading:e,error:r,disconnect:o}};function hO({config:t,initialState:e,children:n}){const r=fe.createElement(EQ,{context:eS},n);return fe.createElement(Rte,{config:t,initialState:e},r)}const Tm="2.19.0",Pte=()=>`@wagmi/core@${Tm}`;var SL=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Cv,CL;let tS=class tx extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return Pte()}constructor(e,n={}){var o;super(),Cv.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof tx?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,i=n.cause instanceof tx&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return SL(this,Cv,"m",CL).call(this,this,e)}};Cv=new WeakSet,CL=function t(e,n){return n!=null&&n(e)?e:e.cause?SL(this,Cv,"m",t).call(this,e.cause,n):e};class nx extends tS{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}function Nte(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,i=r==null?void 0:r[0],o=t.chains.find(s=>s.id===(n==null?void 0:n.chainId)),a=t.state.status;switch(a){case"connected":return{address:i,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:a};case"reconnecting":return{address:i,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:a};case"connecting":return{address:i,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:a};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:a}}}function rx(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!rx(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const i=Object.keys(t);if(n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.hasOwn(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(o&&!rx(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}let x2=!1;async function AL(t,e={}){var c,u;if(x2)return[];x2=!0,t.setState(f=>({...f,status:f.current?"reconnecting":"connecting"}));const n=[];if((c=e.connectors)!=null&&c.length)for(const f of e.connectors){let p;typeof f=="function"?p=t._internal.connectors.setup(f):p=f,n.push(p)}else n.push(...t.connectors);let r;try{r=await((u=t.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const i={};for(const[,f]of t.state.connections)i[f.connector.id]=1;r&&(i[r]=0);const o=Object.keys(i).length>0?[...n].sort((f,p)=>(i[f.id]??10)-(i[p.id]??10)):n;let a=!1;const s=[],l=[];for(const f of o){const p=await f.getProvider().catch(()=>{});if(!p||l.some(v=>v===p)||!await f.isAuthorized())continue;const m=await f.connect({isReconnecting:!0}).catch(()=>null);m&&(f.emitter.off("connect",t._internal.events.connect),f.emitter.on("change",t._internal.events.change),f.emitter.on("disconnect",t._internal.events.disconnect),t.setState(v=>{const _=new Map(a?v.connections:new Map).set(f.uid,{accounts:m.accounts,chainId:m.chainId,connector:f});return{...v,current:a?v.current:f.uid,connections:_}}),s.push({accounts:m.accounts,chainId:m.chainId,connector:f}),l.push(p),a=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(a?t.setState(f=>({...f,status:"connected"})):t.setState(f=>({...f,connections:new Map,current:null,status:"disconnected"}))),x2=!1,s}class cd extends tS{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}function Lte(t,e){const{onChange:n}=e;return t.subscribe(()=>Nte(t),n,{equalityFn(r,i){const{connector:o,...a}=r,{connector:s,...l}=i;return rx(a,l)&&(o==null?void 0:o.id)===(s==null?void 0:s.id)&&(o==null?void 0:o.uid)===(s==null?void 0:s.uid)}})}gy.type="injected";function gy(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const l=t.target;if(typeof l=="function"){const c=l();if(c)return c}return typeof l=="object"?l:typeof l=="string"?{...Dte[l]??{id:l,name:`${l[0].toUpperCase()}${l.slice(1)}`,provider:`is${l[0].toUpperCase()}${l.slice(1)}`}}:{id:"injected",name:"Injected",provider(c){return c==null?void 0:c.ethereum}}}let i,o,a,s;return l=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:gy.type,async setup(){const c=await this.getProvider();c!=null&&c.on&&t.target&&(a||(a=this.onConnect.bind(this),c.on("connect",a)),i||(i=this.onAccountsChanged.bind(this),c.on("accountsChanged",i)))},async connect({chainId:c,isReconnecting:u}={}){var g,m,v,_,w,I;const f=await this.getProvider();if(!f)throw new cd;let p=[];if(u)p=await this.getAccounts().catch(()=>[]);else if(e)try{p=(_=(v=(m=(g=(await f.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:g.caveats)==null?void 0:m[0])==null?void 0:v.value)==null?void 0:_.map($=>Fg($)),p.length>0&&(p=await this.getAccounts())}catch(k){const $=k;if($.code===Xr.code)throw new Xr($);if($.code===ql.code)throw $}try{!(p!=null&&p.length)&&!u&&(p=(await f.request({method:"eth_requestAccounts"})).map(L=>Fg(L))),a&&(f.removeListener("connect",a),a=void 0),i||(i=this.onAccountsChanged.bind(this),f.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),f.on("chainChanged",o)),s||(s=this.onDisconnect.bind(this),f.on("disconnect",s));let k=await this.getChainId();if(c&&k!==c){const $=await this.switchChain({chainId:c}).catch(L=>{if(L.code===Xr.code)throw L;return{id:k}});k=($==null?void 0:$.id)??k}return e&&await((w=l.storage)==null?void 0:w.removeItem(`${this.id}.disconnected`)),t.target||await((I=l.storage)==null?void 0:I.setItem("injected.connected",!0)),{accounts:p,chainId:k}}catch(k){const $=k;throw $.code===Xr.code?new Xr($):$.code===ql.code?new ql($):$}},async disconnect(){var u,f;const c=await this.getProvider();if(!c)throw new cd;o&&(c.removeListener("chainChanged",o),o=void 0),s&&(c.removeListener("disconnect",s),s=void 0),a||(a=this.onConnect.bind(this),c.on("connect",a));try{await Y_(()=>c.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((u=l.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),t.target||await((f=l.storage)==null?void 0:f.removeItem("injected.connected"))},async getAccounts(){const c=await this.getProvider();if(!c)throw new cd;return(await c.request({method:"eth_accounts"})).map(f=>Fg(f))},async getChainId(){const c=await this.getProvider();if(!c)throw new cd;const u=await c.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let c;const u=r();return typeof u.provider=="function"?c=u.provider(window):typeof u.provider=="string"?c=Pm(window,u.provider):c=u.provider,c&&!c.removeListener&&("off"in c&&typeof c.off=="function"?c.removeListener=c.off:c.removeListener=()=>{}),c},async isAuthorized(){var c,u;try{if(e&&await((c=l.storage)==null?void 0:c.getItem(`${this.id}.disconnected`))||!t.target&&!await((u=l.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const m=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",m),!!await this.getProvider()),v=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(w=>window.addEventListener("ethereum#initialized",()=>w(m()),{once:!0}))]:[],new Promise(w=>setTimeout(()=>w(m()),v))]))return!0}throw new cd}return!!(await DN(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:c,chainId:u}){var m,v,_,w;const f=await this.getProvider();if(!f)throw new cd;const p=l.chains.find(I=>I.id===u);if(!p)throw new gu(new nx);const g=new Promise(I=>{const k=$=>{"chainId"in $&&$.chainId===u&&(l.emitter.off("change",k),I())};l.emitter.on("change",k)});try{return await Promise.all([f.request({method:"wallet_switchEthereumChain",params:[{chainId:yv(u)}]}).then(async()=>{await this.getChainId()===u&&l.emitter.emit("change",{chainId:u})}),g]),p}catch(I){const k=I;if(k.code===4902||((v=(m=k==null?void 0:k.data)==null?void 0:m.originalError)==null?void 0:v.code)===4902)try{const{default:$,...L}=p.blockExplorers??{};let z;c!=null&&c.blockExplorerUrls?z=c.blockExplorerUrls:$&&(z=[$.url,...Object.values(L).map(D=>D.url)]);let H;(_=c==null?void 0:c.rpcUrls)!=null&&_.length?H=c.rpcUrls:H=[((w=p.rpcUrls.default)==null?void 0:w.http[0])??""];const P={blockExplorerUrls:z,chainId:yv(u),chainName:(c==null?void 0:c.chainName)??p.name,iconUrls:c==null?void 0:c.iconUrls,nativeCurrency:(c==null?void 0:c.nativeCurrency)??p.nativeCurrency,rpcUrls:H};return await Promise.all([f.request({method:"wallet_addEthereumChain",params:[P]}).then(async()=>{if(await this.getChainId()===u)l.emitter.emit("change",{chainId:u});else throw new Xr(new Error("User rejected switch after adding network."))}),g]),p}catch($){throw new Xr($)}throw k.code===Xr.code?new Xr(k):new gu(k)}},async onAccountsChanged(c){var u;if(c.length===0)this.onDisconnect();else if(l.emitter.listenerCount("connect")){const f=(await this.getChainId()).toString();this.onConnect({chainId:f}),e&&await((u=l.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else l.emitter.emit("change",{accounts:c.map(f=>Fg(f))})},onChainChanged(c){const u=Number(c);l.emitter.emit("change",{chainId:u})},async onConnect(c){const u=await this.getAccounts();if(u.length===0)return;const f=Number(c.chainId);l.emitter.emit("connect",{accounts:u,chainId:f});const p=await this.getProvider();p&&(a&&(p.removeListener("connect",a),a=void 0),i||(i=this.onAccountsChanged.bind(this),p.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),p.on("chainChanged",o)),s||(s=this.onDisconnect.bind(this),p.on("disconnect",s)))},async onDisconnect(c){const u=await this.getProvider();c&&c.code===1013&&u&&(await this.getAccounts()).length||(l.emitter.emit("disconnect"),u&&(o&&(u.removeListener("chainChanged",o),o=void 0),s&&(u.removeListener("disconnect",s),s=void 0),a||(a=this.onConnect.bind(this),u.on("connect",a))))}})}const Dte={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:Pm(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return Pm(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:Pm(t,"isPhantom")}}};function Pm(t,e){function n(i){return typeof e=="function"?e(i):typeof e=="string"?i[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(i=>n(i));if(r&&n(r))return r}const Bte=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(a,s,l)=>{let c=a;if(s){const u=(l==null?void 0:l.equalityFn)||Object.is;let f=a(r.getState());c=p=>{const g=a(p);if(!u(f,g)){const m=f;s(f=g,m)}},l!=null&&l.fireImmediately&&s(f,f)}return i(c)},t(e,n,r)},jte=Bte;function $te(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var o;const a=l=>l===null?null:JSON.parse(l,void 0),s=(o=n.getItem(i))!=null?o:null;return s instanceof Promise?s.then(a):a(s)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const ix=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return ix(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return ix(r)(n)}}}},Fte=(t,e)=>(n,r,i)=>{let o={storage:$te(()=>localStorage),partialize:v=>v,version:0,merge:(v,_)=>({..._,...v}),...e},a=!1;const s=new Set,l=new Set;let c=o.storage;if(!c)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...v)},r,i);const u=()=>{const v=o.partialize({...r()});return c.setItem(o.name,{state:v,version:o.version})},f=i.setState;i.setState=(v,_)=>{f(v,_),u()};const p=t((...v)=>{n(...v),u()},r,i);i.getInitialState=()=>p;let g;const m=()=>{var v,_;if(!c)return;a=!1,s.forEach(I=>{var k;return I((k=r())!=null?k:p)});const w=((_=o.onRehydrateStorage)==null?void 0:_.call(o,(v=r())!=null?v:p))||void 0;return ix(c.getItem.bind(c))(o.name).then(I=>{if(I)if(typeof I.version=="number"&&I.version!==o.version){if(o.migrate)return[!0,o.migrate(I.state,I.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,I.state];return[!1,void 0]}).then(I=>{var k;const[$,L]=I;if(g=o.merge(L,(k=r())!=null?k:p),n(g,!0),$)return u()}).then(()=>{w==null||w(g,void 0),g=r(),a=!0,l.forEach(I=>I(g))}).catch(I=>{w==null||w(void 0,I)})};return i.persist={setOptions:v=>{o={...o,...v},v.storage&&(c=v.storage)},clearStorage:()=>{c==null||c.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>m(),hasHydrated:()=>a,onHydrate:v=>(s.add(v),()=>{s.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},o.skipHydration||m(),g||p},Ute=Fte,pO=t=>{let e;const n=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const p=e;e=u??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(g=>g(e,p))}},i=()=>e,s={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,i,s);return s},_2=t=>t?pO(t):pO;class zte{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new UZ})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function qte(t){return new zte(t)}function Hte(t,e){return JSON.parse(t,(n,r)=>{let i=r;return(i==null?void 0:i.__type)==="bigint"&&(i=BigInt(i.value)),(i==null?void 0:i.__type)==="Map"&&(i=new Map(i.value)),(e==null?void 0:e(n,i))??i})}function gO(t,e){return t.slice(0,e).join(".")||"."}function mO(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function Wte(t,e){const n=typeof t=="function",r=typeof e=="function",i=[],o=[];return function(s,l){if(typeof l=="object")if(i.length){const c=mO(i,this);c===0?i[i.length]=this:(i.splice(c),o.splice(c)),o[o.length]=s;const u=mO(i,l);if(u!==0)return r?e.call(this,s,l,gO(o,u)):`[ref=${gO(o,u)}]`}else i[0]=l,o[0]=s;return n?t.call(this,s,l):l}}function Kte(t,e,n,r){return JSON.stringify(t,Wte((i,o)=>{let a=o;return typeof a=="bigint"&&(a={__type:"bigint",value:o.toString()}),a instanceof Map&&(a={__type:"Map",value:Array.from(o.entries())}),(e==null?void 0:e(i,a))??a},r),n??void 0)}function Vte(t){const{deserialize:e=Hte,key:n="wagmi",serialize:r=Kte,storage:i=IL}=t;function o(a){return a instanceof Promise?a.then(s=>s).catch(()=>null):a}return{...i,key:n,async getItem(a,s){const l=i.getItem(`${n}.${a}`),c=await o(l);return c?e(c)??null:s??null},async setItem(a,s){const l=`${n}.${a}`;s===null?await o(i.removeItem(l)):await o(i.setItem(l,r(s)))},async removeItem(a){await o(i.removeItem(`${n}.${a}`))}}}const IL={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function Gte(){const t=typeof window<"u"&&window.localStorage?window.localStorage:IL;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const ox=256;let Jg=ox,Zg;function Yte(t=11){if(!Zg||Jg+t>ox*2){Zg="",Jg=0;for(let e=0;e<ox;e++)Zg+=(256+Math.random()*256|0).toString(16).substring(1)}return Zg.substring(Jg,Jg+++t)}function kL(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=Vte({storage:Gte()}),syncConnectedChain:r=!0,ssr:i=!1,...o}=t,a=typeof window<"u"&&e?jZ():void 0,s=_2(()=>o.chains),l=_2(()=>{const L=[],z=new Set;for(const H of o.connectors??[]){const P=c(H);if(L.push(P),!i&&P.rdns){const D=typeof P.rdns=="string"?[P.rdns]:P.rdns;for(const B of D)z.add(B)}}if(!i&&a){const H=a.getProviders();for(const P of H)z.has(P.info.rdns)||L.push(c(u(P)))}return L});function c(L){var P;const z=qte(Yte()),H={...L({emitter:z,chains:s.getState(),storage:n,transports:o.transports}),emitter:z,uid:z.uid};return z.on("connect",k),(P=H.setup)==null||P.call(H),H}function u(L){const{info:z}=L,H=L.provider;return gy({target:{...z,id:z.rdns,provider:H}})}const f=new Map;function p(L={}){const z=L.chainId??_.getState().chainId,H=s.getState().find(D=>D.id===z);if(L.chainId&&!H)throw new nx;{const D=f.get(_.getState().chainId);if(D&&!H)return D;if(!H)throw new nx}{const D=f.get(z);if(D)return D}let P;if(o.client)P=o.client({chain:H});else{const D=H.id,B=s.getState().map(E=>E.id),O={},y=Object.entries(o);for(const[E,S]of y)if(!(E==="chains"||E==="client"||E==="connectors"||E==="transports"))if(typeof S=="object")if(D in S)O[E]=S[D];else{if(B.some(T=>T in S))continue;O[E]=S}else O[E]=S;P=dQ({...O,chain:H,batch:O.batch??{multicall:!0},transport:E=>o.transports[D]({...E,connectors:l})})}return f.set(z,P),P}function g(){return{chainId:s.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let m;const v="0.0.0-canary-";Tm.startsWith(v)?m=Number.parseInt(Tm.replace(v,"")):m=Number.parseInt(Tm.split(".")[0]??"0");const _=_2(jte(n?Ute(g,{migrate(L,z){if(z===m)return L;const H=g(),P=w(L,H.chainId);return{...H,chainId:P}},name:"store",partialize(L){return{connections:{__type:"Map",value:Array.from(L.connections.entries()).map(([z,H])=>{const{id:P,name:D,type:B,uid:O}=H.connector;return[z,{...H,connector:{id:P,name:D,type:B,uid:O}}]})},chainId:L.chainId,current:L.current}},merge(L,z){typeof L=="object"&&L&&"status"in L&&delete L.status;const H=w(L,z.chainId);return{...z,...L,chainId:H}},skipHydration:i,storage:n,version:m}):g));_.setState(g());function w(L,z){return L&&typeof L=="object"&&"chainId"in L&&typeof L.chainId=="number"&&s.getState().some(H=>H.id===L.chainId)?L.chainId:z}r&&_.subscribe(({connections:L,current:z})=>{var H;return z?(H=L.get(z))==null?void 0:H.chainId:void 0},L=>{if(s.getState().some(H=>H.id===L))return _.setState(H=>({...H,chainId:L??H.chainId}))}),a==null||a.subscribe(L=>{const z=new Set,H=new Set;for(const D of l.getState())if(z.add(D.id),D.rdns){const B=typeof D.rdns=="string"?[D.rdns]:D.rdns;for(const O of B)H.add(O)}const P=[];for(const D of L){if(H.has(D.info.rdns))continue;const B=c(u(D));z.has(B.id)||P.push(B)}n&&!_.persist.hasHydrated()||l.setState(D=>[...D,...P],!0)});function I(L){_.setState(z=>{const H=z.connections.get(L.uid);return H?{...z,connections:new Map(z.connections).set(L.uid,{accounts:L.accounts??H.accounts,chainId:L.chainId??H.chainId,connector:H.connector})}:z})}function k(L){_.getState().status==="connecting"||_.getState().status==="reconnecting"||_.setState(z=>{const H=l.getState().find(P=>P.uid===L.uid);return H?(H.emitter.listenerCount("connect")&&H.emitter.off("connect",I),H.emitter.listenerCount("change")||H.emitter.on("change",I),H.emitter.listenerCount("disconnect")||H.emitter.on("disconnect",$),{...z,connections:new Map(z.connections).set(L.uid,{accounts:L.accounts,chainId:L.chainId,connector:H}),current:L.uid,status:"connected"}):z})}function $(L){_.setState(z=>{const H=z.connections.get(L.uid);if(H){const D=H.connector;D.emitter.listenerCount("change")&&H.connector.emitter.off("change",I),D.emitter.listenerCount("disconnect")&&H.connector.emitter.off("disconnect",$),D.emitter.listenerCount("connect")||H.connector.emitter.on("connect",k)}if(z.connections.delete(L.uid),z.connections.size===0)return{...z,connections:new Map,current:null,status:"disconnected"};const P=z.connections.values().next().value;return{...z,connections:new Map(z.connections),current:P.connector.uid}})}return{get chains(){return s.getState()},get connectors(){return l.getState()},storage:n,getClient:p,get state(){return _.getState()},setState(L){let z;typeof L=="function"?z=L(_.getState()):z=L;const H=g();typeof z!="object"&&(z=H),Object.keys(H).some(D=>!(D in z))&&(z=H),_.setState(z,!0)},subscribe(L,z,H){return _.subscribe(L,z,H?{...H,fireImmediately:H.emitImmediately}:void 0)},_internal:{mipd:a,store:_,ssr:!!i,syncConnectedChain:r,transports:o.transports,chains:{setState(L){const z=typeof L=="function"?L(s.getState()):L;if(z.length!==0)return s.setState(z,!0)},subscribe(L){return s.subscribe(L)}},connectors:{providerDetailToConnector:u,setup:c,setState(L){return l.setState(typeof L=="function"?L(l.getState()):L,!0)},subscribe(L){return l.subscribe(L)}},events:{change:I,connect:k,disconnect:$}}}}function Jte(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(i=>i.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(i=>{var l;const o=new Set;for(const c of i??[])if(c.rdns){const u=Array.isArray(c.rdns)?c.rdns:[c.rdns];for(const f of u)o.add(f)}const a=[],s=((l=t._internal.mipd)==null?void 0:l.getProviders())??[];for(const c of s){if(o.has(c.info.rdns))continue;const u=t._internal.connectors.providerDetailToConnector(c),f=t._internal.connectors.setup(u);a.push(f)}return[...i,...a]})),r?AL(t):t.storage&&t.setState(i=>({...i,connections:new Map}))}}}function Zte(t){const{children:e,config:n,initialState:r,reconnectOnMount:i=!0}=t,{onMount:o}=Jte(n,{initialState:r,reconnectOnMount:i});n._internal.ssr||o();const a=fe.useRef(!0);return fe.useEffect(()=>{if(a.current&&n._internal.ssr)return o(),()=>{a.current=!1}},[]),e}const ML=fe.createContext(void 0);function Qte(t){const{children:e,config:n}=t,r={value:n};return fe.createElement(Zte,t,fe.createElement(ML.Provider,r,e))}const Xte="2.16.2",ene=()=>`wagmi@${Xte}`;class tne extends tS{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return ene()}}class nne extends tne{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function nS(t={}){const e=t.config??fe.useContext(ML);if(!e)throw new nne;return e}function rne(t={}){const{onConnect:e,onDisconnect:n}=t,r=nS(t);fe.useEffect(()=>Lte(r,{onChange(i,o){if((o.status==="reconnecting"||o.status==="connecting"&&o.address===void 0)&&i.status==="connected"){const{address:a,addresses:s,chain:l,chainId:c,connector:u}=i,f=o.status==="reconnecting"||o.status===void 0;e==null||e({address:a,addresses:s,chain:l,chainId:c,connector:u,isReconnected:f})}else o.status==="connected"&&i.status==="disconnected"&&(n==null||n())}}),[r,e,n])}var Fp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},my=typeof window>"u"||"Deno"in globalThis;function mo(){}function ine(t,e){return typeof t=="function"?t(e):t}function one(t){return typeof t=="number"&&t>=0&&t!==1/0}function sne(t,e){return Math.max(t+(e||0)-Date.now(),0)}function sx(t,e){return typeof t=="function"?t(e):t}function ane(t,e){return typeof t=="function"?t(e):t}function vO(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:a,stale:s}=t;if(a){if(r){if(e.queryHash!==rS(a,e.options))return!1}else if(!bp(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||i&&i!==e.state.fetchStatus||o&&!o(e))}function yO(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(mu(e.options.mutationKey)!==mu(o))return!1}else if(!bp(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function rS(t,e){return((e==null?void 0:e.queryKeyHashFn)||mu)(t)}function mu(t){return JSON.stringify(t,(e,n)=>ax(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function bp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>bp(t[n],e[n])):!1}function OL(t,e){if(t===e)return t;const n=wO(t)&&wO(e);if(n||ax(t)&&ax(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),a=o.length,s=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<a;u++){const f=n?u:o[u];(!n&&l.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(s[f]=void 0,c++):(s[f]=OL(t[f],e[f]),s[f]===t[f]&&t[f]!==void 0&&c++)}return i===a&&c===i?t:s}return e}function lne(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function wO(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ax(t){if(!bO(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!bO(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function bO(t){return Object.prototype.toString.call(t)==="[object Object]"}function cne(t){return new Promise(e=>{setTimeout(e,t)})}function une(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?OL(t,e):e}function dne(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function fne(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var iS=Symbol();function RL(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===iS?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function hne(t,e){return typeof t=="function"?t(...e):!!t}var Zc,kl,Pd,VO,pne=(VO=class extends Fp{constructor(){super();Vt(this,Zc);Vt(this,kl);Vt(this,Pd);Rt(this,Pd,e=>{if(!my&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Le(this,kl)||this.setEventListener(Le(this,Pd))}onUnsubscribe(){var e;this.hasListeners()||((e=Le(this,kl))==null||e.call(this),Rt(this,kl,void 0))}setEventListener(e){var n;Rt(this,Pd,e),(n=Le(this,kl))==null||n.call(this),Rt(this,kl,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Le(this,Zc)!==e&&(Rt(this,Zc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Le(this,Zc)=="boolean"?Le(this,Zc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Zc=new WeakMap,kl=new WeakMap,Pd=new WeakMap,VO),TL=new pne,Nd,Ml,Ld,GO,gne=(GO=class extends Fp{constructor(){super();Vt(this,Nd,!0);Vt(this,Ml);Vt(this,Ld);Rt(this,Ld,e=>{if(!my&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Le(this,Ml)||this.setEventListener(Le(this,Ld))}onUnsubscribe(){var e;this.hasListeners()||((e=Le(this,Ml))==null||e.call(this),Rt(this,Ml,void 0))}setEventListener(e){var n;Rt(this,Ld,e),(n=Le(this,Ml))==null||n.call(this),Rt(this,Ml,e(this.setOnline.bind(this)))}setOnline(e){Le(this,Nd)!==e&&(Rt(this,Nd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Le(this,Nd)}},Nd=new WeakMap,Ml=new WeakMap,Ld=new WeakMap,GO),Av=new gne;function mne(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function vne(t){return Math.min(1e3*2**t,3e4)}function PL(t){return(t??"online")==="online"?Av.isOnline():!0}var NL=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function S2(t){return t instanceof NL}function LL(t){let e=!1,n=0,r=!1,i;const o=mne(),a=v=>{var _;r||(p(new NL(v)),(_=t.abort)==null||_.call(t))},s=()=>{e=!0},l=()=>{e=!1},c=()=>TL.isFocused()&&(t.networkMode==="always"||Av.isOnline())&&t.canRun(),u=()=>PL(t.networkMode)&&t.canRun(),f=v=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,v),i==null||i(),o.resolve(v))},p=v=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,v),i==null||i(),o.reject(v))},g=()=>new Promise(v=>{var _;i=w=>{(r||c())&&v(w)},(_=t.onPause)==null||_.call(t)}).then(()=>{var v;i=void 0,r||(v=t.onContinue)==null||v.call(t)}),m=()=>{if(r)return;let v;const _=n===0?t.initialPromise:void 0;try{v=_??t.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(f).catch(w=>{var z;if(r)return;const I=t.retry??(my?0:3),k=t.retryDelay??vne,$=typeof k=="function"?k(n,w):k,L=I===!0||typeof I=="number"&&n<I||typeof I=="function"&&I(n,w);if(e||!L){p(w);return}n++,(z=t.onFail)==null||z.call(t,n,w),cne($).then(()=>c()?void 0:g()).then(()=>{e?p(w):m()})})};return{promise:o,cancel:a,continue:()=>(i==null||i(),o),cancelRetry:s,continueRetry:l,canStart:u,start:()=>(u()?m():g().then(m),o)}}var yne=t=>setTimeout(t,0);function wne(){let t=[],e=0,n=s=>{s()},r=s=>{s()},i=yne;const o=s=>{e?t.push(s):i(()=>{n(s)})},a=()=>{const s=t;t=[],s.length&&i(()=>{r(()=>{s.forEach(l=>{n(l)})})})};return{batch:s=>{let l;e++;try{l=s()}finally{e--,e||a()}return l},batchCalls:s=>(...l)=>{o(()=>{s(...l)})},schedule:o,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var Cr=wne(),Qc,YO,DL=(YO=class{constructor(){Vt(this,Qc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),one(this.gcTime)&&Rt(this,Qc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(my?1/0:300*1e3))}clearGcTimeout(){Le(this,Qc)&&(clearTimeout(Le(this,Qc)),Rt(this,Qc,void 0))}},Qc=new WeakMap,YO),Dd,Xc,fo,eu,jr,Ep,tu,Bo,ta,JO,bne=(JO=class extends DL{constructor(e){super();Vt(this,Bo);Vt(this,Dd);Vt(this,Xc);Vt(this,fo);Vt(this,eu);Vt(this,jr);Vt(this,Ep);Vt(this,tu);Rt(this,tu,!1),Rt(this,Ep,e.defaultOptions),this.setOptions(e.options),this.observers=[],Rt(this,eu,e.client),Rt(this,fo,Le(this,eu).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Rt(this,Dd,xne(this.options)),this.state=e.state??Le(this,Dd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Le(this,jr))==null?void 0:e.promise}setOptions(e){this.options={...Le(this,Ep),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Le(this,fo).remove(this)}setData(e,n){const r=une(this.state.data,e,this.options);return Kn(this,Bo,ta).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Kn(this,Bo,ta).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=Le(this,jr))==null?void 0:r.promise;return(i=Le(this,jr))==null||i.cancel(e),n?n.then(mo).catch(mo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Le(this,Dd))}isActive(){return this.observers.some(e=>ane(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===iS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>sx(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!sne(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Le(this,jr))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Le(this,jr))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Le(this,fo).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Le(this,jr)&&(Le(this,tu)?Le(this,jr).cancel({revert:!0}):Le(this,jr).cancelRetry()),this.scheduleGc()),Le(this,fo).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Kn(this,Bo,ta).call(this,{type:"invalidate"})}fetch(e,n){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Le(this,jr))return Le(this,jr).continueRetry(),Le(this,jr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(g=>g.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Rt(this,tu,!0),r.signal)})},o=()=>{const p=RL(this.options,n),m=(()=>{const v={client:Le(this,eu),queryKey:this.queryKey,meta:this.meta};return i(v),v})();return Rt(this,tu,!1),this.options.persister?this.options.persister(p,m,this):p(m)},s=(()=>{const p={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Le(this,eu),state:this.state,fetchFn:o};return i(p),p})();(c=this.options.behavior)==null||c.onFetch(s,this),Rt(this,Xc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=s.fetchOptions)==null?void 0:u.meta))&&Kn(this,Bo,ta).call(this,{type:"fetch",meta:(f=s.fetchOptions)==null?void 0:f.meta});const l=p=>{var g,m,v,_;S2(p)&&p.silent||Kn(this,Bo,ta).call(this,{type:"error",error:p}),S2(p)||((m=(g=Le(this,fo).config).onError)==null||m.call(g,p,this),(_=(v=Le(this,fo).config).onSettled)==null||_.call(v,this.state.data,p,this)),this.scheduleGc()};return Rt(this,jr,LL({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var g,m,v,_;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(w){l(w);return}(m=(g=Le(this,fo).config).onSuccess)==null||m.call(g,p,this),(_=(v=Le(this,fo).config).onSettled)==null||_.call(v,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,g)=>{Kn(this,Bo,ta).call(this,{type:"failed",failureCount:p,error:g})},onPause:()=>{Kn(this,Bo,ta).call(this,{type:"pause"})},onContinue:()=>{Kn(this,Bo,ta).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),Le(this,jr).start()}},Dd=new WeakMap,Xc=new WeakMap,fo=new WeakMap,eu=new WeakMap,jr=new WeakMap,Ep=new WeakMap,tu=new WeakMap,Bo=new WeakSet,ta=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Ene(r.data,this.options),fetchMeta:e.meta??null};case"success":return Rt(this,Xc,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return S2(i)&&i.revert&&Le(this,Xc)?{...Le(this,Xc),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Cr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Le(this,fo).notify({query:this,type:"updated",action:e})})},JO);function Ene(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:PL(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function xne(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ms,ZO,_ne=(ZO=class extends Fp{constructor(e={}){super();Vt(this,ms);this.config=e,Rt(this,ms,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??rS(i,n);let a=this.get(o);return a||(a=new bne({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){Le(this,ms).has(e.queryHash)||(Le(this,ms).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Le(this,ms).get(e.queryHash);n&&(e.destroy(),n===e&&Le(this,ms).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Cr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Le(this,ms).get(e)}getAll(){return[...Le(this,ms).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>vO(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>vO(e,r)):n}notify(e){Cr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Cr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Cr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ms=new WeakMap,ZO),vs,Zr,nu,ys,ml,QO,Sne=(QO=class extends DL{constructor(e){super();Vt(this,ys);Vt(this,vs);Vt(this,Zr);Vt(this,nu);this.mutationId=e.mutationId,Rt(this,Zr,e.mutationCache),Rt(this,vs,[]),this.state=e.state||BL(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Le(this,vs).includes(e)||(Le(this,vs).push(e),this.clearGcTimeout(),Le(this,Zr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Rt(this,vs,Le(this,vs).filter(n=>n!==e)),this.scheduleGc(),Le(this,Zr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Le(this,vs).length||(this.state.status==="pending"?this.scheduleGc():Le(this,Zr).remove(this))}continue(){var e;return((e=Le(this,nu))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,s,l,c,u,f,p,g,m,v,_,w,I,k,$,L,z,H,P;const n=()=>{Kn(this,ys,ml).call(this,{type:"continue"})};Rt(this,nu,LL({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(D,B)=>{Kn(this,ys,ml).call(this,{type:"failed",failureCount:D,error:B})},onPause:()=>{Kn(this,ys,ml).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Le(this,Zr).canRun(this)}));const r=this.state.status==="pending",i=!Le(this,nu).canStart();try{if(r)n();else{Kn(this,ys,ml).call(this,{type:"pending",variables:e,isPaused:i}),await((a=(o=Le(this,Zr).config).onMutate)==null?void 0:a.call(o,e,this));const B=await((l=(s=this.options).onMutate)==null?void 0:l.call(s,e));B!==this.state.context&&Kn(this,ys,ml).call(this,{type:"pending",context:B,variables:e,isPaused:i})}const D=await Le(this,nu).start();return await((u=(c=Le(this,Zr).config).onSuccess)==null?void 0:u.call(c,D,e,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,D,e,this.state.context)),await((m=(g=Le(this,Zr).config).onSettled)==null?void 0:m.call(g,D,null,this.state.variables,this.state.context,this)),await((_=(v=this.options).onSettled)==null?void 0:_.call(v,D,null,e,this.state.context)),Kn(this,ys,ml).call(this,{type:"success",data:D}),D}catch(D){try{throw await((I=(w=Le(this,Zr).config).onError)==null?void 0:I.call(w,D,e,this.state.context,this)),await(($=(k=this.options).onError)==null?void 0:$.call(k,D,e,this.state.context)),await((z=(L=Le(this,Zr).config).onSettled)==null?void 0:z.call(L,void 0,D,this.state.variables,this.state.context,this)),await((P=(H=this.options).onSettled)==null?void 0:P.call(H,void 0,D,e,this.state.context)),D}finally{Kn(this,ys,ml).call(this,{type:"error",error:D})}}finally{Le(this,Zr).runNext(this)}}},vs=new WeakMap,Zr=new WeakMap,nu=new WeakMap,ys=new WeakSet,ml=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Cr.batch(()=>{Le(this,vs).forEach(r=>{r.onMutationUpdate(e)}),Le(this,Zr).notify({mutation:this,type:"updated",action:e})})},QO);function BL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ca,jo,xp,XO,Cne=(XO=class extends Fp{constructor(e={}){super();Vt(this,ca);Vt(this,jo);Vt(this,xp);this.config=e,Rt(this,ca,new Set),Rt(this,jo,new Map),Rt(this,xp,0)}build(e,n,r){const i=new Sne({mutationCache:this,mutationId:++F0(this,xp)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){Le(this,ca).add(e);const n=Qg(e);if(typeof n=="string"){const r=Le(this,jo).get(n);r?r.push(e):Le(this,jo).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Le(this,ca).delete(e)){const n=Qg(e);if(typeof n=="string"){const r=Le(this,jo).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&Le(this,jo).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Qg(e);if(typeof n=="string"){const r=Le(this,jo).get(n),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Qg(e);if(typeof n=="string"){const i=(r=Le(this,jo).get(n))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Cr.batch(()=>{Le(this,ca).forEach(e=>{this.notify({type:"removed",mutation:e})}),Le(this,ca).clear(),Le(this,jo).clear()})}getAll(){return Array.from(Le(this,ca))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>yO(n,r))}findAll(e={}){return this.getAll().filter(n=>yO(e,n))}notify(e){Cr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Cr.batch(()=>Promise.all(e.map(n=>n.continue().catch(mo))))}},ca=new WeakMap,jo=new WeakMap,xp=new WeakMap,XO);function Qg(t){var e;return(e=t.options.scope)==null?void 0:e.id}function EO(t){return{onFetch:(e,n)=>{var u,f,p,g,m;const r=e.options,i=(p=(f=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,o=((g=e.state.data)==null?void 0:g.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const _=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},w=RL(e.options,e.fetchOptions),I=async(k,$,L)=>{if(v)return Promise.reject();if($==null&&k.pages.length)return Promise.resolve(k);const H=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:$,direction:L?"backward":"forward",meta:e.options.meta};return _(O),O})(),P=await w(H),{maxPages:D}=e.options,B=L?fne:dne;return{pages:B(k.pages,P,D),pageParams:B(k.pageParams,$,D)}};if(i&&o.length){const k=i==="backward",$=k?Ane:xO,L={pages:o,pageParams:a},z=$(r,L);s=await I(L,z,k)}else{const k=t??o.length;do{const $=l===0?a[0]??r.initialPageParam:xO(r,s);if(l>0&&$==null)break;s=await I(s,$),l++}while(l<k)}return s};e.options.persister?e.fetchFn=()=>{var v,_;return(_=(v=e.options).persister)==null?void 0:_.call(v,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function xO(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Ane(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var jn,Ol,Rl,Bd,jd,Tl,$d,Fd,eR,Ine=(eR=class{constructor(t={}){Vt(this,jn);Vt(this,Ol);Vt(this,Rl);Vt(this,Bd);Vt(this,jd);Vt(this,Tl);Vt(this,$d);Vt(this,Fd);Rt(this,jn,t.queryCache||new _ne),Rt(this,Ol,t.mutationCache||new Cne),Rt(this,Rl,t.defaultOptions||{}),Rt(this,Bd,new Map),Rt(this,jd,new Map),Rt(this,Tl,0)}mount(){F0(this,Tl)._++,Le(this,Tl)===1&&(Rt(this,$d,TL.subscribe(async t=>{t&&(await this.resumePausedMutations(),Le(this,jn).onFocus())})),Rt(this,Fd,Av.subscribe(async t=>{t&&(await this.resumePausedMutations(),Le(this,jn).onOnline())})))}unmount(){var t,e;F0(this,Tl)._--,Le(this,Tl)===0&&((t=Le(this,$d))==null||t.call(this),Rt(this,$d,void 0),(e=Le(this,Fd))==null||e.call(this),Rt(this,Fd,void 0))}isFetching(t){return Le(this,jn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Le(this,Ol).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Le(this,jn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Le(this,jn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(sx(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Le(this,jn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=Le(this,jn).get(r.queryHash),o=i==null?void 0:i.state.data,a=ine(e,o);if(a!==void 0)return Le(this,jn).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Cr.batch(()=>Le(this,jn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Le(this,jn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Le(this,jn);Cr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Le(this,jn);return Cr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Cr.batch(()=>Le(this,jn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(mo).catch(mo)}invalidateQueries(t,e={}){return Cr.batch(()=>(Le(this,jn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Cr.batch(()=>Le(this,jn).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(mo)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(mo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Le(this,jn).build(this,e);return n.isStaleByTime(sx(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(mo).catch(mo)}fetchInfiniteQuery(t){return t.behavior=EO(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(mo).catch(mo)}ensureInfiniteQueryData(t){return t.behavior=EO(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Av.isOnline()?Le(this,Ol).resumePausedMutations():Promise.resolve()}getQueryCache(){return Le(this,jn)}getMutationCache(){return Le(this,Ol)}getDefaultOptions(){return Le(this,Rl)}setDefaultOptions(t){Rt(this,Rl,t)}setQueryDefaults(t,e){Le(this,Bd).set(mu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Le(this,Bd).values()],n={};return e.forEach(r=>{bp(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Le(this,jd).set(mu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Le(this,jd).values()],n={};return e.forEach(r=>{bp(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Le(this,Rl).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=rS(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===iS&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Le(this,Rl).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Le(this,jn).clear(),Le(this,Ol).clear()}},jn=new WeakMap,Ol=new WeakMap,Rl=new WeakMap,Bd=new WeakMap,jd=new WeakMap,Tl=new WeakMap,$d=new WeakMap,Fd=new WeakMap,eR),Pl,Nl,Ei,ua,_a,Nm,lx,tR,kne=(tR=class extends Fp{constructor(n,r){super();Vt(this,_a);Vt(this,Pl);Vt(this,Nl);Vt(this,Ei);Vt(this,ua);Rt(this,Pl,n),this.setOptions(r),this.bindMethods(),Kn(this,_a,Nm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=Le(this,Pl).defaultMutationOptions(n),lne(this.options,r)||Le(this,Pl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Le(this,Ei),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&mu(r.mutationKey)!==mu(this.options.mutationKey)?this.reset():((i=Le(this,Ei))==null?void 0:i.state.status)==="pending"&&Le(this,Ei).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Le(this,Ei))==null||n.removeObserver(this)}onMutationUpdate(n){Kn(this,_a,Nm).call(this),Kn(this,_a,lx).call(this,n)}getCurrentResult(){return Le(this,Nl)}reset(){var n;(n=Le(this,Ei))==null||n.removeObserver(this),Rt(this,Ei,void 0),Kn(this,_a,Nm).call(this),Kn(this,_a,lx).call(this)}mutate(n,r){var i;return Rt(this,ua,r),(i=Le(this,Ei))==null||i.removeObserver(this),Rt(this,Ei,Le(this,Pl).getMutationCache().build(Le(this,Pl),this.options)),Le(this,Ei).addObserver(this),Le(this,Ei).execute(n)}},Pl=new WeakMap,Nl=new WeakMap,Ei=new WeakMap,ua=new WeakMap,_a=new WeakSet,Nm=function(){var r;const n=((r=Le(this,Ei))==null?void 0:r.state)??BL();Rt(this,Nl,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},lx=function(n){Cr.batch(()=>{var r,i,o,a,s,l,c,u;if(Le(this,ua)&&this.hasListeners()){const f=Le(this,Nl).variables,p=Le(this,Nl).context;(n==null?void 0:n.type)==="success"?((i=(r=Le(this,ua)).onSuccess)==null||i.call(r,n.data,f,p),(a=(o=Le(this,ua)).onSettled)==null||a.call(o,n.data,null,f,p)):(n==null?void 0:n.type)==="error"&&((l=(s=Le(this,ua)).onError)==null||l.call(s,n.error,f,p),(u=(c=Le(this,ua)).onSettled)==null||u.call(c,void 0,n.error,f,p))}this.listeners.forEach(f=>{f(Le(this,Nl))})})},tR);function Mne(t){return{mutationFn(e){return AL(t,e)},mutationKey:["reconnect"]}}var jL=fe.createContext(void 0),One=t=>{const e=fe.useContext(jL);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Rne=({client:t,children:e})=>(fe.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),re.jsx(jL.Provider,{value:t,children:e}));function Tne(t,e){const n=One(),[r]=fe.useState(()=>new kne(n,t));fe.useEffect(()=>{r.setOptions(t)},[r,t]);const i=fe.useSyncExternalStore(fe.useCallback(a=>r.subscribe(Cr.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=fe.useCallback((a,s)=>{r.mutate(a,s).catch(mo)},[r]);if(i.error&&hne(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}function Pne(t={}){const{mutation:e}=t,n=nS(t),r=Mne(n),{mutate:i,mutateAsync:o,...a}=Tne({...e,...r});return{...a,connectors:n.connectors,reconnect:i,reconnectAsync:o}}const C2=UN({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Nne=kL({chains:[C2],connectors:[],ssr:!0,transports:{[C2.id]:FN(C2.rpcUrls.default.http[0])}}),Lne=["children"],cx="web3auth";async function Dne(t,e){let n=e.connectors.find(i=>i.id===cx);if(n)return n;n=gy({target:{provider:t,id:cx,name:"Web3Auth"}});const r=e._internal.connectors.setup(n);return e._internal.connectors.setState(i=>[...i,r]),r}async function Bne(t,e){var n,r;await Promise.all([(n=e.storage)===null||n===void 0?void 0:n.removeItem(`${t.id}.disconnected`),(r=e.storage)===null||r===void 0?void 0:r.setItem("recentConnectorId",t.id)]);let i=await t.getChainId();e.chains.find(s=>s.id===i)||(i=e.chains[0].id);const o=await t.getAccounts(),a=new Map([[t.uid,{accounts:[o[0]],chainId:i,connector:t}]]);e.setState(s=>be(be({},s),{},{chainId:i,connections:a,current:t.uid,status:"connected"}))}async function jne(t){t._internal.connectors.setState(e=>e.filter(n=>n.id!==cx)),t.setState(e=>be(be({},e),{},{chainId:e.chainId,connections:new Map,current:void 0,status:"disconnected"}))}function $ne({children:t}){const{isConnected:e,provider:n}=_L(),{disconnect:r}=Tte(),i=nS(),{reconnect:o}=Pne();return rne({onDisconnect:async()=>{nt.info("Disconnected from wagmi"),e&&await r()}}),fe.useEffect(()=>{(async()=>{if(e&&n){const a=await Dne(n,i);if(!a)throw nt.error("Failed to setup react wagmi connector"),new Error("Failed to setup connector");await Bne(a,i),o()}else e||i.state.status==="connected"&&await jne(i)})()},[e,i,n,o]),fe.createElement(fe.Fragment,null,t)}function Fne(t){let{children:e}=t,n=Tv(t,Lne);const{config:r}=n,{web3Auth:i,isInitialized:o}=_L(),a=fe.useMemo(()=>{var s;if(i==null||i.setAnalyticsProperties({wagmi_enabled:!0}),!o)return Nne;const l=be(be({ssr:!0},r),{},{chains:void 0,connectors:[],transports:{},multiInjectedProviderDiscovery:!1,client:void 0}),c=[];if(o&&i!==null&&i!==void 0&&(s=i.coreOptions)!==null&&s!==void 0&&s.chains){var u;const f=(u=i.currentChain)===null||u===void 0?void 0:u.chainId,p=i.coreOptions.chains.filter(g=>g.chainNamespace===$t.EIP155);if(p.length===0)throw ot.invalidParams("No valid chains found in web3auth config for wagmi.");p.forEach(g=>{const m=UN({id:Number.parseInt(g.chainId,16),name:g.displayName,rpcUrls:{default:{http:[g.rpcTarget],webSocket:[g.wsTarget]}},blockExplorers:g.blockExplorerUrl?{default:{name:"explorer",url:g.blockExplorerUrl}}:void 0,nativeCurrency:{name:g.tickerName,symbol:g.ticker,decimals:g.decimals||18}});f===g.chainId?c.unshift(m):c.push(m),l.transports[m.id]=g.wsTarget?wQ(g.wsTarget):FN(g.rpcTarget)}),l.chains=[c[0],...c.slice(1)]}return kL(l)},[r,i,o]);return fe.createElement(Qte,be(be({},n),{},{config:a,reconnectOnMount:!1}),fe.createElement($ne,null,e))}const Une="BC5dL3f8Bn4vOO1LjC499LshGqwzthRjYKSXRZLWlwuEhbKAUxxxul1jC57VPL1ZnV-GT0sweRK_qko-KbXUxWg",zne={web3AuthOptions:{clientId:Une,web3AuthNetwork:ru.SAPPHIRE_DEVNET}},qne="BC5dL3f8Bn4vOO1LjC499LshGqwzthRjYKSXRZLWlwuEhbKAUxxxul1jC57VPL1ZnV-GT0sweRK_qko-KbXUxWg",Hne={web3AuthOptions:{clientId:qne,web3AuthNetwork:ru.SAPPHIRE_DEVNET}};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wne=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kne=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),_O=t=>{const e=Kne(t);return e.charAt(0).toUpperCase()+e.slice(1)},$L=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Vne=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gne={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yne=fe.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>fe.createElement("svg",{ref:l,...Gne,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:$L("lucide",i),...!o&&!Vne(s)&&{"aria-hidden":"true"},...s},[...a.map(([c,u])=>fe.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=(t,e)=>{const n=fe.forwardRef(({className:r,...i},o)=>fe.createElement(Yne,{ref:o,iconNode:e,className:$L(`lucide-${Wne(_O(t))}`,`lucide-${t}`,r),...i}));return n.displayName=_O(t),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],SO=Xl("briefcase",Jne);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Xg=Xl("chevron-down",Zne);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ud=Xl("external-link",Qne);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xne=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],CO=Xl("file-text",Xne);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],AO=Xl("info",ere);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tre=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],nre=Xl("menu",tre);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],IO=Xl("users",rre);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ore=Xl("x",ire),sre=new URL("/elysiumx-logo.png",import.meta.url).href,FL=()=>{const[t,e]=fe.useState(!1),[n,r]=fe.useState(null),i=fe.useRef(null),o=()=>e(!t),a=$=>{r(n===$?null:$)};fe.useEffect(()=>{const $=L=>{i.current&&!i.current.contains(L.target)&&(r(null),e(!1))};return document.addEventListener("mousedown",$),()=>document.removeEventListener("mousedown",$)},[]);const s=()=>{e(!1),r(null)},l={display:"flex",justifyContent:"space-between",alignItems:"center",backdropFilter:"blur(10px)",backgroundColor:"rgba(255, 255, 255, 0.1)",borderBottom:"1px solid rgba(255, 255, 255, 0.2)",padding:"10px 20px",color:"white",position:"fixed",top:0,zIndex:9999,borderRadius:"15px",margin:"10px 20px",width:"calc(100% - 40px)"},c={display:"flex",alignItems:"center",gap:"8px",padding:"10px 15px",textDecoration:"none",color:"white",fontWeight:"500",transition:"background-color 0.3s ease",borderRadius:"5px"},u={...c,backgroundColor:"transparent",border:"none",cursor:"pointer"},f={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(8px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"5px",boxShadow:"0 4px 8px rgba(0,0,0,0.2)",zIndex:1e3,minWidth:"160px",padding:"10px 0",display:"flex",flexDirection:"column",top:"100%",left:0},p={...c,padding:"8px 15px",justifyContent:"space-between"},g={position:"fixed",left:0,width:"100%",height:"auto",maxHeight:"calc(100vh - 60px)",backgroundColor:"rgba(0, 0, 0, 0.9)",backdropFilter:"blur(10px)",zIndex:999,borderRadius:"15px",display:"flex",flexDirection:"column",overflowY:"auto",transition:"transform 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55)",transform:t?"translateY(0)":"translateY(-120%)",top:"80px"},m={...c,width:"100%",justifyContent:"flex-start",padding:"15px 20px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},v={display:"flex",flexDirection:"column",backgroundColor:"rgba(0, 0, 0, 0.5)",paddingLeft:"20px"},_={background:"none",border:"none",color:"white",fontSize:"24px",cursor:"pointer",display:"block"},w={display:"flex",gap:"20px"},[I,k]=fe.useState(!1);return fe.useEffect(()=>{const $=()=>{k(window.innerWidth<768)};return window.addEventListener("resize",$),$(),()=>window.removeEventListener("resize",$)},[]),re.jsxs("nav",{ref:i,style:l,children:[re.jsx("div",{style:{cursor:"pointer"},onClick:()=>window.open("/","_blank"),children:re.jsx("img",{src:sre,alt:"ElysiumX logo",style:{height:"40px"}})}),!I&&re.jsxs("div",{style:w,children:[re.jsxs("div",{style:{position:"relative"},children:[re.jsxs("button",{style:u,onMouseEnter:()=>r("projects"),onClick:()=>a("projects"),children:[re.jsx(SO,{size:16}),re.jsx("span",{children:"Projects"}),re.jsx(Xg,{size:16,style:{transform:n==="projects"?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s ease"}})]}),n==="projects"&&re.jsxs("div",{style:f,onMouseLeave:()=>r(null),children:[re.jsxs("a",{href:"https://gov.elysiumx.io",target:"_blank",style:p,onClick:s,children:[re.jsx("span",{children:"Governance"}),re.jsx(ud,{size:16})]}),re.jsxs("a",{href:"https://app.elysiumx.io",target:"_blank",style:p,onClick:s,children:[re.jsx("span",{children:"Exchange"}),re.jsx(ud,{size:16})]})]})]}),re.jsxs("a",{href:"https://elysiumx.io",style:c,onClick:s,children:[re.jsx(AO,{size:16}),re.jsx("span",{children:"About Us"})]}),re.jsxs("div",{style:{position:"relative"},children:[re.jsxs("button",{style:u,onMouseEnter:()=>r("docs"),onClick:()=>a("docs"),children:[re.jsx(CO,{size:16}),re.jsx("span",{children:"Docs"}),re.jsx(Xg,{size:16,style:{transform:n==="docs"?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s ease"}})]}),n==="docs"&&re.jsx("div",{style:f,onMouseLeave:()=>r(null),children:re.jsxs("a",{href:"https://docs.elysiumx.io",target:"_blank",rel:"noopener noreferrer",style:p,onClick:s,children:[re.jsx("span",{children:"Whitepaper"}),re.jsx(ud,{size:16})]})})]}),re.jsxs("a",{href:"https://t.me/elysiumx_io",target:"_blank",style:c,onClick:s,children:[re.jsx(IO,{size:16}),re.jsx("span",{children:"Community"})]})]}),!I&&re.jsx("div",{children:re.jsx("a",{href:"https://nonkyc.io?ref=68cbe0d10f9fb2fb035e8fe9",target:"_blank",rel:"noopener noreferrer",style:{...c,backgroundColor:"#007bff",padding:"10px 20px",borderRadius:"5px"},children:"Buy BTC"})}),I&&re.jsx("button",{style:_,onClick:o,children:t?re.jsx(ore,{size:24}):re.jsx(nre,{size:24})}),I&&t&&re.jsx("div",{style:g,onClick:o,children:re.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[re.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[re.jsxs("div",{style:{position:"relative"},children:[re.jsxs("button",{style:m,onClick:$=>{$.stopPropagation(),a("mobile-projects")},children:[re.jsx(SO,{size:16}),re.jsx("span",{children:"Projects"}),re.jsx(Xg,{size:16,style:{transform:n==="mobile-projects"?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s ease"}})]}),n==="mobile-projects"&&re.jsxs("div",{style:v,children:[re.jsxs("a",{href:"https://gov.elysiumx.io",target:"_blank",style:p,onClick:s,children:[re.jsx("span",{children:"Governance"})," ",re.jsx(ud,{size:16})]}),re.jsxs("a",{href:"https://app.elysiumx.io",target:"_blank",style:p,onClick:s,children:[re.jsx("span",{children:"Exchange"})," ",re.jsx(ud,{size:16})]})]})]}),re.jsxs("a",{href:"https://elysiumx.io",style:m,onClick:s,children:[re.jsx(AO,{size:16}),re.jsx("span",{children:"About Us"})]}),re.jsxs("div",{style:{position:"relative"},children:[re.jsxs("button",{style:m,onClick:$=>{$.stopPropagation(),a("mobile-docs")},children:[re.jsx(CO,{size:16}),re.jsx("span",{children:"Docs"}),re.jsx(Xg,{size:16,style:{transform:n==="mobile-docs"?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s ease"}})]}),n==="mobile-docs"&&re.jsx("div",{style:v,children:re.jsxs("a",{href:"https://docs.elysiumx.io",target:"_blank",rel:"noopener noreferrer",style:p,onClick:s,children:[re.jsx("span",{children:"Whitepaper"})," ",re.jsx(ud,{size:16})]})})]}),re.jsxs("a",{href:"https://t.me/elysiumx_io",target:"_blank",style:m,onClick:s,children:[re.jsx(IO,{size:16}),re.jsx("span",{children:"Community"})]})]}),re.jsx("div",{style:{padding:"10px 20px"},children:re.jsx("a",{href:"https://nonkyc.io?ref=68cbe0d10f9fb2fb035e8fe9",target:"_blank",rel:"noopener noreferrer",style:{...c,backgroundColor:"#007bff",padding:"10px 20px",borderRadius:"5px",width:"100%",justifyContent:"center"},children:"Buy BTC"})})]})})]})},are="_container_30uss_1",UL={container:are};function kh(t){let e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function ux(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function lre(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function kO(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function MO(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function cre(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function ure(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function A2(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function dre(t,e){let n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function fre(t,e){let n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function OO(t){let e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function hre(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function pre(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function dx(t,e){let n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function zL(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function RO(t,e,n){let r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],l=n[2];return t[0]=i*l-o*s,t[1]=o*a-r*l,t[2]=r*s-i*a,t}function gre(t,e,n,r){let i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t}function mre(t,e,n,r,i){const o=Math.exp(-r*i);let a=e[0],s=e[1],l=e[2];return t[0]=n[0]+(a-n[0])*o,t[1]=n[1]+(s-n[1])*o,t[2]=n[2]+(l-n[2])*o,t}function vre(t,e,n){let r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function yre(t,e,n){let r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o)/a,t[1]=(n[1]*r+n[5]*i+n[9]*o)/a,t[2]=(n[2]*r+n[6]*i+n[10]*o)/a,t}function wre(t,e,n){let r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function bre(t,e,n){let r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],l=n[2],c=n[3],u=s*o-l*i,f=l*r-a*o,p=a*i-s*r,g=s*p-l*f,m=l*u-a*p,v=a*f-s*u,_=c*2;return u*=_,f*=_,p*=_,g*=2,m*=2,v*=2,t[0]=r+u+g,t[1]=i+f+m,t[2]=o+p+v,t}const Ere=function(){const t=[0,0,0],e=[0,0,0];return function(n,r){ux(t,n),ux(e,r),dx(t,t),dx(e,e);let i=zL(t,e);return i>1?0:i<-1?Math.PI:Math.acos(i)}}();function xre(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}class Wo extends Array{constructor(e=0,n=e,r=e){return super(e,n,r),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,n=e,r=e){return e.length?this.copy(e):(lre(this,e,n,r),this)}copy(e){return ux(this,e),this}add(e,n){return n?kO(this,e,n):kO(this,this,e),this}sub(e,n){return n?MO(this,e,n):MO(this,this,e),this}multiply(e){return e.length?cre(this,this,e):A2(this,this,e),this}divide(e){return e.length?ure(this,this,e):A2(this,this,1/e),this}inverse(e=this){return pre(this,e),this}len(){return kh(this)}distance(e){return e?dre(this,e):kh(this)}squaredLen(){return OO(this)}squaredDistance(e){return e?fre(this,e):OO(this)}negate(e=this){return hre(this,e),this}cross(e,n){return n?RO(this,e,n):RO(this,this,e),this}scale(e){return A2(this,this,e),this}normalize(){return dx(this,this),this}dot(e){return zL(this,e)}equals(e){return xre(this,e)}applyMatrix3(e){return wre(this,this,e),this}applyMatrix4(e){return vre(this,this,e),this}scaleRotateMatrix4(e){return yre(this,this,e),this}applyQuaternion(e){return bre(this,this,e),this}angle(e){return Ere(this,e)}lerp(e,n){return gre(this,this,e,n),this}smoothLerp(e,n,r){return mre(this,this,e,n,r),this}clone(){return new Wo(this[0],this[1],this[2])}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}transformDirection(e){const n=this[0],r=this[1],i=this[2];return this[0]=e[0]*n+e[4]*r+e[8]*i,this[1]=e[1]*n+e[5]*r+e[9]*i,this[2]=e[2]*n+e[6]*r+e[10]*i,this.normalize()}}const TO=new Wo;let _re=1,Sre=1,PO=!1;class Cre{constructor(e,n={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=n,this.id=_re++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let r in n)this.addAttribute(r,n[r])}addAttribute(e,n){if(this.attributes[e]=n,n.id=Sre++,n.size=n.size||1,n.type=n.type||(n.data.constructor===Float32Array?this.gl.FLOAT:n.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),n.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,n.normalized=n.normalized||!1,n.stride=n.stride||0,n.offset=n.offset||0,n.count=n.count||(n.stride?n.data.byteLength/n.stride:n.data.length/n.size),n.divisor=n.instanced||0,n.needsUpdate=!1,n.usage=n.usage||this.gl.STATIC_DRAW,n.buffer||this.updateAttribute(n),n.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==n.count*n.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,n.count*n.divisor);this.instancedCount=n.count*n.divisor}else e==="index"?this.drawRange.count=n.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,n.count))}updateAttribute(e){const n=!e.buffer;n&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),n?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((n,{name:r,type:i})=>{if(!this.attributes[r]){console.warn(`active attribute ${r} not being supplied`);return}const o=this.attributes[r];this.gl.bindBuffer(o.target,o.buffer),this.glState.boundBuffer=o.buffer;let a=1;i===35674&&(a=2),i===35675&&(a=3),i===35676&&(a=4);const s=o.size/a,l=a===1?0:a*a*4,c=a===1?0:a*4;for(let u=0;u<a;u++)this.gl.vertexAttribPointer(n+u,s,o.type,o.normalized,o.stride+l,o.offset+u*c),this.gl.enableVertexAttribArray(n+u),this.gl.renderer.vertexAttribDivisor(n+u,o.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:n=this.gl.TRIANGLES}){var i;this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((o,{name:a})=>{const s=this.attributes[a];s.needsUpdate&&this.updateAttribute(s)});let r=2;((i=this.attributes.index)==null?void 0:i.type)===this.gl.UNSIGNED_INT&&(r=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r,this.instancedCount):this.gl.renderer.drawArraysInstanced(n,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r):this.gl.drawArrays(n,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!PO)return console.warn("No position buffer data found to compute bounds"),PO=!0}computeBoundingBox(e){e||(e=this.getPosition());const n=e.data,r=e.size;this.bounds||(this.bounds={min:new Wo,max:new Wo,center:new Wo,scale:new Wo,radius:1/0});const i=this.bounds.min,o=this.bounds.max,a=this.bounds.center,s=this.bounds.scale;i.set(1/0),o.set(-1/0);for(let l=0,c=n.length;l<c;l+=r){const u=n[l],f=n[l+1],p=n[l+2];i.x=Math.min(u,i.x),i.y=Math.min(f,i.y),i.z=Math.min(p,i.z),o.x=Math.max(u,o.x),o.y=Math.max(f,o.y),o.z=Math.max(p,o.z)}s.sub(o,i),a.add(i,o).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const n=e.data,r=e.size;this.bounds||this.computeBoundingBox(e);let i=0;for(let o=0,a=n.length;o<a;o+=r)TO.fromArray(n,o),i=Math.max(i,this.bounds.center.squaredDistance(TO));this.bounds.radius=Math.sqrt(i)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let Are=1;const NO={};class qL{constructor(e,{vertex:n,fragment:r,uniforms:i={},transparent:o=!1,cullFace:a=e.BACK,frontFace:s=e.CCW,depthTest:l=!0,depthWrite:c=!0,depthFunc:u=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=i,this.id=Are++,n||console.warn("vertex shader not supplied"),r||console.warn("fragment shader not supplied"),this.transparent=o,this.cullFace=a,this.frontFace=s,this.depthTest=l,this.depthWrite=c,this.depthFunc=u,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:n,fragment:r})}setShaders({vertex:e,fragment:n}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${LO(e)}`)),n&&(this.gl.shaderSource(this.fragmentShader,n),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${LO(n)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let r=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let a=0;a<r;a++){let s=this.gl.getActiveUniform(this.program,a);this.uniformLocations.set(s,this.gl.getUniformLocation(this.program,s.name));const l=s.name.match(/(\w+)/g);s.uniformName=l[0],s.nameComponents=l.slice(1)}this.attributeLocations=new Map;const i=[],o=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let a=0;a<o;a++){const s=this.gl.getActiveAttrib(this.program,a),l=this.gl.getAttribLocation(this.program,s.name);l!==-1&&(i[l]=s.name,this.attributeLocations.set(s,l))}this.attributeOrder=i.join("")}setBlendFunc(e,n,r,i){this.blendFunc.src=e,this.blendFunc.dst=n,this.blendFunc.srcAlpha=r,this.blendFunc.dstAlpha=i,e&&(this.transparent=!0)}setBlendEquation(e,n){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=n}setStencilFunc(e,n,r){this.stencilRef=n,this.stencilFunc.func=e,this.stencilFunc.ref=n,this.stencilFunc.mask=r}setStencilOp(e,n,r){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=n,this.stencilOp.depthPass=r}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let n=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((i,o)=>{let a=this.uniforms[o.uniformName];for(const s of o.nameComponents){if(!a)break;if(s in a)a=a[s];else{if(Array.isArray(a.value))break;a=void 0;break}}if(!a)return DO(`Active uniform ${o.name} has not been supplied`);if(a&&a.value===void 0)return DO(`${o.name} uniform is missing a value parameter`);if(a.value.texture)return n=n+1,a.value.update(n),I2(this.gl,o.type,i,n);if(a.value.length&&a.value[0].texture){const s=[];return a.value.forEach(l=>{n=n+1,l.update(n),s.push(n)}),I2(this.gl,o.type,i,s)}I2(this.gl,o.type,i,a.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function I2(t,e,n,r){r=r.length?Ire(r):r;const i=t.renderer.state.uniformLocations.get(n);if(r.length)if(i===void 0||i.length!==r.length)t.renderer.state.uniformLocations.set(n,r.slice(0));else{if(kre(i,r))return;i.set?i.set(r):Mre(i,r),t.renderer.state.uniformLocations.set(n,i)}else{if(i===r)return;t.renderer.state.uniformLocations.set(n,r)}switch(e){case 5126:return r.length?t.uniform1fv(n,r):t.uniform1f(n,r);case 35664:return t.uniform2fv(n,r);case 35665:return t.uniform3fv(n,r);case 35666:return t.uniform4fv(n,r);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return r.length?t.uniform1iv(n,r):t.uniform1i(n,r);case 35671:case 35667:return t.uniform2iv(n,r);case 35672:case 35668:return t.uniform3iv(n,r);case 35673:case 35669:return t.uniform4iv(n,r);case 35674:return t.uniformMatrix2fv(n,!1,r);case 35675:return t.uniformMatrix3fv(n,!1,r);case 35676:return t.uniformMatrix4fv(n,!1,r)}}function LO(t){let e=t.split(`
`);for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join(`
`)}function Ire(t){const e=t.length,n=t[0].length;if(n===void 0)return t;const r=e*n;let i=NO[r];i||(NO[r]=i=new Float32Array(r));for(let o=0;o<e;o++)i.set(t[o],o*n);return i}function kre(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Mre(t,e){for(let n=0,r=t.length;n<r;n++)t[n]=e[n]}let k2=0;function DO(t){k2>100||(console.warn(t),k2++,k2>100&&console.warn("More than 100 program warnings - stopping logs."))}const M2=new Wo;let Ore=1;class HL{constructor({canvas:e=document.createElement("canvas"),width:n=300,height:r=150,dpr:i=1,alpha:o=!1,depth:a=!0,stencil:s=!1,antialias:l=!1,premultipliedAlpha:c=!1,preserveDrawingBuffer:u=!1,powerPreference:f="default",autoClear:p=!0,webgl:g=2}={}){const m={alpha:o,depth:a,stencil:s,antialias:l,premultipliedAlpha:c,preserveDrawingBuffer:u,powerPreference:f};this.dpr=i,this.alpha=o,this.color=!0,this.depth=a,this.stencil=s,this.premultipliedAlpha=c,this.autoClear=p,this.id=Ore++,g===2&&(this.gl=e.getContext("webgl2",m)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",m)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(n,r),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,n){this.width=e,this.height=n,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=n*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:n+"px"})}setViewport(e,n,r=0,i=0){this.state.viewport.width===e&&this.state.viewport.height===n||(this.state.viewport.width=e,this.state.viewport.height=n,this.state.viewport.x=r,this.state.viewport.y=i,this.gl.viewport(r,i,e,n))}setScissor(e,n,r=0,i=0){this.gl.scissor(r,i,e,n)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,n,r,i){this.state.blendFunc.src===e&&this.state.blendFunc.dst===n&&this.state.blendFunc.srcAlpha===r&&this.state.blendFunc.dstAlpha===i||(this.state.blendFunc.src=e,this.state.blendFunc.dst=n,this.state.blendFunc.srcAlpha=r,this.state.blendFunc.dstAlpha=i,r!==void 0?this.gl.blendFuncSeparate(e,n,r,i):this.gl.blendFunc(e,n))}setBlendEquation(e,n){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===n)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=n,n!==void 0?this.gl.blendEquationSeparate(e,n):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,n,r){this.state.stencilFunc===e&&this.state.stencilRef===n&&this.state.stencilFuncMask===r||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=n||0,this.state.stencilFuncMask=r||0,this.gl.stencilFunc(e||this.gl.ALWAYS,n||0,r||0))}setStencilOp(e,n,r){this.state.stencilFail===e&&this.state.stencilDepthFail===n&&this.state.stencilDepthPass===r||(this.state.stencilFail=e,this.state.stencilDepthFail=n,this.state.stencilDepthPass=r,this.gl.stencilOp(e,n,r))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:n=null}={}){this.state.framebuffer!==n&&(this.state.framebuffer=n,this.gl.bindFramebuffer(e,n))}getExtension(e,n,r){return n&&this.gl[n]?this.gl[n].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),n?this.extensions[e]?this.extensions[e][r].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:e.zDepth!==n.zDepth?e.zDepth-n.zDepth:n.id-e.id}sortTransparent(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.zDepth!==n.zDepth?n.zDepth-e.zDepth:n.id-e.id}sortUI(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:n.id-e.id}getRenderList({scene:e,camera:n,frustumCull:r,sort:i}){let o=[];if(n&&r&&n.updateFrustum(),e.traverse(a=>{if(!a.visible)return!0;a.draw&&(r&&a.frustumCulled&&n&&!n.frustumIntersectsMesh(a)||o.push(a))}),i){const a=[],s=[],l=[];o.forEach(c=>{c.program.transparent?c.program.depthTest?s.push(c):l.push(c):a.push(c),c.zDepth=0,!(c.renderOrder!==0||!c.program.depthTest||!n)&&(c.worldMatrix.getTranslation(M2),M2.applyMatrix4(n.projectionViewMatrix),c.zDepth=M2.z)}),a.sort(this.sortOpaque),s.sort(this.sortTransparent),l.sort(this.sortUI),o=a.concat(s,l)}return o}render({scene:e,camera:n,target:r=null,update:i=!0,sort:o=!0,frustumCull:a=!0,clear:s}){r===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(r),this.setViewport(r.width,r.height)),(s||this.autoClear&&s!==!1)&&(this.depth&&(!r||r.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!r||r.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),i&&e.updateMatrixWorld(),n&&n.updateMatrixWorld(),this.getRenderList({scene:e,camera:n,frustumCull:a,sort:o}).forEach(c=>{c.draw({camera:n})})}}function Rre(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Tre(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function Pre(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a,t}function Nre(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Lre(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Dre(t,e,n){n=n*.5;let r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function BO(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],l=n[1],c=n[2],u=n[3];return t[0]=r*u+a*s+i*c-o*l,t[1]=i*u+a*l+o*s-r*c,t[2]=o*u+a*c+r*l-i*s,t[3]=a*u-r*s-i*l-o*c,t}function Bre(t,e,n){n*=.5;let r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+a*s,t[1]=i*l+o*s,t[2]=o*l-i*s,t[3]=a*l-r*s,t}function jre(t,e,n){n*=.5;let r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l-o*s,t[1]=i*l+a*s,t[2]=o*l+r*s,t[3]=a*l-i*s,t}function $re(t,e,n){n*=.5;let r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+i*s,t[1]=i*l-r*s,t[2]=o*l+a*s,t[3]=a*l-o*s,t}function Fre(t,e,n,r){let i=e[0],o=e[1],a=e[2],s=e[3],l=n[0],c=n[1],u=n[2],f=n[3],p,g,m,v,_;return g=i*l+o*c+a*u+s*f,g<0&&(g=-g,l=-l,c=-c,u=-u,f=-f),1-g>1e-6?(p=Math.acos(g),m=Math.sin(p),v=Math.sin((1-r)*p)/m,_=Math.sin(r*p)/m):(v=1-r,_=r),t[0]=v*i+_*l,t[1]=v*o+_*c,t[2]=v*a+_*u,t[3]=v*s+_*f,t}function Ure(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t}function zre(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function qre(t,e){let n=e[0]+e[4]+e[8],r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{let i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);let o=(i+1)%3,a=(i+2)%3;r=Math.sqrt(e[i*3+i]-e[o*3+o]-e[a*3+a]+1),t[i]=.5*r,r=.5/r,t[3]=(e[o*3+a]-e[a*3+o])*r,t[o]=(e[o*3+i]+e[i*3+o])*r,t[a]=(e[a*3+i]+e[i*3+a])*r}return t}function Hre(t,e,n="YXZ"){let r=Math.sin(e[0]*.5),i=Math.cos(e[0]*.5),o=Math.sin(e[1]*.5),a=Math.cos(e[1]*.5),s=Math.sin(e[2]*.5),l=Math.cos(e[2]*.5);return n==="XYZ"?(t[0]=r*a*l+i*o*s,t[1]=i*o*l-r*a*s,t[2]=i*a*s+r*o*l,t[3]=i*a*l-r*o*s):n==="YXZ"?(t[0]=r*a*l+i*o*s,t[1]=i*o*l-r*a*s,t[2]=i*a*s-r*o*l,t[3]=i*a*l+r*o*s):n==="ZXY"?(t[0]=r*a*l-i*o*s,t[1]=i*o*l+r*a*s,t[2]=i*a*s+r*o*l,t[3]=i*a*l-r*o*s):n==="ZYX"?(t[0]=r*a*l-i*o*s,t[1]=i*o*l+r*a*s,t[2]=i*a*s-r*o*l,t[3]=i*a*l+r*o*s):n==="YZX"?(t[0]=r*a*l+i*o*s,t[1]=i*o*l+r*a*s,t[2]=i*a*s-r*o*l,t[3]=i*a*l-r*o*s):n==="XZY"&&(t[0]=r*a*l-i*o*s,t[1]=i*o*l-r*a*s,t[2]=i*a*s+r*o*l,t[3]=i*a*l+r*o*s),t}const Wre=Rre,Kre=Tre,Vre=Nre,Gre=Pre;class Yre extends Array{constructor(e=0,n=0,r=0,i=1){super(e,n,r,i),this.onChange=()=>{},this._target=this;const o=["0","1","2","3"];return new Proxy(this,{set(a,s){const l=Reflect.set(...arguments);return l&&o.includes(s)&&a.onChange(),l}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return Lre(this._target),this.onChange(),this}set(e,n,r,i){return e.length?this.copy(e):(Kre(this._target,e,n,r,i),this.onChange(),this)}rotateX(e){return Bre(this._target,this._target,e),this.onChange(),this}rotateY(e){return jre(this._target,this._target,e),this.onChange(),this}rotateZ(e){return $re(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return Ure(this._target,e),this.onChange(),this}conjugate(e=this._target){return zre(this._target,e),this.onChange(),this}copy(e){return Wre(this._target,e),this.onChange(),this}normalize(e=this._target){return Gre(this._target,e),this.onChange(),this}multiply(e,n){return n?BO(this._target,e,n):BO(this._target,this._target,e),this.onChange(),this}dot(e){return Vre(this._target,e)}fromMatrix3(e){return qre(this._target,e),this.onChange(),this}fromEuler(e,n){return Hre(this._target,e,e.order),n||this.onChange(),this}fromAxisAngle(e,n){return Dre(this._target,e,n),this.onChange(),this}slerp(e,n){return Fre(this._target,this._target,e,n),this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this._target[3]=e[n+3],this.onChange(),this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e}}const Jre=1e-6;function Zre(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Qre(t,e,n,r,i,o,a,s,l,c,u,f,p,g,m,v,_){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=c,t[9]=u,t[10]=f,t[11]=p,t[12]=g,t[13]=m,t[14]=v,t[15]=_,t}function Xre(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function eie(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=e[9],p=e[10],g=e[11],m=e[12],v=e[13],_=e[14],w=e[15],I=n*s-r*a,k=n*l-i*a,$=n*c-o*a,L=r*l-i*s,z=r*c-o*s,H=i*c-o*l,P=u*v-f*m,D=u*_-p*m,B=u*w-g*m,O=f*_-p*v,y=f*w-g*v,E=p*w-g*_,S=I*E-k*y+$*O+L*B-z*D+H*P;return S?(S=1/S,t[0]=(s*E-l*y+c*O)*S,t[1]=(i*y-r*E-o*O)*S,t[2]=(v*H-_*z+w*L)*S,t[3]=(p*z-f*H-g*L)*S,t[4]=(l*B-a*E-c*D)*S,t[5]=(n*E-i*B+o*D)*S,t[6]=(_*$-m*H-w*k)*S,t[7]=(u*H-p*$+g*k)*S,t[8]=(a*y-s*B+c*P)*S,t[9]=(r*B-n*y-o*P)*S,t[10]=(m*z-v*$+w*I)*S,t[11]=(f*$-u*z-g*I)*S,t[12]=(s*D-a*O-l*P)*S,t[13]=(n*O-r*D+i*P)*S,t[14]=(v*k-m*L-_*I)*S,t[15]=(u*L-f*k+p*I)*S,t):null}function WL(t){let e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],c=t[8],u=t[9],f=t[10],p=t[11],g=t[12],m=t[13],v=t[14],_=t[15],w=e*a-n*o,I=e*s-r*o,k=e*l-i*o,$=n*s-r*a,L=n*l-i*a,z=r*l-i*s,H=c*m-u*g,P=c*v-f*g,D=c*_-p*g,B=u*v-f*m,O=u*_-p*m,y=f*_-p*v;return w*y-I*O+k*B+$*D-L*P+z*H}function jO(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],f=e[8],p=e[9],g=e[10],m=e[11],v=e[12],_=e[13],w=e[14],I=e[15],k=n[0],$=n[1],L=n[2],z=n[3];return t[0]=k*r+$*s+L*f+z*v,t[1]=k*i+$*l+L*p+z*_,t[2]=k*o+$*c+L*g+z*w,t[3]=k*a+$*u+L*m+z*I,k=n[4],$=n[5],L=n[6],z=n[7],t[4]=k*r+$*s+L*f+z*v,t[5]=k*i+$*l+L*p+z*_,t[6]=k*o+$*c+L*g+z*w,t[7]=k*a+$*u+L*m+z*I,k=n[8],$=n[9],L=n[10],z=n[11],t[8]=k*r+$*s+L*f+z*v,t[9]=k*i+$*l+L*p+z*_,t[10]=k*o+$*c+L*g+z*w,t[11]=k*a+$*u+L*m+z*I,k=n[12],$=n[13],L=n[14],z=n[15],t[12]=k*r+$*s+L*f+z*v,t[13]=k*i+$*l+L*p+z*_,t[14]=k*o+$*c+L*g+z*w,t[15]=k*a+$*u+L*m+z*I,t}function tie(t,e,n){let r=n[0],i=n[1],o=n[2],a,s,l,c,u,f,p,g,m,v,_,w;return e===t?(t[12]=e[0]*r+e[4]*i+e[8]*o+e[12],t[13]=e[1]*r+e[5]*i+e[9]*o+e[13],t[14]=e[2]*r+e[6]*i+e[10]*o+e[14],t[15]=e[3]*r+e[7]*i+e[11]*o+e[15]):(a=e[0],s=e[1],l=e[2],c=e[3],u=e[4],f=e[5],p=e[6],g=e[7],m=e[8],v=e[9],_=e[10],w=e[11],t[0]=a,t[1]=s,t[2]=l,t[3]=c,t[4]=u,t[5]=f,t[6]=p,t[7]=g,t[8]=m,t[9]=v,t[10]=_,t[11]=w,t[12]=a*r+u*i+m*o+e[12],t[13]=s*r+f*i+v*o+e[13],t[14]=l*r+p*i+_*o+e[14],t[15]=c*r+g*i+w*o+e[15]),t}function nie(t,e,n){let r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function rie(t,e,n,r){let i=r[0],o=r[1],a=r[2],s=Math.hypot(i,o,a),l,c,u,f,p,g,m,v,_,w,I,k,$,L,z,H,P,D,B,O,y,E,S,C;return Math.abs(s)<Jre?null:(s=1/s,i*=s,o*=s,a*=s,l=Math.sin(n),c=Math.cos(n),u=1-c,f=e[0],p=e[1],g=e[2],m=e[3],v=e[4],_=e[5],w=e[6],I=e[7],k=e[8],$=e[9],L=e[10],z=e[11],H=i*i*u+c,P=o*i*u+a*l,D=a*i*u-o*l,B=i*o*u-a*l,O=o*o*u+c,y=a*o*u+i*l,E=i*a*u+o*l,S=o*a*u-i*l,C=a*a*u+c,t[0]=f*H+v*P+k*D,t[1]=p*H+_*P+$*D,t[2]=g*H+w*P+L*D,t[3]=m*H+I*P+z*D,t[4]=f*B+v*O+k*y,t[5]=p*B+_*O+$*y,t[6]=g*B+w*O+L*y,t[7]=m*B+I*O+z*y,t[8]=f*E+v*S+k*C,t[9]=p*E+_*S+$*C,t[10]=g*E+w*S+L*C,t[11]=m*E+I*S+z*C,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function iie(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function KL(t,e){let n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],s=e[6],l=e[8],c=e[9],u=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(o,a,s),t[2]=Math.hypot(l,c,u),t}function oie(t){let e=t[0],n=t[1],r=t[2],i=t[4],o=t[5],a=t[6],s=t[8],l=t[9],c=t[10];const u=e*e+n*n+r*r,f=i*i+o*o+a*a,p=s*s+l*l+c*c;return Math.sqrt(Math.max(u,f,p))}const VL=function(){const t=[1,1,1];return function(e,n){let r=t;KL(r,n);let i=1/r[0],o=1/r[1],a=1/r[2],s=n[0]*i,l=n[1]*o,c=n[2]*a,u=n[4]*i,f=n[5]*o,p=n[6]*a,g=n[8]*i,m=n[9]*o,v=n[10]*a,_=s+f+v,w=0;return _>0?(w=Math.sqrt(_+1)*2,e[3]=.25*w,e[0]=(p-m)/w,e[1]=(g-c)/w,e[2]=(l-u)/w):s>f&&s>v?(w=Math.sqrt(1+s-f-v)*2,e[3]=(p-m)/w,e[0]=.25*w,e[1]=(l+u)/w,e[2]=(g+c)/w):f>v?(w=Math.sqrt(1+f-s-v)*2,e[3]=(g-c)/w,e[0]=(l+u)/w,e[1]=.25*w,e[2]=(p+m)/w):(w=Math.sqrt(1+v-s-f)*2,e[3]=(l-u)/w,e[0]=(g+c)/w,e[1]=(p+m)/w,e[2]=.25*w),e}}();function sie(t,e,n,r){let i=kh([t[0],t[1],t[2]]);const o=kh([t[4],t[5],t[6]]),a=kh([t[8],t[9],t[10]]);WL(t)<0&&(i=-i),n[0]=t[12],n[1]=t[13],n[2]=t[14];const l=t.slice(),c=1/i,u=1/o,f=1/a;l[0]*=c,l[1]*=c,l[2]*=c,l[4]*=u,l[5]*=u,l[6]*=u,l[8]*=f,l[9]*=f,l[10]*=f,VL(e,l),r[0]=i,r[1]=o,r[2]=a}function aie(t,e,n,r){const i=t,o=e[0],a=e[1],s=e[2],l=e[3],c=o+o,u=a+a,f=s+s,p=o*c,g=o*u,m=o*f,v=a*u,_=a*f,w=s*f,I=l*c,k=l*u,$=l*f,L=r[0],z=r[1],H=r[2];return i[0]=(1-(v+w))*L,i[1]=(g+$)*L,i[2]=(m-k)*L,i[3]=0,i[4]=(g-$)*z,i[5]=(1-(p+w))*z,i[6]=(_+I)*z,i[7]=0,i[8]=(m+k)*H,i[9]=(_-I)*H,i[10]=(1-(p+v))*H,i[11]=0,i[12]=n[0],i[13]=n[1],i[14]=n[2],i[15]=1,i}function lie(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,l=i+i,c=n*a,u=r*a,f=r*s,p=i*a,g=i*s,m=i*l,v=o*a,_=o*s,w=o*l;return t[0]=1-f-m,t[1]=u+w,t[2]=p-_,t[3]=0,t[4]=u-w,t[5]=1-c-m,t[6]=g+v,t[7]=0,t[8]=p+_,t[9]=g-v,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function cie(t,e,n,r,i){let o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t}function uie(t,e,n,r,i,o,a){let s=1/(e-n),l=1/(r-i),c=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(a+o)*c,t[15]=1,t}function die(t,e,n,r){let i=e[0],o=e[1],a=e[2],s=r[0],l=r[1],c=r[2],u=i-n[0],f=o-n[1],p=a-n[2],g=u*u+f*f+p*p;g===0?p=1:(g=1/Math.sqrt(g),u*=g,f*=g,p*=g);let m=l*p-c*f,v=c*u-s*p,_=s*f-l*u;return g=m*m+v*v+_*_,g===0&&(c?s+=1e-6:l?c+=1e-6:l+=1e-6,m=l*p-c*f,v=c*u-s*p,_=s*f-l*u,g=m*m+v*v+_*_),g=1/Math.sqrt(g),m*=g,v*=g,_*=g,t[0]=m,t[1]=v,t[2]=_,t[3]=0,t[4]=f*_-p*v,t[5]=p*m-u*_,t[6]=u*v-f*m,t[7]=0,t[8]=u,t[9]=f,t[10]=p,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function $O(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function FO(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function fie(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}class Iv extends Array{constructor(e=1,n=0,r=0,i=0,o=0,a=1,s=0,l=0,c=0,u=0,f=1,p=0,g=0,m=0,v=0,_=1){return super(e,n,r,i,o,a,s,l,c,u,f,p,g,m,v,_),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,n,r,i,o,a,s,l,c,u,f,p,g,m,v,_){return e.length?this.copy(e):(Qre(this,e,n,r,i,o,a,s,l,c,u,f,p,g,m,v,_),this)}translate(e,n=this){return tie(this,n,e),this}rotate(e,n,r=this){return rie(this,r,e,n),this}scale(e,n=this){return nie(this,n,typeof e=="number"?[e,e,e]:e),this}add(e,n){return n?$O(this,e,n):$O(this,this,e),this}sub(e,n){return n?FO(this,e,n):FO(this,this,e),this}multiply(e,n){return e.length?n?jO(this,e,n):jO(this,this,e):fie(this,this,e),this}identity(){return Xre(this),this}copy(e){return Zre(this,e),this}fromPerspective({fov:e,aspect:n,near:r,far:i}={}){return cie(this,e,n,r,i),this}fromOrthogonal({left:e,right:n,bottom:r,top:i,near:o,far:a}){return uie(this,e,n,r,i,o,a),this}fromQuaternion(e){return lie(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return eie(this,e),this}compose(e,n,r){return aie(this,e,n,r),this}decompose(e,n,r){return sie(this,e,n,r),this}getRotation(e){return VL(e,this),this}getTranslation(e){return iie(e,this),this}getScaling(e){return KL(e,this),this}getMaxScaleOnAxis(){return oie(this)}lookAt(e,n,r){return die(this,e,n,r),this}determinant(){return WL(this)}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this[3]=e[n+3],this[4]=e[n+4],this[5]=e[n+5],this[6]=e[n+6],this[7]=e[n+7],this[8]=e[n+8],this[9]=e[n+9],this[10]=e[n+10],this[11]=e[n+11],this[12]=e[n+12],this[13]=e[n+13],this[14]=e[n+14],this[15]=e[n+15],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e[n+4]=this[4],e[n+5]=this[5],e[n+6]=this[6],e[n+7]=this[7],e[n+8]=this[8],e[n+9]=this[9],e[n+10]=this[10],e[n+11]=this[11],e[n+12]=this[12],e[n+13]=this[13],e[n+14]=this[14],e[n+15]=this[15],e}}function hie(t,e,n="YXZ"){return n==="XYZ"?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):n==="YXZ"?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):n==="ZXY"?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):n==="ZYX"?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):n==="YZX"?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):n==="XZY"&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0)),t}const UO=new Iv;class pie extends Array{constructor(e=0,n=e,r=e,i="YXZ"){super(e,n,r),this.order=i,this.onChange=()=>{},this._target=this;const o=["0","1","2"];return new Proxy(this,{set(a,s){const l=Reflect.set(...arguments);return l&&o.includes(s)&&a.onChange(),l}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,n=e,r=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=n,this._target[2]=r,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,n=this.order){return hie(this._target,e,n),this.onChange(),this}fromQuaternion(e,n=this.order,r){return UO.fromQuaternion(e),this._target.fromRotationMatrix(UO,n),r||this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}}class gie{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new Iv,this.worldMatrix=new Iv,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new Wo,this.quaternion=new Yre,this.scale=new Wo(1),this.rotation=new pie,this.up=new Wo(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,n=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,n&&e&&e.addChild(this,!1)}addChild(e,n=!0){~this.children.indexOf(e)||this.children.push(e),n&&e.setParent(this,!1)}removeChild(e,n=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),n&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let n=0,r=this.children.length;n<r;n++)this.children[n].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let n=0,r=this.children.length;n<r;n++)this.children[n].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,n=!1){n?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function mie(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function vie(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,l=i+i,c=n*a,u=r*a,f=r*s,p=i*a,g=i*s,m=i*l,v=o*a,_=o*s,w=o*l;return t[0]=1-f-m,t[3]=u-w,t[6]=p+_,t[1]=u+w,t[4]=1-c-m,t[7]=g-v,t[2]=p-_,t[5]=g+v,t[8]=1-c-f,t}function yie(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function wie(t,e,n,r,i,o,a,s,l,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=c,t}function bie(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Eie(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=u*a-s*c,p=-u*o+s*l,g=c*o-a*l,m=n*f+r*p+i*g;return m?(m=1/m,t[0]=f*m,t[1]=(-u*r+i*c)*m,t[2]=(s*r-i*a)*m,t[3]=p*m,t[4]=(u*n-i*l)*m,t[5]=(-s*n+i*o)*m,t[6]=g*m,t[7]=(-c*n+r*l)*m,t[8]=(a*n-r*o)*m,t):null}function zO(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],f=e[8],p=n[0],g=n[1],m=n[2],v=n[3],_=n[4],w=n[5],I=n[6],k=n[7],$=n[8];return t[0]=p*r+g*a+m*c,t[1]=p*i+g*s+m*u,t[2]=p*o+g*l+m*f,t[3]=v*r+_*a+w*c,t[4]=v*i+_*s+w*u,t[5]=v*o+_*l+w*f,t[6]=I*r+k*a+$*c,t[7]=I*i+k*s+$*u,t[8]=I*o+k*l+$*f,t}function xie(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],f=e[8],p=n[0],g=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=p*r+g*a+c,t[7]=p*i+g*s+u,t[8]=p*o+g*l+f,t}function _ie(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],f=e[8],p=Math.sin(n),g=Math.cos(n);return t[0]=g*r+p*a,t[1]=g*i+p*s,t[2]=g*o+p*l,t[3]=g*a-p*r,t[4]=g*s-p*i,t[5]=g*l-p*o,t[6]=c,t[7]=u,t[8]=f,t}function Sie(t,e,n){let r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Cie(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=e[9],p=e[10],g=e[11],m=e[12],v=e[13],_=e[14],w=e[15],I=n*s-r*a,k=n*l-i*a,$=n*c-o*a,L=r*l-i*s,z=r*c-o*s,H=i*c-o*l,P=u*v-f*m,D=u*_-p*m,B=u*w-g*m,O=f*_-p*v,y=f*w-g*v,E=p*w-g*_,S=I*E-k*y+$*O+L*B-z*D+H*P;return S?(S=1/S,t[0]=(s*E-l*y+c*O)*S,t[1]=(l*B-a*E-c*D)*S,t[2]=(a*y-s*B+c*P)*S,t[3]=(i*y-r*E-o*O)*S,t[4]=(n*E-i*B+o*D)*S,t[5]=(r*B-n*y-o*P)*S,t[6]=(v*H-_*z+w*L)*S,t[7]=(_*$-m*H-w*k)*S,t[8]=(m*z-v*$+w*I)*S,t):null}class Aie extends Array{constructor(e=1,n=0,r=0,i=0,o=1,a=0,s=0,l=0,c=1){return super(e,n,r,i,o,a,s,l,c),this}set(e,n,r,i,o,a,s,l,c){return e.length?this.copy(e):(wie(this,e,n,r,i,o,a,s,l,c),this)}translate(e,n=this){return xie(this,n,e),this}rotate(e,n=this){return _ie(this,n,e),this}scale(e,n=this){return Sie(this,n,e),this}multiply(e,n){return n?zO(this,e,n):zO(this,this,e),this}identity(){return bie(this),this}copy(e){return yie(this,e),this}fromMatrix4(e){return mie(this,e),this}fromQuaternion(e){return vie(this,e),this}fromBasis(e,n,r){return this.set(e[0],e[1],e[2],n[0],n[1],n[2],r[0],r[1],r[2]),this}inverse(e=this){return Eie(this,e),this}getNormalMatrix(e){return Cie(this,e),this}}let Iie=0;class GL extends gie{constructor(e,{geometry:n,program:r,mode:i=e.TRIANGLES,frustumCulled:o=!0,renderOrder:a=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=Iie++,this.geometry=n,this.program=r,this.mode=i,this.frustumCulled=o,this.renderOrder=a,this.modelViewMatrix=new Iv,this.normalMatrix=new Aie,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}));let n=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:n}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}))}}const qO={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function HO(t){t.length===4&&(t=t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e||console.warn(`Unable to convert hex string ${t} to rgb values`),[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]}function kie(t){return t=parseInt(t),[(t>>16&255)/255,(t>>8&255)/255,(t&255)/255]}function WO(t){return t===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(t)?t[0]==="#"?HO(t):qO[t.toLowerCase()]?HO(qO[t.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):kie(t)}class kv extends Array{constructor(e){return Array.isArray(e)?super(...e):super(...WO(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(e){this[0]=e}set g(e){this[1]=e}set b(e){this[2]=e}set(e){return Array.isArray(e)?this.copy(e):this.copy(WO(...arguments))}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this}}class YL extends Cre{constructor(e,{attributes:n={}}={}){Object.assign(n,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,n)}}const Mie=`#version 300 es
in vec2 position;
void main() {
  gl_Position = vec4(position, 0.0, 1.0);
}
`,Oie=`#version 300 es
precision highp float;

uniform float uTime;
uniform float uAmplitude;
uniform vec3 uColorStops[3];
uniform vec2 uResolution;
uniform float uBlend;

out vec4 fragColor;

vec3 permute(vec3 x) {
  return mod(((x * 34.0) + 1.0) * x, 289.0);
}

float snoise(vec2 v){
  const vec4 C = vec4(
      0.211324865405187, 0.366025403784439,
      -0.577350269189626, 0.024390243902439
  );
  vec2 i  = floor(v + dot(v, C.yy));
  vec2 x0 = v - i + dot(i, C.xx);
  vec2 i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);
  vec4 x12 = x0.xyxy + C.xxzz;
  x12.xy -= i1;
  i = mod(i, 289.0);

  vec3 p = permute(
      permute(i.y + vec3(0.0, i1.y, 1.0))
    + i.x + vec3(0.0, i1.x, 1.0)
  );

  vec3 m = max(
      0.5 - vec3(
          dot(x0, x0),
          dot(x12.xy, x12.xy),
          dot(x12.zw, x12.zw)
      ),
      0.0
  );
  m = m * m;
  m = m * m;

  vec3 x = 2.0 * fract(p * C.www) - 1.0;
  vec3 h = abs(x) - 0.5;
  vec3 ox = floor(x + 0.5);
  vec3 a0 = x - ox;
  m *= 1.79284291400159 - 0.85373472095314 * (a0*a0 + h*h);

  vec3 g;
  g.x  = a0.x  * x0.x  + h.x  * x0.y;
  g.yz = a0.yz * x12.xz + h.yz * x12.yw;
  return 130.0 * dot(m, g);
}

struct ColorStop {
  vec3 color;
  float position;
};

#define COLOR_RAMP(colors, factor, finalColor) {                int index = 0;                                              for (int i = 0; i < 2; i++) {                                    ColorStop currentColor = colors[i];                         bool isInBetween = currentColor.position <= factor;         index = int(mix(float(index), float(i), float(isInBetween)));   }                                                           ColorStop currentColor = colors[index];                     ColorStop nextColor = colors[index + 1];                    float range = nextColor.position - currentColor.position;   float lerpFactor = (factor - currentColor.position) / range;   finalColor = mix(currentColor.color, nextColor.color, lerpFactor); }

void main() {
  vec2 uv = gl_FragCoord.xy / uResolution;
  
  ColorStop colors[3];
  colors[0] = ColorStop(uColorStops[0], 0.0);
  colors[1] = ColorStop(uColorStops[1], 0.5);
  colors[2] = ColorStop(uColorStops[2], 1.0);
  
  vec3 rampColor;
  COLOR_RAMP(colors, uv.x, rampColor);
  
  float height = snoise(vec2(uv.x * 2.0 + uTime * 0.1, uTime * 0.25)) * 0.5 * uAmplitude;
  height = exp(height);
  height = (uv.y * 2.0 - height + 0.2);
  float intensity = 0.6 * height;
  
  float midPoint = 0.20;
  float auroraAlpha = smoothstep(midPoint - uBlend * 0.5, midPoint + uBlend * 0.5, intensity);
  
  vec3 auroraColor = intensity * rampColor;
  
  fragColor = vec4(auroraColor * auroraAlpha, auroraAlpha);
}
`;function JL(t){const{colorStops:e=["#5227FF","#7cff67","#5227FF"],amplitude:n=1,blend:r=.5}=t,i=fe.useRef(t);i.current=t;const o=fe.useRef(null);return fe.useEffect(()=>{const a=o.current;if(!a)return;const s=new HL({alpha:!0,premultipliedAlpha:!0,antialias:!0}),l=s.gl;l.clearColor(0,0,0,0),l.enable(l.BLEND),l.blendFunc(l.ONE,l.ONE_MINUS_SRC_ALPHA),l.canvas.style.backgroundColor="transparent";let c;function u(){if(!a)return;const _=a.offsetWidth,w=a.offsetHeight;s.setSize(_,w),c&&(c.uniforms.uResolution.value=[_,w])}window.addEventListener("resize",u);const f=new YL(l);f.attributes.uv&&delete f.attributes.uv;const p=e.map(_=>{const w=new kv(_);return[w.r,w.g,w.b]});c=new qL(l,{vertex:Mie,fragment:Oie,uniforms:{uTime:{value:0},uAmplitude:{value:n},uColorStops:{value:p},uResolution:{value:[a.offsetWidth,a.offsetHeight]},uBlend:{value:r}}});const g=new GL(l,{geometry:f,program:c});a.appendChild(l.canvas);let m=0;const v=_=>{m=requestAnimationFrame(v);const{time:w=_*.01,speed:I=1}=i.current;c.uniforms.uTime.value=w*I*.1,c.uniforms.uAmplitude.value=i.current.amplitude??1,c.uniforms.uBlend.value=i.current.blend??r;const k=i.current.colorStops??e;c.uniforms.uColorStops.value=k.map($=>{const L=new kv($);return[L.r,L.g,L.b]}),s.render({scene:g})};return m=requestAnimationFrame(v),u(),()=>{var _;cancelAnimationFrame(m),window.removeEventListener("resize",u),a&&l.canvas.parentNode===a&&a.removeChild(l.canvas),(_=l.getExtension("WEBGL_lose_context"))==null||_.loseContext()}},[n]),re.jsx("div",{ref:o,className:"w-full h-full fixed top-0 left-0 -z-10"})}const Rie="_widgetContainer_1cs6q_1",Tie="_iframe_1cs6q_9",Pie="_loading_1cs6q_17",O2={widgetContainer:Rie,iframe:Tie,loading:Pie},ZL=()=>{const[t,e]=fe.useState(!0);return re.jsxs("div",{className:O2.widgetContainer,children:[t&&re.jsx("div",{className:O2.loading,children:"Loading..."}),re.jsx("iframe",{src:"https://widget.coinremitter.com/presale/view/g2bq2T0wKX",className:O2.iframe,style:{display:t?"none":"block"},title:"Coinremitter Presale Widget",onLoad:()=>e(!1)})]})},Nie=()=>re.jsxs(re.Fragment,{children:[re.jsx(JL,{colorStops:["#e32fff","#00bbff","#2d4af0"],blend:.5,amplitude:1,speed:.5}),re.jsx(FL,{}),re.jsx("div",{className:UL.container,children:re.jsx(ZL,{})})]}),Lie=()=>re.jsxs(re.Fragment,{children:[re.jsx(JL,{colorStops:["#e32fff","#00bbff","#2d4af0"],blend:.5,amplitude:1,speed:.5}),re.jsx(FL,{}),re.jsx("div",{className:UL.container,children:re.jsx(ZL,{})})]}),KO=({children:t,className:e="",spotlightColor:n="rgba(255, 255, 255, 0.25)"})=>{const r=fe.useRef(null),[i,o]=fe.useState(!1),[a,s]=fe.useState({x:0,y:0}),[l,c]=fe.useState(0),u=v=>{if(!r.current||i)return;const _=r.current.getBoundingClientRect();s({x:v.clientX-_.left,y:v.clientY-_.top})},f=()=>{o(!0),c(.6)},p=()=>{o(!1),c(0)},g=()=>{c(.6)},m=()=>{c(0)};return re.jsxs("div",{ref:r,onMouseMove:u,onFocus:f,onBlur:p,onMouseEnter:g,onMouseLeave:m,className:`relative rounded-3xl border border-neutral-800 bg-neutral-900 overflow-hidden p-8 ${e}`,children:[re.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-0 transition-opacity duration-500 ease-in-out",style:{opacity:l,background:`radial-gradient(circle at ${a.x}px ${a.y}px, ${n}, transparent 80%)`}}),t]})},Die=`
attribute vec2 uv;
attribute vec2 position;

varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = vec4(position, 0, 1);
}
`,Bie=`
precision highp float;

uniform float uTime;
uniform vec3 uResolution;
uniform vec2 uFocal;
uniform vec2 uRotation;
uniform float uStarSpeed;
uniform float uDensity;
uniform float uHueShift;
uniform float uSpeed;
uniform vec2 uMouse;
uniform float uGlowIntensity;
uniform float uSaturation;
uniform bool uMouseRepulsion;
uniform float uTwinkleIntensity;
uniform float uRotationSpeed;
uniform float uRepulsionStrength;
uniform float uMouseActiveFactor;
uniform float uAutoCenterRepulsion;
uniform bool uTransparent;

varying vec2 vUv;

#define NUM_LAYER 4.0
#define STAR_COLOR_CUTOFF 0.2
#define MAT45 mat2(0.7071, -0.7071, 0.7071, 0.7071)
#define PERIOD 3.0

float Hash21(vec2 p) {
  p = fract(p * vec2(123.34, 456.21));
  p += dot(p, p + 45.32);
  return fract(p.x * p.y);
}

float tri(float x) {
  return abs(fract(x) * 2.0 - 1.0);
}

float tris(float x) {
  float t = fract(x);
  return 1.0 - smoothstep(0.0, 1.0, abs(2.0 * t - 1.0));
}

float trisn(float x) {
  float t = fract(x);
  return 2.0 * (1.0 - smoothstep(0.0, 1.0, abs(2.0 * t - 1.0))) - 1.0;
}

vec3 hsv2rgb(vec3 c) {
  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);
  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);
  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);
}

float Star(vec2 uv, float flare) {
  float d = length(uv);
  float m = (0.05 * uGlowIntensity) / d;
  float rays = smoothstep(0.0, 1.0, 1.0 - abs(uv.x * uv.y * 1000.0));
  m += rays * flare * uGlowIntensity;
  uv *= MAT45;
  rays = smoothstep(0.0, 1.0, 1.0 - abs(uv.x * uv.y * 1000.0));
  m += rays * 0.3 * flare * uGlowIntensity;
  m *= smoothstep(1.0, 0.2, d);
  return m;
}

vec3 StarLayer(vec2 uv) {
  vec3 col = vec3(0.0);

  vec2 gv = fract(uv) - 0.5; 
  vec2 id = floor(uv);

  for (int y = -1; y <= 1; y++) {
    for (int x = -1; x <= 1; x++) {
      vec2 offset = vec2(float(x), float(y));
      vec2 si = id + vec2(float(x), float(y));
      float seed = Hash21(si);
      float size = fract(seed * 345.32);
      float glossLocal = tri(uStarSpeed / (PERIOD * seed + 1.0));
      float flareSize = smoothstep(0.9, 1.0, size) * glossLocal;

      float red = smoothstep(STAR_COLOR_CUTOFF, 1.0, Hash21(si + 1.0)) + STAR_COLOR_CUTOFF;
      float blu = smoothstep(STAR_COLOR_CUTOFF, 1.0, Hash21(si + 3.0)) + STAR_COLOR_CUTOFF;
      float grn = min(red, blu) * seed;
      vec3 base = vec3(red, grn, blu);
      
      float hue = atan(base.g - base.r, base.b - base.r) / (2.0 * 3.14159) + 0.5;
      hue = fract(hue + uHueShift / 360.0);
      float sat = length(base - vec3(dot(base, vec3(0.299, 0.587, 0.114)))) * uSaturation;
      float val = max(max(base.r, base.g), base.b);
      base = hsv2rgb(vec3(hue, sat, val));

      vec2 pad = vec2(tris(seed * 34.0 + uTime * uSpeed / 10.0), tris(seed * 38.0 + uTime * uSpeed / 30.0)) - 0.5;

      float star = Star(gv - offset - pad, flareSize);
      vec3 color = base;

      float twinkle = trisn(uTime * uSpeed + seed * 6.2831) * 0.5 + 1.0;
      twinkle = mix(1.0, twinkle, uTwinkleIntensity);
      star *= twinkle;
      
      col += star * size * color;
    }
  }

  return col;
}

void main() {
  vec2 focalPx = uFocal * uResolution.xy;
  vec2 uv = (vUv * uResolution.xy - focalPx) / uResolution.y;

  vec2 mouseNorm = uMouse - vec2(0.5);
  
  if (uAutoCenterRepulsion > 0.0) {
    vec2 centerUV = vec2(0.0, 0.0); // Center in UV space
    float centerDist = length(uv - centerUV);
    vec2 repulsion = normalize(uv - centerUV) * (uAutoCenterRepulsion / (centerDist + 0.1));
    uv += repulsion * 0.05;
  } else if (uMouseRepulsion) {
    vec2 mousePosUV = (uMouse * uResolution.xy - focalPx) / uResolution.y;
    float mouseDist = length(uv - mousePosUV);
    vec2 repulsion = normalize(uv - mousePosUV) * (uRepulsionStrength / (mouseDist + 0.1));
    uv += repulsion * 0.05 * uMouseActiveFactor;
  } else {
    vec2 mouseOffset = mouseNorm * 0.1 * uMouseActiveFactor;
    uv += mouseOffset;
  }

  float autoRotAngle = uTime * uRotationSpeed;
  mat2 autoRot = mat2(cos(autoRotAngle), -sin(autoRotAngle), sin(autoRotAngle), cos(autoRotAngle));
  uv = autoRot * uv;

  uv = mat2(uRotation.x, -uRotation.y, uRotation.y, uRotation.x) * uv;

  vec3 col = vec3(0.0);

  for (float i = 0.0; i < 1.0; i += 1.0 / NUM_LAYER) {
    float depth = fract(i + uStarSpeed * uSpeed);
    float scale = mix(20.0 * uDensity, 0.5 * uDensity, depth);
    float fade = depth * smoothstep(1.0, 0.9, depth);
    col += StarLayer(uv * scale + i * 453.32) * fade;
  }

  if (uTransparent) {
    float alpha = length(col);
    alpha = smoothstep(0.0, 0.3, alpha); // Enhance contrast
    alpha = min(alpha, 1.0); // Clamp to maximum 1.0
    gl_FragColor = vec4(col, alpha);
  } else {
    gl_FragColor = vec4(col, 1.0);
  }
}
`;function jie({focal:t=[.5,.5],rotation:e=[1,0],starSpeed:n=.5,density:r=1,hueShift:i=140,disableAnimation:o=!1,speed:a=1,mouseInteraction:s=!0,glowIntensity:l=.3,saturation:c=0,mouseRepulsion:u=!0,repulsionStrength:f=2,twinkleIntensity:p=.3,rotationSpeed:g=.1,autoCenterRepulsion:m=0,transparent:v=!0,..._}){const w=fe.useRef(null),I=fe.useRef({x:.5,y:.5}),k=fe.useRef({x:.5,y:.5}),$=fe.useRef(0),L=fe.useRef(0);return fe.useEffect(()=>{if(!w.current)return;const z=w.current,H=new HL({alpha:v,premultipliedAlpha:!1}),P=H.gl;v?(P.enable(P.BLEND),P.blendFunc(P.SRC_ALPHA,P.ONE_MINUS_SRC_ALPHA),P.clearColor(0,0,0,0)):P.clearColor(0,0,0,1);let D;function B(){H.setSize(z.offsetWidth*1,z.offsetHeight*1),D&&(D.uniforms.uResolution.value=new kv(P.canvas.width,P.canvas.height,P.canvas.width/P.canvas.height))}window.addEventListener("resize",B,!1),B();const O=new YL(P);D=new qL(P,{vertex:Die,fragment:Bie,uniforms:{uTime:{value:0},uResolution:{value:new kv(P.canvas.width,P.canvas.height,P.canvas.width/P.canvas.height)},uFocal:{value:new Float32Array(t)},uRotation:{value:new Float32Array(e)},uStarSpeed:{value:n},uDensity:{value:r},uHueShift:{value:i},uSpeed:{value:a},uMouse:{value:new Float32Array([k.current.x,k.current.y])},uGlowIntensity:{value:l},uSaturation:{value:c},uMouseRepulsion:{value:u},uTwinkleIntensity:{value:p},uRotationSpeed:{value:g},uRepulsionStrength:{value:f},uMouseActiveFactor:{value:0},uAutoCenterRepulsion:{value:m},uTransparent:{value:v}}});const y=new GL(P,{geometry:O,program:D});let E;function S(j){E=requestAnimationFrame(S),o||(D.uniforms.uTime.value=j*.001,D.uniforms.uStarSpeed.value=j*.001*n/10);const A=.05;k.current.x+=(I.current.x-k.current.x)*A,k.current.y+=(I.current.y-k.current.y)*A,L.current+=($.current-L.current)*A,D.uniforms.uMouse.value[0]=k.current.x,D.uniforms.uMouse.value[1]=k.current.y,D.uniforms.uMouseActiveFactor.value=L.current,H.render({scene:y})}E=requestAnimationFrame(S),z.appendChild(P.canvas);function C(j){const A=z.getBoundingClientRect(),M=(j.clientX-A.left)/A.width,x=1-(j.clientY-A.top)/A.height;I.current={x:M,y:x},$.current=1}function T(){$.current=0}return s&&(z.addEventListener("mousemove",C),z.addEventListener("mouseleave",T)),()=>{var j;cancelAnimationFrame(E),window.removeEventListener("resize",B),s&&(z.removeEventListener("mousemove",C),z.removeEventListener("mouseleave",T)),z.removeChild(P.canvas),(j=P.getExtension("WEBGL_lose_context"))==null||j.loseContext()}},[t,e,n,r,i,o,a,s,l,c,u,p,g,f,m,v]),re.jsx("div",{ref:w,className:"w-full h-full relative",..._})}const $ie="_container_1c4bv_1",Fie="_backgroundWrapper_1c4bv_8",Uie="_contentWrapper_1c4bv_17",zie="_title_1c4bv_29",qie="_subtitle_1c4bv_36",Hie="_cardsWrapper_1c4bv_45",Wie="_cardContent_1c4bv_54",Kie="_cardTitle_1c4bv_63",Vie="_cardDescription_1c4bv_69",Gie="_selectButton_1c4bv_73",wi={container:$ie,backgroundWrapper:Fie,contentWrapper:Uie,title:zie,subtitle:qie,cardsWrapper:Hie,cardContent:Wie,cardTitle:Kie,cardDescription:Vie,selectButton:Gie},Yie=({onSelectChain:t})=>re.jsxs("div",{className:wi.container,children:[re.jsx("div",{className:wi.backgroundWrapper,children:re.jsx(jie,{density:.8,glowIntensity:.3,saturation:.8,hueShift:240})}),re.jsxs("div",{className:wi.contentWrapper,children:[re.jsx("h1",{className:wi.title,children:"Choose Your Ecosystem"}),re.jsx("p",{className:wi.subtitle,children:"The ElysiumX Presale is now live. Please select your preferred network to participate."}),re.jsxs("div",{className:wi.cardsWrapper,children:[re.jsx(KO,{spotlightColor:"rgba(88, 101, 242, 0.2)",className:"w-full",children:re.jsxs("div",{className:wi.cardContent,children:[re.jsxs("div",{children:[re.jsx("h2",{className:wi.cardTitle,children:"EVM Chains"}),re.jsx("p",{className:wi.cardDescription,children:"Connect to Ethereum, Polygon, Avalanche, BSC, and other compatible networks."})]}),re.jsxs("button",{className:wi.selectButton,onClick:()=>t("evm"),children:["Select EVM",re.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[re.jsx("path",{d:"M5 12h14"}),re.jsx("path",{d:"m12 5 7 7-7 7"})]})]})]})}),re.jsx(KO,{spotlightColor:"rgba(227, 47, 255, 0.2)",className:"w-full",children:re.jsxs("div",{className:wi.cardContent,children:[re.jsxs("div",{children:[re.jsx("h2",{className:wi.cardTitle,children:"Solana"}),re.jsx("p",{className:wi.cardDescription,children:"Connect to the high-speed Solana network for instant transactions."})]}),re.jsxs("button",{className:wi.selectButton,onClick:()=>t("solana"),children:["Select Solana",re.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[re.jsx("path",{d:"M5 12h14"}),re.jsx("path",{d:"m12 5 7 7-7 7"})]})]})]})})]})]})]}),Jie="_container_1dljl_1",Zie="_card_1dljl_9",Qie="_title_1dljl_17",Xie="_message_1dljl_23",eoe="_button_1dljl_29",dd={container:Jie,card:Zie,title:Qie,message:Xie,button:eoe},toe=()=>re.jsx("div",{className:dd.container,children:re.jsxs("div",{className:dd.card,children:[re.jsx("h1",{className:dd.title,children:"Thank You!"}),re.jsx("p",{className:dd.message,children:"Thank you for your participation in the presale."}),re.jsx("p",{className:dd.message,children:"We appreciate your support."}),re.jsx(wx,{to:"/",className:dd.button,children:"Back to Home"})]})}),noe=new Ine,roe=()=>{const[t,e]=fe.useState(null);return t?t==="evm"?re.jsx(hO,{config:zne,children:re.jsx(Rne,{client:noe,children:re.jsx(Fne,{children:re.jsx(Nie,{})})})}):t==="solana"?re.jsx(hO,{config:Hne,children:re.jsx(Lie,{})}):null:re.jsx(Yie,{onSelectChain:e})},ioe=()=>re.jsx(e$,{children:re.jsxs(Rj,{children:[re.jsx(em,{path:"/",element:re.jsx(roe,{})}),re.jsx(em,{path:"/thank-you",element:re.jsx(toe,{})}),re.jsx(em,{path:"*",element:re.jsx(Mj,{to:"/"})})]})});FB.createRoot(document.getElementById("root")).render(re.jsx(ioe,{}));export{loe as $,K_ as A,MZ as B,$l as C,Cz as D,YK as E,Kq as F,zoe as G,Ah as H,ir as I,ps as J,pg as K,Dh as L,Hd as M,ET as N,Pc as O,HW as P,G8 as Q,Gx as R,Hoe as S,Qx as T,PW as U,mh as V,St as W,Ea as X,TH as Y,C$ as Z,Ae as _,$t as a,uoe as a$,B4 as a0,ER as a1,lu as a2,y$ as a3,wR as a4,A$ as a5,coe as a6,Soe as a7,Coe as a8,Aoe as a9,fz as aA,yR as aB,ba as aC,Ql as aD,Poe as aE,Loe as aF,Toe as aG,$oe as aH,T8 as aI,OM as aJ,joe as aK,xA as aL,B2 as aM,Woe as aN,vV as aO,wV as aP,cE as aQ,Sl as aR,RT as aS,ot as aT,AZ as aU,CZ as aV,Jq as aW,Zq as aX,IZ as aY,kZ as aZ,doe as a_,k$ as aa,Ioe as ab,Eoe as ac,_oe as ad,voe as ae,goe as af,yoe as ag,moe as ah,woe as ai,boe as aj,xoe as ak,aoe as al,Hi as am,Dm as an,poe as ao,foe as ap,Oa as aq,UR as ar,o7 as as,gh as at,Sd as au,sm as av,om as aw,Ll as ax,QR as ay,be as az,na as b,v$ as b0,az as b1,AB as b2,ka as b3,MB as b4,tV as b5,eV as b6,Xq as b7,Fv as b8,L2 as b9,sQ as bA,Zoe as bB,Yd as bC,G_ as bD,YZ as bE,Voe as bF,LN as bG,uQ as bH,rp as bI,V_ as bJ,dp as bK,vp as bL,cQ as bM,DN as bN,jN as bO,PN as bP,rf as bQ,Fg as bR,Yoe as bS,dQ as bT,FN as bU,wq as bV,Boe as bW,UN as bX,koe as ba,lA as bb,ht as bc,On as bd,md as be,dn as bf,jq as bg,TM as bh,nQ as bi,XZ as bj,Koe as bk,yv as bl,oQ as bm,rQ as bn,zZ as bo,JZ as bp,HZ as bq,RN as br,Su as bs,ON as bt,Joe as bu,d2 as bv,Goe as bw,VZ as bx,TN as by,NN as bz,st as c,dt as d,yo as e,jZ as f,bt as g,Et as h,on as i,et as j,Foe as k,nt as l,Uoe as m,qoe as n,f3 as o,JK as p,Az as q,Noe as r,Sz as s,s_ as t,gH as u,WW as v,Ho as w,Ir as x,jp as y,zl as z};
