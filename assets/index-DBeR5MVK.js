const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-jyM5w3zV.js","assets/is-plan-event-enabled-DS1Agtkw.js","assets/index-BvRkbJJD.js","assets/index-By4z59B5.js","assets/solanaRpcMiddlewares-CNwm08_e.js","assets/index-B8MNR1Qe.js"])))=>i.map(i=>d[i]);
var HF=Object.defineProperty;var a5=t=>{throw TypeError(t)};var KF=(t,e,n)=>e in t?HF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Pn=(t,e,n)=>KF(t,typeof e!="symbol"?e+"":e,n),Gb=(t,e,n)=>e.has(t)||a5("Cannot "+n);var je=(t,e,n)=>(Gb(t,e,"read from private field"),n?n.call(t):e.get(t)),gn=(t,e,n)=>e.has(t)?a5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Vt=(t,e,n,r)=>(Gb(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),yr=(t,e,n)=>(Gb(t,e,"access private method"),n);var Em=(t,e,n,r)=>({set _(i){Vt(t,e,i,n)},get _(){return je(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function si(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function US(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Yb={},cp={},c5;function WF(){if(c5)return cp;c5=1,cp.byteLength=a,cp.toByteArray=l,cp.fromByteArray=p;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function s(m){var w=m.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=m.indexOf("=");y===-1&&(y=w);var I=y===w?0:4-y%4;return[y,I]}function a(m){var w=s(m),y=w[0],I=w[1];return(y+I)*3/4-I}function c(m,w,y){return(w+y)*3/4-y}function l(m){var w,y=s(m),I=y[0],S=y[1],T=new n(c(m,I,S)),N=0,z=S>0?I-4:I,$;for($=0;$<z;$+=4)w=e[m.charCodeAt($)]<<18|e[m.charCodeAt($+1)]<<12|e[m.charCodeAt($+2)]<<6|e[m.charCodeAt($+3)],T[N++]=w>>16&255,T[N++]=w>>8&255,T[N++]=w&255;return S===2&&(w=e[m.charCodeAt($)]<<2|e[m.charCodeAt($+1)]>>4,T[N++]=w&255),S===1&&(w=e[m.charCodeAt($)]<<10|e[m.charCodeAt($+1)]<<4|e[m.charCodeAt($+2)]>>2,T[N++]=w>>8&255,T[N++]=w&255),T}function u(m){return t[m>>18&63]+t[m>>12&63]+t[m>>6&63]+t[m&63]}function f(m,w,y){for(var I,S=[],T=w;T<y;T+=3)I=(m[T]<<16&16711680)+(m[T+1]<<8&65280)+(m[T+2]&255),S.push(u(I));return S.join("")}function p(m){for(var w,y=m.length,I=y%3,S=[],T=16383,N=0,z=y-I;N<z;N+=T)S.push(f(m,N,N+T>z?z:N+T));return I===1?(w=m[y-1],S.push(t[w>>2]+t[w<<4&63]+"==")):I===2&&(w=(m[y-2]<<8)+m[y-1],S.push(t[w>>10]+t[w>>4&63]+t[w<<2&63]+"=")),S.join("")}return cp}var xm={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var l5;function VF(){return l5||(l5=1,xm.read=function(t,e,n,r,i){var o,s,a=i*8-r-1,c=(1<<a)-1,l=c>>1,u=-7,f=n?i-1:0,p=n?-1:1,m=t[e+f];for(f+=p,o=m&(1<<-u)-1,m>>=-u,u+=a;u>0;o=o*256+t[e+f],f+=p,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=s*256+t[e+f],f+=p,u-=8);if(o===0)o=1-l;else{if(o===c)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-l}return(m?-1:1)*s*Math.pow(2,o-r)},xm.write=function(t,e,n,r,i,o){var s,a,c,l=o*8-i-1,u=(1<<l)-1,f=u>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:o-1,w=r?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+f>=1?e+=p/c:e+=p*Math.pow(2,1-f),e*c>=2&&(s++,c/=2),s+f>=u?(a=0,s=u):s+f>=1?(a=(e*c-1)*Math.pow(2,i),s=s+f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[n+m]=a&255,m+=w,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+m]=s&255,m+=w,s/=256,l-=8);t[n+m-w]|=y*128}),xm}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var u5;function Ma(){return u5||(u5=1,function(t){const e=WF(),n=VF(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=T,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const ne=new Uint8Array(1),G={foo:function(){return 42}};return Object.setPrototypeOf(G,Uint8Array.prototype),Object.setPrototypeOf(ne,G),ne.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(ne){if(ne>i)throw new RangeError('The value "'+ne+'" is invalid for option "size"');const G=new Uint8Array(ne);return Object.setPrototypeOf(G,a.prototype),G}function a(ne,G,Z){if(typeof ne=="number"){if(typeof G=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(ne)}return c(ne,G,Z)}a.poolSize=8192;function c(ne,G,Z){if(typeof ne=="string")return p(ne,G);if(ArrayBuffer.isView(ne))return w(ne);if(ne==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne);if(we(ne,ArrayBuffer)||ne&&we(ne.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(we(ne,SharedArrayBuffer)||ne&&we(ne.buffer,SharedArrayBuffer)))return y(ne,G,Z);if(typeof ne=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ce=ne.valueOf&&ne.valueOf();if(ce!=null&&ce!==ne)return a.from(ce,G,Z);const ge=I(ne);if(ge)return ge;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ne[Symbol.toPrimitive]=="function")return a.from(ne[Symbol.toPrimitive]("string"),G,Z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne)}a.from=function(ne,G,Z){return c(ne,G,Z)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(ne){if(typeof ne!="number")throw new TypeError('"size" argument must be of type number');if(ne<0)throw new RangeError('The value "'+ne+'" is invalid for option "size"')}function u(ne,G,Z){return l(ne),ne<=0?s(ne):G!==void 0?typeof Z=="string"?s(ne).fill(G,Z):s(ne).fill(G):s(ne)}a.alloc=function(ne,G,Z){return u(ne,G,Z)};function f(ne){return l(ne),s(ne<0?0:S(ne)|0)}a.allocUnsafe=function(ne){return f(ne)},a.allocUnsafeSlow=function(ne){return f(ne)};function p(ne,G){if((typeof G!="string"||G==="")&&(G="utf8"),!a.isEncoding(G))throw new TypeError("Unknown encoding: "+G);const Z=N(ne,G)|0;let ce=s(Z);const ge=ce.write(ne,G);return ge!==Z&&(ce=ce.slice(0,ge)),ce}function m(ne){const G=ne.length<0?0:S(ne.length)|0,Z=s(G);for(let ce=0;ce<G;ce+=1)Z[ce]=ne[ce]&255;return Z}function w(ne){if(we(ne,Uint8Array)){const G=new Uint8Array(ne);return y(G.buffer,G.byteOffset,G.byteLength)}return m(ne)}function y(ne,G,Z){if(G<0||ne.byteLength<G)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<G+(Z||0))throw new RangeError('"length" is outside of buffer bounds');let ce;return G===void 0&&Z===void 0?ce=new Uint8Array(ne):Z===void 0?ce=new Uint8Array(ne,G):ce=new Uint8Array(ne,G,Z),Object.setPrototypeOf(ce,a.prototype),ce}function I(ne){if(a.isBuffer(ne)){const G=S(ne.length)|0,Z=s(G);return Z.length===0||ne.copy(Z,0,0,G),Z}if(ne.length!==void 0)return typeof ne.length!="number"||$e(ne.length)?s(0):m(ne);if(ne.type==="Buffer"&&Array.isArray(ne.data))return m(ne.data)}function S(ne){if(ne>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return ne|0}function T(ne){return+ne!=ne&&(ne=0),a.alloc(+ne)}a.isBuffer=function(G){return G!=null&&G._isBuffer===!0&&G!==a.prototype},a.compare=function(G,Z){if(we(G,Uint8Array)&&(G=a.from(G,G.offset,G.byteLength)),we(Z,Uint8Array)&&(Z=a.from(Z,Z.offset,Z.byteLength)),!a.isBuffer(G)||!a.isBuffer(Z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(G===Z)return 0;let ce=G.length,ge=Z.length;for(let Ae=0,Re=Math.min(ce,ge);Ae<Re;++Ae)if(G[Ae]!==Z[Ae]){ce=G[Ae],ge=Z[Ae];break}return ce<ge?-1:ge<ce?1:0},a.isEncoding=function(G){switch(String(G).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(G,Z){if(!Array.isArray(G))throw new TypeError('"list" argument must be an Array of Buffers');if(G.length===0)return a.alloc(0);let ce;if(Z===void 0)for(Z=0,ce=0;ce<G.length;++ce)Z+=G[ce].length;const ge=a.allocUnsafe(Z);let Ae=0;for(ce=0;ce<G.length;++ce){let Re=G[ce];if(we(Re,Uint8Array))Ae+Re.length>ge.length?(a.isBuffer(Re)||(Re=a.from(Re)),Re.copy(ge,Ae)):Uint8Array.prototype.set.call(ge,Re,Ae);else if(a.isBuffer(Re))Re.copy(ge,Ae);else throw new TypeError('"list" argument must be an Array of Buffers');Ae+=Re.length}return ge};function N(ne,G){if(a.isBuffer(ne))return ne.length;if(ArrayBuffer.isView(ne)||we(ne,ArrayBuffer))return ne.byteLength;if(typeof ne!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ne);const Z=ne.length,ce=arguments.length>2&&arguments[2]===!0;if(!ce&&Z===0)return 0;let ge=!1;for(;;)switch(G){case"ascii":case"latin1":case"binary":return Z;case"utf8":case"utf-8":return ye(ne).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z*2;case"hex":return Z>>>1;case"base64":return Ee(ne).length;default:if(ge)return ce?-1:ye(ne).length;G=(""+G).toLowerCase(),ge=!0}}a.byteLength=N;function z(ne,G,Z){let ce=!1;if((G===void 0||G<0)&&(G=0),G>this.length||((Z===void 0||Z>this.length)&&(Z=this.length),Z<=0)||(Z>>>=0,G>>>=0,Z<=G))return"";for(ne||(ne="utf8");;)switch(ne){case"hex":return O(this,G,Z);case"utf8":case"utf-8":return g(this,G,Z);case"ascii":return L(this,G,Z);case"latin1":case"binary":return C(this,G,Z);case"base64":return b(this,G,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,G,Z);default:if(ce)throw new TypeError("Unknown encoding: "+ne);ne=(ne+"").toLowerCase(),ce=!0}}a.prototype._isBuffer=!0;function $(ne,G,Z){const ce=ne[G];ne[G]=ne[Z],ne[Z]=ce}a.prototype.swap16=function(){const G=this.length;if(G%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Z=0;Z<G;Z+=2)$(this,Z,Z+1);return this},a.prototype.swap32=function(){const G=this.length;if(G%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Z=0;Z<G;Z+=4)$(this,Z,Z+3),$(this,Z+1,Z+2);return this},a.prototype.swap64=function(){const G=this.length;if(G%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Z=0;Z<G;Z+=8)$(this,Z,Z+7),$(this,Z+1,Z+6),$(this,Z+2,Z+5),$(this,Z+3,Z+4);return this},a.prototype.toString=function(){const G=this.length;return G===0?"":arguments.length===0?g(this,0,G):z.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(G){if(!a.isBuffer(G))throw new TypeError("Argument must be a Buffer");return this===G?!0:a.compare(this,G)===0},a.prototype.inspect=function(){let G="";const Z=t.INSPECT_MAX_BYTES;return G=this.toString("hex",0,Z).replace(/(.{2})/g,"$1 ").trim(),this.length>Z&&(G+=" ... "),"<Buffer "+G+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(G,Z,ce,ge,Ae){if(we(G,Uint8Array)&&(G=a.from(G,G.offset,G.byteLength)),!a.isBuffer(G))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof G);if(Z===void 0&&(Z=0),ce===void 0&&(ce=G?G.length:0),ge===void 0&&(ge=0),Ae===void 0&&(Ae=this.length),Z<0||ce>G.length||ge<0||Ae>this.length)throw new RangeError("out of range index");if(ge>=Ae&&Z>=ce)return 0;if(ge>=Ae)return-1;if(Z>=ce)return 1;if(Z>>>=0,ce>>>=0,ge>>>=0,Ae>>>=0,this===G)return 0;let Re=Ae-ge,lt=ce-Z;const Ct=Math.min(Re,lt),ot=this.slice(ge,Ae),Ot=G.slice(Z,ce);for(let vt=0;vt<Ct;++vt)if(ot[vt]!==Ot[vt]){Re=ot[vt],lt=Ot[vt];break}return Re<lt?-1:lt<Re?1:0};function H(ne,G,Z,ce,ge){if(ne.length===0)return-1;if(typeof Z=="string"?(ce=Z,Z=0):Z>2147483647?Z=2147483647:Z<-2147483648&&(Z=-2147483648),Z=+Z,$e(Z)&&(Z=ge?0:ne.length-1),Z<0&&(Z=ne.length+Z),Z>=ne.length){if(ge)return-1;Z=ne.length-1}else if(Z<0)if(ge)Z=0;else return-1;if(typeof G=="string"&&(G=a.from(G,ce)),a.isBuffer(G))return G.length===0?-1:K(ne,G,Z,ce,ge);if(typeof G=="number")return G=G&255,typeof Uint8Array.prototype.indexOf=="function"?ge?Uint8Array.prototype.indexOf.call(ne,G,Z):Uint8Array.prototype.lastIndexOf.call(ne,G,Z):K(ne,[G],Z,ce,ge);throw new TypeError("val must be string, number or Buffer")}function K(ne,G,Z,ce,ge){let Ae=1,Re=ne.length,lt=G.length;if(ce!==void 0&&(ce=String(ce).toLowerCase(),ce==="ucs2"||ce==="ucs-2"||ce==="utf16le"||ce==="utf-16le")){if(ne.length<2||G.length<2)return-1;Ae=2,Re/=2,lt/=2,Z/=2}function Ct(Ot,vt){return Ae===1?Ot[vt]:Ot.readUInt16BE(vt*Ae)}let ot;if(ge){let Ot=-1;for(ot=Z;ot<Re;ot++)if(Ct(ne,ot)===Ct(G,Ot===-1?0:ot-Ot)){if(Ot===-1&&(Ot=ot),ot-Ot+1===lt)return Ot*Ae}else Ot!==-1&&(ot-=ot-Ot),Ot=-1}else for(Z+lt>Re&&(Z=Re-lt),ot=Z;ot>=0;ot--){let Ot=!0;for(let vt=0;vt<lt;vt++)if(Ct(ne,ot+vt)!==Ct(G,vt)){Ot=!1;break}if(Ot)return ot}return-1}a.prototype.includes=function(G,Z,ce){return this.indexOf(G,Z,ce)!==-1},a.prototype.indexOf=function(G,Z,ce){return H(this,G,Z,ce,!0)},a.prototype.lastIndexOf=function(G,Z,ce){return H(this,G,Z,ce,!1)};function j(ne,G,Z,ce){Z=Number(Z)||0;const ge=ne.length-Z;ce?(ce=Number(ce),ce>ge&&(ce=ge)):ce=ge;const Ae=G.length;ce>Ae/2&&(ce=Ae/2);let Re;for(Re=0;Re<ce;++Re){const lt=parseInt(G.substr(Re*2,2),16);if($e(lt))return Re;ne[Z+Re]=lt}return Re}function B(ne,G,Z,ce){return Ce(ye(G,ne.length-Z),ne,Z,ce)}function D(ne,G,Z,ce){return Ce(pe(G),ne,Z,ce)}function P(ne,G,Z,ce){return Ce(Ee(G),ne,Z,ce)}function E(ne,G,Z,ce){return Ce(de(G,ne.length-Z),ne,Z,ce)}a.prototype.write=function(G,Z,ce,ge){if(Z===void 0)ge="utf8",ce=this.length,Z=0;else if(ce===void 0&&typeof Z=="string")ge=Z,ce=this.length,Z=0;else if(isFinite(Z))Z=Z>>>0,isFinite(ce)?(ce=ce>>>0,ge===void 0&&(ge="utf8")):(ge=ce,ce=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ae=this.length-Z;if((ce===void 0||ce>Ae)&&(ce=Ae),G.length>0&&(ce<0||Z<0)||Z>this.length)throw new RangeError("Attempt to write outside buffer bounds");ge||(ge="utf8");let Re=!1;for(;;)switch(ge){case"hex":return j(this,G,Z,ce);case"utf8":case"utf-8":return B(this,G,Z,ce);case"ascii":case"latin1":case"binary":return D(this,G,Z,ce);case"base64":return P(this,G,Z,ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,G,Z,ce);default:if(Re)throw new TypeError("Unknown encoding: "+ge);ge=(""+ge).toLowerCase(),Re=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function b(ne,G,Z){return G===0&&Z===ne.length?e.fromByteArray(ne):e.fromByteArray(ne.slice(G,Z))}function g(ne,G,Z){Z=Math.min(ne.length,Z);const ce=[];let ge=G;for(;ge<Z;){const Ae=ne[ge];let Re=null,lt=Ae>239?4:Ae>223?3:Ae>191?2:1;if(ge+lt<=Z){let Ct,ot,Ot,vt;switch(lt){case 1:Ae<128&&(Re=Ae);break;case 2:Ct=ne[ge+1],(Ct&192)===128&&(vt=(Ae&31)<<6|Ct&63,vt>127&&(Re=vt));break;case 3:Ct=ne[ge+1],ot=ne[ge+2],(Ct&192)===128&&(ot&192)===128&&(vt=(Ae&15)<<12|(Ct&63)<<6|ot&63,vt>2047&&(vt<55296||vt>57343)&&(Re=vt));break;case 4:Ct=ne[ge+1],ot=ne[ge+2],Ot=ne[ge+3],(Ct&192)===128&&(ot&192)===128&&(Ot&192)===128&&(vt=(Ae&15)<<18|(Ct&63)<<12|(ot&63)<<6|Ot&63,vt>65535&&vt<1114112&&(Re=vt))}}Re===null?(Re=65533,lt=1):Re>65535&&(Re-=65536,ce.push(Re>>>10&1023|55296),Re=56320|Re&1023),ce.push(Re),ge+=lt}return A(ce)}const v=4096;function A(ne){const G=ne.length;if(G<=v)return String.fromCharCode.apply(String,ne);let Z="",ce=0;for(;ce<G;)Z+=String.fromCharCode.apply(String,ne.slice(ce,ce+=v));return Z}function L(ne,G,Z){let ce="";Z=Math.min(ne.length,Z);for(let ge=G;ge<Z;++ge)ce+=String.fromCharCode(ne[ge]&127);return ce}function C(ne,G,Z){let ce="";Z=Math.min(ne.length,Z);for(let ge=G;ge<Z;++ge)ce+=String.fromCharCode(ne[ge]);return ce}function O(ne,G,Z){const ce=ne.length;(!G||G<0)&&(G=0),(!Z||Z<0||Z>ce)&&(Z=ce);let ge="";for(let Ae=G;Ae<Z;++Ae)ge+=ze[ne[Ae]];return ge}function x(ne,G,Z){const ce=ne.slice(G,Z);let ge="";for(let Ae=0;Ae<ce.length-1;Ae+=2)ge+=String.fromCharCode(ce[Ae]+ce[Ae+1]*256);return ge}a.prototype.slice=function(G,Z){const ce=this.length;G=~~G,Z=Z===void 0?ce:~~Z,G<0?(G+=ce,G<0&&(G=0)):G>ce&&(G=ce),Z<0?(Z+=ce,Z<0&&(Z=0)):Z>ce&&(Z=ce),Z<G&&(Z=G);const ge=this.subarray(G,Z);return Object.setPrototypeOf(ge,a.prototype),ge};function R(ne,G,Z){if(ne%1!==0||ne<0)throw new RangeError("offset is not uint");if(ne+G>Z)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(G,Z,ce){G=G>>>0,Z=Z>>>0,ce||R(G,Z,this.length);let ge=this[G],Ae=1,Re=0;for(;++Re<Z&&(Ae*=256);)ge+=this[G+Re]*Ae;return ge},a.prototype.readUintBE=a.prototype.readUIntBE=function(G,Z,ce){G=G>>>0,Z=Z>>>0,ce||R(G,Z,this.length);let ge=this[G+--Z],Ae=1;for(;Z>0&&(Ae*=256);)ge+=this[G+--Z]*Ae;return ge},a.prototype.readUint8=a.prototype.readUInt8=function(G,Z){return G=G>>>0,Z||R(G,1,this.length),this[G]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(G,Z){return G=G>>>0,Z||R(G,2,this.length),this[G]|this[G+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(G,Z){return G=G>>>0,Z||R(G,2,this.length),this[G]<<8|this[G+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(G,Z){return G=G>>>0,Z||R(G,4,this.length),(this[G]|this[G+1]<<8|this[G+2]<<16)+this[G+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(G,Z){return G=G>>>0,Z||R(G,4,this.length),this[G]*16777216+(this[G+1]<<16|this[G+2]<<8|this[G+3])},a.prototype.readBigUInt64LE=Ze(function(G){G=G>>>0,te(G,"offset");const Z=this[G],ce=this[G+7];(Z===void 0||ce===void 0)&&se(G,this.length-8);const ge=Z+this[++G]*2**8+this[++G]*2**16+this[++G]*2**24,Ae=this[++G]+this[++G]*2**8+this[++G]*2**16+ce*2**24;return BigInt(ge)+(BigInt(Ae)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ze(function(G){G=G>>>0,te(G,"offset");const Z=this[G],ce=this[G+7];(Z===void 0||ce===void 0)&&se(G,this.length-8);const ge=Z*2**24+this[++G]*2**16+this[++G]*2**8+this[++G],Ae=this[++G]*2**24+this[++G]*2**16+this[++G]*2**8+ce;return(BigInt(ge)<<BigInt(32))+BigInt(Ae)}),a.prototype.readIntLE=function(G,Z,ce){G=G>>>0,Z=Z>>>0,ce||R(G,Z,this.length);let ge=this[G],Ae=1,Re=0;for(;++Re<Z&&(Ae*=256);)ge+=this[G+Re]*Ae;return Ae*=128,ge>=Ae&&(ge-=Math.pow(2,8*Z)),ge},a.prototype.readIntBE=function(G,Z,ce){G=G>>>0,Z=Z>>>0,ce||R(G,Z,this.length);let ge=Z,Ae=1,Re=this[G+--ge];for(;ge>0&&(Ae*=256);)Re+=this[G+--ge]*Ae;return Ae*=128,Re>=Ae&&(Re-=Math.pow(2,8*Z)),Re},a.prototype.readInt8=function(G,Z){return G=G>>>0,Z||R(G,1,this.length),this[G]&128?(255-this[G]+1)*-1:this[G]},a.prototype.readInt16LE=function(G,Z){G=G>>>0,Z||R(G,2,this.length);const ce=this[G]|this[G+1]<<8;return ce&32768?ce|4294901760:ce},a.prototype.readInt16BE=function(G,Z){G=G>>>0,Z||R(G,2,this.length);const ce=this[G+1]|this[G]<<8;return ce&32768?ce|4294901760:ce},a.prototype.readInt32LE=function(G,Z){return G=G>>>0,Z||R(G,4,this.length),this[G]|this[G+1]<<8|this[G+2]<<16|this[G+3]<<24},a.prototype.readInt32BE=function(G,Z){return G=G>>>0,Z||R(G,4,this.length),this[G]<<24|this[G+1]<<16|this[G+2]<<8|this[G+3]},a.prototype.readBigInt64LE=Ze(function(G){G=G>>>0,te(G,"offset");const Z=this[G],ce=this[G+7];(Z===void 0||ce===void 0)&&se(G,this.length-8);const ge=this[G+4]+this[G+5]*2**8+this[G+6]*2**16+(ce<<24);return(BigInt(ge)<<BigInt(32))+BigInt(Z+this[++G]*2**8+this[++G]*2**16+this[++G]*2**24)}),a.prototype.readBigInt64BE=Ze(function(G){G=G>>>0,te(G,"offset");const Z=this[G],ce=this[G+7];(Z===void 0||ce===void 0)&&se(G,this.length-8);const ge=(Z<<24)+this[++G]*2**16+this[++G]*2**8+this[++G];return(BigInt(ge)<<BigInt(32))+BigInt(this[++G]*2**24+this[++G]*2**16+this[++G]*2**8+ce)}),a.prototype.readFloatLE=function(G,Z){return G=G>>>0,Z||R(G,4,this.length),n.read(this,G,!0,23,4)},a.prototype.readFloatBE=function(G,Z){return G=G>>>0,Z||R(G,4,this.length),n.read(this,G,!1,23,4)},a.prototype.readDoubleLE=function(G,Z){return G=G>>>0,Z||R(G,8,this.length),n.read(this,G,!0,52,8)},a.prototype.readDoubleBE=function(G,Z){return G=G>>>0,Z||R(G,8,this.length),n.read(this,G,!1,52,8)};function _(ne,G,Z,ce,ge,Ae){if(!a.isBuffer(ne))throw new TypeError('"buffer" argument must be a Buffer instance');if(G>ge||G<Ae)throw new RangeError('"value" argument is out of bounds');if(Z+ce>ne.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(G,Z,ce,ge){if(G=+G,Z=Z>>>0,ce=ce>>>0,!ge){const lt=Math.pow(2,8*ce)-1;_(this,G,Z,ce,lt,0)}let Ae=1,Re=0;for(this[Z]=G&255;++Re<ce&&(Ae*=256);)this[Z+Re]=G/Ae&255;return Z+ce},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(G,Z,ce,ge){if(G=+G,Z=Z>>>0,ce=ce>>>0,!ge){const lt=Math.pow(2,8*ce)-1;_(this,G,Z,ce,lt,0)}let Ae=ce-1,Re=1;for(this[Z+Ae]=G&255;--Ae>=0&&(Re*=256);)this[Z+Ae]=G/Re&255;return Z+ce},a.prototype.writeUint8=a.prototype.writeUInt8=function(G,Z,ce){return G=+G,Z=Z>>>0,ce||_(this,G,Z,1,255,0),this[Z]=G&255,Z+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(G,Z,ce){return G=+G,Z=Z>>>0,ce||_(this,G,Z,2,65535,0),this[Z]=G&255,this[Z+1]=G>>>8,Z+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(G,Z,ce){return G=+G,Z=Z>>>0,ce||_(this,G,Z,2,65535,0),this[Z]=G>>>8,this[Z+1]=G&255,Z+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(G,Z,ce){return G=+G,Z=Z>>>0,ce||_(this,G,Z,4,4294967295,0),this[Z+3]=G>>>24,this[Z+2]=G>>>16,this[Z+1]=G>>>8,this[Z]=G&255,Z+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(G,Z,ce){return G=+G,Z=Z>>>0,ce||_(this,G,Z,4,4294967295,0),this[Z]=G>>>24,this[Z+1]=G>>>16,this[Z+2]=G>>>8,this[Z+3]=G&255,Z+4};function k(ne,G,Z,ce,ge){oe(G,ce,ge,ne,Z,7);let Ae=Number(G&BigInt(4294967295));ne[Z++]=Ae,Ae=Ae>>8,ne[Z++]=Ae,Ae=Ae>>8,ne[Z++]=Ae,Ae=Ae>>8,ne[Z++]=Ae;let Re=Number(G>>BigInt(32)&BigInt(4294967295));return ne[Z++]=Re,Re=Re>>8,ne[Z++]=Re,Re=Re>>8,ne[Z++]=Re,Re=Re>>8,ne[Z++]=Re,Z}function U(ne,G,Z,ce,ge){oe(G,ce,ge,ne,Z,7);let Ae=Number(G&BigInt(4294967295));ne[Z+7]=Ae,Ae=Ae>>8,ne[Z+6]=Ae,Ae=Ae>>8,ne[Z+5]=Ae,Ae=Ae>>8,ne[Z+4]=Ae;let Re=Number(G>>BigInt(32)&BigInt(4294967295));return ne[Z+3]=Re,Re=Re>>8,ne[Z+2]=Re,Re=Re>>8,ne[Z+1]=Re,Re=Re>>8,ne[Z]=Re,Z+8}a.prototype.writeBigUInt64LE=Ze(function(G,Z=0){return k(this,G,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ze(function(G,Z=0){return U(this,G,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(G,Z,ce,ge){if(G=+G,Z=Z>>>0,!ge){const Ct=Math.pow(2,8*ce-1);_(this,G,Z,ce,Ct-1,-Ct)}let Ae=0,Re=1,lt=0;for(this[Z]=G&255;++Ae<ce&&(Re*=256);)G<0&&lt===0&&this[Z+Ae-1]!==0&&(lt=1),this[Z+Ae]=(G/Re>>0)-lt&255;return Z+ce},a.prototype.writeIntBE=function(G,Z,ce,ge){if(G=+G,Z=Z>>>0,!ge){const Ct=Math.pow(2,8*ce-1);_(this,G,Z,ce,Ct-1,-Ct)}let Ae=ce-1,Re=1,lt=0;for(this[Z+Ae]=G&255;--Ae>=0&&(Re*=256);)G<0&&lt===0&&this[Z+Ae+1]!==0&&(lt=1),this[Z+Ae]=(G/Re>>0)-lt&255;return Z+ce},a.prototype.writeInt8=function(G,Z,ce){return G=+G,Z=Z>>>0,ce||_(this,G,Z,1,127,-128),G<0&&(G=255+G+1),this[Z]=G&255,Z+1},a.prototype.writeInt16LE=function(G,Z,ce){return G=+G,Z=Z>>>0,ce||_(this,G,Z,2,32767,-32768),this[Z]=G&255,this[Z+1]=G>>>8,Z+2},a.prototype.writeInt16BE=function(G,Z,ce){return G=+G,Z=Z>>>0,ce||_(this,G,Z,2,32767,-32768),this[Z]=G>>>8,this[Z+1]=G&255,Z+2},a.prototype.writeInt32LE=function(G,Z,ce){return G=+G,Z=Z>>>0,ce||_(this,G,Z,4,2147483647,-2147483648),this[Z]=G&255,this[Z+1]=G>>>8,this[Z+2]=G>>>16,this[Z+3]=G>>>24,Z+4},a.prototype.writeInt32BE=function(G,Z,ce){return G=+G,Z=Z>>>0,ce||_(this,G,Z,4,2147483647,-2147483648),G<0&&(G=4294967295+G+1),this[Z]=G>>>24,this[Z+1]=G>>>16,this[Z+2]=G>>>8,this[Z+3]=G&255,Z+4},a.prototype.writeBigInt64LE=Ze(function(G,Z=0){return k(this,G,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ze(function(G,Z=0){return U(this,G,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function q(ne,G,Z,ce,ge,Ae){if(Z+ce>ne.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("Index out of range")}function V(ne,G,Z,ce,ge){return G=+G,Z=Z>>>0,ge||q(ne,G,Z,4),n.write(ne,G,Z,ce,23,4),Z+4}a.prototype.writeFloatLE=function(G,Z,ce){return V(this,G,Z,!0,ce)},a.prototype.writeFloatBE=function(G,Z,ce){return V(this,G,Z,!1,ce)};function Q(ne,G,Z,ce,ge){return G=+G,Z=Z>>>0,ge||q(ne,G,Z,8),n.write(ne,G,Z,ce,52,8),Z+8}a.prototype.writeDoubleLE=function(G,Z,ce){return Q(this,G,Z,!0,ce)},a.prototype.writeDoubleBE=function(G,Z,ce){return Q(this,G,Z,!1,ce)},a.prototype.copy=function(G,Z,ce,ge){if(!a.isBuffer(G))throw new TypeError("argument should be a Buffer");if(ce||(ce=0),!ge&&ge!==0&&(ge=this.length),Z>=G.length&&(Z=G.length),Z||(Z=0),ge>0&&ge<ce&&(ge=ce),ge===ce||G.length===0||this.length===0)return 0;if(Z<0)throw new RangeError("targetStart out of bounds");if(ce<0||ce>=this.length)throw new RangeError("Index out of range");if(ge<0)throw new RangeError("sourceEnd out of bounds");ge>this.length&&(ge=this.length),G.length-Z<ge-ce&&(ge=G.length-Z+ce);const Ae=ge-ce;return this===G&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Z,ce,ge):Uint8Array.prototype.set.call(G,this.subarray(ce,ge),Z),Ae},a.prototype.fill=function(G,Z,ce,ge){if(typeof G=="string"){if(typeof Z=="string"?(ge=Z,Z=0,ce=this.length):typeof ce=="string"&&(ge=ce,ce=this.length),ge!==void 0&&typeof ge!="string")throw new TypeError("encoding must be a string");if(typeof ge=="string"&&!a.isEncoding(ge))throw new TypeError("Unknown encoding: "+ge);if(G.length===1){const Re=G.charCodeAt(0);(ge==="utf8"&&Re<128||ge==="latin1")&&(G=Re)}}else typeof G=="number"?G=G&255:typeof G=="boolean"&&(G=Number(G));if(Z<0||this.length<Z||this.length<ce)throw new RangeError("Out of range index");if(ce<=Z)return this;Z=Z>>>0,ce=ce===void 0?this.length:ce>>>0,G||(G=0);let Ae;if(typeof G=="number")for(Ae=Z;Ae<ce;++Ae)this[Ae]=G;else{const Re=a.isBuffer(G)?G:a.from(G,ge),lt=Re.length;if(lt===0)throw new TypeError('The value "'+G+'" is invalid for argument "value"');for(Ae=0;Ae<ce-Z;++Ae)this[Ae+Z]=Re[Ae%lt]}return this};const Y={};function X(ne,G,Z){Y[ne]=class extends Z{constructor(){super(),Object.defineProperty(this,"message",{value:G.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ne}]`,this.stack,delete this.name}get code(){return ne}set code(ge){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ge,writable:!0})}toString(){return`${this.name} [${ne}]: ${this.message}`}}}X("ERR_BUFFER_OUT_OF_BOUNDS",function(ne){return ne?`${ne} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),X("ERR_INVALID_ARG_TYPE",function(ne,G){return`The "${ne}" argument must be of type number. Received type ${typeof G}`},TypeError),X("ERR_OUT_OF_RANGE",function(ne,G,Z){let ce=`The value of "${ne}" is out of range.`,ge=Z;return Number.isInteger(Z)&&Math.abs(Z)>2**32?ge=ee(String(Z)):typeof Z=="bigint"&&(ge=String(Z),(Z>BigInt(2)**BigInt(32)||Z<-(BigInt(2)**BigInt(32)))&&(ge=ee(ge)),ge+="n"),ce+=` It must be ${G}. Received ${ge}`,ce},RangeError);function ee(ne){let G="",Z=ne.length;const ce=ne[0]==="-"?1:0;for(;Z>=ce+4;Z-=3)G=`_${ne.slice(Z-3,Z)}${G}`;return`${ne.slice(0,Z)}${G}`}function ie(ne,G,Z){te(G,"offset"),(ne[G]===void 0||ne[G+Z]===void 0)&&se(G,ne.length-(Z+1))}function oe(ne,G,Z,ce,ge,Ae){if(ne>Z||ne<G){const Re=typeof G=="bigint"?"n":"";let lt;throw G===0||G===BigInt(0)?lt=`>= 0${Re} and < 2${Re} ** ${(Ae+1)*8}${Re}`:lt=`>= -(2${Re} ** ${(Ae+1)*8-1}${Re}) and < 2 ** ${(Ae+1)*8-1}${Re}`,new Y.ERR_OUT_OF_RANGE("value",lt,ne)}ie(ce,ge,Ae)}function te(ne,G){if(typeof ne!="number")throw new Y.ERR_INVALID_ARG_TYPE(G,"number",ne)}function se(ne,G,Z){throw Math.floor(ne)!==ne?(te(ne,Z),new Y.ERR_OUT_OF_RANGE("offset","an integer",ne)):G<0?new Y.ERR_BUFFER_OUT_OF_BOUNDS:new Y.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${G}`,ne)}const ue=/[^+/0-9A-Za-z-_]/g;function me(ne){if(ne=ne.split("=")[0],ne=ne.trim().replace(ue,""),ne.length<2)return"";for(;ne.length%4!==0;)ne=ne+"=";return ne}function ye(ne,G){G=G||1/0;let Z;const ce=ne.length;let ge=null;const Ae=[];for(let Re=0;Re<ce;++Re){if(Z=ne.charCodeAt(Re),Z>55295&&Z<57344){if(!ge){if(Z>56319){(G-=3)>-1&&Ae.push(239,191,189);continue}else if(Re+1===ce){(G-=3)>-1&&Ae.push(239,191,189);continue}ge=Z;continue}if(Z<56320){(G-=3)>-1&&Ae.push(239,191,189),ge=Z;continue}Z=(ge-55296<<10|Z-56320)+65536}else ge&&(G-=3)>-1&&Ae.push(239,191,189);if(ge=null,Z<128){if((G-=1)<0)break;Ae.push(Z)}else if(Z<2048){if((G-=2)<0)break;Ae.push(Z>>6|192,Z&63|128)}else if(Z<65536){if((G-=3)<0)break;Ae.push(Z>>12|224,Z>>6&63|128,Z&63|128)}else if(Z<1114112){if((G-=4)<0)break;Ae.push(Z>>18|240,Z>>12&63|128,Z>>6&63|128,Z&63|128)}else throw new Error("Invalid code point")}return Ae}function pe(ne){const G=[];for(let Z=0;Z<ne.length;++Z)G.push(ne.charCodeAt(Z)&255);return G}function de(ne,G){let Z,ce,ge;const Ae=[];for(let Re=0;Re<ne.length&&!((G-=2)<0);++Re)Z=ne.charCodeAt(Re),ce=Z>>8,ge=Z%256,Ae.push(ge),Ae.push(ce);return Ae}function Ee(ne){return e.toByteArray(me(ne))}function Ce(ne,G,Z,ce){let ge;for(ge=0;ge<ce&&!(ge+Z>=G.length||ge>=ne.length);++ge)G[ge+Z]=ne[ge];return ge}function we(ne,G){return ne instanceof G||ne!=null&&ne.constructor!=null&&ne.constructor.name!=null&&ne.constructor.name===G.name}function $e(ne){return ne!==ne}const ze=function(){const ne="0123456789abcdef",G=new Array(256);for(let Z=0;Z<16;++Z){const ce=Z*16;for(let ge=0;ge<16;++ge)G[ce+ge]=ne[Z]+ne[ge]}return G}();function Ze(ne){return typeof BigInt>"u"?We:ne}function We(){throw new Error("BigInt not supported")}}(Yb)),Yb}var ln=Ma(),Jb={exports:{}},d5;function tu(){if(d5)return Jb.exports;d5=1;var t=Jb.exports={},e,n;function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=r}catch{e=r}try{typeof clearTimeout=="function"?n=clearTimeout:n=i}catch{n=i}})();function o(y){if(e===setTimeout)return setTimeout(y,0);if((e===r||!e)&&setTimeout)return e=setTimeout,setTimeout(y,0);try{return e(y,0)}catch{try{return e.call(null,y,0)}catch{return e.call(this,y,0)}}}function s(y){if(n===clearTimeout)return clearTimeout(y);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(y);try{return n(y)}catch{try{return n.call(null,y)}catch{return n.call(this,y)}}}var a=[],c=!1,l,u=-1;function f(){!c||!l||(c=!1,l.length?a=l.concat(a):u=-1,a.length&&p())}function p(){if(!c){var y=o(f);c=!0;for(var I=a.length;I;){for(l=a,a=[];++u<I;)l&&l[u].run();u=-1,I=a.length}l=null,c=!1,s(y)}}t.nextTick=function(y){var I=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)I[S-1]=arguments[S];a.push(new m(y,I)),a.length===1&&!c&&o(p)};function m(y,I){this.fun=y,this.array=I}m.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function w(){}return t.on=w,t.addListener=w,t.once=w,t.off=w,t.removeListener=w,t.removeAllListeners=w,t.emit=w,t.prependListener=w,t.prependOnceListener=w,t.listeners=function(y){return[]},t.binding=function(y){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(y){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},Jb.exports}var GF=tu();const YF=si(GF);window.Buffer=ln.Buffer;window.process=YF;var Zb={exports:{}},lp={},Xb={exports:{}},fn={},f5;function JF(){if(f5)return fn;f5=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function p(R){return R===null||typeof R!="object"?null:(R=f&&R[f]||R["@@iterator"],typeof R=="function"?R:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function I(R,_,k){this.props=R,this.context=_,this.refs=y,this.updater=k||m}I.prototype.isReactComponent={},I.prototype.setState=function(R,_){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,_,"setState")},I.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function S(){}S.prototype=I.prototype;function T(R,_,k){this.props=R,this.context=_,this.refs=y,this.updater=k||m}var N=T.prototype=new S;N.constructor=T,w(N,I.prototype),N.isPureReactComponent=!0;var z=Array.isArray,$=Object.prototype.hasOwnProperty,H={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function j(R,_,k){var U,q={},V=null,Q=null;if(_!=null)for(U in _.ref!==void 0&&(Q=_.ref),_.key!==void 0&&(V=""+_.key),_)$.call(_,U)&&!K.hasOwnProperty(U)&&(q[U]=_[U]);var Y=arguments.length-2;if(Y===1)q.children=k;else if(1<Y){for(var X=Array(Y),ee=0;ee<Y;ee++)X[ee]=arguments[ee+2];q.children=X}if(R&&R.defaultProps)for(U in Y=R.defaultProps,Y)q[U]===void 0&&(q[U]=Y[U]);return{$$typeof:t,type:R,key:V,ref:Q,props:q,_owner:H.current}}function B(R,_){return{$$typeof:t,type:R.type,key:_,ref:R.ref,props:R.props,_owner:R._owner}}function D(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function P(R){var _={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(k){return _[k]})}var E=/\/+/g;function b(R,_){return typeof R=="object"&&R!==null&&R.key!=null?P(""+R.key):_.toString(36)}function g(R,_,k,U,q){var V=typeof R;(V==="undefined"||V==="boolean")&&(R=null);var Q=!1;if(R===null)Q=!0;else switch(V){case"string":case"number":Q=!0;break;case"object":switch(R.$$typeof){case t:case e:Q=!0}}if(Q)return Q=R,q=q(Q),R=U===""?"."+b(Q,0):U,z(q)?(k="",R!=null&&(k=R.replace(E,"$&/")+"/"),g(q,_,k,"",function(ee){return ee})):q!=null&&(D(q)&&(q=B(q,k+(!q.key||Q&&Q.key===q.key?"":(""+q.key).replace(E,"$&/")+"/")+R)),_.push(q)),1;if(Q=0,U=U===""?".":U+":",z(R))for(var Y=0;Y<R.length;Y++){V=R[Y];var X=U+b(V,Y);Q+=g(V,_,k,X,q)}else if(X=p(R),typeof X=="function")for(R=X.call(R),Y=0;!(V=R.next()).done;)V=V.value,X=U+b(V,Y++),Q+=g(V,_,k,X,q);else if(V==="object")throw _=String(R),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.");return Q}function v(R,_,k){if(R==null)return R;var U=[],q=0;return g(R,U,"","",function(V){return _.call(k,V,q++)}),U}function A(R){if(R._status===-1){var _=R._result;_=_(),_.then(function(k){(R._status===0||R._status===-1)&&(R._status=1,R._result=k)},function(k){(R._status===0||R._status===-1)&&(R._status=2,R._result=k)}),R._status===-1&&(R._status=0,R._result=_)}if(R._status===1)return R._result.default;throw R._result}var L={current:null},C={transition:null},O={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:C,ReactCurrentOwner:H};function x(){throw Error("act(...) is not supported in production builds of React.")}return fn.Children={map:v,forEach:function(R,_,k){v(R,function(){_.apply(this,arguments)},k)},count:function(R){var _=0;return v(R,function(){_++}),_},toArray:function(R){return v(R,function(_){return _})||[]},only:function(R){if(!D(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},fn.Component=I,fn.Fragment=n,fn.Profiler=i,fn.PureComponent=T,fn.StrictMode=r,fn.Suspense=c,fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,fn.act=x,fn.cloneElement=function(R,_,k){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var U=w({},R.props),q=R.key,V=R.ref,Q=R._owner;if(_!=null){if(_.ref!==void 0&&(V=_.ref,Q=H.current),_.key!==void 0&&(q=""+_.key),R.type&&R.type.defaultProps)var Y=R.type.defaultProps;for(X in _)$.call(_,X)&&!K.hasOwnProperty(X)&&(U[X]=_[X]===void 0&&Y!==void 0?Y[X]:_[X])}var X=arguments.length-2;if(X===1)U.children=k;else if(1<X){Y=Array(X);for(var ee=0;ee<X;ee++)Y[ee]=arguments[ee+2];U.children=Y}return{$$typeof:t,type:R.type,key:q,ref:V,props:U,_owner:Q}},fn.createContext=function(R){return R={$$typeof:s,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:o,_context:R},R.Consumer=R},fn.createElement=j,fn.createFactory=function(R){var _=j.bind(null,R);return _.type=R,_},fn.createRef=function(){return{current:null}},fn.forwardRef=function(R){return{$$typeof:a,render:R}},fn.isValidElement=D,fn.lazy=function(R){return{$$typeof:u,_payload:{_status:-1,_result:R},_init:A}},fn.memo=function(R,_){return{$$typeof:l,type:R,compare:_===void 0?null:_}},fn.startTransition=function(R){var _=C.transition;C.transition={};try{R()}finally{C.transition=_}},fn.unstable_act=x,fn.useCallback=function(R,_){return L.current.useCallback(R,_)},fn.useContext=function(R){return L.current.useContext(R)},fn.useDebugValue=function(){},fn.useDeferredValue=function(R){return L.current.useDeferredValue(R)},fn.useEffect=function(R,_){return L.current.useEffect(R,_)},fn.useId=function(){return L.current.useId()},fn.useImperativeHandle=function(R,_,k){return L.current.useImperativeHandle(R,_,k)},fn.useInsertionEffect=function(R,_){return L.current.useInsertionEffect(R,_)},fn.useLayoutEffect=function(R,_){return L.current.useLayoutEffect(R,_)},fn.useMemo=function(R,_){return L.current.useMemo(R,_)},fn.useReducer=function(R,_,k){return L.current.useReducer(R,_,k)},fn.useRef=function(R){return L.current.useRef(R)},fn.useState=function(R){return L.current.useState(R)},fn.useSyncExternalStore=function(R,_,k){return L.current.useSyncExternalStore(R,_,k)},fn.useTransition=function(){return L.current.useTransition()},fn.version="18.3.1",fn}var h5;function xh(){return h5||(h5=1,Xb.exports=JF()),Xb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p5;function ZF(){if(p5)return lp;p5=1;var t=xh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(a,c,l){var u,f={},p=null,m=null;l!==void 0&&(p=""+l),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(m=c.ref);for(u in c)r.call(c,u)&&!o.hasOwnProperty(u)&&(f[u]=c[u]);if(a&&a.defaultProps)for(u in c=a.defaultProps,c)f[u]===void 0&&(f[u]=c[u]);return{$$typeof:e,type:a,key:p,ref:m,props:f,_owner:i.current}}return lp.Fragment=n,lp.jsx=s,lp.jsxs=s,lp}var g5;function XF(){return g5||(g5=1,Zb.exports=ZF()),Zb.exports}var re=XF(),_m={},Qb={exports:{}},Qi={},e2={exports:{}},t2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m5;function QF(){return m5||(m5=1,function(t){function e(C,O){var x=C.length;C.push(O);e:for(;0<x;){var R=x-1>>>1,_=C[R];if(0<i(_,O))C[R]=O,C[x]=_,x=R;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var O=C[0],x=C.pop();if(x!==O){C[0]=x;e:for(var R=0,_=C.length,k=_>>>1;R<k;){var U=2*(R+1)-1,q=C[U],V=U+1,Q=C[V];if(0>i(q,x))V<_&&0>i(Q,q)?(C[R]=Q,C[V]=x,R=V):(C[R]=q,C[U]=x,R=U);else if(V<_&&0>i(Q,x))C[R]=Q,C[V]=x,R=V;else break e}}return O}function i(C,O){var x=C.sortIndex-O.sortIndex;return x!==0?x:C.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var c=[],l=[],u=1,f=null,p=3,m=!1,w=!1,y=!1,I=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(C){for(var O=n(l);O!==null;){if(O.callback===null)r(l);else if(O.startTime<=C)r(l),O.sortIndex=O.expirationTime,e(c,O);else break;O=n(l)}}function z(C){if(y=!1,N(C),!w)if(n(c)!==null)w=!0,A($);else{var O=n(l);O!==null&&L(z,O.startTime-C)}}function $(C,O){w=!1,y&&(y=!1,S(j),j=-1),m=!0;var x=p;try{for(N(O),f=n(c);f!==null&&(!(f.expirationTime>O)||C&&!P());){var R=f.callback;if(typeof R=="function"){f.callback=null,p=f.priorityLevel;var _=R(f.expirationTime<=O);O=t.unstable_now(),typeof _=="function"?f.callback=_:f===n(c)&&r(c),N(O)}else r(c);f=n(c)}if(f!==null)var k=!0;else{var U=n(l);U!==null&&L(z,U.startTime-O),k=!1}return k}finally{f=null,p=x,m=!1}}var H=!1,K=null,j=-1,B=5,D=-1;function P(){return!(t.unstable_now()-D<B)}function E(){if(K!==null){var C=t.unstable_now();D=C;var O=!0;try{O=K(!0,C)}finally{O?b():(H=!1,K=null)}}else H=!1}var b;if(typeof T=="function")b=function(){T(E)};else if(typeof MessageChannel<"u"){var g=new MessageChannel,v=g.port2;g.port1.onmessage=E,b=function(){v.postMessage(null)}}else b=function(){I(E,0)};function A(C){K=C,H||(H=!0,b())}function L(C,O){j=I(function(){C(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,A($))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(C){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var x=p;p=O;try{return C()}finally{p=x}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,O){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var x=p;p=C;try{return O()}finally{p=x}},t.unstable_scheduleCallback=function(C,O,x){var R=t.unstable_now();switch(typeof x=="object"&&x!==null?(x=x.delay,x=typeof x=="number"&&0<x?R+x:R):x=R,C){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=x+_,C={id:u++,callback:O,priorityLevel:C,startTime:x,expirationTime:_,sortIndex:-1},x>R?(C.sortIndex=x,e(l,C),n(c)===null&&C===n(l)&&(y?(S(j),j=-1):y=!0,L(z,x-R))):(C.sortIndex=_,e(c,C),w||m||(w=!0,A($))),C},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(C){var O=p;return function(){var x=p;p=O;try{return C.apply(this,arguments)}finally{p=x}}}}(t2)),t2}var v5;function eU(){return v5||(v5=1,e2.exports=QF()),e2.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y5;function tU(){if(y5)return Qi;y5=1;var t=xh(),e=eU();function n(d){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+d,M=1;M<arguments.length;M++)h+="&args[]="+encodeURIComponent(arguments[M]);return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(d,h){s(d,h),s(d+"Capture",h)}function s(d,h){for(i[d]=h,d=0;d<h.length;d++)r.add(h[d])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,l=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},f={};function p(d){return c.call(f,d)?!0:c.call(u,d)?!1:l.test(d)?f[d]=!0:(u[d]=!0,!1)}function m(d,h,M,F){if(M!==null&&M.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return F?!1:M!==null?!M.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function w(d,h,M,F){if(h===null||typeof h>"u"||m(d,h,M,F))return!0;if(F)return!1;if(M!==null)switch(M.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function y(d,h,M,F,W,J,ae){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=F,this.attributeNamespace=W,this.mustUseProperty=M,this.propertyName=d,this.type=h,this.sanitizeURL=J,this.removeEmptyString=ae}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){I[d]=new y(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var h=d[0];I[h]=new y(h,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){I[d]=new y(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){I[d]=new y(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){I[d]=new y(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){I[d]=new y(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){I[d]=new y(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){I[d]=new y(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){I[d]=new y(d,5,!1,d.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function T(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var h=d.replace(S,T);I[h]=new y(h,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var h=d.replace(S,T);I[h]=new y(h,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var h=d.replace(S,T);I[h]=new y(h,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){I[d]=new y(d,1,!1,d.toLowerCase(),null,!1,!1)}),I.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){I[d]=new y(d,1,!1,d.toLowerCase(),null,!0,!0)});function N(d,h,M,F){var W=I.hasOwnProperty(h)?I[h]:null;(W!==null?W.type!==0:F||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(w(h,M,W,F)&&(M=null),F||W===null?p(h)&&(M===null?d.removeAttribute(h):d.setAttribute(h,""+M)):W.mustUseProperty?d[W.propertyName]=M===null?W.type===3?!1:"":M:(h=W.attributeName,F=W.attributeNamespace,M===null?d.removeAttribute(h):(W=W.type,M=W===3||W===4&&M===!0?"":""+M,F?d.setAttributeNS(F,h,M):d.setAttribute(h,M))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),H=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),P=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),C=Symbol.iterator;function O(d){return d===null||typeof d!="object"?null:(d=C&&d[C]||d["@@iterator"],typeof d=="function"?d:null)}var x=Object.assign,R;function _(d){if(R===void 0)try{throw Error()}catch(M){var h=M.stack.trim().match(/\n( *(at )?)/);R=h&&h[1]||""}return`
`+R+d}var k=!1;function U(d,h){if(!d||k)return"";k=!0;var M=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Be){var F=Be}Reflect.construct(d,[],h)}else{try{h.call()}catch(Be){F=Be}d.call(h.prototype)}else{try{throw Error()}catch(Be){F=Be}d()}}catch(Be){if(Be&&F&&typeof Be.stack=="string"){for(var W=Be.stack.split(`
`),J=F.stack.split(`
`),ae=W.length-1,ve=J.length-1;1<=ae&&0<=ve&&W[ae]!==J[ve];)ve--;for(;1<=ae&&0<=ve;ae--,ve--)if(W[ae]!==J[ve]){if(ae!==1||ve!==1)do if(ae--,ve--,0>ve||W[ae]!==J[ve]){var Se=`
`+W[ae].replace(" at new "," at ");return d.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",d.displayName)),Se}while(1<=ae&&0<=ve);break}}}finally{k=!1,Error.prepareStackTrace=M}return(d=d?d.displayName||d.name:"")?_(d):""}function q(d){switch(d.tag){case 5:return _(d.type);case 16:return _("Lazy");case 13:return _("Suspense");case 19:return _("SuspenseList");case 0:case 2:case 15:return d=U(d.type,!1),d;case 11:return d=U(d.type.render,!1),d;case 1:return d=U(d.type,!0),d;default:return""}}function V(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case K:return"Fragment";case H:return"Portal";case B:return"Profiler";case j:return"StrictMode";case b:return"Suspense";case g:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case P:return(d.displayName||"Context")+".Consumer";case D:return(d._context.displayName||"Context")+".Provider";case E:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case v:return h=d.displayName||null,h!==null?h:V(d.type)||"Memo";case A:h=d._payload,d=d._init;try{return V(d(h))}catch{}}return null}function Q(d){var h=d.type;switch(d.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=h.render,d=d.displayName||d.name||"",h.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(h);case 8:return h===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function Y(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function X(d){var h=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function ee(d){var h=X(d)?"checked":"value",M=Object.getOwnPropertyDescriptor(d.constructor.prototype,h),F=""+d[h];if(!d.hasOwnProperty(h)&&typeof M<"u"&&typeof M.get=="function"&&typeof M.set=="function"){var W=M.get,J=M.set;return Object.defineProperty(d,h,{configurable:!0,get:function(){return W.call(this)},set:function(ae){F=""+ae,J.call(this,ae)}}),Object.defineProperty(d,h,{enumerable:M.enumerable}),{getValue:function(){return F},setValue:function(ae){F=""+ae},stopTracking:function(){d._valueTracker=null,delete d[h]}}}}function ie(d){d._valueTracker||(d._valueTracker=ee(d))}function oe(d){if(!d)return!1;var h=d._valueTracker;if(!h)return!0;var M=h.getValue(),F="";return d&&(F=X(d)?d.checked?"true":"false":d.value),d=F,d!==M?(h.setValue(d),!0):!1}function te(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function se(d,h){var M=h.checked;return x({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:M??d._wrapperState.initialChecked})}function ue(d,h){var M=h.defaultValue==null?"":h.defaultValue,F=h.checked!=null?h.checked:h.defaultChecked;M=Y(h.value!=null?h.value:M),d._wrapperState={initialChecked:F,initialValue:M,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function me(d,h){h=h.checked,h!=null&&N(d,"checked",h,!1)}function ye(d,h){me(d,h);var M=Y(h.value),F=h.type;if(M!=null)F==="number"?(M===0&&d.value===""||d.value!=M)&&(d.value=""+M):d.value!==""+M&&(d.value=""+M);else if(F==="submit"||F==="reset"){d.removeAttribute("value");return}h.hasOwnProperty("value")?de(d,h.type,M):h.hasOwnProperty("defaultValue")&&de(d,h.type,Y(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(d.defaultChecked=!!h.defaultChecked)}function pe(d,h,M){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var F=h.type;if(!(F!=="submit"&&F!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+d._wrapperState.initialValue,M||h===d.value||(d.value=h),d.defaultValue=h}M=d.name,M!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,M!==""&&(d.name=M)}function de(d,h,M){(h!=="number"||te(d.ownerDocument)!==d)&&(M==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+M&&(d.defaultValue=""+M))}var Ee=Array.isArray;function Ce(d,h,M,F){if(d=d.options,h){h={};for(var W=0;W<M.length;W++)h["$"+M[W]]=!0;for(M=0;M<d.length;M++)W=h.hasOwnProperty("$"+d[M].value),d[M].selected!==W&&(d[M].selected=W),W&&F&&(d[M].defaultSelected=!0)}else{for(M=""+Y(M),h=null,W=0;W<d.length;W++){if(d[W].value===M){d[W].selected=!0,F&&(d[W].defaultSelected=!0);return}h!==null||d[W].disabled||(h=d[W])}h!==null&&(h.selected=!0)}}function we(d,h){if(h.dangerouslySetInnerHTML!=null)throw Error(n(91));return x({},h,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function $e(d,h){var M=h.value;if(M==null){if(M=h.children,h=h.defaultValue,M!=null){if(h!=null)throw Error(n(92));if(Ee(M)){if(1<M.length)throw Error(n(93));M=M[0]}h=M}h==null&&(h=""),M=h}d._wrapperState={initialValue:Y(M)}}function ze(d,h){var M=Y(h.value),F=Y(h.defaultValue);M!=null&&(M=""+M,M!==d.value&&(d.value=M),h.defaultValue==null&&d.defaultValue!==M&&(d.defaultValue=M)),F!=null&&(d.defaultValue=""+F)}function Ze(d){var h=d.textContent;h===d._wrapperState.initialValue&&h!==""&&h!==null&&(d.value=h)}function We(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ne(d,h){return d==null||d==="http://www.w3.org/1999/xhtml"?We(h):d==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var G,Z=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,M,F,W){MSApp.execUnsafeLocalFunction(function(){return d(h,M,F,W)})}:d}(function(d,h){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=h;else{for(G=G||document.createElement("div"),G.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=G.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;h.firstChild;)d.appendChild(h.firstChild)}});function ce(d,h){if(h){var M=d.firstChild;if(M&&M===d.lastChild&&M.nodeType===3){M.nodeValue=h;return}}d.textContent=h}var ge={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ae=["Webkit","ms","Moz","O"];Object.keys(ge).forEach(function(d){Ae.forEach(function(h){h=h+d.charAt(0).toUpperCase()+d.substring(1),ge[h]=ge[d]})});function Re(d,h,M){return h==null||typeof h=="boolean"||h===""?"":M||typeof h!="number"||h===0||ge.hasOwnProperty(d)&&ge[d]?(""+h).trim():h+"px"}function lt(d,h){d=d.style;for(var M in h)if(h.hasOwnProperty(M)){var F=M.indexOf("--")===0,W=Re(M,h[M],F);M==="float"&&(M="cssFloat"),F?d.setProperty(M,W):d[M]=W}}var Ct=x({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ot(d,h){if(h){if(Ct[d]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(n(137,d));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(n(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(n(61))}if(h.style!=null&&typeof h.style!="object")throw Error(n(62))}}function Ot(d,h){if(d.indexOf("-")===-1)return typeof h.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vt=null;function xt(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var hn=null,rn=null,Ve=null;function jt(d){if(d=Vh(d)){if(typeof hn!="function")throw Error(n(280));var h=d.stateNode;h&&(h=Bg(h),hn(d.stateNode,d.type,h))}}function Nt(d){rn?Ve?Ve.push(d):Ve=[d]:rn=d}function gt(){if(rn){var d=rn,h=Ve;if(Ve=rn=null,jt(d),h)for(d=0;d<h.length;d++)jt(h[d])}}function Mt(d,h){return d(h)}function le(){}var fe=!1;function He(d,h,M){if(fe)return d(h,M);fe=!0;try{return Mt(d,h,M)}finally{fe=!1,(rn!==null||Ve!==null)&&(le(),gt())}}function Ue(d,h){var M=d.stateNode;if(M===null)return null;var F=Bg(M);if(F===null)return null;M=F[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(F=!F.disabled)||(d=d.type,F=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!F;break e;default:d=!1}if(d)return null;if(M&&typeof M!="function")throw Error(n(231,h,typeof M));return M}var Ge=!1;if(a)try{var Pt={};Object.defineProperty(Pt,"passive",{get:function(){Ge=!0}}),window.addEventListener("test",Pt,Pt),window.removeEventListener("test",Pt,Pt)}catch{Ge=!1}function Jt(d,h,M,F,W,J,ae,ve,Se){var Be=Array.prototype.slice.call(arguments,3);try{h.apply(M,Be)}catch(tt){this.onError(tt)}}var Lt=!1,Qt=null,sn=!1,Kt=null,kn={onError:function(d){Lt=!0,Qt=d}};function Mn(d,h,M,F,W,J,ae,ve,Se){Lt=!1,Qt=null,Jt.apply(kn,arguments)}function Wt(d,h,M,F,W,J,ae,ve,Se){if(Mn.apply(this,arguments),Lt){if(Lt){var Be=Qt;Lt=!1,Qt=null}else throw Error(n(198));sn||(sn=!0,Kt=Be)}}function pn(d){var h=d,M=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,(h.flags&4098)!==0&&(M=h.return),d=h.return;while(d)}return h.tag===3?M:null}function on(d){if(d.tag===13){var h=d.memoizedState;if(h===null&&(d=d.alternate,d!==null&&(h=d.memoizedState)),h!==null)return h.dehydrated}return null}function wn(d){if(pn(d)!==d)throw Error(n(188))}function kr(d){var h=d.alternate;if(!h){if(h=pn(d),h===null)throw Error(n(188));return h!==d?null:d}for(var M=d,F=h;;){var W=M.return;if(W===null)break;var J=W.alternate;if(J===null){if(F=W.return,F!==null){M=F;continue}break}if(W.child===J.child){for(J=W.child;J;){if(J===M)return wn(W),d;if(J===F)return wn(W),h;J=J.sibling}throw Error(n(188))}if(M.return!==F.return)M=W,F=J;else{for(var ae=!1,ve=W.child;ve;){if(ve===M){ae=!0,M=W,F=J;break}if(ve===F){ae=!0,F=W,M=J;break}ve=ve.sibling}if(!ae){for(ve=J.child;ve;){if(ve===M){ae=!0,M=J,F=W;break}if(ve===F){ae=!0,F=J,M=W;break}ve=ve.sibling}if(!ae)throw Error(n(189))}}if(M.alternate!==F)throw Error(n(190))}if(M.tag!==3)throw Error(n(188));return M.stateNode.current===M?d:h}function sr(d){return d=kr(d),d!==null?Do(d):null}function Do(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var h=Do(d);if(h!==null)return h;d=d.sibling}return null}var jo=e.unstable_scheduleCallback,Pr=e.unstable_cancelCallback,hs=e.unstable_shouldYield,ps=e.unstable_requestPaint,An=e.unstable_now,gs=e.unstable_getCurrentPriorityLevel,yo=e.unstable_ImmediatePriority,Ri=e.unstable_UserBlockingPriority,Ki=e.unstable_NormalPriority,ms=e.unstable_LowPriority,Mr=e.unstable_IdlePriority,Wi=null,Sr=null;function vs(d){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(Wi,d,void 0,(d.current.flags&128)===128)}catch{}}var Vr=Math.clz32?Math.clz32:Nd,iu=Math.log,b1=Math.LN2;function Nd(d){return d>>>=0,d===0?32:31-(iu(d)/b1|0)|0}var Pd=64,Ks=4194304;function Nc(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function ou(d,h){var M=d.pendingLanes;if(M===0)return 0;var F=0,W=d.suspendedLanes,J=d.pingedLanes,ae=M&268435455;if(ae!==0){var ve=ae&~W;ve!==0?F=Nc(ve):(J&=ae,J!==0&&(F=Nc(J)))}else ae=M&~W,ae!==0?F=Nc(ae):J!==0&&(F=Nc(J));if(F===0)return 0;if(h!==0&&h!==F&&(h&W)===0&&(W=F&-F,J=h&-h,W>=J||W===16&&(J&4194240)!==0))return h;if((F&4)!==0&&(F|=M&16),h=d.entangledLanes,h!==0)for(d=d.entanglements,h&=F;0<h;)M=31-Vr(h),W=1<<M,F|=d[M],h&=~W;return F}function E1(d,h){switch(d){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x1(d,h){for(var M=d.suspendedLanes,F=d.pingedLanes,W=d.expirationTimes,J=d.pendingLanes;0<J;){var ae=31-Vr(J),ve=1<<ae,Se=W[ae];Se===-1?((ve&M)===0||(ve&F)!==0)&&(W[ae]=E1(ve,h)):Se<=h&&(d.expiredLanes|=ve),J&=~ve}}function Oh(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function xg(){var d=Pd;return Pd<<=1,(Pd&4194240)===0&&(Pd=64),d}function Ld(d){for(var h=[],M=0;31>M;M++)h.push(d);return h}function su(d,h,M){d.pendingLanes|=h,h!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,h=31-Vr(h),d[h]=M}function _1(d,h){var M=d.pendingLanes&~h;d.pendingLanes=h,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=h,d.mutableReadLanes&=h,d.entangledLanes&=h,h=d.entanglements;var F=d.eventTimes;for(d=d.expirationTimes;0<M;){var W=31-Vr(M),J=1<<W;h[W]=0,F[W]=-1,d[W]=-1,M&=~J}}function Bd(d,h){var M=d.entangledLanes|=h;for(d=d.entanglements;M;){var F=31-Vr(M),W=1<<F;W&h|d[F]&h&&(d[F]|=h),M&=~W}}var En=0;function Na(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var _g,Th,ys,Sg,Cg,Nh=!1,Dd=[],Ws=null,ci=null,ws=null,au=new Map,Vs=new Map,Gs=[],Ph="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ag(d,h){switch(d){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":au.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(h.pointerId)}}function Pc(d,h,M,F,W,J){return d===null||d.nativeEvent!==J?(d={blockedOn:h,domEventName:M,eventSystemFlags:F,nativeEvent:J,targetContainers:[W]},h!==null&&(h=Vh(h),h!==null&&Th(h)),d):(d.eventSystemFlags|=F,h=d.targetContainers,W!==null&&h.indexOf(W)===-1&&h.push(W),d)}function Ig(d,h,M,F,W){switch(h){case"focusin":return Ws=Pc(Ws,d,h,M,F,W),!0;case"dragenter":return ci=Pc(ci,d,h,M,F,W),!0;case"mouseover":return ws=Pc(ws,d,h,M,F,W),!0;case"pointerover":var J=W.pointerId;return au.set(J,Pc(au.get(J)||null,d,h,M,F,W)),!0;case"gotpointercapture":return J=W.pointerId,Vs.set(J,Pc(Vs.get(J)||null,d,h,M,F,W)),!0}return!1}function Lh(d){var h=uu(d.target);if(h!==null){var M=pn(h);if(M!==null){if(h=M.tag,h===13){if(h=on(M),h!==null){d.blockedOn=h,Cg(d.priority,function(){ys(M)});return}}else if(h===3&&M.stateNode.current.memoizedState.isDehydrated){d.blockedOn=M.tag===3?M.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Ys(d){if(d.blockedOn!==null)return!1;for(var h=d.targetContainers;0<h.length;){var M=zn(d.domEventName,d.eventSystemFlags,h[0],d.nativeEvent);if(M===null){M=d.nativeEvent;var F=new M.constructor(M.type,M);vt=F,M.target.dispatchEvent(F),vt=null}else return h=Vh(M),h!==null&&Th(h),d.blockedOn=M,!1;h.shift()}return!0}function Bh(d,h,M){Ys(d)&&M.delete(h)}function S1(){Nh=!1,Ws!==null&&Ys(Ws)&&(Ws=null),ci!==null&&Ys(ci)&&(ci=null),ws!==null&&Ys(ws)&&(ws=null),au.forEach(Bh),Vs.forEach(Bh)}function cu(d,h){d.blockedOn===h&&(d.blockedOn=null,Nh||(Nh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,S1)))}function lu(d){function h(W){return cu(W,d)}if(0<Dd.length){cu(Dd[0],d);for(var M=1;M<Dd.length;M++){var F=Dd[M];F.blockedOn===d&&(F.blockedOn=null)}}for(Ws!==null&&cu(Ws,d),ci!==null&&cu(ci,d),ws!==null&&cu(ws,d),au.forEach(h),Vs.forEach(h),M=0;M<Gs.length;M++)F=Gs[M],F.blockedOn===d&&(F.blockedOn=null);for(;0<Gs.length&&(M=Gs[0],M.blockedOn===null);)Lh(M),M.blockedOn===null&&Gs.shift()}var he=z.ReactCurrentBatchConfig,Me=!0;function Ye(d,h,M,F){var W=En,J=he.transition;he.transition=null;try{En=1,Nn(d,h,M,F)}finally{En=W,he.transition=J}}function wt(d,h,M,F){var W=En,J=he.transition;he.transition=null;try{En=4,Nn(d,h,M,F)}finally{En=W,he.transition=J}}function Nn(d,h,M,F){if(Me){var W=zn(d,h,M,F);if(W===null)j1(d,h,F,Zt,M),Ag(d,F);else if(Ig(W,d,h,M,F))F.stopPropagation();else if(Ag(d,F),h&4&&-1<Ph.indexOf(d)){for(;W!==null;){var J=Vh(W);if(J!==null&&_g(J),J=zn(d,h,M,F),J===null&&j1(d,h,F,Zt,M),J===W)break;W=J}W!==null&&F.stopPropagation()}else j1(d,h,F,null,M)}}var Zt=null;function zn(d,h,M,F){if(Zt=null,d=xt(F),d=uu(d),d!==null)if(h=pn(d),h===null)d=null;else if(M=h.tag,M===13){if(d=on(h),d!==null)return d;d=null}else if(M===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;d=null}else h!==d&&(d=null);return Zt=d,null}function gr(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gs()){case yo:return 1;case Ri:return 4;case Ki:case ms:return 16;case Mr:return 536870912;default:return 16}default:return 16}}var qn=null,Fn=null,Lr=null;function Vi(){if(Lr)return Lr;var d,h=Fn,M=h.length,F,W="value"in qn?qn.value:qn.textContent,J=W.length;for(d=0;d<M&&h[d]===W[d];d++);var ae=M-d;for(F=1;F<=ae&&h[M-F]===W[J-F];F++);return Lr=W.slice(d,1<F?1-F:void 0)}function mr(d){var h=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&h===13&&(d=13)):d=h,d===10&&(d=13),32<=d||d===13?d:0}function Gr(){return!0}function Oi(){return!1}function ar(d){function h(M,F,W,J,ae){this._reactName=M,this._targetInst=W,this.type=F,this.nativeEvent=J,this.target=ae,this.currentTarget=null;for(var ve in d)d.hasOwnProperty(ve)&&(M=d[ve],this[ve]=M?M(J):J[ve]);return this.isDefaultPrevented=(J.defaultPrevented!=null?J.defaultPrevented:J.returnValue===!1)?Gr:Oi,this.isPropagationStopped=Oi,this}return x(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var M=this.nativeEvent;M&&(M.preventDefault?M.preventDefault():typeof M.returnValue!="unknown"&&(M.returnValue=!1),this.isDefaultPrevented=Gr)},stopPropagation:function(){var M=this.nativeEvent;M&&(M.stopPropagation?M.stopPropagation():typeof M.cancelBubble!="unknown"&&(M.cancelBubble=!0),this.isPropagationStopped=Gr)},persist:function(){},isPersistent:Gr}),h}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bs=ar(li),Lc=x({},li,{view:0,detail:0}),jd=ar(Lc),Bc,C1,Dh,kg=x({},Lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:I1,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Dh&&(Dh&&d.type==="mousemove"?(Bc=d.screenX-Dh.screenX,C1=d.screenY-Dh.screenY):C1=Bc=0,Dh=d),Bc)},movementY:function(d){return"movementY"in d?d.movementY:C1}}),J4=ar(kg),y$=x({},kg,{dataTransfer:0}),w$=ar(y$),b$=x({},Lc,{relatedTarget:0}),A1=ar(b$),E$=x({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),x$=ar(E$),_$=x({},li,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),S$=ar(_$),C$=x({},li,{data:0}),Z4=ar(C$),A$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M$(d){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(d):(d=k$[d])?!!h[d]:!1}function I1(){return M$}var R$=x({},Lc,{key:function(d){if(d.key){var h=A$[d.key]||d.key;if(h!=="Unidentified")return h}return d.type==="keypress"?(d=mr(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?I$[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:I1,charCode:function(d){return d.type==="keypress"?mr(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?mr(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),O$=ar(R$),T$=x({},kg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X4=ar(T$),N$=x({},Lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:I1}),P$=ar(N$),L$=x({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),B$=ar(L$),D$=x({},kg,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),j$=ar(D$),$$=[9,13,27,32],k1=a&&"CompositionEvent"in window,jh=null;a&&"documentMode"in document&&(jh=document.documentMode);var F$=a&&"TextEvent"in window&&!jh,Q4=a&&(!k1||jh&&8<jh&&11>=jh),e6=" ",t6=!1;function n6(d,h){switch(d){case"keyup":return $$.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r6(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var $d=!1;function U$(d,h){switch(d){case"compositionend":return r6(h);case"keypress":return h.which!==32?null:(t6=!0,e6);case"textInput":return d=h.data,d===e6&&t6?null:d;default:return null}}function z$(d,h){if($d)return d==="compositionend"||!k1&&n6(d,h)?(d=Vi(),Lr=Fn=qn=null,$d=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Q4&&h.locale!=="ko"?null:h.data;default:return null}}var q$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function i6(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h==="input"?!!q$[d.type]:h==="textarea"}function o6(d,h,M,F){Nt(F),h=Ng(h,"onChange"),0<h.length&&(M=new bs("onChange","change",null,M,F),d.push({event:M,listeners:h}))}var $h=null,Fh=null;function H$(d){_6(d,0)}function Mg(d){var h=Hd(d);if(oe(h))return d}function K$(d,h){if(d==="change")return h}var s6=!1;if(a){var M1;if(a){var R1="oninput"in document;if(!R1){var a6=document.createElement("div");a6.setAttribute("oninput","return;"),R1=typeof a6.oninput=="function"}M1=R1}else M1=!1;s6=M1&&(!document.documentMode||9<document.documentMode)}function c6(){$h&&($h.detachEvent("onpropertychange",l6),Fh=$h=null)}function l6(d){if(d.propertyName==="value"&&Mg(Fh)){var h=[];o6(h,Fh,d,xt(d)),He(H$,h)}}function W$(d,h,M){d==="focusin"?(c6(),$h=h,Fh=M,$h.attachEvent("onpropertychange",l6)):d==="focusout"&&c6()}function V$(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Mg(Fh)}function G$(d,h){if(d==="click")return Mg(h)}function Y$(d,h){if(d==="input"||d==="change")return Mg(h)}function J$(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var Es=typeof Object.is=="function"?Object.is:J$;function Uh(d,h){if(Es(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var M=Object.keys(d),F=Object.keys(h);if(M.length!==F.length)return!1;for(F=0;F<M.length;F++){var W=M[F];if(!c.call(h,W)||!Es(d[W],h[W]))return!1}return!0}function u6(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function d6(d,h){var M=u6(d);d=0;for(var F;M;){if(M.nodeType===3){if(F=d+M.textContent.length,d<=h&&F>=h)return{node:M,offset:h-d};d=F}e:{for(;M;){if(M.nextSibling){M=M.nextSibling;break e}M=M.parentNode}M=void 0}M=u6(M)}}function f6(d,h){return d&&h?d===h?!0:d&&d.nodeType===3?!1:h&&h.nodeType===3?f6(d,h.parentNode):"contains"in d?d.contains(h):d.compareDocumentPosition?!!(d.compareDocumentPosition(h)&16):!1:!1}function h6(){for(var d=window,h=te();h instanceof d.HTMLIFrameElement;){try{var M=typeof h.contentWindow.location.href=="string"}catch{M=!1}if(M)d=h.contentWindow;else break;h=te(d.document)}return h}function O1(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h&&(h==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||h==="textarea"||d.contentEditable==="true")}function Z$(d){var h=h6(),M=d.focusedElem,F=d.selectionRange;if(h!==M&&M&&M.ownerDocument&&f6(M.ownerDocument.documentElement,M)){if(F!==null&&O1(M)){if(h=F.start,d=F.end,d===void 0&&(d=h),"selectionStart"in M)M.selectionStart=h,M.selectionEnd=Math.min(d,M.value.length);else if(d=(h=M.ownerDocument||document)&&h.defaultView||window,d.getSelection){d=d.getSelection();var W=M.textContent.length,J=Math.min(F.start,W);F=F.end===void 0?J:Math.min(F.end,W),!d.extend&&J>F&&(W=F,F=J,J=W),W=d6(M,J);var ae=d6(M,F);W&&ae&&(d.rangeCount!==1||d.anchorNode!==W.node||d.anchorOffset!==W.offset||d.focusNode!==ae.node||d.focusOffset!==ae.offset)&&(h=h.createRange(),h.setStart(W.node,W.offset),d.removeAllRanges(),J>F?(d.addRange(h),d.extend(ae.node,ae.offset)):(h.setEnd(ae.node,ae.offset),d.addRange(h)))}}for(h=[],d=M;d=d.parentNode;)d.nodeType===1&&h.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<h.length;M++)d=h[M],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var X$=a&&"documentMode"in document&&11>=document.documentMode,Fd=null,T1=null,zh=null,N1=!1;function p6(d,h,M){var F=M.window===M?M.document:M.nodeType===9?M:M.ownerDocument;N1||Fd==null||Fd!==te(F)||(F=Fd,"selectionStart"in F&&O1(F)?F={start:F.selectionStart,end:F.selectionEnd}:(F=(F.ownerDocument&&F.ownerDocument.defaultView||window).getSelection(),F={anchorNode:F.anchorNode,anchorOffset:F.anchorOffset,focusNode:F.focusNode,focusOffset:F.focusOffset}),zh&&Uh(zh,F)||(zh=F,F=Ng(T1,"onSelect"),0<F.length&&(h=new bs("onSelect","select",null,h,M),d.push({event:h,listeners:F}),h.target=Fd)))}function Rg(d,h){var M={};return M[d.toLowerCase()]=h.toLowerCase(),M["Webkit"+d]="webkit"+h,M["Moz"+d]="moz"+h,M}var Ud={animationend:Rg("Animation","AnimationEnd"),animationiteration:Rg("Animation","AnimationIteration"),animationstart:Rg("Animation","AnimationStart"),transitionend:Rg("Transition","TransitionEnd")},P1={},g6={};a&&(g6=document.createElement("div").style,"AnimationEvent"in window||(delete Ud.animationend.animation,delete Ud.animationiteration.animation,delete Ud.animationstart.animation),"TransitionEvent"in window||delete Ud.transitionend.transition);function Og(d){if(P1[d])return P1[d];if(!Ud[d])return d;var h=Ud[d],M;for(M in h)if(h.hasOwnProperty(M)&&M in g6)return P1[d]=h[M];return d}var m6=Og("animationend"),v6=Og("animationiteration"),y6=Og("animationstart"),w6=Og("transitionend"),b6=new Map,E6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dc(d,h){b6.set(d,h),o(h,[d])}for(var L1=0;L1<E6.length;L1++){var B1=E6[L1],Q$=B1.toLowerCase(),eF=B1[0].toUpperCase()+B1.slice(1);Dc(Q$,"on"+eF)}Dc(m6,"onAnimationEnd"),Dc(v6,"onAnimationIteration"),Dc(y6,"onAnimationStart"),Dc("dblclick","onDoubleClick"),Dc("focusin","onFocus"),Dc("focusout","onBlur"),Dc(w6,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tF=new Set("cancel close invalid load scroll toggle".split(" ").concat(qh));function x6(d,h,M){var F=d.type||"unknown-event";d.currentTarget=M,Wt(F,h,void 0,d),d.currentTarget=null}function _6(d,h){h=(h&4)!==0;for(var M=0;M<d.length;M++){var F=d[M],W=F.event;F=F.listeners;e:{var J=void 0;if(h)for(var ae=F.length-1;0<=ae;ae--){var ve=F[ae],Se=ve.instance,Be=ve.currentTarget;if(ve=ve.listener,Se!==J&&W.isPropagationStopped())break e;x6(W,ve,Be),J=Se}else for(ae=0;ae<F.length;ae++){if(ve=F[ae],Se=ve.instance,Be=ve.currentTarget,ve=ve.listener,Se!==J&&W.isPropagationStopped())break e;x6(W,ve,Be),J=Se}}}if(sn)throw d=Kt,sn=!1,Kt=null,d}function Gn(d,h){var M=h[H1];M===void 0&&(M=h[H1]=new Set);var F=d+"__bubble";M.has(F)||(S6(h,d,2,!1),M.add(F))}function D1(d,h,M){var F=0;h&&(F|=4),S6(M,d,F,h)}var Tg="_reactListening"+Math.random().toString(36).slice(2);function Hh(d){if(!d[Tg]){d[Tg]=!0,r.forEach(function(M){M!=="selectionchange"&&(tF.has(M)||D1(M,!1,d),D1(M,!0,d))});var h=d.nodeType===9?d:d.ownerDocument;h===null||h[Tg]||(h[Tg]=!0,D1("selectionchange",!1,h))}}function S6(d,h,M,F){switch(gr(h)){case 1:var W=Ye;break;case 4:W=wt;break;default:W=Nn}M=W.bind(null,h,M,d),W=void 0,!Ge||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(W=!0),F?W!==void 0?d.addEventListener(h,M,{capture:!0,passive:W}):d.addEventListener(h,M,!0):W!==void 0?d.addEventListener(h,M,{passive:W}):d.addEventListener(h,M,!1)}function j1(d,h,M,F,W){var J=F;if((h&1)===0&&(h&2)===0&&F!==null)e:for(;;){if(F===null)return;var ae=F.tag;if(ae===3||ae===4){var ve=F.stateNode.containerInfo;if(ve===W||ve.nodeType===8&&ve.parentNode===W)break;if(ae===4)for(ae=F.return;ae!==null;){var Se=ae.tag;if((Se===3||Se===4)&&(Se=ae.stateNode.containerInfo,Se===W||Se.nodeType===8&&Se.parentNode===W))return;ae=ae.return}for(;ve!==null;){if(ae=uu(ve),ae===null)return;if(Se=ae.tag,Se===5||Se===6){F=J=ae;continue e}ve=ve.parentNode}}F=F.return}He(function(){var Be=J,tt=xt(M),rt=[];e:{var Qe=b6.get(d);if(Qe!==void 0){var yt=bs,At=d;switch(d){case"keypress":if(mr(M)===0)break e;case"keydown":case"keyup":yt=O$;break;case"focusin":At="focus",yt=A1;break;case"focusout":At="blur",yt=A1;break;case"beforeblur":case"afterblur":yt=A1;break;case"click":if(M.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":yt=J4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":yt=w$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":yt=P$;break;case m6:case v6:case y6:yt=x$;break;case w6:yt=B$;break;case"scroll":yt=jd;break;case"wheel":yt=j$;break;case"copy":case"cut":case"paste":yt=S$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":yt=X4}var Rt=(h&4)!==0,vr=!Rt&&d==="scroll",Oe=Rt?Qe!==null?Qe+"Capture":null:Qe;Rt=[];for(var Ie=Be,Ne;Ie!==null;){Ne=Ie;var st=Ne.stateNode;if(Ne.tag===5&&st!==null&&(Ne=st,Oe!==null&&(st=Ue(Ie,Oe),st!=null&&Rt.push(Kh(Ie,st,Ne)))),vr)break;Ie=Ie.return}0<Rt.length&&(Qe=new yt(Qe,At,null,M,tt),rt.push({event:Qe,listeners:Rt}))}}if((h&7)===0){e:{if(Qe=d==="mouseover"||d==="pointerover",yt=d==="mouseout"||d==="pointerout",Qe&&M!==vt&&(At=M.relatedTarget||M.fromElement)&&(uu(At)||At[Pa]))break e;if((yt||Qe)&&(Qe=tt.window===tt?tt:(Qe=tt.ownerDocument)?Qe.defaultView||Qe.parentWindow:window,yt?(At=M.relatedTarget||M.toElement,yt=Be,At=At?uu(At):null,At!==null&&(vr=pn(At),At!==vr||At.tag!==5&&At.tag!==6)&&(At=null)):(yt=null,At=Be),yt!==At)){if(Rt=J4,st="onMouseLeave",Oe="onMouseEnter",Ie="mouse",(d==="pointerout"||d==="pointerover")&&(Rt=X4,st="onPointerLeave",Oe="onPointerEnter",Ie="pointer"),vr=yt==null?Qe:Hd(yt),Ne=At==null?Qe:Hd(At),Qe=new Rt(st,Ie+"leave",yt,M,tt),Qe.target=vr,Qe.relatedTarget=Ne,st=null,uu(tt)===Be&&(Rt=new Rt(Oe,Ie+"enter",At,M,tt),Rt.target=Ne,Rt.relatedTarget=vr,st=Rt),vr=st,yt&&At)t:{for(Rt=yt,Oe=At,Ie=0,Ne=Rt;Ne;Ne=zd(Ne))Ie++;for(Ne=0,st=Oe;st;st=zd(st))Ne++;for(;0<Ie-Ne;)Rt=zd(Rt),Ie--;for(;0<Ne-Ie;)Oe=zd(Oe),Ne--;for(;Ie--;){if(Rt===Oe||Oe!==null&&Rt===Oe.alternate)break t;Rt=zd(Rt),Oe=zd(Oe)}Rt=null}else Rt=null;yt!==null&&C6(rt,Qe,yt,Rt,!1),At!==null&&vr!==null&&C6(rt,vr,At,Rt,!0)}}e:{if(Qe=Be?Hd(Be):window,yt=Qe.nodeName&&Qe.nodeName.toLowerCase(),yt==="select"||yt==="input"&&Qe.type==="file")var Tt=K$;else if(i6(Qe))if(s6)Tt=Y$;else{Tt=V$;var qt=W$}else(yt=Qe.nodeName)&&yt.toLowerCase()==="input"&&(Qe.type==="checkbox"||Qe.type==="radio")&&(Tt=G$);if(Tt&&(Tt=Tt(d,Be))){o6(rt,Tt,M,tt);break e}qt&&qt(d,Qe,Be),d==="focusout"&&(qt=Qe._wrapperState)&&qt.controlled&&Qe.type==="number"&&de(Qe,"number",Qe.value)}switch(qt=Be?Hd(Be):window,d){case"focusin":(i6(qt)||qt.contentEditable==="true")&&(Fd=qt,T1=Be,zh=null);break;case"focusout":zh=T1=Fd=null;break;case"mousedown":N1=!0;break;case"contextmenu":case"mouseup":case"dragend":N1=!1,p6(rt,M,tt);break;case"selectionchange":if(X$)break;case"keydown":case"keyup":p6(rt,M,tt)}var Ht;if(k1)e:{switch(d){case"compositionstart":var Yt="onCompositionStart";break e;case"compositionend":Yt="onCompositionEnd";break e;case"compositionupdate":Yt="onCompositionUpdate";break e}Yt=void 0}else $d?n6(d,M)&&(Yt="onCompositionEnd"):d==="keydown"&&M.keyCode===229&&(Yt="onCompositionStart");Yt&&(Q4&&M.locale!=="ko"&&($d||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&$d&&(Ht=Vi()):(qn=tt,Fn="value"in qn?qn.value:qn.textContent,$d=!0)),qt=Ng(Be,Yt),0<qt.length&&(Yt=new Z4(Yt,d,null,M,tt),rt.push({event:Yt,listeners:qt}),Ht?Yt.data=Ht:(Ht=r6(M),Ht!==null&&(Yt.data=Ht)))),(Ht=F$?U$(d,M):z$(d,M))&&(Be=Ng(Be,"onBeforeInput"),0<Be.length&&(tt=new Z4("onBeforeInput","beforeinput",null,M,tt),rt.push({event:tt,listeners:Be}),tt.data=Ht))}_6(rt,h)})}function Kh(d,h,M){return{instance:d,listener:h,currentTarget:M}}function Ng(d,h){for(var M=h+"Capture",F=[];d!==null;){var W=d,J=W.stateNode;W.tag===5&&J!==null&&(W=J,J=Ue(d,M),J!=null&&F.unshift(Kh(d,J,W)),J=Ue(d,h),J!=null&&F.push(Kh(d,J,W))),d=d.return}return F}function zd(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function C6(d,h,M,F,W){for(var J=h._reactName,ae=[];M!==null&&M!==F;){var ve=M,Se=ve.alternate,Be=ve.stateNode;if(Se!==null&&Se===F)break;ve.tag===5&&Be!==null&&(ve=Be,W?(Se=Ue(M,J),Se!=null&&ae.unshift(Kh(M,Se,ve))):W||(Se=Ue(M,J),Se!=null&&ae.push(Kh(M,Se,ve)))),M=M.return}ae.length!==0&&d.push({event:h,listeners:ae})}var nF=/\r\n?/g,rF=/\u0000|\uFFFD/g;function A6(d){return(typeof d=="string"?d:""+d).replace(nF,`
`).replace(rF,"")}function Pg(d,h,M){if(h=A6(h),A6(d)!==h&&M)throw Error(n(425))}function Lg(){}var $1=null,F1=null;function U1(d,h){return d==="textarea"||d==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var z1=typeof setTimeout=="function"?setTimeout:void 0,iF=typeof clearTimeout=="function"?clearTimeout:void 0,I6=typeof Promise=="function"?Promise:void 0,oF=typeof queueMicrotask=="function"?queueMicrotask:typeof I6<"u"?function(d){return I6.resolve(null).then(d).catch(sF)}:z1;function sF(d){setTimeout(function(){throw d})}function q1(d,h){var M=h,F=0;do{var W=M.nextSibling;if(d.removeChild(M),W&&W.nodeType===8)if(M=W.data,M==="/$"){if(F===0){d.removeChild(W),lu(h);return}F--}else M!=="$"&&M!=="$?"&&M!=="$!"||F++;M=W}while(M);lu(h)}function jc(d){for(;d!=null;d=d.nextSibling){var h=d.nodeType;if(h===1||h===3)break;if(h===8){if(h=d.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return d}function k6(d){d=d.previousSibling;for(var h=0;d;){if(d.nodeType===8){var M=d.data;if(M==="$"||M==="$!"||M==="$?"){if(h===0)return d;h--}else M==="/$"&&h++}d=d.previousSibling}return null}var qd=Math.random().toString(36).slice(2),Js="__reactFiber$"+qd,Wh="__reactProps$"+qd,Pa="__reactContainer$"+qd,H1="__reactEvents$"+qd,aF="__reactListeners$"+qd,cF="__reactHandles$"+qd;function uu(d){var h=d[Js];if(h)return h;for(var M=d.parentNode;M;){if(h=M[Pa]||M[Js]){if(M=h.alternate,h.child!==null||M!==null&&M.child!==null)for(d=k6(d);d!==null;){if(M=d[Js])return M;d=k6(d)}return h}d=M,M=d.parentNode}return null}function Vh(d){return d=d[Js]||d[Pa],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function Hd(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(n(33))}function Bg(d){return d[Wh]||null}var K1=[],Kd=-1;function $c(d){return{current:d}}function Yn(d){0>Kd||(d.current=K1[Kd],K1[Kd]=null,Kd--)}function Hn(d,h){Kd++,K1[Kd]=d.current,d.current=h}var Fc={},ui=$c(Fc),Gi=$c(!1),du=Fc;function Wd(d,h){var M=d.type.contextTypes;if(!M)return Fc;var F=d.stateNode;if(F&&F.__reactInternalMemoizedUnmaskedChildContext===h)return F.__reactInternalMemoizedMaskedChildContext;var W={},J;for(J in M)W[J]=h[J];return F&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=h,d.__reactInternalMemoizedMaskedChildContext=W),W}function Yi(d){return d=d.childContextTypes,d!=null}function Dg(){Yn(Gi),Yn(ui)}function M6(d,h,M){if(ui.current!==Fc)throw Error(n(168));Hn(ui,h),Hn(Gi,M)}function R6(d,h,M){var F=d.stateNode;if(h=h.childContextTypes,typeof F.getChildContext!="function")return M;F=F.getChildContext();for(var W in F)if(!(W in h))throw Error(n(108,Q(d)||"Unknown",W));return x({},M,F)}function jg(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Fc,du=ui.current,Hn(ui,d),Hn(Gi,Gi.current),!0}function O6(d,h,M){var F=d.stateNode;if(!F)throw Error(n(169));M?(d=R6(d,h,du),F.__reactInternalMemoizedMergedChildContext=d,Yn(Gi),Yn(ui),Hn(ui,d)):Yn(Gi),Hn(Gi,M)}var La=null,$g=!1,W1=!1;function T6(d){La===null?La=[d]:La.push(d)}function lF(d){$g=!0,T6(d)}function Uc(){if(!W1&&La!==null){W1=!0;var d=0,h=En;try{var M=La;for(En=1;d<M.length;d++){var F=M[d];do F=F(!0);while(F!==null)}La=null,$g=!1}catch(W){throw La!==null&&(La=La.slice(d+1)),jo(yo,Uc),W}finally{En=h,W1=!1}}return null}var Vd=[],Gd=0,Fg=null,Ug=0,$o=[],Fo=0,fu=null,Ba=1,Da="";function hu(d,h){Vd[Gd++]=Ug,Vd[Gd++]=Fg,Fg=d,Ug=h}function N6(d,h,M){$o[Fo++]=Ba,$o[Fo++]=Da,$o[Fo++]=fu,fu=d;var F=Ba;d=Da;var W=32-Vr(F)-1;F&=~(1<<W),M+=1;var J=32-Vr(h)+W;if(30<J){var ae=W-W%5;J=(F&(1<<ae)-1).toString(32),F>>=ae,W-=ae,Ba=1<<32-Vr(h)+W|M<<W|F,Da=J+d}else Ba=1<<J|M<<W|F,Da=d}function V1(d){d.return!==null&&(hu(d,1),N6(d,1,0))}function G1(d){for(;d===Fg;)Fg=Vd[--Gd],Vd[Gd]=null,Ug=Vd[--Gd],Vd[Gd]=null;for(;d===fu;)fu=$o[--Fo],$o[Fo]=null,Da=$o[--Fo],$o[Fo]=null,Ba=$o[--Fo],$o[Fo]=null}var wo=null,bo=null,Jn=!1,xs=null;function P6(d,h){var M=Ho(5,null,null,0);M.elementType="DELETED",M.stateNode=h,M.return=d,h=d.deletions,h===null?(d.deletions=[M],d.flags|=16):h.push(M)}function L6(d,h){switch(d.tag){case 5:var M=d.type;return h=h.nodeType!==1||M.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(d.stateNode=h,wo=d,bo=jc(h.firstChild),!0):!1;case 6:return h=d.pendingProps===""||h.nodeType!==3?null:h,h!==null?(d.stateNode=h,wo=d,bo=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(M=fu!==null?{id:Ba,overflow:Da}:null,d.memoizedState={dehydrated:h,treeContext:M,retryLane:1073741824},M=Ho(18,null,null,0),M.stateNode=h,M.return=d,d.child=M,wo=d,bo=null,!0):!1;default:return!1}}function Y1(d){return(d.mode&1)!==0&&(d.flags&128)===0}function J1(d){if(Jn){var h=bo;if(h){var M=h;if(!L6(d,h)){if(Y1(d))throw Error(n(418));h=jc(M.nextSibling);var F=wo;h&&L6(d,h)?P6(F,M):(d.flags=d.flags&-4097|2,Jn=!1,wo=d)}}else{if(Y1(d))throw Error(n(418));d.flags=d.flags&-4097|2,Jn=!1,wo=d}}}function B6(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;wo=d}function zg(d){if(d!==wo)return!1;if(!Jn)return B6(d),Jn=!0,!1;var h;if((h=d.tag!==3)&&!(h=d.tag!==5)&&(h=d.type,h=h!=="head"&&h!=="body"&&!U1(d.type,d.memoizedProps)),h&&(h=bo)){if(Y1(d))throw D6(),Error(n(418));for(;h;)P6(d,h),h=jc(h.nextSibling)}if(B6(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));e:{for(d=d.nextSibling,h=0;d;){if(d.nodeType===8){var M=d.data;if(M==="/$"){if(h===0){bo=jc(d.nextSibling);break e}h--}else M!=="$"&&M!=="$!"&&M!=="$?"||h++}d=d.nextSibling}bo=null}}else bo=wo?jc(d.stateNode.nextSibling):null;return!0}function D6(){for(var d=bo;d;)d=jc(d.nextSibling)}function Yd(){bo=wo=null,Jn=!1}function Z1(d){xs===null?xs=[d]:xs.push(d)}var uF=z.ReactCurrentBatchConfig;function Gh(d,h,M){if(d=M.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(M._owner){if(M=M._owner,M){if(M.tag!==1)throw Error(n(309));var F=M.stateNode}if(!F)throw Error(n(147,d));var W=F,J=""+d;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===J?h.ref:(h=function(ae){var ve=W.refs;ae===null?delete ve[J]:ve[J]=ae},h._stringRef=J,h)}if(typeof d!="string")throw Error(n(284));if(!M._owner)throw Error(n(290,d))}return d}function qg(d,h){throw d=Object.prototype.toString.call(h),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d))}function j6(d){var h=d._init;return h(d._payload)}function $6(d){function h(Oe,Ie){if(d){var Ne=Oe.deletions;Ne===null?(Oe.deletions=[Ie],Oe.flags|=16):Ne.push(Ie)}}function M(Oe,Ie){if(!d)return null;for(;Ie!==null;)h(Oe,Ie),Ie=Ie.sibling;return null}function F(Oe,Ie){for(Oe=new Map;Ie!==null;)Ie.key!==null?Oe.set(Ie.key,Ie):Oe.set(Ie.index,Ie),Ie=Ie.sibling;return Oe}function W(Oe,Ie){return Oe=Yc(Oe,Ie),Oe.index=0,Oe.sibling=null,Oe}function J(Oe,Ie,Ne){return Oe.index=Ne,d?(Ne=Oe.alternate,Ne!==null?(Ne=Ne.index,Ne<Ie?(Oe.flags|=2,Ie):Ne):(Oe.flags|=2,Ie)):(Oe.flags|=1048576,Ie)}function ae(Oe){return d&&Oe.alternate===null&&(Oe.flags|=2),Oe}function ve(Oe,Ie,Ne,st){return Ie===null||Ie.tag!==6?(Ie=zb(Ne,Oe.mode,st),Ie.return=Oe,Ie):(Ie=W(Ie,Ne),Ie.return=Oe,Ie)}function Se(Oe,Ie,Ne,st){var Tt=Ne.type;return Tt===K?tt(Oe,Ie,Ne.props.children,st,Ne.key):Ie!==null&&(Ie.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===A&&j6(Tt)===Ie.type)?(st=W(Ie,Ne.props),st.ref=Gh(Oe,Ie,Ne),st.return=Oe,st):(st=hm(Ne.type,Ne.key,Ne.props,null,Oe.mode,st),st.ref=Gh(Oe,Ie,Ne),st.return=Oe,st)}function Be(Oe,Ie,Ne,st){return Ie===null||Ie.tag!==4||Ie.stateNode.containerInfo!==Ne.containerInfo||Ie.stateNode.implementation!==Ne.implementation?(Ie=qb(Ne,Oe.mode,st),Ie.return=Oe,Ie):(Ie=W(Ie,Ne.children||[]),Ie.return=Oe,Ie)}function tt(Oe,Ie,Ne,st,Tt){return Ie===null||Ie.tag!==7?(Ie=Eu(Ne,Oe.mode,st,Tt),Ie.return=Oe,Ie):(Ie=W(Ie,Ne),Ie.return=Oe,Ie)}function rt(Oe,Ie,Ne){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return Ie=zb(""+Ie,Oe.mode,Ne),Ie.return=Oe,Ie;if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case $:return Ne=hm(Ie.type,Ie.key,Ie.props,null,Oe.mode,Ne),Ne.ref=Gh(Oe,null,Ie),Ne.return=Oe,Ne;case H:return Ie=qb(Ie,Oe.mode,Ne),Ie.return=Oe,Ie;case A:var st=Ie._init;return rt(Oe,st(Ie._payload),Ne)}if(Ee(Ie)||O(Ie))return Ie=Eu(Ie,Oe.mode,Ne,null),Ie.return=Oe,Ie;qg(Oe,Ie)}return null}function Qe(Oe,Ie,Ne,st){var Tt=Ie!==null?Ie.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return Tt!==null?null:ve(Oe,Ie,""+Ne,st);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case $:return Ne.key===Tt?Se(Oe,Ie,Ne,st):null;case H:return Ne.key===Tt?Be(Oe,Ie,Ne,st):null;case A:return Tt=Ne._init,Qe(Oe,Ie,Tt(Ne._payload),st)}if(Ee(Ne)||O(Ne))return Tt!==null?null:tt(Oe,Ie,Ne,st,null);qg(Oe,Ne)}return null}function yt(Oe,Ie,Ne,st,Tt){if(typeof st=="string"&&st!==""||typeof st=="number")return Oe=Oe.get(Ne)||null,ve(Ie,Oe,""+st,Tt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case $:return Oe=Oe.get(st.key===null?Ne:st.key)||null,Se(Ie,Oe,st,Tt);case H:return Oe=Oe.get(st.key===null?Ne:st.key)||null,Be(Ie,Oe,st,Tt);case A:var qt=st._init;return yt(Oe,Ie,Ne,qt(st._payload),Tt)}if(Ee(st)||O(st))return Oe=Oe.get(Ne)||null,tt(Ie,Oe,st,Tt,null);qg(Ie,st)}return null}function At(Oe,Ie,Ne,st){for(var Tt=null,qt=null,Ht=Ie,Yt=Ie=0,jr=null;Ht!==null&&Yt<Ne.length;Yt++){Ht.index>Yt?(jr=Ht,Ht=null):jr=Ht.sibling;var Cn=Qe(Oe,Ht,Ne[Yt],st);if(Cn===null){Ht===null&&(Ht=jr);break}d&&Ht&&Cn.alternate===null&&h(Oe,Ht),Ie=J(Cn,Ie,Yt),qt===null?Tt=Cn:qt.sibling=Cn,qt=Cn,Ht=jr}if(Yt===Ne.length)return M(Oe,Ht),Jn&&hu(Oe,Yt),Tt;if(Ht===null){for(;Yt<Ne.length;Yt++)Ht=rt(Oe,Ne[Yt],st),Ht!==null&&(Ie=J(Ht,Ie,Yt),qt===null?Tt=Ht:qt.sibling=Ht,qt=Ht);return Jn&&hu(Oe,Yt),Tt}for(Ht=F(Oe,Ht);Yt<Ne.length;Yt++)jr=yt(Ht,Oe,Yt,Ne[Yt],st),jr!==null&&(d&&jr.alternate!==null&&Ht.delete(jr.key===null?Yt:jr.key),Ie=J(jr,Ie,Yt),qt===null?Tt=jr:qt.sibling=jr,qt=jr);return d&&Ht.forEach(function(Jc){return h(Oe,Jc)}),Jn&&hu(Oe,Yt),Tt}function Rt(Oe,Ie,Ne,st){var Tt=O(Ne);if(typeof Tt!="function")throw Error(n(150));if(Ne=Tt.call(Ne),Ne==null)throw Error(n(151));for(var qt=Tt=null,Ht=Ie,Yt=Ie=0,jr=null,Cn=Ne.next();Ht!==null&&!Cn.done;Yt++,Cn=Ne.next()){Ht.index>Yt?(jr=Ht,Ht=null):jr=Ht.sibling;var Jc=Qe(Oe,Ht,Cn.value,st);if(Jc===null){Ht===null&&(Ht=jr);break}d&&Ht&&Jc.alternate===null&&h(Oe,Ht),Ie=J(Jc,Ie,Yt),qt===null?Tt=Jc:qt.sibling=Jc,qt=Jc,Ht=jr}if(Cn.done)return M(Oe,Ht),Jn&&hu(Oe,Yt),Tt;if(Ht===null){for(;!Cn.done;Yt++,Cn=Ne.next())Cn=rt(Oe,Cn.value,st),Cn!==null&&(Ie=J(Cn,Ie,Yt),qt===null?Tt=Cn:qt.sibling=Cn,qt=Cn);return Jn&&hu(Oe,Yt),Tt}for(Ht=F(Oe,Ht);!Cn.done;Yt++,Cn=Ne.next())Cn=yt(Ht,Oe,Yt,Cn.value,st),Cn!==null&&(d&&Cn.alternate!==null&&Ht.delete(Cn.key===null?Yt:Cn.key),Ie=J(Cn,Ie,Yt),qt===null?Tt=Cn:qt.sibling=Cn,qt=Cn);return d&&Ht.forEach(function(qF){return h(Oe,qF)}),Jn&&hu(Oe,Yt),Tt}function vr(Oe,Ie,Ne,st){if(typeof Ne=="object"&&Ne!==null&&Ne.type===K&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case $:e:{for(var Tt=Ne.key,qt=Ie;qt!==null;){if(qt.key===Tt){if(Tt=Ne.type,Tt===K){if(qt.tag===7){M(Oe,qt.sibling),Ie=W(qt,Ne.props.children),Ie.return=Oe,Oe=Ie;break e}}else if(qt.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===A&&j6(Tt)===qt.type){M(Oe,qt.sibling),Ie=W(qt,Ne.props),Ie.ref=Gh(Oe,qt,Ne),Ie.return=Oe,Oe=Ie;break e}M(Oe,qt);break}else h(Oe,qt);qt=qt.sibling}Ne.type===K?(Ie=Eu(Ne.props.children,Oe.mode,st,Ne.key),Ie.return=Oe,Oe=Ie):(st=hm(Ne.type,Ne.key,Ne.props,null,Oe.mode,st),st.ref=Gh(Oe,Ie,Ne),st.return=Oe,Oe=st)}return ae(Oe);case H:e:{for(qt=Ne.key;Ie!==null;){if(Ie.key===qt)if(Ie.tag===4&&Ie.stateNode.containerInfo===Ne.containerInfo&&Ie.stateNode.implementation===Ne.implementation){M(Oe,Ie.sibling),Ie=W(Ie,Ne.children||[]),Ie.return=Oe,Oe=Ie;break e}else{M(Oe,Ie);break}else h(Oe,Ie);Ie=Ie.sibling}Ie=qb(Ne,Oe.mode,st),Ie.return=Oe,Oe=Ie}return ae(Oe);case A:return qt=Ne._init,vr(Oe,Ie,qt(Ne._payload),st)}if(Ee(Ne))return At(Oe,Ie,Ne,st);if(O(Ne))return Rt(Oe,Ie,Ne,st);qg(Oe,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"?(Ne=""+Ne,Ie!==null&&Ie.tag===6?(M(Oe,Ie.sibling),Ie=W(Ie,Ne),Ie.return=Oe,Oe=Ie):(M(Oe,Ie),Ie=zb(Ne,Oe.mode,st),Ie.return=Oe,Oe=Ie),ae(Oe)):M(Oe,Ie)}return vr}var Jd=$6(!0),F6=$6(!1),Hg=$c(null),Kg=null,Zd=null,X1=null;function Q1(){X1=Zd=Kg=null}function eb(d){var h=Hg.current;Yn(Hg),d._currentValue=h}function tb(d,h,M){for(;d!==null;){var F=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,F!==null&&(F.childLanes|=h)):F!==null&&(F.childLanes&h)!==h&&(F.childLanes|=h),d===M)break;d=d.return}}function Xd(d,h){Kg=d,X1=Zd=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&h)!==0&&(Ji=!0),d.firstContext=null)}function Uo(d){var h=d._currentValue;if(X1!==d)if(d={context:d,memoizedValue:h,next:null},Zd===null){if(Kg===null)throw Error(n(308));Zd=d,Kg.dependencies={lanes:0,firstContext:d}}else Zd=Zd.next=d;return h}var pu=null;function nb(d){pu===null?pu=[d]:pu.push(d)}function U6(d,h,M,F){var W=h.interleaved;return W===null?(M.next=M,nb(h)):(M.next=W.next,W.next=M),h.interleaved=M,ja(d,F)}function ja(d,h){d.lanes|=h;var M=d.alternate;for(M!==null&&(M.lanes|=h),M=d,d=d.return;d!==null;)d.childLanes|=h,M=d.alternate,M!==null&&(M.childLanes|=h),M=d,d=d.return;return M.tag===3?M.stateNode:null}var zc=!1;function rb(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z6(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function $a(d,h){return{eventTime:d,lane:h,tag:0,payload:null,callback:null,next:null}}function qc(d,h,M){var F=d.updateQueue;if(F===null)return null;if(F=F.shared,(_n&2)!==0){var W=F.pending;return W===null?h.next=h:(h.next=W.next,W.next=h),F.pending=h,ja(d,M)}return W=F.interleaved,W===null?(h.next=h,nb(F)):(h.next=W.next,W.next=h),F.interleaved=h,ja(d,M)}function Wg(d,h,M){if(h=h.updateQueue,h!==null&&(h=h.shared,(M&4194240)!==0)){var F=h.lanes;F&=d.pendingLanes,M|=F,h.lanes=M,Bd(d,M)}}function q6(d,h){var M=d.updateQueue,F=d.alternate;if(F!==null&&(F=F.updateQueue,M===F)){var W=null,J=null;if(M=M.firstBaseUpdate,M!==null){do{var ae={eventTime:M.eventTime,lane:M.lane,tag:M.tag,payload:M.payload,callback:M.callback,next:null};J===null?W=J=ae:J=J.next=ae,M=M.next}while(M!==null);J===null?W=J=h:J=J.next=h}else W=J=h;M={baseState:F.baseState,firstBaseUpdate:W,lastBaseUpdate:J,shared:F.shared,effects:F.effects},d.updateQueue=M;return}d=M.lastBaseUpdate,d===null?M.firstBaseUpdate=h:d.next=h,M.lastBaseUpdate=h}function Vg(d,h,M,F){var W=d.updateQueue;zc=!1;var J=W.firstBaseUpdate,ae=W.lastBaseUpdate,ve=W.shared.pending;if(ve!==null){W.shared.pending=null;var Se=ve,Be=Se.next;Se.next=null,ae===null?J=Be:ae.next=Be,ae=Se;var tt=d.alternate;tt!==null&&(tt=tt.updateQueue,ve=tt.lastBaseUpdate,ve!==ae&&(ve===null?tt.firstBaseUpdate=Be:ve.next=Be,tt.lastBaseUpdate=Se))}if(J!==null){var rt=W.baseState;ae=0,tt=Be=Se=null,ve=J;do{var Qe=ve.lane,yt=ve.eventTime;if((F&Qe)===Qe){tt!==null&&(tt=tt.next={eventTime:yt,lane:0,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null});e:{var At=d,Rt=ve;switch(Qe=h,yt=M,Rt.tag){case 1:if(At=Rt.payload,typeof At=="function"){rt=At.call(yt,rt,Qe);break e}rt=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=Rt.payload,Qe=typeof At=="function"?At.call(yt,rt,Qe):At,Qe==null)break e;rt=x({},rt,Qe);break e;case 2:zc=!0}}ve.callback!==null&&ve.lane!==0&&(d.flags|=64,Qe=W.effects,Qe===null?W.effects=[ve]:Qe.push(ve))}else yt={eventTime:yt,lane:Qe,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},tt===null?(Be=tt=yt,Se=rt):tt=tt.next=yt,ae|=Qe;if(ve=ve.next,ve===null){if(ve=W.shared.pending,ve===null)break;Qe=ve,ve=Qe.next,Qe.next=null,W.lastBaseUpdate=Qe,W.shared.pending=null}}while(!0);if(tt===null&&(Se=rt),W.baseState=Se,W.firstBaseUpdate=Be,W.lastBaseUpdate=tt,h=W.shared.interleaved,h!==null){W=h;do ae|=W.lane,W=W.next;while(W!==h)}else J===null&&(W.shared.lanes=0);vu|=ae,d.lanes=ae,d.memoizedState=rt}}function H6(d,h,M){if(d=h.effects,h.effects=null,d!==null)for(h=0;h<d.length;h++){var F=d[h],W=F.callback;if(W!==null){if(F.callback=null,F=M,typeof W!="function")throw Error(n(191,W));W.call(F)}}}var Yh={},Zs=$c(Yh),Jh=$c(Yh),Zh=$c(Yh);function gu(d){if(d===Yh)throw Error(n(174));return d}function ib(d,h){switch(Hn(Zh,h),Hn(Jh,d),Hn(Zs,Yh),d=h.nodeType,d){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:ne(null,"");break;default:d=d===8?h.parentNode:h,h=d.namespaceURI||null,d=d.tagName,h=ne(h,d)}Yn(Zs),Hn(Zs,h)}function Qd(){Yn(Zs),Yn(Jh),Yn(Zh)}function K6(d){gu(Zh.current);var h=gu(Zs.current),M=ne(h,d.type);h!==M&&(Hn(Jh,d),Hn(Zs,M))}function ob(d){Jh.current===d&&(Yn(Zs),Yn(Jh))}var Qn=$c(0);function Gg(d){for(var h=d;h!==null;){if(h.tag===13){var M=h.memoizedState;if(M!==null&&(M=M.dehydrated,M===null||M.data==="$?"||M.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var sb=[];function ab(){for(var d=0;d<sb.length;d++)sb[d]._workInProgressVersionPrimary=null;sb.length=0}var Yg=z.ReactCurrentDispatcher,cb=z.ReactCurrentBatchConfig,mu=0,er=null,Rr=null,Br=null,Jg=!1,Xh=!1,Qh=0,dF=0;function di(){throw Error(n(321))}function lb(d,h){if(h===null)return!1;for(var M=0;M<h.length&&M<d.length;M++)if(!Es(d[M],h[M]))return!1;return!0}function ub(d,h,M,F,W,J){if(mu=J,er=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Yg.current=d===null||d.memoizedState===null?gF:mF,d=M(F,W),Xh){J=0;do{if(Xh=!1,Qh=0,25<=J)throw Error(n(301));J+=1,Br=Rr=null,h.updateQueue=null,Yg.current=vF,d=M(F,W)}while(Xh)}if(Yg.current=Qg,h=Rr!==null&&Rr.next!==null,mu=0,Br=Rr=er=null,Jg=!1,h)throw Error(n(300));return d}function db(){var d=Qh!==0;return Qh=0,d}function Xs(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?er.memoizedState=Br=d:Br=Br.next=d,Br}function zo(){if(Rr===null){var d=er.alternate;d=d!==null?d.memoizedState:null}else d=Rr.next;var h=Br===null?er.memoizedState:Br.next;if(h!==null)Br=h,Rr=d;else{if(d===null)throw Error(n(310));Rr=d,d={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},Br===null?er.memoizedState=Br=d:Br=Br.next=d}return Br}function ep(d,h){return typeof h=="function"?h(d):h}function fb(d){var h=zo(),M=h.queue;if(M===null)throw Error(n(311));M.lastRenderedReducer=d;var F=Rr,W=F.baseQueue,J=M.pending;if(J!==null){if(W!==null){var ae=W.next;W.next=J.next,J.next=ae}F.baseQueue=W=J,M.pending=null}if(W!==null){J=W.next,F=F.baseState;var ve=ae=null,Se=null,Be=J;do{var tt=Be.lane;if((mu&tt)===tt)Se!==null&&(Se=Se.next={lane:0,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),F=Be.hasEagerState?Be.eagerState:d(F,Be.action);else{var rt={lane:tt,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null};Se===null?(ve=Se=rt,ae=F):Se=Se.next=rt,er.lanes|=tt,vu|=tt}Be=Be.next}while(Be!==null&&Be!==J);Se===null?ae=F:Se.next=ve,Es(F,h.memoizedState)||(Ji=!0),h.memoizedState=F,h.baseState=ae,h.baseQueue=Se,M.lastRenderedState=F}if(d=M.interleaved,d!==null){W=d;do J=W.lane,er.lanes|=J,vu|=J,W=W.next;while(W!==d)}else W===null&&(M.lanes=0);return[h.memoizedState,M.dispatch]}function hb(d){var h=zo(),M=h.queue;if(M===null)throw Error(n(311));M.lastRenderedReducer=d;var F=M.dispatch,W=M.pending,J=h.memoizedState;if(W!==null){M.pending=null;var ae=W=W.next;do J=d(J,ae.action),ae=ae.next;while(ae!==W);Es(J,h.memoizedState)||(Ji=!0),h.memoizedState=J,h.baseQueue===null&&(h.baseState=J),M.lastRenderedState=J}return[J,F]}function W6(){}function V6(d,h){var M=er,F=zo(),W=h(),J=!Es(F.memoizedState,W);if(J&&(F.memoizedState=W,Ji=!0),F=F.queue,pb(J6.bind(null,M,F,d),[d]),F.getSnapshot!==h||J||Br!==null&&Br.memoizedState.tag&1){if(M.flags|=2048,tp(9,Y6.bind(null,M,F,W,h),void 0,null),Dr===null)throw Error(n(349));(mu&30)!==0||G6(M,h,W)}return W}function G6(d,h,M){d.flags|=16384,d={getSnapshot:h,value:M},h=er.updateQueue,h===null?(h={lastEffect:null,stores:null},er.updateQueue=h,h.stores=[d]):(M=h.stores,M===null?h.stores=[d]:M.push(d))}function Y6(d,h,M,F){h.value=M,h.getSnapshot=F,Z6(h)&&X6(d)}function J6(d,h,M){return M(function(){Z6(h)&&X6(d)})}function Z6(d){var h=d.getSnapshot;d=d.value;try{var M=h();return!Es(d,M)}catch{return!0}}function X6(d){var h=ja(d,1);h!==null&&As(h,d,1,-1)}function Q6(d){var h=Xs();return typeof d=="function"&&(d=d()),h.memoizedState=h.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ep,lastRenderedState:d},h.queue=d,d=d.dispatch=pF.bind(null,er,d),[h.memoizedState,d]}function tp(d,h,M,F){return d={tag:d,create:h,destroy:M,deps:F,next:null},h=er.updateQueue,h===null?(h={lastEffect:null,stores:null},er.updateQueue=h,h.lastEffect=d.next=d):(M=h.lastEffect,M===null?h.lastEffect=d.next=d:(F=M.next,M.next=d,d.next=F,h.lastEffect=d)),d}function eA(){return zo().memoizedState}function Zg(d,h,M,F){var W=Xs();er.flags|=d,W.memoizedState=tp(1|h,M,void 0,F===void 0?null:F)}function Xg(d,h,M,F){var W=zo();F=F===void 0?null:F;var J=void 0;if(Rr!==null){var ae=Rr.memoizedState;if(J=ae.destroy,F!==null&&lb(F,ae.deps)){W.memoizedState=tp(h,M,J,F);return}}er.flags|=d,W.memoizedState=tp(1|h,M,J,F)}function tA(d,h){return Zg(8390656,8,d,h)}function pb(d,h){return Xg(2048,8,d,h)}function nA(d,h){return Xg(4,2,d,h)}function rA(d,h){return Xg(4,4,d,h)}function iA(d,h){if(typeof h=="function")return d=d(),h(d),function(){h(null)};if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function oA(d,h,M){return M=M!=null?M.concat([d]):null,Xg(4,4,iA.bind(null,h,d),M)}function gb(){}function sA(d,h){var M=zo();h=h===void 0?null:h;var F=M.memoizedState;return F!==null&&h!==null&&lb(h,F[1])?F[0]:(M.memoizedState=[d,h],d)}function aA(d,h){var M=zo();h=h===void 0?null:h;var F=M.memoizedState;return F!==null&&h!==null&&lb(h,F[1])?F[0]:(d=d(),M.memoizedState=[d,h],d)}function cA(d,h,M){return(mu&21)===0?(d.baseState&&(d.baseState=!1,Ji=!0),d.memoizedState=M):(Es(M,h)||(M=xg(),er.lanes|=M,vu|=M,d.baseState=!0),h)}function fF(d,h){var M=En;En=M!==0&&4>M?M:4,d(!0);var F=cb.transition;cb.transition={};try{d(!1),h()}finally{En=M,cb.transition=F}}function lA(){return zo().memoizedState}function hF(d,h,M){var F=Vc(d);if(M={lane:F,action:M,hasEagerState:!1,eagerState:null,next:null},uA(d))dA(h,M);else if(M=U6(d,h,M,F),M!==null){var W=Ni();As(M,d,F,W),fA(M,h,F)}}function pF(d,h,M){var F=Vc(d),W={lane:F,action:M,hasEagerState:!1,eagerState:null,next:null};if(uA(d))dA(h,W);else{var J=d.alternate;if(d.lanes===0&&(J===null||J.lanes===0)&&(J=h.lastRenderedReducer,J!==null))try{var ae=h.lastRenderedState,ve=J(ae,M);if(W.hasEagerState=!0,W.eagerState=ve,Es(ve,ae)){var Se=h.interleaved;Se===null?(W.next=W,nb(h)):(W.next=Se.next,Se.next=W),h.interleaved=W;return}}catch{}finally{}M=U6(d,h,W,F),M!==null&&(W=Ni(),As(M,d,F,W),fA(M,h,F))}}function uA(d){var h=d.alternate;return d===er||h!==null&&h===er}function dA(d,h){Xh=Jg=!0;var M=d.pending;M===null?h.next=h:(h.next=M.next,M.next=h),d.pending=h}function fA(d,h,M){if((M&4194240)!==0){var F=h.lanes;F&=d.pendingLanes,M|=F,h.lanes=M,Bd(d,M)}}var Qg={readContext:Uo,useCallback:di,useContext:di,useEffect:di,useImperativeHandle:di,useInsertionEffect:di,useLayoutEffect:di,useMemo:di,useReducer:di,useRef:di,useState:di,useDebugValue:di,useDeferredValue:di,useTransition:di,useMutableSource:di,useSyncExternalStore:di,useId:di,unstable_isNewReconciler:!1},gF={readContext:Uo,useCallback:function(d,h){return Xs().memoizedState=[d,h===void 0?null:h],d},useContext:Uo,useEffect:tA,useImperativeHandle:function(d,h,M){return M=M!=null?M.concat([d]):null,Zg(4194308,4,iA.bind(null,h,d),M)},useLayoutEffect:function(d,h){return Zg(4194308,4,d,h)},useInsertionEffect:function(d,h){return Zg(4,2,d,h)},useMemo:function(d,h){var M=Xs();return h=h===void 0?null:h,d=d(),M.memoizedState=[d,h],d},useReducer:function(d,h,M){var F=Xs();return h=M!==void 0?M(h):h,F.memoizedState=F.baseState=h,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:h},F.queue=d,d=d.dispatch=hF.bind(null,er,d),[F.memoizedState,d]},useRef:function(d){var h=Xs();return d={current:d},h.memoizedState=d},useState:Q6,useDebugValue:gb,useDeferredValue:function(d){return Xs().memoizedState=d},useTransition:function(){var d=Q6(!1),h=d[0];return d=fF.bind(null,d[1]),Xs().memoizedState=d,[h,d]},useMutableSource:function(){},useSyncExternalStore:function(d,h,M){var F=er,W=Xs();if(Jn){if(M===void 0)throw Error(n(407));M=M()}else{if(M=h(),Dr===null)throw Error(n(349));(mu&30)!==0||G6(F,h,M)}W.memoizedState=M;var J={value:M,getSnapshot:h};return W.queue=J,tA(J6.bind(null,F,J,d),[d]),F.flags|=2048,tp(9,Y6.bind(null,F,J,M,h),void 0,null),M},useId:function(){var d=Xs(),h=Dr.identifierPrefix;if(Jn){var M=Da,F=Ba;M=(F&~(1<<32-Vr(F)-1)).toString(32)+M,h=":"+h+"R"+M,M=Qh++,0<M&&(h+="H"+M.toString(32)),h+=":"}else M=dF++,h=":"+h+"r"+M.toString(32)+":";return d.memoizedState=h},unstable_isNewReconciler:!1},mF={readContext:Uo,useCallback:sA,useContext:Uo,useEffect:pb,useImperativeHandle:oA,useInsertionEffect:nA,useLayoutEffect:rA,useMemo:aA,useReducer:fb,useRef:eA,useState:function(){return fb(ep)},useDebugValue:gb,useDeferredValue:function(d){var h=zo();return cA(h,Rr.memoizedState,d)},useTransition:function(){var d=fb(ep)[0],h=zo().memoizedState;return[d,h]},useMutableSource:W6,useSyncExternalStore:V6,useId:lA,unstable_isNewReconciler:!1},vF={readContext:Uo,useCallback:sA,useContext:Uo,useEffect:pb,useImperativeHandle:oA,useInsertionEffect:nA,useLayoutEffect:rA,useMemo:aA,useReducer:hb,useRef:eA,useState:function(){return hb(ep)},useDebugValue:gb,useDeferredValue:function(d){var h=zo();return Rr===null?h.memoizedState=d:cA(h,Rr.memoizedState,d)},useTransition:function(){var d=hb(ep)[0],h=zo().memoizedState;return[d,h]},useMutableSource:W6,useSyncExternalStore:V6,useId:lA,unstable_isNewReconciler:!1};function _s(d,h){if(d&&d.defaultProps){h=x({},h),d=d.defaultProps;for(var M in d)h[M]===void 0&&(h[M]=d[M]);return h}return h}function mb(d,h,M,F){h=d.memoizedState,M=M(F,h),M=M==null?h:x({},h,M),d.memoizedState=M,d.lanes===0&&(d.updateQueue.baseState=M)}var em={isMounted:function(d){return(d=d._reactInternals)?pn(d)===d:!1},enqueueSetState:function(d,h,M){d=d._reactInternals;var F=Ni(),W=Vc(d),J=$a(F,W);J.payload=h,M!=null&&(J.callback=M),h=qc(d,J,W),h!==null&&(As(h,d,W,F),Wg(h,d,W))},enqueueReplaceState:function(d,h,M){d=d._reactInternals;var F=Ni(),W=Vc(d),J=$a(F,W);J.tag=1,J.payload=h,M!=null&&(J.callback=M),h=qc(d,J,W),h!==null&&(As(h,d,W,F),Wg(h,d,W))},enqueueForceUpdate:function(d,h){d=d._reactInternals;var M=Ni(),F=Vc(d),W=$a(M,F);W.tag=2,h!=null&&(W.callback=h),h=qc(d,W,F),h!==null&&(As(h,d,F,M),Wg(h,d,F))}};function hA(d,h,M,F,W,J,ae){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(F,J,ae):h.prototype&&h.prototype.isPureReactComponent?!Uh(M,F)||!Uh(W,J):!0}function pA(d,h,M){var F=!1,W=Fc,J=h.contextType;return typeof J=="object"&&J!==null?J=Uo(J):(W=Yi(h)?du:ui.current,F=h.contextTypes,J=(F=F!=null)?Wd(d,W):Fc),h=new h(M,J),d.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=em,d.stateNode=h,h._reactInternals=d,F&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=W,d.__reactInternalMemoizedMaskedChildContext=J),h}function gA(d,h,M,F){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(M,F),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(M,F),h.state!==d&&em.enqueueReplaceState(h,h.state,null)}function vb(d,h,M,F){var W=d.stateNode;W.props=M,W.state=d.memoizedState,W.refs={},rb(d);var J=h.contextType;typeof J=="object"&&J!==null?W.context=Uo(J):(J=Yi(h)?du:ui.current,W.context=Wd(d,J)),W.state=d.memoizedState,J=h.getDerivedStateFromProps,typeof J=="function"&&(mb(d,h,J,M),W.state=d.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof W.getSnapshotBeforeUpdate=="function"||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(h=W.state,typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount(),h!==W.state&&em.enqueueReplaceState(W,W.state,null),Vg(d,M,W,F),W.state=d.memoizedState),typeof W.componentDidMount=="function"&&(d.flags|=4194308)}function ef(d,h){try{var M="",F=h;do M+=q(F),F=F.return;while(F);var W=M}catch(J){W=`
Error generating stack: `+J.message+`
`+J.stack}return{value:d,source:h,stack:W,digest:null}}function yb(d,h,M){return{value:d,source:null,stack:M??null,digest:h??null}}function wb(d,h){try{console.error(h.value)}catch(M){setTimeout(function(){throw M})}}var yF=typeof WeakMap=="function"?WeakMap:Map;function mA(d,h,M){M=$a(-1,M),M.tag=3,M.payload={element:null};var F=h.value;return M.callback=function(){am||(am=!0,Pb=F),wb(d,h)},M}function vA(d,h,M){M=$a(-1,M),M.tag=3;var F=d.type.getDerivedStateFromError;if(typeof F=="function"){var W=h.value;M.payload=function(){return F(W)},M.callback=function(){wb(d,h)}}var J=d.stateNode;return J!==null&&typeof J.componentDidCatch=="function"&&(M.callback=function(){wb(d,h),typeof F!="function"&&(Kc===null?Kc=new Set([this]):Kc.add(this));var ae=h.stack;this.componentDidCatch(h.value,{componentStack:ae!==null?ae:""})}),M}function yA(d,h,M){var F=d.pingCache;if(F===null){F=d.pingCache=new yF;var W=new Set;F.set(h,W)}else W=F.get(h),W===void 0&&(W=new Set,F.set(h,W));W.has(M)||(W.add(M),d=TF.bind(null,d,h,M),h.then(d,d))}function wA(d){do{var h;if((h=d.tag===13)&&(h=d.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return d;d=d.return}while(d!==null);return null}function bA(d,h,M,F,W){return(d.mode&1)===0?(d===h?d.flags|=65536:(d.flags|=128,M.flags|=131072,M.flags&=-52805,M.tag===1&&(M.alternate===null?M.tag=17:(h=$a(-1,1),h.tag=2,qc(M,h,1))),M.lanes|=1),d):(d.flags|=65536,d.lanes=W,d)}var wF=z.ReactCurrentOwner,Ji=!1;function Ti(d,h,M,F){h.child=d===null?F6(h,null,M,F):Jd(h,d.child,M,F)}function EA(d,h,M,F,W){M=M.render;var J=h.ref;return Xd(h,W),F=ub(d,h,M,F,J,W),M=db(),d!==null&&!Ji?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~W,Fa(d,h,W)):(Jn&&M&&V1(h),h.flags|=1,Ti(d,h,F,W),h.child)}function xA(d,h,M,F,W){if(d===null){var J=M.type;return typeof J=="function"&&!Ub(J)&&J.defaultProps===void 0&&M.compare===null&&M.defaultProps===void 0?(h.tag=15,h.type=J,_A(d,h,J,F,W)):(d=hm(M.type,null,F,h,h.mode,W),d.ref=h.ref,d.return=h,h.child=d)}if(J=d.child,(d.lanes&W)===0){var ae=J.memoizedProps;if(M=M.compare,M=M!==null?M:Uh,M(ae,F)&&d.ref===h.ref)return Fa(d,h,W)}return h.flags|=1,d=Yc(J,F),d.ref=h.ref,d.return=h,h.child=d}function _A(d,h,M,F,W){if(d!==null){var J=d.memoizedProps;if(Uh(J,F)&&d.ref===h.ref)if(Ji=!1,h.pendingProps=F=J,(d.lanes&W)!==0)(d.flags&131072)!==0&&(Ji=!0);else return h.lanes=d.lanes,Fa(d,h,W)}return bb(d,h,M,F,W)}function SA(d,h,M){var F=h.pendingProps,W=F.children,J=d!==null?d.memoizedState:null;if(F.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},Hn(nf,Eo),Eo|=M;else{if((M&1073741824)===0)return d=J!==null?J.baseLanes|M:M,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:d,cachePool:null,transitions:null},h.updateQueue=null,Hn(nf,Eo),Eo|=d,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},F=J!==null?J.baseLanes:M,Hn(nf,Eo),Eo|=F}else J!==null?(F=J.baseLanes|M,h.memoizedState=null):F=M,Hn(nf,Eo),Eo|=F;return Ti(d,h,W,M),h.child}function CA(d,h){var M=h.ref;(d===null&&M!==null||d!==null&&d.ref!==M)&&(h.flags|=512,h.flags|=2097152)}function bb(d,h,M,F,W){var J=Yi(M)?du:ui.current;return J=Wd(h,J),Xd(h,W),M=ub(d,h,M,F,J,W),F=db(),d!==null&&!Ji?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~W,Fa(d,h,W)):(Jn&&F&&V1(h),h.flags|=1,Ti(d,h,M,W),h.child)}function AA(d,h,M,F,W){if(Yi(M)){var J=!0;jg(h)}else J=!1;if(Xd(h,W),h.stateNode===null)nm(d,h),pA(h,M,F),vb(h,M,F,W),F=!0;else if(d===null){var ae=h.stateNode,ve=h.memoizedProps;ae.props=ve;var Se=ae.context,Be=M.contextType;typeof Be=="object"&&Be!==null?Be=Uo(Be):(Be=Yi(M)?du:ui.current,Be=Wd(h,Be));var tt=M.getDerivedStateFromProps,rt=typeof tt=="function"||typeof ae.getSnapshotBeforeUpdate=="function";rt||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(ve!==F||Se!==Be)&&gA(h,ae,F,Be),zc=!1;var Qe=h.memoizedState;ae.state=Qe,Vg(h,F,ae,W),Se=h.memoizedState,ve!==F||Qe!==Se||Gi.current||zc?(typeof tt=="function"&&(mb(h,M,tt,F),Se=h.memoizedState),(ve=zc||hA(h,M,ve,F,Qe,Se,Be))?(rt||typeof ae.UNSAFE_componentWillMount!="function"&&typeof ae.componentWillMount!="function"||(typeof ae.componentWillMount=="function"&&ae.componentWillMount(),typeof ae.UNSAFE_componentWillMount=="function"&&ae.UNSAFE_componentWillMount()),typeof ae.componentDidMount=="function"&&(h.flags|=4194308)):(typeof ae.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=F,h.memoizedState=Se),ae.props=F,ae.state=Se,ae.context=Be,F=ve):(typeof ae.componentDidMount=="function"&&(h.flags|=4194308),F=!1)}else{ae=h.stateNode,z6(d,h),ve=h.memoizedProps,Be=h.type===h.elementType?ve:_s(h.type,ve),ae.props=Be,rt=h.pendingProps,Qe=ae.context,Se=M.contextType,typeof Se=="object"&&Se!==null?Se=Uo(Se):(Se=Yi(M)?du:ui.current,Se=Wd(h,Se));var yt=M.getDerivedStateFromProps;(tt=typeof yt=="function"||typeof ae.getSnapshotBeforeUpdate=="function")||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(ve!==rt||Qe!==Se)&&gA(h,ae,F,Se),zc=!1,Qe=h.memoizedState,ae.state=Qe,Vg(h,F,ae,W);var At=h.memoizedState;ve!==rt||Qe!==At||Gi.current||zc?(typeof yt=="function"&&(mb(h,M,yt,F),At=h.memoizedState),(Be=zc||hA(h,M,Be,F,Qe,At,Se)||!1)?(tt||typeof ae.UNSAFE_componentWillUpdate!="function"&&typeof ae.componentWillUpdate!="function"||(typeof ae.componentWillUpdate=="function"&&ae.componentWillUpdate(F,At,Se),typeof ae.UNSAFE_componentWillUpdate=="function"&&ae.UNSAFE_componentWillUpdate(F,At,Se)),typeof ae.componentDidUpdate=="function"&&(h.flags|=4),typeof ae.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof ae.componentDidUpdate!="function"||ve===d.memoizedProps&&Qe===d.memoizedState||(h.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||ve===d.memoizedProps&&Qe===d.memoizedState||(h.flags|=1024),h.memoizedProps=F,h.memoizedState=At),ae.props=F,ae.state=At,ae.context=Se,F=Be):(typeof ae.componentDidUpdate!="function"||ve===d.memoizedProps&&Qe===d.memoizedState||(h.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||ve===d.memoizedProps&&Qe===d.memoizedState||(h.flags|=1024),F=!1)}return Eb(d,h,M,F,J,W)}function Eb(d,h,M,F,W,J){CA(d,h);var ae=(h.flags&128)!==0;if(!F&&!ae)return W&&O6(h,M,!1),Fa(d,h,J);F=h.stateNode,wF.current=h;var ve=ae&&typeof M.getDerivedStateFromError!="function"?null:F.render();return h.flags|=1,d!==null&&ae?(h.child=Jd(h,d.child,null,J),h.child=Jd(h,null,ve,J)):Ti(d,h,ve,J),h.memoizedState=F.state,W&&O6(h,M,!0),h.child}function IA(d){var h=d.stateNode;h.pendingContext?M6(d,h.pendingContext,h.pendingContext!==h.context):h.context&&M6(d,h.context,!1),ib(d,h.containerInfo)}function kA(d,h,M,F,W){return Yd(),Z1(W),h.flags|=256,Ti(d,h,M,F),h.child}var xb={dehydrated:null,treeContext:null,retryLane:0};function _b(d){return{baseLanes:d,cachePool:null,transitions:null}}function MA(d,h,M){var F=h.pendingProps,W=Qn.current,J=!1,ae=(h.flags&128)!==0,ve;if((ve=ae)||(ve=d!==null&&d.memoizedState===null?!1:(W&2)!==0),ve?(J=!0,h.flags&=-129):(d===null||d.memoizedState!==null)&&(W|=1),Hn(Qn,W&1),d===null)return J1(h),d=h.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((h.mode&1)===0?h.lanes=1:d.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(ae=F.children,d=F.fallback,J?(F=h.mode,J=h.child,ae={mode:"hidden",children:ae},(F&1)===0&&J!==null?(J.childLanes=0,J.pendingProps=ae):J=pm(ae,F,0,null),d=Eu(d,F,M,null),J.return=h,d.return=h,J.sibling=d,h.child=J,h.child.memoizedState=_b(M),h.memoizedState=xb,d):Sb(h,ae));if(W=d.memoizedState,W!==null&&(ve=W.dehydrated,ve!==null))return bF(d,h,ae,F,ve,W,M);if(J){J=F.fallback,ae=h.mode,W=d.child,ve=W.sibling;var Se={mode:"hidden",children:F.children};return(ae&1)===0&&h.child!==W?(F=h.child,F.childLanes=0,F.pendingProps=Se,h.deletions=null):(F=Yc(W,Se),F.subtreeFlags=W.subtreeFlags&14680064),ve!==null?J=Yc(ve,J):(J=Eu(J,ae,M,null),J.flags|=2),J.return=h,F.return=h,F.sibling=J,h.child=F,F=J,J=h.child,ae=d.child.memoizedState,ae=ae===null?_b(M):{baseLanes:ae.baseLanes|M,cachePool:null,transitions:ae.transitions},J.memoizedState=ae,J.childLanes=d.childLanes&~M,h.memoizedState=xb,F}return J=d.child,d=J.sibling,F=Yc(J,{mode:"visible",children:F.children}),(h.mode&1)===0&&(F.lanes=M),F.return=h,F.sibling=null,d!==null&&(M=h.deletions,M===null?(h.deletions=[d],h.flags|=16):M.push(d)),h.child=F,h.memoizedState=null,F}function Sb(d,h){return h=pm({mode:"visible",children:h},d.mode,0,null),h.return=d,d.child=h}function tm(d,h,M,F){return F!==null&&Z1(F),Jd(h,d.child,null,M),d=Sb(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function bF(d,h,M,F,W,J,ae){if(M)return h.flags&256?(h.flags&=-257,F=yb(Error(n(422))),tm(d,h,ae,F)):h.memoizedState!==null?(h.child=d.child,h.flags|=128,null):(J=F.fallback,W=h.mode,F=pm({mode:"visible",children:F.children},W,0,null),J=Eu(J,W,ae,null),J.flags|=2,F.return=h,J.return=h,F.sibling=J,h.child=F,(h.mode&1)!==0&&Jd(h,d.child,null,ae),h.child.memoizedState=_b(ae),h.memoizedState=xb,J);if((h.mode&1)===0)return tm(d,h,ae,null);if(W.data==="$!"){if(F=W.nextSibling&&W.nextSibling.dataset,F)var ve=F.dgst;return F=ve,J=Error(n(419)),F=yb(J,F,void 0),tm(d,h,ae,F)}if(ve=(ae&d.childLanes)!==0,Ji||ve){if(F=Dr,F!==null){switch(ae&-ae){case 4:W=2;break;case 16:W=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:W=32;break;case 536870912:W=268435456;break;default:W=0}W=(W&(F.suspendedLanes|ae))!==0?0:W,W!==0&&W!==J.retryLane&&(J.retryLane=W,ja(d,W),As(F,d,W,-1))}return Fb(),F=yb(Error(n(421))),tm(d,h,ae,F)}return W.data==="$?"?(h.flags|=128,h.child=d.child,h=NF.bind(null,d),W._reactRetry=h,null):(d=J.treeContext,bo=jc(W.nextSibling),wo=h,Jn=!0,xs=null,d!==null&&($o[Fo++]=Ba,$o[Fo++]=Da,$o[Fo++]=fu,Ba=d.id,Da=d.overflow,fu=h),h=Sb(h,F.children),h.flags|=4096,h)}function RA(d,h,M){d.lanes|=h;var F=d.alternate;F!==null&&(F.lanes|=h),tb(d.return,h,M)}function Cb(d,h,M,F,W){var J=d.memoizedState;J===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:F,tail:M,tailMode:W}:(J.isBackwards=h,J.rendering=null,J.renderingStartTime=0,J.last=F,J.tail=M,J.tailMode=W)}function OA(d,h,M){var F=h.pendingProps,W=F.revealOrder,J=F.tail;if(Ti(d,h,F.children,M),F=Qn.current,(F&2)!==0)F=F&1|2,h.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&RA(d,M,h);else if(d.tag===19)RA(d,M,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}F&=1}if(Hn(Qn,F),(h.mode&1)===0)h.memoizedState=null;else switch(W){case"forwards":for(M=h.child,W=null;M!==null;)d=M.alternate,d!==null&&Gg(d)===null&&(W=M),M=M.sibling;M=W,M===null?(W=h.child,h.child=null):(W=M.sibling,M.sibling=null),Cb(h,!1,W,M,J);break;case"backwards":for(M=null,W=h.child,h.child=null;W!==null;){if(d=W.alternate,d!==null&&Gg(d)===null){h.child=W;break}d=W.sibling,W.sibling=M,M=W,W=d}Cb(h,!0,M,null,J);break;case"together":Cb(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function nm(d,h){(h.mode&1)===0&&d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2)}function Fa(d,h,M){if(d!==null&&(h.dependencies=d.dependencies),vu|=h.lanes,(M&h.childLanes)===0)return null;if(d!==null&&h.child!==d.child)throw Error(n(153));if(h.child!==null){for(d=h.child,M=Yc(d,d.pendingProps),h.child=M,M.return=h;d.sibling!==null;)d=d.sibling,M=M.sibling=Yc(d,d.pendingProps),M.return=h;M.sibling=null}return h.child}function EF(d,h,M){switch(h.tag){case 3:IA(h),Yd();break;case 5:K6(h);break;case 1:Yi(h.type)&&jg(h);break;case 4:ib(h,h.stateNode.containerInfo);break;case 10:var F=h.type._context,W=h.memoizedProps.value;Hn(Hg,F._currentValue),F._currentValue=W;break;case 13:if(F=h.memoizedState,F!==null)return F.dehydrated!==null?(Hn(Qn,Qn.current&1),h.flags|=128,null):(M&h.child.childLanes)!==0?MA(d,h,M):(Hn(Qn,Qn.current&1),d=Fa(d,h,M),d!==null?d.sibling:null);Hn(Qn,Qn.current&1);break;case 19:if(F=(M&h.childLanes)!==0,(d.flags&128)!==0){if(F)return OA(d,h,M);h.flags|=128}if(W=h.memoizedState,W!==null&&(W.rendering=null,W.tail=null,W.lastEffect=null),Hn(Qn,Qn.current),F)break;return null;case 22:case 23:return h.lanes=0,SA(d,h,M)}return Fa(d,h,M)}var TA,Ab,NA,PA;TA=function(d,h){for(var M=h.child;M!==null;){if(M.tag===5||M.tag===6)d.appendChild(M.stateNode);else if(M.tag!==4&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===h)break;for(;M.sibling===null;){if(M.return===null||M.return===h)return;M=M.return}M.sibling.return=M.return,M=M.sibling}},Ab=function(){},NA=function(d,h,M,F){var W=d.memoizedProps;if(W!==F){d=h.stateNode,gu(Zs.current);var J=null;switch(M){case"input":W=se(d,W),F=se(d,F),J=[];break;case"select":W=x({},W,{value:void 0}),F=x({},F,{value:void 0}),J=[];break;case"textarea":W=we(d,W),F=we(d,F),J=[];break;default:typeof W.onClick!="function"&&typeof F.onClick=="function"&&(d.onclick=Lg)}ot(M,F);var ae;M=null;for(Be in W)if(!F.hasOwnProperty(Be)&&W.hasOwnProperty(Be)&&W[Be]!=null)if(Be==="style"){var ve=W[Be];for(ae in ve)ve.hasOwnProperty(ae)&&(M||(M={}),M[ae]="")}else Be!=="dangerouslySetInnerHTML"&&Be!=="children"&&Be!=="suppressContentEditableWarning"&&Be!=="suppressHydrationWarning"&&Be!=="autoFocus"&&(i.hasOwnProperty(Be)?J||(J=[]):(J=J||[]).push(Be,null));for(Be in F){var Se=F[Be];if(ve=W!=null?W[Be]:void 0,F.hasOwnProperty(Be)&&Se!==ve&&(Se!=null||ve!=null))if(Be==="style")if(ve){for(ae in ve)!ve.hasOwnProperty(ae)||Se&&Se.hasOwnProperty(ae)||(M||(M={}),M[ae]="");for(ae in Se)Se.hasOwnProperty(ae)&&ve[ae]!==Se[ae]&&(M||(M={}),M[ae]=Se[ae])}else M||(J||(J=[]),J.push(Be,M)),M=Se;else Be==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,ve=ve?ve.__html:void 0,Se!=null&&ve!==Se&&(J=J||[]).push(Be,Se)):Be==="children"?typeof Se!="string"&&typeof Se!="number"||(J=J||[]).push(Be,""+Se):Be!=="suppressContentEditableWarning"&&Be!=="suppressHydrationWarning"&&(i.hasOwnProperty(Be)?(Se!=null&&Be==="onScroll"&&Gn("scroll",d),J||ve===Se||(J=[])):(J=J||[]).push(Be,Se))}M&&(J=J||[]).push("style",M);var Be=J;(h.updateQueue=Be)&&(h.flags|=4)}},PA=function(d,h,M,F){M!==F&&(h.flags|=4)};function np(d,h){if(!Jn)switch(d.tailMode){case"hidden":h=d.tail;for(var M=null;h!==null;)h.alternate!==null&&(M=h),h=h.sibling;M===null?d.tail=null:M.sibling=null;break;case"collapsed":M=d.tail;for(var F=null;M!==null;)M.alternate!==null&&(F=M),M=M.sibling;F===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:F.sibling=null}}function fi(d){var h=d.alternate!==null&&d.alternate.child===d.child,M=0,F=0;if(h)for(var W=d.child;W!==null;)M|=W.lanes|W.childLanes,F|=W.subtreeFlags&14680064,F|=W.flags&14680064,W.return=d,W=W.sibling;else for(W=d.child;W!==null;)M|=W.lanes|W.childLanes,F|=W.subtreeFlags,F|=W.flags,W.return=d,W=W.sibling;return d.subtreeFlags|=F,d.childLanes=M,h}function xF(d,h,M){var F=h.pendingProps;switch(G1(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fi(h),null;case 1:return Yi(h.type)&&Dg(),fi(h),null;case 3:return F=h.stateNode,Qd(),Yn(Gi),Yn(ui),ab(),F.pendingContext&&(F.context=F.pendingContext,F.pendingContext=null),(d===null||d.child===null)&&(zg(h)?h.flags|=4:d===null||d.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,xs!==null&&(Db(xs),xs=null))),Ab(d,h),fi(h),null;case 5:ob(h);var W=gu(Zh.current);if(M=h.type,d!==null&&h.stateNode!=null)NA(d,h,M,F,W),d.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!F){if(h.stateNode===null)throw Error(n(166));return fi(h),null}if(d=gu(Zs.current),zg(h)){F=h.stateNode,M=h.type;var J=h.memoizedProps;switch(F[Js]=h,F[Wh]=J,d=(h.mode&1)!==0,M){case"dialog":Gn("cancel",F),Gn("close",F);break;case"iframe":case"object":case"embed":Gn("load",F);break;case"video":case"audio":for(W=0;W<qh.length;W++)Gn(qh[W],F);break;case"source":Gn("error",F);break;case"img":case"image":case"link":Gn("error",F),Gn("load",F);break;case"details":Gn("toggle",F);break;case"input":ue(F,J),Gn("invalid",F);break;case"select":F._wrapperState={wasMultiple:!!J.multiple},Gn("invalid",F);break;case"textarea":$e(F,J),Gn("invalid",F)}ot(M,J),W=null;for(var ae in J)if(J.hasOwnProperty(ae)){var ve=J[ae];ae==="children"?typeof ve=="string"?F.textContent!==ve&&(J.suppressHydrationWarning!==!0&&Pg(F.textContent,ve,d),W=["children",ve]):typeof ve=="number"&&F.textContent!==""+ve&&(J.suppressHydrationWarning!==!0&&Pg(F.textContent,ve,d),W=["children",""+ve]):i.hasOwnProperty(ae)&&ve!=null&&ae==="onScroll"&&Gn("scroll",F)}switch(M){case"input":ie(F),pe(F,J,!0);break;case"textarea":ie(F),Ze(F);break;case"select":case"option":break;default:typeof J.onClick=="function"&&(F.onclick=Lg)}F=W,h.updateQueue=F,F!==null&&(h.flags|=4)}else{ae=W.nodeType===9?W:W.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=We(M)),d==="http://www.w3.org/1999/xhtml"?M==="script"?(d=ae.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof F.is=="string"?d=ae.createElement(M,{is:F.is}):(d=ae.createElement(M),M==="select"&&(ae=d,F.multiple?ae.multiple=!0:F.size&&(ae.size=F.size))):d=ae.createElementNS(d,M),d[Js]=h,d[Wh]=F,TA(d,h,!1,!1),h.stateNode=d;e:{switch(ae=Ot(M,F),M){case"dialog":Gn("cancel",d),Gn("close",d),W=F;break;case"iframe":case"object":case"embed":Gn("load",d),W=F;break;case"video":case"audio":for(W=0;W<qh.length;W++)Gn(qh[W],d);W=F;break;case"source":Gn("error",d),W=F;break;case"img":case"image":case"link":Gn("error",d),Gn("load",d),W=F;break;case"details":Gn("toggle",d),W=F;break;case"input":ue(d,F),W=se(d,F),Gn("invalid",d);break;case"option":W=F;break;case"select":d._wrapperState={wasMultiple:!!F.multiple},W=x({},F,{value:void 0}),Gn("invalid",d);break;case"textarea":$e(d,F),W=we(d,F),Gn("invalid",d);break;default:W=F}ot(M,W),ve=W;for(J in ve)if(ve.hasOwnProperty(J)){var Se=ve[J];J==="style"?lt(d,Se):J==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,Se!=null&&Z(d,Se)):J==="children"?typeof Se=="string"?(M!=="textarea"||Se!=="")&&ce(d,Se):typeof Se=="number"&&ce(d,""+Se):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(i.hasOwnProperty(J)?Se!=null&&J==="onScroll"&&Gn("scroll",d):Se!=null&&N(d,J,Se,ae))}switch(M){case"input":ie(d),pe(d,F,!1);break;case"textarea":ie(d),Ze(d);break;case"option":F.value!=null&&d.setAttribute("value",""+Y(F.value));break;case"select":d.multiple=!!F.multiple,J=F.value,J!=null?Ce(d,!!F.multiple,J,!1):F.defaultValue!=null&&Ce(d,!!F.multiple,F.defaultValue,!0);break;default:typeof W.onClick=="function"&&(d.onclick=Lg)}switch(M){case"button":case"input":case"select":case"textarea":F=!!F.autoFocus;break e;case"img":F=!0;break e;default:F=!1}}F&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return fi(h),null;case 6:if(d&&h.stateNode!=null)PA(d,h,d.memoizedProps,F);else{if(typeof F!="string"&&h.stateNode===null)throw Error(n(166));if(M=gu(Zh.current),gu(Zs.current),zg(h)){if(F=h.stateNode,M=h.memoizedProps,F[Js]=h,(J=F.nodeValue!==M)&&(d=wo,d!==null))switch(d.tag){case 3:Pg(F.nodeValue,M,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&Pg(F.nodeValue,M,(d.mode&1)!==0)}J&&(h.flags|=4)}else F=(M.nodeType===9?M:M.ownerDocument).createTextNode(F),F[Js]=h,h.stateNode=F}return fi(h),null;case 13:if(Yn(Qn),F=h.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(Jn&&bo!==null&&(h.mode&1)!==0&&(h.flags&128)===0)D6(),Yd(),h.flags|=98560,J=!1;else if(J=zg(h),F!==null&&F.dehydrated!==null){if(d===null){if(!J)throw Error(n(318));if(J=h.memoizedState,J=J!==null?J.dehydrated:null,!J)throw Error(n(317));J[Js]=h}else Yd(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;fi(h),J=!1}else xs!==null&&(Db(xs),xs=null),J=!0;if(!J)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=M,h):(F=F!==null,F!==(d!==null&&d.memoizedState!==null)&&F&&(h.child.flags|=8192,(h.mode&1)!==0&&(d===null||(Qn.current&1)!==0?Or===0&&(Or=3):Fb())),h.updateQueue!==null&&(h.flags|=4),fi(h),null);case 4:return Qd(),Ab(d,h),d===null&&Hh(h.stateNode.containerInfo),fi(h),null;case 10:return eb(h.type._context),fi(h),null;case 17:return Yi(h.type)&&Dg(),fi(h),null;case 19:if(Yn(Qn),J=h.memoizedState,J===null)return fi(h),null;if(F=(h.flags&128)!==0,ae=J.rendering,ae===null)if(F)np(J,!1);else{if(Or!==0||d!==null&&(d.flags&128)!==0)for(d=h.child;d!==null;){if(ae=Gg(d),ae!==null){for(h.flags|=128,np(J,!1),F=ae.updateQueue,F!==null&&(h.updateQueue=F,h.flags|=4),h.subtreeFlags=0,F=M,M=h.child;M!==null;)J=M,d=F,J.flags&=14680066,ae=J.alternate,ae===null?(J.childLanes=0,J.lanes=d,J.child=null,J.subtreeFlags=0,J.memoizedProps=null,J.memoizedState=null,J.updateQueue=null,J.dependencies=null,J.stateNode=null):(J.childLanes=ae.childLanes,J.lanes=ae.lanes,J.child=ae.child,J.subtreeFlags=0,J.deletions=null,J.memoizedProps=ae.memoizedProps,J.memoizedState=ae.memoizedState,J.updateQueue=ae.updateQueue,J.type=ae.type,d=ae.dependencies,J.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),M=M.sibling;return Hn(Qn,Qn.current&1|2),h.child}d=d.sibling}J.tail!==null&&An()>rf&&(h.flags|=128,F=!0,np(J,!1),h.lanes=4194304)}else{if(!F)if(d=Gg(ae),d!==null){if(h.flags|=128,F=!0,M=d.updateQueue,M!==null&&(h.updateQueue=M,h.flags|=4),np(J,!0),J.tail===null&&J.tailMode==="hidden"&&!ae.alternate&&!Jn)return fi(h),null}else 2*An()-J.renderingStartTime>rf&&M!==1073741824&&(h.flags|=128,F=!0,np(J,!1),h.lanes=4194304);J.isBackwards?(ae.sibling=h.child,h.child=ae):(M=J.last,M!==null?M.sibling=ae:h.child=ae,J.last=ae)}return J.tail!==null?(h=J.tail,J.rendering=h,J.tail=h.sibling,J.renderingStartTime=An(),h.sibling=null,M=Qn.current,Hn(Qn,F?M&1|2:M&1),h):(fi(h),null);case 22:case 23:return $b(),F=h.memoizedState!==null,d!==null&&d.memoizedState!==null!==F&&(h.flags|=8192),F&&(h.mode&1)!==0?(Eo&1073741824)!==0&&(fi(h),h.subtreeFlags&6&&(h.flags|=8192)):fi(h),null;case 24:return null;case 25:return null}throw Error(n(156,h.tag))}function _F(d,h){switch(G1(h),h.tag){case 1:return Yi(h.type)&&Dg(),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return Qd(),Yn(Gi),Yn(ui),ab(),d=h.flags,(d&65536)!==0&&(d&128)===0?(h.flags=d&-65537|128,h):null;case 5:return ob(h),null;case 13:if(Yn(Qn),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(n(340));Yd()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return Yn(Qn),null;case 4:return Qd(),null;case 10:return eb(h.type._context),null;case 22:case 23:return $b(),null;case 24:return null;default:return null}}var rm=!1,hi=!1,SF=typeof WeakSet=="function"?WeakSet:Set,_t=null;function tf(d,h){var M=d.ref;if(M!==null)if(typeof M=="function")try{M(null)}catch(F){cr(d,h,F)}else M.current=null}function Ib(d,h,M){try{M()}catch(F){cr(d,h,F)}}var LA=!1;function CF(d,h){if($1=Me,d=h6(),O1(d)){if("selectionStart"in d)var M={start:d.selectionStart,end:d.selectionEnd};else e:{M=(M=d.ownerDocument)&&M.defaultView||window;var F=M.getSelection&&M.getSelection();if(F&&F.rangeCount!==0){M=F.anchorNode;var W=F.anchorOffset,J=F.focusNode;F=F.focusOffset;try{M.nodeType,J.nodeType}catch{M=null;break e}var ae=0,ve=-1,Se=-1,Be=0,tt=0,rt=d,Qe=null;t:for(;;){for(var yt;rt!==M||W!==0&&rt.nodeType!==3||(ve=ae+W),rt!==J||F!==0&&rt.nodeType!==3||(Se=ae+F),rt.nodeType===3&&(ae+=rt.nodeValue.length),(yt=rt.firstChild)!==null;)Qe=rt,rt=yt;for(;;){if(rt===d)break t;if(Qe===M&&++Be===W&&(ve=ae),Qe===J&&++tt===F&&(Se=ae),(yt=rt.nextSibling)!==null)break;rt=Qe,Qe=rt.parentNode}rt=yt}M=ve===-1||Se===-1?null:{start:ve,end:Se}}else M=null}M=M||{start:0,end:0}}else M=null;for(F1={focusedElem:d,selectionRange:M},Me=!1,_t=h;_t!==null;)if(h=_t,d=h.child,(h.subtreeFlags&1028)!==0&&d!==null)d.return=h,_t=d;else for(;_t!==null;){h=_t;try{var At=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(At!==null){var Rt=At.memoizedProps,vr=At.memoizedState,Oe=h.stateNode,Ie=Oe.getSnapshotBeforeUpdate(h.elementType===h.type?Rt:_s(h.type,Rt),vr);Oe.__reactInternalSnapshotBeforeUpdate=Ie}break;case 3:var Ne=h.stateNode.containerInfo;Ne.nodeType===1?Ne.textContent="":Ne.nodeType===9&&Ne.documentElement&&Ne.removeChild(Ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(st){cr(h,h.return,st)}if(d=h.sibling,d!==null){d.return=h.return,_t=d;break}_t=h.return}return At=LA,LA=!1,At}function rp(d,h,M){var F=h.updateQueue;if(F=F!==null?F.lastEffect:null,F!==null){var W=F=F.next;do{if((W.tag&d)===d){var J=W.destroy;W.destroy=void 0,J!==void 0&&Ib(h,M,J)}W=W.next}while(W!==F)}}function im(d,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var M=h=h.next;do{if((M.tag&d)===d){var F=M.create;M.destroy=F()}M=M.next}while(M!==h)}}function kb(d){var h=d.ref;if(h!==null){var M=d.stateNode;switch(d.tag){case 5:d=M;break;default:d=M}typeof h=="function"?h(d):h.current=d}}function BA(d){var h=d.alternate;h!==null&&(d.alternate=null,BA(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&(delete h[Js],delete h[Wh],delete h[H1],delete h[aF],delete h[cF])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function DA(d){return d.tag===5||d.tag===3||d.tag===4}function jA(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||DA(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Mb(d,h,M){var F=d.tag;if(F===5||F===6)d=d.stateNode,h?M.nodeType===8?M.parentNode.insertBefore(d,h):M.insertBefore(d,h):(M.nodeType===8?(h=M.parentNode,h.insertBefore(d,M)):(h=M,h.appendChild(d)),M=M._reactRootContainer,M!=null||h.onclick!==null||(h.onclick=Lg));else if(F!==4&&(d=d.child,d!==null))for(Mb(d,h,M),d=d.sibling;d!==null;)Mb(d,h,M),d=d.sibling}function Rb(d,h,M){var F=d.tag;if(F===5||F===6)d=d.stateNode,h?M.insertBefore(d,h):M.appendChild(d);else if(F!==4&&(d=d.child,d!==null))for(Rb(d,h,M),d=d.sibling;d!==null;)Rb(d,h,M),d=d.sibling}var Yr=null,Ss=!1;function Hc(d,h,M){for(M=M.child;M!==null;)$A(d,h,M),M=M.sibling}function $A(d,h,M){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(Wi,M)}catch{}switch(M.tag){case 5:hi||tf(M,h);case 6:var F=Yr,W=Ss;Yr=null,Hc(d,h,M),Yr=F,Ss=W,Yr!==null&&(Ss?(d=Yr,M=M.stateNode,d.nodeType===8?d.parentNode.removeChild(M):d.removeChild(M)):Yr.removeChild(M.stateNode));break;case 18:Yr!==null&&(Ss?(d=Yr,M=M.stateNode,d.nodeType===8?q1(d.parentNode,M):d.nodeType===1&&q1(d,M),lu(d)):q1(Yr,M.stateNode));break;case 4:F=Yr,W=Ss,Yr=M.stateNode.containerInfo,Ss=!0,Hc(d,h,M),Yr=F,Ss=W;break;case 0:case 11:case 14:case 15:if(!hi&&(F=M.updateQueue,F!==null&&(F=F.lastEffect,F!==null))){W=F=F.next;do{var J=W,ae=J.destroy;J=J.tag,ae!==void 0&&((J&2)!==0||(J&4)!==0)&&Ib(M,h,ae),W=W.next}while(W!==F)}Hc(d,h,M);break;case 1:if(!hi&&(tf(M,h),F=M.stateNode,typeof F.componentWillUnmount=="function"))try{F.props=M.memoizedProps,F.state=M.memoizedState,F.componentWillUnmount()}catch(ve){cr(M,h,ve)}Hc(d,h,M);break;case 21:Hc(d,h,M);break;case 22:M.mode&1?(hi=(F=hi)||M.memoizedState!==null,Hc(d,h,M),hi=F):Hc(d,h,M);break;default:Hc(d,h,M)}}function FA(d){var h=d.updateQueue;if(h!==null){d.updateQueue=null;var M=d.stateNode;M===null&&(M=d.stateNode=new SF),h.forEach(function(F){var W=PF.bind(null,d,F);M.has(F)||(M.add(F),F.then(W,W))})}}function Cs(d,h){var M=h.deletions;if(M!==null)for(var F=0;F<M.length;F++){var W=M[F];try{var J=d,ae=h,ve=ae;e:for(;ve!==null;){switch(ve.tag){case 5:Yr=ve.stateNode,Ss=!1;break e;case 3:Yr=ve.stateNode.containerInfo,Ss=!0;break e;case 4:Yr=ve.stateNode.containerInfo,Ss=!0;break e}ve=ve.return}if(Yr===null)throw Error(n(160));$A(J,ae,W),Yr=null,Ss=!1;var Se=W.alternate;Se!==null&&(Se.return=null),W.return=null}catch(Be){cr(W,h,Be)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)UA(h,d),h=h.sibling}function UA(d,h){var M=d.alternate,F=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(Cs(h,d),Qs(d),F&4){try{rp(3,d,d.return),im(3,d)}catch(Rt){cr(d,d.return,Rt)}try{rp(5,d,d.return)}catch(Rt){cr(d,d.return,Rt)}}break;case 1:Cs(h,d),Qs(d),F&512&&M!==null&&tf(M,M.return);break;case 5:if(Cs(h,d),Qs(d),F&512&&M!==null&&tf(M,M.return),d.flags&32){var W=d.stateNode;try{ce(W,"")}catch(Rt){cr(d,d.return,Rt)}}if(F&4&&(W=d.stateNode,W!=null)){var J=d.memoizedProps,ae=M!==null?M.memoizedProps:J,ve=d.type,Se=d.updateQueue;if(d.updateQueue=null,Se!==null)try{ve==="input"&&J.type==="radio"&&J.name!=null&&me(W,J),Ot(ve,ae);var Be=Ot(ve,J);for(ae=0;ae<Se.length;ae+=2){var tt=Se[ae],rt=Se[ae+1];tt==="style"?lt(W,rt):tt==="dangerouslySetInnerHTML"?Z(W,rt):tt==="children"?ce(W,rt):N(W,tt,rt,Be)}switch(ve){case"input":ye(W,J);break;case"textarea":ze(W,J);break;case"select":var Qe=W._wrapperState.wasMultiple;W._wrapperState.wasMultiple=!!J.multiple;var yt=J.value;yt!=null?Ce(W,!!J.multiple,yt,!1):Qe!==!!J.multiple&&(J.defaultValue!=null?Ce(W,!!J.multiple,J.defaultValue,!0):Ce(W,!!J.multiple,J.multiple?[]:"",!1))}W[Wh]=J}catch(Rt){cr(d,d.return,Rt)}}break;case 6:if(Cs(h,d),Qs(d),F&4){if(d.stateNode===null)throw Error(n(162));W=d.stateNode,J=d.memoizedProps;try{W.nodeValue=J}catch(Rt){cr(d,d.return,Rt)}}break;case 3:if(Cs(h,d),Qs(d),F&4&&M!==null&&M.memoizedState.isDehydrated)try{lu(h.containerInfo)}catch(Rt){cr(d,d.return,Rt)}break;case 4:Cs(h,d),Qs(d);break;case 13:Cs(h,d),Qs(d),W=d.child,W.flags&8192&&(J=W.memoizedState!==null,W.stateNode.isHidden=J,!J||W.alternate!==null&&W.alternate.memoizedState!==null||(Nb=An())),F&4&&FA(d);break;case 22:if(tt=M!==null&&M.memoizedState!==null,d.mode&1?(hi=(Be=hi)||tt,Cs(h,d),hi=Be):Cs(h,d),Qs(d),F&8192){if(Be=d.memoizedState!==null,(d.stateNode.isHidden=Be)&&!tt&&(d.mode&1)!==0)for(_t=d,tt=d.child;tt!==null;){for(rt=_t=tt;_t!==null;){switch(Qe=_t,yt=Qe.child,Qe.tag){case 0:case 11:case 14:case 15:rp(4,Qe,Qe.return);break;case 1:tf(Qe,Qe.return);var At=Qe.stateNode;if(typeof At.componentWillUnmount=="function"){F=Qe,M=Qe.return;try{h=F,At.props=h.memoizedProps,At.state=h.memoizedState,At.componentWillUnmount()}catch(Rt){cr(F,M,Rt)}}break;case 5:tf(Qe,Qe.return);break;case 22:if(Qe.memoizedState!==null){HA(rt);continue}}yt!==null?(yt.return=Qe,_t=yt):HA(rt)}tt=tt.sibling}e:for(tt=null,rt=d;;){if(rt.tag===5){if(tt===null){tt=rt;try{W=rt.stateNode,Be?(J=W.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none"):(ve=rt.stateNode,Se=rt.memoizedProps.style,ae=Se!=null&&Se.hasOwnProperty("display")?Se.display:null,ve.style.display=Re("display",ae))}catch(Rt){cr(d,d.return,Rt)}}}else if(rt.tag===6){if(tt===null)try{rt.stateNode.nodeValue=Be?"":rt.memoizedProps}catch(Rt){cr(d,d.return,Rt)}}else if((rt.tag!==22&&rt.tag!==23||rt.memoizedState===null||rt===d)&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===d)break e;for(;rt.sibling===null;){if(rt.return===null||rt.return===d)break e;tt===rt&&(tt=null),rt=rt.return}tt===rt&&(tt=null),rt.sibling.return=rt.return,rt=rt.sibling}}break;case 19:Cs(h,d),Qs(d),F&4&&FA(d);break;case 21:break;default:Cs(h,d),Qs(d)}}function Qs(d){var h=d.flags;if(h&2){try{e:{for(var M=d.return;M!==null;){if(DA(M)){var F=M;break e}M=M.return}throw Error(n(160))}switch(F.tag){case 5:var W=F.stateNode;F.flags&32&&(ce(W,""),F.flags&=-33);var J=jA(d);Rb(d,J,W);break;case 3:case 4:var ae=F.stateNode.containerInfo,ve=jA(d);Mb(d,ve,ae);break;default:throw Error(n(161))}}catch(Se){cr(d,d.return,Se)}d.flags&=-3}h&4096&&(d.flags&=-4097)}function AF(d,h,M){_t=d,zA(d)}function zA(d,h,M){for(var F=(d.mode&1)!==0;_t!==null;){var W=_t,J=W.child;if(W.tag===22&&F){var ae=W.memoizedState!==null||rm;if(!ae){var ve=W.alternate,Se=ve!==null&&ve.memoizedState!==null||hi;ve=rm;var Be=hi;if(rm=ae,(hi=Se)&&!Be)for(_t=W;_t!==null;)ae=_t,Se=ae.child,ae.tag===22&&ae.memoizedState!==null?KA(W):Se!==null?(Se.return=ae,_t=Se):KA(W);for(;J!==null;)_t=J,zA(J),J=J.sibling;_t=W,rm=ve,hi=Be}qA(d)}else(W.subtreeFlags&8772)!==0&&J!==null?(J.return=W,_t=J):qA(d)}}function qA(d){for(;_t!==null;){var h=_t;if((h.flags&8772)!==0){var M=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:hi||im(5,h);break;case 1:var F=h.stateNode;if(h.flags&4&&!hi)if(M===null)F.componentDidMount();else{var W=h.elementType===h.type?M.memoizedProps:_s(h.type,M.memoizedProps);F.componentDidUpdate(W,M.memoizedState,F.__reactInternalSnapshotBeforeUpdate)}var J=h.updateQueue;J!==null&&H6(h,J,F);break;case 3:var ae=h.updateQueue;if(ae!==null){if(M=null,h.child!==null)switch(h.child.tag){case 5:M=h.child.stateNode;break;case 1:M=h.child.stateNode}H6(h,ae,M)}break;case 5:var ve=h.stateNode;if(M===null&&h.flags&4){M=ve;var Se=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":Se.autoFocus&&M.focus();break;case"img":Se.src&&(M.src=Se.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var Be=h.alternate;if(Be!==null){var tt=Be.memoizedState;if(tt!==null){var rt=tt.dehydrated;rt!==null&&lu(rt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}hi||h.flags&512&&kb(h)}catch(Qe){cr(h,h.return,Qe)}}if(h===d){_t=null;break}if(M=h.sibling,M!==null){M.return=h.return,_t=M;break}_t=h.return}}function HA(d){for(;_t!==null;){var h=_t;if(h===d){_t=null;break}var M=h.sibling;if(M!==null){M.return=h.return,_t=M;break}_t=h.return}}function KA(d){for(;_t!==null;){var h=_t;try{switch(h.tag){case 0:case 11:case 15:var M=h.return;try{im(4,h)}catch(Se){cr(h,M,Se)}break;case 1:var F=h.stateNode;if(typeof F.componentDidMount=="function"){var W=h.return;try{F.componentDidMount()}catch(Se){cr(h,W,Se)}}var J=h.return;try{kb(h)}catch(Se){cr(h,J,Se)}break;case 5:var ae=h.return;try{kb(h)}catch(Se){cr(h,ae,Se)}}}catch(Se){cr(h,h.return,Se)}if(h===d){_t=null;break}var ve=h.sibling;if(ve!==null){ve.return=h.return,_t=ve;break}_t=h.return}}var IF=Math.ceil,om=z.ReactCurrentDispatcher,Ob=z.ReactCurrentOwner,qo=z.ReactCurrentBatchConfig,_n=0,Dr=null,Cr=null,Jr=0,Eo=0,nf=$c(0),Or=0,ip=null,vu=0,sm=0,Tb=0,op=null,Zi=null,Nb=0,rf=1/0,Ua=null,am=!1,Pb=null,Kc=null,cm=!1,Wc=null,lm=0,sp=0,Lb=null,um=-1,dm=0;function Ni(){return(_n&6)!==0?An():um!==-1?um:um=An()}function Vc(d){return(d.mode&1)===0?1:(_n&2)!==0&&Jr!==0?Jr&-Jr:uF.transition!==null?(dm===0&&(dm=xg()),dm):(d=En,d!==0||(d=window.event,d=d===void 0?16:gr(d.type)),d)}function As(d,h,M,F){if(50<sp)throw sp=0,Lb=null,Error(n(185));su(d,M,F),((_n&2)===0||d!==Dr)&&(d===Dr&&((_n&2)===0&&(sm|=M),Or===4&&Gc(d,Jr)),Xi(d,F),M===1&&_n===0&&(h.mode&1)===0&&(rf=An()+500,$g&&Uc()))}function Xi(d,h){var M=d.callbackNode;x1(d,h);var F=ou(d,d===Dr?Jr:0);if(F===0)M!==null&&Pr(M),d.callbackNode=null,d.callbackPriority=0;else if(h=F&-F,d.callbackPriority!==h){if(M!=null&&Pr(M),h===1)d.tag===0?lF(VA.bind(null,d)):T6(VA.bind(null,d)),oF(function(){(_n&6)===0&&Uc()}),M=null;else{switch(Na(F)){case 1:M=yo;break;case 4:M=Ri;break;case 16:M=Ki;break;case 536870912:M=Mr;break;default:M=Ki}M=t5(M,WA.bind(null,d))}d.callbackPriority=h,d.callbackNode=M}}function WA(d,h){if(um=-1,dm=0,(_n&6)!==0)throw Error(n(327));var M=d.callbackNode;if(of()&&d.callbackNode!==M)return null;var F=ou(d,d===Dr?Jr:0);if(F===0)return null;if((F&30)!==0||(F&d.expiredLanes)!==0||h)h=fm(d,F);else{h=F;var W=_n;_n|=2;var J=YA();(Dr!==d||Jr!==h)&&(Ua=null,rf=An()+500,wu(d,h));do try{RF();break}catch(ve){GA(d,ve)}while(!0);Q1(),om.current=J,_n=W,Cr!==null?h=0:(Dr=null,Jr=0,h=Or)}if(h!==0){if(h===2&&(W=Oh(d),W!==0&&(F=W,h=Bb(d,W))),h===1)throw M=ip,wu(d,0),Gc(d,F),Xi(d,An()),M;if(h===6)Gc(d,F);else{if(W=d.current.alternate,(F&30)===0&&!kF(W)&&(h=fm(d,F),h===2&&(J=Oh(d),J!==0&&(F=J,h=Bb(d,J))),h===1))throw M=ip,wu(d,0),Gc(d,F),Xi(d,An()),M;switch(d.finishedWork=W,d.finishedLanes=F,h){case 0:case 1:throw Error(n(345));case 2:bu(d,Zi,Ua);break;case 3:if(Gc(d,F),(F&130023424)===F&&(h=Nb+500-An(),10<h)){if(ou(d,0)!==0)break;if(W=d.suspendedLanes,(W&F)!==F){Ni(),d.pingedLanes|=d.suspendedLanes&W;break}d.timeoutHandle=z1(bu.bind(null,d,Zi,Ua),h);break}bu(d,Zi,Ua);break;case 4:if(Gc(d,F),(F&4194240)===F)break;for(h=d.eventTimes,W=-1;0<F;){var ae=31-Vr(F);J=1<<ae,ae=h[ae],ae>W&&(W=ae),F&=~J}if(F=W,F=An()-F,F=(120>F?120:480>F?480:1080>F?1080:1920>F?1920:3e3>F?3e3:4320>F?4320:1960*IF(F/1960))-F,10<F){d.timeoutHandle=z1(bu.bind(null,d,Zi,Ua),F);break}bu(d,Zi,Ua);break;case 5:bu(d,Zi,Ua);break;default:throw Error(n(329))}}}return Xi(d,An()),d.callbackNode===M?WA.bind(null,d):null}function Bb(d,h){var M=op;return d.current.memoizedState.isDehydrated&&(wu(d,h).flags|=256),d=fm(d,h),d!==2&&(h=Zi,Zi=M,h!==null&&Db(h)),d}function Db(d){Zi===null?Zi=d:Zi.push.apply(Zi,d)}function kF(d){for(var h=d;;){if(h.flags&16384){var M=h.updateQueue;if(M!==null&&(M=M.stores,M!==null))for(var F=0;F<M.length;F++){var W=M[F],J=W.getSnapshot;W=W.value;try{if(!Es(J(),W))return!1}catch{return!1}}}if(M=h.child,h.subtreeFlags&16384&&M!==null)M.return=h,h=M;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Gc(d,h){for(h&=~Tb,h&=~sm,d.suspendedLanes|=h,d.pingedLanes&=~h,d=d.expirationTimes;0<h;){var M=31-Vr(h),F=1<<M;d[M]=-1,h&=~F}}function VA(d){if((_n&6)!==0)throw Error(n(327));of();var h=ou(d,0);if((h&1)===0)return Xi(d,An()),null;var M=fm(d,h);if(d.tag!==0&&M===2){var F=Oh(d);F!==0&&(h=F,M=Bb(d,F))}if(M===1)throw M=ip,wu(d,0),Gc(d,h),Xi(d,An()),M;if(M===6)throw Error(n(345));return d.finishedWork=d.current.alternate,d.finishedLanes=h,bu(d,Zi,Ua),Xi(d,An()),null}function jb(d,h){var M=_n;_n|=1;try{return d(h)}finally{_n=M,_n===0&&(rf=An()+500,$g&&Uc())}}function yu(d){Wc!==null&&Wc.tag===0&&(_n&6)===0&&of();var h=_n;_n|=1;var M=qo.transition,F=En;try{if(qo.transition=null,En=1,d)return d()}finally{En=F,qo.transition=M,_n=h,(_n&6)===0&&Uc()}}function $b(){Eo=nf.current,Yn(nf)}function wu(d,h){d.finishedWork=null,d.finishedLanes=0;var M=d.timeoutHandle;if(M!==-1&&(d.timeoutHandle=-1,iF(M)),Cr!==null)for(M=Cr.return;M!==null;){var F=M;switch(G1(F),F.tag){case 1:F=F.type.childContextTypes,F!=null&&Dg();break;case 3:Qd(),Yn(Gi),Yn(ui),ab();break;case 5:ob(F);break;case 4:Qd();break;case 13:Yn(Qn);break;case 19:Yn(Qn);break;case 10:eb(F.type._context);break;case 22:case 23:$b()}M=M.return}if(Dr=d,Cr=d=Yc(d.current,null),Jr=Eo=h,Or=0,ip=null,Tb=sm=vu=0,Zi=op=null,pu!==null){for(h=0;h<pu.length;h++)if(M=pu[h],F=M.interleaved,F!==null){M.interleaved=null;var W=F.next,J=M.pending;if(J!==null){var ae=J.next;J.next=W,F.next=ae}M.pending=F}pu=null}return d}function GA(d,h){do{var M=Cr;try{if(Q1(),Yg.current=Qg,Jg){for(var F=er.memoizedState;F!==null;){var W=F.queue;W!==null&&(W.pending=null),F=F.next}Jg=!1}if(mu=0,Br=Rr=er=null,Xh=!1,Qh=0,Ob.current=null,M===null||M.return===null){Or=1,ip=h,Cr=null;break}e:{var J=d,ae=M.return,ve=M,Se=h;if(h=Jr,ve.flags|=32768,Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var Be=Se,tt=ve,rt=tt.tag;if((tt.mode&1)===0&&(rt===0||rt===11||rt===15)){var Qe=tt.alternate;Qe?(tt.updateQueue=Qe.updateQueue,tt.memoizedState=Qe.memoizedState,tt.lanes=Qe.lanes):(tt.updateQueue=null,tt.memoizedState=null)}var yt=wA(ae);if(yt!==null){yt.flags&=-257,bA(yt,ae,ve,J,h),yt.mode&1&&yA(J,Be,h),h=yt,Se=Be;var At=h.updateQueue;if(At===null){var Rt=new Set;Rt.add(Se),h.updateQueue=Rt}else At.add(Se);break e}else{if((h&1)===0){yA(J,Be,h),Fb();break e}Se=Error(n(426))}}else if(Jn&&ve.mode&1){var vr=wA(ae);if(vr!==null){(vr.flags&65536)===0&&(vr.flags|=256),bA(vr,ae,ve,J,h),Z1(ef(Se,ve));break e}}J=Se=ef(Se,ve),Or!==4&&(Or=2),op===null?op=[J]:op.push(J),J=ae;do{switch(J.tag){case 3:J.flags|=65536,h&=-h,J.lanes|=h;var Oe=mA(J,Se,h);q6(J,Oe);break e;case 1:ve=Se;var Ie=J.type,Ne=J.stateNode;if((J.flags&128)===0&&(typeof Ie.getDerivedStateFromError=="function"||Ne!==null&&typeof Ne.componentDidCatch=="function"&&(Kc===null||!Kc.has(Ne)))){J.flags|=65536,h&=-h,J.lanes|=h;var st=vA(J,ve,h);q6(J,st);break e}}J=J.return}while(J!==null)}ZA(M)}catch(Tt){h=Tt,Cr===M&&M!==null&&(Cr=M=M.return);continue}break}while(!0)}function YA(){var d=om.current;return om.current=Qg,d===null?Qg:d}function Fb(){(Or===0||Or===3||Or===2)&&(Or=4),Dr===null||(vu&268435455)===0&&(sm&268435455)===0||Gc(Dr,Jr)}function fm(d,h){var M=_n;_n|=2;var F=YA();(Dr!==d||Jr!==h)&&(Ua=null,wu(d,h));do try{MF();break}catch(W){GA(d,W)}while(!0);if(Q1(),_n=M,om.current=F,Cr!==null)throw Error(n(261));return Dr=null,Jr=0,Or}function MF(){for(;Cr!==null;)JA(Cr)}function RF(){for(;Cr!==null&&!hs();)JA(Cr)}function JA(d){var h=e5(d.alternate,d,Eo);d.memoizedProps=d.pendingProps,h===null?ZA(d):Cr=h,Ob.current=null}function ZA(d){var h=d;do{var M=h.alternate;if(d=h.return,(h.flags&32768)===0){if(M=xF(M,h,Eo),M!==null){Cr=M;return}}else{if(M=_F(M,h),M!==null){M.flags&=32767,Cr=M;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Or=6,Cr=null;return}}if(h=h.sibling,h!==null){Cr=h;return}Cr=h=d}while(h!==null);Or===0&&(Or=5)}function bu(d,h,M){var F=En,W=qo.transition;try{qo.transition=null,En=1,OF(d,h,M,F)}finally{qo.transition=W,En=F}return null}function OF(d,h,M,F){do of();while(Wc!==null);if((_n&6)!==0)throw Error(n(327));M=d.finishedWork;var W=d.finishedLanes;if(M===null)return null;if(d.finishedWork=null,d.finishedLanes=0,M===d.current)throw Error(n(177));d.callbackNode=null,d.callbackPriority=0;var J=M.lanes|M.childLanes;if(_1(d,J),d===Dr&&(Cr=Dr=null,Jr=0),(M.subtreeFlags&2064)===0&&(M.flags&2064)===0||cm||(cm=!0,t5(Ki,function(){return of(),null})),J=(M.flags&15990)!==0,(M.subtreeFlags&15990)!==0||J){J=qo.transition,qo.transition=null;var ae=En;En=1;var ve=_n;_n|=4,Ob.current=null,CF(d,M),UA(M,d),Z$(F1),Me=!!$1,F1=$1=null,d.current=M,AF(M),ps(),_n=ve,En=ae,qo.transition=J}else d.current=M;if(cm&&(cm=!1,Wc=d,lm=W),J=d.pendingLanes,J===0&&(Kc=null),vs(M.stateNode),Xi(d,An()),h!==null)for(F=d.onRecoverableError,M=0;M<h.length;M++)W=h[M],F(W.value,{componentStack:W.stack,digest:W.digest});if(am)throw am=!1,d=Pb,Pb=null,d;return(lm&1)!==0&&d.tag!==0&&of(),J=d.pendingLanes,(J&1)!==0?d===Lb?sp++:(sp=0,Lb=d):sp=0,Uc(),null}function of(){if(Wc!==null){var d=Na(lm),h=qo.transition,M=En;try{if(qo.transition=null,En=16>d?16:d,Wc===null)var F=!1;else{if(d=Wc,Wc=null,lm=0,(_n&6)!==0)throw Error(n(331));var W=_n;for(_n|=4,_t=d.current;_t!==null;){var J=_t,ae=J.child;if((_t.flags&16)!==0){var ve=J.deletions;if(ve!==null){for(var Se=0;Se<ve.length;Se++){var Be=ve[Se];for(_t=Be;_t!==null;){var tt=_t;switch(tt.tag){case 0:case 11:case 15:rp(8,tt,J)}var rt=tt.child;if(rt!==null)rt.return=tt,_t=rt;else for(;_t!==null;){tt=_t;var Qe=tt.sibling,yt=tt.return;if(BA(tt),tt===Be){_t=null;break}if(Qe!==null){Qe.return=yt,_t=Qe;break}_t=yt}}}var At=J.alternate;if(At!==null){var Rt=At.child;if(Rt!==null){At.child=null;do{var vr=Rt.sibling;Rt.sibling=null,Rt=vr}while(Rt!==null)}}_t=J}}if((J.subtreeFlags&2064)!==0&&ae!==null)ae.return=J,_t=ae;else e:for(;_t!==null;){if(J=_t,(J.flags&2048)!==0)switch(J.tag){case 0:case 11:case 15:rp(9,J,J.return)}var Oe=J.sibling;if(Oe!==null){Oe.return=J.return,_t=Oe;break e}_t=J.return}}var Ie=d.current;for(_t=Ie;_t!==null;){ae=_t;var Ne=ae.child;if((ae.subtreeFlags&2064)!==0&&Ne!==null)Ne.return=ae,_t=Ne;else e:for(ae=Ie;_t!==null;){if(ve=_t,(ve.flags&2048)!==0)try{switch(ve.tag){case 0:case 11:case 15:im(9,ve)}}catch(Tt){cr(ve,ve.return,Tt)}if(ve===ae){_t=null;break e}var st=ve.sibling;if(st!==null){st.return=ve.return,_t=st;break e}_t=ve.return}}if(_n=W,Uc(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(Wi,d)}catch{}F=!0}return F}finally{En=M,qo.transition=h}}return!1}function XA(d,h,M){h=ef(M,h),h=mA(d,h,1),d=qc(d,h,1),h=Ni(),d!==null&&(su(d,1,h),Xi(d,h))}function cr(d,h,M){if(d.tag===3)XA(d,d,M);else for(;h!==null;){if(h.tag===3){XA(h,d,M);break}else if(h.tag===1){var F=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof F.componentDidCatch=="function"&&(Kc===null||!Kc.has(F))){d=ef(M,d),d=vA(h,d,1),h=qc(h,d,1),d=Ni(),h!==null&&(su(h,1,d),Xi(h,d));break}}h=h.return}}function TF(d,h,M){var F=d.pingCache;F!==null&&F.delete(h),h=Ni(),d.pingedLanes|=d.suspendedLanes&M,Dr===d&&(Jr&M)===M&&(Or===4||Or===3&&(Jr&130023424)===Jr&&500>An()-Nb?wu(d,0):Tb|=M),Xi(d,h)}function QA(d,h){h===0&&((d.mode&1)===0?h=1:(h=Ks,Ks<<=1,(Ks&130023424)===0&&(Ks=4194304)));var M=Ni();d=ja(d,h),d!==null&&(su(d,h,M),Xi(d,M))}function NF(d){var h=d.memoizedState,M=0;h!==null&&(M=h.retryLane),QA(d,M)}function PF(d,h){var M=0;switch(d.tag){case 13:var F=d.stateNode,W=d.memoizedState;W!==null&&(M=W.retryLane);break;case 19:F=d.stateNode;break;default:throw Error(n(314))}F!==null&&F.delete(h),QA(d,M)}var e5;e5=function(d,h,M){if(d!==null)if(d.memoizedProps!==h.pendingProps||Gi.current)Ji=!0;else{if((d.lanes&M)===0&&(h.flags&128)===0)return Ji=!1,EF(d,h,M);Ji=(d.flags&131072)!==0}else Ji=!1,Jn&&(h.flags&1048576)!==0&&N6(h,Ug,h.index);switch(h.lanes=0,h.tag){case 2:var F=h.type;nm(d,h),d=h.pendingProps;var W=Wd(h,ui.current);Xd(h,M),W=ub(null,h,F,d,W,M);var J=db();return h.flags|=1,typeof W=="object"&&W!==null&&typeof W.render=="function"&&W.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Yi(F)?(J=!0,jg(h)):J=!1,h.memoizedState=W.state!==null&&W.state!==void 0?W.state:null,rb(h),W.updater=em,h.stateNode=W,W._reactInternals=h,vb(h,F,d,M),h=Eb(null,h,F,!0,J,M)):(h.tag=0,Jn&&J&&V1(h),Ti(null,h,W,M),h=h.child),h;case 16:F=h.elementType;e:{switch(nm(d,h),d=h.pendingProps,W=F._init,F=W(F._payload),h.type=F,W=h.tag=BF(F),d=_s(F,d),W){case 0:h=bb(null,h,F,d,M);break e;case 1:h=AA(null,h,F,d,M);break e;case 11:h=EA(null,h,F,d,M);break e;case 14:h=xA(null,h,F,_s(F.type,d),M);break e}throw Error(n(306,F,""))}return h;case 0:return F=h.type,W=h.pendingProps,W=h.elementType===F?W:_s(F,W),bb(d,h,F,W,M);case 1:return F=h.type,W=h.pendingProps,W=h.elementType===F?W:_s(F,W),AA(d,h,F,W,M);case 3:e:{if(IA(h),d===null)throw Error(n(387));F=h.pendingProps,J=h.memoizedState,W=J.element,z6(d,h),Vg(h,F,null,M);var ae=h.memoizedState;if(F=ae.element,J.isDehydrated)if(J={element:F,isDehydrated:!1,cache:ae.cache,pendingSuspenseBoundaries:ae.pendingSuspenseBoundaries,transitions:ae.transitions},h.updateQueue.baseState=J,h.memoizedState=J,h.flags&256){W=ef(Error(n(423)),h),h=kA(d,h,F,M,W);break e}else if(F!==W){W=ef(Error(n(424)),h),h=kA(d,h,F,M,W);break e}else for(bo=jc(h.stateNode.containerInfo.firstChild),wo=h,Jn=!0,xs=null,M=F6(h,null,F,M),h.child=M;M;)M.flags=M.flags&-3|4096,M=M.sibling;else{if(Yd(),F===W){h=Fa(d,h,M);break e}Ti(d,h,F,M)}h=h.child}return h;case 5:return K6(h),d===null&&J1(h),F=h.type,W=h.pendingProps,J=d!==null?d.memoizedProps:null,ae=W.children,U1(F,W)?ae=null:J!==null&&U1(F,J)&&(h.flags|=32),CA(d,h),Ti(d,h,ae,M),h.child;case 6:return d===null&&J1(h),null;case 13:return MA(d,h,M);case 4:return ib(h,h.stateNode.containerInfo),F=h.pendingProps,d===null?h.child=Jd(h,null,F,M):Ti(d,h,F,M),h.child;case 11:return F=h.type,W=h.pendingProps,W=h.elementType===F?W:_s(F,W),EA(d,h,F,W,M);case 7:return Ti(d,h,h.pendingProps,M),h.child;case 8:return Ti(d,h,h.pendingProps.children,M),h.child;case 12:return Ti(d,h,h.pendingProps.children,M),h.child;case 10:e:{if(F=h.type._context,W=h.pendingProps,J=h.memoizedProps,ae=W.value,Hn(Hg,F._currentValue),F._currentValue=ae,J!==null)if(Es(J.value,ae)){if(J.children===W.children&&!Gi.current){h=Fa(d,h,M);break e}}else for(J=h.child,J!==null&&(J.return=h);J!==null;){var ve=J.dependencies;if(ve!==null){ae=J.child;for(var Se=ve.firstContext;Se!==null;){if(Se.context===F){if(J.tag===1){Se=$a(-1,M&-M),Se.tag=2;var Be=J.updateQueue;if(Be!==null){Be=Be.shared;var tt=Be.pending;tt===null?Se.next=Se:(Se.next=tt.next,tt.next=Se),Be.pending=Se}}J.lanes|=M,Se=J.alternate,Se!==null&&(Se.lanes|=M),tb(J.return,M,h),ve.lanes|=M;break}Se=Se.next}}else if(J.tag===10)ae=J.type===h.type?null:J.child;else if(J.tag===18){if(ae=J.return,ae===null)throw Error(n(341));ae.lanes|=M,ve=ae.alternate,ve!==null&&(ve.lanes|=M),tb(ae,M,h),ae=J.sibling}else ae=J.child;if(ae!==null)ae.return=J;else for(ae=J;ae!==null;){if(ae===h){ae=null;break}if(J=ae.sibling,J!==null){J.return=ae.return,ae=J;break}ae=ae.return}J=ae}Ti(d,h,W.children,M),h=h.child}return h;case 9:return W=h.type,F=h.pendingProps.children,Xd(h,M),W=Uo(W),F=F(W),h.flags|=1,Ti(d,h,F,M),h.child;case 14:return F=h.type,W=_s(F,h.pendingProps),W=_s(F.type,W),xA(d,h,F,W,M);case 15:return _A(d,h,h.type,h.pendingProps,M);case 17:return F=h.type,W=h.pendingProps,W=h.elementType===F?W:_s(F,W),nm(d,h),h.tag=1,Yi(F)?(d=!0,jg(h)):d=!1,Xd(h,M),pA(h,F,W),vb(h,F,W,M),Eb(null,h,F,!0,d,M);case 19:return OA(d,h,M);case 22:return SA(d,h,M)}throw Error(n(156,h.tag))};function t5(d,h){return jo(d,h)}function LF(d,h,M,F){this.tag=d,this.key=M,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=F,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ho(d,h,M,F){return new LF(d,h,M,F)}function Ub(d){return d=d.prototype,!(!d||!d.isReactComponent)}function BF(d){if(typeof d=="function")return Ub(d)?1:0;if(d!=null){if(d=d.$$typeof,d===E)return 11;if(d===v)return 14}return 2}function Yc(d,h){var M=d.alternate;return M===null?(M=Ho(d.tag,h,d.key,d.mode),M.elementType=d.elementType,M.type=d.type,M.stateNode=d.stateNode,M.alternate=d,d.alternate=M):(M.pendingProps=h,M.type=d.type,M.flags=0,M.subtreeFlags=0,M.deletions=null),M.flags=d.flags&14680064,M.childLanes=d.childLanes,M.lanes=d.lanes,M.child=d.child,M.memoizedProps=d.memoizedProps,M.memoizedState=d.memoizedState,M.updateQueue=d.updateQueue,h=d.dependencies,M.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},M.sibling=d.sibling,M.index=d.index,M.ref=d.ref,M}function hm(d,h,M,F,W,J){var ae=2;if(F=d,typeof d=="function")Ub(d)&&(ae=1);else if(typeof d=="string")ae=5;else e:switch(d){case K:return Eu(M.children,W,J,h);case j:ae=8,W|=8;break;case B:return d=Ho(12,M,h,W|2),d.elementType=B,d.lanes=J,d;case b:return d=Ho(13,M,h,W),d.elementType=b,d.lanes=J,d;case g:return d=Ho(19,M,h,W),d.elementType=g,d.lanes=J,d;case L:return pm(M,W,J,h);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case D:ae=10;break e;case P:ae=9;break e;case E:ae=11;break e;case v:ae=14;break e;case A:ae=16,F=null;break e}throw Error(n(130,d==null?d:typeof d,""))}return h=Ho(ae,M,h,W),h.elementType=d,h.type=F,h.lanes=J,h}function Eu(d,h,M,F){return d=Ho(7,d,F,h),d.lanes=M,d}function pm(d,h,M,F){return d=Ho(22,d,F,h),d.elementType=L,d.lanes=M,d.stateNode={isHidden:!1},d}function zb(d,h,M){return d=Ho(6,d,null,h),d.lanes=M,d}function qb(d,h,M){return h=Ho(4,d.children!==null?d.children:[],d.key,h),h.lanes=M,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}function DF(d,h,M,F,W){this.tag=h,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ld(0),this.expirationTimes=Ld(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ld(0),this.identifierPrefix=F,this.onRecoverableError=W,this.mutableSourceEagerHydrationData=null}function Hb(d,h,M,F,W,J,ae,ve,Se){return d=new DF(d,h,M,ve,Se),h===1?(h=1,J===!0&&(h|=8)):h=0,J=Ho(3,null,null,h),d.current=J,J.stateNode=d,J.memoizedState={element:F,isDehydrated:M,cache:null,transitions:null,pendingSuspenseBoundaries:null},rb(J),d}function jF(d,h,M){var F=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:F==null?null:""+F,children:d,containerInfo:h,implementation:M}}function n5(d){if(!d)return Fc;d=d._reactInternals;e:{if(pn(d)!==d||d.tag!==1)throw Error(n(170));var h=d;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Yi(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(n(171))}if(d.tag===1){var M=d.type;if(Yi(M))return R6(d,M,h)}return h}function r5(d,h,M,F,W,J,ae,ve,Se){return d=Hb(M,F,!0,d,W,J,ae,ve,Se),d.context=n5(null),M=d.current,F=Ni(),W=Vc(M),J=$a(F,W),J.callback=h??null,qc(M,J,W),d.current.lanes=W,su(d,W,F),Xi(d,F),d}function gm(d,h,M,F){var W=h.current,J=Ni(),ae=Vc(W);return M=n5(M),h.context===null?h.context=M:h.pendingContext=M,h=$a(J,ae),h.payload={element:d},F=F===void 0?null:F,F!==null&&(h.callback=F),d=qc(W,h,ae),d!==null&&(As(d,W,ae,J),Wg(d,W,ae)),ae}function mm(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function i5(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var M=d.retryLane;d.retryLane=M!==0&&M<h?M:h}}function Kb(d,h){i5(d,h),(d=d.alternate)&&i5(d,h)}function $F(){return null}var o5=typeof reportError=="function"?reportError:function(d){console.error(d)};function Wb(d){this._internalRoot=d}vm.prototype.render=Wb.prototype.render=function(d){var h=this._internalRoot;if(h===null)throw Error(n(409));gm(d,h,null,null)},vm.prototype.unmount=Wb.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var h=d.containerInfo;yu(function(){gm(null,d,null,null)}),h[Pa]=null}};function vm(d){this._internalRoot=d}vm.prototype.unstable_scheduleHydration=function(d){if(d){var h=Sg();d={blockedOn:null,target:d,priority:h};for(var M=0;M<Gs.length&&h!==0&&h<Gs[M].priority;M++);Gs.splice(M,0,d),M===0&&Lh(d)}};function Vb(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function ym(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function s5(){}function FF(d,h,M,F,W){if(W){if(typeof F=="function"){var J=F;F=function(){var Be=mm(ae);J.call(Be)}}var ae=r5(h,F,d,0,null,!1,!1,"",s5);return d._reactRootContainer=ae,d[Pa]=ae.current,Hh(d.nodeType===8?d.parentNode:d),yu(),ae}for(;W=d.lastChild;)d.removeChild(W);if(typeof F=="function"){var ve=F;F=function(){var Be=mm(Se);ve.call(Be)}}var Se=Hb(d,0,!1,null,null,!1,!1,"",s5);return d._reactRootContainer=Se,d[Pa]=Se.current,Hh(d.nodeType===8?d.parentNode:d),yu(function(){gm(h,Se,M,F)}),Se}function wm(d,h,M,F,W){var J=M._reactRootContainer;if(J){var ae=J;if(typeof W=="function"){var ve=W;W=function(){var Se=mm(ae);ve.call(Se)}}gm(h,ae,d,W)}else ae=FF(M,h,d,W,F);return mm(ae)}_g=function(d){switch(d.tag){case 3:var h=d.stateNode;if(h.current.memoizedState.isDehydrated){var M=Nc(h.pendingLanes);M!==0&&(Bd(h,M|1),Xi(h,An()),(_n&6)===0&&(rf=An()+500,Uc()))}break;case 13:yu(function(){var F=ja(d,1);if(F!==null){var W=Ni();As(F,d,1,W)}}),Kb(d,1)}},Th=function(d){if(d.tag===13){var h=ja(d,134217728);if(h!==null){var M=Ni();As(h,d,134217728,M)}Kb(d,134217728)}},ys=function(d){if(d.tag===13){var h=Vc(d),M=ja(d,h);if(M!==null){var F=Ni();As(M,d,h,F)}Kb(d,h)}},Sg=function(){return En},Cg=function(d,h){var M=En;try{return En=d,h()}finally{En=M}},hn=function(d,h,M){switch(h){case"input":if(ye(d,M),h=M.name,M.type==="radio"&&h!=null){for(M=d;M.parentNode;)M=M.parentNode;for(M=M.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<M.length;h++){var F=M[h];if(F!==d&&F.form===d.form){var W=Bg(F);if(!W)throw Error(n(90));oe(F),ye(F,W)}}}break;case"textarea":ze(d,M);break;case"select":h=M.value,h!=null&&Ce(d,!!M.multiple,h,!1)}},Mt=jb,le=yu;var UF={usingClientEntryPoint:!1,Events:[Vh,Hd,Bg,Nt,gt,jb]},ap={findFiberByHostInstance:uu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zF={bundleType:ap.bundleType,version:ap.version,rendererPackageName:ap.rendererPackageName,rendererConfig:ap.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=sr(d),d===null?null:d.stateNode},findFiberByHostInstance:ap.findFiberByHostInstance||$F,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bm.isDisabled&&bm.supportsFiber)try{Wi=bm.inject(zF),Sr=bm}catch{}}return Qi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UF,Qi.createPortal=function(d,h){var M=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vb(h))throw Error(n(200));return jF(d,h,null,M)},Qi.createRoot=function(d,h){if(!Vb(d))throw Error(n(299));var M=!1,F="",W=o5;return h!=null&&(h.unstable_strictMode===!0&&(M=!0),h.identifierPrefix!==void 0&&(F=h.identifierPrefix),h.onRecoverableError!==void 0&&(W=h.onRecoverableError)),h=Hb(d,1,!1,null,null,M,!1,F,W),d[Pa]=h.current,Hh(d.nodeType===8?d.parentNode:d),new Wb(h)},Qi.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=sr(h),d=d===null?null:d.stateNode,d},Qi.flushSync=function(d){return yu(d)},Qi.hydrate=function(d,h,M){if(!ym(h))throw Error(n(200));return wm(null,d,h,!0,M)},Qi.hydrateRoot=function(d,h,M){if(!Vb(d))throw Error(n(405));var F=M!=null&&M.hydratedSources||null,W=!1,J="",ae=o5;if(M!=null&&(M.unstable_strictMode===!0&&(W=!0),M.identifierPrefix!==void 0&&(J=M.identifierPrefix),M.onRecoverableError!==void 0&&(ae=M.onRecoverableError)),h=r5(h,null,d,1,M??null,W,!1,J,ae),d[Pa]=h.current,Hh(d),F)for(d=0;d<F.length;d++)M=F[d],W=M._getVersion,W=W(M._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[M,W]:h.mutableSourceEagerHydrationData.push(M,W);return new vm(h)},Qi.render=function(d,h,M){if(!ym(h))throw Error(n(200));return wm(null,d,h,!1,M)},Qi.unmountComponentAtNode=function(d){if(!ym(d))throw Error(n(40));return d._reactRootContainer?(yu(function(){wm(null,null,d,!1,function(){d._reactRootContainer=null,d[Pa]=null})}),!0):!1},Qi.unstable_batchedUpdates=jb,Qi.unstable_renderSubtreeIntoContainer=function(d,h,M,F){if(!ym(M))throw Error(n(200));if(d==null||d._reactInternals===void 0)throw Error(n(38));return wm(d,h,M,!1,F)},Qi.version="18.3.1-next-f1338f8080-20240426",Qi}var w5;function nU(){if(w5)return Qb.exports;w5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qb.exports=tU(),Qb.exports}var b5;function rU(){if(b5)return _m;b5=1;var t=nU();return _m.createRoot=t.createRoot,_m.hydrateRoot=t.hydrateRoot,_m}var S9=rU();const iU=si(S9);var be=xh();const sd=si(be),oU="modulepreload",sU=function(t){return"/"+t},E5={},In=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let s=function(l){return Promise.all(l.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=s(n.map(l=>{if(l=sU(l),l in E5)return;E5[l]=!0;const u=l.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":oU,u||(p.as="script"),p.crossOrigin="",p.href=l,c&&p.setAttribute("nonce",c),document.head.appendChild(p),u)return new Promise((m,w)=>{p.addEventListener("load",m),p.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};function aU(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Cw(t,e){if(t==null)return{};var n,r,i=aU(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function n0(t){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n0(t)}function cU(t,e){if(n0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(n0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lU(t){var e=cU(t,"string");return n0(e)=="symbol"?e:e+""}function ke(t,e,n){return(e=lU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x5(Object(n),!0).forEach(function(r){ke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var jv={exports:{}};const uU={},dU=Object.freeze(Object.defineProperty({__proto__:null,default:uU},Symbol.toStringTag,{value:"Module"})),zS=US(dU);var fU=jv.exports,_5;function C9(){return _5||(_5=1,function(t){(function(e,n){function r(b,g){if(!b)throw new Error(g||"Assertion failed")}function i(b,g){b.super_=g;var v=function(){};v.prototype=g.prototype,b.prototype=new v,b.prototype.constructor=b}function o(b,g,v){if(o.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((g==="le"||g==="be")&&(v=g,g=10),this._init(b||0,g||10,v||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=zS.Buffer}catch{}o.isBN=function(g){return g instanceof o?!0:g!==null&&typeof g=="object"&&g.constructor.wordSize===o.wordSize&&Array.isArray(g.words)},o.max=function(g,v){return g.cmp(v)>0?g:v},o.min=function(g,v){return g.cmp(v)<0?g:v},o.prototype._init=function(g,v,A){if(typeof g=="number")return this._initNumber(g,v,A);if(typeof g=="object")return this._initArray(g,v,A);v==="hex"&&(v=16),r(v===(v|0)&&v>=2&&v<=36),g=g.toString().replace(/\s+/g,"");var L=0;g[0]==="-"&&(L++,this.negative=1),L<g.length&&(v===16?this._parseHex(g,L,A):(this._parseBase(g,v,L),A==="le"&&this._initArray(this.toArray(),v,A)))},o.prototype._initNumber=function(g,v,A){g<0&&(this.negative=1,g=-g),g<67108864?(this.words=[g&67108863],this.length=1):g<4503599627370496?(this.words=[g&67108863,g/67108864&67108863],this.length=2):(r(g<9007199254740992),this.words=[g&67108863,g/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),v,A)},o.prototype._initArray=function(g,v,A){if(r(typeof g.length=="number"),g.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(g.length/3),this.words=new Array(this.length);for(var L=0;L<this.length;L++)this.words[L]=0;var C,O,x=0;if(A==="be")for(L=g.length-1,C=0;L>=0;L-=3)O=g[L]|g[L-1]<<8|g[L-2]<<16,this.words[C]|=O<<x&67108863,this.words[C+1]=O>>>26-x&67108863,x+=24,x>=26&&(x-=26,C++);else if(A==="le")for(L=0,C=0;L<g.length;L+=3)O=g[L]|g[L+1]<<8|g[L+2]<<16,this.words[C]|=O<<x&67108863,this.words[C+1]=O>>>26-x&67108863,x+=24,x>=26&&(x-=26,C++);return this._strip()};function a(b,g){var v=b.charCodeAt(g);if(v>=48&&v<=57)return v-48;if(v>=65&&v<=70)return v-55;if(v>=97&&v<=102)return v-87;r(!1,"Invalid character in "+b)}function c(b,g,v){var A=a(b,v);return v-1>=g&&(A|=a(b,v-1)<<4),A}o.prototype._parseHex=function(g,v,A){this.length=Math.ceil((g.length-v)/6),this.words=new Array(this.length);for(var L=0;L<this.length;L++)this.words[L]=0;var C=0,O=0,x;if(A==="be")for(L=g.length-1;L>=v;L-=2)x=c(g,v,L)<<C,this.words[O]|=x&67108863,C>=18?(C-=18,O+=1,this.words[O]|=x>>>26):C+=8;else{var R=g.length-v;for(L=R%2===0?v+1:v;L<g.length;L+=2)x=c(g,v,L)<<C,this.words[O]|=x&67108863,C>=18?(C-=18,O+=1,this.words[O]|=x>>>26):C+=8}this._strip()};function l(b,g,v,A){for(var L=0,C=0,O=Math.min(b.length,v),x=g;x<O;x++){var R=b.charCodeAt(x)-48;L*=A,R>=49?C=R-49+10:R>=17?C=R-17+10:C=R,r(R>=0&&C<A,"Invalid character"),L+=C}return L}o.prototype._parseBase=function(g,v,A){this.words=[0],this.length=1;for(var L=0,C=1;C<=67108863;C*=v)L++;L--,C=C/v|0;for(var O=g.length-A,x=O%L,R=Math.min(O,O-x)+A,_=0,k=A;k<R;k+=L)_=l(g,k,k+L,v),this.imuln(C),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_);if(x!==0){var U=1;for(_=l(g,k,g.length,v),k=0;k<x;k++)U*=v;this.imuln(U),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_)}this._strip()},o.prototype.copy=function(g){g.words=new Array(this.length);for(var v=0;v<this.length;v++)g.words[v]=this.words[v];g.length=this.length,g.negative=this.negative,g.red=this.red};function u(b,g){b.words=g.words,b.length=g.length,b.negative=g.negative,b.red=g.red}if(o.prototype._move=function(g){u(g,this)},o.prototype.clone=function(){var g=new o(null);return this.copy(g),g},o.prototype._expand=function(g){for(;this.length<g;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{o.prototype.inspect=f}else o.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(g,v){g=g||10,v=v|0||1;var A;if(g===16||g==="hex"){A="";for(var L=0,C=0,O=0;O<this.length;O++){var x=this.words[O],R=((x<<L|C)&16777215).toString(16);C=x>>>24-L&16777215,L+=2,L>=26&&(L-=26,O--),C!==0||O!==this.length-1?A=p[6-R.length]+R+A:A=R+A}for(C!==0&&(A=C.toString(16)+A);A.length%v!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(g===(g|0)&&g>=2&&g<=36){var _=m[g],k=w[g];A="";var U=this.clone();for(U.negative=0;!U.isZero();){var q=U.modrn(k).toString(g);U=U.idivn(k),U.isZero()?A=q+A:A=p[_-q.length]+q+A}for(this.isZero()&&(A="0"+A);A.length%v!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var g=this.words[0];return this.length===2?g+=this.words[1]*67108864:this.length===3&&this.words[2]===1?g+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-g:g},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(g,v){return this.toArrayLike(s,g,v)}),o.prototype.toArray=function(g,v){return this.toArrayLike(Array,g,v)};var y=function(g,v){return g.allocUnsafe?g.allocUnsafe(v):new g(v)};o.prototype.toArrayLike=function(g,v,A){this._strip();var L=this.byteLength(),C=A||Math.max(1,L);r(L<=C,"byte array longer than desired length"),r(C>0,"Requested array length <= 0");var O=y(g,C),x=v==="le"?"LE":"BE";return this["_toArrayLike"+x](O,L),O},o.prototype._toArrayLikeLE=function(g,v){for(var A=0,L=0,C=0,O=0;C<this.length;C++){var x=this.words[C]<<O|L;g[A++]=x&255,A<g.length&&(g[A++]=x>>8&255),A<g.length&&(g[A++]=x>>16&255),O===6?(A<g.length&&(g[A++]=x>>24&255),L=0,O=0):(L=x>>>24,O+=2)}if(A<g.length)for(g[A++]=L;A<g.length;)g[A++]=0},o.prototype._toArrayLikeBE=function(g,v){for(var A=g.length-1,L=0,C=0,O=0;C<this.length;C++){var x=this.words[C]<<O|L;g[A--]=x&255,A>=0&&(g[A--]=x>>8&255),A>=0&&(g[A--]=x>>16&255),O===6?(A>=0&&(g[A--]=x>>24&255),L=0,O=0):(L=x>>>24,O+=2)}if(A>=0)for(g[A--]=L;A>=0;)g[A--]=0},Math.clz32?o.prototype._countBits=function(g){return 32-Math.clz32(g)}:o.prototype._countBits=function(g){var v=g,A=0;return v>=4096&&(A+=13,v>>>=13),v>=64&&(A+=7,v>>>=7),v>=8&&(A+=4,v>>>=4),v>=2&&(A+=2,v>>>=2),A+v},o.prototype._zeroBits=function(g){if(g===0)return 26;var v=g,A=0;return(v&8191)===0&&(A+=13,v>>>=13),(v&127)===0&&(A+=7,v>>>=7),(v&15)===0&&(A+=4,v>>>=4),(v&3)===0&&(A+=2,v>>>=2),(v&1)===0&&A++,A},o.prototype.bitLength=function(){var g=this.words[this.length-1],v=this._countBits(g);return(this.length-1)*26+v};function I(b){for(var g=new Array(b.bitLength()),v=0;v<g.length;v++){var A=v/26|0,L=v%26;g[v]=b.words[A]>>>L&1}return g}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var g=0,v=0;v<this.length;v++){var A=this._zeroBits(this.words[v]);if(g+=A,A!==26)break}return g},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(g){return this.negative!==0?this.abs().inotn(g).iaddn(1):this.clone()},o.prototype.fromTwos=function(g){return this.testn(g-1)?this.notn(g).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(g){for(;this.length<g.length;)this.words[this.length++]=0;for(var v=0;v<g.length;v++)this.words[v]=this.words[v]|g.words[v];return this._strip()},o.prototype.ior=function(g){return r((this.negative|g.negative)===0),this.iuor(g)},o.prototype.or=function(g){return this.length>g.length?this.clone().ior(g):g.clone().ior(this)},o.prototype.uor=function(g){return this.length>g.length?this.clone().iuor(g):g.clone().iuor(this)},o.prototype.iuand=function(g){var v;this.length>g.length?v=g:v=this;for(var A=0;A<v.length;A++)this.words[A]=this.words[A]&g.words[A];return this.length=v.length,this._strip()},o.prototype.iand=function(g){return r((this.negative|g.negative)===0),this.iuand(g)},o.prototype.and=function(g){return this.length>g.length?this.clone().iand(g):g.clone().iand(this)},o.prototype.uand=function(g){return this.length>g.length?this.clone().iuand(g):g.clone().iuand(this)},o.prototype.iuxor=function(g){var v,A;this.length>g.length?(v=this,A=g):(v=g,A=this);for(var L=0;L<A.length;L++)this.words[L]=v.words[L]^A.words[L];if(this!==v)for(;L<v.length;L++)this.words[L]=v.words[L];return this.length=v.length,this._strip()},o.prototype.ixor=function(g){return r((this.negative|g.negative)===0),this.iuxor(g)},o.prototype.xor=function(g){return this.length>g.length?this.clone().ixor(g):g.clone().ixor(this)},o.prototype.uxor=function(g){return this.length>g.length?this.clone().iuxor(g):g.clone().iuxor(this)},o.prototype.inotn=function(g){r(typeof g=="number"&&g>=0);var v=Math.ceil(g/26)|0,A=g%26;this._expand(v),A>0&&v--;for(var L=0;L<v;L++)this.words[L]=~this.words[L]&67108863;return A>0&&(this.words[L]=~this.words[L]&67108863>>26-A),this._strip()},o.prototype.notn=function(g){return this.clone().inotn(g)},o.prototype.setn=function(g,v){r(typeof g=="number"&&g>=0);var A=g/26|0,L=g%26;return this._expand(A+1),v?this.words[A]=this.words[A]|1<<L:this.words[A]=this.words[A]&~(1<<L),this._strip()},o.prototype.iadd=function(g){var v;if(this.negative!==0&&g.negative===0)return this.negative=0,v=this.isub(g),this.negative^=1,this._normSign();if(this.negative===0&&g.negative!==0)return g.negative=0,v=this.isub(g),g.negative=1,v._normSign();var A,L;this.length>g.length?(A=this,L=g):(A=g,L=this);for(var C=0,O=0;O<L.length;O++)v=(A.words[O]|0)+(L.words[O]|0)+C,this.words[O]=v&67108863,C=v>>>26;for(;C!==0&&O<A.length;O++)v=(A.words[O]|0)+C,this.words[O]=v&67108863,C=v>>>26;if(this.length=A.length,C!==0)this.words[this.length]=C,this.length++;else if(A!==this)for(;O<A.length;O++)this.words[O]=A.words[O];return this},o.prototype.add=function(g){var v;return g.negative!==0&&this.negative===0?(g.negative=0,v=this.sub(g),g.negative^=1,v):g.negative===0&&this.negative!==0?(this.negative=0,v=g.sub(this),this.negative=1,v):this.length>g.length?this.clone().iadd(g):g.clone().iadd(this)},o.prototype.isub=function(g){if(g.negative!==0){g.negative=0;var v=this.iadd(g);return g.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(g),this.negative=1,this._normSign();var A=this.cmp(g);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;var L,C;A>0?(L=this,C=g):(L=g,C=this);for(var O=0,x=0;x<C.length;x++)v=(L.words[x]|0)-(C.words[x]|0)+O,O=v>>26,this.words[x]=v&67108863;for(;O!==0&&x<L.length;x++)v=(L.words[x]|0)+O,O=v>>26,this.words[x]=v&67108863;if(O===0&&x<L.length&&L!==this)for(;x<L.length;x++)this.words[x]=L.words[x];return this.length=Math.max(this.length,x),L!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(g){return this.clone().isub(g)};function S(b,g,v){v.negative=g.negative^b.negative;var A=b.length+g.length|0;v.length=A,A=A-1|0;var L=b.words[0]|0,C=g.words[0]|0,O=L*C,x=O&67108863,R=O/67108864|0;v.words[0]=x;for(var _=1;_<A;_++){for(var k=R>>>26,U=R&67108863,q=Math.min(_,g.length-1),V=Math.max(0,_-b.length+1);V<=q;V++){var Q=_-V|0;L=b.words[Q]|0,C=g.words[V]|0,O=L*C+U,k+=O/67108864|0,U=O&67108863}v.words[_]=U|0,R=k|0}return R!==0?v.words[_]=R|0:v.length--,v._strip()}var T=function(g,v,A){var L=g.words,C=v.words,O=A.words,x=0,R,_,k,U=L[0]|0,q=U&8191,V=U>>>13,Q=L[1]|0,Y=Q&8191,X=Q>>>13,ee=L[2]|0,ie=ee&8191,oe=ee>>>13,te=L[3]|0,se=te&8191,ue=te>>>13,me=L[4]|0,ye=me&8191,pe=me>>>13,de=L[5]|0,Ee=de&8191,Ce=de>>>13,we=L[6]|0,$e=we&8191,ze=we>>>13,Ze=L[7]|0,We=Ze&8191,ne=Ze>>>13,G=L[8]|0,Z=G&8191,ce=G>>>13,ge=L[9]|0,Ae=ge&8191,Re=ge>>>13,lt=C[0]|0,Ct=lt&8191,ot=lt>>>13,Ot=C[1]|0,vt=Ot&8191,xt=Ot>>>13,hn=C[2]|0,rn=hn&8191,Ve=hn>>>13,jt=C[3]|0,Nt=jt&8191,gt=jt>>>13,Mt=C[4]|0,le=Mt&8191,fe=Mt>>>13,He=C[5]|0,Ue=He&8191,Ge=He>>>13,Pt=C[6]|0,Jt=Pt&8191,Lt=Pt>>>13,Qt=C[7]|0,sn=Qt&8191,Kt=Qt>>>13,kn=C[8]|0,Mn=kn&8191,Wt=kn>>>13,pn=C[9]|0,on=pn&8191,wn=pn>>>13;A.negative=g.negative^v.negative,A.length=19,R=Math.imul(q,Ct),_=Math.imul(q,ot),_=_+Math.imul(V,Ct)|0,k=Math.imul(V,ot);var kr=(x+R|0)+((_&8191)<<13)|0;x=(k+(_>>>13)|0)+(kr>>>26)|0,kr&=67108863,R=Math.imul(Y,Ct),_=Math.imul(Y,ot),_=_+Math.imul(X,Ct)|0,k=Math.imul(X,ot),R=R+Math.imul(q,vt)|0,_=_+Math.imul(q,xt)|0,_=_+Math.imul(V,vt)|0,k=k+Math.imul(V,xt)|0;var sr=(x+R|0)+((_&8191)<<13)|0;x=(k+(_>>>13)|0)+(sr>>>26)|0,sr&=67108863,R=Math.imul(ie,Ct),_=Math.imul(ie,ot),_=_+Math.imul(oe,Ct)|0,k=Math.imul(oe,ot),R=R+Math.imul(Y,vt)|0,_=_+Math.imul(Y,xt)|0,_=_+Math.imul(X,vt)|0,k=k+Math.imul(X,xt)|0,R=R+Math.imul(q,rn)|0,_=_+Math.imul(q,Ve)|0,_=_+Math.imul(V,rn)|0,k=k+Math.imul(V,Ve)|0;var Do=(x+R|0)+((_&8191)<<13)|0;x=(k+(_>>>13)|0)+(Do>>>26)|0,Do&=67108863,R=Math.imul(se,Ct),_=Math.imul(se,ot),_=_+Math.imul(ue,Ct)|0,k=Math.imul(ue,ot),R=R+Math.imul(ie,vt)|0,_=_+Math.imul(ie,xt)|0,_=_+Math.imul(oe,vt)|0,k=k+Math.imul(oe,xt)|0,R=R+Math.imul(Y,rn)|0,_=_+Math.imul(Y,Ve)|0,_=_+Math.imul(X,rn)|0,k=k+Math.imul(X,Ve)|0,R=R+Math.imul(q,Nt)|0,_=_+Math.imul(q,gt)|0,_=_+Math.imul(V,Nt)|0,k=k+Math.imul(V,gt)|0;var jo=(x+R|0)+((_&8191)<<13)|0;x=(k+(_>>>13)|0)+(jo>>>26)|0,jo&=67108863,R=Math.imul(ye,Ct),_=Math.imul(ye,ot),_=_+Math.imul(pe,Ct)|0,k=Math.imul(pe,ot),R=R+Math.imul(se,vt)|0,_=_+Math.imul(se,xt)|0,_=_+Math.imul(ue,vt)|0,k=k+Math.imul(ue,xt)|0,R=R+Math.imul(ie,rn)|0,_=_+Math.imul(ie,Ve)|0,_=_+Math.imul(oe,rn)|0,k=k+Math.imul(oe,Ve)|0,R=R+Math.imul(Y,Nt)|0,_=_+Math.imul(Y,gt)|0,_=_+Math.imul(X,Nt)|0,k=k+Math.imul(X,gt)|0,R=R+Math.imul(q,le)|0,_=_+Math.imul(q,fe)|0,_=_+Math.imul(V,le)|0,k=k+Math.imul(V,fe)|0;var Pr=(x+R|0)+((_&8191)<<13)|0;x=(k+(_>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,R=Math.imul(Ee,Ct),_=Math.imul(Ee,ot),_=_+Math.imul(Ce,Ct)|0,k=Math.imul(Ce,ot),R=R+Math.imul(ye,vt)|0,_=_+Math.imul(ye,xt)|0,_=_+Math.imul(pe,vt)|0,k=k+Math.imul(pe,xt)|0,R=R+Math.imul(se,rn)|0,_=_+Math.imul(se,Ve)|0,_=_+Math.imul(ue,rn)|0,k=k+Math.imul(ue,Ve)|0,R=R+Math.imul(ie,Nt)|0,_=_+Math.imul(ie,gt)|0,_=_+Math.imul(oe,Nt)|0,k=k+Math.imul(oe,gt)|0,R=R+Math.imul(Y,le)|0,_=_+Math.imul(Y,fe)|0,_=_+Math.imul(X,le)|0,k=k+Math.imul(X,fe)|0,R=R+Math.imul(q,Ue)|0,_=_+Math.imul(q,Ge)|0,_=_+Math.imul(V,Ue)|0,k=k+Math.imul(V,Ge)|0;var hs=(x+R|0)+((_&8191)<<13)|0;x=(k+(_>>>13)|0)+(hs>>>26)|0,hs&=67108863,R=Math.imul($e,Ct),_=Math.imul($e,ot),_=_+Math.imul(ze,Ct)|0,k=Math.imul(ze,ot),R=R+Math.imul(Ee,vt)|0,_=_+Math.imul(Ee,xt)|0,_=_+Math.imul(Ce,vt)|0,k=k+Math.imul(Ce,xt)|0,R=R+Math.imul(ye,rn)|0,_=_+Math.imul(ye,Ve)|0,_=_+Math.imul(pe,rn)|0,k=k+Math.imul(pe,Ve)|0,R=R+Math.imul(se,Nt)|0,_=_+Math.imul(se,gt)|0,_=_+Math.imul(ue,Nt)|0,k=k+Math.imul(ue,gt)|0,R=R+Math.imul(ie,le)|0,_=_+Math.imul(ie,fe)|0,_=_+Math.imul(oe,le)|0,k=k+Math.imul(oe,fe)|0,R=R+Math.imul(Y,Ue)|0,_=_+Math.imul(Y,Ge)|0,_=_+Math.imul(X,Ue)|0,k=k+Math.imul(X,Ge)|0,R=R+Math.imul(q,Jt)|0,_=_+Math.imul(q,Lt)|0,_=_+Math.imul(V,Jt)|0,k=k+Math.imul(V,Lt)|0;var ps=(x+R|0)+((_&8191)<<13)|0;x=(k+(_>>>13)|0)+(ps>>>26)|0,ps&=67108863,R=Math.imul(We,Ct),_=Math.imul(We,ot),_=_+Math.imul(ne,Ct)|0,k=Math.imul(ne,ot),R=R+Math.imul($e,vt)|0,_=_+Math.imul($e,xt)|0,_=_+Math.imul(ze,vt)|0,k=k+Math.imul(ze,xt)|0,R=R+Math.imul(Ee,rn)|0,_=_+Math.imul(Ee,Ve)|0,_=_+Math.imul(Ce,rn)|0,k=k+Math.imul(Ce,Ve)|0,R=R+Math.imul(ye,Nt)|0,_=_+Math.imul(ye,gt)|0,_=_+Math.imul(pe,Nt)|0,k=k+Math.imul(pe,gt)|0,R=R+Math.imul(se,le)|0,_=_+Math.imul(se,fe)|0,_=_+Math.imul(ue,le)|0,k=k+Math.imul(ue,fe)|0,R=R+Math.imul(ie,Ue)|0,_=_+Math.imul(ie,Ge)|0,_=_+Math.imul(oe,Ue)|0,k=k+Math.imul(oe,Ge)|0,R=R+Math.imul(Y,Jt)|0,_=_+Math.imul(Y,Lt)|0,_=_+Math.imul(X,Jt)|0,k=k+Math.imul(X,Lt)|0,R=R+Math.imul(q,sn)|0,_=_+Math.imul(q,Kt)|0,_=_+Math.imul(V,sn)|0,k=k+Math.imul(V,Kt)|0;var An=(x+R|0)+((_&8191)<<13)|0;x=(k+(_>>>13)|0)+(An>>>26)|0,An&=67108863,R=Math.imul(Z,Ct),_=Math.imul(Z,ot),_=_+Math.imul(ce,Ct)|0,k=Math.imul(ce,ot),R=R+Math.imul(We,vt)|0,_=_+Math.imul(We,xt)|0,_=_+Math.imul(ne,vt)|0,k=k+Math.imul(ne,xt)|0,R=R+Math.imul($e,rn)|0,_=_+Math.imul($e,Ve)|0,_=_+Math.imul(ze,rn)|0,k=k+Math.imul(ze,Ve)|0,R=R+Math.imul(Ee,Nt)|0,_=_+Math.imul(Ee,gt)|0,_=_+Math.imul(Ce,Nt)|0,k=k+Math.imul(Ce,gt)|0,R=R+Math.imul(ye,le)|0,_=_+Math.imul(ye,fe)|0,_=_+Math.imul(pe,le)|0,k=k+Math.imul(pe,fe)|0,R=R+Math.imul(se,Ue)|0,_=_+Math.imul(se,Ge)|0,_=_+Math.imul(ue,Ue)|0,k=k+Math.imul(ue,Ge)|0,R=R+Math.imul(ie,Jt)|0,_=_+Math.imul(ie,Lt)|0,_=_+Math.imul(oe,Jt)|0,k=k+Math.imul(oe,Lt)|0,R=R+Math.imul(Y,sn)|0,_=_+Math.imul(Y,Kt)|0,_=_+Math.imul(X,sn)|0,k=k+Math.imul(X,Kt)|0,R=R+Math.imul(q,Mn)|0,_=_+Math.imul(q,Wt)|0,_=_+Math.imul(V,Mn)|0,k=k+Math.imul(V,Wt)|0;var gs=(x+R|0)+((_&8191)<<13)|0;x=(k+(_>>>13)|0)+(gs>>>26)|0,gs&=67108863,R=Math.imul(Ae,Ct),_=Math.imul(Ae,ot),_=_+Math.imul(Re,Ct)|0,k=Math.imul(Re,ot),R=R+Math.imul(Z,vt)|0,_=_+Math.imul(Z,xt)|0,_=_+Math.imul(ce,vt)|0,k=k+Math.imul(ce,xt)|0,R=R+Math.imul(We,rn)|0,_=_+Math.imul(We,Ve)|0,_=_+Math.imul(ne,rn)|0,k=k+Math.imul(ne,Ve)|0,R=R+Math.imul($e,Nt)|0,_=_+Math.imul($e,gt)|0,_=_+Math.imul(ze,Nt)|0,k=k+Math.imul(ze,gt)|0,R=R+Math.imul(Ee,le)|0,_=_+Math.imul(Ee,fe)|0,_=_+Math.imul(Ce,le)|0,k=k+Math.imul(Ce,fe)|0,R=R+Math.imul(ye,Ue)|0,_=_+Math.imul(ye,Ge)|0,_=_+Math.imul(pe,Ue)|0,k=k+Math.imul(pe,Ge)|0,R=R+Math.imul(se,Jt)|0,_=_+Math.imul(se,Lt)|0,_=_+Math.imul(ue,Jt)|0,k=k+Math.imul(ue,Lt)|0,R=R+Math.imul(ie,sn)|0,_=_+Math.imul(ie,Kt)|0,_=_+Math.imul(oe,sn)|0,k=k+Math.imul(oe,Kt)|0,R=R+Math.imul(Y,Mn)|0,_=_+Math.imul(Y,Wt)|0,_=_+Math.imul(X,Mn)|0,k=k+Math.imul(X,Wt)|0,R=R+Math.imul(q,on)|0,_=_+Math.imul(q,wn)|0,_=_+Math.imul(V,on)|0,k=k+Math.imul(V,wn)|0;var yo=(x+R|0)+((_&8191)<<13)|0;x=(k+(_>>>13)|0)+(yo>>>26)|0,yo&=67108863,R=Math.imul(Ae,vt),_=Math.imul(Ae,xt),_=_+Math.imul(Re,vt)|0,k=Math.imul(Re,xt),R=R+Math.imul(Z,rn)|0,_=_+Math.imul(Z,Ve)|0,_=_+Math.imul(ce,rn)|0,k=k+Math.imul(ce,Ve)|0,R=R+Math.imul(We,Nt)|0,_=_+Math.imul(We,gt)|0,_=_+Math.imul(ne,Nt)|0,k=k+Math.imul(ne,gt)|0,R=R+Math.imul($e,le)|0,_=_+Math.imul($e,fe)|0,_=_+Math.imul(ze,le)|0,k=k+Math.imul(ze,fe)|0,R=R+Math.imul(Ee,Ue)|0,_=_+Math.imul(Ee,Ge)|0,_=_+Math.imul(Ce,Ue)|0,k=k+Math.imul(Ce,Ge)|0,R=R+Math.imul(ye,Jt)|0,_=_+Math.imul(ye,Lt)|0,_=_+Math.imul(pe,Jt)|0,k=k+Math.imul(pe,Lt)|0,R=R+Math.imul(se,sn)|0,_=_+Math.imul(se,Kt)|0,_=_+Math.imul(ue,sn)|0,k=k+Math.imul(ue,Kt)|0,R=R+Math.imul(ie,Mn)|0,_=_+Math.imul(ie,Wt)|0,_=_+Math.imul(oe,Mn)|0,k=k+Math.imul(oe,Wt)|0,R=R+Math.imul(Y,on)|0,_=_+Math.imul(Y,wn)|0,_=_+Math.imul(X,on)|0,k=k+Math.imul(X,wn)|0;var Ri=(x+R|0)+((_&8191)<<13)|0;x=(k+(_>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,R=Math.imul(Ae,rn),_=Math.imul(Ae,Ve),_=_+Math.imul(Re,rn)|0,k=Math.imul(Re,Ve),R=R+Math.imul(Z,Nt)|0,_=_+Math.imul(Z,gt)|0,_=_+Math.imul(ce,Nt)|0,k=k+Math.imul(ce,gt)|0,R=R+Math.imul(We,le)|0,_=_+Math.imul(We,fe)|0,_=_+Math.imul(ne,le)|0,k=k+Math.imul(ne,fe)|0,R=R+Math.imul($e,Ue)|0,_=_+Math.imul($e,Ge)|0,_=_+Math.imul(ze,Ue)|0,k=k+Math.imul(ze,Ge)|0,R=R+Math.imul(Ee,Jt)|0,_=_+Math.imul(Ee,Lt)|0,_=_+Math.imul(Ce,Jt)|0,k=k+Math.imul(Ce,Lt)|0,R=R+Math.imul(ye,sn)|0,_=_+Math.imul(ye,Kt)|0,_=_+Math.imul(pe,sn)|0,k=k+Math.imul(pe,Kt)|0,R=R+Math.imul(se,Mn)|0,_=_+Math.imul(se,Wt)|0,_=_+Math.imul(ue,Mn)|0,k=k+Math.imul(ue,Wt)|0,R=R+Math.imul(ie,on)|0,_=_+Math.imul(ie,wn)|0,_=_+Math.imul(oe,on)|0,k=k+Math.imul(oe,wn)|0;var Ki=(x+R|0)+((_&8191)<<13)|0;x=(k+(_>>>13)|0)+(Ki>>>26)|0,Ki&=67108863,R=Math.imul(Ae,Nt),_=Math.imul(Ae,gt),_=_+Math.imul(Re,Nt)|0,k=Math.imul(Re,gt),R=R+Math.imul(Z,le)|0,_=_+Math.imul(Z,fe)|0,_=_+Math.imul(ce,le)|0,k=k+Math.imul(ce,fe)|0,R=R+Math.imul(We,Ue)|0,_=_+Math.imul(We,Ge)|0,_=_+Math.imul(ne,Ue)|0,k=k+Math.imul(ne,Ge)|0,R=R+Math.imul($e,Jt)|0,_=_+Math.imul($e,Lt)|0,_=_+Math.imul(ze,Jt)|0,k=k+Math.imul(ze,Lt)|0,R=R+Math.imul(Ee,sn)|0,_=_+Math.imul(Ee,Kt)|0,_=_+Math.imul(Ce,sn)|0,k=k+Math.imul(Ce,Kt)|0,R=R+Math.imul(ye,Mn)|0,_=_+Math.imul(ye,Wt)|0,_=_+Math.imul(pe,Mn)|0,k=k+Math.imul(pe,Wt)|0,R=R+Math.imul(se,on)|0,_=_+Math.imul(se,wn)|0,_=_+Math.imul(ue,on)|0,k=k+Math.imul(ue,wn)|0;var ms=(x+R|0)+((_&8191)<<13)|0;x=(k+(_>>>13)|0)+(ms>>>26)|0,ms&=67108863,R=Math.imul(Ae,le),_=Math.imul(Ae,fe),_=_+Math.imul(Re,le)|0,k=Math.imul(Re,fe),R=R+Math.imul(Z,Ue)|0,_=_+Math.imul(Z,Ge)|0,_=_+Math.imul(ce,Ue)|0,k=k+Math.imul(ce,Ge)|0,R=R+Math.imul(We,Jt)|0,_=_+Math.imul(We,Lt)|0,_=_+Math.imul(ne,Jt)|0,k=k+Math.imul(ne,Lt)|0,R=R+Math.imul($e,sn)|0,_=_+Math.imul($e,Kt)|0,_=_+Math.imul(ze,sn)|0,k=k+Math.imul(ze,Kt)|0,R=R+Math.imul(Ee,Mn)|0,_=_+Math.imul(Ee,Wt)|0,_=_+Math.imul(Ce,Mn)|0,k=k+Math.imul(Ce,Wt)|0,R=R+Math.imul(ye,on)|0,_=_+Math.imul(ye,wn)|0,_=_+Math.imul(pe,on)|0,k=k+Math.imul(pe,wn)|0;var Mr=(x+R|0)+((_&8191)<<13)|0;x=(k+(_>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,R=Math.imul(Ae,Ue),_=Math.imul(Ae,Ge),_=_+Math.imul(Re,Ue)|0,k=Math.imul(Re,Ge),R=R+Math.imul(Z,Jt)|0,_=_+Math.imul(Z,Lt)|0,_=_+Math.imul(ce,Jt)|0,k=k+Math.imul(ce,Lt)|0,R=R+Math.imul(We,sn)|0,_=_+Math.imul(We,Kt)|0,_=_+Math.imul(ne,sn)|0,k=k+Math.imul(ne,Kt)|0,R=R+Math.imul($e,Mn)|0,_=_+Math.imul($e,Wt)|0,_=_+Math.imul(ze,Mn)|0,k=k+Math.imul(ze,Wt)|0,R=R+Math.imul(Ee,on)|0,_=_+Math.imul(Ee,wn)|0,_=_+Math.imul(Ce,on)|0,k=k+Math.imul(Ce,wn)|0;var Wi=(x+R|0)+((_&8191)<<13)|0;x=(k+(_>>>13)|0)+(Wi>>>26)|0,Wi&=67108863,R=Math.imul(Ae,Jt),_=Math.imul(Ae,Lt),_=_+Math.imul(Re,Jt)|0,k=Math.imul(Re,Lt),R=R+Math.imul(Z,sn)|0,_=_+Math.imul(Z,Kt)|0,_=_+Math.imul(ce,sn)|0,k=k+Math.imul(ce,Kt)|0,R=R+Math.imul(We,Mn)|0,_=_+Math.imul(We,Wt)|0,_=_+Math.imul(ne,Mn)|0,k=k+Math.imul(ne,Wt)|0,R=R+Math.imul($e,on)|0,_=_+Math.imul($e,wn)|0,_=_+Math.imul(ze,on)|0,k=k+Math.imul(ze,wn)|0;var Sr=(x+R|0)+((_&8191)<<13)|0;x=(k+(_>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,R=Math.imul(Ae,sn),_=Math.imul(Ae,Kt),_=_+Math.imul(Re,sn)|0,k=Math.imul(Re,Kt),R=R+Math.imul(Z,Mn)|0,_=_+Math.imul(Z,Wt)|0,_=_+Math.imul(ce,Mn)|0,k=k+Math.imul(ce,Wt)|0,R=R+Math.imul(We,on)|0,_=_+Math.imul(We,wn)|0,_=_+Math.imul(ne,on)|0,k=k+Math.imul(ne,wn)|0;var vs=(x+R|0)+((_&8191)<<13)|0;x=(k+(_>>>13)|0)+(vs>>>26)|0,vs&=67108863,R=Math.imul(Ae,Mn),_=Math.imul(Ae,Wt),_=_+Math.imul(Re,Mn)|0,k=Math.imul(Re,Wt),R=R+Math.imul(Z,on)|0,_=_+Math.imul(Z,wn)|0,_=_+Math.imul(ce,on)|0,k=k+Math.imul(ce,wn)|0;var Vr=(x+R|0)+((_&8191)<<13)|0;x=(k+(_>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,R=Math.imul(Ae,on),_=Math.imul(Ae,wn),_=_+Math.imul(Re,on)|0,k=Math.imul(Re,wn);var iu=(x+R|0)+((_&8191)<<13)|0;return x=(k+(_>>>13)|0)+(iu>>>26)|0,iu&=67108863,O[0]=kr,O[1]=sr,O[2]=Do,O[3]=jo,O[4]=Pr,O[5]=hs,O[6]=ps,O[7]=An,O[8]=gs,O[9]=yo,O[10]=Ri,O[11]=Ki,O[12]=ms,O[13]=Mr,O[14]=Wi,O[15]=Sr,O[16]=vs,O[17]=Vr,O[18]=iu,x!==0&&(O[19]=x,A.length++),A};Math.imul||(T=S);function N(b,g,v){v.negative=g.negative^b.negative,v.length=b.length+g.length;for(var A=0,L=0,C=0;C<v.length-1;C++){var O=L;L=0;for(var x=A&67108863,R=Math.min(C,g.length-1),_=Math.max(0,C-b.length+1);_<=R;_++){var k=C-_,U=b.words[k]|0,q=g.words[_]|0,V=U*q,Q=V&67108863;O=O+(V/67108864|0)|0,Q=Q+x|0,x=Q&67108863,O=O+(Q>>>26)|0,L+=O>>>26,O&=67108863}v.words[C]=x,A=O,O=L}return A!==0?v.words[C]=A:v.length--,v._strip()}function z(b,g,v){return N(b,g,v)}o.prototype.mulTo=function(g,v){var A,L=this.length+g.length;return this.length===10&&g.length===10?A=T(this,g,v):L<63?A=S(this,g,v):L<1024?A=N(this,g,v):A=z(this,g,v),A},o.prototype.mul=function(g){var v=new o(null);return v.words=new Array(this.length+g.length),this.mulTo(g,v)},o.prototype.mulf=function(g){var v=new o(null);return v.words=new Array(this.length+g.length),z(this,g,v)},o.prototype.imul=function(g){return this.clone().mulTo(g,this)},o.prototype.imuln=function(g){var v=g<0;v&&(g=-g),r(typeof g=="number"),r(g<67108864);for(var A=0,L=0;L<this.length;L++){var C=(this.words[L]|0)*g,O=(C&67108863)+(A&67108863);A>>=26,A+=C/67108864|0,A+=O>>>26,this.words[L]=O&67108863}return A!==0&&(this.words[L]=A,this.length++),this.length=g===0?1:this.length,v?this.ineg():this},o.prototype.muln=function(g){return this.clone().imuln(g)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(g){var v=I(g);if(v.length===0)return new o(1);for(var A=this,L=0;L<v.length&&v[L]===0;L++,A=A.sqr());if(++L<v.length)for(var C=A.sqr();L<v.length;L++,C=C.sqr())v[L]!==0&&(A=A.mul(C));return A},o.prototype.iushln=function(g){r(typeof g=="number"&&g>=0);var v=g%26,A=(g-v)/26,L=67108863>>>26-v<<26-v,C;if(v!==0){var O=0;for(C=0;C<this.length;C++){var x=this.words[C]&L,R=(this.words[C]|0)-x<<v;this.words[C]=R|O,O=x>>>26-v}O&&(this.words[C]=O,this.length++)}if(A!==0){for(C=this.length-1;C>=0;C--)this.words[C+A]=this.words[C];for(C=0;C<A;C++)this.words[C]=0;this.length+=A}return this._strip()},o.prototype.ishln=function(g){return r(this.negative===0),this.iushln(g)},o.prototype.iushrn=function(g,v,A){r(typeof g=="number"&&g>=0);var L;v?L=(v-v%26)/26:L=0;var C=g%26,O=Math.min((g-C)/26,this.length),x=67108863^67108863>>>C<<C,R=A;if(L-=O,L=Math.max(0,L),R){for(var _=0;_<O;_++)R.words[_]=this.words[_];R.length=O}if(O!==0)if(this.length>O)for(this.length-=O,_=0;_<this.length;_++)this.words[_]=this.words[_+O];else this.words[0]=0,this.length=1;var k=0;for(_=this.length-1;_>=0&&(k!==0||_>=L);_--){var U=this.words[_]|0;this.words[_]=k<<26-C|U>>>C,k=U&x}return R&&k!==0&&(R.words[R.length++]=k),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(g,v,A){return r(this.negative===0),this.iushrn(g,v,A)},o.prototype.shln=function(g){return this.clone().ishln(g)},o.prototype.ushln=function(g){return this.clone().iushln(g)},o.prototype.shrn=function(g){return this.clone().ishrn(g)},o.prototype.ushrn=function(g){return this.clone().iushrn(g)},o.prototype.testn=function(g){r(typeof g=="number"&&g>=0);var v=g%26,A=(g-v)/26,L=1<<v;if(this.length<=A)return!1;var C=this.words[A];return!!(C&L)},o.prototype.imaskn=function(g){r(typeof g=="number"&&g>=0);var v=g%26,A=(g-v)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(v!==0&&A++,this.length=Math.min(A,this.length),v!==0){var L=67108863^67108863>>>v<<v;this.words[this.length-1]&=L}return this._strip()},o.prototype.maskn=function(g){return this.clone().imaskn(g)},o.prototype.iaddn=function(g){return r(typeof g=="number"),r(g<67108864),g<0?this.isubn(-g):this.negative!==0?this.length===1&&(this.words[0]|0)<=g?(this.words[0]=g-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(g),this.negative=1,this):this._iaddn(g)},o.prototype._iaddn=function(g){this.words[0]+=g;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},o.prototype.isubn=function(g){if(r(typeof g=="number"),r(g<67108864),g<0)return this.iaddn(-g);if(this.negative!==0)return this.negative=0,this.iaddn(g),this.negative=1,this;if(this.words[0]-=g,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},o.prototype.addn=function(g){return this.clone().iaddn(g)},o.prototype.subn=function(g){return this.clone().isubn(g)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(g,v,A){var L=g.length+A,C;this._expand(L);var O,x=0;for(C=0;C<g.length;C++){O=(this.words[C+A]|0)+x;var R=(g.words[C]|0)*v;O-=R&67108863,x=(O>>26)-(R/67108864|0),this.words[C+A]=O&67108863}for(;C<this.length-A;C++)O=(this.words[C+A]|0)+x,x=O>>26,this.words[C+A]=O&67108863;if(x===0)return this._strip();for(r(x===-1),x=0,C=0;C<this.length;C++)O=-(this.words[C]|0)+x,x=O>>26,this.words[C]=O&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(g,v){var A=this.length-g.length,L=this.clone(),C=g,O=C.words[C.length-1]|0,x=this._countBits(O);A=26-x,A!==0&&(C=C.ushln(A),L.iushln(A),O=C.words[C.length-1]|0);var R=L.length-C.length,_;if(v!=="mod"){_=new o(null),_.length=R+1,_.words=new Array(_.length);for(var k=0;k<_.length;k++)_.words[k]=0}var U=L.clone()._ishlnsubmul(C,1,R);U.negative===0&&(L=U,_&&(_.words[R]=1));for(var q=R-1;q>=0;q--){var V=(L.words[C.length+q]|0)*67108864+(L.words[C.length+q-1]|0);for(V=Math.min(V/O|0,67108863),L._ishlnsubmul(C,V,q);L.negative!==0;)V--,L.negative=0,L._ishlnsubmul(C,1,q),L.isZero()||(L.negative^=1);_&&(_.words[q]=V)}return _&&_._strip(),L._strip(),v!=="div"&&A!==0&&L.iushrn(A),{div:_||null,mod:L}},o.prototype.divmod=function(g,v,A){if(r(!g.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var L,C,O;return this.negative!==0&&g.negative===0?(O=this.neg().divmod(g,v),v!=="mod"&&(L=O.div.neg()),v!=="div"&&(C=O.mod.neg(),A&&C.negative!==0&&C.iadd(g)),{div:L,mod:C}):this.negative===0&&g.negative!==0?(O=this.divmod(g.neg(),v),v!=="mod"&&(L=O.div.neg()),{div:L,mod:O.mod}):(this.negative&g.negative)!==0?(O=this.neg().divmod(g.neg(),v),v!=="div"&&(C=O.mod.neg(),A&&C.negative!==0&&C.isub(g)),{div:O.div,mod:C}):g.length>this.length||this.cmp(g)<0?{div:new o(0),mod:this}:g.length===1?v==="div"?{div:this.divn(g.words[0]),mod:null}:v==="mod"?{div:null,mod:new o(this.modrn(g.words[0]))}:{div:this.divn(g.words[0]),mod:new o(this.modrn(g.words[0]))}:this._wordDiv(g,v)},o.prototype.div=function(g){return this.divmod(g,"div",!1).div},o.prototype.mod=function(g){return this.divmod(g,"mod",!1).mod},o.prototype.umod=function(g){return this.divmod(g,"mod",!0).mod},o.prototype.divRound=function(g){var v=this.divmod(g);if(v.mod.isZero())return v.div;var A=v.div.negative!==0?v.mod.isub(g):v.mod,L=g.ushrn(1),C=g.andln(1),O=A.cmp(L);return O<0||C===1&&O===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},o.prototype.modrn=function(g){var v=g<0;v&&(g=-g),r(g<=67108863);for(var A=(1<<26)%g,L=0,C=this.length-1;C>=0;C--)L=(A*L+(this.words[C]|0))%g;return v?-L:L},o.prototype.modn=function(g){return this.modrn(g)},o.prototype.idivn=function(g){var v=g<0;v&&(g=-g),r(g<=67108863);for(var A=0,L=this.length-1;L>=0;L--){var C=(this.words[L]|0)+A*67108864;this.words[L]=C/g|0,A=C%g}return this._strip(),v?this.ineg():this},o.prototype.divn=function(g){return this.clone().idivn(g)},o.prototype.egcd=function(g){r(g.negative===0),r(!g.isZero());var v=this,A=g.clone();v.negative!==0?v=v.umod(g):v=v.clone();for(var L=new o(1),C=new o(0),O=new o(0),x=new o(1),R=0;v.isEven()&&A.isEven();)v.iushrn(1),A.iushrn(1),++R;for(var _=A.clone(),k=v.clone();!v.isZero();){for(var U=0,q=1;(v.words[0]&q)===0&&U<26;++U,q<<=1);if(U>0)for(v.iushrn(U);U-- >0;)(L.isOdd()||C.isOdd())&&(L.iadd(_),C.isub(k)),L.iushrn(1),C.iushrn(1);for(var V=0,Q=1;(A.words[0]&Q)===0&&V<26;++V,Q<<=1);if(V>0)for(A.iushrn(V);V-- >0;)(O.isOdd()||x.isOdd())&&(O.iadd(_),x.isub(k)),O.iushrn(1),x.iushrn(1);v.cmp(A)>=0?(v.isub(A),L.isub(O),C.isub(x)):(A.isub(v),O.isub(L),x.isub(C))}return{a:O,b:x,gcd:A.iushln(R)}},o.prototype._invmp=function(g){r(g.negative===0),r(!g.isZero());var v=this,A=g.clone();v.negative!==0?v=v.umod(g):v=v.clone();for(var L=new o(1),C=new o(0),O=A.clone();v.cmpn(1)>0&&A.cmpn(1)>0;){for(var x=0,R=1;(v.words[0]&R)===0&&x<26;++x,R<<=1);if(x>0)for(v.iushrn(x);x-- >0;)L.isOdd()&&L.iadd(O),L.iushrn(1);for(var _=0,k=1;(A.words[0]&k)===0&&_<26;++_,k<<=1);if(_>0)for(A.iushrn(_);_-- >0;)C.isOdd()&&C.iadd(O),C.iushrn(1);v.cmp(A)>=0?(v.isub(A),L.isub(C)):(A.isub(v),C.isub(L))}var U;return v.cmpn(1)===0?U=L:U=C,U.cmpn(0)<0&&U.iadd(g),U},o.prototype.gcd=function(g){if(this.isZero())return g.abs();if(g.isZero())return this.abs();var v=this.clone(),A=g.clone();v.negative=0,A.negative=0;for(var L=0;v.isEven()&&A.isEven();L++)v.iushrn(1),A.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;A.isEven();)A.iushrn(1);var C=v.cmp(A);if(C<0){var O=v;v=A,A=O}else if(C===0||A.cmpn(1)===0)break;v.isub(A)}while(!0);return A.iushln(L)},o.prototype.invm=function(g){return this.egcd(g).a.umod(g)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(g){return this.words[0]&g},o.prototype.bincn=function(g){r(typeof g=="number");var v=g%26,A=(g-v)/26,L=1<<v;if(this.length<=A)return this._expand(A+1),this.words[A]|=L,this;for(var C=L,O=A;C!==0&&O<this.length;O++){var x=this.words[O]|0;x+=C,C=x>>>26,x&=67108863,this.words[O]=x}return C!==0&&(this.words[O]=C,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(g){var v=g<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this._strip();var A;if(this.length>1)A=1;else{v&&(g=-g),r(g<=67108863,"Number is too big");var L=this.words[0]|0;A=L===g?0:L<g?-1:1}return this.negative!==0?-A|0:A},o.prototype.cmp=function(g){if(this.negative!==0&&g.negative===0)return-1;if(this.negative===0&&g.negative!==0)return 1;var v=this.ucmp(g);return this.negative!==0?-v|0:v},o.prototype.ucmp=function(g){if(this.length>g.length)return 1;if(this.length<g.length)return-1;for(var v=0,A=this.length-1;A>=0;A--){var L=this.words[A]|0,C=g.words[A]|0;if(L!==C){L<C?v=-1:L>C&&(v=1);break}}return v},o.prototype.gtn=function(g){return this.cmpn(g)===1},o.prototype.gt=function(g){return this.cmp(g)===1},o.prototype.gten=function(g){return this.cmpn(g)>=0},o.prototype.gte=function(g){return this.cmp(g)>=0},o.prototype.ltn=function(g){return this.cmpn(g)===-1},o.prototype.lt=function(g){return this.cmp(g)===-1},o.prototype.lten=function(g){return this.cmpn(g)<=0},o.prototype.lte=function(g){return this.cmp(g)<=0},o.prototype.eqn=function(g){return this.cmpn(g)===0},o.prototype.eq=function(g){return this.cmp(g)===0},o.red=function(g){return new P(g)},o.prototype.toRed=function(g){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),g.convertTo(this)._forceRed(g)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(g){return this.red=g,this},o.prototype.forceRed=function(g){return r(!this.red,"Already a number in reduction context"),this._forceRed(g)},o.prototype.redAdd=function(g){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,g)},o.prototype.redIAdd=function(g){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,g)},o.prototype.redSub=function(g){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,g)},o.prototype.redISub=function(g){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,g)},o.prototype.redShl=function(g){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,g)},o.prototype.redMul=function(g){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.mul(this,g)},o.prototype.redIMul=function(g){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.imul(this,g)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(g){return r(this.red&&!g.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,g)};var $={k256:null,p224:null,p192:null,p25519:null};function H(b,g){this.name=b,this.p=new o(g,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}H.prototype._tmp=function(){var g=new o(null);return g.words=new Array(Math.ceil(this.n/13)),g},H.prototype.ireduce=function(g){var v=g,A;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),A=v.bitLength();while(A>this.n);var L=A<this.n?-1:v.ucmp(this.p);return L===0?(v.words[0]=0,v.length=1):L>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},H.prototype.split=function(g,v){g.iushrn(this.n,0,v)},H.prototype.imulK=function(g){return g.imul(this.k)};function K(){H.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(K,H),K.prototype.split=function(g,v){for(var A=4194303,L=Math.min(g.length,9),C=0;C<L;C++)v.words[C]=g.words[C];if(v.length=L,g.length<=9){g.words[0]=0,g.length=1;return}var O=g.words[9];for(v.words[v.length++]=O&A,C=10;C<g.length;C++){var x=g.words[C]|0;g.words[C-10]=(x&A)<<4|O>>>22,O=x}O>>>=22,g.words[C-10]=O,O===0&&g.length>10?g.length-=10:g.length-=9},K.prototype.imulK=function(g){g.words[g.length]=0,g.words[g.length+1]=0,g.length+=2;for(var v=0,A=0;A<g.length;A++){var L=g.words[A]|0;v+=L*977,g.words[A]=v&67108863,v=L*64+(v/67108864|0)}return g.words[g.length-1]===0&&(g.length--,g.words[g.length-1]===0&&g.length--),g};function j(){H.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(j,H);function B(){H.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(B,H);function D(){H.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(D,H),D.prototype.imulK=function(g){for(var v=0,A=0;A<g.length;A++){var L=(g.words[A]|0)*19+v,C=L&67108863;L>>>=26,g.words[A]=C,v=L}return v!==0&&(g.words[g.length++]=v),g},o._prime=function(g){if($[g])return $[g];var v;if(g==="k256")v=new K;else if(g==="p224")v=new j;else if(g==="p192")v=new B;else if(g==="p25519")v=new D;else throw new Error("Unknown prime "+g);return $[g]=v,v};function P(b){if(typeof b=="string"){var g=o._prime(b);this.m=g.p,this.prime=g}else r(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}P.prototype._verify1=function(g){r(g.negative===0,"red works only with positives"),r(g.red,"red works only with red numbers")},P.prototype._verify2=function(g,v){r((g.negative|v.negative)===0,"red works only with positives"),r(g.red&&g.red===v.red,"red works only with red numbers")},P.prototype.imod=function(g){return this.prime?this.prime.ireduce(g)._forceRed(this):(u(g,g.umod(this.m)._forceRed(this)),g)},P.prototype.neg=function(g){return g.isZero()?g.clone():this.m.sub(g)._forceRed(this)},P.prototype.add=function(g,v){this._verify2(g,v);var A=g.add(v);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},P.prototype.iadd=function(g,v){this._verify2(g,v);var A=g.iadd(v);return A.cmp(this.m)>=0&&A.isub(this.m),A},P.prototype.sub=function(g,v){this._verify2(g,v);var A=g.sub(v);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},P.prototype.isub=function(g,v){this._verify2(g,v);var A=g.isub(v);return A.cmpn(0)<0&&A.iadd(this.m),A},P.prototype.shl=function(g,v){return this._verify1(g),this.imod(g.ushln(v))},P.prototype.imul=function(g,v){return this._verify2(g,v),this.imod(g.imul(v))},P.prototype.mul=function(g,v){return this._verify2(g,v),this.imod(g.mul(v))},P.prototype.isqr=function(g){return this.imul(g,g.clone())},P.prototype.sqr=function(g){return this.mul(g,g)},P.prototype.sqrt=function(g){if(g.isZero())return g.clone();var v=this.m.andln(3);if(r(v%2===1),v===3){var A=this.m.add(new o(1)).iushrn(2);return this.pow(g,A)}for(var L=this.m.subn(1),C=0;!L.isZero()&&L.andln(1)===0;)C++,L.iushrn(1);r(!L.isZero());var O=new o(1).toRed(this),x=O.redNeg(),R=this.m.subn(1).iushrn(1),_=this.m.bitLength();for(_=new o(2*_*_).toRed(this);this.pow(_,R).cmp(x)!==0;)_.redIAdd(x);for(var k=this.pow(_,L),U=this.pow(g,L.addn(1).iushrn(1)),q=this.pow(g,L),V=C;q.cmp(O)!==0;){for(var Q=q,Y=0;Q.cmp(O)!==0;Y++)Q=Q.redSqr();r(Y<V);var X=this.pow(k,new o(1).iushln(V-Y-1));U=U.redMul(X),k=X.redSqr(),q=q.redMul(k),V=Y}return U},P.prototype.invm=function(g){var v=g._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},P.prototype.pow=function(g,v){if(v.isZero())return new o(1).toRed(this);if(v.cmpn(1)===0)return g.clone();var A=4,L=new Array(1<<A);L[0]=new o(1).toRed(this),L[1]=g;for(var C=2;C<L.length;C++)L[C]=this.mul(L[C-1],g);var O=L[0],x=0,R=0,_=v.bitLength()%26;for(_===0&&(_=26),C=v.length-1;C>=0;C--){for(var k=v.words[C],U=_-1;U>=0;U--){var q=k>>U&1;if(O!==L[0]&&(O=this.sqr(O)),q===0&&x===0){R=0;continue}x<<=1,x|=q,R++,!(R!==A&&(C!==0||U!==0))&&(O=this.mul(O,L[x]),R=0,x=0)}_=26}return O},P.prototype.convertTo=function(g){var v=g.umod(this.m);return v===g?v.clone():v},P.prototype.convertFrom=function(g){var v=g.clone();return v.red=null,v},o.mont=function(g){return new E(g)};function E(b){P.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(E,P),E.prototype.convertTo=function(g){return this.imod(g.ushln(this.shift))},E.prototype.convertFrom=function(g){var v=this.imod(g.mul(this.rinv));return v.red=null,v},E.prototype.imul=function(g,v){if(g.isZero()||v.isZero())return g.words[0]=0,g.length=1,g;var A=g.imul(v),L=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=A.isub(L).iushrn(this.shift),O=C;return C.cmp(this.m)>=0?O=C.isub(this.m):C.cmpn(0)<0&&(O=C.iadd(this.m)),O._forceRed(this)},E.prototype.mul=function(g,v){if(g.isZero()||v.isZero())return new o(0)._forceRed(this);var A=g.mul(v),L=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=A.isub(L).iushrn(this.shift),O=C;return C.cmp(this.m)>=0?O=C.isub(this.m):C.cmpn(0)<0&&(O=C.iadd(this.m)),O._forceRed(this)},E.prototype.invm=function(g){var v=this.imod(g._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(t,fU)}(jv)),jv.exports}var hU=C9();const S5=si(hU),sf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Q0(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function r0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ca(t,...e){if(!Q0(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function A9(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");r0(t.outputLen),r0(t.blockLen)}function oh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function I9(t,e){Ca(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function pU(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Yl(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function n2(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ea(t,e){return t<<32-e|t>>>e}const gU=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function mU(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function vU(t){for(let e=0;e<t.length;e++)t[e]=mU(t[e]);return t}const C5=gU?t=>t:vU,k9=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",yU=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ad(t){if(Ca(t),k9)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=yU[t[n]];return e}const za={_0:48,_9:57,A:65,F:70,a:97,f:102};function A5(t){if(t>=za._0&&t<=za._9)return t-za._0;if(t>=za.A&&t<=za.F)return t-(za.A-10);if(t>=za.a&&t<=za.f)return t-(za.a-10)}function yy(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(k9)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=A5(t.charCodeAt(o)),a=A5(t.charCodeAt(o+1));if(s===void 0||a===void 0){const c=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[i]=s*16+a}return r}function wU(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Aw(t){return typeof t=="string"&&(t=wU(t)),Ca(t),t}function ha(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Ca(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}let qS=class{};function HS(t){const e=r=>t().update(Aw(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function KS(t=32){if(sf&&typeof sf.getRandomValues=="function")return sf.getRandomValues(new Uint8Array(t));if(sf&&typeof sf.randomBytes=="function")return Uint8Array.from(sf.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function bU(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,l=r?0:4;t.setUint32(e+c,s,r),t.setUint32(e+l,a,r)}function EU(t,e,n){return t&e^~t&n}function xU(t,e,n){return t&e^t&n^e&n}let M9=class extends qS{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=n2(this.buffer)}update(e){oh(this),e=Aw(e),Ca(e);const{view:n,buffer:r,blockLen:i}=this,o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const c=n2(e);for(;i<=o-s;s+=i)this.process(c,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){oh(this),I9(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,Yl(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let f=s;f<i;f++)n[f]=0;bU(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=n2(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=o,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const Zc=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),pi=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Sm=BigInt(2**32-1),I5=BigInt(32);function _U(t,e=!1){return e?{h:Number(t&Sm),l:Number(t>>I5&Sm)}:{h:Number(t>>I5&Sm)|0,l:Number(t&Sm)|0}}function R9(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:s,l:a}=_U(t[o],e);[r[o],i[o]]=[s,a]}return[r,i]}const k5=(t,e,n)=>t>>>n,M5=(t,e,n)=>t<<32-n|e>>>n,af=(t,e,n)=>t>>>n|e<<32-n,cf=(t,e,n)=>t<<32-n|e>>>n,Cm=(t,e,n)=>t<<64-n|e>>>n-32,Am=(t,e,n)=>t>>>n-32|e<<64-n,SU=(t,e,n)=>t<<n|e>>>32-n,CU=(t,e,n)=>e<<n|t>>>32-n,AU=(t,e,n)=>e<<n-32|t>>>64-n,IU=(t,e,n)=>t<<n-32|e>>>64-n;function qa(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const kU=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),MU=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,RU=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),OU=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,TU=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),NU=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,PU=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Xc=new Uint32Array(64);let LU=class extends M9{constructor(e=32){super(64,e,8,!1),this.A=Zc[0]|0,this.B=Zc[1]|0,this.C=Zc[2]|0,this.D=Zc[3]|0,this.E=Zc[4]|0,this.F=Zc[5]|0,this.G=Zc[6]|0,this.H=Zc[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:c}=this;return[e,n,r,i,o,s,a,c]}set(e,n,r,i,o,s,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,n){for(let f=0;f<16;f++,n+=4)Xc[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const p=Xc[f-15],m=Xc[f-2],w=ea(p,7)^ea(p,18)^p>>>3,y=ea(m,17)^ea(m,19)^m>>>10;Xc[f]=y+Xc[f-7]+w+Xc[f-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const p=ea(a,6)^ea(a,11)^ea(a,25),m=u+p+EU(a,c,l)+PU[f]+Xc[f]|0,y=(ea(r,2)^ea(r,13)^ea(r,22))+xU(r,i,o)|0;u=l,l=c,c=a,a=s+m|0,s=o,o=i,i=r,r=m+y|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,o,s,a,c,l,u)}roundClean(){Yl(Xc)}destroy(){this.set(0,0,0,0,0,0,0,0),Yl(this.buffer)}};const O9=R9(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),BU=O9[0],DU=O9[1],Qc=new Uint32Array(80),el=new Uint32Array(80);class jU extends M9{constructor(e=64){super(128,e,16,!1),this.Ah=pi[0]|0,this.Al=pi[1]|0,this.Bh=pi[2]|0,this.Bl=pi[3]|0,this.Ch=pi[4]|0,this.Cl=pi[5]|0,this.Dh=pi[6]|0,this.Dl=pi[7]|0,this.Eh=pi[8]|0,this.El=pi[9]|0,this.Fh=pi[10]|0,this.Fl=pi[11]|0,this.Gh=pi[12]|0,this.Gl=pi[13]|0,this.Hh=pi[14]|0,this.Hl=pi[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:p,Gh:m,Gl:w,Hh:y,Hl:I}=this;return[e,n,r,i,o,s,a,c,l,u,f,p,m,w,y,I]}set(e,n,r,i,o,s,a,c,l,u,f,p,m,w,y,I){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=p|0,this.Gh=m|0,this.Gl=w|0,this.Hh=y|0,this.Hl=I|0}process(e,n){for(let N=0;N<16;N++,n+=4)Qc[N]=e.getUint32(n),el[N]=e.getUint32(n+=4);for(let N=16;N<80;N++){const z=Qc[N-15]|0,$=el[N-15]|0,H=af(z,$,1)^af(z,$,8)^k5(z,$,7),K=cf(z,$,1)^cf(z,$,8)^M5(z,$,7),j=Qc[N-2]|0,B=el[N-2]|0,D=af(j,B,19)^Cm(j,B,61)^k5(j,B,6),P=cf(j,B,19)^Am(j,B,61)^M5(j,B,6),E=RU(K,P,el[N-7],el[N-16]),b=OU(E,H,D,Qc[N-7],Qc[N-16]);Qc[N]=b|0,el[N]=E|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:p,Fh:m,Fl:w,Gh:y,Gl:I,Hh:S,Hl:T}=this;for(let N=0;N<80;N++){const z=af(f,p,14)^af(f,p,18)^Cm(f,p,41),$=cf(f,p,14)^cf(f,p,18)^Am(f,p,41),H=f&m^~f&y,K=p&w^~p&I,j=TU(T,$,K,DU[N],el[N]),B=NU(j,S,z,H,BU[N],Qc[N]),D=j|0,P=af(r,i,28)^Cm(r,i,34)^Cm(r,i,39),E=cf(r,i,28)^Am(r,i,34)^Am(r,i,39),b=r&o^r&a^o&a,g=i&s^i&c^s&c;S=y|0,T=I|0,y=m|0,I=w|0,m=f|0,w=p|0,{h:f,l:p}=qa(l|0,u|0,B|0,D|0),l=a|0,u=c|0,a=o|0,c=s|0,o=r|0,s=i|0;const v=kU(D,E,g);r=MU(v,B,P,b),i=v|0}({h:r,l:i}=qa(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=qa(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=qa(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=qa(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:p}=qa(this.Eh|0,this.El|0,f|0,p|0),{h:m,l:w}=qa(this.Fh|0,this.Fl|0,m|0,w|0),{h:y,l:I}=qa(this.Gh|0,this.Gl|0,y|0,I|0),{h:S,l:T}=qa(this.Hh|0,this.Hl|0,S|0,T|0),this.set(r,i,o,s,a,c,l,u,f,p,m,w,y,I,S,T)}roundClean(){Yl(Qc,el)}destroy(){Yl(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const T9=HS(()=>new LU),$U=HS(()=>new jU);let N9=class extends qS{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,A9(e);const r=Aw(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),Yl(o)}update(e){return oh(this),this.iHash.update(e),this}digestInto(e){oh(this),Ca(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const P9=(t,e,n)=>new N9(t,e).update(n).digest();P9.create=(t,e)=>new N9(t,e);var r2={},jn={},i2,R5;function xd(){if(R5)return i2;R5=1,i2=t;function t(e,n){if(!e)throw new Error(n||"Assertion failed")}return t.equal=function(n,r,i){if(n!=r)throw new Error(i||"Assertion failed: "+n+" != "+r)},i2}var Im={exports:{}},O5;function qs(){return O5||(O5=1,typeof Object.create=="function"?Im.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Im.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}}),Im.exports}var T5;function Ra(){if(T5)return jn;T5=1;var t=xd(),e=qs();jn.inherits=e;function n(E,b){return(E.charCodeAt(b)&64512)!==55296||b<0||b+1>=E.length?!1:(E.charCodeAt(b+1)&64512)===56320}function r(E,b){if(Array.isArray(E))return E.slice();if(!E)return[];var g=[];if(typeof E=="string")if(b){if(b==="hex")for(E=E.replace(/[^a-z0-9]+/ig,""),E.length%2!==0&&(E="0"+E),A=0;A<E.length;A+=2)g.push(parseInt(E[A]+E[A+1],16))}else for(var v=0,A=0;A<E.length;A++){var L=E.charCodeAt(A);L<128?g[v++]=L:L<2048?(g[v++]=L>>6|192,g[v++]=L&63|128):n(E,A)?(L=65536+((L&1023)<<10)+(E.charCodeAt(++A)&1023),g[v++]=L>>18|240,g[v++]=L>>12&63|128,g[v++]=L>>6&63|128,g[v++]=L&63|128):(g[v++]=L>>12|224,g[v++]=L>>6&63|128,g[v++]=L&63|128)}else for(A=0;A<E.length;A++)g[A]=E[A]|0;return g}jn.toArray=r;function i(E){for(var b="",g=0;g<E.length;g++)b+=a(E[g].toString(16));return b}jn.toHex=i;function o(E){var b=E>>>24|E>>>8&65280|E<<8&16711680|(E&255)<<24;return b>>>0}jn.htonl=o;function s(E,b){for(var g="",v=0;v<E.length;v++){var A=E[v];b==="little"&&(A=o(A)),g+=c(A.toString(16))}return g}jn.toHex32=s;function a(E){return E.length===1?"0"+E:E}jn.zero2=a;function c(E){return E.length===7?"0"+E:E.length===6?"00"+E:E.length===5?"000"+E:E.length===4?"0000"+E:E.length===3?"00000"+E:E.length===2?"000000"+E:E.length===1?"0000000"+E:E}jn.zero8=c;function l(E,b,g,v){var A=g-b;t(A%4===0);for(var L=new Array(A/4),C=0,O=b;C<L.length;C++,O+=4){var x;v==="big"?x=E[O]<<24|E[O+1]<<16|E[O+2]<<8|E[O+3]:x=E[O+3]<<24|E[O+2]<<16|E[O+1]<<8|E[O],L[C]=x>>>0}return L}jn.join32=l;function u(E,b){for(var g=new Array(E.length*4),v=0,A=0;v<E.length;v++,A+=4){var L=E[v];b==="big"?(g[A]=L>>>24,g[A+1]=L>>>16&255,g[A+2]=L>>>8&255,g[A+3]=L&255):(g[A+3]=L>>>24,g[A+2]=L>>>16&255,g[A+1]=L>>>8&255,g[A]=L&255)}return g}jn.split32=u;function f(E,b){return E>>>b|E<<32-b}jn.rotr32=f;function p(E,b){return E<<b|E>>>32-b}jn.rotl32=p;function m(E,b){return E+b>>>0}jn.sum32=m;function w(E,b,g){return E+b+g>>>0}jn.sum32_3=w;function y(E,b,g,v){return E+b+g+v>>>0}jn.sum32_4=y;function I(E,b,g,v,A){return E+b+g+v+A>>>0}jn.sum32_5=I;function S(E,b,g,v){var A=E[b],L=E[b+1],C=v+L>>>0,O=(C<v?1:0)+g+A;E[b]=O>>>0,E[b+1]=C}jn.sum64=S;function T(E,b,g,v){var A=b+v>>>0,L=(A<b?1:0)+E+g;return L>>>0}jn.sum64_hi=T;function N(E,b,g,v){var A=b+v;return A>>>0}jn.sum64_lo=N;function z(E,b,g,v,A,L,C,O){var x=0,R=b;R=R+v>>>0,x+=R<b?1:0,R=R+L>>>0,x+=R<L?1:0,R=R+O>>>0,x+=R<O?1:0;var _=E+g+A+C+x;return _>>>0}jn.sum64_4_hi=z;function $(E,b,g,v,A,L,C,O){var x=b+v+L+O;return x>>>0}jn.sum64_4_lo=$;function H(E,b,g,v,A,L,C,O,x,R){var _=0,k=b;k=k+v>>>0,_+=k<b?1:0,k=k+L>>>0,_+=k<L?1:0,k=k+O>>>0,_+=k<O?1:0,k=k+R>>>0,_+=k<R?1:0;var U=E+g+A+C+x+_;return U>>>0}jn.sum64_5_hi=H;function K(E,b,g,v,A,L,C,O,x,R){var _=b+v+L+O+R;return _>>>0}jn.sum64_5_lo=K;function j(E,b,g){var v=b<<32-g|E>>>g;return v>>>0}jn.rotr64_hi=j;function B(E,b,g){var v=E<<32-g|b>>>g;return v>>>0}jn.rotr64_lo=B;function D(E,b,g){return E>>>g}jn.shr64_hi=D;function P(E,b,g){var v=E<<32-g|b>>>g;return v>>>0}return jn.shr64_lo=P,jn}var o2={},N5;function eg(){if(N5)return o2;N5=1;var t=Ra(),e=xd();function n(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return o2.BlockHash=n,n.prototype.update=function(i,o){if(i=t.toArray(i,o),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var s=i.length%this._delta8;this.pending=i.slice(i.length-s,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-s,this.endian);for(var a=0;a<i.length;a+=this._delta32)this._update(i,a,a+this._delta32)}return this},n.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},n.prototype._pad=function(){var i=this.pendingTotal,o=this._delta8,s=o-(i+this.padLength)%o,a=new Array(s+this.padLength);a[0]=128;for(var c=1;c<s;c++)a[c]=0;if(i<<=3,this.endian==="big"){for(var l=8;l<this.padLength;l++)a[c++]=0;a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=i>>>24&255,a[c++]=i>>>16&255,a[c++]=i>>>8&255,a[c++]=i&255}else for(a[c++]=i&255,a[c++]=i>>>8&255,a[c++]=i>>>16&255,a[c++]=i>>>24&255,a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=0,l=8;l<this.padLength;l++)a[c++]=0;return a},o2}var xu={},ta={},P5;function L9(){if(P5)return ta;P5=1;var t=Ra(),e=t.rotr32;function n(u,f,p,m){if(u===0)return r(f,p,m);if(u===1||u===3)return o(f,p,m);if(u===2)return i(f,p,m)}ta.ft_1=n;function r(u,f,p){return u&f^~u&p}ta.ch32=r;function i(u,f,p){return u&f^u&p^f&p}ta.maj32=i;function o(u,f,p){return u^f^p}ta.p32=o;function s(u){return e(u,2)^e(u,13)^e(u,22)}ta.s0_256=s;function a(u){return e(u,6)^e(u,11)^e(u,25)}ta.s1_256=a;function c(u){return e(u,7)^e(u,18)^u>>>3}ta.g0_256=c;function l(u){return e(u,17)^e(u,19)^u>>>10}return ta.g1_256=l,ta}var s2,L5;function FU(){if(L5)return s2;L5=1;var t=Ra(),e=eg(),n=L9(),r=t.rotl32,i=t.sum32,o=t.sum32_5,s=n.ft_1,a=e.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(l,a),s2=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(f,p){for(var m=this.W,w=0;w<16;w++)m[w]=f[p+w];for(;w<m.length;w++)m[w]=r(m[w-3]^m[w-8]^m[w-14]^m[w-16],1);var y=this.h[0],I=this.h[1],S=this.h[2],T=this.h[3],N=this.h[4];for(w=0;w<m.length;w++){var z=~~(w/20),$=o(r(y,5),s(z,I,S,T),N,m[w],c[z]);N=T,T=S,S=r(I,30),I=y,y=$}this.h[0]=i(this.h[0],y),this.h[1]=i(this.h[1],I),this.h[2]=i(this.h[2],S),this.h[3]=i(this.h[3],T),this.h[4]=i(this.h[4],N)},l.prototype._digest=function(f){return f==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},s2}var a2,B5;function B9(){if(B5)return a2;B5=1;var t=Ra(),e=eg(),n=L9(),r=xd(),i=t.sum32,o=t.sum32_4,s=t.sum32_5,a=n.ch32,c=n.maj32,l=n.s0_256,u=n.s1_256,f=n.g0_256,p=n.g1_256,m=e.BlockHash,w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=w,this.W=new Array(64)}return t.inherits(y,m),a2=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(S,T){for(var N=this.W,z=0;z<16;z++)N[z]=S[T+z];for(;z<N.length;z++)N[z]=o(p(N[z-2]),N[z-7],f(N[z-15]),N[z-16]);var $=this.h[0],H=this.h[1],K=this.h[2],j=this.h[3],B=this.h[4],D=this.h[5],P=this.h[6],E=this.h[7];for(r(this.k.length===N.length),z=0;z<N.length;z++){var b=s(E,u(B),a(B,D,P),this.k[z],N[z]),g=i(l($),c($,H,K));E=P,P=D,D=B,B=i(j,b),j=K,K=H,H=$,$=i(b,g)}this.h[0]=i(this.h[0],$),this.h[1]=i(this.h[1],H),this.h[2]=i(this.h[2],K),this.h[3]=i(this.h[3],j),this.h[4]=i(this.h[4],B),this.h[5]=i(this.h[5],D),this.h[6]=i(this.h[6],P),this.h[7]=i(this.h[7],E)},y.prototype._digest=function(S){return S==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},a2}var c2,D5;function UU(){if(D5)return c2;D5=1;var t=Ra(),e=B9();function n(){if(!(this instanceof n))return new n;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(n,e),c2=n,n.blockSize=512,n.outSize=224,n.hmacStrength=192,n.padLength=64,n.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},c2}var l2,j5;function D9(){if(j5)return l2;j5=1;var t=Ra(),e=eg(),n=xd(),r=t.rotr64_hi,i=t.rotr64_lo,o=t.shr64_hi,s=t.shr64_lo,a=t.sum64,c=t.sum64_hi,l=t.sum64_lo,u=t.sum64_4_hi,f=t.sum64_4_lo,p=t.sum64_5_hi,m=t.sum64_5_lo,w=e.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function I(){if(!(this instanceof I))return new I;w.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}t.inherits(I,w),l2=I,I.blockSize=1024,I.outSize=512,I.hmacStrength=192,I.padLength=128,I.prototype._prepareBlock=function(g,v){for(var A=this.W,L=0;L<32;L++)A[L]=g[v+L];for(;L<A.length;L+=2){var C=P(A[L-4],A[L-3]),O=E(A[L-4],A[L-3]),x=A[L-14],R=A[L-13],_=B(A[L-30],A[L-29]),k=D(A[L-30],A[L-29]),U=A[L-32],q=A[L-31];A[L]=u(C,O,x,R,_,k,U,q),A[L+1]=f(C,O,x,R,_,k,U,q)}},I.prototype._update=function(g,v){this._prepareBlock(g,v);var A=this.W,L=this.h[0],C=this.h[1],O=this.h[2],x=this.h[3],R=this.h[4],_=this.h[5],k=this.h[6],U=this.h[7],q=this.h[8],V=this.h[9],Q=this.h[10],Y=this.h[11],X=this.h[12],ee=this.h[13],ie=this.h[14],oe=this.h[15];n(this.k.length===A.length);for(var te=0;te<A.length;te+=2){var se=ie,ue=oe,me=K(q,V),ye=j(q,V),pe=S(q,V,Q,Y,X),de=T(q,V,Q,Y,X,ee),Ee=this.k[te],Ce=this.k[te+1],we=A[te],$e=A[te+1],ze=p(se,ue,me,ye,pe,de,Ee,Ce,we,$e),Ze=m(se,ue,me,ye,pe,de,Ee,Ce,we,$e);se=$(L,C),ue=H(L,C),me=N(L,C,O,x,R),ye=z(L,C,O,x,R,_);var We=c(se,ue,me,ye),ne=l(se,ue,me,ye);ie=X,oe=ee,X=Q,ee=Y,Q=q,Y=V,q=c(k,U,ze,Ze),V=l(U,U,ze,Ze),k=R,U=_,R=O,_=x,O=L,x=C,L=c(ze,Ze,We,ne),C=l(ze,Ze,We,ne)}a(this.h,0,L,C),a(this.h,2,O,x),a(this.h,4,R,_),a(this.h,6,k,U),a(this.h,8,q,V),a(this.h,10,Q,Y),a(this.h,12,X,ee),a(this.h,14,ie,oe)},I.prototype._digest=function(g){return g==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function S(b,g,v,A,L){var C=b&v^~b&L;return C<0&&(C+=4294967296),C}function T(b,g,v,A,L,C){var O=g&A^~g&C;return O<0&&(O+=4294967296),O}function N(b,g,v,A,L){var C=b&v^b&L^v&L;return C<0&&(C+=4294967296),C}function z(b,g,v,A,L,C){var O=g&A^g&C^A&C;return O<0&&(O+=4294967296),O}function $(b,g){var v=r(b,g,28),A=r(g,b,2),L=r(g,b,7),C=v^A^L;return C<0&&(C+=4294967296),C}function H(b,g){var v=i(b,g,28),A=i(g,b,2),L=i(g,b,7),C=v^A^L;return C<0&&(C+=4294967296),C}function K(b,g){var v=r(b,g,14),A=r(b,g,18),L=r(g,b,9),C=v^A^L;return C<0&&(C+=4294967296),C}function j(b,g){var v=i(b,g,14),A=i(b,g,18),L=i(g,b,9),C=v^A^L;return C<0&&(C+=4294967296),C}function B(b,g){var v=r(b,g,1),A=r(b,g,8),L=o(b,g,7),C=v^A^L;return C<0&&(C+=4294967296),C}function D(b,g){var v=i(b,g,1),A=i(b,g,8),L=s(b,g,7),C=v^A^L;return C<0&&(C+=4294967296),C}function P(b,g){var v=r(b,g,19),A=r(g,b,29),L=o(b,g,6),C=v^A^L;return C<0&&(C+=4294967296),C}function E(b,g){var v=i(b,g,19),A=i(g,b,29),L=s(b,g,6),C=v^A^L;return C<0&&(C+=4294967296),C}return l2}var u2,$5;function zU(){if($5)return u2;$5=1;var t=Ra(),e=D9();function n(){if(!(this instanceof n))return new n;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(n,e),u2=n,n.blockSize=1024,n.outSize=384,n.hmacStrength=192,n.padLength=128,n.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},u2}var F5;function qU(){return F5||(F5=1,xu.sha1=FU(),xu.sha224=UU(),xu.sha256=B9(),xu.sha384=zU(),xu.sha512=D9()),xu}var d2={},U5;function HU(){if(U5)return d2;U5=1;var t=Ra(),e=eg(),n=t.rotl32,r=t.sum32,i=t.sum32_3,o=t.sum32_4,s=e.BlockHash;function a(){if(!(this instanceof a))return new a;s.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(a,s),d2.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(I,S){for(var T=this.h[0],N=this.h[1],z=this.h[2],$=this.h[3],H=this.h[4],K=T,j=N,B=z,D=$,P=H,E=0;E<80;E++){var b=r(n(o(T,c(E,N,z,$),I[f[E]+S],l(E)),m[E]),H);T=H,H=$,$=n(z,10),z=N,N=b,b=r(n(o(K,c(79-E,j,B,D),I[p[E]+S],u(E)),w[E]),P),K=P,P=D,D=n(B,10),B=j,j=b}b=i(this.h[1],z,D),this.h[1]=i(this.h[2],$,P),this.h[2]=i(this.h[3],H,K),this.h[3]=i(this.h[4],T,j),this.h[4]=i(this.h[0],N,B),this.h[0]=b},a.prototype._digest=function(I){return I==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function c(y,I,S,T){return y<=15?I^S^T:y<=31?I&S|~I&T:y<=47?(I|~S)^T:y<=63?I&T|S&~T:I^(S|~T)}function l(y){return y<=15?0:y<=31?1518500249:y<=47?1859775393:y<=63?2400959708:2840853838}function u(y){return y<=15?1352829926:y<=31?1548603684:y<=47?1836072691:y<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],p=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],w=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return d2}var f2,z5;function KU(){if(z5)return f2;z5=1;var t=Ra(),e=xd();function n(r,i,o){if(!(this instanceof n))return new n(r,i,o);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,o))}return f2=n,n.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var o=i.length;o<this.blockSize;o++)i.push(0);for(o=0;o<i.length;o++)i[o]^=54;for(this.inner=new this.Hash().update(i),o=0;o<i.length;o++)i[o]^=106;this.outer=new this.Hash().update(i)},n.prototype.update=function(i,o){return this.inner.update(i,o),this},n.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},f2}var q5;function WS(){return q5||(q5=1,function(t){var e=t;e.utils=Ra(),e.common=eg(),e.sha=qU(),e.ripemd=HU(),e.hmac=KU(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(r2)),r2}var h2,H5;function WU(){return H5||(H5=1,h2=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),h2}var p2,K5;function j9(){return K5||(K5=1,p2=Object),p2}var g2,W5;function VU(){return W5||(W5=1,g2=Error),g2}var m2,V5;function GU(){return V5||(V5=1,m2=EvalError),m2}var v2,G5;function YU(){return G5||(G5=1,v2=RangeError),v2}var y2,Y5;function JU(){return Y5||(Y5=1,y2=ReferenceError),y2}var w2,J5;function $9(){return J5||(J5=1,w2=SyntaxError),w2}var b2,Z5;function Iw(){return Z5||(Z5=1,b2=TypeError),b2}var E2,X5;function ZU(){return X5||(X5=1,E2=URIError),E2}var x2,Q5;function XU(){return Q5||(Q5=1,x2=Math.abs),x2}var _2,eI;function QU(){return eI||(eI=1,_2=Math.floor),_2}var S2,tI;function ez(){return tI||(tI=1,S2=Math.max),S2}var C2,nI;function tz(){return nI||(nI=1,C2=Math.min),C2}var A2,rI;function nz(){return rI||(rI=1,A2=Math.pow),A2}var I2,iI;function rz(){return iI||(iI=1,I2=Math.round),I2}var k2,oI;function iz(){return oI||(oI=1,k2=Number.isNaN||function(e){return e!==e}),k2}var M2,sI;function oz(){if(sI)return M2;sI=1;var t=iz();return M2=function(n){return t(n)||n===0?n:n<0?-1:1},M2}var R2,aI;function sz(){return aI||(aI=1,R2=Object.getOwnPropertyDescriptor),R2}var O2,cI;function kw(){if(cI)return O2;cI=1;var t=sz();if(t)try{t([],"length")}catch{t=null}return O2=t,O2}var T2,lI;function Mw(){if(lI)return T2;lI=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return T2=t,T2}var N2,uI;function az(){if(uI)return N2;uI=1;var t=typeof Symbol<"u"&&Symbol,e=WU();return N2=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},N2}var P2,dI;function F9(){return dI||(dI=1,P2=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),P2}var L2,fI;function U9(){if(fI)return L2;fI=1;var t=j9();return L2=t.getPrototypeOf||null,L2}var B2,hI;function cz(){if(hI)return B2;hI=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(c,l){for(var u=[],f=0;f<c.length;f+=1)u[f]=c[f];for(var p=0;p<l.length;p+=1)u[p+c.length]=l[p];return u},o=function(c,l){for(var u=[],f=l,p=0;f<c.length;f+=1,p+=1)u[p]=c[f];return u},s=function(a,c){for(var l="",u=0;u<a.length;u+=1)l+=a[u],u+1<a.length&&(l+=c);return l};return B2=function(c){var l=this;if(typeof l!="function"||e.apply(l)!==r)throw new TypeError(t+l);for(var u=o(arguments,1),f,p=function(){if(this instanceof f){var S=l.apply(this,i(u,arguments));return Object(S)===S?S:this}return l.apply(c,i(u,arguments))},m=n(0,l.length-u.length),w=[],y=0;y<m;y++)w[y]="$"+y;if(f=Function("binder","return function ("+s(w,",")+"){ return binder.apply(this,arguments); }")(p),l.prototype){var I=function(){};I.prototype=l.prototype,f.prototype=new I,I.prototype=null}return f},B2}var D2,pI;function tg(){if(pI)return D2;pI=1;var t=cz();return D2=Function.prototype.bind||t,D2}var j2,gI;function VS(){return gI||(gI=1,j2=Function.prototype.call),j2}var $2,mI;function GS(){return mI||(mI=1,$2=Function.prototype.apply),$2}var F2,vI;function lz(){return vI||(vI=1,F2=typeof Reflect<"u"&&Reflect&&Reflect.apply),F2}var U2,yI;function z9(){if(yI)return U2;yI=1;var t=tg(),e=GS(),n=VS(),r=lz();return U2=r||t.call(n,e),U2}var z2,wI;function YS(){if(wI)return z2;wI=1;var t=tg(),e=Iw(),n=VS(),r=z9();return z2=function(o){if(o.length<1||typeof o[0]!="function")throw new e("a function is required");return r(t,n,o)},z2}var q2,bI;function uz(){if(bI)return q2;bI=1;var t=YS(),e=kw(),n;try{n=[].__proto__===Array.prototype}catch(s){if(!s||typeof s!="object"||!("code"in s)||s.code!=="ERR_PROTO_ACCESS")throw s}var r=!!n&&e&&e(Object.prototype,"__proto__"),i=Object,o=i.getPrototypeOf;return q2=r&&typeof r.get=="function"?t([r.get]):typeof o=="function"?function(a){return o(a==null?a:i(a))}:!1,q2}var H2,EI;function dz(){if(EI)return H2;EI=1;var t=F9(),e=U9(),n=uz();return H2=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:n?function(i){return n(i)}:null,H2}var K2,xI;function fz(){if(xI)return K2;xI=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=tg();return K2=n.call(t,e),K2}var W2,_I;function q9(){if(_I)return W2;_I=1;var t,e=j9(),n=VU(),r=GU(),i=YU(),o=JU(),s=$9(),a=Iw(),c=ZU(),l=XU(),u=QU(),f=ez(),p=tz(),m=nz(),w=rz(),y=oz(),I=Function,S=function(X){try{return I('"use strict"; return ('+X+").constructor;")()}catch{}},T=kw(),N=Mw(),z=function(){throw new a},$=T?function(){try{return arguments.callee,z}catch{try{return T(arguments,"callee").get}catch{return z}}}():z,H=az()(),K=dz(),j=U9(),B=F9(),D=GS(),P=VS(),E={},b=typeof Uint8Array>"u"||!K?t:K(Uint8Array),g={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":H&&K?K([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":E,"%AsyncGenerator%":E,"%AsyncGeneratorFunction%":E,"%AsyncIteratorPrototype%":E,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":I,"%GeneratorFunction%":E,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":H&&K?K(K([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!H||!K?t:K(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":T,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!H||!K?t:K(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":H&&K?K(""[Symbol.iterator]()):t,"%Symbol%":H?Symbol:t,"%SyntaxError%":s,"%ThrowTypeError%":$,"%TypedArray%":b,"%TypeError%":a,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":P,"%Function.prototype.apply%":D,"%Object.defineProperty%":N,"%Object.getPrototypeOf%":j,"%Math.abs%":l,"%Math.floor%":u,"%Math.max%":f,"%Math.min%":p,"%Math.pow%":m,"%Math.round%":w,"%Math.sign%":y,"%Reflect.getPrototypeOf%":B};if(K)try{null.error}catch(X){var v=K(K(X));g["%Error.prototype%"]=v}var A=function X(ee){var ie;if(ee==="%AsyncFunction%")ie=S("async function () {}");else if(ee==="%GeneratorFunction%")ie=S("function* () {}");else if(ee==="%AsyncGeneratorFunction%")ie=S("async function* () {}");else if(ee==="%AsyncGenerator%"){var oe=X("%AsyncGeneratorFunction%");oe&&(ie=oe.prototype)}else if(ee==="%AsyncIteratorPrototype%"){var te=X("%AsyncGenerator%");te&&K&&(ie=K(te.prototype))}return g[ee]=ie,ie},L={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=tg(),O=fz(),x=C.call(P,Array.prototype.concat),R=C.call(D,Array.prototype.splice),_=C.call(P,String.prototype.replace),k=C.call(P,String.prototype.slice),U=C.call(P,RegExp.prototype.exec),q=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,V=/\\(\\)?/g,Q=function(ee){var ie=k(ee,0,1),oe=k(ee,-1);if(ie==="%"&&oe!=="%")throw new s("invalid intrinsic syntax, expected closing `%`");if(oe==="%"&&ie!=="%")throw new s("invalid intrinsic syntax, expected opening `%`");var te=[];return _(ee,q,function(se,ue,me,ye){te[te.length]=me?_(ye,V,"$1"):ue||se}),te},Y=function(ee,ie){var oe=ee,te;if(O(L,oe)&&(te=L[oe],oe="%"+te[0]+"%"),O(g,oe)){var se=g[oe];if(se===E&&(se=A(oe)),typeof se>"u"&&!ie)throw new a("intrinsic "+ee+" exists, but is not available. Please file an issue!");return{alias:te,name:oe,value:se}}throw new s("intrinsic "+ee+" does not exist!")};return W2=function(ee,ie){if(typeof ee!="string"||ee.length===0)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ie!="boolean")throw new a('"allowMissing" argument must be a boolean');if(U(/^%?[^%]*%?$/,ee)===null)throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var oe=Q(ee),te=oe.length>0?oe[0]:"",se=Y("%"+te+"%",ie),ue=se.name,me=se.value,ye=!1,pe=se.alias;pe&&(te=pe[0],R(oe,x([0,1],pe)));for(var de=1,Ee=!0;de<oe.length;de+=1){var Ce=oe[de],we=k(Ce,0,1),$e=k(Ce,-1);if((we==='"'||we==="'"||we==="`"||$e==='"'||$e==="'"||$e==="`")&&we!==$e)throw new s("property names with quotes must have matching quotes");if((Ce==="constructor"||!Ee)&&(ye=!0),te+="."+Ce,ue="%"+te+"%",O(g,ue))me=g[ue];else if(me!=null){if(!(Ce in me)){if(!ie)throw new a("base intrinsic for "+ee+" exists, but the property is not available.");return}if(T&&de+1>=oe.length){var ze=T(me,Ce);Ee=!!ze,Ee&&"get"in ze&&!("originalValue"in ze.get)?me=ze.get:me=me[Ce]}else Ee=O(me,Ce),me=me[Ce];Ee&&!ye&&(g[ue]=me)}}return me},W2}var V2,SI;function hz(){if(SI)return V2;SI=1;var t=q9(),e=YS(),n=e([t("%String.prototype.indexOf%")]);return V2=function(i,o){var s=t(i,!!o);return typeof s=="function"&&n(i,".prototype.")>-1?e([s]):s},V2}var G2={exports:{}},Y2,CI;function pz(){if(CI)return Y2;CI=1;var t=Mw(),e=$9(),n=Iw(),r=kw();return Y2=function(o,s,a){if(!o||typeof o!="object"&&typeof o!="function")throw new n("`obj` must be an object or a function`");if(typeof s!="string"&&typeof s!="symbol")throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new n("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,p=!!r&&r(o,s);if(t)t(o,s,{configurable:u===null&&p?p.configurable:!u,enumerable:c===null&&p?p.enumerable:!c,value:a,writable:l===null&&p?p.writable:!l});else if(f||!c&&!l&&!u)o[s]=a;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Y2}var J2,AI;function gz(){if(AI)return J2;AI=1;var t=Mw(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},J2=e,J2}var Z2,II;function mz(){if(II)return Z2;II=1;var t=q9(),e=pz(),n=gz()(),r=kw(),i=Iw(),o=t("%Math.floor%");return Z2=function(a,c){if(typeof a!="function")throw new i("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||o(c)!==c)throw new i("`length` must be a positive 32-bit integer");var l=arguments.length>2&&!!arguments[2],u=!0,f=!0;if("length"in a&&r){var p=r(a,"length");p&&!p.configurable&&(u=!1),p&&!p.writable&&(f=!1)}return(u||f||!l)&&(n?e(a,"length",c,!0,!0):e(a,"length",c)),a},Z2}var X2,kI;function vz(){if(kI)return X2;kI=1;var t=tg(),e=GS(),n=z9();return X2=function(){return n(t,e,arguments)},X2}var MI;function yz(){return MI||(MI=1,function(t){var e=mz(),n=Mw(),r=YS(),i=vz();t.exports=function(s){var a=r(arguments),c=s.length-(arguments.length-1);return e(a,1+(c>0?c:0),!0)},n?n(t.exports,"apply",{value:i}):t.exports.apply=i}(G2)),G2.exports}var Q2,RI;function H9(){if(RI)return Q2;RI=1;var t=Object.prototype.toString;return Q2=function(n){var r=t.call(n),i=r==="[object Arguments]";return i||(i=r!=="[object Array]"&&n!==null&&typeof n=="object"&&typeof n.length=="number"&&n.length>=0&&t.call(n.callee)==="[object Function]"),i},Q2}var e3,OI;function wz(){if(OI)return e3;OI=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=H9(),i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),s=i.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(p){var m=p.constructor;return m&&m.prototype===p},l={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},u=function(){if(typeof window>"u")return!1;for(var p in window)try{if(!l["$"+p]&&e.call(window,p)&&window[p]!==null&&typeof window[p]=="object")try{c(window[p])}catch{return!0}}catch{return!0}return!1}(),f=function(p){if(typeof window>"u"||!u)return c(p);try{return c(p)}catch{return!1}};t=function(m){var w=m!==null&&typeof m=="object",y=n.call(m)==="[object Function]",I=r(m),S=w&&n.call(m)==="[object String]",T=[];if(!w&&!y&&!I)throw new TypeError("Object.keys called on a non-object");var N=s&&y;if(S&&m.length>0&&!e.call(m,0))for(var z=0;z<m.length;++z)T.push(String(z));if(I&&m.length>0)for(var $=0;$<m.length;++$)T.push(String($));else for(var H in m)!(N&&H==="prototype")&&e.call(m,H)&&T.push(String(H));if(o)for(var K=f(m),j=0;j<a.length;++j)!(K&&a[j]==="constructor")&&e.call(m,a[j])&&T.push(a[j]);return T}}return e3=t,e3}var t3,TI;function bz(){if(TI)return t3;TI=1;var t=Array.prototype.slice,e=H9(),n=Object.keys,r=n?function(s){return n(s)}:wz(),i=Object.keys;return r.shim=function(){if(Object.keys){var s=function(){var a=Object.keys(arguments);return a&&a.length===arguments.length}(1,2);s||(Object.keys=function(c){return e(c)?i(t.call(c)):i(c)})}else Object.keys=r;return Object.keys||r},t3=r,t3}var n3={};const Ez="6.6.1",xz={version:Ez};var r3={},$v={exports:{}},_z=$v.exports,NI;function kc(){return NI||(NI=1,function(t){(function(e,n){function r(P,E){if(!P)throw new Error(E||"Assertion failed")}function i(P,E){P.super_=E;var b=function(){};b.prototype=E.prototype,P.prototype=new b,P.prototype.constructor=P}function o(P,E,b){if(o.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,P!==null&&((E==="le"||E==="be")&&(b=E,E=10),this._init(P||0,E||10,b||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=zS.Buffer}catch{}o.isBN=function(E){return E instanceof o?!0:E!==null&&typeof E=="object"&&E.constructor.wordSize===o.wordSize&&Array.isArray(E.words)},o.max=function(E,b){return E.cmp(b)>0?E:b},o.min=function(E,b){return E.cmp(b)<0?E:b},o.prototype._init=function(E,b,g){if(typeof E=="number")return this._initNumber(E,b,g);if(typeof E=="object")return this._initArray(E,b,g);b==="hex"&&(b=16),r(b===(b|0)&&b>=2&&b<=36),E=E.toString().replace(/\s+/g,"");var v=0;E[0]==="-"&&(v++,this.negative=1),v<E.length&&(b===16?this._parseHex(E,v,g):(this._parseBase(E,b,v),g==="le"&&this._initArray(this.toArray(),b,g)))},o.prototype._initNumber=function(E,b,g){E<0&&(this.negative=1,E=-E),E<67108864?(this.words=[E&67108863],this.length=1):E<4503599627370496?(this.words=[E&67108863,E/67108864&67108863],this.length=2):(r(E<9007199254740992),this.words=[E&67108863,E/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),b,g)},o.prototype._initArray=function(E,b,g){if(r(typeof E.length=="number"),E.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(E.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var A,L,C=0;if(g==="be")for(v=E.length-1,A=0;v>=0;v-=3)L=E[v]|E[v-1]<<8|E[v-2]<<16,this.words[A]|=L<<C&67108863,this.words[A+1]=L>>>26-C&67108863,C+=24,C>=26&&(C-=26,A++);else if(g==="le")for(v=0,A=0;v<E.length;v+=3)L=E[v]|E[v+1]<<8|E[v+2]<<16,this.words[A]|=L<<C&67108863,this.words[A+1]=L>>>26-C&67108863,C+=24,C>=26&&(C-=26,A++);return this.strip()};function a(P,E){var b=P.charCodeAt(E);return b>=65&&b<=70?b-55:b>=97&&b<=102?b-87:b-48&15}function c(P,E,b){var g=a(P,b);return b-1>=E&&(g|=a(P,b-1)<<4),g}o.prototype._parseHex=function(E,b,g){this.length=Math.ceil((E.length-b)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var A=0,L=0,C;if(g==="be")for(v=E.length-1;v>=b;v-=2)C=c(E,b,v)<<A,this.words[L]|=C&67108863,A>=18?(A-=18,L+=1,this.words[L]|=C>>>26):A+=8;else{var O=E.length-b;for(v=O%2===0?b+1:b;v<E.length;v+=2)C=c(E,b,v)<<A,this.words[L]|=C&67108863,A>=18?(A-=18,L+=1,this.words[L]|=C>>>26):A+=8}this.strip()};function l(P,E,b,g){for(var v=0,A=Math.min(P.length,b),L=E;L<A;L++){var C=P.charCodeAt(L)-48;v*=g,C>=49?v+=C-49+10:C>=17?v+=C-17+10:v+=C}return v}o.prototype._parseBase=function(E,b,g){this.words=[0],this.length=1;for(var v=0,A=1;A<=67108863;A*=b)v++;v--,A=A/b|0;for(var L=E.length-g,C=L%v,O=Math.min(L,L-C)+g,x=0,R=g;R<O;R+=v)x=l(E,R,R+v,b),this.imuln(A),this.words[0]+x<67108864?this.words[0]+=x:this._iaddn(x);if(C!==0){var _=1;for(x=l(E,R,E.length,b),R=0;R<C;R++)_*=b;this.imuln(_),this.words[0]+x<67108864?this.words[0]+=x:this._iaddn(x)}this.strip()},o.prototype.copy=function(E){E.words=new Array(this.length);for(var b=0;b<this.length;b++)E.words[b]=this.words[b];E.length=this.length,E.negative=this.negative,E.red=this.red},o.prototype.clone=function(){var E=new o(null);return this.copy(E),E},o.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(E,b){E=E||10,b=b|0||1;var g;if(E===16||E==="hex"){g="";for(var v=0,A=0,L=0;L<this.length;L++){var C=this.words[L],O=((C<<v|A)&16777215).toString(16);A=C>>>24-v&16777215,v+=2,v>=26&&(v-=26,L--),A!==0||L!==this.length-1?g=u[6-O.length]+O+g:g=O+g}for(A!==0&&(g=A.toString(16)+g);g.length%b!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(E===(E|0)&&E>=2&&E<=36){var x=f[E],R=p[E];g="";var _=this.clone();for(_.negative=0;!_.isZero();){var k=_.modn(R).toString(E);_=_.idivn(R),_.isZero()?g=k+g:g=u[x-k.length]+k+g}for(this.isZero()&&(g="0"+g);g.length%b!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=this.words[1]*67108864:this.length===3&&this.words[2]===1?E+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-E:E},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(E,b){return r(typeof s<"u"),this.toArrayLike(s,E,b)},o.prototype.toArray=function(E,b){return this.toArrayLike(Array,E,b)},o.prototype.toArrayLike=function(E,b,g){var v=this.byteLength(),A=g||Math.max(1,v);r(v<=A,"byte array longer than desired length"),r(A>0,"Requested array length <= 0"),this.strip();var L=b==="le",C=new E(A),O,x,R=this.clone();if(L){for(x=0;!R.isZero();x++)O=R.andln(255),R.iushrn(8),C[x]=O;for(;x<A;x++)C[x]=0}else{for(x=0;x<A-v;x++)C[x]=0;for(x=0;!R.isZero();x++)O=R.andln(255),R.iushrn(8),C[A-x-1]=O}return C},Math.clz32?o.prototype._countBits=function(E){return 32-Math.clz32(E)}:o.prototype._countBits=function(E){var b=E,g=0;return b>=4096&&(g+=13,b>>>=13),b>=64&&(g+=7,b>>>=7),b>=8&&(g+=4,b>>>=4),b>=2&&(g+=2,b>>>=2),g+b},o.prototype._zeroBits=function(E){if(E===0)return 26;var b=E,g=0;return(b&8191)===0&&(g+=13,b>>>=13),(b&127)===0&&(g+=7,b>>>=7),(b&15)===0&&(g+=4,b>>>=4),(b&3)===0&&(g+=2,b>>>=2),(b&1)===0&&g++,g},o.prototype.bitLength=function(){var E=this.words[this.length-1],b=this._countBits(E);return(this.length-1)*26+b};function m(P){for(var E=new Array(P.bitLength()),b=0;b<E.length;b++){var g=b/26|0,v=b%26;E[b]=(P.words[g]&1<<v)>>>v}return E}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,b=0;b<this.length;b++){var g=this._zeroBits(this.words[b]);if(E+=g,g!==26)break}return E},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(E){return this.negative!==0?this.abs().inotn(E).iaddn(1):this.clone()},o.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var b=0;b<E.length;b++)this.words[b]=this.words[b]|E.words[b];return this.strip()},o.prototype.ior=function(E){return r((this.negative|E.negative)===0),this.iuor(E)},o.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},o.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},o.prototype.iuand=function(E){var b;this.length>E.length?b=E:b=this;for(var g=0;g<b.length;g++)this.words[g]=this.words[g]&E.words[g];return this.length=b.length,this.strip()},o.prototype.iand=function(E){return r((this.negative|E.negative)===0),this.iuand(E)},o.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},o.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},o.prototype.iuxor=function(E){var b,g;this.length>E.length?(b=this,g=E):(b=E,g=this);for(var v=0;v<g.length;v++)this.words[v]=b.words[v]^g.words[v];if(this!==b)for(;v<b.length;v++)this.words[v]=b.words[v];return this.length=b.length,this.strip()},o.prototype.ixor=function(E){return r((this.negative|E.negative)===0),this.iuxor(E)},o.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},o.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},o.prototype.inotn=function(E){r(typeof E=="number"&&E>=0);var b=Math.ceil(E/26)|0,g=E%26;this._expand(b),g>0&&b--;for(var v=0;v<b;v++)this.words[v]=~this.words[v]&67108863;return g>0&&(this.words[v]=~this.words[v]&67108863>>26-g),this.strip()},o.prototype.notn=function(E){return this.clone().inotn(E)},o.prototype.setn=function(E,b){r(typeof E=="number"&&E>=0);var g=E/26|0,v=E%26;return this._expand(g+1),b?this.words[g]=this.words[g]|1<<v:this.words[g]=this.words[g]&~(1<<v),this.strip()},o.prototype.iadd=function(E){var b;if(this.negative!==0&&E.negative===0)return this.negative=0,b=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,b=this.isub(E),E.negative=1,b._normSign();var g,v;this.length>E.length?(g=this,v=E):(g=E,v=this);for(var A=0,L=0;L<v.length;L++)b=(g.words[L]|0)+(v.words[L]|0)+A,this.words[L]=b&67108863,A=b>>>26;for(;A!==0&&L<g.length;L++)b=(g.words[L]|0)+A,this.words[L]=b&67108863,A=b>>>26;if(this.length=g.length,A!==0)this.words[this.length]=A,this.length++;else if(g!==this)for(;L<g.length;L++)this.words[L]=g.words[L];return this},o.prototype.add=function(E){var b;return E.negative!==0&&this.negative===0?(E.negative=0,b=this.sub(E),E.negative^=1,b):E.negative===0&&this.negative!==0?(this.negative=0,b=E.sub(this),this.negative=1,b):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},o.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var b=this.iadd(E);return E.negative=1,b._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var g=this.cmp(E);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,A;g>0?(v=this,A=E):(v=E,A=this);for(var L=0,C=0;C<A.length;C++)b=(v.words[C]|0)-(A.words[C]|0)+L,L=b>>26,this.words[C]=b&67108863;for(;L!==0&&C<v.length;C++)b=(v.words[C]|0)+L,L=b>>26,this.words[C]=b&67108863;if(L===0&&C<v.length&&v!==this)for(;C<v.length;C++)this.words[C]=v.words[C];return this.length=Math.max(this.length,C),v!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(E){return this.clone().isub(E)};function w(P,E,b){b.negative=E.negative^P.negative;var g=P.length+E.length|0;b.length=g,g=g-1|0;var v=P.words[0]|0,A=E.words[0]|0,L=v*A,C=L&67108863,O=L/67108864|0;b.words[0]=C;for(var x=1;x<g;x++){for(var R=O>>>26,_=O&67108863,k=Math.min(x,E.length-1),U=Math.max(0,x-P.length+1);U<=k;U++){var q=x-U|0;v=P.words[q]|0,A=E.words[U]|0,L=v*A+_,R+=L/67108864|0,_=L&67108863}b.words[x]=_|0,O=R|0}return O!==0?b.words[x]=O|0:b.length--,b.strip()}var y=function(E,b,g){var v=E.words,A=b.words,L=g.words,C=0,O,x,R,_=v[0]|0,k=_&8191,U=_>>>13,q=v[1]|0,V=q&8191,Q=q>>>13,Y=v[2]|0,X=Y&8191,ee=Y>>>13,ie=v[3]|0,oe=ie&8191,te=ie>>>13,se=v[4]|0,ue=se&8191,me=se>>>13,ye=v[5]|0,pe=ye&8191,de=ye>>>13,Ee=v[6]|0,Ce=Ee&8191,we=Ee>>>13,$e=v[7]|0,ze=$e&8191,Ze=$e>>>13,We=v[8]|0,ne=We&8191,G=We>>>13,Z=v[9]|0,ce=Z&8191,ge=Z>>>13,Ae=A[0]|0,Re=Ae&8191,lt=Ae>>>13,Ct=A[1]|0,ot=Ct&8191,Ot=Ct>>>13,vt=A[2]|0,xt=vt&8191,hn=vt>>>13,rn=A[3]|0,Ve=rn&8191,jt=rn>>>13,Nt=A[4]|0,gt=Nt&8191,Mt=Nt>>>13,le=A[5]|0,fe=le&8191,He=le>>>13,Ue=A[6]|0,Ge=Ue&8191,Pt=Ue>>>13,Jt=A[7]|0,Lt=Jt&8191,Qt=Jt>>>13,sn=A[8]|0,Kt=sn&8191,kn=sn>>>13,Mn=A[9]|0,Wt=Mn&8191,pn=Mn>>>13;g.negative=E.negative^b.negative,g.length=19,O=Math.imul(k,Re),x=Math.imul(k,lt),x=x+Math.imul(U,Re)|0,R=Math.imul(U,lt);var on=(C+O|0)+((x&8191)<<13)|0;C=(R+(x>>>13)|0)+(on>>>26)|0,on&=67108863,O=Math.imul(V,Re),x=Math.imul(V,lt),x=x+Math.imul(Q,Re)|0,R=Math.imul(Q,lt),O=O+Math.imul(k,ot)|0,x=x+Math.imul(k,Ot)|0,x=x+Math.imul(U,ot)|0,R=R+Math.imul(U,Ot)|0;var wn=(C+O|0)+((x&8191)<<13)|0;C=(R+(x>>>13)|0)+(wn>>>26)|0,wn&=67108863,O=Math.imul(X,Re),x=Math.imul(X,lt),x=x+Math.imul(ee,Re)|0,R=Math.imul(ee,lt),O=O+Math.imul(V,ot)|0,x=x+Math.imul(V,Ot)|0,x=x+Math.imul(Q,ot)|0,R=R+Math.imul(Q,Ot)|0,O=O+Math.imul(k,xt)|0,x=x+Math.imul(k,hn)|0,x=x+Math.imul(U,xt)|0,R=R+Math.imul(U,hn)|0;var kr=(C+O|0)+((x&8191)<<13)|0;C=(R+(x>>>13)|0)+(kr>>>26)|0,kr&=67108863,O=Math.imul(oe,Re),x=Math.imul(oe,lt),x=x+Math.imul(te,Re)|0,R=Math.imul(te,lt),O=O+Math.imul(X,ot)|0,x=x+Math.imul(X,Ot)|0,x=x+Math.imul(ee,ot)|0,R=R+Math.imul(ee,Ot)|0,O=O+Math.imul(V,xt)|0,x=x+Math.imul(V,hn)|0,x=x+Math.imul(Q,xt)|0,R=R+Math.imul(Q,hn)|0,O=O+Math.imul(k,Ve)|0,x=x+Math.imul(k,jt)|0,x=x+Math.imul(U,Ve)|0,R=R+Math.imul(U,jt)|0;var sr=(C+O|0)+((x&8191)<<13)|0;C=(R+(x>>>13)|0)+(sr>>>26)|0,sr&=67108863,O=Math.imul(ue,Re),x=Math.imul(ue,lt),x=x+Math.imul(me,Re)|0,R=Math.imul(me,lt),O=O+Math.imul(oe,ot)|0,x=x+Math.imul(oe,Ot)|0,x=x+Math.imul(te,ot)|0,R=R+Math.imul(te,Ot)|0,O=O+Math.imul(X,xt)|0,x=x+Math.imul(X,hn)|0,x=x+Math.imul(ee,xt)|0,R=R+Math.imul(ee,hn)|0,O=O+Math.imul(V,Ve)|0,x=x+Math.imul(V,jt)|0,x=x+Math.imul(Q,Ve)|0,R=R+Math.imul(Q,jt)|0,O=O+Math.imul(k,gt)|0,x=x+Math.imul(k,Mt)|0,x=x+Math.imul(U,gt)|0,R=R+Math.imul(U,Mt)|0;var Do=(C+O|0)+((x&8191)<<13)|0;C=(R+(x>>>13)|0)+(Do>>>26)|0,Do&=67108863,O=Math.imul(pe,Re),x=Math.imul(pe,lt),x=x+Math.imul(de,Re)|0,R=Math.imul(de,lt),O=O+Math.imul(ue,ot)|0,x=x+Math.imul(ue,Ot)|0,x=x+Math.imul(me,ot)|0,R=R+Math.imul(me,Ot)|0,O=O+Math.imul(oe,xt)|0,x=x+Math.imul(oe,hn)|0,x=x+Math.imul(te,xt)|0,R=R+Math.imul(te,hn)|0,O=O+Math.imul(X,Ve)|0,x=x+Math.imul(X,jt)|0,x=x+Math.imul(ee,Ve)|0,R=R+Math.imul(ee,jt)|0,O=O+Math.imul(V,gt)|0,x=x+Math.imul(V,Mt)|0,x=x+Math.imul(Q,gt)|0,R=R+Math.imul(Q,Mt)|0,O=O+Math.imul(k,fe)|0,x=x+Math.imul(k,He)|0,x=x+Math.imul(U,fe)|0,R=R+Math.imul(U,He)|0;var jo=(C+O|0)+((x&8191)<<13)|0;C=(R+(x>>>13)|0)+(jo>>>26)|0,jo&=67108863,O=Math.imul(Ce,Re),x=Math.imul(Ce,lt),x=x+Math.imul(we,Re)|0,R=Math.imul(we,lt),O=O+Math.imul(pe,ot)|0,x=x+Math.imul(pe,Ot)|0,x=x+Math.imul(de,ot)|0,R=R+Math.imul(de,Ot)|0,O=O+Math.imul(ue,xt)|0,x=x+Math.imul(ue,hn)|0,x=x+Math.imul(me,xt)|0,R=R+Math.imul(me,hn)|0,O=O+Math.imul(oe,Ve)|0,x=x+Math.imul(oe,jt)|0,x=x+Math.imul(te,Ve)|0,R=R+Math.imul(te,jt)|0,O=O+Math.imul(X,gt)|0,x=x+Math.imul(X,Mt)|0,x=x+Math.imul(ee,gt)|0,R=R+Math.imul(ee,Mt)|0,O=O+Math.imul(V,fe)|0,x=x+Math.imul(V,He)|0,x=x+Math.imul(Q,fe)|0,R=R+Math.imul(Q,He)|0,O=O+Math.imul(k,Ge)|0,x=x+Math.imul(k,Pt)|0,x=x+Math.imul(U,Ge)|0,R=R+Math.imul(U,Pt)|0;var Pr=(C+O|0)+((x&8191)<<13)|0;C=(R+(x>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,O=Math.imul(ze,Re),x=Math.imul(ze,lt),x=x+Math.imul(Ze,Re)|0,R=Math.imul(Ze,lt),O=O+Math.imul(Ce,ot)|0,x=x+Math.imul(Ce,Ot)|0,x=x+Math.imul(we,ot)|0,R=R+Math.imul(we,Ot)|0,O=O+Math.imul(pe,xt)|0,x=x+Math.imul(pe,hn)|0,x=x+Math.imul(de,xt)|0,R=R+Math.imul(de,hn)|0,O=O+Math.imul(ue,Ve)|0,x=x+Math.imul(ue,jt)|0,x=x+Math.imul(me,Ve)|0,R=R+Math.imul(me,jt)|0,O=O+Math.imul(oe,gt)|0,x=x+Math.imul(oe,Mt)|0,x=x+Math.imul(te,gt)|0,R=R+Math.imul(te,Mt)|0,O=O+Math.imul(X,fe)|0,x=x+Math.imul(X,He)|0,x=x+Math.imul(ee,fe)|0,R=R+Math.imul(ee,He)|0,O=O+Math.imul(V,Ge)|0,x=x+Math.imul(V,Pt)|0,x=x+Math.imul(Q,Ge)|0,R=R+Math.imul(Q,Pt)|0,O=O+Math.imul(k,Lt)|0,x=x+Math.imul(k,Qt)|0,x=x+Math.imul(U,Lt)|0,R=R+Math.imul(U,Qt)|0;var hs=(C+O|0)+((x&8191)<<13)|0;C=(R+(x>>>13)|0)+(hs>>>26)|0,hs&=67108863,O=Math.imul(ne,Re),x=Math.imul(ne,lt),x=x+Math.imul(G,Re)|0,R=Math.imul(G,lt),O=O+Math.imul(ze,ot)|0,x=x+Math.imul(ze,Ot)|0,x=x+Math.imul(Ze,ot)|0,R=R+Math.imul(Ze,Ot)|0,O=O+Math.imul(Ce,xt)|0,x=x+Math.imul(Ce,hn)|0,x=x+Math.imul(we,xt)|0,R=R+Math.imul(we,hn)|0,O=O+Math.imul(pe,Ve)|0,x=x+Math.imul(pe,jt)|0,x=x+Math.imul(de,Ve)|0,R=R+Math.imul(de,jt)|0,O=O+Math.imul(ue,gt)|0,x=x+Math.imul(ue,Mt)|0,x=x+Math.imul(me,gt)|0,R=R+Math.imul(me,Mt)|0,O=O+Math.imul(oe,fe)|0,x=x+Math.imul(oe,He)|0,x=x+Math.imul(te,fe)|0,R=R+Math.imul(te,He)|0,O=O+Math.imul(X,Ge)|0,x=x+Math.imul(X,Pt)|0,x=x+Math.imul(ee,Ge)|0,R=R+Math.imul(ee,Pt)|0,O=O+Math.imul(V,Lt)|0,x=x+Math.imul(V,Qt)|0,x=x+Math.imul(Q,Lt)|0,R=R+Math.imul(Q,Qt)|0,O=O+Math.imul(k,Kt)|0,x=x+Math.imul(k,kn)|0,x=x+Math.imul(U,Kt)|0,R=R+Math.imul(U,kn)|0;var ps=(C+O|0)+((x&8191)<<13)|0;C=(R+(x>>>13)|0)+(ps>>>26)|0,ps&=67108863,O=Math.imul(ce,Re),x=Math.imul(ce,lt),x=x+Math.imul(ge,Re)|0,R=Math.imul(ge,lt),O=O+Math.imul(ne,ot)|0,x=x+Math.imul(ne,Ot)|0,x=x+Math.imul(G,ot)|0,R=R+Math.imul(G,Ot)|0,O=O+Math.imul(ze,xt)|0,x=x+Math.imul(ze,hn)|0,x=x+Math.imul(Ze,xt)|0,R=R+Math.imul(Ze,hn)|0,O=O+Math.imul(Ce,Ve)|0,x=x+Math.imul(Ce,jt)|0,x=x+Math.imul(we,Ve)|0,R=R+Math.imul(we,jt)|0,O=O+Math.imul(pe,gt)|0,x=x+Math.imul(pe,Mt)|0,x=x+Math.imul(de,gt)|0,R=R+Math.imul(de,Mt)|0,O=O+Math.imul(ue,fe)|0,x=x+Math.imul(ue,He)|0,x=x+Math.imul(me,fe)|0,R=R+Math.imul(me,He)|0,O=O+Math.imul(oe,Ge)|0,x=x+Math.imul(oe,Pt)|0,x=x+Math.imul(te,Ge)|0,R=R+Math.imul(te,Pt)|0,O=O+Math.imul(X,Lt)|0,x=x+Math.imul(X,Qt)|0,x=x+Math.imul(ee,Lt)|0,R=R+Math.imul(ee,Qt)|0,O=O+Math.imul(V,Kt)|0,x=x+Math.imul(V,kn)|0,x=x+Math.imul(Q,Kt)|0,R=R+Math.imul(Q,kn)|0,O=O+Math.imul(k,Wt)|0,x=x+Math.imul(k,pn)|0,x=x+Math.imul(U,Wt)|0,R=R+Math.imul(U,pn)|0;var An=(C+O|0)+((x&8191)<<13)|0;C=(R+(x>>>13)|0)+(An>>>26)|0,An&=67108863,O=Math.imul(ce,ot),x=Math.imul(ce,Ot),x=x+Math.imul(ge,ot)|0,R=Math.imul(ge,Ot),O=O+Math.imul(ne,xt)|0,x=x+Math.imul(ne,hn)|0,x=x+Math.imul(G,xt)|0,R=R+Math.imul(G,hn)|0,O=O+Math.imul(ze,Ve)|0,x=x+Math.imul(ze,jt)|0,x=x+Math.imul(Ze,Ve)|0,R=R+Math.imul(Ze,jt)|0,O=O+Math.imul(Ce,gt)|0,x=x+Math.imul(Ce,Mt)|0,x=x+Math.imul(we,gt)|0,R=R+Math.imul(we,Mt)|0,O=O+Math.imul(pe,fe)|0,x=x+Math.imul(pe,He)|0,x=x+Math.imul(de,fe)|0,R=R+Math.imul(de,He)|0,O=O+Math.imul(ue,Ge)|0,x=x+Math.imul(ue,Pt)|0,x=x+Math.imul(me,Ge)|0,R=R+Math.imul(me,Pt)|0,O=O+Math.imul(oe,Lt)|0,x=x+Math.imul(oe,Qt)|0,x=x+Math.imul(te,Lt)|0,R=R+Math.imul(te,Qt)|0,O=O+Math.imul(X,Kt)|0,x=x+Math.imul(X,kn)|0,x=x+Math.imul(ee,Kt)|0,R=R+Math.imul(ee,kn)|0,O=O+Math.imul(V,Wt)|0,x=x+Math.imul(V,pn)|0,x=x+Math.imul(Q,Wt)|0,R=R+Math.imul(Q,pn)|0;var gs=(C+O|0)+((x&8191)<<13)|0;C=(R+(x>>>13)|0)+(gs>>>26)|0,gs&=67108863,O=Math.imul(ce,xt),x=Math.imul(ce,hn),x=x+Math.imul(ge,xt)|0,R=Math.imul(ge,hn),O=O+Math.imul(ne,Ve)|0,x=x+Math.imul(ne,jt)|0,x=x+Math.imul(G,Ve)|0,R=R+Math.imul(G,jt)|0,O=O+Math.imul(ze,gt)|0,x=x+Math.imul(ze,Mt)|0,x=x+Math.imul(Ze,gt)|0,R=R+Math.imul(Ze,Mt)|0,O=O+Math.imul(Ce,fe)|0,x=x+Math.imul(Ce,He)|0,x=x+Math.imul(we,fe)|0,R=R+Math.imul(we,He)|0,O=O+Math.imul(pe,Ge)|0,x=x+Math.imul(pe,Pt)|0,x=x+Math.imul(de,Ge)|0,R=R+Math.imul(de,Pt)|0,O=O+Math.imul(ue,Lt)|0,x=x+Math.imul(ue,Qt)|0,x=x+Math.imul(me,Lt)|0,R=R+Math.imul(me,Qt)|0,O=O+Math.imul(oe,Kt)|0,x=x+Math.imul(oe,kn)|0,x=x+Math.imul(te,Kt)|0,R=R+Math.imul(te,kn)|0,O=O+Math.imul(X,Wt)|0,x=x+Math.imul(X,pn)|0,x=x+Math.imul(ee,Wt)|0,R=R+Math.imul(ee,pn)|0;var yo=(C+O|0)+((x&8191)<<13)|0;C=(R+(x>>>13)|0)+(yo>>>26)|0,yo&=67108863,O=Math.imul(ce,Ve),x=Math.imul(ce,jt),x=x+Math.imul(ge,Ve)|0,R=Math.imul(ge,jt),O=O+Math.imul(ne,gt)|0,x=x+Math.imul(ne,Mt)|0,x=x+Math.imul(G,gt)|0,R=R+Math.imul(G,Mt)|0,O=O+Math.imul(ze,fe)|0,x=x+Math.imul(ze,He)|0,x=x+Math.imul(Ze,fe)|0,R=R+Math.imul(Ze,He)|0,O=O+Math.imul(Ce,Ge)|0,x=x+Math.imul(Ce,Pt)|0,x=x+Math.imul(we,Ge)|0,R=R+Math.imul(we,Pt)|0,O=O+Math.imul(pe,Lt)|0,x=x+Math.imul(pe,Qt)|0,x=x+Math.imul(de,Lt)|0,R=R+Math.imul(de,Qt)|0,O=O+Math.imul(ue,Kt)|0,x=x+Math.imul(ue,kn)|0,x=x+Math.imul(me,Kt)|0,R=R+Math.imul(me,kn)|0,O=O+Math.imul(oe,Wt)|0,x=x+Math.imul(oe,pn)|0,x=x+Math.imul(te,Wt)|0,R=R+Math.imul(te,pn)|0;var Ri=(C+O|0)+((x&8191)<<13)|0;C=(R+(x>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,O=Math.imul(ce,gt),x=Math.imul(ce,Mt),x=x+Math.imul(ge,gt)|0,R=Math.imul(ge,Mt),O=O+Math.imul(ne,fe)|0,x=x+Math.imul(ne,He)|0,x=x+Math.imul(G,fe)|0,R=R+Math.imul(G,He)|0,O=O+Math.imul(ze,Ge)|0,x=x+Math.imul(ze,Pt)|0,x=x+Math.imul(Ze,Ge)|0,R=R+Math.imul(Ze,Pt)|0,O=O+Math.imul(Ce,Lt)|0,x=x+Math.imul(Ce,Qt)|0,x=x+Math.imul(we,Lt)|0,R=R+Math.imul(we,Qt)|0,O=O+Math.imul(pe,Kt)|0,x=x+Math.imul(pe,kn)|0,x=x+Math.imul(de,Kt)|0,R=R+Math.imul(de,kn)|0,O=O+Math.imul(ue,Wt)|0,x=x+Math.imul(ue,pn)|0,x=x+Math.imul(me,Wt)|0,R=R+Math.imul(me,pn)|0;var Ki=(C+O|0)+((x&8191)<<13)|0;C=(R+(x>>>13)|0)+(Ki>>>26)|0,Ki&=67108863,O=Math.imul(ce,fe),x=Math.imul(ce,He),x=x+Math.imul(ge,fe)|0,R=Math.imul(ge,He),O=O+Math.imul(ne,Ge)|0,x=x+Math.imul(ne,Pt)|0,x=x+Math.imul(G,Ge)|0,R=R+Math.imul(G,Pt)|0,O=O+Math.imul(ze,Lt)|0,x=x+Math.imul(ze,Qt)|0,x=x+Math.imul(Ze,Lt)|0,R=R+Math.imul(Ze,Qt)|0,O=O+Math.imul(Ce,Kt)|0,x=x+Math.imul(Ce,kn)|0,x=x+Math.imul(we,Kt)|0,R=R+Math.imul(we,kn)|0,O=O+Math.imul(pe,Wt)|0,x=x+Math.imul(pe,pn)|0,x=x+Math.imul(de,Wt)|0,R=R+Math.imul(de,pn)|0;var ms=(C+O|0)+((x&8191)<<13)|0;C=(R+(x>>>13)|0)+(ms>>>26)|0,ms&=67108863,O=Math.imul(ce,Ge),x=Math.imul(ce,Pt),x=x+Math.imul(ge,Ge)|0,R=Math.imul(ge,Pt),O=O+Math.imul(ne,Lt)|0,x=x+Math.imul(ne,Qt)|0,x=x+Math.imul(G,Lt)|0,R=R+Math.imul(G,Qt)|0,O=O+Math.imul(ze,Kt)|0,x=x+Math.imul(ze,kn)|0,x=x+Math.imul(Ze,Kt)|0,R=R+Math.imul(Ze,kn)|0,O=O+Math.imul(Ce,Wt)|0,x=x+Math.imul(Ce,pn)|0,x=x+Math.imul(we,Wt)|0,R=R+Math.imul(we,pn)|0;var Mr=(C+O|0)+((x&8191)<<13)|0;C=(R+(x>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,O=Math.imul(ce,Lt),x=Math.imul(ce,Qt),x=x+Math.imul(ge,Lt)|0,R=Math.imul(ge,Qt),O=O+Math.imul(ne,Kt)|0,x=x+Math.imul(ne,kn)|0,x=x+Math.imul(G,Kt)|0,R=R+Math.imul(G,kn)|0,O=O+Math.imul(ze,Wt)|0,x=x+Math.imul(ze,pn)|0,x=x+Math.imul(Ze,Wt)|0,R=R+Math.imul(Ze,pn)|0;var Wi=(C+O|0)+((x&8191)<<13)|0;C=(R+(x>>>13)|0)+(Wi>>>26)|0,Wi&=67108863,O=Math.imul(ce,Kt),x=Math.imul(ce,kn),x=x+Math.imul(ge,Kt)|0,R=Math.imul(ge,kn),O=O+Math.imul(ne,Wt)|0,x=x+Math.imul(ne,pn)|0,x=x+Math.imul(G,Wt)|0,R=R+Math.imul(G,pn)|0;var Sr=(C+O|0)+((x&8191)<<13)|0;C=(R+(x>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,O=Math.imul(ce,Wt),x=Math.imul(ce,pn),x=x+Math.imul(ge,Wt)|0,R=Math.imul(ge,pn);var vs=(C+O|0)+((x&8191)<<13)|0;return C=(R+(x>>>13)|0)+(vs>>>26)|0,vs&=67108863,L[0]=on,L[1]=wn,L[2]=kr,L[3]=sr,L[4]=Do,L[5]=jo,L[6]=Pr,L[7]=hs,L[8]=ps,L[9]=An,L[10]=gs,L[11]=yo,L[12]=Ri,L[13]=Ki,L[14]=ms,L[15]=Mr,L[16]=Wi,L[17]=Sr,L[18]=vs,C!==0&&(L[19]=C,g.length++),g};Math.imul||(y=w);function I(P,E,b){b.negative=E.negative^P.negative,b.length=P.length+E.length;for(var g=0,v=0,A=0;A<b.length-1;A++){var L=v;v=0;for(var C=g&67108863,O=Math.min(A,E.length-1),x=Math.max(0,A-P.length+1);x<=O;x++){var R=A-x,_=P.words[R]|0,k=E.words[x]|0,U=_*k,q=U&67108863;L=L+(U/67108864|0)|0,q=q+C|0,C=q&67108863,L=L+(q>>>26)|0,v+=L>>>26,L&=67108863}b.words[A]=C,g=L,L=v}return g!==0?b.words[A]=g:b.length--,b.strip()}function S(P,E,b){var g=new T;return g.mulp(P,E,b)}o.prototype.mulTo=function(E,b){var g,v=this.length+E.length;return this.length===10&&E.length===10?g=y(this,E,b):v<63?g=w(this,E,b):v<1024?g=I(this,E,b):g=S(this,E,b),g};function T(P,E){this.x=P,this.y=E}T.prototype.makeRBT=function(E){for(var b=new Array(E),g=o.prototype._countBits(E)-1,v=0;v<E;v++)b[v]=this.revBin(v,g,E);return b},T.prototype.revBin=function(E,b,g){if(E===0||E===g-1)return E;for(var v=0,A=0;A<b;A++)v|=(E&1)<<b-A-1,E>>=1;return v},T.prototype.permute=function(E,b,g,v,A,L){for(var C=0;C<L;C++)v[C]=b[E[C]],A[C]=g[E[C]]},T.prototype.transform=function(E,b,g,v,A,L){this.permute(L,E,b,g,v,A);for(var C=1;C<A;C<<=1)for(var O=C<<1,x=Math.cos(2*Math.PI/O),R=Math.sin(2*Math.PI/O),_=0;_<A;_+=O)for(var k=x,U=R,q=0;q<C;q++){var V=g[_+q],Q=v[_+q],Y=g[_+q+C],X=v[_+q+C],ee=k*Y-U*X;X=k*X+U*Y,Y=ee,g[_+q]=V+Y,v[_+q]=Q+X,g[_+q+C]=V-Y,v[_+q+C]=Q-X,q!==O&&(ee=x*k-R*U,U=x*U+R*k,k=ee)}},T.prototype.guessLen13b=function(E,b){var g=Math.max(b,E)|1,v=g&1,A=0;for(g=g/2|0;g;g=g>>>1)A++;return 1<<A+1+v},T.prototype.conjugate=function(E,b,g){if(!(g<=1))for(var v=0;v<g/2;v++){var A=E[v];E[v]=E[g-v-1],E[g-v-1]=A,A=b[v],b[v]=-b[g-v-1],b[g-v-1]=-A}},T.prototype.normalize13b=function(E,b){for(var g=0,v=0;v<b/2;v++){var A=Math.round(E[2*v+1]/b)*8192+Math.round(E[2*v]/b)+g;E[v]=A&67108863,A<67108864?g=0:g=A/67108864|0}return E},T.prototype.convert13b=function(E,b,g,v){for(var A=0,L=0;L<b;L++)A=A+(E[L]|0),g[2*L]=A&8191,A=A>>>13,g[2*L+1]=A&8191,A=A>>>13;for(L=2*b;L<v;++L)g[L]=0;r(A===0),r((A&-8192)===0)},T.prototype.stub=function(E){for(var b=new Array(E),g=0;g<E;g++)b[g]=0;return b},T.prototype.mulp=function(E,b,g){var v=2*this.guessLen13b(E.length,b.length),A=this.makeRBT(v),L=this.stub(v),C=new Array(v),O=new Array(v),x=new Array(v),R=new Array(v),_=new Array(v),k=new Array(v),U=g.words;U.length=v,this.convert13b(E.words,E.length,C,v),this.convert13b(b.words,b.length,R,v),this.transform(C,L,O,x,v,A),this.transform(R,L,_,k,v,A);for(var q=0;q<v;q++){var V=O[q]*_[q]-x[q]*k[q];x[q]=O[q]*k[q]+x[q]*_[q],O[q]=V}return this.conjugate(O,x,v),this.transform(O,x,U,L,v,A),this.conjugate(U,L,v),this.normalize13b(U,v),g.negative=E.negative^b.negative,g.length=E.length+b.length,g.strip()},o.prototype.mul=function(E){var b=new o(null);return b.words=new Array(this.length+E.length),this.mulTo(E,b)},o.prototype.mulf=function(E){var b=new o(null);return b.words=new Array(this.length+E.length),S(this,E,b)},o.prototype.imul=function(E){return this.clone().mulTo(E,this)},o.prototype.imuln=function(E){r(typeof E=="number"),r(E<67108864);for(var b=0,g=0;g<this.length;g++){var v=(this.words[g]|0)*E,A=(v&67108863)+(b&67108863);b>>=26,b+=v/67108864|0,b+=A>>>26,this.words[g]=A&67108863}return b!==0&&(this.words[g]=b,this.length++),this.length=E===0?1:this.length,this},o.prototype.muln=function(E){return this.clone().imuln(E)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(E){var b=m(E);if(b.length===0)return new o(1);for(var g=this,v=0;v<b.length&&b[v]===0;v++,g=g.sqr());if(++v<b.length)for(var A=g.sqr();v<b.length;v++,A=A.sqr())b[v]!==0&&(g=g.mul(A));return g},o.prototype.iushln=function(E){r(typeof E=="number"&&E>=0);var b=E%26,g=(E-b)/26,v=67108863>>>26-b<<26-b,A;if(b!==0){var L=0;for(A=0;A<this.length;A++){var C=this.words[A]&v,O=(this.words[A]|0)-C<<b;this.words[A]=O|L,L=C>>>26-b}L&&(this.words[A]=L,this.length++)}if(g!==0){for(A=this.length-1;A>=0;A--)this.words[A+g]=this.words[A];for(A=0;A<g;A++)this.words[A]=0;this.length+=g}return this.strip()},o.prototype.ishln=function(E){return r(this.negative===0),this.iushln(E)},o.prototype.iushrn=function(E,b,g){r(typeof E=="number"&&E>=0);var v;b?v=(b-b%26)/26:v=0;var A=E%26,L=Math.min((E-A)/26,this.length),C=67108863^67108863>>>A<<A,O=g;if(v-=L,v=Math.max(0,v),O){for(var x=0;x<L;x++)O.words[x]=this.words[x];O.length=L}if(L!==0)if(this.length>L)for(this.length-=L,x=0;x<this.length;x++)this.words[x]=this.words[x+L];else this.words[0]=0,this.length=1;var R=0;for(x=this.length-1;x>=0&&(R!==0||x>=v);x--){var _=this.words[x]|0;this.words[x]=R<<26-A|_>>>A,R=_&C}return O&&R!==0&&(O.words[O.length++]=R),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(E,b,g){return r(this.negative===0),this.iushrn(E,b,g)},o.prototype.shln=function(E){return this.clone().ishln(E)},o.prototype.ushln=function(E){return this.clone().iushln(E)},o.prototype.shrn=function(E){return this.clone().ishrn(E)},o.prototype.ushrn=function(E){return this.clone().iushrn(E)},o.prototype.testn=function(E){r(typeof E=="number"&&E>=0);var b=E%26,g=(E-b)/26,v=1<<b;if(this.length<=g)return!1;var A=this.words[g];return!!(A&v)},o.prototype.imaskn=function(E){r(typeof E=="number"&&E>=0);var b=E%26,g=(E-b)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(b!==0&&g++,this.length=Math.min(g,this.length),b!==0){var v=67108863^67108863>>>b<<b;this.words[this.length-1]&=v}return this.strip()},o.prototype.maskn=function(E){return this.clone().imaskn(E)},o.prototype.iaddn=function(E){return r(typeof E=="number"),r(E<67108864),E<0?this.isubn(-E):this.negative!==0?this.length===1&&(this.words[0]|0)<E?(this.words[0]=E-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this):this._iaddn(E)},o.prototype._iaddn=function(E){this.words[0]+=E;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},o.prototype.isubn=function(E){if(r(typeof E=="number"),r(E<67108864),E<0)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this.strip()},o.prototype.addn=function(E){return this.clone().iaddn(E)},o.prototype.subn=function(E){return this.clone().isubn(E)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(E,b,g){var v=E.length+g,A;this._expand(v);var L,C=0;for(A=0;A<E.length;A++){L=(this.words[A+g]|0)+C;var O=(E.words[A]|0)*b;L-=O&67108863,C=(L>>26)-(O/67108864|0),this.words[A+g]=L&67108863}for(;A<this.length-g;A++)L=(this.words[A+g]|0)+C,C=L>>26,this.words[A+g]=L&67108863;if(C===0)return this.strip();for(r(C===-1),C=0,A=0;A<this.length;A++)L=-(this.words[A]|0)+C,C=L>>26,this.words[A]=L&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(E,b){var g=this.length-E.length,v=this.clone(),A=E,L=A.words[A.length-1]|0,C=this._countBits(L);g=26-C,g!==0&&(A=A.ushln(g),v.iushln(g),L=A.words[A.length-1]|0);var O=v.length-A.length,x;if(b!=="mod"){x=new o(null),x.length=O+1,x.words=new Array(x.length);for(var R=0;R<x.length;R++)x.words[R]=0}var _=v.clone()._ishlnsubmul(A,1,O);_.negative===0&&(v=_,x&&(x.words[O]=1));for(var k=O-1;k>=0;k--){var U=(v.words[A.length+k]|0)*67108864+(v.words[A.length+k-1]|0);for(U=Math.min(U/L|0,67108863),v._ishlnsubmul(A,U,k);v.negative!==0;)U--,v.negative=0,v._ishlnsubmul(A,1,k),v.isZero()||(v.negative^=1);x&&(x.words[k]=U)}return x&&x.strip(),v.strip(),b!=="div"&&g!==0&&v.iushrn(g),{div:x||null,mod:v}},o.prototype.divmod=function(E,b,g){if(r(!E.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var v,A,L;return this.negative!==0&&E.negative===0?(L=this.neg().divmod(E,b),b!=="mod"&&(v=L.div.neg()),b!=="div"&&(A=L.mod.neg(),g&&A.negative!==0&&A.iadd(E)),{div:v,mod:A}):this.negative===0&&E.negative!==0?(L=this.divmod(E.neg(),b),b!=="mod"&&(v=L.div.neg()),{div:v,mod:L.mod}):(this.negative&E.negative)!==0?(L=this.neg().divmod(E.neg(),b),b!=="div"&&(A=L.mod.neg(),g&&A.negative!==0&&A.isub(E)),{div:L.div,mod:A}):E.length>this.length||this.cmp(E)<0?{div:new o(0),mod:this}:E.length===1?b==="div"?{div:this.divn(E.words[0]),mod:null}:b==="mod"?{div:null,mod:new o(this.modn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new o(this.modn(E.words[0]))}:this._wordDiv(E,b)},o.prototype.div=function(E){return this.divmod(E,"div",!1).div},o.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},o.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},o.prototype.divRound=function(E){var b=this.divmod(E);if(b.mod.isZero())return b.div;var g=b.div.negative!==0?b.mod.isub(E):b.mod,v=E.ushrn(1),A=E.andln(1),L=g.cmp(v);return L<0||A===1&&L===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},o.prototype.modn=function(E){r(E<=67108863);for(var b=(1<<26)%E,g=0,v=this.length-1;v>=0;v--)g=(b*g+(this.words[v]|0))%E;return g},o.prototype.idivn=function(E){r(E<=67108863);for(var b=0,g=this.length-1;g>=0;g--){var v=(this.words[g]|0)+b*67108864;this.words[g]=v/E|0,b=v%E}return this.strip()},o.prototype.divn=function(E){return this.clone().idivn(E)},o.prototype.egcd=function(E){r(E.negative===0),r(!E.isZero());var b=this,g=E.clone();b.negative!==0?b=b.umod(E):b=b.clone();for(var v=new o(1),A=new o(0),L=new o(0),C=new o(1),O=0;b.isEven()&&g.isEven();)b.iushrn(1),g.iushrn(1),++O;for(var x=g.clone(),R=b.clone();!b.isZero();){for(var _=0,k=1;(b.words[0]&k)===0&&_<26;++_,k<<=1);if(_>0)for(b.iushrn(_);_-- >0;)(v.isOdd()||A.isOdd())&&(v.iadd(x),A.isub(R)),v.iushrn(1),A.iushrn(1);for(var U=0,q=1;(g.words[0]&q)===0&&U<26;++U,q<<=1);if(U>0)for(g.iushrn(U);U-- >0;)(L.isOdd()||C.isOdd())&&(L.iadd(x),C.isub(R)),L.iushrn(1),C.iushrn(1);b.cmp(g)>=0?(b.isub(g),v.isub(L),A.isub(C)):(g.isub(b),L.isub(v),C.isub(A))}return{a:L,b:C,gcd:g.iushln(O)}},o.prototype._invmp=function(E){r(E.negative===0),r(!E.isZero());var b=this,g=E.clone();b.negative!==0?b=b.umod(E):b=b.clone();for(var v=new o(1),A=new o(0),L=g.clone();b.cmpn(1)>0&&g.cmpn(1)>0;){for(var C=0,O=1;(b.words[0]&O)===0&&C<26;++C,O<<=1);if(C>0)for(b.iushrn(C);C-- >0;)v.isOdd()&&v.iadd(L),v.iushrn(1);for(var x=0,R=1;(g.words[0]&R)===0&&x<26;++x,R<<=1);if(x>0)for(g.iushrn(x);x-- >0;)A.isOdd()&&A.iadd(L),A.iushrn(1);b.cmp(g)>=0?(b.isub(g),v.isub(A)):(g.isub(b),A.isub(v))}var _;return b.cmpn(1)===0?_=v:_=A,_.cmpn(0)<0&&_.iadd(E),_},o.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var b=this.clone(),g=E.clone();b.negative=0,g.negative=0;for(var v=0;b.isEven()&&g.isEven();v++)b.iushrn(1),g.iushrn(1);do{for(;b.isEven();)b.iushrn(1);for(;g.isEven();)g.iushrn(1);var A=b.cmp(g);if(A<0){var L=b;b=g,g=L}else if(A===0||g.cmpn(1)===0)break;b.isub(g)}while(!0);return g.iushln(v)},o.prototype.invm=function(E){return this.egcd(E).a.umod(E)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(E){return this.words[0]&E},o.prototype.bincn=function(E){r(typeof E=="number");var b=E%26,g=(E-b)/26,v=1<<b;if(this.length<=g)return this._expand(g+1),this.words[g]|=v,this;for(var A=v,L=g;A!==0&&L<this.length;L++){var C=this.words[L]|0;C+=A,A=C>>>26,C&=67108863,this.words[L]=C}return A!==0&&(this.words[L]=A,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(E){var b=E<0;if(this.negative!==0&&!b)return-1;if(this.negative===0&&b)return 1;this.strip();var g;if(this.length>1)g=1;else{b&&(E=-E),r(E<=67108863,"Number is too big");var v=this.words[0]|0;g=v===E?0:v<E?-1:1}return this.negative!==0?-g|0:g},o.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var b=this.ucmp(E);return this.negative!==0?-b|0:b},o.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var b=0,g=this.length-1;g>=0;g--){var v=this.words[g]|0,A=E.words[g]|0;if(v!==A){v<A?b=-1:v>A&&(b=1);break}}return b},o.prototype.gtn=function(E){return this.cmpn(E)===1},o.prototype.gt=function(E){return this.cmp(E)===1},o.prototype.gten=function(E){return this.cmpn(E)>=0},o.prototype.gte=function(E){return this.cmp(E)>=0},o.prototype.ltn=function(E){return this.cmpn(E)===-1},o.prototype.lt=function(E){return this.cmp(E)===-1},o.prototype.lten=function(E){return this.cmpn(E)<=0},o.prototype.lte=function(E){return this.cmp(E)<=0},o.prototype.eqn=function(E){return this.cmpn(E)===0},o.prototype.eq=function(E){return this.cmp(E)===0},o.red=function(E){return new B(E)},o.prototype.toRed=function(E){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(E){return this.red=E,this},o.prototype.forceRed=function(E){return r(!this.red,"Already a number in reduction context"),this._forceRed(E)},o.prototype.redAdd=function(E){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},o.prototype.redIAdd=function(E){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},o.prototype.redSub=function(E){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},o.prototype.redISub=function(E){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},o.prototype.redShl=function(E){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},o.prototype.redMul=function(E){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},o.prototype.redIMul=function(E){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(E){return r(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var N={k256:null,p224:null,p192:null,p25519:null};function z(P,E){this.name=P,this.p=new o(E,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var E=new o(null);return E.words=new Array(Math.ceil(this.n/13)),E},z.prototype.ireduce=function(E){var b=E,g;do this.split(b,this.tmp),b=this.imulK(b),b=b.iadd(this.tmp),g=b.bitLength();while(g>this.n);var v=g<this.n?-1:b.ucmp(this.p);return v===0?(b.words[0]=0,b.length=1):v>0?b.isub(this.p):b.strip!==void 0?b.strip():b._strip(),b},z.prototype.split=function(E,b){E.iushrn(this.n,0,b)},z.prototype.imulK=function(E){return E.imul(this.k)};function $(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i($,z),$.prototype.split=function(E,b){for(var g=4194303,v=Math.min(E.length,9),A=0;A<v;A++)b.words[A]=E.words[A];if(b.length=v,E.length<=9){E.words[0]=0,E.length=1;return}var L=E.words[9];for(b.words[b.length++]=L&g,A=10;A<E.length;A++){var C=E.words[A]|0;E.words[A-10]=(C&g)<<4|L>>>22,L=C}L>>>=22,E.words[A-10]=L,L===0&&E.length>10?E.length-=10:E.length-=9},$.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var b=0,g=0;g<E.length;g++){var v=E.words[g]|0;b+=v*977,E.words[g]=b&67108863,b=v*64+(b/67108864|0)}return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E};function H(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(H,z);function K(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(K,z);function j(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(j,z),j.prototype.imulK=function(E){for(var b=0,g=0;g<E.length;g++){var v=(E.words[g]|0)*19+b,A=v&67108863;v>>>=26,E.words[g]=A,b=v}return b!==0&&(E.words[E.length++]=b),E},o._prime=function(E){if(N[E])return N[E];var b;if(E==="k256")b=new $;else if(E==="p224")b=new H;else if(E==="p192")b=new K;else if(E==="p25519")b=new j;else throw new Error("Unknown prime "+E);return N[E]=b,b};function B(P){if(typeof P=="string"){var E=o._prime(P);this.m=E.p,this.prime=E}else r(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}B.prototype._verify1=function(E){r(E.negative===0,"red works only with positives"),r(E.red,"red works only with red numbers")},B.prototype._verify2=function(E,b){r((E.negative|b.negative)===0,"red works only with positives"),r(E.red&&E.red===b.red,"red works only with red numbers")},B.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):E.umod(this.m)._forceRed(this)},B.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},B.prototype.add=function(E,b){this._verify2(E,b);var g=E.add(b);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},B.prototype.iadd=function(E,b){this._verify2(E,b);var g=E.iadd(b);return g.cmp(this.m)>=0&&g.isub(this.m),g},B.prototype.sub=function(E,b){this._verify2(E,b);var g=E.sub(b);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},B.prototype.isub=function(E,b){this._verify2(E,b);var g=E.isub(b);return g.cmpn(0)<0&&g.iadd(this.m),g},B.prototype.shl=function(E,b){return this._verify1(E),this.imod(E.ushln(b))},B.prototype.imul=function(E,b){return this._verify2(E,b),this.imod(E.imul(b))},B.prototype.mul=function(E,b){return this._verify2(E,b),this.imod(E.mul(b))},B.prototype.isqr=function(E){return this.imul(E,E.clone())},B.prototype.sqr=function(E){return this.mul(E,E)},B.prototype.sqrt=function(E){if(E.isZero())return E.clone();var b=this.m.andln(3);if(r(b%2===1),b===3){var g=this.m.add(new o(1)).iushrn(2);return this.pow(E,g)}for(var v=this.m.subn(1),A=0;!v.isZero()&&v.andln(1)===0;)A++,v.iushrn(1);r(!v.isZero());var L=new o(1).toRed(this),C=L.redNeg(),O=this.m.subn(1).iushrn(1),x=this.m.bitLength();for(x=new o(2*x*x).toRed(this);this.pow(x,O).cmp(C)!==0;)x.redIAdd(C);for(var R=this.pow(x,v),_=this.pow(E,v.addn(1).iushrn(1)),k=this.pow(E,v),U=A;k.cmp(L)!==0;){for(var q=k,V=0;q.cmp(L)!==0;V++)q=q.redSqr();r(V<U);var Q=this.pow(R,new o(1).iushln(U-V-1));_=_.redMul(Q),R=Q.redSqr(),k=k.redMul(R),U=V}return _},B.prototype.invm=function(E){var b=E._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},B.prototype.pow=function(E,b){if(b.isZero())return new o(1).toRed(this);if(b.cmpn(1)===0)return E.clone();var g=4,v=new Array(1<<g);v[0]=new o(1).toRed(this),v[1]=E;for(var A=2;A<v.length;A++)v[A]=this.mul(v[A-1],E);var L=v[0],C=0,O=0,x=b.bitLength()%26;for(x===0&&(x=26),A=b.length-1;A>=0;A--){for(var R=b.words[A],_=x-1;_>=0;_--){var k=R>>_&1;if(L!==v[0]&&(L=this.sqr(L)),k===0&&C===0){O=0;continue}C<<=1,C|=k,O++,!(O!==g&&(A!==0||_!==0))&&(L=this.mul(L,v[C]),O=0,C=0)}x=26}return L},B.prototype.convertTo=function(E){var b=E.umod(this.m);return b===E?b.clone():b},B.prototype.convertFrom=function(E){var b=E.clone();return b.red=null,b},o.mont=function(E){return new D(E)};function D(P){B.call(this,P),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(D,B),D.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},D.prototype.convertFrom=function(E){var b=this.imod(E.mul(this.rinv));return b.red=null,b},D.prototype.imul=function(E,b){if(E.isZero()||b.isZero())return E.words[0]=0,E.length=1,E;var g=E.imul(b),v=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=g.isub(v).iushrn(this.shift),L=A;return A.cmp(this.m)>=0?L=A.isub(this.m):A.cmpn(0)<0&&(L=A.iadd(this.m)),L._forceRed(this)},D.prototype.mul=function(E,b){if(E.isZero()||b.isZero())return new o(0)._forceRed(this);var g=E.mul(b),v=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=g.isub(v).iushrn(this.shift),L=A;return A.cmp(this.m)>=0?L=A.isub(this.m):A.cmpn(0)<0&&(L=A.iadd(this.m)),L._forceRed(this)},D.prototype.invm=function(E){var b=this.imod(E._invmp(this.m).mul(this.r2));return b._forceRed(this)}})(t,_z)}($v)),$v.exports}var i3={},PI;function K9(){return PI||(PI=1,function(t){var e=t;function n(o,s){if(Array.isArray(o))return o.slice();if(!o)return[];var a=[];if(typeof o!="string"){for(var c=0;c<o.length;c++)a[c]=o[c]|0;return a}if(s==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var c=0;c<o.length;c+=2)a.push(parseInt(o[c]+o[c+1],16))}else for(var c=0;c<o.length;c++){var l=o.charCodeAt(c),u=l>>8,f=l&255;u?a.push(u,f):a.push(f)}return a}e.toArray=n;function r(o){return o.length===1?"0"+o:o}e.zero2=r;function i(o){for(var s="",a=0;a<o.length;a++)s+=r(o[a].toString(16));return s}e.toHex=i,e.encode=function(s,a){return a==="hex"?i(s):s}}(i3)),i3}var LI;function fs(){return LI||(LI=1,function(t){var e=t,n=kc(),r=xd(),i=K9();e.assert=r,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function o(u,f,p){var m=new Array(Math.max(u.bitLength(),p)+1),w;for(w=0;w<m.length;w+=1)m[w]=0;var y=1<<f+1,I=u.clone();for(w=0;w<m.length;w++){var S,T=I.andln(y-1);I.isOdd()?(T>(y>>1)-1?S=(y>>1)-T:S=T,I.isubn(S)):S=0,m[w]=S,I.iushrn(1)}return m}e.getNAF=o;function s(u,f){var p=[[],[]];u=u.clone(),f=f.clone();for(var m=0,w=0,y;u.cmpn(-m)>0||f.cmpn(-w)>0;){var I=u.andln(3)+m&3,S=f.andln(3)+w&3;I===3&&(I=-1),S===3&&(S=-1);var T;(I&1)===0?T=0:(y=u.andln(7)+m&7,(y===3||y===5)&&S===2?T=-I:T=I),p[0].push(T);var N;(S&1)===0?N=0:(y=f.andln(7)+w&7,(y===3||y===5)&&I===2?N=-S:N=S),p[1].push(N),2*m===T+1&&(m=1-m),2*w===N+1&&(w=1-w),u.iushrn(1),f.iushrn(1)}return p}e.getJSF=s;function a(u,f,p){var m="_"+f;u.prototype[f]=function(){return this[m]!==void 0?this[m]:this[m]=p.call(this)}}e.cachedProperty=a;function c(u){return typeof u=="string"?e.toArray(u,"hex"):u}e.parseBytes=c;function l(u){return new n(u,"hex","le")}e.intFromLE=l}(r3)),r3}var km={exports:{}},BI;function W9(){if(BI)return km.exports;BI=1;var t;km.exports=function(i){return t||(t=new e(null)),t.generate(i)};function e(r){this.rand=r}if(km.exports.Rand=e,e.prototype.generate=function(i){return this._rand(i)},e.prototype._rand=function(i){if(this.rand.getBytes)return this.rand.getBytes(i);for(var o=new Uint8Array(i),s=0;s<o.length;s++)o[s]=this.rand.getByte();return o},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(i){var o=new Uint8Array(i);return self.crypto.getRandomValues(o),o}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(i){var o=new Uint8Array(i);return self.msCrypto.getRandomValues(o),o}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var n=zS;if(typeof n.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(i){return n.randomBytes(i)}}catch{}return km.exports}var o3={},s3,DI;function Rw(){if(DI)return s3;DI=1;var t=kc(),e=fs(),n=e.getNAF,r=e.getJSF,i=e.assert;function o(a,c){this.type=a,this.p=new t(c.p,16),this.red=c.prime?t.red(c.prime):t.mont(this.p),this.zero=new t(0).toRed(this.red),this.one=new t(1).toRed(this.red),this.two=new t(2).toRed(this.red),this.n=c.n&&new t(c.n,16),this.g=c.g&&this.pointFromJSON(c.g,c.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var l=this.n&&this.p.div(this.n);!l||l.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}s3=o,o.prototype.point=function(){throw new Error("Not implemented")},o.prototype.validate=function(){throw new Error("Not implemented")},o.prototype._fixedNafMul=function(c,l){i(c.precomputed);var u=c._getDoubles(),f=n(l,1,this._bitLength),p=(1<<u.step+1)-(u.step%2===0?2:1);p/=3;var m=[],w,y;for(w=0;w<f.length;w+=u.step){y=0;for(var I=w+u.step-1;I>=w;I--)y=(y<<1)+f[I];m.push(y)}for(var S=this.jpoint(null,null,null),T=this.jpoint(null,null,null),N=p;N>0;N--){for(w=0;w<m.length;w++)y=m[w],y===N?T=T.mixedAdd(u.points[w]):y===-N&&(T=T.mixedAdd(u.points[w].neg()));S=S.add(T)}return S.toP()},o.prototype._wnafMul=function(c,l){var u=4,f=c._getNAFPoints(u);u=f.wnd;for(var p=f.points,m=n(l,u,this._bitLength),w=this.jpoint(null,null,null),y=m.length-1;y>=0;y--){for(var I=0;y>=0&&m[y]===0;y--)I++;if(y>=0&&I++,w=w.dblp(I),y<0)break;var S=m[y];i(S!==0),c.type==="affine"?S>0?w=w.mixedAdd(p[S-1>>1]):w=w.mixedAdd(p[-S-1>>1].neg()):S>0?w=w.add(p[S-1>>1]):w=w.add(p[-S-1>>1].neg())}return c.type==="affine"?w.toP():w},o.prototype._wnafMulAdd=function(c,l,u,f,p){var m=this._wnafT1,w=this._wnafT2,y=this._wnafT3,I=0,S,T,N;for(S=0;S<f;S++){N=l[S];var z=N._getNAFPoints(c);m[S]=z.wnd,w[S]=z.points}for(S=f-1;S>=1;S-=2){var $=S-1,H=S;if(m[$]!==1||m[H]!==1){y[$]=n(u[$],m[$],this._bitLength),y[H]=n(u[H],m[H],this._bitLength),I=Math.max(y[$].length,I),I=Math.max(y[H].length,I);continue}var K=[l[$],null,null,l[H]];l[$].y.cmp(l[H].y)===0?(K[1]=l[$].add(l[H]),K[2]=l[$].toJ().mixedAdd(l[H].neg())):l[$].y.cmp(l[H].y.redNeg())===0?(K[1]=l[$].toJ().mixedAdd(l[H]),K[2]=l[$].add(l[H].neg())):(K[1]=l[$].toJ().mixedAdd(l[H]),K[2]=l[$].toJ().mixedAdd(l[H].neg()));var j=[-3,-1,-5,-7,0,7,5,1,3],B=r(u[$],u[H]);for(I=Math.max(B[0].length,I),y[$]=new Array(I),y[H]=new Array(I),T=0;T<I;T++){var D=B[0][T]|0,P=B[1][T]|0;y[$][T]=j[(D+1)*3+(P+1)],y[H][T]=0,w[$]=K}}var E=this.jpoint(null,null,null),b=this._wnafT4;for(S=I;S>=0;S--){for(var g=0;S>=0;){var v=!0;for(T=0;T<f;T++)b[T]=y[T][S]|0,b[T]!==0&&(v=!1);if(!v)break;g++,S--}if(S>=0&&g++,E=E.dblp(g),S<0)break;for(T=0;T<f;T++){var A=b[T];A!==0&&(A>0?N=w[T][A-1>>1]:A<0&&(N=w[T][-A-1>>1].neg()),N.type==="affine"?E=E.mixedAdd(N):E=E.add(N))}}for(S=0;S<f;S++)w[S]=null;return p?E:E.toP()};function s(a,c){this.curve=a,this.type=c,this.precomputed=null}return o.BasePoint=s,s.prototype.eq=function(){throw new Error("Not implemented")},s.prototype.validate=function(){return this.curve.validate(this)},o.prototype.decodePoint=function(c,l){c=e.toArray(c,l);var u=this.p.byteLength();if((c[0]===4||c[0]===6||c[0]===7)&&c.length-1===2*u){c[0]===6?i(c[c.length-1]%2===0):c[0]===7&&i(c[c.length-1]%2===1);var f=this.point(c.slice(1,1+u),c.slice(1+u,1+2*u));return f}else if((c[0]===2||c[0]===3)&&c.length-1===u)return this.pointFromX(c.slice(1,1+u),c[0]===3);throw new Error("Unknown point format")},s.prototype.encodeCompressed=function(c){return this.encode(c,!0)},s.prototype._encode=function(c){var l=this.curve.p.byteLength(),u=this.getX().toArray("be",l);return c?[this.getY().isEven()?2:3].concat(u):[4].concat(u,this.getY().toArray("be",l))},s.prototype.encode=function(c,l){return e.encode(this._encode(l),c)},s.prototype.precompute=function(c){if(this.precomputed)return this;var l={doubles:null,naf:null,beta:null};return l.naf=this._getNAFPoints(8),l.doubles=this._getDoubles(4,c),l.beta=this._getBeta(),this.precomputed=l,this},s.prototype._hasDoubles=function(c){if(!this.precomputed)return!1;var l=this.precomputed.doubles;return l?l.points.length>=Math.ceil((c.bitLength()+1)/l.step):!1},s.prototype._getDoubles=function(c,l){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var u=[this],f=this,p=0;p<l;p+=c){for(var m=0;m<c;m++)f=f.dbl();u.push(f)}return{step:c,points:u}},s.prototype._getNAFPoints=function(c){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var l=[this],u=(1<<c)-1,f=u===1?null:this.dbl(),p=1;p<u;p++)l[p]=l[p-1].add(f);return{wnd:c,points:l}},s.prototype._getBeta=function(){return null},s.prototype.dblp=function(c){for(var l=this,u=0;u<c;u++)l=l.dbl();return l},s3}var a3,jI;function Sz(){if(jI)return a3;jI=1;var t=fs(),e=kc(),n=qs(),r=Rw(),i=t.assert;function o(c){r.call(this,"short",c),this.a=new e(c.a,16).toRed(this.red),this.b=new e(c.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(c),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}n(o,r),a3=o,o.prototype._getEndomorphism=function(l){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var u,f;if(l.beta)u=new e(l.beta,16).toRed(this.red);else{var p=this._getEndoRoots(this.p);u=p[0].cmp(p[1])<0?p[0]:p[1],u=u.toRed(this.red)}if(l.lambda)f=new e(l.lambda,16);else{var m=this._getEndoRoots(this.n);this.g.mul(m[0]).x.cmp(this.g.x.redMul(u))===0?f=m[0]:(f=m[1],i(this.g.mul(f).x.cmp(this.g.x.redMul(u))===0))}var w;return l.basis?w=l.basis.map(function(y){return{a:new e(y.a,16),b:new e(y.b,16)}}):w=this._getEndoBasis(f),{beta:u,lambda:f,basis:w}}},o.prototype._getEndoRoots=function(l){var u=l===this.p?this.red:e.mont(l),f=new e(2).toRed(u).redInvm(),p=f.redNeg(),m=new e(3).toRed(u).redNeg().redSqrt().redMul(f),w=p.redAdd(m).fromRed(),y=p.redSub(m).fromRed();return[w,y]},o.prototype._getEndoBasis=function(l){for(var u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=l,p=this.n.clone(),m=new e(1),w=new e(0),y=new e(0),I=new e(1),S,T,N,z,$,H,K,j=0,B,D;f.cmpn(0)!==0;){var P=p.div(f);B=p.sub(P.mul(f)),D=y.sub(P.mul(m));var E=I.sub(P.mul(w));if(!N&&B.cmp(u)<0)S=K.neg(),T=m,N=B.neg(),z=D;else if(N&&++j===2)break;K=B,p=f,f=B,y=m,m=D,I=w,w=E}$=B.neg(),H=D;var b=N.sqr().add(z.sqr()),g=$.sqr().add(H.sqr());return g.cmp(b)>=0&&($=S,H=T),N.negative&&(N=N.neg(),z=z.neg()),$.negative&&($=$.neg(),H=H.neg()),[{a:N,b:z},{a:$,b:H}]},o.prototype._endoSplit=function(l){var u=this.endo.basis,f=u[0],p=u[1],m=p.b.mul(l).divRound(this.n),w=f.b.neg().mul(l).divRound(this.n),y=m.mul(f.a),I=w.mul(p.a),S=m.mul(f.b),T=w.mul(p.b),N=l.sub(y).sub(I),z=S.add(T).neg();return{k1:N,k2:z}},o.prototype.pointFromX=function(l,u){l=new e(l,16),l.red||(l=l.toRed(this.red));var f=l.redSqr().redMul(l).redIAdd(l.redMul(this.a)).redIAdd(this.b),p=f.redSqrt();if(p.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");var m=p.fromRed().isOdd();return(u&&!m||!u&&m)&&(p=p.redNeg()),this.point(l,p)},o.prototype.validate=function(l){if(l.inf)return!0;var u=l.x,f=l.y,p=this.a.redMul(u),m=u.redSqr().redMul(u).redIAdd(p).redIAdd(this.b);return f.redSqr().redISub(m).cmpn(0)===0},o.prototype._endoWnafMulAdd=function(l,u,f){for(var p=this._endoWnafT1,m=this._endoWnafT2,w=0;w<l.length;w++){var y=this._endoSplit(u[w]),I=l[w],S=I._getBeta();y.k1.negative&&(y.k1.ineg(),I=I.neg(!0)),y.k2.negative&&(y.k2.ineg(),S=S.neg(!0)),p[w*2]=I,p[w*2+1]=S,m[w*2]=y.k1,m[w*2+1]=y.k2}for(var T=this._wnafMulAdd(1,p,m,w*2,f),N=0;N<w*2;N++)p[N]=null,m[N]=null;return T};function s(c,l,u,f){r.BasePoint.call(this,c,"affine"),l===null&&u===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(l,16),this.y=new e(u,16),f&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}n(s,r.BasePoint),o.prototype.point=function(l,u,f){return new s(this,l,u,f)},o.prototype.pointFromJSON=function(l,u){return s.fromJSON(this,l,u)},s.prototype._getBeta=function(){if(this.curve.endo){var l=this.precomputed;if(l&&l.beta)return l.beta;var u=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(l){var f=this.curve,p=function(m){return f.point(m.x.redMul(f.endo.beta),m.y)};l.beta=u,u.precomputed={beta:null,naf:l.naf&&{wnd:l.naf.wnd,points:l.naf.points.map(p)},doubles:l.doubles&&{step:l.doubles.step,points:l.doubles.points.map(p)}}}return u}},s.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},s.fromJSON=function(l,u,f){typeof u=="string"&&(u=JSON.parse(u));var p=l.point(u[0],u[1],f);if(!u[2])return p;function m(y){return l.point(y[0],y[1],f)}var w=u[2];return p.precomputed={beta:null,doubles:w.doubles&&{step:w.doubles.step,points:[p].concat(w.doubles.points.map(m))},naf:w.naf&&{wnd:w.naf.wnd,points:[p].concat(w.naf.points.map(m))}},p},s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},s.prototype.isInfinity=function(){return this.inf},s.prototype.add=function(l){if(this.inf)return l;if(l.inf)return this;if(this.eq(l))return this.dbl();if(this.neg().eq(l))return this.curve.point(null,null);if(this.x.cmp(l.x)===0)return this.curve.point(null,null);var u=this.y.redSub(l.y);u.cmpn(0)!==0&&(u=u.redMul(this.x.redSub(l.x).redInvm()));var f=u.redSqr().redISub(this.x).redISub(l.x),p=u.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,p)},s.prototype.dbl=function(){if(this.inf)return this;var l=this.y.redAdd(this.y);if(l.cmpn(0)===0)return this.curve.point(null,null);var u=this.curve.a,f=this.x.redSqr(),p=l.redInvm(),m=f.redAdd(f).redIAdd(f).redIAdd(u).redMul(p),w=m.redSqr().redISub(this.x.redAdd(this.x)),y=m.redMul(this.x.redSub(w)).redISub(this.y);return this.curve.point(w,y)},s.prototype.getX=function(){return this.x.fromRed()},s.prototype.getY=function(){return this.y.fromRed()},s.prototype.mul=function(l){return l=new e(l,16),this.isInfinity()?this:this._hasDoubles(l)?this.curve._fixedNafMul(this,l):this.curve.endo?this.curve._endoWnafMulAdd([this],[l]):this.curve._wnafMul(this,l)},s.prototype.mulAdd=function(l,u,f){var p=[this,u],m=[l,f];return this.curve.endo?this.curve._endoWnafMulAdd(p,m):this.curve._wnafMulAdd(1,p,m,2)},s.prototype.jmulAdd=function(l,u,f){var p=[this,u],m=[l,f];return this.curve.endo?this.curve._endoWnafMulAdd(p,m,!0):this.curve._wnafMulAdd(1,p,m,2,!0)},s.prototype.eq=function(l){return this===l||this.inf===l.inf&&(this.inf||this.x.cmp(l.x)===0&&this.y.cmp(l.y)===0)},s.prototype.neg=function(l){if(this.inf)return this;var u=this.curve.point(this.x,this.y.redNeg());if(l&&this.precomputed){var f=this.precomputed,p=function(m){return m.neg()};u.precomputed={naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(p)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(p)}}}return u},s.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var l=this.curve.jpoint(this.x,this.y,this.curve.one);return l};function a(c,l,u,f){r.BasePoint.call(this,c,"jacobian"),l===null&&u===null&&f===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(l,16),this.y=new e(u,16),this.z=new e(f,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return n(a,r.BasePoint),o.prototype.jpoint=function(l,u,f){return new a(this,l,u,f)},a.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var l=this.z.redInvm(),u=l.redSqr(),f=this.x.redMul(u),p=this.y.redMul(u).redMul(l);return this.curve.point(f,p)},a.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},a.prototype.add=function(l){if(this.isInfinity())return l;if(l.isInfinity())return this;var u=l.z.redSqr(),f=this.z.redSqr(),p=this.x.redMul(u),m=l.x.redMul(f),w=this.y.redMul(u.redMul(l.z)),y=l.y.redMul(f.redMul(this.z)),I=p.redSub(m),S=w.redSub(y);if(I.cmpn(0)===0)return S.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var T=I.redSqr(),N=T.redMul(I),z=p.redMul(T),$=S.redSqr().redIAdd(N).redISub(z).redISub(z),H=S.redMul(z.redISub($)).redISub(w.redMul(N)),K=this.z.redMul(l.z).redMul(I);return this.curve.jpoint($,H,K)},a.prototype.mixedAdd=function(l){if(this.isInfinity())return l.toJ();if(l.isInfinity())return this;var u=this.z.redSqr(),f=this.x,p=l.x.redMul(u),m=this.y,w=l.y.redMul(u).redMul(this.z),y=f.redSub(p),I=m.redSub(w);if(y.cmpn(0)===0)return I.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var S=y.redSqr(),T=S.redMul(y),N=f.redMul(S),z=I.redSqr().redIAdd(T).redISub(N).redISub(N),$=I.redMul(N.redISub(z)).redISub(m.redMul(T)),H=this.z.redMul(y);return this.curve.jpoint(z,$,H)},a.prototype.dblp=function(l){if(l===0)return this;if(this.isInfinity())return this;if(!l)return this.dbl();var u;if(this.curve.zeroA||this.curve.threeA){var f=this;for(u=0;u<l;u++)f=f.dbl();return f}var p=this.curve.a,m=this.curve.tinv,w=this.x,y=this.y,I=this.z,S=I.redSqr().redSqr(),T=y.redAdd(y);for(u=0;u<l;u++){var N=w.redSqr(),z=T.redSqr(),$=z.redSqr(),H=N.redAdd(N).redIAdd(N).redIAdd(p.redMul(S)),K=w.redMul(z),j=H.redSqr().redISub(K.redAdd(K)),B=K.redISub(j),D=H.redMul(B);D=D.redIAdd(D).redISub($);var P=T.redMul(I);u+1<l&&(S=S.redMul($)),w=j,I=P,T=D}return this.curve.jpoint(w,T.redMul(m),I)},a.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},a.prototype._zeroDbl=function(){var l,u,f;if(this.zOne){var p=this.x.redSqr(),m=this.y.redSqr(),w=m.redSqr(),y=this.x.redAdd(m).redSqr().redISub(p).redISub(w);y=y.redIAdd(y);var I=p.redAdd(p).redIAdd(p),S=I.redSqr().redISub(y).redISub(y),T=w.redIAdd(w);T=T.redIAdd(T),T=T.redIAdd(T),l=S,u=I.redMul(y.redISub(S)).redISub(T),f=this.y.redAdd(this.y)}else{var N=this.x.redSqr(),z=this.y.redSqr(),$=z.redSqr(),H=this.x.redAdd(z).redSqr().redISub(N).redISub($);H=H.redIAdd(H);var K=N.redAdd(N).redIAdd(N),j=K.redSqr(),B=$.redIAdd($);B=B.redIAdd(B),B=B.redIAdd(B),l=j.redISub(H).redISub(H),u=K.redMul(H.redISub(l)).redISub(B),f=this.y.redMul(this.z),f=f.redIAdd(f)}return this.curve.jpoint(l,u,f)},a.prototype._threeDbl=function(){var l,u,f;if(this.zOne){var p=this.x.redSqr(),m=this.y.redSqr(),w=m.redSqr(),y=this.x.redAdd(m).redSqr().redISub(p).redISub(w);y=y.redIAdd(y);var I=p.redAdd(p).redIAdd(p).redIAdd(this.curve.a),S=I.redSqr().redISub(y).redISub(y);l=S;var T=w.redIAdd(w);T=T.redIAdd(T),T=T.redIAdd(T),u=I.redMul(y.redISub(S)).redISub(T),f=this.y.redAdd(this.y)}else{var N=this.z.redSqr(),z=this.y.redSqr(),$=this.x.redMul(z),H=this.x.redSub(N).redMul(this.x.redAdd(N));H=H.redAdd(H).redIAdd(H);var K=$.redIAdd($);K=K.redIAdd(K);var j=K.redAdd(K);l=H.redSqr().redISub(j),f=this.y.redAdd(this.z).redSqr().redISub(z).redISub(N);var B=z.redSqr();B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B),u=H.redMul(K.redISub(l)).redISub(B)}return this.curve.jpoint(l,u,f)},a.prototype._dbl=function(){var l=this.curve.a,u=this.x,f=this.y,p=this.z,m=p.redSqr().redSqr(),w=u.redSqr(),y=f.redSqr(),I=w.redAdd(w).redIAdd(w).redIAdd(l.redMul(m)),S=u.redAdd(u);S=S.redIAdd(S);var T=S.redMul(y),N=I.redSqr().redISub(T.redAdd(T)),z=T.redISub(N),$=y.redSqr();$=$.redIAdd($),$=$.redIAdd($),$=$.redIAdd($);var H=I.redMul(z).redISub($),K=f.redAdd(f).redMul(p);return this.curve.jpoint(N,H,K)},a.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var l=this.x.redSqr(),u=this.y.redSqr(),f=this.z.redSqr(),p=u.redSqr(),m=l.redAdd(l).redIAdd(l),w=m.redSqr(),y=this.x.redAdd(u).redSqr().redISub(l).redISub(p);y=y.redIAdd(y),y=y.redAdd(y).redIAdd(y),y=y.redISub(w);var I=y.redSqr(),S=p.redIAdd(p);S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S);var T=m.redIAdd(y).redSqr().redISub(w).redISub(I).redISub(S),N=u.redMul(T);N=N.redIAdd(N),N=N.redIAdd(N);var z=this.x.redMul(I).redISub(N);z=z.redIAdd(z),z=z.redIAdd(z);var $=this.y.redMul(T.redMul(S.redISub(T)).redISub(y.redMul(I)));$=$.redIAdd($),$=$.redIAdd($),$=$.redIAdd($);var H=this.z.redAdd(y).redSqr().redISub(f).redISub(I);return this.curve.jpoint(z,$,H)},a.prototype.mul=function(l,u){return l=new e(l,u),this.curve._wnafMul(this,l)},a.prototype.eq=function(l){if(l.type==="affine")return this.eq(l.toJ());if(this===l)return!0;var u=this.z.redSqr(),f=l.z.redSqr();if(this.x.redMul(f).redISub(l.x.redMul(u)).cmpn(0)!==0)return!1;var p=u.redMul(this.z),m=f.redMul(l.z);return this.y.redMul(m).redISub(l.y.redMul(p)).cmpn(0)===0},a.prototype.eqXToP=function(l){var u=this.z.redSqr(),f=l.toRed(this.curve.red).redMul(u);if(this.x.cmp(f)===0)return!0;for(var p=l.clone(),m=this.curve.redN.redMul(u);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(m),this.x.cmp(f)===0)return!0}},a.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},a.prototype.isInfinity=function(){return this.z.cmpn(0)===0},a3}var c3,$I;function Cz(){if($I)return c3;$I=1;var t=kc(),e=qs(),n=Rw(),r=fs();function i(s){n.call(this,"mont",s),this.a=new t(s.a,16).toRed(this.red),this.b=new t(s.b,16).toRed(this.red),this.i4=new t(4).toRed(this.red).redInvm(),this.two=new t(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}e(i,n),c3=i,i.prototype.validate=function(a){var c=a.normalize().x,l=c.redSqr(),u=l.redMul(c).redAdd(l.redMul(this.a)).redAdd(c),f=u.redSqrt();return f.redSqr().cmp(u)===0};function o(s,a,c){n.BasePoint.call(this,s,"projective"),a===null&&c===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new t(a,16),this.z=new t(c,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return e(o,n.BasePoint),i.prototype.decodePoint=function(a,c){return this.point(r.toArray(a,c),1)},i.prototype.point=function(a,c){return new o(this,a,c)},i.prototype.pointFromJSON=function(a){return o.fromJSON(this,a)},o.prototype.precompute=function(){},o.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},o.fromJSON=function(a,c){return new o(a,c[0],c[1]||a.one)},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.z.cmpn(0)===0},o.prototype.dbl=function(){var a=this.x.redAdd(this.z),c=a.redSqr(),l=this.x.redSub(this.z),u=l.redSqr(),f=c.redSub(u),p=c.redMul(u),m=f.redMul(u.redAdd(this.curve.a24.redMul(f)));return this.curve.point(p,m)},o.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.diffAdd=function(a,c){var l=this.x.redAdd(this.z),u=this.x.redSub(this.z),f=a.x.redAdd(a.z),p=a.x.redSub(a.z),m=p.redMul(l),w=f.redMul(u),y=c.z.redMul(m.redAdd(w).redSqr()),I=c.x.redMul(m.redISub(w).redSqr());return this.curve.point(y,I)},o.prototype.mul=function(a){for(var c=a.clone(),l=this,u=this.curve.point(null,null),f=this,p=[];c.cmpn(0)!==0;c.iushrn(1))p.push(c.andln(1));for(var m=p.length-1;m>=0;m--)p[m]===0?(l=l.diffAdd(u,f),u=u.dbl()):(u=l.diffAdd(u,f),l=l.dbl());return u},o.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.eq=function(a){return this.getX().cmp(a.getX())===0},o.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},o.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c3}var l3,FI;function Az(){if(FI)return l3;FI=1;var t=fs(),e=kc(),n=qs(),r=Rw(),i=t.assert;function o(a){this.twisted=(a.a|0)!==1,this.mOneA=this.twisted&&(a.a|0)===-1,this.extended=this.mOneA,r.call(this,"edwards",a),this.a=new e(a.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new e(a.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new e(a.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),i(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(a.c|0)===1}n(o,r),l3=o,o.prototype._mulA=function(c){return this.mOneA?c.redNeg():this.a.redMul(c)},o.prototype._mulC=function(c){return this.oneC?c:this.c.redMul(c)},o.prototype.jpoint=function(c,l,u,f){return this.point(c,l,u,f)},o.prototype.pointFromX=function(c,l){c=new e(c,16),c.red||(c=c.toRed(this.red));var u=c.redSqr(),f=this.c2.redSub(this.a.redMul(u)),p=this.one.redSub(this.c2.redMul(this.d).redMul(u)),m=f.redMul(p.redInvm()),w=m.redSqrt();if(w.redSqr().redSub(m).cmp(this.zero)!==0)throw new Error("invalid point");var y=w.fromRed().isOdd();return(l&&!y||!l&&y)&&(w=w.redNeg()),this.point(c,w)},o.prototype.pointFromY=function(c,l){c=new e(c,16),c.red||(c=c.toRed(this.red));var u=c.redSqr(),f=u.redSub(this.c2),p=u.redMul(this.d).redMul(this.c2).redSub(this.a),m=f.redMul(p.redInvm());if(m.cmp(this.zero)===0){if(l)throw new Error("invalid point");return this.point(this.zero,c)}var w=m.redSqrt();if(w.redSqr().redSub(m).cmp(this.zero)!==0)throw new Error("invalid point");return w.fromRed().isOdd()!==l&&(w=w.redNeg()),this.point(w,c)},o.prototype.validate=function(c){if(c.isInfinity())return!0;c.normalize();var l=c.x.redSqr(),u=c.y.redSqr(),f=l.redMul(this.a).redAdd(u),p=this.c2.redMul(this.one.redAdd(this.d.redMul(l).redMul(u)));return f.cmp(p)===0};function s(a,c,l,u,f){r.BasePoint.call(this,a,"projective"),c===null&&l===null&&u===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new e(c,16),this.y=new e(l,16),this.z=u?new e(u,16):this.curve.one,this.t=f&&new e(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return n(s,r.BasePoint),o.prototype.pointFromJSON=function(c){return s.fromJSON(this,c)},o.prototype.point=function(c,l,u,f){return new s(this,c,l,u,f)},s.fromJSON=function(c,l){return new s(c,l[0],l[1],l[2])},s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},s.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},s.prototype._extDbl=function(){var c=this.x.redSqr(),l=this.y.redSqr(),u=this.z.redSqr();u=u.redIAdd(u);var f=this.curve._mulA(c),p=this.x.redAdd(this.y).redSqr().redISub(c).redISub(l),m=f.redAdd(l),w=m.redSub(u),y=f.redSub(l),I=p.redMul(w),S=m.redMul(y),T=p.redMul(y),N=w.redMul(m);return this.curve.point(I,S,N,T)},s.prototype._projDbl=function(){var c=this.x.redAdd(this.y).redSqr(),l=this.x.redSqr(),u=this.y.redSqr(),f,p,m,w,y,I;if(this.curve.twisted){w=this.curve._mulA(l);var S=w.redAdd(u);this.zOne?(f=c.redSub(l).redSub(u).redMul(S.redSub(this.curve.two)),p=S.redMul(w.redSub(u)),m=S.redSqr().redSub(S).redSub(S)):(y=this.z.redSqr(),I=S.redSub(y).redISub(y),f=c.redSub(l).redISub(u).redMul(I),p=S.redMul(w.redSub(u)),m=S.redMul(I))}else w=l.redAdd(u),y=this.curve._mulC(this.z).redSqr(),I=w.redSub(y).redSub(y),f=this.curve._mulC(c.redISub(w)).redMul(I),p=this.curve._mulC(w).redMul(l.redISub(u)),m=w.redMul(I);return this.curve.point(f,p,m)},s.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},s.prototype._extAdd=function(c){var l=this.y.redSub(this.x).redMul(c.y.redSub(c.x)),u=this.y.redAdd(this.x).redMul(c.y.redAdd(c.x)),f=this.t.redMul(this.curve.dd).redMul(c.t),p=this.z.redMul(c.z.redAdd(c.z)),m=u.redSub(l),w=p.redSub(f),y=p.redAdd(f),I=u.redAdd(l),S=m.redMul(w),T=y.redMul(I),N=m.redMul(I),z=w.redMul(y);return this.curve.point(S,T,z,N)},s.prototype._projAdd=function(c){var l=this.z.redMul(c.z),u=l.redSqr(),f=this.x.redMul(c.x),p=this.y.redMul(c.y),m=this.curve.d.redMul(f).redMul(p),w=u.redSub(m),y=u.redAdd(m),I=this.x.redAdd(this.y).redMul(c.x.redAdd(c.y)).redISub(f).redISub(p),S=l.redMul(w).redMul(I),T,N;return this.curve.twisted?(T=l.redMul(y).redMul(p.redSub(this.curve._mulA(f))),N=w.redMul(y)):(T=l.redMul(y).redMul(p.redSub(f)),N=this.curve._mulC(w).redMul(y)),this.curve.point(S,T,N)},s.prototype.add=function(c){return this.isInfinity()?c:c.isInfinity()?this:this.curve.extended?this._extAdd(c):this._projAdd(c)},s.prototype.mul=function(c){return this._hasDoubles(c)?this.curve._fixedNafMul(this,c):this.curve._wnafMul(this,c)},s.prototype.mulAdd=function(c,l,u){return this.curve._wnafMulAdd(1,[this,l],[c,u],2,!1)},s.prototype.jmulAdd=function(c,l,u){return this.curve._wnafMulAdd(1,[this,l],[c,u],2,!0)},s.prototype.normalize=function(){if(this.zOne)return this;var c=this.z.redInvm();return this.x=this.x.redMul(c),this.y=this.y.redMul(c),this.t&&(this.t=this.t.redMul(c)),this.z=this.curve.one,this.zOne=!0,this},s.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},s.prototype.getX=function(){return this.normalize(),this.x.fromRed()},s.prototype.getY=function(){return this.normalize(),this.y.fromRed()},s.prototype.eq=function(c){return this===c||this.getX().cmp(c.getX())===0&&this.getY().cmp(c.getY())===0},s.prototype.eqXToP=function(c){var l=c.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(l)===0)return!0;for(var u=c.clone(),f=this.curve.redN.redMul(this.z);;){if(u.iadd(this.curve.n),u.cmp(this.curve.p)>=0)return!1;if(l.redIAdd(f),this.x.cmp(l)===0)return!0}},s.prototype.toP=s.prototype.normalize,s.prototype.mixedAdd=s.prototype.add,l3}var UI;function V9(){return UI||(UI=1,function(t){var e=t;e.base=Rw(),e.short=Sz(),e.mont=Cz(),e.edwards=Az()}(o3)),o3}var u3={},d3,zI;function Iz(){return zI||(zI=1,d3={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),d3}var qI;function JS(){return qI||(qI=1,function(t){var e=t,n=WS(),r=V9(),i=fs(),o=i.assert;function s(l){l.type==="short"?this.curve=new r.short(l):l.type==="edwards"?this.curve=new r.edwards(l):this.curve=new r.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=s;function a(l,u){Object.defineProperty(e,l,{configurable:!0,enumerable:!0,get:function(){var f=new s(u);return Object.defineProperty(e,l,{configurable:!0,enumerable:!0,value:f}),f}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:n.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:n.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:n.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:n.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:n.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=Iz()}catch{c=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:n.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})}(u3)),u3}var f3,HI;function kz(){if(HI)return f3;HI=1;var t=WS(),e=K9(),n=xd();function r(i){if(!(this instanceof r))return new r(i);this.hash=i.hash,this.predResist=!!i.predResist,this.outLen=this.hash.outSize,this.minEntropy=i.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var o=e.toArray(i.entropy,i.entropyEnc||"hex"),s=e.toArray(i.nonce,i.nonceEnc||"hex"),a=e.toArray(i.pers,i.persEnc||"hex");n(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(o,s,a)}return f3=r,r.prototype._init=function(o,s,a){var c=o.concat(s).concat(a);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var l=0;l<this.V.length;l++)this.K[l]=0,this.V[l]=1;this._update(c),this._reseed=1,this.reseedInterval=281474976710656},r.prototype._hmac=function(){return new t.hmac(this.hash,this.K)},r.prototype._update=function(o){var s=this._hmac().update(this.V).update([0]);o&&(s=s.update(o)),this.K=s.digest(),this.V=this._hmac().update(this.V).digest(),o&&(this.K=this._hmac().update(this.V).update([1]).update(o).digest(),this.V=this._hmac().update(this.V).digest())},r.prototype.reseed=function(o,s,a,c){typeof s!="string"&&(c=a,a=s,s=null),o=e.toArray(o,s),a=e.toArray(a,c),n(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(o.concat(a||[])),this._reseed=1},r.prototype.generate=function(o,s,a,c){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof s!="string"&&(c=a,a=s,s=null),a&&(a=e.toArray(a,c||"hex"),this._update(a));for(var l=[];l.length<o;)this.V=this._hmac().update(this.V).digest(),l=l.concat(this.V);var u=l.slice(0,o);return this._update(a),this._reseed++,e.encode(u,s)},f3}var h3,KI;function Mz(){if(KI)return h3;KI=1;var t=kc(),e=fs(),n=e.assert;function r(i,o){this.ec=i,this.priv=null,this.pub=null,o.priv&&this._importPrivate(o.priv,o.privEnc),o.pub&&this._importPublic(o.pub,o.pubEnc)}return h3=r,r.fromPublic=function(o,s,a){return s instanceof r?s:new r(o,{pub:s,pubEnc:a})},r.fromPrivate=function(o,s,a){return s instanceof r?s:new r(o,{priv:s,privEnc:a})},r.prototype.validate=function(){var o=this.getPublic();return o.isInfinity()?{result:!1,reason:"Invalid public key"}:o.validate()?o.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},r.prototype.getPublic=function(o,s){return typeof o=="string"&&(s=o,o=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),s?this.pub.encode(s,o):this.pub},r.prototype.getPrivate=function(o){return o==="hex"?this.priv.toString(16,2):this.priv},r.prototype._importPrivate=function(o,s){this.priv=new t(o,s||16),this.priv=this.priv.umod(this.ec.curve.n)},r.prototype._importPublic=function(o,s){if(o.x||o.y){this.ec.curve.type==="mont"?n(o.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&n(o.x&&o.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(o.x,o.y);return}this.pub=this.ec.curve.decodePoint(o,s)},r.prototype.derive=function(o){return o.validate()||n(o.validate(),"public point not validated"),o.mul(this.priv).getX()},r.prototype.sign=function(o,s,a){return this.ec.sign(o,this,s,a)},r.prototype.verify=function(o,s,a){return this.ec.verify(o,s,this,void 0,a)},r.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},h3}var p3,WI;function Rz(){if(WI)return p3;WI=1;var t=kc(),e=fs(),n=e.assert;function r(c,l){if(c instanceof r)return c;this._importDER(c,l)||(n(c.r&&c.s,"Signature without r or s"),this.r=new t(c.r,16),this.s=new t(c.s,16),c.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=c.recoveryParam)}p3=r;function i(){this.place=0}function o(c,l){var u=c[l.place++];if(!(u&128))return u;var f=u&15;if(f===0||f>4||c[l.place]===0)return!1;for(var p=0,m=0,w=l.place;m<f;m++,w++)p<<=8,p|=c[w],p>>>=0;return p<=127?!1:(l.place=w,p)}function s(c){for(var l=0,u=c.length-1;!c[l]&&!(c[l+1]&128)&&l<u;)l++;return l===0?c:c.slice(l)}r.prototype._importDER=function(l,u){l=e.toArray(l,u);var f=new i;if(l[f.place++]!==48)return!1;var p=o(l,f);if(p===!1||p+f.place!==l.length||l[f.place++]!==2)return!1;var m=o(l,f);if(m===!1||(l[f.place]&128)!==0)return!1;var w=l.slice(f.place,m+f.place);if(f.place+=m,l[f.place++]!==2)return!1;var y=o(l,f);if(y===!1||l.length!==y+f.place||(l[f.place]&128)!==0)return!1;var I=l.slice(f.place,y+f.place);if(w[0]===0)if(w[1]&128)w=w.slice(1);else return!1;if(I[0]===0)if(I[1]&128)I=I.slice(1);else return!1;return this.r=new t(w),this.s=new t(I),this.recoveryParam=null,!0};function a(c,l){if(l<128){c.push(l);return}var u=1+(Math.log(l)/Math.LN2>>>3);for(c.push(u|128);--u;)c.push(l>>>(u<<3)&255);c.push(l)}return r.prototype.toDER=function(l){var u=this.r.toArray(),f=this.s.toArray();for(u[0]&128&&(u=[0].concat(u)),f[0]&128&&(f=[0].concat(f)),u=s(u),f=s(f);!f[0]&&!(f[1]&128);)f=f.slice(1);var p=[2];a(p,u.length),p=p.concat(u),p.push(2),a(p,f.length);var m=p.concat(f),w=[48];return a(w,m.length),w=w.concat(m),e.encode(w,l)},p3}var g3,VI;function Oz(){if(VI)return g3;VI=1;var t=kc(),e=kz(),n=fs(),r=JS(),i=W9(),o=n.assert,s=Mz(),a=Rz();function c(l){if(!(this instanceof c))return new c(l);typeof l=="string"&&(o(Object.prototype.hasOwnProperty.call(r,l),"Unknown curve "+l),l=r[l]),l instanceof r.PresetCurve&&(l={curve:l}),this.curve=l.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=l.curve.g,this.g.precompute(l.curve.n.bitLength()+1),this.hash=l.hash||l.curve.hash}return g3=c,c.prototype.keyPair=function(u){return new s(this,u)},c.prototype.keyFromPrivate=function(u,f){return s.fromPrivate(this,u,f)},c.prototype.keyFromPublic=function(u,f){return s.fromPublic(this,u,f)},c.prototype.genKeyPair=function(u){u||(u={});for(var f=new e({hash:this.hash,pers:u.pers,persEnc:u.persEnc||"utf8",entropy:u.entropy||i(this.hash.hmacStrength),entropyEnc:u.entropy&&u.entropyEnc||"utf8",nonce:this.n.toArray()}),p=this.n.byteLength(),m=this.n.sub(new t(2));;){var w=new t(f.generate(p));if(!(w.cmp(m)>0))return w.iaddn(1),this.keyFromPrivate(w)}},c.prototype._truncateToN=function(u,f,p){var m;if(t.isBN(u)||typeof u=="number")u=new t(u,16),m=u.byteLength();else if(typeof u=="object")m=u.length,u=new t(u,16);else{var w=u.toString();m=w.length+1>>>1,u=new t(w,16)}typeof p!="number"&&(p=m*8);var y=p-this.n.bitLength();return y>0&&(u=u.ushrn(y)),!f&&u.cmp(this.n)>=0?u.sub(this.n):u},c.prototype.sign=function(u,f,p,m){if(typeof p=="object"&&(m=p,p=null),m||(m={}),typeof u!="string"&&typeof u!="number"&&!t.isBN(u)){o(typeof u=="object"&&u&&typeof u.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),o(u.length>>>0===u.length);for(var w=0;w<u.length;w++)o((u[w]&255)===u[w])}f=this.keyFromPrivate(f,p),u=this._truncateToN(u,!1,m.msgBitLength),o(!u.isNeg(),"Can not sign a negative message");var y=this.n.byteLength(),I=f.getPrivate().toArray("be",y),S=u.toArray("be",y);o(new t(S).eq(u),"Can not sign message");for(var T=new e({hash:this.hash,entropy:I,nonce:S,pers:m.pers,persEnc:m.persEnc||"utf8"}),N=this.n.sub(new t(1)),z=0;;z++){var $=m.k?m.k(z):new t(T.generate(this.n.byteLength()));if($=this._truncateToN($,!0),!($.cmpn(1)<=0||$.cmp(N)>=0)){var H=this.g.mul($);if(!H.isInfinity()){var K=H.getX(),j=K.umod(this.n);if(j.cmpn(0)!==0){var B=$.invm(this.n).mul(j.mul(f.getPrivate()).iadd(u));if(B=B.umod(this.n),B.cmpn(0)!==0){var D=(H.getY().isOdd()?1:0)|(K.cmp(j)!==0?2:0);return m.canonical&&B.cmp(this.nh)>0&&(B=this.n.sub(B),D^=1),new a({r:j,s:B,recoveryParam:D})}}}}}},c.prototype.verify=function(u,f,p,m,w){w||(w={}),u=this._truncateToN(u,!1,w.msgBitLength),p=this.keyFromPublic(p,m),f=new a(f,"hex");var y=f.r,I=f.s;if(y.cmpn(1)<0||y.cmp(this.n)>=0||I.cmpn(1)<0||I.cmp(this.n)>=0)return!1;var S=I.invm(this.n),T=S.mul(u).umod(this.n),N=S.mul(y).umod(this.n),z;return this.curve._maxwellTrick?(z=this.g.jmulAdd(T,p.getPublic(),N),z.isInfinity()?!1:z.eqXToP(y)):(z=this.g.mulAdd(T,p.getPublic(),N),z.isInfinity()?!1:z.getX().umod(this.n).cmp(y)===0)},c.prototype.recoverPubKey=function(l,u,f,p){o((3&f)===f,"The recovery param is more than two bits"),u=new a(u,p);var m=this.n,w=new t(l),y=u.r,I=u.s,S=f&1,T=f>>1;if(y.cmp(this.curve.p.umod(this.curve.n))>=0&&T)throw new Error("Unable to find sencond key candinate");T?y=this.curve.pointFromX(y.add(this.curve.n),S):y=this.curve.pointFromX(y,S);var N=u.r.invm(m),z=m.sub(w).mul(N).umod(m),$=I.mul(N).umod(m);return this.g.mulAdd(z,y,$)},c.prototype.getKeyRecoveryParam=function(l,u,f,p){if(u=new a(u,p),u.recoveryParam!==null)return u.recoveryParam;for(var m=0;m<4;m++){var w;try{w=this.recoverPubKey(l,u,m)}catch{continue}if(w.eq(f))return m}throw new Error("Unable to find valid recovery factor")},g3}var m3,GI;function Tz(){if(GI)return m3;GI=1;var t=fs(),e=t.assert,n=t.parseBytes,r=t.cachedProperty;function i(o,s){this.eddsa=o,this._secret=n(s.secret),o.isPoint(s.pub)?this._pub=s.pub:this._pubBytes=n(s.pub)}return i.fromPublic=function(s,a){return a instanceof i?a:new i(s,{pub:a})},i.fromSecret=function(s,a){return a instanceof i?a:new i(s,{secret:a})},i.prototype.secret=function(){return this._secret},r(i,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),r(i,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),r(i,"privBytes",function(){var s=this.eddsa,a=this.hash(),c=s.encodingLength-1,l=a.slice(0,s.encodingLength);return l[0]&=248,l[c]&=127,l[c]|=64,l}),r(i,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),r(i,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),r(i,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),i.prototype.sign=function(s){return e(this._secret,"KeyPair can only verify"),this.eddsa.sign(s,this)},i.prototype.verify=function(s,a){return this.eddsa.verify(s,a,this)},i.prototype.getSecret=function(s){return e(this._secret,"KeyPair is public only"),t.encode(this.secret(),s)},i.prototype.getPublic=function(s){return t.encode(this.pubBytes(),s)},m3=i,m3}var v3,YI;function Nz(){if(YI)return v3;YI=1;var t=kc(),e=fs(),n=e.assert,r=e.cachedProperty,i=e.parseBytes;function o(s,a){this.eddsa=s,typeof a!="object"&&(a=i(a)),Array.isArray(a)&&(n(a.length===s.encodingLength*2,"Signature has invalid size"),a={R:a.slice(0,s.encodingLength),S:a.slice(s.encodingLength)}),n(a.R&&a.S,"Signature without R or S"),s.isPoint(a.R)&&(this._R=a.R),a.S instanceof t&&(this._S=a.S),this._Rencoded=Array.isArray(a.R)?a.R:a.Rencoded,this._Sencoded=Array.isArray(a.S)?a.S:a.Sencoded}return r(o,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),r(o,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),r(o,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),r(o,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),o.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},o.prototype.toHex=function(){return e.encode(this.toBytes(),"hex").toUpperCase()},v3=o,v3}var y3,JI;function Pz(){if(JI)return y3;JI=1;var t=WS(),e=JS(),n=fs(),r=n.assert,i=n.parseBytes,o=Tz(),s=Nz();function a(c){if(r(c==="ed25519","only tested with ed25519 so far"),!(this instanceof a))return new a(c);c=e[c].curve,this.curve=c,this.g=c.g,this.g.precompute(c.n.bitLength()+1),this.pointClass=c.point().constructor,this.encodingLength=Math.ceil(c.n.bitLength()/8),this.hash=t.sha512}return y3=a,a.prototype.sign=function(l,u){l=i(l);var f=this.keyFromSecret(u),p=this.hashInt(f.messagePrefix(),l),m=this.g.mul(p),w=this.encodePoint(m),y=this.hashInt(w,f.pubBytes(),l).mul(f.priv()),I=p.add(y).umod(this.curve.n);return this.makeSignature({R:m,S:I,Rencoded:w})},a.prototype.verify=function(l,u,f){if(l=i(l),u=this.makeSignature(u),u.S().gte(u.eddsa.curve.n)||u.S().isNeg())return!1;var p=this.keyFromPublic(f),m=this.hashInt(u.Rencoded(),p.pubBytes(),l),w=this.g.mul(u.S()),y=u.R().add(p.pub().mul(m));return y.eq(w)},a.prototype.hashInt=function(){for(var l=this.hash(),u=0;u<arguments.length;u++)l.update(arguments[u]);return n.intFromLE(l.digest()).umod(this.curve.n)},a.prototype.keyFromPublic=function(l){return o.fromPublic(this,l)},a.prototype.keyFromSecret=function(l){return o.fromSecret(this,l)},a.prototype.makeSignature=function(l){return l instanceof s?l:new s(this,l)},a.prototype.encodePoint=function(l){var u=l.getY().toArray("le",this.encodingLength);return u[this.encodingLength-1]|=l.getX().isOdd()?128:0,u},a.prototype.decodePoint=function(l){l=n.parseBytes(l);var u=l.length-1,f=l.slice(0,u).concat(l[u]&-129),p=(l[u]&128)!==0,m=n.intFromLE(f);return this.curve.pointFromY(m,p)},a.prototype.encodeInt=function(l){return l.toArray("le",this.encodingLength)},a.prototype.decodeInt=function(l){return n.intFromLE(l)},a.prototype.isPoint=function(l){return l instanceof this.pointClass},y3}var ZI;function Lz(){return ZI||(ZI=1,function(t){var e=t;e.version=xz.version,e.utils=fs(),e.rand=W9(),e.curve=V9(),e.curves=JS(),e.ec=Oz(),e.eddsa=Pz()}(n3)),n3}var G9=Lz();const ut={GOOGLE:"google",TWITTER:"twitter",FACEBOOK:"facebook",DISCORD:"discord",FARCASTER:"farcaster",APPLE:"apple",GITHUB:"github",REDDIT:"reddit",LINE:"line",KAKAO:"kakao",LINKEDIN:"linkedin",TWITCH:"twitch",TELEGRAM:"telegram",WECHAT:"wechat",EMAIL_PASSWORDLESS:"email_passwordless",SMS_PASSWORDLESS:"sms_passwordless",CUSTOM:"custom",PASSKEYS:"passkeys",AUTHENTICATOR:"authenticator"},Si={POPUP:"popup",REDIRECT:"redirect"};var w3,XI;function Bz(){if(XI)return w3;XI=1;var t=function(T){return e(T)&&!n(T)};function e(S){return!!S&&typeof S=="object"}function n(S){var T=Object.prototype.toString.call(S);return T==="[object RegExp]"||T==="[object Date]"||o(S)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function o(S){return S.$$typeof===i}function s(S){return Array.isArray(S)?[]:{}}function a(S,T){return T.clone!==!1&&T.isMergeableObject(S)?y(s(S),S,T):S}function c(S,T,N){return S.concat(T).map(function(z){return a(z,N)})}function l(S,T){if(!T.customMerge)return y;var N=T.customMerge(S);return typeof N=="function"?N:y}function u(S){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(S).filter(function(T){return Object.propertyIsEnumerable.call(S,T)}):[]}function f(S){return Object.keys(S).concat(u(S))}function p(S,T){try{return T in S}catch{return!1}}function m(S,T){return p(S,T)&&!(Object.hasOwnProperty.call(S,T)&&Object.propertyIsEnumerable.call(S,T))}function w(S,T,N){var z={};return N.isMergeableObject(S)&&f(S).forEach(function($){z[$]=a(S[$],N)}),f(T).forEach(function($){m(S,$)||(p(S,$)&&N.isMergeableObject(T[$])?z[$]=l($,N)(S[$],T[$],N):z[$]=a(T[$],N))}),z}function y(S,T,N){N=N||{},N.arrayMerge=N.arrayMerge||c,N.isMergeableObject=N.isMergeableObject||t,N.cloneUnlessOtherwiseSpecified=a;var z=Array.isArray(T),$=Array.isArray(S),H=z===$;return H?z?N.arrayMerge(S,T,N):w(S,T,N):a(T,N)}y.all=function(T,N){if(!Array.isArray(T))throw new Error("first argument should be an array");return T.reduce(function(z,$){return y(z,$,N)},{})};var I=y;return w3=I,w3}var Dz=Bz();const Xn=si(Dz);var Fv={exports:{}},jz=Fv.exports,QI;function $z(){return QI||(QI=1,function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(jz,function(){var e=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],o={},s=null;function a(y,I){var S=y[I];if(typeof S.bind=="function")return S.bind(y);try{return Function.prototype.bind.call(S,y)}catch{return function(){return Function.prototype.apply.apply(S,[y,arguments])}}}function c(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(y){return y==="debug"&&(y="log"),typeof console===n?!1:y==="trace"&&r?c:console[y]!==void 0?a(console,y):console.log!==void 0?a(console,"log"):e}function u(){for(var y=this.getLevel(),I=0;I<i.length;I++){var S=i[I];this[S]=I<y?e:this.methodFactory(S,y,this.name)}if(this.log=this.debug,typeof console===n&&y<this.levels.SILENT)return"No console available for logging"}function f(y){return function(){typeof console!==n&&(u.call(this),this[y].apply(this,arguments))}}function p(y,I,S){return l(y)||f.apply(this,arguments)}function m(y,I){var S=this,T,N,z,$="loglevel";typeof y=="string"?$+=":"+y:typeof y=="symbol"&&($=void 0);function H(P){var E=(i[P]||"silent").toUpperCase();if(!(typeof window===n||!$)){try{window.localStorage[$]=E;return}catch{}try{window.document.cookie=encodeURIComponent($)+"="+E+";"}catch{}}}function K(){var P;if(!(typeof window===n||!$)){try{P=window.localStorage[$]}catch{}if(typeof P===n)try{var E=window.document.cookie,b=encodeURIComponent($),g=E.indexOf(b+"=");g!==-1&&(P=/^([^;]+)/.exec(E.slice(g+b.length+1))[1])}catch{}return S.levels[P]===void 0&&(P=void 0),P}}function j(){if(!(typeof window===n||!$)){try{window.localStorage.removeItem($)}catch{}try{window.document.cookie=encodeURIComponent($)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function B(P){var E=P;if(typeof E=="string"&&S.levels[E.toUpperCase()]!==void 0&&(E=S.levels[E.toUpperCase()]),typeof E=="number"&&E>=0&&E<=S.levels.SILENT)return E;throw new TypeError("log.setLevel() called with invalid level: "+P)}S.name=y,S.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},S.methodFactory=I||p,S.getLevel=function(){return z??N??T},S.setLevel=function(P,E){return z=B(P),E!==!1&&H(z),u.call(S)},S.setDefaultLevel=function(P){N=B(P),K()||S.setLevel(P,!1)},S.resetLevel=function(){z=null,j(),u.call(S)},S.enableAll=function(P){S.setLevel(S.levels.TRACE,P)},S.disableAll=function(P){S.setLevel(S.levels.SILENT,P)},S.rebuild=function(){if(s!==S&&(T=B(s.getLevel())),u.call(S),s===S)for(var P in o)o[P].rebuild()},T=B(s?s.getLevel():"WARN");var D=K();D!=null&&(z=B(D)),u.call(S)}s=new m,s.getLogger=function(I){if(typeof I!="symbol"&&typeof I!="string"||I==="")throw new TypeError("You must supply a name when creating a logger.");var S=o[I];return S||(S=o[I]=new m(I,s.methodFactory)),S};var w=typeof window!==n?window.log:void 0;return s.noConflict=function(){return typeof window!==n&&window.log===s&&(window.log=w),s},s.getLoggers=function(){return o},s.default=s,s})}(Fv)),Fv.exports}var Y9=$z();const Mc=si(Y9),i0=Mc.getLogger("http-helpers");i0.setLevel(Y9.levels.INFO);let Fz="torus-default";const Uz="x-api-key";function zz(t){i0.setLevel(t)}async function Ow(t,e){let n=null;try{n=new URL(t)}catch{}return fetch(t,e)}function Tw(){const t={};return t[Uz]=Fz,t}function Nw(t){i0.info(`Response: ${t.status} ${t.statusText}`),i0.info(`Url: ${t.url}`)}function qz(t){const e=t.headers.get("x-web3-correlation-id");e&&i0.info(`Request tracing with traceID = ${e}`)}const Hz=async(t,e)=>{let n=null;try{const r=new Promise((o,s)=>{n=setTimeout(()=>{s(new Error(`Timed out in ${t}ms`))},t)}),i=await Promise.race([e,r]);return n!=null&&clearTimeout(n),i}catch(r){throw n!=null&&clearTimeout(n),r}},Oa=async(t,e={},n={})=>{const r={mode:"cors",headers:{}};n.useAPIKey&&(r.headers=_e(_e({},r.headers),Tw())),e.method="GET";const i=Xn(r,e),o=await Ow(t,i);if(o.ok){const s=o.headers.get("content-type");return s!=null&&s.includes("application/json")?o.json():o.text()}throw Nw(o),o},hd=(t,e={},n={},r={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=_e(_e({},i.headers),Tw())),n.method="POST";const o=Xn(i,n);return r.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e),Hz(r.timeout||6e4,Ow(t,o).then(s=>{if(r.logTracingHeader&&qz(s),s.ok){const a=s.headers.get("content-type");return a!=null&&a.includes("application/json")?s.json():s.text()}throw Nw(s),s}))},Kz=async(t,e={},n={},r={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=_e(_e({},i.headers),Tw())),n.method="PATCH";const o=Xn(i,n);r.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e);const s=await Ow(t,o);if(s.ok){const a=s.headers.get("content-type");return a!=null&&a.includes("application/json")?s.json():s.text()}throw Nw(s),s},Wz=async(t,e={},n={},r={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=_e(_e({},i.headers),Tw())),n.method="PUT";const o=Xn(i,n);r.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e);const s=await Ow(t,o);if(s.ok){const a=s.headers.get("content-type");return a!=null&&a.includes("application/json")?s.json():s.text()}throw Nw(s),s};var b3={exports:{}},Mm={},Rm={},ek;function Vz(){if(ek)return Rm;ek=1,Object.defineProperty(Rm,"__esModule",{value:!0});function t(e){var n=4,r=e.length,i=r%n;if(!i)return e;var o=r,s=n-i,a=r+s,c=Buffer.alloc(a);for(c.write(e);s--;)c.write("=",o++);return c.toString()}return Rm.default=t,Rm}var tk;function Gz(){if(tk)return Mm;tk=1,Object.defineProperty(Mm,"__esModule",{value:!0});var t=Vz();function e(a,c){return c===void 0&&(c="utf8"),Buffer.isBuffer(a)?i(a.toString("base64")):i(Buffer.from(a,c).toString("base64"))}function n(a,c){return c===void 0&&(c="utf8"),Buffer.from(r(a),"base64").toString(c)}function r(a){return a=a.toString(),t.default(a).replace(/\-/g,"+").replace(/_/g,"/")}function i(a){return a.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function o(a){return Buffer.from(r(a),"base64")}var s=e;return s.encode=e,s.decode=n,s.toBase64=r,s.fromBase64=i,s.toBuffer=o,Mm.default=s,Mm}var nk;function Yz(){return nk||(nk=1,function(t){t.exports=Gz().default,t.exports.default=t.exports}(b3)),b3.exports}var Jz=Yz();const Jl=si(Jz),Zz={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},J9={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},wr={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Pi={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},hl={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Je{static getFirstMatch(e,n){const r=n.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,n){const r=n.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,n,r){if(e.test(n))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5)){if(n[0]===1&&n[1]<6)return"Cupcake";if(n[0]===1&&n[1]>=6)return"Donut";if(n[0]===2&&n[1]<2)return"Eclair";if(n[0]===2&&n[1]===2)return"Froyo";if(n[0]===2&&n[1]>2)return"Gingerbread";if(n[0]===3)return"Honeycomb";if(n[0]===4&&n[1]<1)return"Ice Cream Sandwich";if(n[0]===4&&n[1]<4)return"Jelly Bean";if(n[0]===4&&n[1]>=4)return"KitKat";if(n[0]===5)return"Lollipop";if(n[0]===6)return"Marshmallow";if(n[0]===7)return"Nougat";if(n[0]===8)return"Oreo";if(n[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,n,r=!1){const i=Je.getVersionPrecision(e),o=Je.getVersionPrecision(n);let s=Math.max(i,o),a=0;const c=Je.map([e,n],l=>{const u=s-Je.getVersionPrecision(l),f=l+new Array(u+1).join(".0");return Je.map(f.split("."),p=>new Array(20-p.length).join("0")+p).reverse()});for(r&&(a=s-Math.min(i,o)),s-=1;s>=a;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===a)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}}static map(e,n){const r=[];let i;if(Array.prototype.map)return Array.prototype.map.call(e,n);for(i=0;i<e.length;i+=1)r.push(n(e[i]));return r}static find(e,n){let r,i;if(Array.prototype.find)return Array.prototype.find.call(e,n);for(r=0,i=e.length;r<i;r+=1){const o=e[r];if(n(o,r))return o}}static assign(e,...n){const r=e;let i,o;if(Object.assign)return Object.assign(e,...n);for(i=0,o=n.length;i<o;i+=1){const s=n[i];typeof s=="object"&&s!==null&&Object.keys(s).forEach(c=>{r[c]=s[c]})}return e}static getBrowserAlias(e){return Zz[e]}static getBrowserTypeByAlias(e){return J9[e]||""}}const Un=/version\/(\d+(\.?_?\d+)+)/i,Xz=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},n=Je.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||Je.getFirstMatch(Un,t);return n&&(e.version=n),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},n=Je.getFirstMatch(Un,t)||Je.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},n=Je.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||Je.getFirstMatch(Un,t);return n&&(e.version=n),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},n=Je.getFirstMatch(Un,t)||Je.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},n=Je.getFirstMatch(Un,t)||Je.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},n=Je.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||Je.getFirstMatch(Un,t);return n&&(e.version=n),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},n=Je.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||Je.getFirstMatch(Un,t);return n&&(e.version=n),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},n=Je.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||Je.getFirstMatch(Un,t);return n&&(e.version=n),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},n=Je.getFirstMatch(Un,t)||Je.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},n=Je.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||Je.getFirstMatch(Un,t);return n&&(e.version=n),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},n=Je.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||Je.getFirstMatch(Un,t);return n&&(e.version=n),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},n=Je.getFirstMatch(Un,t)||Je.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},n=Je.getFirstMatch(Un,t)||Je.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},n=Je.getFirstMatch(Un,t)||Je.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},n=Je.getFirstMatch(Un,t)||Je.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},n=Je.getFirstMatch(Un,t)||Je.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},n=Je.getFirstMatch(Un,t)||Je.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},n=Je.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||Je.getFirstMatch(Un,t);return n&&(e.version=n),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},n=Je.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||Je.getFirstMatch(Un,t);return n&&(e.version=n),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},n=Je.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},n=Je.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},n=Je.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},n=Je.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},n=Je.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},n=Je.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return n&&(e.version=n),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},n=Je.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},n=Je.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},n=Je.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},n=Je.getFirstMatch(Un,t)||Je.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},n=Je.getFirstMatch(Un,t)||Je.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},n=Je.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},n=Je.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||Je.getFirstMatch(Un,t);return n&&(e.version=n),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},n=Je.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||Je.getFirstMatch(Un,t);return n&&(e.version=n),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},n=Je.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},n=Je.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},n=Je.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},n=Je.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||Je.getFirstMatch(Un,t);return n&&(e.version=n),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},n=Je.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},n=Je.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e={name:"Android Browser"},n=Je.getFirstMatch(Un,t);return n&&(e.version=n),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},n=Je.getFirstMatch(Un,t);return n&&(e.version=n),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},n=Je.getFirstMatch(Un,t);return n&&(e.version=n),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,n=/^(.*)\/(.*)[ \t]\((.*)/,i=t.search("\\(")!==-1?n:e;return{name:Je.getFirstMatch(i,t),version:Je.getSecondMatch(i,t)}}}],Qz=[{test:[/Roku\/DVP/],describe(t){const e=Je.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:Pi.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=Je.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:Pi.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=Je.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),n=Je.getWindowsVersionName(e);return{name:Pi.Windows,version:e,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:Pi.iOS},n=Je.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return n&&(e.version=n),e}},{test:[/macintosh/i],describe(t){const e=Je.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),n=Je.getMacOSVersionName(e),r={name:Pi.MacOS,version:e};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=Je.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:Pi.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e=Je.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),n=Je.getAndroidVersionName(e),r={name:Pi.Android,version:e};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=Je.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),n={name:Pi.WebOS};return e&&e.length&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=Je.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||Je.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||Je.getFirstMatch(/\bbb(\d+)/i,t);return{name:Pi.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=Je.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:Pi.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=Je.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:Pi.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:Pi.Linux}}},{test:[/CrOS/],describe(){return{name:Pi.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=Je.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:Pi.PlayStation4,version:e}}}],eq=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=Je.getFirstMatch(/(can-l01)/i,t)&&"Nova",n={type:wr.mobile,vendor:"Huawei"};return e&&(n.model=e),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:wr.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:wr.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:wr.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:wr.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:wr.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:wr.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),n=t.test(/like (ipod|iphone)/i);return e&&!n},describe(t){const e=Je.getFirstMatch(/(ipod|iphone)/i,t);return{type:wr.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:wr.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:wr.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:wr.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:wr.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:wr.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:wr.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:wr.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:wr.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:wr.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:wr.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:wr.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:wr.tv}}}],tq=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:hl.Blink};const n=Je.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:hl.EdgeHTML,version:n}}},{test:[/trident/i],describe(t){const e={name:hl.Trident},n=Je.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:hl.Presto},n=Je.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=t.test(/gecko/i),n=t.test(/like gecko/i);return e&&!n},describe(t){const e={name:hl.Gecko},n=Je.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:hl.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:hl.WebKit},n=Je.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}}];class rk{constructor(e,n=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=Je.find(Xz,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=Je.find(Qz,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:n}=this.getOS();return e?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:n}=this.getPlatform();return e?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const e=Je.find(eq,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=Je.find(tq,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Je.assign({},this.parsedResult)}satisfies(e){const n={};let r=0;const i={};let o=0;if(Object.keys(e).forEach(a=>{const c=e[a];typeof c=="string"?(i[a]=c,o+=1):typeof c=="object"&&(n[a]=c,r+=1)}),r>0){const a=Object.keys(n),c=Je.find(a,u=>this.isOS(u));if(c){const u=this.satisfies(n[c]);if(u!==void 0)return u}const l=Je.find(a,u=>this.isPlatform(u));if(l){const u=this.satisfies(n[l]);if(u!==void 0)return u}}if(o>0){const a=Object.keys(i),c=Je.find(a,l=>this.isBrowser(l,!0));if(c!==void 0)return this.compareVersion(i[c])}}isBrowser(e,n=!1){const r=this.getBrowserName().toLowerCase();let i=e.toLowerCase();const o=Je.getBrowserTypeByAlias(i);return n&&o&&(i=o.toLowerCase()),i===r}compareVersion(e){let n=[0],r=e,i=!1;const o=this.getBrowserVersion();if(typeof o=="string")return e[0]===">"||e[0]==="<"?(r=e.substr(1),e[1]==="="?(i=!0,r=e.substr(2)):n=[],e[0]===">"?n.push(1):n.push(-1)):e[0]==="="?r=e.substr(1):e[0]==="~"&&(i=!0,r=e.substr(1)),n.indexOf(Je.compareVersions(o,r,i))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,n=!1){return this.isBrowser(e,n)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class $p{static getParser(e,n=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new rk(e,n)}static parse(e){return new rk(e).getResult()}static get BROWSER_MAP(){return J9}static get ENGINE_MAP(){return hl}static get OS_MAP(){return Pi}static get PLATFORMS_MAP(){return wr}}var zu=Mc.getLogger("customauth");const Z9={[ut.APPLE]:"apple",[ut.GITHUB]:"github",[ut.LINKEDIN]:"linkedin",[ut.TWITTER]:"twitter",[ut.LINE]:"line",[ut.EMAIL_PASSWORDLESS]:"email",[ut.SMS_PASSWORDLESS]:"sms"},X9=t=>t.href.endsWith("/")?t.href:`${t.href}/`,ZS=()=>Math.random().toString(36).slice(2),nq={webWorkerSupport:!1};function E3(t,e){return e?t:t.toLowerCase()}const o0=(t,e,n,r=!0)=>{const{name:i,sub:o}=t;if(n)return E3(t[n],r);switch(e){case ut.EMAIL_PASSWORDLESS:case ut.SMS_PASSWORDLESS:case ut.AUTHENTICATOR:return E3(i,r);case ut.GITHUB:case ut.TWITTER:case ut.APPLE:case ut.LINKEDIN:case ut.LINE:case ut.WECHAT:case ut.KAKAO:case ut.FARCASTER:case ut.CUSTOM:return E3(o,r);default:throw new Error("Invalid login type to get auth connection id")}};function r_(t){let e;try{e=window[t];const n="__storage_test__";return e.setItem(n,n),e.removeItem(n),!0}catch(n){const r=n;return r&&(r.code===22||r.code===1014||r.name==="QuotaExceededError"||r.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&e.length!==0}}function Q9(){const t=window.screenLeft!==void 0?window.screenLeft:window.screenX,e=window.screenTop!==void 0?window.screenTop:window.screenY,n=1200,r=700,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,o=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,s=1,a=Math.abs((i-n)/2/s+t),c=Math.abs((o-r)/2/s+e);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${r/s},width=${n/s},top=${c},left=${a}`}function Fp(t){const{baseURL:e,query:n,hash:r}=t,i=new URL(e);if(n&&Object.keys(n).forEach(o=>{i.searchParams.append(o,n[o])}),r){const o=new URL(Fp({baseURL:e,query:r})).searchParams.toString();i.hash=o}return i.toString()}const XS=t=>{try{return new URL(decodeURIComponent(t))}catch(e){throw new Error(`${(e==null?void 0:e.message)||""}, Note: Your jwt domain: (i.e ${t}) must have http:// or https:// prefix`)}},rq=t=>JSON.parse(Jl.decode(t));function iq(){const e=$p.getParser(navigator.userAgent).getPlatform();return e.type===$p.PLATFORMS_MAP.tablet||e.type===$p.PLATFORMS_MAP.mobile}function QS(t){return(t===ut.FACEBOOK||t===ut.LINE)&&iq()?1e3*30:1e3*1}function eC(t){const[e,n]=t.split(".");return{header:JSON.parse(Jl.decode(e)),payload:JSON.parse(Jl.decode(n))}}var Om={exports:{}},ik;function ng(){if(ik)return Om.exports;ik=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function($,H,K){return Function.prototype.apply.call($,H,K)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function($){return Object.getOwnPropertyNames($).concat(Object.getOwnPropertySymbols($))}:n=function($){return Object.getOwnPropertyNames($)};function r(z){console&&console.warn&&console.warn(z)}var i=Number.isNaN||function($){return $!==$};function o(){o.init.call(this)}Om.exports=o,Om.exports.once=S,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(z){if(typeof z!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof z)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(z){if(typeof z!="number"||z<0||i(z))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+z+".");s=z}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function($){if(typeof $!="number"||$<0||i($))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+$+".");return this._maxListeners=$,this};function c(z){return z._maxListeners===void 0?o.defaultMaxListeners:z._maxListeners}o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function($){for(var H=[],K=1;K<arguments.length;K++)H.push(arguments[K]);var j=$==="error",B=this._events;if(B!==void 0)j=j&&B.error===void 0;else if(!j)return!1;if(j){var D;if(H.length>0&&(D=H[0]),D instanceof Error)throw D;var P=new Error("Unhandled error."+(D?" ("+D.message+")":""));throw P.context=D,P}var E=B[$];if(E===void 0)return!1;if(typeof E=="function")e(E,this,H);else for(var b=E.length,g=w(E,b),K=0;K<b;++K)e(g[K],this,H);return!0};function l(z,$,H,K){var j,B,D;if(a(H),B=z._events,B===void 0?(B=z._events=Object.create(null),z._eventsCount=0):(B.newListener!==void 0&&(z.emit("newListener",$,H.listener?H.listener:H),B=z._events),D=B[$]),D===void 0)D=B[$]=H,++z._eventsCount;else if(typeof D=="function"?D=B[$]=K?[H,D]:[D,H]:K?D.unshift(H):D.push(H),j=c(z),j>0&&D.length>j&&!D.warned){D.warned=!0;var P=new Error("Possible EventEmitter memory leak detected. "+D.length+" "+String($)+" listeners added. Use emitter.setMaxListeners() to increase limit");P.name="MaxListenersExceededWarning",P.emitter=z,P.type=$,P.count=D.length,r(P)}return z}o.prototype.addListener=function($,H){return l(this,$,H,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function($,H){return l(this,$,H,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(z,$,H){var K={fired:!1,wrapFn:void 0,target:z,type:$,listener:H},j=u.bind(K);return j.listener=H,K.wrapFn=j,j}o.prototype.once=function($,H){return a(H),this.on($,f(this,$,H)),this},o.prototype.prependOnceListener=function($,H){return a(H),this.prependListener($,f(this,$,H)),this},o.prototype.removeListener=function($,H){var K,j,B,D,P;if(a(H),j=this._events,j===void 0)return this;if(K=j[$],K===void 0)return this;if(K===H||K.listener===H)--this._eventsCount===0?this._events=Object.create(null):(delete j[$],j.removeListener&&this.emit("removeListener",$,K.listener||H));else if(typeof K!="function"){for(B=-1,D=K.length-1;D>=0;D--)if(K[D]===H||K[D].listener===H){P=K[D].listener,B=D;break}if(B<0)return this;B===0?K.shift():y(K,B),K.length===1&&(j[$]=K[0]),j.removeListener!==void 0&&this.emit("removeListener",$,P||H)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function($){var H,K,j;if(K=this._events,K===void 0)return this;if(K.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):K[$]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete K[$]),this;if(arguments.length===0){var B=Object.keys(K),D;for(j=0;j<B.length;++j)D=B[j],D!=="removeListener"&&this.removeAllListeners(D);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(H=K[$],typeof H=="function")this.removeListener($,H);else if(H!==void 0)for(j=H.length-1;j>=0;j--)this.removeListener($,H[j]);return this};function p(z,$,H){var K=z._events;if(K===void 0)return[];var j=K[$];return j===void 0?[]:typeof j=="function"?H?[j.listener||j]:[j]:H?I(j):w(j,j.length)}o.prototype.listeners=function($){return p(this,$,!0)},o.prototype.rawListeners=function($){return p(this,$,!1)},o.listenerCount=function(z,$){return typeof z.listenerCount=="function"?z.listenerCount($):m.call(z,$)},o.prototype.listenerCount=m;function m(z){var $=this._events;if($!==void 0){var H=$[z];if(typeof H=="function")return 1;if(H!==void 0)return H.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function w(z,$){for(var H=new Array($),K=0;K<$;++K)H[K]=z[K];return H}function y(z,$){for(;$+1<z.length;$++)z[$]=z[$+1];z.pop()}function I(z){for(var $=new Array(z.length),H=0;H<$.length;++H)$[H]=z[H].listener||z[H];return $}function S(z,$){return new Promise(function(H,K){function j(D){z.removeListener($,B),K(D)}function B(){typeof z.removeListener=="function"&&z.removeListener("error",j),H([].slice.call(arguments))}N(z,$,B,{once:!0}),$!=="error"&&T(z,j,{once:!0})})}function T(z,$,H){typeof z.on=="function"&&N(z,"error",$,H)}function N(z,$,H,K){if(typeof z.on=="function")K.once?z.once($,H):z.on($,H);else if(typeof z.addEventListener=="function")z.addEventListener($,function j(B){K.once&&z.removeEventListener($,j),H(B)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof z)}return Om.exports}var Pw=ng();const Lfe=si(Pw);let Lw=class extends Pw.EventEmitter{constructor({url:e,target:n,features:r,timeout:i=3e4}){super(),ke(this,"url",void 0),ke(this,"target",void 0),ke(this,"features",void 0),ke(this,"window",void 0),ke(this,"windowTimer",void 0),ke(this,"iClosedWindow",void 0),ke(this,"timeout",void 0),this.url=e,this.target=n||"_blank",this.features=r||Q9(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=i,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var e;if(this.window=window.open(this.url.href,this.target,this.features),!this.window)throw new Error("popup window is blocked");return(e=this.window)!==null&&e!==void 0&&e.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}};const oq=["access_token","id_token"];class Rc{constructor(e){ke(this,"nonce",ZS()),ke(this,"finalURL",void 0),ke(this,"params",void 0),this.params=e}get state(){return encodeURIComponent(Jl.encode(JSON.stringify(_e(_e({},this.params.customState||{}),{},{instanceId:this.nonce,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,redirectToOpener:this.params.redirectToOpener||!1}))))}async handleLoginWindow(e){const n=new Lw({url:this.finalURL,features:e.popupFeatures,timeout:QS(this.params.authConnection)});if(this.params.uxMode===Si.REDIRECT)n.redirect(e.locationReplaceOnRedirect);else{const{RedundantAdaptiveBroadcastChannel:r}=await In(async()=>{const{RedundantAdaptiveBroadcastChannel:i}=await import("./index-XhdhcBq9.js");return{RedundantAdaptiveBroadcastChannel:i}},[]);return new Promise((i,o)=>{let s;const a=async c=>{try{const{error:l,data:u}=c,f=u||{},{instanceParams:p,hashParams:{access_token:m,id_token:w}}=f,y=Cw(f.hashParams,oq);if(l){zu.error(c),o(new Error(`Error: ${l}. Info: ${JSON.stringify(c.data||{})}`));return}c.data&&p.authConnectionId===this.params.authConnectionId&&(zu.info(c.data),!this.params.redirectToOpener&&s&&await s.postMessage({success:!0}),i(_e(_e({accessToken:m,idToken:w||""},y),{},{state:p})))}catch(l){zu.error(l),o(l)}};if(!this.params.redirectToOpener)s=new r(`redirect_channel_${this.nonce}`,nq),s.addEventListener("message",async c=>{await a(c),s.close(),n.close()});else{const c=async l=>{if(!l.data)return;const u=l.data;u.channel===`redirect_channel_${this.nonce}`&&(window.removeEventListener("message",c),a(u),n.close())};window.addEventListener("message",c)}try{n.open()}catch(c){zu.error(c),o(c);return}n.once("close",()=>{s&&s.close(),o(new Error("user closed popup"))})})}return null}}class sq extends Rc{constructor(e){super(e),ke(this,"RESPONSE_TYPE","token"),ke(this,"SCOPE","identify email"),this.setFinalUrl()}setFinalUrl(){const e=new URL("https://discord.com/api/oauth2/authorize"),n=JSON.parse(JSON.stringify(this.params.jwtParams||{})),r=Xn({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE},n);Object.keys(r).forEach(i=>{const o=i;r[o]&&e.searchParams.append(o,r[o])}),this.finalURL=e}async getUserInfo(e){const{accessToken:n}=e,r=await Oa("https://discord.com/api/users/@me",{headers:{Authorization:`Bearer ${n}`}}),{id:i,avatar:o,email:s="",username:a="",discriminator:c=""}=r;return{profileImage:o===null?`https://cdn.discordapp.com/embed/avatars/${Number(c)%5}.png`:`https://cdn.discordapp.com/avatars/${i}/${o}.png?size=2048`,name:`${a}#${c}`,email:s,userId:i,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}class aq extends Rc{constructor(e){super(e),ke(this,"RESPONSE_TYPE","token"),ke(this,"SCOPE","public_profile email"),this.setFinalUrl()}setFinalUrl(){const e=new URL("https://www.facebook.com/v20.0/dialog/oauth"),n=JSON.parse(JSON.stringify(this.params.jwtParams||{})),r=Xn({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE},n);Object.keys(r).forEach(i=>{const o=i;r[o]&&e.searchParams.append(o,r[o])}),this.finalURL=e}async getUserInfo(e){const{accessToken:n}=e,r=await Oa("https://graph.facebook.com/me?fields=name,email,picture.type(large)",{headers:{Authorization:`Bearer ${n}`}}),{name:i="",id:o,picture:s,email:a=""}=r;return{email:a,name:i,profileImage:s.data.url||"",authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,userId:o}}}class cq extends Rc{constructor(e){super(e),ke(this,"RESPONSE_TYPE","token id_token"),ke(this,"SCOPE","profile email openid"),ke(this,"PROMPT","select_account"),this.setFinalUrl()}setFinalUrl(){const e=new URL("https://accounts.google.com/o/oauth2/v2/auth"),n=JSON.parse(JSON.stringify(this.params.jwtParams||{})),r=Xn({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,nonce:this.nonce},n);Object.keys(r).forEach(i=>{const o=i;r[o]&&e.searchParams.append(o,r[o])}),this.finalURL=e}async getUserInfo(e){const{accessToken:n}=e,r=await Oa("https://www.googleapis.com/userinfo/v2/me",{headers:{Authorization:`Bearer ${n}`}}),{picture:i="",email:o="",name:s=""}=r;return{email:o,name:s,profileImage:i,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,userId:o.toLowerCase()}}}class lq extends Rc{constructor(e){super(e),ke(this,"SCOPE","openid profile email"),ke(this,"RESPONSE_TYPE","token id_token"),ke(this,"PROMPT","login"),this.setFinalUrl()}setFinalUrl(){const{domain:e}=this.params.jwtParams,n=XS(e);n.pathname+=n.pathname.endsWith("/")?"authorize":"/authorize";const r=JSON.parse(JSON.stringify(this.params.jwtParams));delete r.domain;const i=Xn({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,connection:Z9[this.params.authConnection],nonce:this.nonce},r);Object.keys(i).forEach(o=>{const s=o;i[s]&&n.searchParams.append(s,i[s])}),this.finalURL=n}async getUserInfo(e){const{idToken:n,accessToken:r}=e,{domain:i,userIdField:o,isUserIdCaseSensitive:s,user_info_route:a="userinfo"}=this.params.jwtParams;if(r)try{const c=new URL(i),l=await Oa(`${X9(c)}${a}`,{headers:{Authorization:`Bearer ${r}`}}),{picture:u,name:f,email:p}=l;return{email:p,name:f,profileImage:u,userId:o0(l,this.params.authConnection,o,s),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}catch(c){Mc.warn(c,"Unable to get userinfo from endpoint")}if(n){const c=eC(n).payload,{name:l,email:u,picture:f}=c;return{profileImage:f,name:l,email:u,userId:o0(c,this.params.authConnection,o,s),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}throw new Error("Access/id token not available")}}class uq extends Rc{constructor(e){super(e),this.setFinalUrl()}setFinalUrl(){const e=JSON.parse(JSON.stringify(this.params.jwtParams));delete e.domain;const n=Xn({state:this.state,client_id:this.params.clientId,nonce:this.nonce},e);this.finalURL=new URL(Fp({baseURL:this.params.redirect_uri,query:null,hash:n}))}async getUserInfo(e){const{idToken:n,accessToken:r}=e,{domain:i,userIdField:o,isUserIdCaseSensitive:s,user_info_route:a="userinfo"}=this.params.jwtParams;if(r)try{const c=new URL(i),l=await Oa(`${X9(c)}${a}`,{headers:{Authorization:`Bearer ${r}`}}),{picture:u,name:f,email:p}=l;return{email:p,name:f,profileImage:u,userId:o0(l,this.params.authConnection,o,s),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}catch(c){Mc.warn(c,"Unable to get userinfo from endpoint")}if(n){const c=eC(n).payload,{name:l,email:u,picture:f}=c;return{profileImage:f,name:l,email:u,userId:o0(c,this.params.authConnection,o,s),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}throw new Error("Access/id token not available")}handleLoginWindow(e){const{id_token:n,access_token:r}=this.params.jwtParams,i=new Lw({url:this.finalURL,features:e.popupFeatures});if(this.params.uxMode===Si.REDIRECT)i.redirect(e.locationReplaceOnRedirect);else return Promise.resolve({state:{},idToken:n,accessToken:r});return null}}const i_=t=>t.padStart(64,"0").slice(0,64);class dq{constructor(){ke(this,"sessionId",void 0)}checkSessionParams(){if(!this.sessionId)throw new Error("Session id is required");this.sessionId=i_(this.sessionId)}request({method:e="GET",url:n,data:r={},headers:i={}}){const o={headers:i};switch(e){case"GET":return Oa(n,o);case"POST":return hd(n,r,o);case"PUT":return Wz(n,r,o);case"PATCH":return Kz(n,r,o)}throw new Error("Invalid method type")}}const eN="https://api.web3auth.io/session-service",fq="https://session.web3auth.io",wy=new G9.ec("secp256k1"),Po=globalThis.crypto||globalThis.msCrypto||{},Cl=Po.subtle||Po.webkitSubtle,hq=Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),pq=Buffer.alloc(32,0);function Mo(t,e){if(!t)throw new Error(e||"Assertion failed")}function gq(t){return Buffer.isBuffer(t)&&t.length===32}function rg(t){return gq(t)?t.compare(pq)>0&&t.compare(hq)<0:!1}function mq(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function Up(t){if(typeof Po.getRandomValues>"u")return Buffer.from(Po.randomBytes(t));const e=new Uint8Array(t);return Po.getRandomValues(e),Buffer.from(e)}async function tN(t){if(!Po.createHash){const r=await Cl.digest("SHA-512",t);return new Uint8Array(r)}const n=Po.createHash("sha512").update(t).digest();return new Uint8Array(n)}function nN(t){return async function(e,n,r){if(Cl&&Cl[t]&&Cl.importKey){const i={name:"AES-CBC"},o=await Cl.importKey("raw",n,i,!1,[t]),s={name:"AES-CBC",iv:e},a=await Cl[t](s,o,r);return Buffer.from(new Uint8Array(a))}else if(t==="encrypt"&&Po.createCipheriv){const i=Po.createCipheriv("aes-256-cbc",n,e),o=i.update(r),s=i.final();return Buffer.concat([o,s])}else if(t==="decrypt"&&Po.createDecipheriv){const i=Po.createDecipheriv("aes-256-cbc",n,e),o=i.update(r),s=i.final();return Buffer.concat([o,s])}throw new Error(`Unsupported operation: ${t}`)}}const vq=nN("encrypt"),yq=nN("decrypt");async function rN(t,e){if(!Po.createHmac){const i={name:"HMAC",hash:{name:"SHA-256"}},o=await Cl.importKey("raw",new Uint8Array(t),i,!1,["sign","verify"]),s=await Cl.sign("HMAC",o,e);return Buffer.from(new Uint8Array(s))}const n=Po.createHmac("sha256",Buffer.from(t));return n.update(e),n.digest()}async function wq(t,e,n){const r=await rN(t,e);return mq(r,n)}const bq=function(){let t=Up(32);for(;!rg(t);)t=Up(32);return t},jl=function(t){return Mo(t.length===32,"Bad private key"),Mo(rg(t),"Bad private key"),Buffer.from(wy.keyFromPrivate(t).getPublic("array"))},Uv=async function(t,e){return Mo(t.length===32,"Bad private key"),Mo(rg(t),"Bad private key"),Mo(e.length>0,"Message should not be empty"),Mo(e.length<=32,"Message is too long"),Buffer.from(wy.sign(e,t,{canonical:!0}).toDER())},iN=async function(t,e,n){Mo(Buffer.isBuffer(t),"Bad private key"),Mo(Buffer.isBuffer(e),"Bad public key"),Mo(t.length===32,"Bad private key"),Mo(rg(t),"Bad private key"),Mo(e.length===65||e.length===33,"Bad public key"),e.length===65&&Mo(e[0]===4,"Bad public key"),e.length===33&&Mo(e[0]===2||e[0]===3,"Bad public key");const r=wy.keyFromPrivate(t),i=wy.keyFromPublic(e),o=r.derive(i.getPublic());return n?Buffer.from(o.toString(16,64),"hex"):Buffer.from(o.toArray())},Eq=async function(t,e,n){n=n||{};let r=n.ephemPrivateKey||Up(32);for(;!rg(r);)r=n.ephemPrivateKey||Up(32);const i=jl(r),o=await iN(r,t,n.padding),s=await tN(o),a=n.iv||Up(16),c=s.slice(0,32),l=s.slice(32),f=await vq(a,Buffer.from(c),e),p=Buffer.concat([a,i,f]),m=await rN(Buffer.from(l),p);return{iv:a,ephemPublicKey:i,ciphertext:f,mac:m}},oN=async function(t,e,n){const r=await iN(t,e.ephemPublicKey,n),i=await tN(r),o=i.slice(0,32),s=i.slice(32),a=Buffer.concat([e.iv,e.ephemPublicKey,e.ciphertext]),c=await wq(Buffer.from(s),a,e.mac);if(!c&&!n)return oN(t,e,!0);if(!c&&n===!0)throw new Error("bad MAC after trying padded");const l=await yq(e.iv,Buffer.from(o),e.ciphertext);return Buffer.from(new Uint8Array(l))};var Tm={},x3,ok;function xq(){if(ok)return x3;ok=1;var t,e,n={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},r;function i(m){throw{name:"SyntaxError",message:m,at:t,text:r}}function o(m){return m&&m!==e&&i("Expected '"+m+"' instead of '"+e+"'"),e=r.charAt(t),t+=1,e}function s(){var m,w="";for(e==="-"&&(w="-",o("-"));e>="0"&&e<="9";)w+=e,o();if(e===".")for(w+=".";o()&&e>="0"&&e<="9";)w+=e;if(e==="e"||e==="E")for(w+=e,o(),(e==="-"||e==="+")&&(w+=e,o());e>="0"&&e<="9";)w+=e,o();return m=Number(w),isFinite(m)||i("Bad number"),m}function a(){var m,w,y="",I;if(e==='"')for(;o();){if(e==='"')return o(),y;if(e==="\\")if(o(),e==="u"){for(I=0,w=0;w<4&&(m=parseInt(o(),16),!!isFinite(m));w+=1)I=I*16+m;y+=String.fromCharCode(I)}else if(typeof n[e]=="string")y+=n[e];else break;else y+=e}i("Bad string")}function c(){for(;e&&e<=" ";)o()}function l(){switch(e){case"t":return o("t"),o("r"),o("u"),o("e"),!0;case"f":return o("f"),o("a"),o("l"),o("s"),o("e"),!1;case"n":return o("n"),o("u"),o("l"),o("l"),null;default:i("Unexpected '"+e+"'")}}function u(){var m=[];if(e==="["){if(o("["),c(),e==="]")return o("]"),m;for(;e;){if(m.push(p()),c(),e==="]")return o("]"),m;o(","),c()}}i("Bad array")}function f(){var m,w={};if(e==="{"){if(o("{"),c(),e==="}")return o("}"),w;for(;e;){if(m=a(),c(),o(":"),Object.prototype.hasOwnProperty.call(w,m)&&i('Duplicate key "'+m+'"'),w[m]=p(),c(),e==="}")return o("}"),w;o(","),c()}}i("Bad object")}function p(){switch(c(),e){case"{":return f();case"[":return u();case'"':return a();case"-":return s();default:return e>="0"&&e<="9"?s():l()}}return x3=function(m,w){var y;return r=m,t=0,e=" ",y=p(),c(),e&&i("Syntax error"),typeof w=="function"?function I(S,T){var N,z,$=S[T];if($&&typeof $=="object")for(N in p)Object.prototype.hasOwnProperty.call($,N)&&(z=I($,N),typeof z>"u"?delete $[N]:$[N]=z);return w.call(S,T,$)}({"":y},""):y},x3}var _3,sk;function _q(){if(sk)return _3;sk=1;var t=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,n,r={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},i;function o(a){return t.lastIndex=0,t.test(a)?'"'+a.replace(t,function(c){var l=r[c];return typeof l=="string"?l:"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function s(a,c){var l,u,f,p,m=e,w,y=c[a];switch(y&&typeof y=="object"&&typeof y.toJSON=="function"&&(y=y.toJSON(a)),typeof i=="function"&&(y=i.call(c,a,y)),typeof y){case"string":return o(y);case"number":return isFinite(y)?String(y):"null";case"boolean":case"null":return String(y);case"object":if(!y)return"null";if(e+=n,w=[],Object.prototype.toString.apply(y)==="[object Array]"){for(p=y.length,l=0;l<p;l+=1)w[l]=s(l,y)||"null";return f=w.length===0?"[]":e?`[
`+e+w.join(`,
`+e)+`
`+m+"]":"["+w.join(",")+"]",e=m,f}if(i&&typeof i=="object")for(p=i.length,l=0;l<p;l+=1)u=i[l],typeof u=="string"&&(f=s(u,y),f&&w.push(o(u)+(e?": ":":")+f));else for(u in y)Object.prototype.hasOwnProperty.call(y,u)&&(f=s(u,y),f&&w.push(o(u)+(e?": ":":")+f));return f=w.length===0?"{}":e?`{
`+e+w.join(`,
`+e)+`
`+m+"}":"{"+w.join(",")+"}",e=m,f}}return _3=function(a,c,l){var u;if(e="",n="",typeof l=="number")for(u=0;u<l;u+=1)n+=" ";else typeof l=="string"&&(n=l);if(i=c,c&&typeof c!="function"&&(typeof c!="object"||typeof c.length!="number"))throw new Error("JSON.stringify");return s("",{"":a})},_3}var ak;function Sq(){return ak||(ak=1,Tm.parse=xq(),Tm.stringify=_q()),Tm}var S3,ck;function Cq(){if(ck)return S3;ck=1;var t={}.toString;return S3=Array.isArray||function(e){return t.call(e)=="[object Array]"},S3}var C3,lk;function Aq(){if(lk)return C3;lk=1;var t=(typeof JSON<"u"?JSON:Sq()).stringify,e=Cq(),n=bz(),r=yz(),i=hz(),o=i("Array.prototype.join"),s=i("Array.prototype.indexOf"),a=i("Array.prototype.splice"),c=i("Array.prototype.sort"),l=function(p,m){for(var w="",y=0;y<p;y+=1)w+=m;return w},u=function(f,p,m){return m};return C3=function(p){var m=arguments.length>1?arguments[1]:void 0,w=m&&m.space||"";typeof w=="number"&&(w=l(w," "));var y=!!m&&typeof m.cycles=="boolean"&&m.cycles,I=m&&m.replacer?r(m.replacer):u;if(m&&typeof m.collapseEmpty<"u"&&typeof m.collapseEmpty!="boolean")throw new TypeError("`collapseEmpty` must be a boolean, if provided");var S=!!m&&m.collapseEmpty,T=typeof m=="function"?m:m&&m.cmp,N=T&&function($){var H=T.length>2&&function(j){return $[j]};return function(K,j){return T({key:K,value:$[K]},{key:j,value:$[j]},H?{__proto__:null,get:H}:void 0)}},z=[];return function $(H,K,j,B){var D=w?`
`+l(B,w):"",P=w?": ":":";if(j&&j.toJSON&&typeof j.toJSON=="function"&&(j=j.toJSON()),j=I(H,K,j),j!==void 0){if(typeof j!="object"||j===null)return t(j);var E=function(O,x){return S&&O.length===0?x:(x==="[]"?"[":"{")+o(O,",")+D+(x==="[]"?"]":"}")};if(e(j)){for(var A=[],b=0;b<j.length;b++){var g=$(j,b,j[b],B+1)||t(null);A[A.length]=D+w+g}return E(A,"[]")}if(s(z,j)!==-1){if(y)return t("__cycle__");throw new TypeError("Converting circular structure to JSON")}else z[z.length]=j;for(var v=c(n(j),N&&N(j)),A=[],b=0;b<v.length;b++){var K=v[b],L=$(j,K,j[K],B+1);if(L){var C=t(K)+P+L;A[A.length]=D+w+C}}return a(z,s(z,j),1),E(A,"{}")}}({"":p},"",p,0)},C3}var Iq=Aq();const sN=si(Iq),kq=BigInt(0),up=BigInt(1),Mq=BigInt(2),Rq=BigInt(7),Oq=BigInt(256),Tq=BigInt(113),aN=[],cN=[],lN=[];for(let t=0,e=up,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],aN.push(2*(5*r+n)),cN.push((t+1)*(t+2)/2%64);let i=kq;for(let o=0;o<7;o++)e=(e<<up^(e>>Rq)*Tq)%Oq,e&Mq&&(i^=up<<(up<<BigInt(o))-up);lN.push(i)}const uN=R9(lN,!0),Nq=uN[0],Pq=uN[1],uk=(t,e,n)=>n>32?AU(t,e,n):SU(t,e,n),dk=(t,e,n)=>n>32?IU(t,e,n):CU(t,e,n);function Lq(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,c=(s+2)%10,l=n[c],u=n[c+1],f=uk(l,u,1)^n[a],p=dk(l,u,1)^n[a+1];for(let m=0;m<50;m+=10)t[s+m]^=f,t[s+m+1]^=p}let i=t[2],o=t[3];for(let s=0;s<24;s++){const a=cN[s],c=uk(i,o,a),l=dk(i,o,a),u=aN[s];i=t[u],o=t[u+1],t[u]=c,t[u+1]=l}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Nq[r],t[1]^=Pq[r]}Yl(n)}class tC extends qS{constructor(e,n,r,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,r0(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=pU(this.state)}clone(){return this._cloneInto()}keccak(){C5(this.state32),Lq(this.state32,this.rounds),C5(this.state32),this.posOut=0,this.pos=0}update(e){oh(this),e=Aw(e),Ca(e);const{blockLen:n,state:r}=this,i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){oh(this,!1),Ca(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return r0(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(I9(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Yl(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new tC(n,r,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Bq=(t,e,n)=>HS(()=>new tC(e,t,n)),o_=Bq(1,136,256/8),Dq=Ca;function jq(t){return e=>(Dq(e),t(e))}const $q=(()=>{const t=jq(o_);return t.create=o_.create,t})();function $f(t){return Buffer.from($q(t))}const Fq=new G9.ec("secp256k1");function Uq(t){return{iv:Buffer.from(t.iv,"hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey,"hex"),ciphertext:Buffer.from(t.ciphertext,"hex"),mac:Buffer.from(t.mac,"hex")}}function zq(t){return{iv:Buffer.from(t.iv).toString("hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey).toString("hex"),ciphertext:Buffer.from(t.ciphertext).toString("hex"),mac:Buffer.from(t.mac).toString("hex")}}async function zv(t,e){const n=JSON.stringify(e),r=Buffer.from(n,"utf-8"),i=await Eq(jl(Buffer.from(t,"hex")),r),o=zq(i);return JSON.stringify(o)}async function dN(t,e){const n=JSON.parse(e),r=Uq(n),i=Fq.keyFromPrivate(t),s=(await oN(Buffer.from(i.getPrivate().toString("hex",64),"hex"),r)).toString("utf-8");return JSON.parse(s)}const qq=86400;class Rp extends dq{constructor({sessionServerBaseUrl:e,sessionNamespace:n,sessionTime:r,sessionId:i,allowedOrigin:o}={}){super(),ke(this,"sessionServerBaseUrl",eN),ke(this,"sessionNamespace",void 0),ke(this,"allowedOrigin",void 0),ke(this,"sessionTime",qq),ke(this,"sessionId",""),e&&(this.sessionServerBaseUrl=e),n&&(this.sessionNamespace=n),r&&(this.sessionTime=r),i&&(this.sessionId=i_(i)),o?this.allowedOrigin=o:this.allowedOrigin="*"}static generateRandomSessionKey(){return i_(bq().toString("hex"))}async createSession(e,n={}){super.checkSessionParams();const r=Buffer.from(this.sessionId,"hex"),i=jl(r).toString("hex"),o=await zv(this.sessionId,e),s=(await Uv(r,$f(Buffer.from(o,"utf8")))).toString("hex"),a={key:i,data:o,signature:s,namespace:this.sessionNamespace,timeout:this.sessionTime,allowedOrigin:this.allowedOrigin};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:a,headers:n}),this.sessionId}async authorizeSession({headers:e}={headers:{}}){super.checkSessionParams();const r={key:jl(Buffer.from(this.sessionId,"hex")).toString("hex"),namespace:this.sessionNamespace},i=await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/get`,data:r,headers:e});if(!i.message)throw new Error("Session Expired or Invalid public key");const o=await dN(this.sessionId,i.message);if(o.error)throw new Error("There was an error decrypting data.");return o}async updateSession(e,n={}){super.checkSessionParams();const r=Buffer.from(this.sessionId,"hex"),i=jl(r).toString("hex"),o=await zv(this.sessionId,e),s=(await Uv(r,$f(Buffer.from(o,"utf8")))).toString("hex"),a={key:i,data:o,signature:s,namespace:this.sessionNamespace,allowedOrigin:this.allowedOrigin};await super.request({method:"PUT",url:`${this.sessionServerBaseUrl}/v2/store/update`,data:a,headers:n})}async invalidateSession(e={}){super.checkSessionParams();const n=Buffer.from(this.sessionId,"hex"),r=jl(n).toString("hex"),i=await zv(this.sessionId,{}),o=(await Uv(n,$f(Buffer.from(i,"utf8")))).toString("hex"),s={key:r,data:i,signature:o,namespace:this.sessionNamespace,timeout:1};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:s,headers:e}),this.sessionId="",!0}}async function Hq(t,e){try{return await new Rp({sessionId:t,sessionServerBaseUrl:e,allowedOrigin:!0}).authorizeSession()}catch(n){throw Mc.error("fetch data from storage server error",n),new Error("Unable to retrieve data from storage server, invalid key or key expired.")}}class Kq extends Rc{constructor(e){super(e),this.setFinalUrl()}setFinalUrl(){const{passkeysHostUrl:e}=this.params.customState||{};if(!e)throw new Error("Invalid passkeys url.");const n=new URL(e),r=JSON.parse(JSON.stringify(this.params.jwtParams||{})),i=Xn({state:this.state,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri},r);Object.keys(i).forEach(o=>{const s=o;i[s]&&n.searchParams.append(s,i[s])}),this.finalURL=n}async getUserInfo(e,n){const{idToken:r,extraParams:i}=e,{sessionId:o}=JSON.parse(Jl.decode(i))||{};if(!o)throw new Error("sessionId not found");const{verifier_id:s,signature:a,clientDataJSON:c,authenticatorData:l,publicKey:u,challenge:f,rpOrigin:p,rpId:m,credId:w,transports:y,username:I}=await Hq(o,n);if(a!==r)throw new Error("idtoken should be equal to signature");return{email:"",name:"Passkeys Login",profileImage:"",authConnectionId:this.params.authConnectionId,userId:s,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,extraConnectionParams:{signature:a,clientDataJSON:c,authenticatorData:l,publicKey:u,challenge:f,rpOrigin:p,rpId:m,credId:w,transports:y,username:I}}}}const Wq=["event","origin","result"];class Vq extends Rc{constructor(e){super(e),ke(this,"RESPONSE_TYPE","token"),ke(this,"SCOPE","profile"),ke(this,"PROMPT","select_account"),this.setFinalUrl()}setFinalUrl(){const{domain:e}=this.params.jwtParams,n=XS(e||"https://oauth.telegram.org/auth"),r=JSON.parse(JSON.stringify(this.params.jwtParams||{}));r.origin=`${this.params.redirect_uri}?state=${this.state}&nonce=${this.nonce}`;const i=Xn({state:this.state,response_type:this.RESPONSE_TYPE,bot_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:`${this.params.redirect_uri}?state=${this.state}&nonce=${this.nonce}`,scope:this.SCOPE,nonce:this.nonce},r);Object.keys(i).forEach(o=>{const s=o;i[s]&&n.searchParams.append(s,i[s])}),this.finalURL=n}async getUserInfo(e){const{idToken:n}=e,r=rq(n),{photo_url:i="",first_name:o="",last_name:s="",id:a}=r;return{email:"",name:`${o} ${s}`,profileImage:i,authConnectionId:this.params.authConnectionId,userId:a.toString(),authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}async handleLoginWindow(e){const n=new Lw({url:this.finalURL,features:e.popupFeatures,timeout:QS(this.params.authConnection)});if(this.params.uxMode===Si.REDIRECT)n.redirect(e.locationReplaceOnRedirect);else return new Promise((r,i)=>{const o=async a=>{try{const c=JSON.parse(a)||{},{event:l,origin:u,result:f}=c,p=Cw(c,Wq),w=new URL(u).searchParams.get("state");l&&l==="auth_result"&&r(_e(_e({accessToken:""},p),{},{idToken:Jl.encode(JSON.stringify(f))||"",state:Jl.decode(w)}))}catch(c){zu.error(c),i(c)}},s=async a=>{if(!a.data)throw new Error("Invalid data received");if(this.finalURL.origin!==a.origin)throw new Error("Invalid origin received");const c=a.data;if(typeof c!="string")throw new Error("Invalid data type received");const{event:l}=JSON.parse(c)||{};l&&l!=="auth_result"&&zu.info("Invalid event received"),window.removeEventListener("message",s),o(c),n.close()};window.addEventListener("message",s);try{n.open()}catch(a){zu.error(a),i(a);return}n.once("close",()=>{i(new Error("user closed popup"))})});return null}}class Gq extends Rc{constructor(e){super(e),ke(this,"RESPONSE_TYPE","token"),ke(this,"SCOPE","user:read:email"),this.setFinalUrl()}setFinalUrl(){const e=new URL("https://id.twitch.tv/oauth2/authorize"),n=JSON.parse(JSON.stringify(this.params.jwtParams||{})),r=Xn({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,force_verify:"true"},n);Object.keys(r).forEach(i=>{const o=i;r[o]&&e.searchParams.append(o,r[o])}),this.finalURL=e}async getUserInfo(e){const{accessToken:n}=e,r=await Oa("https://api.twitch.tv/helix/users",{headers:{Authorization:`Bearer ${n}`,"Client-ID":this.params.clientId}}),[{profile_image_url:i="",display_name:o="",email:s="",id:a}]=r.data||[];return{profileImage:i,name:o,email:s,userId:a,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}const s_={code:"code"};class Yq extends Rc{constructor(e){super(e),ke(this,"SCOPE","openid profile email"),ke(this,"RESPONSE_TYPE","token id_token"),ke(this,"PROMPT","login"),this.setFinalUrl()}setFinalUrl(){const{domain:e}=this.params.jwtParams||{},n=XS(e||"https://passwordless.web3auth.io/v7");n.pathname+=n.pathname.endsWith("/")?"authorize":"/authorize";const r=JSON.parse(JSON.stringify(this.params.jwtParams||{}));delete r.domain,this.params.customState=_e(_e({},this.params.customState||{}),{},{client:this.params.web3AuthClientId});const i=Xn({state:this.state,client_id:this.params.clientId||this.params.web3AuthClientId,redirect_uri:this.params.redirect_uri,nonce:this.nonce,network:this.params.web3AuthNetwork,connection:Z9[this.params.authConnection],scope:this.SCOPE,response_type:this.RESPONSE_TYPE,prompt:this.PROMPT,flow_type:(r==null?void 0:r.flow_type)||s_.code},r);Object.keys(i).forEach(o=>{const s=o;i[s]&&n.searchParams.append(s,i[s])}),this.finalURL=n}async getUserInfo(e){const{idToken:n}=e,r=eC(n).payload,{name:i,email:o,picture:s}=r;return{profileImage:s,name:i,email:o,userId:i.toLowerCase(),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}const Jq=t=>{const{authConnectionId:e,authConnection:n,clientId:r,jwtParams:i}=t;if(!e||!n||!r)throw new Error("Invalid params. Missing authConnectionId, authConnection or clientId");const{domain:o,login_hint:s,id_token:a,access_token:c}=i||{};switch(n){case ut.GOOGLE:return new cq(t);case ut.TELEGRAM:return new Vq(t);case ut.FACEBOOK:return new aq(t);case ut.TWITCH:return new Gq(t);case ut.DISCORD:return new sq(t);case ut.EMAIL_PASSWORDLESS:case ut.SMS_PASSWORDLESS:if(!s)throw new Error("Invalid params. Missing login_hint for web3auth passwordless login");return new Yq(t);case ut.APPLE:case ut.GITHUB:case ut.LINKEDIN:case ut.TWITTER:case ut.LINE:case ut.CUSTOM:case ut.REDDIT:case ut.WECHAT:case ut.KAKAO:case ut.FARCASTER:case ut.AUTHENTICATOR:if(a||c)return new uq(t);if(!o)throw new Error("Invalid params for jwt login. Missing domain");return new lq(t);case ut.PASSKEYS:return new Kq(t);default:throw new Error("Unsupported login type")}},nC=async t=>{const e=t instanceof Error,n=typeof t=="string",r=t&&typeof t=="object"&&"status"in t&&"type"in t;let i;if(r){const o=t,s=o.headers.get("content-type");if(s.includes("application/json")){const a=await o.json();i=new Error((a==null?void 0:a.error)||(a==null?void 0:a.message)||JSON.stringify(a))}else s.includes("text/plain")?i=new Error(await o.text()):i=new Error(`${o.status} ${o.type.toString()} ${o.statusText}`)}else n?i=new Error(t):e?i=t:i=new Error("Unknown error");return i},Sc=Mc.getLogger("auth");Sc.setLevel("error");const Vn={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},Al={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"};Vn.MAINNET+"",Vn.TESTNET+"",Vn.CYAN+"",Vn.AQUA+"",Vn.CELESTE+"";Vn.AQUA+"",Al.SAPPHIRE_MAINNET,Vn.CELESTE+"",Al.SAPPHIRE_MAINNET,Vn.CYAN+"",Al.SAPPHIRE_MAINNET,Vn.MAINNET+"",Al.SAPPHIRE_MAINNET,Vn.TESTNET+"",Al.SAPPHIRE_DEVNET;Vn.MAINNET+"",Vn.TESTNET+"",Vn.CYAN+"",Vn.AQUA+"",Vn.CELESTE+"";Al.SAPPHIRE_MAINNET+"",Al.SAPPHIRE_DEVNET+"",Vn.MAINNET+"",Vn.TESTNET+"",Vn.CYAN+"",Vn.AQUA+"",Vn.CELESTE+"";Vn.MAINNET+"",Vn.TESTNET+"",Vn.CYAN+"",Vn.AQUA+"",Vn.CELESTE+"";const fN="https://api.web3auth.io/session-service",hN="https://session.web3auth.io",Zq=Vn,Xq=Al,cd=_e(_e({},Xq),Zq),Qq={OTHER:"other"},lf={LOGIN:"login",ENABLE_MFA:"enable_mfa",MANAGE_MFA:"manage_mfa",ADD_AUTHENTICATOR_FACTOR:"add_authenticator_factor",ADD_PASSKEY_FACTOR:"add_passkey_factor"},ao={PRODUCTION:"production",DEVELOPMENT:"development",STAGING:"staging",TESTING:"testing"},oa={DEFAULT:"default",IFRAME:"iframe"},tl={SETUP_COMPLETE:"setup_complete",INIT_DAPP:"init_dapp",LOGIN_INITIATED:"login_initiated",LOGIN_CANCELLED:"login_cancelled",LOGIN_FAILED:"login_failed",LOGIN_SUCCESS:"login_success",DISPLAY_IFRAME:"display_iframe",HIDE_IFRAME:"hide_iframe"},fk="auth-iframe",eH="http://localhost:3000",tH="https://staging-auth.web3auth.io",nH="https://develop-auth.web3auth.io",rH="https://auth.web3auth.io",iH="http://localhost:5173",oH="https://staging-account.web3auth.io",sH="https://develop-account.web3auth.io",aH="https://account.web3auth.io",cH=1e3*10,Zo={en:"en",ja:"ja",ko:"ko",de:"de",zh:"zh",es:"es",fr:"fr",pt:"pt",nl:"nl",tr:"tr"},lH={en:"english",ja:"japanese",ko:"korean",de:"german",zh:"mandarin",es:"spanish",fr:"french",pt:"portuguese",nl:"dutch",tr:"turkish"},a_={light:"light",dark:"dark"},pN=Jl;function by(t){return pN.decode(t)}function Nm(t){return pN.encode(JSON.stringify(t))}const uH=t=>{const e=window.document.createElement("template"),n=t.trim();return e.innerHTML=n,e.content.firstChild};function dH(t){try{return structuredClone(t)}catch{return JSON.parse(JSON.stringify(t))}}const Pm=new Map;function fH(t){return t===a_.light?"light":t===a_.dark||window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}class hH{constructor({sdkUrl:e,whiteLabel:n}){ke(this,"sdkUrl",void 0),ke(this,"whiteLabel",void 0),ke(this,"initialized",!1),ke(this,"loginCallbackSuccess",null),ke(this,"loginCallbackFailed",null),ke(this,"embedNonce",ZS()),this.sdkUrl=e,this.whiteLabel=n}get targetOrigin(){return new URL(this.sdkUrl).origin}getAuthServiceIframe(){return Pm.get(this.embedNonce)}registerAuthServiceIframe(e){Pm.set(this.embedNonce,e)}cleanup(){const e=Pm.get(this.embedNonce);e&&e.parentNode&&(e.parentNode.removeChild(e),Pm.delete(this.embedNonce))}async init({network:e,clientId:n}){if(typeof window>"u"||typeof document>"u")throw new Error("window or document is not available");if(this.initialized)throw new Error("AuthProvider already initialized");const r=new URL(this.sdkUrl);r.pathname.endsWith("/")?r.pathname+="frame":r.pathname+="/frame";const i=new URLSearchParams;i.append("origin",window.location.origin),i.append("nonce",this.embedNonce),r.hash=i.toString();const o=fH(this.whiteLabel.mode||a_.light),s=uH(`<iframe
        id="${fk}-${this.embedNonce}"
        class="${fk}-${this.embedNonce}"
        sandbox="allow-popups allow-scripts allow-same-origin allow-forms allow-modals allow-downloads"
        src="${r.href}"
        style="display: none; position: fixed; top: 0; right: 0; width: 100%; z-index: 10000000;
        height: 100%; border: none; border-radius: 0; color-scheme: ${o};"
        allow="clipboard-write"
      ></iframe>`);return this.registerAuthServiceIframe(s),new Promise((a,c)=>{try{window.document.body.appendChild(s);const l=u=>{var f,p,m;if(u.origin!==this.targetOrigin)return;const{data:w}=u,{type:y,nonce:I}=w;if(I!==this.embedNonce)return;const S=w.data;switch(y){case tl.SETUP_COMPLETE:(f=this.getAuthServiceIframe())===null||f===void 0||(f=f.contentWindow)===null||f===void 0||f.postMessage({type:tl.INIT_DAPP,data:{network:e,clientId:n}},this.targetOrigin),this.initialized=!0,a();break;case tl.LOGIN_FAILED:(p=this.loginCallbackFailed)===null||p===void 0||p.call(this,(S==null?void 0:S.error)||"Login failed, reason: unknown");break;case tl.DISPLAY_IFRAME:this.getAuthServiceIframe().style.display="block";break;case tl.HIDE_IFRAME:this.getAuthServiceIframe().style.display="none";break;case tl.LOGIN_SUCCESS:Sc.info("LOGIN_SUCCESS",S),this.getAuthServiceIframe().style.display="none",S!=null&&S.sessionId&&((m=this.loginCallbackSuccess)===null||m===void 0||m.call(this,S));break;default:Sc.warn(`Unknown message type: ${y}`);break}};window.addEventListener("message",l)}catch(l){c(l)}})}postLoginInitiatedMessage(e,n){var r;if(!this.initialized)throw new Error("Iframe not initialized");return(r=this.getAuthServiceIframe().contentWindow)===null||r===void 0||r.postMessage({type:tl.LOGIN_INITIATED,data:{loginConfig:e,nonce:n}},this.targetOrigin),new Promise((i,o)=>{this.loginCallbackSuccess=i,this.loginCallbackFailed=o})}postLoginCancelledMessage(e){var n;if(!this.initialized)throw new Error("Iframe not initialized");(n=this.getAuthServiceIframe().contentWindow)===null||n===void 0||n.postMessage({type:tl.LOGIN_CANCELLED,data:{nonce:e}},this.targetOrigin)}}function pH(t,e){var n=Object.setPrototypeOf;n?n(t,e):t.__proto__=e}function gH(t,e){e===void 0&&(e=t.constructor);var n=Error.captureStackTrace;n&&n(t,e)}var mH=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])},t(n,r)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gN=function(t){mH(e,t);function e(n,r){var i=this.constructor,o=t.call(this,n,r)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1,configurable:!0}),pH(o,i.prototype),gH(o),o}return e}(Error);class mN extends gN{constructor(e,n){super(n),ke(this,"code",void 0),ke(this,"message",void 0),this.code=e,this.message=n||"",Object.defineProperty(this,"name",{value:"AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}}class pc extends mN{constructor(e,n){super(e,n),Object.defineProperty(this,"name",{value:"InitializationError"})}static fromCode(e,n=""){return new pc(e,`${pc.messages[e]}, ${n}`)}static invalidParams(e=""){return pc.fromCode(5001,e)}static notInitialized(e=""){return pc.fromCode(5002,e)}}ke(pc,"messages",{5e3:"Custom",5001:"Invalid constructor params",5002:"SDK not initialized. please call init first"});class Bn extends mN{constructor(e,n){super(e,n),Object.defineProperty(this,"name",{value:"LoginError"})}static fromCode(e,n=""){return new Bn(e,`${Bn.messages[e]}, ${n}`)}static invalidLoginParams(e=""){return Bn.fromCode(5111,e)}static userNotLoggedIn(e=""){return Bn.fromCode(5112,e)}static popupClosed(e=""){return Bn.fromCode(5113,e)}static loginFailed(e=""){return Bn.fromCode(5114,e)}static popupBlocked(e=""){return Bn.fromCode(5115,e)}static mfaAlreadyEnabled(e=""){return Bn.fromCode(5116,e)}static mfaNotEnabled(e=""){return Bn.fromCode(5117,e)}}ke(Bn,"messages",{5e3:"Custom",5111:"Invalid login params",5112:"User not logged in.",5113:"login popup has been closed by the user",5114:"Login failed",5115:"Popup was blocked. Please call this function as soon as user clicks button or use redirect mode",5116:"MFA already enabled",5117:"MFA not yet enabled. Please call `enableMFA` first"});const Aa=Object.create(null);Aa.open="0";Aa.close="1";Aa.ping="2";Aa.pong="3";Aa.message="4";Aa.upgrade="5";Aa.noop="6";const qv=Object.create(null);Object.keys(Aa).forEach(t=>{qv[Aa[t]]=t});const c_={type:"error",data:"parser error"},vN=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",yN=typeof ArrayBuffer=="function",wN=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,rC=({type:t,data:e},n,r)=>vN&&e instanceof Blob?n?r(e):hk(e,r):yN&&(e instanceof ArrayBuffer||wN(e))?n?r(e):hk(new Blob([e]),r):r(Aa[t]+(e||"")),hk=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function pk(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let A3;function vH(t,e){if(vN&&t.data instanceof Blob)return t.data.arrayBuffer().then(pk).then(e);if(yN&&(t.data instanceof ArrayBuffer||wN(t.data)))return e(pk(t.data));rC(t,!1,n=>{A3||(A3=new TextEncoder),e(A3.encode(n))})}const gk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Op=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<gk.length;t++)Op[gk.charCodeAt(t)]=t;const yH=t=>{let e=t.length*.75,n=t.length,r,i=0,o,s,a,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const l=new ArrayBuffer(e),u=new Uint8Array(l);for(r=0;r<n;r+=4)o=Op[t.charCodeAt(r)],s=Op[t.charCodeAt(r+1)],a=Op[t.charCodeAt(r+2)],c=Op[t.charCodeAt(r+3)],u[i++]=o<<2|s>>4,u[i++]=(s&15)<<4|a>>2,u[i++]=(a&3)<<6|c&63;return l},wH=typeof ArrayBuffer=="function",iC=(t,e)=>{if(typeof t!="string")return{type:"message",data:bN(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:bH(t.substring(1),e)}:qv[n]?t.length>1?{type:qv[n],data:t.substring(1)}:{type:qv[n]}:c_},bH=(t,e)=>{if(wH){const n=yH(t);return bN(n,e)}else return{base64:!0,data:t}},bN=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},EN="",EH=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((o,s)=>{rC(o,!1,a=>{r[s]=a,++i===n&&e(r.join(EN))})})},xH=(t,e)=>{const n=t.split(EN),r=[];for(let i=0;i<n.length;i++){const o=iC(n[i],e);if(r.push(o),o.type==="error")break}return r};function _H(){return new TransformStream({transform(t,e){vH(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let I3;function Lm(t){return t.reduce((e,n)=>e+n.length,0)}function Bm(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function SH(t,e){I3||(I3=new TextDecoder);const n=[];let r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(n.push(s);;){if(r===0){if(Lm(n)<1)break;const c=Bm(n,1);o=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Lm(n)<2)break;const c=Bm(n,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(Lm(n)<8)break;const c=Bm(n,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(c_);break}i=u*Math.pow(2,32)+l.getUint32(4),r=3}else{if(Lm(n)<i)break;const c=Bm(n,i);a.enqueue(iC(o?c:I3.decode(c),e)),r=0}if(i===0||i>t){a.enqueue(c_);break}}}})}const xN=4;function Ir(t){if(t)return CH(t)}function CH(t){for(var e in Ir.prototype)t[e]=Ir.prototype[e];return t}Ir.prototype.on=Ir.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Ir.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Ir.prototype.off=Ir.prototype.removeListener=Ir.prototype.removeAllListeners=Ir.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Ir.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};Ir.prototype.emitReserved=Ir.prototype.emit;Ir.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Ir.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Bw=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),cs=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),AH="arraybuffer";function _N(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const IH=cs.setTimeout,kH=cs.clearTimeout;function Dw(t,e){e.useNativeTimers?(t.setTimeoutFn=IH.bind(cs),t.clearTimeoutFn=kH.bind(cs)):(t.setTimeoutFn=cs.setTimeout.bind(cs),t.clearTimeoutFn=cs.clearTimeout.bind(cs))}const MH=1.33;function RH(t){return typeof t=="string"?OH(t):Math.ceil((t.byteLength||t.size)*MH)}function OH(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function SN(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function TH(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function NH(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class PH extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class oC extends Ir{constructor(e){super(),this.writable=!1,Dw(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new PH(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=iC(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=TH(e);return n.length?"?"+n:""}}class LH extends oC{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};xH(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,EH(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=SN()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let CN=!1;try{CN=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const BH=CN;function DH(){}class jH extends LH{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}let Ff=class Hv extends Ir{constructor(e,n,r){super(),this.createRequest=e,Dw(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=_N(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Hv.requestsCount++,Hv.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=DH,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Hv.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Ff.requestsCount=0;Ff.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",mk);else if(typeof addEventListener=="function"){const t="onpagehide"in cs?"pagehide":"unload";addEventListener(t,mk,!1)}}function mk(){for(let t in Ff.requests)Ff.requests.hasOwnProperty(t)&&Ff.requests[t].abort()}const $H=function(){const t=AN({xdomain:!1});return t&&t.responseType!==null}();class FH extends jH{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=$H&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Ff(AN,this.uri(),e)}}function AN(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||BH))return new XMLHttpRequest}catch{}if(!e)try{return new cs[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const IN=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class UH extends oC{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=IN?{}:_N(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;rC(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&Bw(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=SN()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const k3=cs.WebSocket||cs.MozWebSocket;class zH extends UH{createSocket(e,n,r){return IN?new k3(e,n,r):n?new k3(e,n):new k3(e)}doWrite(e,n){this.ws.send(n)}}class qH extends oC{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=SH(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=_H();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const o=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),o())}).catch(a=>{})};o();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&Bw(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const HH={websocket:zH,webtransport:qH,polling:FH},KH=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,WH=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function l_(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=KH.exec(t||""),o={},s=14;for(;s--;)o[WH[s]]=i[s]||"";return n!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=VH(o,o.path),o.queryKey=GH(o,o.query),o}function VH(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function GH(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(n[i]=o)}),n}const u_=typeof addEventListener=="function"&&typeof removeEventListener=="function",Kv=[];u_&&addEventListener("offline",()=>{Kv.forEach(t=>t())},!1);class zl extends Ir{constructor(e,n){if(super(),this.binaryType=AH,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=l_(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=l_(n.host).host);Dw(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=NH(this.opts.query)),u_&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Kv.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=xN,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&zl.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",zl.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=RH(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Bw(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const o={type:e,data:n,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(zl.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),u_&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Kv.indexOf(this._offlineEventListener);r!==-1&&Kv.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}zl.protocol=xN;class YH extends zl{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;zl.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;zl.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=n.name,this.emitReserved("upgradeError",p)}}))};function o(){r||(r=!0,u(),n.close(),n=null)}const s=f=>{const p=new Error("probe error: "+f);p.transport=n.name,o(),this.emitReserved("upgradeError",p)};function a(){s("transport closed")}function c(){s("socket closed")}function l(f){n&&f.name!==n.name&&o()}const u=()=>{n.removeListener("open",i),n.removeListener("error",s),n.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};n.once("open",i),n.once("error",s),n.once("close",a),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let JH=class extends YH{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>HH[i]).filter(i=>!!i)),super(e,r)}};function ZH(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=l_(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}const XH=typeof ArrayBuffer=="function",QH=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,kN=Object.prototype.toString,eK=typeof Blob=="function"||typeof Blob<"u"&&kN.call(Blob)==="[object BlobConstructor]",tK=typeof File=="function"||typeof File<"u"&&kN.call(File)==="[object FileConstructor]";function sC(t){return XH&&(t instanceof ArrayBuffer||QH(t))||eK&&t instanceof Blob||tK&&t instanceof File}function Wv(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(Wv(t[n]))return!0;return!1}if(sC(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Wv(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Wv(t[n]))return!0;return!1}function nK(t){const e=[],n=t.data,r=t;return r.data=d_(n,e),r.attachments=e.length,{packet:r,buffers:e}}function d_(t,e){if(!t)return t;if(sC(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=d_(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=d_(t[r],e));return n}return t}function rK(t,e){return t.data=f_(t.data,e),delete t.attachments,t}function f_(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=f_(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=f_(t[n],e));return t}const iK=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],oK=5;var bn;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(bn||(bn={}));class sK{constructor(e){this.replacer=e}encode(e){return(e.type===bn.EVENT||e.type===bn.ACK)&&Wv(e)?this.encodeAsBinary({type:e.type===bn.EVENT?bn.BINARY_EVENT:bn.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===bn.BINARY_EVENT||e.type===bn.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=nK(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function vk(t){return Object.prototype.toString.call(t)==="[object Object]"}class aC extends Ir{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===bn.BINARY_EVENT;r||n.type===bn.BINARY_ACK?(n.type=r?bn.EVENT:bn.ACK,this.reconstructor=new aK(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(sC(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(bn[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===bn.BINARY_EVENT||r.type===bn.BINARY_ACK){const o=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const s=e.substring(o,n);if(s!=Number(s)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(o,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const o=n+1;for(;++n;){const s=e.charAt(n);if(s==null||Number(s)!=s){--n;break}if(n===e.length)break}r.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){const o=this.tryParse(e.substr(n));if(aC.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case bn.CONNECT:return vk(n);case bn.DISCONNECT:return n===void 0;case bn.CONNECT_ERROR:return typeof n=="string"||vk(n);case bn.EVENT:case bn.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&iK.indexOf(n[0])===-1);case bn.ACK:case bn.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class aK{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=rK(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const cK=Object.freeze(Object.defineProperty({__proto__:null,Decoder:aC,Encoder:sK,get PacketType(){return bn},protocol:oK},Symbol.toStringTag,{value:"Module"}));function Ns(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const lK=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class MN extends Ir{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ns(e,"open",this.onopen.bind(this)),Ns(e,"packet",this.onpacket.bind(this)),Ns(e,"error",this.onerror.bind(this)),Ns(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,i,o;if(lK.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:bn.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const u=this.ids++,f=n.pop();this._registerAckCallback(u,f),s.id=u}const a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),n.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...n){return new Promise((r,i)=>{const o=(s,a)=>s?i(s):r(a);o.withError=!0,n.push(o),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:bn.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case bn.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case bn.EVENT:case bn.BINARY_EVENT:this.onevent(e);break;case bn.ACK:case bn.BINARY_ACK:this.onack(e);break;case bn.DISCONNECT:this.ondisconnect();break;case bn.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:bn.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:bn.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function _h(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}_h.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};_h.prototype.reset=function(){this.attempts=0};_h.prototype.setMin=function(t){this.ms=t};_h.prototype.setMax=function(t){this.max=t};_h.prototype.setJitter=function(t){this.jitter=t};class h_ extends Ir{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Dw(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new _h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||cK;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new JH(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Ns(n,"open",function(){r.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=Ns(n,"error",o);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),n.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ns(e,"ping",this.onping.bind(this)),Ns(e,"data",this.ondata.bind(this)),Ns(e,"error",this.onerror.bind(this)),Ns(e,"close",this.onclose.bind(this)),Ns(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Bw(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new MN(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const dp={};function zp(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=ZH(t,e.path||"/socket.io"),r=n.source,i=n.id,o=n.path,s=dp[i]&&o in dp[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s;let c;return a?c=new h_(r,e):(dp[i]||(dp[i]=new h_(r,e)),c=dp[i]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}Object.assign(zp,{Manager:h_,Socket:MN,io:zp,connect:zp});var Zr=Mc.getLogger("SecurePubSub");class RN{constructor(e={}){ke(this,"options",void 0),ke(this,"SOCKET_CONN",null),this.options=e,this.options.timeout=e.timeout||600,this.options.serverUrl=e.serverUrl||eN,this.options.socketUrl=e.socketUrl||fq,this.options.enableLogging=e.enableLogging||!1,this.options.namespace=e.namespace||"",this.options.sameIpCheck=e.sameIpCheck||!1,this.options.allowedOrigin=e.allowedOrigin||"*",this.options.enableLogging?Zr.enableAll():Zr.disableAll()}static setLogLevel(e){Zr.setLevel(e),zz(e)}async publish(e,n){if(!this.isValidTopic(e))throw Zr.error("Invalid topic"),new Error("Invalid topic");const r=$f(Buffer.from(e,"utf8")),i=await zv(r.toString("hex"),n),o=await Uv(r,$f(Buffer.from(i,"utf8"))),s={key:jl(r).toString("hex"),data:i,signature:o.toString("hex"),timeout:this.options.timeout,namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin};return hd(`${this.options.serverUrl}/v2/channel/set`,s)}async subscribe(e){let n=!0;const r=$f(Buffer.from(e,"utf8")),i=jl(r).toString("hex"),o=this.getSocketConnection();o.connected?(Zr.debug("already connected with socket"),o.emit("v2:check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})):o.once("connect",()=>{Zr.debug("connected with socket"),o.emit("v2:check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})});const s=()=>{o.once("connect",async()=>{Zr.debug("connected with socket using reconnect"),n&&o.emit("v2:check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})})},a=()=>{n||document.removeEventListener("visibilitychange",a),!o.connected&&document.visibilityState==="visible"&&s()},c=()=>{Zr.debug("socket disconnected",n),n?(Zr.error("socket disconnected unexpectedly, reconnecting socket"),s()):o.removeListener("disconnect",c)};o.on("disconnect",c);const l=new Promise((u,f)=>{const p=async m=>{try{const w=await dN(r.toString("hex"),m);Zr.info("got data",w),u(w)}catch(w){Zr.error(w),f(w)}finally{n=!1,typeof document<"u"&&document.removeEventListener("visibilitychange",a)}};Zr.info("listening to",`${i}_success`),o.once(`${i}_success`,p)});return typeof document<"u"&&document.addEventListener("visibilitychange",a),l}cleanup(){this.SOCKET_CONN&&(this.SOCKET_CONN.disconnect(),this.SOCKET_CONN=null)}getSocketConnection(){if(this.SOCKET_CONN)return this.SOCKET_CONN;const e=zp(this.options.socketUrl,{transports:["websocket","polling"],withCredentials:!0,reconnectionDelayMax:1e4,reconnectionAttempts:10});return e.on("connect_error",n=>{e.io.opts.transports=["polling","websocket"],Zr.error("connect error",n)}),e.on("connect",async()=>{const{engine:n}=e.io;Zr.debug("initially connected to",n.transport.name),n.once("upgrade",()=>{Zr.debug("upgraded",n.transport.name)}),n.once("close",r=>{Zr.debug("connection closed",r)})}),e.on("error",n=>{Zr.error("socket errored",n),e.disconnect()}),this.SOCKET_CONN=e,this.SOCKET_CONN}isValidTopic(e){return e&&e.length>0}}class uK extends Pw.EventEmitter{constructor({url:e,target:n,features:r,timeout:i=3e4,sessionSocketUrl:o,sessionServerUrl:s}){super(),ke(this,"url",void 0),ke(this,"target",void 0),ke(this,"features",void 0),ke(this,"window",void 0),ke(this,"windowTimer",void 0),ke(this,"iClosedWindow",void 0),ke(this,"timeout",void 0),ke(this,"sessionSocketUrl",void 0),ke(this,"sessionServerUrl",void 0),this.url=e,this.target=n||"_blank",this.features=r||Q9(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=i,this.sessionServerUrl=s||fN,this.sessionSocketUrl=o||hN,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var e;if(this.window=window.open(this.url,this.target,this.features),!this.window)throw Bn.popupBlocked();(e=this.window)!==null&&e!==void 0&&e.focus&&this.window.focus()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url):window.location.href=this.url}async listenOnChannel(e){const n=new RN({serverUrl:this.sessionServerUrl,socketUrl:this.sessionSocketUrl,sameIpCheck:!0,allowedOrigin:!0}),r=await n.subscribe(e);this.close(),n.cleanup();const i=JSON.parse(r);return i.error?{error:i.error,state:i.state}:i.data}}const p_="10.5.0";function dK(t=!1){const e={},n=new URLSearchParams(window.location.search.slice(1));n.forEach((s,a)=>{a!=="b64Params"&&(e[a]=s)});const r=n.get("b64Params");if(r)try{const s=JSON.parse(by(r));Object.keys(s).forEach(a=>{e[a]=s[a]})}catch(s){Sc.error(s)}const i=new URLSearchParams(window.location.hash.substring(1));i.forEach((s,a)=>{a!=="b64Params"&&(e[a]=s)});const o=i.get("b64Params");if(o)try{const s=JSON.parse(by(o));Object.keys(s).forEach(a=>{e[a]=s[a]})}catch(s){Sc.error(s)}if(t){const s=new URL(window.location.origin+window.location.pathname);n.size!==0&&(n.delete("error"),n.delete("state"),n.delete("b64Params"),n.delete("sessionNamespace"),s.search=n.toString()),i.size!==0&&(i.delete("error"),i.delete("state"),i.delete("b64Params"),i.delete("sessionNamespace"),s.hash=i.toString()),window.history.replaceState(_e(_e({},window.history.state),{},{as:s.href,url:s.href}),"",s.href)}return e}class ON{constructor(){ke(this,"store",new Map)}getItem(e){return this.store.get(e)||null}setItem(e,n){this.store.set(e,n)}removeItem(e){this.store.delete(e)}}class TN{constructor(e,n){ke(this,"storage",void 0),ke(this,"_storeKey",void 0),this.storage=n,this._storeKey=e;try{n.getItem(e)||this.resetStore()}catch{}}static getInstance(e,n="local"){if(!this.instanceMap.has(e)){let r;n==="local"&&r_("localStorage")?r=window.localStorage:n==="session"&&r_("sessionStorage")?r=window.sessionStorage:r=new ON,this.instanceMap.set(e,new this(e,r))}return this.instanceMap.get(e)}toJSON(){return this.storage.getItem(this._storeKey)}resetStore(){const e=this.getStore();return this.storage.removeItem(this._storeKey),e}getStore(){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")}get(e){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")[e]}set(e,n){const r=JSON.parse(this.storage.getItem(this._storeKey)||"{}");r[e]=n,this.storage.setItem(this._storeKey,JSON.stringify(r))}}ke(TN,"instanceMap",new Map);class fK{constructor(e){if(ke(this,"state",{}),ke(this,"options",void 0),ke(this,"sessionManager",void 0),ke(this,"currentStorage",void 0),ke(this,"_storageBaseKey","auth_store"),ke(this,"dappState",void 0),ke(this,"addVersionInUrls",!0),ke(this,"authProvider",void 0),ke(this,"authProviderPromise",void 0),!e.clientId)throw pc.invalidParams("clientId is required");e.network||(e.network=cd.SAPPHIRE_MAINNET),e.buildEnv||(e.buildEnv=ao.PRODUCTION),e.sdkMode||(e.sdkMode=oa.DEFAULT),(e.buildEnv===ao.DEVELOPMENT||e.buildEnv===ao.TESTING||e.sdkUrl)&&(this.addVersionInUrls=!1),!e.sdkUrl&&!e.useMpc&&(e.buildEnv===ao.DEVELOPMENT?(e.sdkUrl=eH,e.dashboardUrl=iH):e.buildEnv===ao.STAGING?(e.sdkUrl=tH,e.dashboardUrl=oH):e.buildEnv===ao.TESTING?(e.sdkUrl=nH,e.dashboardUrl=sH):(e.sdkUrl=rH,e.dashboardUrl=aH)),!e.redirectUrl&&typeof window<"u"&&(e.redirectUrl=`${window.location.protocol}//${window.location.host}${window.location.pathname}`),e.uxMode||(e.uxMode=Si.REDIRECT),typeof e.replaceUrlOnRedirect!="boolean"&&(e.replaceUrlOnRedirect=!0),typeof e.includeUserDataInToken!="boolean"&&(e.includeUserDataInToken=!0),e.originData||(e.originData={}),e.whiteLabel||(e.whiteLabel={}),e.authConnectionConfig||(e.authConnectionConfig=[]),e.mfaSettings||(e.mfaSettings={}),e.storageServerUrl||(e.storageServerUrl=fN),e.sessionSocketUrl||(e.sessionSocketUrl=hN),e.storage||(e.storage="local"),e.sessionTime||(e.sessionTime=86400),this.options=e}get privKey(){return this.options.useMpc?this.state.factorKey||"":this.state.privKey?this.state.privKey.padStart(64,"0"):""}get coreKitKey(){return this.state.coreKitKey?this.state.coreKitKey.padStart(64,"0"):""}get ed25519PrivKey(){return this.state.ed25519PrivKey?this.state.ed25519PrivKey.padStart(128,"0"):""}get coreKitEd25519Key(){return this.state.coreKitEd25519PrivKey?this.state.coreKitEd25519PrivKey.padStart(128,"0"):""}get sessionId(){return this.state.sessionId||""}get sessionNamespace(){return this.options.sessionNamespace||""}get appState(){return this.state.userInfo.appState||this.dappState||""}get baseUrl(){return this.addVersionInUrls?`${this.options.sdkUrl}/v${p_.split(".")[0]}`:`${this.options.sdkUrl}`}get dashboardUrl(){return this.addVersionInUrls?`${this.options.dashboardUrl}/v${p_.split(".")[0]}`:`${this.options.dashboardUrl}`}async init(){const e=dK(this.options.replaceUrlOnRedirect);e.sessionNamespace&&(this.options.sessionNamespace=e.sessionNamespace);const n=this.options.sessionKey||(this.options.sessionNamespace?`${this._storageBaseKey}_${this.options.sessionNamespace}`:this._storageBaseKey);this.currentStorage=TN.getInstance(n,this.options.storage);const r=this.currentStorage.get("sessionId");if(this.sessionManager=new Rp({sessionServerBaseUrl:this.options.storageServerUrl,sessionNamespace:this.options.sessionNamespace,sessionTime:this.options.sessionTime,sessionId:r,allowedOrigin:this.options.sdkUrl}),(this.options.network===cd.TESTNET||this.options.network===cd.SAPPHIRE_DEVNET)&&console.log(`%c WARNING! You are on ${this.options.network}. Please set network: 'mainnet' or 'sapphire_mainnet' in production`,"color: #FF0000"),this.options.buildEnv!==ao.PRODUCTION&&console.log(`%c WARNING! You are using build env ${this.options.buildEnv}. Please set buildEnv: 'production' in production`,"color: #FF0000"),e.error)throw this.dappState=e.state,Bn.loginFailed(e.error);if(e.sessionId&&(this.currentStorage.set("sessionId",e.sessionId),this.sessionManager.sessionId=e.sessionId),this.sessionManager.sessionId){const i=await this._authorizeSession();this.updateState(i),Object.keys(i).length===0?this.currentStorage.set("sessionId",""):this.updateState({sessionId:this.sessionManager.sessionId})}this.options.sdkMode===oa.IFRAME&&(this.authProvider=new hH({sdkUrl:this.baseUrl,whiteLabel:this.options.whiteLabel}),this.state.sessionId||(this.authProviderPromise=this.authProvider.init({network:this.options.network,clientId:this.options.clientId}),e.nonce&&(await this.authProviderPromise,await this.postLoginInitiatedMessage(JSON.parse(e.loginParams),e.nonce))))}async login(e){if(!e.authConnection&&(!e.authConnectionId||!e.groupedAuthConnectionId))throw Bn.invalidLoginParams("AuthConnection is required");const n=_e({},e),r={actionType:lf.LOGIN,options:this.options,params:n},i=await this.authHandler(`${this.baseUrl}/start`,r,QS(e.authConnection));if(this.options.uxMode===Si.REDIRECT)return null;if(i.error)throw this.dappState=i.state,Bn.loginFailed(i.error);return this.sessionManager.sessionId=i.sessionId,this.options.sessionNamespace=i.sessionNamespace,this.currentStorage.set("sessionId",i.sessionId),await this.rehydrateSession(),{privKey:this.privKey}}async postLoginInitiatedMessage(e,n){var r;if(this.options.sdkMode!==oa.IFRAME)throw Bn.invalidLoginParams("Cannot perform this action in default mode.");this.authProviderPromise&&await this.authProviderPromise,(r=this.authProvider)!==null&&r!==void 0&&r.initialized||await this.authProvider.init({network:this.options.network,clientId:this.options.clientId});const i=await this.authProvider.postLoginInitiatedMessage({actionType:lf.LOGIN,params:e,options:this.options},n);if(i.error)throw Bn.loginFailed(i.error);this.sessionManager.sessionId=i.sessionId,this.options.sessionNamespace=i.sessionNamespace,this.currentStorage.set("sessionId",i.sessionId),await this.rehydrateSession()}async postLoginCancelledMessage(e){var n;if(this.options.sdkMode!==oa.IFRAME)throw Bn.invalidLoginParams("Cannot perform this action in default mode.");if(this.authProviderPromise&&await this.authProviderPromise,!((n=this.authProvider)!==null&&n!==void 0&&n.initialized))throw pc.notInitialized();this.authProvider.postLoginCancelledMessage(e)}async logout(){if(!this.sessionManager.sessionId)throw Bn.userNotLoggedIn();await this.sessionManager.invalidateSession(),this.updateState({privKey:"",coreKitKey:"",coreKitEd25519PrivKey:"",ed25519PrivKey:"",walletKey:"",oAuthPrivateKey:"",tKey:"",metadataNonce:"",keyMode:void 0,userInfo:{name:"",profileImage:"",dappShare:"",idToken:"",oAuthIdToken:"",oAuthAccessToken:"",appState:"",email:"",authConnectionId:"",userId:"",groupedAuthConnectionId:"",authConnection:"",isMfaEnabled:!1},authToken:"",sessionId:"",factorKey:"",signatures:[],tssShareIndex:-1,tssPubKey:"",tssShare:"",tssNonce:-1}),this.currentStorage.set("sessionId","")}async enableMFA(e){var n;if(!this.sessionId)throw Bn.userNotLoggedIn();if(this.state.userInfo.isMfaEnabled)throw Bn.mfaAlreadyEnabled();const r={actionType:lf.ENABLE_MFA,options:_e(_e({},this.options),{},{sdkMode:oa.DEFAULT}),params:_e(_e({},e),{},{authConnection:this.state.userInfo.authConnection,authConnectionId:this.state.userInfo.authConnectionId,groupedAuthConnectionId:this.state.userInfo.groupedAuthConnectionId,extraLoginOptions:{login_hint:this.state.userInfo.userId},mfaLevel:"mandatory"}),sessionId:this.sessionId},i=await this.authHandler(`${this.baseUrl}/start`,r,cH);if(this.options.uxMode===Si.REDIRECT)return null;if(i.error)throw this.dappState=i.state,Bn.loginFailed(i.error);return this.sessionManager.sessionId=i.sessionId,this.options.sessionNamespace=i.sessionNamespace,this.currentStorage.set("sessionId",i.sessionId),await this.rehydrateSession(),!!(!((n=this.state.userInfo)===null||n===void 0)&&n.isMfaEnabled)}async manageMFA(e){if(!this.sessionId)throw Bn.userNotLoggedIn();if(!this.state.userInfo.isMfaEnabled)throw Bn.mfaNotEnabled();const n={dappUrl:`${window.location.origin}${window.location.pathname}`},r=Rp.generateRandomSessionKey(),i={actionType:lf.MANAGE_MFA,options:_e(_e({},this.options),{},{uxMode:Si.REDIRECT,sdkMode:oa.DEFAULT,redirectUrl:`${this.dashboardUrl}/wallet/account`}),params:_e(_e(_e({},n),e),{},{authConnection:this.state.userInfo.authConnection,authConnectionId:this.state.userInfo.authConnectionId,groupedAuthConnectionId:this.state.userInfo.groupedAuthConnectionId,extraLoginOptions:{login_hint:this.state.userInfo.userId},appState:Nm({loginId:r})}),sessionId:this.sessionId};this.createLoginSession(r,i,i.options.sessionTime,!0);const o={loginId:r,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl},s=Fp({baseURL:`${this.baseUrl}/start`,hash:{b64Params:Nm(o)}});window.open(s,"_blank")}async manageSocialFactor(e,n){if(!this.sessionId)throw Bn.userNotLoggedIn();const r={actionType:e,options:_e(_e({},this.options),{},{sdkMode:oa.DEFAULT}),params:_e({},n),sessionId:this.sessionId},i=await this.authHandler(`${this.baseUrl}/start`,r);if(this.options.uxMode!==Si.REDIRECT)return!i.error}async addAuthenticatorFactor(e){if(!this.sessionId)throw Bn.userNotLoggedIn();const n={actionType:lf.ADD_AUTHENTICATOR_FACTOR,options:_e(_e({},this.options),{},{sdkMode:oa.DEFAULT}),params:_e(_e({},e),{},{authConnection:ut.AUTHENTICATOR}),sessionId:this.sessionId},r=await this.authHandler(`${this.baseUrl}/start`,n);if(this.options.uxMode!==Si.REDIRECT)return!r.error}async addPasskeyFactor(e){if(!this.sessionId)throw Bn.userNotLoggedIn();const n={actionType:lf.ADD_PASSKEY_FACTOR,options:_e(_e({},this.options),{},{sdkMode:oa.DEFAULT}),params:_e(_e({},e),{},{authConnection:ut.PASSKEYS}),sessionId:this.sessionId},r=await this.authHandler(`${this.baseUrl}/start`,n);if(this.options.uxMode!==Si.REDIRECT)return!r.error}async cleanup(){this.authProvider&&this.authProvider.cleanup()}getUserInfo(){if(!this.sessionManager.sessionId)throw Bn.userNotLoggedIn();return this.state.userInfo}async createLoginSession(e,n,r=600,i=!1){if(!this.sessionManager)throw pc.notInitialized();const s=new Rp({sessionServerBaseUrl:n.options.storageServerUrl,sessionNamespace:n.options.sessionNamespace,sessionTime:r,sessionId:e,allowedOrigin:this.options.sdkUrl}).createSession(JSON.parse(JSON.stringify(n)));n.options.uxMode===Si.REDIRECT&&!i&&await s}async _authorizeSession(){try{return this.sessionManager.sessionId?await this.sessionManager.authorizeSession():{}}catch(e){return Sc.error("authorization failed",e),{}}}updateState(e){this.state=_e(_e({},this.state),e)}async rehydrateSession(){const e=await this._authorizeSession();this.updateState(e)}async authHandler(e,n,r=1e3*10){const i=Rp.generateRandomSessionKey();await this.createLoginSession(i,n);const o={loginId:i,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl};if(this.options.uxMode===Si.REDIRECT){const c=Fp({baseURL:e,hash:{b64Params:Nm(o)}});window.location.href=c;return}const s=Fp({baseURL:e,hash:{b64Params:Nm(o)}}),a=new uK({url:s,timeout:r,sessionServerUrl:this.options.storageServerUrl,sessionSocketUrl:this.options.sessionSocketUrl});return new Promise((c,l)=>{a.on("close",()=>{l(Bn.popupClosed())}),a.listenOnChannel(i).then(c).catch(l);try{a.open()}catch(u){l(u)}})}}var M3={exports:{}},R3={exports:{}},O3,yk;function ir(){if(yk)return O3;yk=1;class t extends Error{constructor(n){if(!Array.isArray(n))throw new TypeError(`Expected input to be an Array, got ${typeof n}`);let r="";for(let i=0;i<n.length;i++)r+=`    ${n[i].stack}
`;super(r),this.name="AggregateError",this.errors=n}}return O3={AggregateError:t,ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,n){return e.includes(n)},ArrayPrototypeIndexOf(e,n){return e.indexOf(n)},ArrayPrototypeJoin(e,n){return e.join(n)},ArrayPrototypeMap(e,n){return e.map(n)},ArrayPrototypePop(e,n){return e.pop(n)},ArrayPrototypePush(e,n){return e.push(n)},ArrayPrototypeSlice(e,n,r){return e.slice(n,r)},Error,FunctionPrototypeCall(e,n,...r){return e.call(n,...r)},FunctionPrototypeSymbolHasInstance(e,n){return Function.prototype[Symbol.hasInstance].call(e,n)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,n){return Object.defineProperties(e,n)},ObjectDefineProperty(e,n,r){return Object.defineProperty(e,n,r)},ObjectGetOwnPropertyDescriptor(e,n){return Object.getOwnPropertyDescriptor(e,n)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,n){return Object.setPrototypeOf(e,n)},Promise,PromisePrototypeCatch(e,n){return e.catch(n)},PromisePrototypeThen(e,n,r){return e.then(n,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,n){return e.test(n)},SafeSet:Set,String,StringPrototypeSlice(e,n,r){return e.slice(n,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,n,r){return e.set(n,r)},Boolean,Uint8Array},O3}var T3={exports:{}},N3,wk;function NN(){return wk||(wk=1,N3={format(t,...e){return t.replace(/%([sdifj])/g,function(...[n,r]){const i=e.shift();return r==="f"?i.toFixed(6):r==="j"?JSON.stringify(i):r==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}),N3}var P3,bk;function qi(){if(bk)return P3;bk=1;const{format:t,inspect:e}=NN(),{AggregateError:n}=ir(),r=globalThis.AggregateError||n,i=Symbol("kIsNodeError"),o=["string","function","number","object","Function","Object","boolean","bigint","symbol"],s=/^([A-Z][a-z0-9]*)+$/,a="__node_internal_",c={};function l(I,S){if(!I)throw new c.ERR_INTERNAL_ASSERTION(S)}function u(I){let S="",T=I.length;const N=I[0]==="-"?1:0;for(;T>=N+4;T-=3)S=`_${I.slice(T-3,T)}${S}`;return`${I.slice(0,T)}${S}`}function f(I,S,T){if(typeof S=="function")return l(S.length<=T.length,`Code: ${I}; The provided arguments length (${T.length}) does not match the required ones (${S.length}).`),S(...T);const N=(S.match(/%[dfijoOs]/g)||[]).length;return l(N===T.length,`Code: ${I}; The provided arguments length (${T.length}) does not match the required ones (${N}).`),T.length===0?S:t(S,...T)}function p(I,S,T){T||(T=Error);class N extends T{constructor(...$){super(f(I,S,$))}toString(){return`${this.name} [${I}]: ${this.message}`}}Object.defineProperties(N.prototype,{name:{value:T.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${I}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),N.prototype.code=I,N.prototype[i]=!0,c[I]=N}function m(I){const S=a+I.name;return Object.defineProperty(I,"name",{value:S}),I}function w(I,S){if(I&&S&&I!==S){if(Array.isArray(S.errors))return S.errors.push(I),S;const T=new r([S,I],S.message);return T.code=S.code,T}return I||S}class y extends Error{constructor(S="The operation was aborted",T=void 0){if(T!==void 0&&typeof T!="object")throw new c.ERR_INVALID_ARG_TYPE("options","Object",T);super(S,T),this.code="ABORT_ERR",this.name="AbortError"}}return p("ERR_ASSERTION","%s",Error),p("ERR_INVALID_ARG_TYPE",(I,S,T)=>{l(typeof I=="string","'name' must be a string"),Array.isArray(S)||(S=[S]);let N="The ";I.endsWith(" argument")?N+=`${I} `:N+=`"${I}" ${I.includes(".")?"property":"argument"} `,N+="must be ";const z=[],$=[],H=[];for(const j of S)l(typeof j=="string","All expected entries have to be of type string"),o.includes(j)?z.push(j.toLowerCase()):s.test(j)?$.push(j):(l(j!=="object",'The value "object" should be written as "Object"'),H.push(j));if($.length>0){const j=z.indexOf("object");j!==-1&&(z.splice(z,j,1),$.push("Object"))}if(z.length>0){switch(z.length){case 1:N+=`of type ${z[0]}`;break;case 2:N+=`one of type ${z[0]} or ${z[1]}`;break;default:{const j=z.pop();N+=`one of type ${z.join(", ")}, or ${j}`}}($.length>0||H.length>0)&&(N+=" or ")}if($.length>0){switch($.length){case 1:N+=`an instance of ${$[0]}`;break;case 2:N+=`an instance of ${$[0]} or ${$[1]}`;break;default:{const j=$.pop();N+=`an instance of ${$.join(", ")}, or ${j}`}}H.length>0&&(N+=" or ")}switch(H.length){case 0:break;case 1:H[0].toLowerCase()!==H[0]&&(N+="an "),N+=`${H[0]}`;break;case 2:N+=`one of ${H[0]} or ${H[1]}`;break;default:{const j=H.pop();N+=`one of ${H.join(", ")}, or ${j}`}}if(T==null)N+=`. Received ${T}`;else if(typeof T=="function"&&T.name)N+=`. Received function ${T.name}`;else if(typeof T=="object"){var K;if((K=T.constructor)!==null&&K!==void 0&&K.name)N+=`. Received an instance of ${T.constructor.name}`;else{const j=e(T,{depth:-1});N+=`. Received ${j}`}}else{let j=e(T,{colors:!1});j.length>25&&(j=`${j.slice(0,25)}...`),N+=`. Received type ${typeof T} (${j})`}return N},TypeError),p("ERR_INVALID_ARG_VALUE",(I,S,T="is invalid")=>{let N=e(S);return N.length>128&&(N=N.slice(0,128)+"..."),`The ${I.includes(".")?"property":"argument"} '${I}' ${T}. Received ${N}`},TypeError),p("ERR_INVALID_RETURN_VALUE",(I,S,T)=>{var N;const z=T!=null&&(N=T.constructor)!==null&&N!==void 0&&N.name?`instance of ${T.constructor.name}`:`type ${typeof T}`;return`Expected ${I} to be returned from the "${S}" function but got ${z}.`},TypeError),p("ERR_MISSING_ARGS",(...I)=>{l(I.length>0,"At least one arg needs to be specified");let S;const T=I.length;switch(I=(Array.isArray(I)?I:[I]).map(N=>`"${N}"`).join(" or "),T){case 1:S+=`The ${I[0]} argument`;break;case 2:S+=`The ${I[0]} and ${I[1]} arguments`;break;default:{const N=I.pop();S+=`The ${I.join(", ")}, and ${N} arguments`}break}return`${S} must be specified`},TypeError),p("ERR_OUT_OF_RANGE",(I,S,T)=>{l(S,'Missing "range" argument');let N;if(Number.isInteger(T)&&Math.abs(T)>2**32)N=u(String(T));else if(typeof T=="bigint"){N=String(T);const z=BigInt(2)**BigInt(32);(T>z||T<-z)&&(N=u(N)),N+="n"}else N=e(T);return`The value of "${I}" is out of range. It must be ${S}. Received ${N}`},RangeError),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),p("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),p("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),p("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),p("ERR_STREAM_WRITE_AFTER_END","write after end",Error),p("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),P3={AbortError:y,aggregateTwoErrors:m(w),hideStackFrames:m,codes:c},P3}var fp={exports:{}},Ek;function s0(){if(Ek)return fp.exports;Ek=1;const{AbortController:t,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return fp.exports=t,fp.exports.AbortSignal=e,fp.exports.default=t,fp.exports}var xk;function ho(){return xk||(xk=1,function(t){const e=Ma(),{format:n,inspect:r}=NN(),{codes:{ERR_INVALID_ARG_TYPE:i}}=qi(),{kResistStopPropagation:o,AggregateError:s,SymbolDispose:a}=ir(),c=globalThis.AbortSignal||s0().AbortSignal,l=globalThis.AbortController||s0().AbortController,u=Object.getPrototypeOf(async function(){}).constructor,f=globalThis.Blob||e.Blob,p=typeof f<"u"?function(I){return I instanceof f}:function(I){return!1},m=(y,I)=>{if(y!==void 0&&(y===null||typeof y!="object"||!("aborted"in y)))throw new i(I,"AbortSignal",y)},w=(y,I)=>{if(typeof y!="function")throw new i(I,"Function",y)};t.exports={AggregateError:s,kEmptyObject:Object.freeze({}),once(y){let I=!1;return function(...S){I||(I=!0,y.apply(this,S))}},createDeferredPromise:function(){let y,I;return{promise:new Promise((T,N)=>{y=T,I=N}),resolve:y,reject:I}},promisify(y){return new Promise((I,S)=>{y((T,...N)=>T?S(T):I(...N))})},debuglog(){return function(){}},format:n,inspect:r,types:{isAsyncFunction(y){return y instanceof u},isArrayBufferView(y){return ArrayBuffer.isView(y)}},isBlob:p,deprecate(y,I){return y},addAbortListener:ng().addAbortListener||function(I,S){if(I===void 0)throw new i("signal","AbortSignal",I);m(I,"signal"),w(S,"listener");let T;return I.aborted?queueMicrotask(()=>S()):(I.addEventListener("abort",S,{__proto__:null,once:!0,[o]:!0}),T=()=>{I.removeEventListener("abort",S)}),{__proto__:null,[a](){var N;(N=T)===null||N===void 0||N()}}},AbortSignalAny:c.any||function(I){if(I.length===1)return I[0];const S=new l,T=()=>S.abort();return I.forEach(N=>{m(N,"signals"),N.addEventListener("abort",T,{once:!0})}),S.signal.addEventListener("abort",()=>{I.forEach(N=>N.removeEventListener("abort",T))},{once:!0}),S.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(T3)),T3.exports}var Dm={},L3,_k;function ig(){if(_k)return L3;_k=1;const{ArrayIsArray:t,ArrayPrototypeIncludes:e,ArrayPrototypeJoin:n,ArrayPrototypeMap:r,NumberIsInteger:i,NumberIsNaN:o,NumberMAX_SAFE_INTEGER:s,NumberMIN_SAFE_INTEGER:a,NumberParseInt:c,ObjectPrototypeHasOwnProperty:l,RegExpPrototypeExec:u,String:f,StringPrototypeToUpperCase:p,StringPrototypeTrim:m}=ir(),{hideStackFrames:w,codes:{ERR_SOCKET_BAD_PORT:y,ERR_INVALID_ARG_TYPE:I,ERR_INVALID_ARG_VALUE:S,ERR_OUT_OF_RANGE:T,ERR_UNKNOWN_SIGNAL:N}}=qi(),{normalizeEncoding:z}=ho(),{isAsyncFunction:$,isArrayBufferView:H}=ho().types,K={};function j(de){return de===(de|0)}function B(de){return de===de>>>0}const D=/^[0-7]+$/,P="must be a 32-bit unsigned integer or an octal string";function E(de,Ee,Ce){if(typeof de>"u"&&(de=Ce),typeof de=="string"){if(u(D,de)===null)throw new S(Ee,de,P);de=c(de,8)}return v(de,Ee),de}const b=w((de,Ee,Ce=a,we=s)=>{if(typeof de!="number")throw new I(Ee,"number",de);if(!i(de))throw new T(Ee,"an integer",de);if(de<Ce||de>we)throw new T(Ee,`>= ${Ce} && <= ${we}`,de)}),g=w((de,Ee,Ce=-2147483648,we=2147483647)=>{if(typeof de!="number")throw new I(Ee,"number",de);if(!i(de))throw new T(Ee,"an integer",de);if(de<Ce||de>we)throw new T(Ee,`>= ${Ce} && <= ${we}`,de)}),v=w((de,Ee,Ce=!1)=>{if(typeof de!="number")throw new I(Ee,"number",de);if(!i(de))throw new T(Ee,"an integer",de);const we=Ce?1:0,$e=4294967295;if(de<we||de>$e)throw new T(Ee,`>= ${we} && <= ${$e}`,de)});function A(de,Ee){if(typeof de!="string")throw new I(Ee,"string",de)}function L(de,Ee,Ce=void 0,we){if(typeof de!="number")throw new I(Ee,"number",de);if(Ce!=null&&de<Ce||we!=null&&de>we||(Ce!=null||we!=null)&&o(de))throw new T(Ee,`${Ce!=null?`>= ${Ce}`:""}${Ce!=null&&we!=null?" && ":""}${we!=null?`<= ${we}`:""}`,de)}const C=w((de,Ee,Ce)=>{if(!e(Ce,de)){const $e="must be one of: "+n(r(Ce,ze=>typeof ze=="string"?`'${ze}'`:f(ze)),", ");throw new S(Ee,de,$e)}});function O(de,Ee){if(typeof de!="boolean")throw new I(Ee,"boolean",de)}function x(de,Ee,Ce){return de==null||!l(de,Ee)?Ce:de[Ee]}const R=w((de,Ee,Ce=null)=>{const we=x(Ce,"allowArray",!1),$e=x(Ce,"allowFunction",!1);if(!x(Ce,"nullable",!1)&&de===null||!we&&t(de)||typeof de!="object"&&(!$e||typeof de!="function"))throw new I(Ee,"Object",de)}),_=w((de,Ee)=>{if(de!=null&&typeof de!="object"&&typeof de!="function")throw new I(Ee,"a dictionary",de)}),k=w((de,Ee,Ce=0)=>{if(!t(de))throw new I(Ee,"Array",de);if(de.length<Ce){const we=`must be longer than ${Ce}`;throw new S(Ee,de,we)}});function U(de,Ee){k(de,Ee);for(let Ce=0;Ce<de.length;Ce++)A(de[Ce],`${Ee}[${Ce}]`)}function q(de,Ee){k(de,Ee);for(let Ce=0;Ce<de.length;Ce++)O(de[Ce],`${Ee}[${Ce}]`)}function V(de,Ee){k(de,Ee);for(let Ce=0;Ce<de.length;Ce++){const we=de[Ce],$e=`${Ee}[${Ce}]`;if(we==null)throw new I($e,"AbortSignal",we);ie(we,$e)}}function Q(de,Ee="signal"){if(A(de,Ee),K[de]===void 0)throw K[p(de)]!==void 0?new N(de+" (signals must use all capital letters)"):new N(de)}const Y=w((de,Ee="buffer")=>{if(!H(de))throw new I(Ee,["Buffer","TypedArray","DataView"],de)});function X(de,Ee){const Ce=z(Ee),we=de.length;if(Ce==="hex"&&we%2!==0)throw new S("encoding",Ee,`is invalid for data of length ${we}`)}function ee(de,Ee="Port",Ce=!0){if(typeof de!="number"&&typeof de!="string"||typeof de=="string"&&m(de).length===0||+de!==+de>>>0||de>65535||de===0&&!Ce)throw new y(Ee,de,Ce);return de|0}const ie=w((de,Ee)=>{if(de!==void 0&&(de===null||typeof de!="object"||!("aborted"in de)))throw new I(Ee,"AbortSignal",de)}),oe=w((de,Ee)=>{if(typeof de!="function")throw new I(Ee,"Function",de)}),te=w((de,Ee)=>{if(typeof de!="function"||$(de))throw new I(Ee,"Function",de)}),se=w((de,Ee)=>{if(de!==void 0)throw new I(Ee,"undefined",de)});function ue(de,Ee,Ce){if(!e(Ce,de))throw new I(Ee,`('${n(Ce,"|")}')`,de)}const me=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ye(de,Ee){if(typeof de>"u"||!u(me,de))throw new S(Ee,de,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function pe(de){if(typeof de=="string")return ye(de,"hints"),de;if(t(de)){const Ee=de.length;let Ce="";if(Ee===0)return Ce;for(let we=0;we<Ee;we++){const $e=de[we];ye($e,"hints"),Ce+=$e,we!==Ee-1&&(Ce+=", ")}return Ce}throw new S("hints",de,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return L3={isInt32:j,isUint32:B,parseFileMode:E,validateArray:k,validateStringArray:U,validateBooleanArray:q,validateAbortSignalArray:V,validateBoolean:O,validateBuffer:Y,validateDictionary:_,validateEncoding:X,validateFunction:oe,validateInt32:g,validateInteger:b,validateNumber:L,validateObject:R,validateOneOf:C,validatePlainFunction:te,validatePort:ee,validateSignalName:Q,validateString:A,validateUint32:v,validateUndefined:se,validateUnion:ue,validateAbortSignal:ie,validateLinkHeaderValue:pe},L3}var jm={exports:{}},B3,Sk;function Oc(){if(Sk)return B3;Sk=1;const{SymbolAsyncIterator:t,SymbolIterator:e,SymbolFor:n}=ir(),r=n("nodejs.stream.destroyed"),i=n("nodejs.stream.errored"),o=n("nodejs.stream.readable"),s=n("nodejs.stream.writable"),a=n("nodejs.stream.disturbed"),c=n("nodejs.webstream.isClosedPromise"),l=n("nodejs.webstream.controllerErrorFunction");function u(x,R=!1){var _;return!!(x&&typeof x.pipe=="function"&&typeof x.on=="function"&&(!R||typeof x.pause=="function"&&typeof x.resume=="function")&&(!x._writableState||((_=x._readableState)===null||_===void 0?void 0:_.readable)!==!1)&&(!x._writableState||x._readableState))}function f(x){var R;return!!(x&&typeof x.write=="function"&&typeof x.on=="function"&&(!x._readableState||((R=x._writableState)===null||R===void 0?void 0:R.writable)!==!1))}function p(x){return!!(x&&typeof x.pipe=="function"&&x._readableState&&typeof x.on=="function"&&typeof x.write=="function")}function m(x){return x&&(x._readableState||x._writableState||typeof x.write=="function"&&typeof x.on=="function"||typeof x.pipe=="function"&&typeof x.on=="function")}function w(x){return!!(x&&!m(x)&&typeof x.pipeThrough=="function"&&typeof x.getReader=="function"&&typeof x.cancel=="function")}function y(x){return!!(x&&!m(x)&&typeof x.getWriter=="function"&&typeof x.abort=="function")}function I(x){return!!(x&&!m(x)&&typeof x.readable=="object"&&typeof x.writable=="object")}function S(x){return w(x)||y(x)||I(x)}function T(x,R){return x==null?!1:R===!0?typeof x[t]=="function":R===!1?typeof x[e]=="function":typeof x[t]=="function"||typeof x[e]=="function"}function N(x){if(!m(x))return null;const R=x._writableState,_=x._readableState,k=R||_;return!!(x.destroyed||x[r]||k!=null&&k.destroyed)}function z(x){if(!f(x))return null;if(x.writableEnded===!0)return!0;const R=x._writableState;return R!=null&&R.errored?!1:typeof(R==null?void 0:R.ended)!="boolean"?null:R.ended}function $(x,R){if(!f(x))return null;if(x.writableFinished===!0)return!0;const _=x._writableState;return _!=null&&_.errored?!1:typeof(_==null?void 0:_.finished)!="boolean"?null:!!(_.finished||R===!1&&_.ended===!0&&_.length===0)}function H(x){if(!u(x))return null;if(x.readableEnded===!0)return!0;const R=x._readableState;return!R||R.errored?!1:typeof(R==null?void 0:R.ended)!="boolean"?null:R.ended}function K(x,R){if(!u(x))return null;const _=x._readableState;return _!=null&&_.errored?!1:typeof(_==null?void 0:_.endEmitted)!="boolean"?null:!!(_.endEmitted||R===!1&&_.ended===!0&&_.length===0)}function j(x){return x&&x[o]!=null?x[o]:typeof(x==null?void 0:x.readable)!="boolean"?null:N(x)?!1:u(x)&&x.readable&&!K(x)}function B(x){return x&&x[s]!=null?x[s]:typeof(x==null?void 0:x.writable)!="boolean"?null:N(x)?!1:f(x)&&x.writable&&!z(x)}function D(x,R){return m(x)?N(x)?!0:!((R==null?void 0:R.readable)!==!1&&j(x)||(R==null?void 0:R.writable)!==!1&&B(x)):null}function P(x){var R,_;return m(x)?x.writableErrored?x.writableErrored:(R=(_=x._writableState)===null||_===void 0?void 0:_.errored)!==null&&R!==void 0?R:null:null}function E(x){var R,_;return m(x)?x.readableErrored?x.readableErrored:(R=(_=x._readableState)===null||_===void 0?void 0:_.errored)!==null&&R!==void 0?R:null:null}function b(x){if(!m(x))return null;if(typeof x.closed=="boolean")return x.closed;const R=x._writableState,_=x._readableState;return typeof(R==null?void 0:R.closed)=="boolean"||typeof(_==null?void 0:_.closed)=="boolean"?(R==null?void 0:R.closed)||(_==null?void 0:_.closed):typeof x._closed=="boolean"&&g(x)?x._closed:null}function g(x){return typeof x._closed=="boolean"&&typeof x._defaultKeepAlive=="boolean"&&typeof x._removedConnection=="boolean"&&typeof x._removedContLen=="boolean"}function v(x){return typeof x._sent100=="boolean"&&g(x)}function A(x){var R;return typeof x._consuming=="boolean"&&typeof x._dumped=="boolean"&&((R=x.req)===null||R===void 0?void 0:R.upgradeOrConnect)===void 0}function L(x){if(!m(x))return null;const R=x._writableState,_=x._readableState,k=R||_;return!k&&v(x)||!!(k&&k.autoDestroy&&k.emitClose&&k.closed===!1)}function C(x){var R;return!!(x&&((R=x[a])!==null&&R!==void 0?R:x.readableDidRead||x.readableAborted))}function O(x){var R,_,k,U,q,V,Q,Y,X,ee;return!!(x&&((R=(_=(k=(U=(q=(V=x[i])!==null&&V!==void 0?V:x.readableErrored)!==null&&q!==void 0?q:x.writableErrored)!==null&&U!==void 0?U:(Q=x._readableState)===null||Q===void 0?void 0:Q.errorEmitted)!==null&&k!==void 0?k:(Y=x._writableState)===null||Y===void 0?void 0:Y.errorEmitted)!==null&&_!==void 0?_:(X=x._readableState)===null||X===void 0?void 0:X.errored)!==null&&R!==void 0?R:!((ee=x._writableState)===null||ee===void 0)&&ee.errored))}return B3={isDestroyed:N,kIsDestroyed:r,isDisturbed:C,kIsDisturbed:a,isErrored:O,kIsErrored:i,isReadable:j,kIsReadable:o,kIsClosedPromise:c,kControllerErrorFunction:l,kIsWritable:s,isClosed:b,isDuplexNodeStream:p,isFinished:D,isIterable:T,isReadableNodeStream:u,isReadableStream:w,isReadableEnded:H,isReadableFinished:K,isReadableErrored:E,isNodeStream:m,isWebStream:S,isWritable:B,isWritableNodeStream:f,isWritableStream:y,isWritableEnded:z,isWritableFinished:$,isWritableErrored:P,isServerRequest:A,isServerResponse:v,willEmitClose:L,isTransformStream:I},B3}var Ck;function nu(){if(Ck)return jm.exports;Ck=1;const t=tu(),{AbortError:e,codes:n}=qi(),{ERR_INVALID_ARG_TYPE:r,ERR_STREAM_PREMATURE_CLOSE:i}=n,{kEmptyObject:o,once:s}=ho(),{validateAbortSignal:a,validateFunction:c,validateObject:l,validateBoolean:u}=ig(),{Promise:f,PromisePrototypeThen:p,SymbolDispose:m}=ir(),{isClosed:w,isReadable:y,isReadableNodeStream:I,isReadableStream:S,isReadableFinished:T,isReadableErrored:N,isWritable:z,isWritableNodeStream:$,isWritableStream:H,isWritableFinished:K,isWritableErrored:j,isNodeStream:B,willEmitClose:D,kIsClosedPromise:P}=Oc();let E;function b(C){return C.setHeader&&typeof C.abort=="function"}const g=()=>{};function v(C,O,x){var R,_;if(arguments.length===2?(x=O,O=o):O==null?O=o:l(O,"options"),c(x,"callback"),a(O.signal,"options.signal"),x=s(x),S(C)||H(C))return A(C,O,x);if(!B(C))throw new r("stream",["ReadableStream","WritableStream","Stream"],C);const k=(R=O.readable)!==null&&R!==void 0?R:I(C),U=(_=O.writable)!==null&&_!==void 0?_:$(C),q=C._writableState,V=C._readableState,Q=()=>{C.writable||ee()};let Y=D(C)&&I(C)===k&&$(C)===U,X=K(C,!1);const ee=()=>{X=!0,C.destroyed&&(Y=!1),!(Y&&(!C.readable||k))&&(!k||ie)&&x.call(C)};let ie=T(C,!1);const oe=()=>{ie=!0,C.destroyed&&(Y=!1),!(Y&&(!C.writable||U))&&(!U||X)&&x.call(C)},te=de=>{x.call(C,de)};let se=w(C);const ue=()=>{se=!0;const de=j(C)||N(C);if(de&&typeof de!="boolean")return x.call(C,de);if(k&&!ie&&I(C,!0)&&!T(C,!1))return x.call(C,new i);if(U&&!X&&!K(C,!1))return x.call(C,new i);x.call(C)},me=()=>{se=!0;const de=j(C)||N(C);if(de&&typeof de!="boolean")return x.call(C,de);x.call(C)},ye=()=>{C.req.on("finish",ee)};b(C)?(C.on("complete",ee),Y||C.on("abort",ue),C.req?ye():C.on("request",ye)):U&&!q&&(C.on("end",Q),C.on("close",Q)),!Y&&typeof C.aborted=="boolean"&&C.on("aborted",ue),C.on("end",oe),C.on("finish",ee),O.error!==!1&&C.on("error",te),C.on("close",ue),se?t.nextTick(ue):q!=null&&q.errorEmitted||V!=null&&V.errorEmitted?Y||t.nextTick(me):(!k&&(!Y||y(C))&&(X||z(C)===!1)||!U&&(!Y||z(C))&&(ie||y(C)===!1)||V&&C.req&&C.aborted)&&t.nextTick(me);const pe=()=>{x=g,C.removeListener("aborted",ue),C.removeListener("complete",ee),C.removeListener("abort",ue),C.removeListener("request",ye),C.req&&C.req.removeListener("finish",ee),C.removeListener("end",Q),C.removeListener("close",Q),C.removeListener("finish",ee),C.removeListener("end",oe),C.removeListener("error",te),C.removeListener("close",ue)};if(O.signal&&!se){const de=()=>{const Ee=x;pe(),Ee.call(C,new e(void 0,{cause:O.signal.reason}))};if(O.signal.aborted)t.nextTick(de);else{E=E||ho().addAbortListener;const Ee=E(O.signal,de),Ce=x;x=s((...we)=>{Ee[m](),Ce.apply(C,we)})}}return pe}function A(C,O,x){let R=!1,_=g;if(O.signal)if(_=()=>{R=!0,x.call(C,new e(void 0,{cause:O.signal.reason}))},O.signal.aborted)t.nextTick(_);else{E=E||ho().addAbortListener;const U=E(O.signal,_),q=x;x=s((...V)=>{U[m](),q.apply(C,V)})}const k=(...U)=>{R||t.nextTick(()=>x.apply(C,U))};return p(C[P].promise,k,k),g}function L(C,O){var x;let R=!1;return O===null&&(O=o),(x=O)!==null&&x!==void 0&&x.cleanup&&(u(O.cleanup,"cleanup"),R=O.cleanup),new f((_,k)=>{const U=v(C,O,q=>{R&&U(),q?k(q):_()})})}return jm.exports=v,jm.exports.finished=L,jm.exports}var D3,Ak;function Sh(){if(Ak)return D3;Ak=1;const t=tu(),{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:n},AbortError:r}=qi(),{Symbol:i}=ir(),{kIsDestroyed:o,isDestroyed:s,isFinished:a,isServerRequest:c}=Oc(),l=i("kDestroy"),u=i("kConstruct");function f(D,P,E){D&&(D.stack,P&&!P.errored&&(P.errored=D),E&&!E.errored&&(E.errored=D))}function p(D,P){const E=this._readableState,b=this._writableState,g=b||E;return b!=null&&b.destroyed||E!=null&&E.destroyed?(typeof P=="function"&&P(),this):(f(D,b,E),b&&(b.destroyed=!0),E&&(E.destroyed=!0),g.constructed?m(this,D,P):this.once(l,function(v){m(this,e(v,D),P)}),this)}function m(D,P,E){let b=!1;function g(v){if(b)return;b=!0;const A=D._readableState,L=D._writableState;f(v,L,A),L&&(L.closed=!0),A&&(A.closed=!0),typeof E=="function"&&E(v),v?t.nextTick(w,D,v):t.nextTick(y,D)}try{D._destroy(P||null,g)}catch(v){g(v)}}function w(D,P){I(D,P),y(D)}function y(D){const P=D._readableState,E=D._writableState;E&&(E.closeEmitted=!0),P&&(P.closeEmitted=!0),(E!=null&&E.emitClose||P!=null&&P.emitClose)&&D.emit("close")}function I(D,P){const E=D._readableState,b=D._writableState;b!=null&&b.errorEmitted||E!=null&&E.errorEmitted||(b&&(b.errorEmitted=!0),E&&(E.errorEmitted=!0),D.emit("error",P))}function S(){const D=this._readableState,P=this._writableState;D&&(D.constructed=!0,D.closed=!1,D.closeEmitted=!1,D.destroyed=!1,D.errored=null,D.errorEmitted=!1,D.reading=!1,D.ended=D.readable===!1,D.endEmitted=D.readable===!1),P&&(P.constructed=!0,P.destroyed=!1,P.closed=!1,P.closeEmitted=!1,P.errored=null,P.errorEmitted=!1,P.finalCalled=!1,P.prefinished=!1,P.ended=P.writable===!1,P.ending=P.writable===!1,P.finished=P.writable===!1)}function T(D,P,E){const b=D._readableState,g=D._writableState;if(g!=null&&g.destroyed||b!=null&&b.destroyed)return this;b!=null&&b.autoDestroy||g!=null&&g.autoDestroy?D.destroy(P):P&&(P.stack,g&&!g.errored&&(g.errored=P),b&&!b.errored&&(b.errored=P),E?t.nextTick(I,D,P):I(D,P))}function N(D,P){if(typeof D._construct!="function")return;const E=D._readableState,b=D._writableState;E&&(E.constructed=!1),b&&(b.constructed=!1),D.once(u,P),!(D.listenerCount(u)>1)&&t.nextTick(z,D)}function z(D){let P=!1;function E(b){if(P){T(D,b??new n);return}P=!0;const g=D._readableState,v=D._writableState,A=v||g;g&&(g.constructed=!0),v&&(v.constructed=!0),A.destroyed?D.emit(l,b):b?T(D,b,!0):t.nextTick($,D)}try{D._construct(b=>{t.nextTick(E,b)})}catch(b){t.nextTick(E,b)}}function $(D){D.emit(u)}function H(D){return(D==null?void 0:D.setHeader)&&typeof D.abort=="function"}function K(D){D.emit("close")}function j(D,P){D.emit("error",P),t.nextTick(K,D)}function B(D,P){!D||s(D)||(!P&&!a(D)&&(P=new r),c(D)?(D.socket=null,D.destroy(P)):H(D)?D.abort():H(D.req)?D.req.abort():typeof D.destroy=="function"?D.destroy(P):typeof D.close=="function"?D.close():P?t.nextTick(j,D,P):t.nextTick(K,D),D.destroyed||(D[o]=!0))}return D3={construct:N,destroyer:B,destroy:p,undestroy:S,errorOrDestroy:T},D3}var j3,Ik;function cC(){if(Ik)return j3;Ik=1;const{ArrayIsArray:t,ObjectSetPrototypeOf:e}=ir(),{EventEmitter:n}=ng();function r(o){n.call(this,o)}e(r.prototype,n.prototype),e(r,n),r.prototype.pipe=function(o,s){const a=this;function c(y){o.writable&&o.write(y)===!1&&a.pause&&a.pause()}a.on("data",c);function l(){a.readable&&a.resume&&a.resume()}o.on("drain",l),!o._isStdio&&(!s||s.end!==!1)&&(a.on("end",f),a.on("close",p));let u=!1;function f(){u||(u=!0,o.end())}function p(){u||(u=!0,typeof o.destroy=="function"&&o.destroy())}function m(y){w(),n.listenerCount(this,"error")===0&&this.emit("error",y)}i(a,"error",m),i(o,"error",m);function w(){a.removeListener("data",c),o.removeListener("drain",l),a.removeListener("end",f),a.removeListener("close",p),a.removeListener("error",m),o.removeListener("error",m),a.removeListener("end",w),a.removeListener("close",w),o.removeListener("close",w)}return a.on("end",w),a.on("close",w),o.on("close",w),o.emit("pipe",a),o};function i(o,s,a){if(typeof o.prependListener=="function")return o.prependListener(s,a);!o._events||!o._events[s]?o.on(s,a):t(o._events[s])?o._events[s].unshift(a):o._events[s]=[a,o._events[s]]}return j3={Stream:r,prependListener:i},j3}var $3={exports:{}},kk;function jw(){return kk||(kk=1,function(t){const{SymbolDispose:e}=ir(),{AbortError:n,codes:r}=qi(),{isNodeStream:i,isWebStream:o,kControllerErrorFunction:s}=Oc(),a=nu(),{ERR_INVALID_ARG_TYPE:c}=r;let l;const u=(f,p)=>{if(typeof f!="object"||!("aborted"in f))throw new c(p,"AbortSignal",f)};t.exports.addAbortSignal=function(p,m){if(u(p,"signal"),!i(m)&&!o(m))throw new c("stream",["ReadableStream","WritableStream","Stream"],m);return t.exports.addAbortSignalNoValidate(p,m)},t.exports.addAbortSignalNoValidate=function(f,p){if(typeof f!="object"||!("aborted"in f))return p;const m=i(p)?()=>{p.destroy(new n(void 0,{cause:f.reason}))}:()=>{p[s](new n(void 0,{cause:f.reason}))};if(f.aborted)m();else{l=l||ho().addAbortListener;const w=l(f,m);a(p,w[e])}return p}}($3)),$3.exports}var F3,Mk;function hK(){if(Mk)return F3;Mk=1;const{StringPrototypeSlice:t,SymbolIterator:e,TypedArrayPrototypeSet:n,Uint8Array:r}=ir(),{Buffer:i}=Ma(),{inspect:o}=ho();return F3=class{constructor(){this.head=null,this.tail=null,this.length=0}push(a){const c={data:a,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}unshift(a){const c={data:a,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}shift(){if(this.length===0)return;const a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}clear(){this.head=this.tail=null,this.length=0}join(a){if(this.length===0)return"";let c=this.head,l=""+c.data;for(;(c=c.next)!==null;)l+=a+c.data;return l}concat(a){if(this.length===0)return i.alloc(0);const c=i.allocUnsafe(a>>>0);let l=this.head,u=0;for(;l;)n(c,l.data,u),u+=l.data.length,l=l.next;return c}consume(a,c){const l=this.head.data;if(a<l.length){const u=l.slice(0,a);return this.head.data=l.slice(a),u}return a===l.length?this.shift():c?this._getString(a):this._getBuffer(a)}first(){return this.head.data}*[e](){for(let a=this.head;a;a=a.next)yield a.data}_getString(a){let c="",l=this.head,u=0;do{const f=l.data;if(a>f.length)c+=f,a-=f.length;else{a===f.length?(c+=f,++u,l.next?this.head=l.next:this.head=this.tail=null):(c+=t(f,0,a),this.head=l,l.data=t(f,a));break}++u}while((l=l.next)!==null);return this.length-=u,c}_getBuffer(a){const c=i.allocUnsafe(a),l=a;let u=this.head,f=0;do{const p=u.data;if(a>p.length)n(c,p,l-a),a-=p.length;else{a===p.length?(n(c,p,l-a),++f,u.next?this.head=u.next:this.head=this.tail=null):(n(c,new r(p.buffer,p.byteOffset,a),l-a),this.head=u,u.data=p.slice(a));break}++f}while((u=u.next)!==null);return this.length-=f,c}[Symbol.for("nodejs.util.inspect.custom")](a,c){return o(this,{...c,depth:0,customInspect:!1})}},F3}var U3,Rk;function $w(){if(Rk)return U3;Rk=1;const{MathFloor:t,NumberIsInteger:e}=ir(),{validateInteger:n}=ig(),{ERR_INVALID_ARG_VALUE:r}=qi().codes;let i=16*1024,o=16;function s(u,f,p){return u.highWaterMark!=null?u.highWaterMark:f?u[p]:null}function a(u){return u?o:i}function c(u,f){n(f,"value",0),u?o=f:i=f}function l(u,f,p,m){const w=s(f,m,p);if(w!=null){if(!e(w)||w<0){const y=m?`options.${p}`:"options.highWaterMark";throw new r(y,w)}return t(w)}return a(u.objectMode)}return U3={getHighWaterMark:l,getDefaultHighWaterMark:a,setDefaultHighWaterMark:c},U3}var z3={},$m={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Ok;function PN(){return Ok||(Ok=1,function(t,e){var n=Ma(),r=n.Buffer;function i(s,a){for(var c in s)a[c]=s[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=o);function o(s,a,c){return r(s,a,c)}o.prototype=Object.create(r.prototype),i(r,o),o.from=function(s,a,c){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,a,c)},o.alloc=function(s,a,c){if(typeof s!="number")throw new TypeError("Argument must be a number");var l=r(s);return a!==void 0?typeof c=="string"?l.fill(a,c):l.fill(a):l.fill(0),l},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}}($m,$m.exports)),$m.exports}var Tk;function pK(){if(Tk)return z3;Tk=1;var t=PN().Buffer,e=t.isEncoding||function(S){switch(S=""+S,S&&S.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(S){if(!S)return"utf8";for(var T;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(T)return;S=(""+S).toLowerCase(),T=!0}}function r(S){var T=n(S);if(typeof T!="string"&&(t.isEncoding===e||!e(S)))throw new Error("Unknown encoding: "+S);return T||S}z3.StringDecoder=i;function i(S){this.encoding=r(S);var T;switch(this.encoding){case"utf16le":this.text=f,this.end=p,T=4;break;case"utf8":this.fillLast=c,T=4;break;case"base64":this.text=m,this.end=w,T=3;break;default:this.write=y,this.end=I;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(T)}i.prototype.write=function(S){if(S.length===0)return"";var T,N;if(this.lastNeed){if(T=this.fillLast(S),T===void 0)return"";N=this.lastNeed,this.lastNeed=0}else N=0;return N<S.length?T?T+this.text(S,N):this.text(S,N):T||""},i.prototype.end=u,i.prototype.text=l,i.prototype.fillLast=function(S){if(this.lastNeed<=S.length)return S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,S.length),this.lastNeed-=S.length};function o(S){return S<=127?0:S>>5===6?2:S>>4===14?3:S>>3===30?4:S>>6===2?-1:-2}function s(S,T,N){var z=T.length-1;if(z<N)return 0;var $=o(T[z]);return $>=0?($>0&&(S.lastNeed=$-1),$):--z<N||$===-2?0:($=o(T[z]),$>=0?($>0&&(S.lastNeed=$-2),$):--z<N||$===-2?0:($=o(T[z]),$>=0?($>0&&($===2?$=0:S.lastNeed=$-3),$):0))}function a(S,T,N){if((T[0]&192)!==128)return S.lastNeed=0,"";if(S.lastNeed>1&&T.length>1){if((T[1]&192)!==128)return S.lastNeed=1,"";if(S.lastNeed>2&&T.length>2&&(T[2]&192)!==128)return S.lastNeed=2,""}}function c(S){var T=this.lastTotal-this.lastNeed,N=a(this,S);if(N!==void 0)return N;if(this.lastNeed<=S.length)return S.copy(this.lastChar,T,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,T,0,S.length),this.lastNeed-=S.length}function l(S,T){var N=s(this,S,T);if(!this.lastNeed)return S.toString("utf8",T);this.lastTotal=N;var z=S.length-(N-this.lastNeed);return S.copy(this.lastChar,0,z),S.toString("utf8",T,z)}function u(S){var T=S&&S.length?this.write(S):"";return this.lastNeed?T+"":T}function f(S,T){if((S.length-T)%2===0){var N=S.toString("utf16le",T);if(N){var z=N.charCodeAt(N.length-1);if(z>=55296&&z<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1],N.slice(0,-1)}return N}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=S[S.length-1],S.toString("utf16le",T,S.length-1)}function p(S){var T=S&&S.length?this.write(S):"";if(this.lastNeed){var N=this.lastTotal-this.lastNeed;return T+this.lastChar.toString("utf16le",0,N)}return T}function m(S,T){var N=(S.length-T)%3;return N===0?S.toString("base64",T):(this.lastNeed=3-N,this.lastTotal=3,N===1?this.lastChar[0]=S[S.length-1]:(this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1]),S.toString("base64",T,S.length-N))}function w(S){var T=S&&S.length?this.write(S):"";return this.lastNeed?T+this.lastChar.toString("base64",0,3-this.lastNeed):T}function y(S){return S.toString(this.encoding)}function I(S){return S&&S.length?this.write(S):""}return z3}var q3,Nk;function LN(){if(Nk)return q3;Nk=1;const t=tu(),{PromisePrototypeThen:e,SymbolAsyncIterator:n,SymbolIterator:r}=ir(),{Buffer:i}=Ma(),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_NULL_VALUES:s}=qi().codes;function a(c,l,u){let f;if(typeof l=="string"||l instanceof i)return new c({objectMode:!0,...u,read(){this.push(l),this.push(null)}});let p;if(l&&l[n])p=!0,f=l[n]();else if(l&&l[r])p=!1,f=l[r]();else throw new o("iterable",["Iterable"],l);const m=new c({objectMode:!0,highWaterMark:1,...u});let w=!1;m._read=function(){w||(w=!0,I())},m._destroy=function(S,T){e(y(S),()=>t.nextTick(T,S),N=>t.nextTick(T,N||S))};async function y(S){const T=S!=null,N=typeof f.throw=="function";if(T&&N){const{value:z,done:$}=await f.throw(S);if(await z,$)return}if(typeof f.return=="function"){const{value:z}=await f.return();await z}}async function I(){for(;;){try{const{value:S,done:T}=p?await f.next():f.next();if(T)m.push(null);else{const N=S&&typeof S.then=="function"?await S:S;if(N===null)throw w=!1,new s;if(m.push(N))continue;w=!1}}catch(S){m.destroy(S)}break}}return m}return q3=a,q3}var H3,Pk;function Fw(){if(Pk)return H3;Pk=1;const t=tu(),{ArrayPrototypeIndexOf:e,NumberIsInteger:n,NumberIsNaN:r,NumberParseInt:i,ObjectDefineProperties:o,ObjectKeys:s,ObjectSetPrototypeOf:a,Promise:c,SafeSet:l,SymbolAsyncDispose:u,SymbolAsyncIterator:f,Symbol:p}=ir();H3=we,we.ReadableState=Ce;const{EventEmitter:m}=ng(),{Stream:w,prependListener:y}=cC(),{Buffer:I}=Ma(),{addAbortSignal:S}=jw(),T=nu();let N=ho().debuglog("stream",le=>{N=le});const z=hK(),$=Sh(),{getHighWaterMark:H,getDefaultHighWaterMark:K}=$w(),{aggregateTwoErrors:j,codes:{ERR_INVALID_ARG_TYPE:B,ERR_METHOD_NOT_IMPLEMENTED:D,ERR_OUT_OF_RANGE:P,ERR_STREAM_PUSH_AFTER_EOF:E,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:b},AbortError:g}=qi(),{validateObject:v}=ig(),A=p("kPaused"),{StringDecoder:L}=pK(),C=LN();a(we.prototype,w.prototype),a(we,w);const O=()=>{},{errorOrDestroy:x}=$,R=1,_=2,k=4,U=8,q=16,V=32,Q=64,Y=128,X=256,ee=512,ie=1024,oe=2048,te=4096,se=8192,ue=16384,me=32768,ye=65536,pe=1<<17,de=1<<18;function Ee(le){return{enumerable:!1,get(){return(this.state&le)!==0},set(fe){fe?this.state|=le:this.state&=~le}}}o(Ce.prototype,{objectMode:Ee(R),ended:Ee(_),endEmitted:Ee(k),reading:Ee(U),constructed:Ee(q),sync:Ee(V),needReadable:Ee(Q),emittedReadable:Ee(Y),readableListening:Ee(X),resumeScheduled:Ee(ee),errorEmitted:Ee(ie),emitClose:Ee(oe),autoDestroy:Ee(te),destroyed:Ee(se),closed:Ee(ue),closeEmitted:Ee(me),multiAwaitDrain:Ee(ye),readingMore:Ee(pe),dataEmitted:Ee(de)});function Ce(le,fe,He){typeof He!="boolean"&&(He=fe instanceof Cc()),this.state=oe|te|q|V,le&&le.objectMode&&(this.state|=R),He&&le&&le.readableObjectMode&&(this.state|=R),this.highWaterMark=le?H(this,le,"readableHighWaterMark",He):K(!1),this.buffer=new z,this.length=0,this.pipes=[],this.flowing=null,this[A]=null,le&&le.emitClose===!1&&(this.state&=~oe),le&&le.autoDestroy===!1&&(this.state&=~te),this.errored=null,this.defaultEncoding=le&&le.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,le&&le.encoding&&(this.decoder=new L(le.encoding),this.encoding=le.encoding)}function we(le){if(!(this instanceof we))return new we(le);const fe=this instanceof Cc();this._readableState=new Ce(le,this,fe),le&&(typeof le.read=="function"&&(this._read=le.read),typeof le.destroy=="function"&&(this._destroy=le.destroy),typeof le.construct=="function"&&(this._construct=le.construct),le.signal&&!fe&&S(le.signal,this)),w.call(this,le),$.construct(this,()=>{this._readableState.needReadable&&ge(this,this._readableState)})}we.prototype.destroy=$.destroy,we.prototype._undestroy=$.undestroy,we.prototype._destroy=function(le,fe){fe(le)},we.prototype[m.captureRejectionSymbol]=function(le){this.destroy(le)},we.prototype[u]=function(){let le;return this.destroyed||(le=this.readableEnded?null:new g,this.destroy(le)),new c((fe,He)=>T(this,Ue=>Ue&&Ue!==le?He(Ue):fe(null)))},we.prototype.push=function(le,fe){return $e(this,le,fe,!1)},we.prototype.unshift=function(le,fe){return $e(this,le,fe,!0)};function $e(le,fe,He,Ue){N("readableAddChunk",fe);const Ge=le._readableState;let Pt;if((Ge.state&R)===0&&(typeof fe=="string"?(He=He||Ge.defaultEncoding,Ge.encoding!==He&&(Ue&&Ge.encoding?fe=I.from(fe,He).toString(Ge.encoding):(fe=I.from(fe,He),He=""))):fe instanceof I?He="":w._isUint8Array(fe)?(fe=w._uint8ArrayToBuffer(fe),He=""):fe!=null&&(Pt=new B("chunk",["string","Buffer","Uint8Array"],fe))),Pt)x(le,Pt);else if(fe===null)Ge.state&=~U,G(le,Ge);else if((Ge.state&R)!==0||fe&&fe.length>0)if(Ue)if((Ge.state&k)!==0)x(le,new b);else{if(Ge.destroyed||Ge.errored)return!1;ze(le,Ge,fe,!0)}else if(Ge.ended)x(le,new E);else{if(Ge.destroyed||Ge.errored)return!1;Ge.state&=~U,Ge.decoder&&!He?(fe=Ge.decoder.write(fe),Ge.objectMode||fe.length!==0?ze(le,Ge,fe,!1):ge(le,Ge)):ze(le,Ge,fe,!1)}else Ue||(Ge.state&=~U,ge(le,Ge));return!Ge.ended&&(Ge.length<Ge.highWaterMark||Ge.length===0)}function ze(le,fe,He,Ue){fe.flowing&&fe.length===0&&!fe.sync&&le.listenerCount("data")>0?((fe.state&ye)!==0?fe.awaitDrainWriters.clear():fe.awaitDrainWriters=null,fe.dataEmitted=!0,le.emit("data",He)):(fe.length+=fe.objectMode?1:He.length,Ue?fe.buffer.unshift(He):fe.buffer.push(He),(fe.state&Q)!==0&&Z(le)),ge(le,fe)}we.prototype.isPaused=function(){const le=this._readableState;return le[A]===!0||le.flowing===!1},we.prototype.setEncoding=function(le){const fe=new L(le);this._readableState.decoder=fe,this._readableState.encoding=this._readableState.decoder.encoding;const He=this._readableState.buffer;let Ue="";for(const Ge of He)Ue+=fe.write(Ge);return He.clear(),Ue!==""&&He.push(Ue),this._readableState.length=Ue.length,this};const Ze=1073741824;function We(le){if(le>Ze)throw new P("size","<= 1GiB",le);return le--,le|=le>>>1,le|=le>>>2,le|=le>>>4,le|=le>>>8,le|=le>>>16,le++,le}function ne(le,fe){return le<=0||fe.length===0&&fe.ended?0:(fe.state&R)!==0?1:r(le)?fe.flowing&&fe.length?fe.buffer.first().length:fe.length:le<=fe.length?le:fe.ended?fe.length:0}we.prototype.read=function(le){N("read",le),le===void 0?le=NaN:n(le)||(le=i(le,10));const fe=this._readableState,He=le;if(le>fe.highWaterMark&&(fe.highWaterMark=We(le)),le!==0&&(fe.state&=~Y),le===0&&fe.needReadable&&((fe.highWaterMark!==0?fe.length>=fe.highWaterMark:fe.length>0)||fe.ended))return N("read: emitReadable",fe.length,fe.ended),fe.length===0&&fe.ended?Ve(this):Z(this),null;if(le=ne(le,fe),le===0&&fe.ended)return fe.length===0&&Ve(this),null;let Ue=(fe.state&Q)!==0;if(N("need readable",Ue),(fe.length===0||fe.length-le<fe.highWaterMark)&&(Ue=!0,N("length less than watermark",Ue)),fe.ended||fe.reading||fe.destroyed||fe.errored||!fe.constructed)Ue=!1,N("reading, ended or constructing",Ue);else if(Ue){N("do read"),fe.state|=U|V,fe.length===0&&(fe.state|=Q);try{this._read(fe.highWaterMark)}catch(Pt){x(this,Pt)}fe.state&=~V,fe.reading||(le=ne(He,fe))}let Ge;return le>0?Ge=rn(le,fe):Ge=null,Ge===null?(fe.needReadable=fe.length<=fe.highWaterMark,le=0):(fe.length-=le,fe.multiAwaitDrain?fe.awaitDrainWriters.clear():fe.awaitDrainWriters=null),fe.length===0&&(fe.ended||(fe.needReadable=!0),He!==le&&fe.ended&&Ve(this)),Ge!==null&&!fe.errorEmitted&&!fe.closeEmitted&&(fe.dataEmitted=!0,this.emit("data",Ge)),Ge};function G(le,fe){if(N("onEofChunk"),!fe.ended){if(fe.decoder){const He=fe.decoder.end();He&&He.length&&(fe.buffer.push(He),fe.length+=fe.objectMode?1:He.length)}fe.ended=!0,fe.sync?Z(le):(fe.needReadable=!1,fe.emittedReadable=!0,ce(le))}}function Z(le){const fe=le._readableState;N("emitReadable",fe.needReadable,fe.emittedReadable),fe.needReadable=!1,fe.emittedReadable||(N("emitReadable",fe.flowing),fe.emittedReadable=!0,t.nextTick(ce,le))}function ce(le){const fe=le._readableState;N("emitReadable_",fe.destroyed,fe.length,fe.ended),!fe.destroyed&&!fe.errored&&(fe.length||fe.ended)&&(le.emit("readable"),fe.emittedReadable=!1),fe.needReadable=!fe.flowing&&!fe.ended&&fe.length<=fe.highWaterMark,vt(le)}function ge(le,fe){!fe.readingMore&&fe.constructed&&(fe.readingMore=!0,t.nextTick(Ae,le,fe))}function Ae(le,fe){for(;!fe.reading&&!fe.ended&&(fe.length<fe.highWaterMark||fe.flowing&&fe.length===0);){const He=fe.length;if(N("maybeReadMore read 0"),le.read(0),He===fe.length)break}fe.readingMore=!1}we.prototype._read=function(le){throw new D("_read()")},we.prototype.pipe=function(le,fe){const He=this,Ue=this._readableState;Ue.pipes.length===1&&(Ue.multiAwaitDrain||(Ue.multiAwaitDrain=!0,Ue.awaitDrainWriters=new l(Ue.awaitDrainWriters?[Ue.awaitDrainWriters]:[]))),Ue.pipes.push(le),N("pipe count=%d opts=%j",Ue.pipes.length,fe);const Pt=(!fe||fe.end!==!1)&&le!==t.stdout&&le!==t.stderr?Lt:wn;Ue.endEmitted?t.nextTick(Pt):He.once("end",Pt),le.on("unpipe",Jt);function Jt(kr,sr){N("onunpipe"),kr===He&&sr&&sr.hasUnpiped===!1&&(sr.hasUnpiped=!0,Kt())}function Lt(){N("onend"),le.end()}let Qt,sn=!1;function Kt(){N("cleanup"),le.removeListener("close",pn),le.removeListener("finish",on),Qt&&le.removeListener("drain",Qt),le.removeListener("error",Wt),le.removeListener("unpipe",Jt),He.removeListener("end",Lt),He.removeListener("end",wn),He.removeListener("data",Mn),sn=!0,Qt&&Ue.awaitDrainWriters&&(!le._writableState||le._writableState.needDrain)&&Qt()}function kn(){sn||(Ue.pipes.length===1&&Ue.pipes[0]===le?(N("false write response, pause",0),Ue.awaitDrainWriters=le,Ue.multiAwaitDrain=!1):Ue.pipes.length>1&&Ue.pipes.includes(le)&&(N("false write response, pause",Ue.awaitDrainWriters.size),Ue.awaitDrainWriters.add(le)),He.pause()),Qt||(Qt=Re(He,le),le.on("drain",Qt))}He.on("data",Mn);function Mn(kr){N("ondata");const sr=le.write(kr);N("dest.write",sr),sr===!1&&kn()}function Wt(kr){if(N("onerror",kr),wn(),le.removeListener("error",Wt),le.listenerCount("error")===0){const sr=le._writableState||le._readableState;sr&&!sr.errorEmitted?x(le,kr):le.emit("error",kr)}}y(le,"error",Wt);function pn(){le.removeListener("finish",on),wn()}le.once("close",pn);function on(){N("onfinish"),le.removeListener("close",pn),wn()}le.once("finish",on);function wn(){N("unpipe"),He.unpipe(le)}return le.emit("pipe",He),le.writableNeedDrain===!0?kn():Ue.flowing||(N("pipe resume"),He.resume()),le};function Re(le,fe){return function(){const Ue=le._readableState;Ue.awaitDrainWriters===fe?(N("pipeOnDrain",1),Ue.awaitDrainWriters=null):Ue.multiAwaitDrain&&(N("pipeOnDrain",Ue.awaitDrainWriters.size),Ue.awaitDrainWriters.delete(fe)),(!Ue.awaitDrainWriters||Ue.awaitDrainWriters.size===0)&&le.listenerCount("data")&&le.resume()}}we.prototype.unpipe=function(le){const fe=this._readableState,He={hasUnpiped:!1};if(fe.pipes.length===0)return this;if(!le){const Ge=fe.pipes;fe.pipes=[],this.pause();for(let Pt=0;Pt<Ge.length;Pt++)Ge[Pt].emit("unpipe",this,{hasUnpiped:!1});return this}const Ue=e(fe.pipes,le);return Ue===-1?this:(fe.pipes.splice(Ue,1),fe.pipes.length===0&&this.pause(),le.emit("unpipe",this,He),this)},we.prototype.on=function(le,fe){const He=w.prototype.on.call(this,le,fe),Ue=this._readableState;return le==="data"?(Ue.readableListening=this.listenerCount("readable")>0,Ue.flowing!==!1&&this.resume()):le==="readable"&&!Ue.endEmitted&&!Ue.readableListening&&(Ue.readableListening=Ue.needReadable=!0,Ue.flowing=!1,Ue.emittedReadable=!1,N("on readable",Ue.length,Ue.reading),Ue.length?Z(this):Ue.reading||t.nextTick(Ct,this)),He},we.prototype.addListener=we.prototype.on,we.prototype.removeListener=function(le,fe){const He=w.prototype.removeListener.call(this,le,fe);return le==="readable"&&t.nextTick(lt,this),He},we.prototype.off=we.prototype.removeListener,we.prototype.removeAllListeners=function(le){const fe=w.prototype.removeAllListeners.apply(this,arguments);return(le==="readable"||le===void 0)&&t.nextTick(lt,this),fe};function lt(le){const fe=le._readableState;fe.readableListening=le.listenerCount("readable")>0,fe.resumeScheduled&&fe[A]===!1?fe.flowing=!0:le.listenerCount("data")>0?le.resume():fe.readableListening||(fe.flowing=null)}function Ct(le){N("readable nexttick read 0"),le.read(0)}we.prototype.resume=function(){const le=this._readableState;return le.flowing||(N("resume"),le.flowing=!le.readableListening,ot(this,le)),le[A]=!1,this};function ot(le,fe){fe.resumeScheduled||(fe.resumeScheduled=!0,t.nextTick(Ot,le,fe))}function Ot(le,fe){N("resume",fe.reading),fe.reading||le.read(0),fe.resumeScheduled=!1,le.emit("resume"),vt(le),fe.flowing&&!fe.reading&&le.read(0)}we.prototype.pause=function(){return N("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(N("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[A]=!0,this};function vt(le){const fe=le._readableState;for(N("flow",fe.flowing);fe.flowing&&le.read()!==null;);}we.prototype.wrap=function(le){let fe=!1;le.on("data",Ue=>{!this.push(Ue)&&le.pause&&(fe=!0,le.pause())}),le.on("end",()=>{this.push(null)}),le.on("error",Ue=>{x(this,Ue)}),le.on("close",()=>{this.destroy()}),le.on("destroy",()=>{this.destroy()}),this._read=()=>{fe&&le.resume&&(fe=!1,le.resume())};const He=s(le);for(let Ue=1;Ue<He.length;Ue++){const Ge=He[Ue];this[Ge]===void 0&&typeof le[Ge]=="function"&&(this[Ge]=le[Ge].bind(le))}return this},we.prototype[f]=function(){return xt(this)},we.prototype.iterator=function(le){return le!==void 0&&v(le,"options"),xt(this,le)};function xt(le,fe){typeof le.read!="function"&&(le=we.wrap(le,{objectMode:!0}));const He=hn(le,fe);return He.stream=le,He}async function*hn(le,fe){let He=O;function Ue(Jt){this===le?(He(),He=O):He=Jt}le.on("readable",Ue);let Ge;const Pt=T(le,{writable:!1},Jt=>{Ge=Jt?j(Ge,Jt):null,He(),He=O});try{for(;;){const Jt=le.destroyed?null:le.read();if(Jt!==null)yield Jt;else{if(Ge)throw Ge;if(Ge===null)return;await new c(Ue)}}}catch(Jt){throw Ge=j(Ge,Jt),Ge}finally{(Ge||(fe==null?void 0:fe.destroyOnReturn)!==!1)&&(Ge===void 0||le._readableState.autoDestroy)?$.destroyer(le,null):(le.off("readable",Ue),Pt())}}o(we.prototype,{readable:{__proto__:null,get(){const le=this._readableState;return!!le&&le.readable!==!1&&!le.destroyed&&!le.errorEmitted&&!le.endEmitted},set(le){this._readableState&&(this._readableState.readable=!!le)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(le){this._readableState&&(this._readableState.flowing=le)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(le){this._readableState&&(this._readableState.destroyed=le)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),o(Ce.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[A]!==!1},set(le){this[A]=!!le}}}),we._fromList=rn;function rn(le,fe){if(fe.length===0)return null;let He;return fe.objectMode?He=fe.buffer.shift():!le||le>=fe.length?(fe.decoder?He=fe.buffer.join(""):fe.buffer.length===1?He=fe.buffer.first():He=fe.buffer.concat(fe.length),fe.buffer.clear()):He=fe.buffer.consume(le,fe.decoder),He}function Ve(le){const fe=le._readableState;N("endReadable",fe.endEmitted),fe.endEmitted||(fe.ended=!0,t.nextTick(jt,fe,le))}function jt(le,fe){if(N("endReadableNT",le.endEmitted,le.length),!le.errored&&!le.closeEmitted&&!le.endEmitted&&le.length===0){if(le.endEmitted=!0,fe.emit("end"),fe.writable&&fe.allowHalfOpen===!1)t.nextTick(Nt,fe);else if(le.autoDestroy){const He=fe._writableState;(!He||He.autoDestroy&&(He.finished||He.writable===!1))&&fe.destroy()}}}function Nt(le){le.writable&&!le.writableEnded&&!le.destroyed&&le.end()}we.from=function(le,fe){return C(we,le,fe)};let gt;function Mt(){return gt===void 0&&(gt={}),gt}return we.fromWeb=function(le,fe){return Mt().newStreamReadableFromReadableStream(le,fe)},we.toWeb=function(le,fe){return Mt().newReadableStreamFromStreamReadable(le,fe)},we.wrap=function(le,fe){var He,Ue;return new we({objectMode:(He=(Ue=le.readableObjectMode)!==null&&Ue!==void 0?Ue:le.objectMode)!==null&&He!==void 0?He:!0,...fe,destroy(Ge,Pt){$.destroyer(le,Ge),Pt(Ge)}}).wrap(le)},H3}var K3,Lk;function lC(){if(Lk)return K3;Lk=1;const t=tu(),{ArrayPrototypeSlice:e,Error:n,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:i,ObjectDefineProperties:o,ObjectSetPrototypeOf:s,StringPrototypeToLowerCase:a,Symbol:c,SymbolHasInstance:l}=ir();K3=v,v.WritableState=b;const{EventEmitter:u}=ng(),f=cC().Stream,{Buffer:p}=Ma(),m=Sh(),{addAbortSignal:w}=jw(),{getHighWaterMark:y,getDefaultHighWaterMark:I}=$w(),{ERR_INVALID_ARG_TYPE:S,ERR_METHOD_NOT_IMPLEMENTED:T,ERR_MULTIPLE_CALLBACK:N,ERR_STREAM_CANNOT_PIPE:z,ERR_STREAM_DESTROYED:$,ERR_STREAM_ALREADY_FINISHED:H,ERR_STREAM_NULL_VALUES:K,ERR_STREAM_WRITE_AFTER_END:j,ERR_UNKNOWN_ENCODING:B}=qi().codes,{errorOrDestroy:D}=m;s(v.prototype,f.prototype),s(v,f);function P(){}const E=c("kOnFinished");function b(te,se,ue){typeof ue!="boolean"&&(ue=se instanceof Cc()),this.objectMode=!!(te&&te.objectMode),ue&&(this.objectMode=this.objectMode||!!(te&&te.writableObjectMode)),this.highWaterMark=te?y(this,te,"writableHighWaterMark",ue):I(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const me=!!(te&&te.decodeStrings===!1);this.decodeStrings=!me,this.defaultEncoding=te&&te.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=x.bind(void 0,se),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,g(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!te||te.emitClose!==!1,this.autoDestroy=!te||te.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[E]=[]}function g(te){te.buffered=[],te.bufferedIndex=0,te.allBuffers=!0,te.allNoop=!0}b.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},i(b.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function v(te){const se=this instanceof Cc();if(!se&&!r(v,this))return new v(te);this._writableState=new b(te,this,se),te&&(typeof te.write=="function"&&(this._write=te.write),typeof te.writev=="function"&&(this._writev=te.writev),typeof te.destroy=="function"&&(this._destroy=te.destroy),typeof te.final=="function"&&(this._final=te.final),typeof te.construct=="function"&&(this._construct=te.construct),te.signal&&w(te.signal,this)),f.call(this,te),m.construct(this,()=>{const ue=this._writableState;ue.writing||U(this,ue),Y(this,ue)})}i(v,l,{__proto__:null,value:function(te){return r(this,te)?!0:this!==v?!1:te&&te._writableState instanceof b}}),v.prototype.pipe=function(){D(this,new z)};function A(te,se,ue,me){const ye=te._writableState;if(typeof ue=="function")me=ue,ue=ye.defaultEncoding;else{if(!ue)ue=ye.defaultEncoding;else if(ue!=="buffer"&&!p.isEncoding(ue))throw new B(ue);typeof me!="function"&&(me=P)}if(se===null)throw new K;if(!ye.objectMode)if(typeof se=="string")ye.decodeStrings!==!1&&(se=p.from(se,ue),ue="buffer");else if(se instanceof p)ue="buffer";else if(f._isUint8Array(se))se=f._uint8ArrayToBuffer(se),ue="buffer";else throw new S("chunk",["string","Buffer","Uint8Array"],se);let pe;return ye.ending?pe=new j:ye.destroyed&&(pe=new $("write")),pe?(t.nextTick(me,pe),D(te,pe,!0),pe):(ye.pendingcb++,L(te,ye,se,ue,me))}v.prototype.write=function(te,se,ue){return A(this,te,se,ue)===!0},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){const te=this._writableState;te.corked&&(te.corked--,te.writing||U(this,te))},v.prototype.setDefaultEncoding=function(se){if(typeof se=="string"&&(se=a(se)),!p.isEncoding(se))throw new B(se);return this._writableState.defaultEncoding=se,this};function L(te,se,ue,me,ye){const pe=se.objectMode?1:ue.length;se.length+=pe;const de=se.length<se.highWaterMark;return de||(se.needDrain=!0),se.writing||se.corked||se.errored||!se.constructed?(se.buffered.push({chunk:ue,encoding:me,callback:ye}),se.allBuffers&&me!=="buffer"&&(se.allBuffers=!1),se.allNoop&&ye!==P&&(se.allNoop=!1)):(se.writelen=pe,se.writecb=ye,se.writing=!0,se.sync=!0,te._write(ue,me,se.onwrite),se.sync=!1),de&&!se.errored&&!se.destroyed}function C(te,se,ue,me,ye,pe,de){se.writelen=me,se.writecb=de,se.writing=!0,se.sync=!0,se.destroyed?se.onwrite(new $("write")):ue?te._writev(ye,se.onwrite):te._write(ye,pe,se.onwrite),se.sync=!1}function O(te,se,ue,me){--se.pendingcb,me(ue),k(se),D(te,ue)}function x(te,se){const ue=te._writableState,me=ue.sync,ye=ue.writecb;if(typeof ye!="function"){D(te,new N);return}ue.writing=!1,ue.writecb=null,ue.length-=ue.writelen,ue.writelen=0,se?(se.stack,ue.errored||(ue.errored=se),te._readableState&&!te._readableState.errored&&(te._readableState.errored=se),me?t.nextTick(O,te,ue,se,ye):O(te,ue,se,ye)):(ue.buffered.length>ue.bufferedIndex&&U(te,ue),me?ue.afterWriteTickInfo!==null&&ue.afterWriteTickInfo.cb===ye?ue.afterWriteTickInfo.count++:(ue.afterWriteTickInfo={count:1,cb:ye,stream:te,state:ue},t.nextTick(R,ue.afterWriteTickInfo)):_(te,ue,1,ye))}function R({stream:te,state:se,count:ue,cb:me}){return se.afterWriteTickInfo=null,_(te,se,ue,me)}function _(te,se,ue,me){for(!se.ending&&!te.destroyed&&se.length===0&&se.needDrain&&(se.needDrain=!1,te.emit("drain"));ue-- >0;)se.pendingcb--,me();se.destroyed&&k(se),Y(te,se)}function k(te){if(te.writing)return;for(let ye=te.bufferedIndex;ye<te.buffered.length;++ye){var se;const{chunk:pe,callback:de}=te.buffered[ye],Ee=te.objectMode?1:pe.length;te.length-=Ee,de((se=te.errored)!==null&&se!==void 0?se:new $("write"))}const ue=te[E].splice(0);for(let ye=0;ye<ue.length;ye++){var me;ue[ye]((me=te.errored)!==null&&me!==void 0?me:new $("end"))}g(te)}function U(te,se){if(se.corked||se.bufferProcessing||se.destroyed||!se.constructed)return;const{buffered:ue,bufferedIndex:me,objectMode:ye}=se,pe=ue.length-me;if(!pe)return;let de=me;if(se.bufferProcessing=!0,pe>1&&te._writev){se.pendingcb-=pe-1;const Ee=se.allNoop?P:we=>{for(let $e=de;$e<ue.length;++$e)ue[$e].callback(we)},Ce=se.allNoop&&de===0?ue:e(ue,de);Ce.allBuffers=se.allBuffers,C(te,se,!0,se.length,Ce,"",Ee),g(se)}else{do{const{chunk:Ee,encoding:Ce,callback:we}=ue[de];ue[de++]=null;const $e=ye?1:Ee.length;C(te,se,!1,$e,Ee,Ce,we)}while(de<ue.length&&!se.writing);de===ue.length?g(se):de>256?(ue.splice(0,de),se.bufferedIndex=0):se.bufferedIndex=de}se.bufferProcessing=!1}v.prototype._write=function(te,se,ue){if(this._writev)this._writev([{chunk:te,encoding:se}],ue);else throw new T("_write()")},v.prototype._writev=null,v.prototype.end=function(te,se,ue){const me=this._writableState;typeof te=="function"?(ue=te,te=null,se=null):typeof se=="function"&&(ue=se,se=null);let ye;if(te!=null){const pe=A(this,te,se);pe instanceof n&&(ye=pe)}return me.corked&&(me.corked=1,this.uncork()),ye||(!me.errored&&!me.ending?(me.ending=!0,Y(this,me,!0),me.ended=!0):me.finished?ye=new H("end"):me.destroyed&&(ye=new $("end"))),typeof ue=="function"&&(ye||me.finished?t.nextTick(ue,ye):me[E].push(ue)),this};function q(te){return te.ending&&!te.destroyed&&te.constructed&&te.length===0&&!te.errored&&te.buffered.length===0&&!te.finished&&!te.writing&&!te.errorEmitted&&!te.closeEmitted}function V(te,se){let ue=!1;function me(ye){if(ue){D(te,ye??N());return}if(ue=!0,se.pendingcb--,ye){const pe=se[E].splice(0);for(let de=0;de<pe.length;de++)pe[de](ye);D(te,ye,se.sync)}else q(se)&&(se.prefinished=!0,te.emit("prefinish"),se.pendingcb++,t.nextTick(X,te,se))}se.sync=!0,se.pendingcb++;try{te._final(me)}catch(ye){me(ye)}se.sync=!1}function Q(te,se){!se.prefinished&&!se.finalCalled&&(typeof te._final=="function"&&!se.destroyed?(se.finalCalled=!0,V(te,se)):(se.prefinished=!0,te.emit("prefinish")))}function Y(te,se,ue){q(se)&&(Q(te,se),se.pendingcb===0&&(ue?(se.pendingcb++,t.nextTick((me,ye)=>{q(ye)?X(me,ye):ye.pendingcb--},te,se)):q(se)&&(se.pendingcb++,X(te,se))))}function X(te,se){se.pendingcb--,se.finished=!0;const ue=se[E].splice(0);for(let me=0;me<ue.length;me++)ue[me]();if(te.emit("finish"),se.autoDestroy){const me=te._readableState;(!me||me.autoDestroy&&(me.endEmitted||me.readable===!1))&&te.destroy()}}o(v.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(te){this._writableState&&(this._writableState.destroyed=te)}},writable:{__proto__:null,get(){const te=this._writableState;return!!te&&te.writable!==!1&&!te.destroyed&&!te.errored&&!te.ending&&!te.ended},set(te){this._writableState&&(this._writableState.writable=!!te)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const te=this._writableState;return te?!te.destroyed&&!te.ending&&te.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const ee=m.destroy;v.prototype.destroy=function(te,se){const ue=this._writableState;return!ue.destroyed&&(ue.bufferedIndex<ue.buffered.length||ue[E].length)&&t.nextTick(k,ue),ee.call(this,te,se),this},v.prototype._undestroy=m.undestroy,v.prototype._destroy=function(te,se){se(te)},v.prototype[u.captureRejectionSymbol]=function(te){this.destroy(te)};let ie;function oe(){return ie===void 0&&(ie={}),ie}return v.fromWeb=function(te,se){return oe().newStreamWritableFromWritableStream(te,se)},v.toWeb=function(te){return oe().newWritableStreamFromStreamWritable(te)},K3}var W3,Bk;function gK(){if(Bk)return W3;Bk=1;const t=tu(),e=Ma(),{isReadable:n,isWritable:r,isIterable:i,isNodeStream:o,isReadableNodeStream:s,isWritableNodeStream:a,isDuplexNodeStream:c,isReadableStream:l,isWritableStream:u}=Oc(),f=nu(),{AbortError:p,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:w}}=qi(),{destroyer:y}=Sh(),I=Cc(),S=Fw(),T=lC(),{createDeferredPromise:N}=ho(),z=LN(),$=globalThis.Blob||e.Blob,H=typeof $<"u"?function(b){return b instanceof $}:function(b){return!1},K=globalThis.AbortController||s0().AbortController,{FunctionPrototypeCall:j}=ir();class B extends I{constructor(b){super(b),(b==null?void 0:b.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(b==null?void 0:b.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}W3=function E(b,g){if(c(b))return b;if(s(b))return P({readable:b});if(a(b))return P({writable:b});if(o(b))return P({writable:!1,readable:!1});if(l(b))return P({readable:S.fromWeb(b)});if(u(b))return P({writable:T.fromWeb(b)});if(typeof b=="function"){const{value:A,write:L,final:C,destroy:O}=D(b);if(i(A))return z(B,A,{objectMode:!0,write:L,final:C,destroy:O});const x=A==null?void 0:A.then;if(typeof x=="function"){let R;const _=j(x,A,k=>{if(k!=null)throw new w("nully","body",k)},k=>{y(R,k)});return R=new B({objectMode:!0,readable:!1,write:L,final(k){C(async()=>{try{await _,t.nextTick(k,null)}catch(U){t.nextTick(k,U)}})},destroy:O})}throw new w("Iterable, AsyncIterable or AsyncFunction",g,A)}if(H(b))return E(b.arrayBuffer());if(i(b))return z(B,b,{objectMode:!0,writable:!1});if(l(b==null?void 0:b.readable)&&u(b==null?void 0:b.writable))return B.fromWeb(b);if(typeof(b==null?void 0:b.writable)=="object"||typeof(b==null?void 0:b.readable)=="object"){const A=b!=null&&b.readable?s(b==null?void 0:b.readable)?b==null?void 0:b.readable:E(b.readable):void 0,L=b!=null&&b.writable?a(b==null?void 0:b.writable)?b==null?void 0:b.writable:E(b.writable):void 0;return P({readable:A,writable:L})}const v=b==null?void 0:b.then;if(typeof v=="function"){let A;return j(v,b,L=>{L!=null&&A.push(L),A.push(null)},L=>{y(A,L)}),A=new B({objectMode:!0,writable:!1,read(){}})}throw new m(g,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],b)};function D(E){let{promise:b,resolve:g}=N();const v=new K,A=v.signal;return{value:E(async function*(){for(;;){const C=b;b=null;const{chunk:O,done:x,cb:R}=await C;if(t.nextTick(R),x)return;if(A.aborted)throw new p(void 0,{cause:A.reason});({promise:b,resolve:g}=N()),yield O}}(),{signal:A}),write(C,O,x){const R=g;g=null,R({chunk:C,done:!1,cb:x})},final(C){const O=g;g=null,O({done:!0,cb:C})},destroy(C,O){v.abort(),O(C)}}}function P(E){const b=E.readable&&typeof E.readable.read!="function"?S.wrap(E.readable):E.readable,g=E.writable;let v=!!n(b),A=!!r(g),L,C,O,x,R;function _(k){const U=x;x=null,U?U(k):k&&R.destroy(k)}return R=new B({readableObjectMode:!!(b!=null&&b.readableObjectMode),writableObjectMode:!!(g!=null&&g.writableObjectMode),readable:v,writable:A}),A&&(f(g,k=>{A=!1,k&&y(b,k),_(k)}),R._write=function(k,U,q){g.write(k,U)?q():L=q},R._final=function(k){g.end(),C=k},g.on("drain",function(){if(L){const k=L;L=null,k()}}),g.on("finish",function(){if(C){const k=C;C=null,k()}})),v&&(f(b,k=>{v=!1,k&&y(b,k),_(k)}),b.on("readable",function(){if(O){const k=O;O=null,k()}}),b.on("end",function(){R.push(null)}),R._read=function(){for(;;){const k=b.read();if(k===null){O=R._read;return}if(!R.push(k))return}}),R._destroy=function(k,U){!k&&x!==null&&(k=new p),O=null,L=null,C=null,x===null?U(k):(x=U,y(g,k),y(b,k))},R}return W3}var V3,Dk;function Cc(){if(Dk)return V3;Dk=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:n,ObjectSetPrototypeOf:r}=ir();V3=s;const i=Fw(),o=lC();r(s.prototype,i.prototype),r(s,i);{const u=n(o.prototype);for(let f=0;f<u.length;f++){const p=u[f];s.prototype[p]||(s.prototype[p]=o.prototype[p])}}function s(u){if(!(this instanceof s))return new s(u);i.call(this,u),o.call(this,u),u?(this.allowHalfOpen=u.allowHalfOpen!==!1,u.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),u.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(s.prototype,{writable:{__proto__:null,...e(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(o.prototype,"writableLength")},writableFinished:{__proto__:null,...e(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(u){this._readableState&&this._writableState&&(this._readableState.destroyed=u,this._writableState.destroyed=u)}}});let a;function c(){return a===void 0&&(a={}),a}s.fromWeb=function(u,f){return c().newStreamDuplexFromReadableWritablePair(u,f)},s.toWeb=function(u){return c().newReadableWritablePairFromDuplex(u)};let l;return s.from=function(u){return l||(l=gK()),l(u,"body")},V3}var G3,jk;function BN(){if(jk)return G3;jk=1;const{ObjectSetPrototypeOf:t,Symbol:e}=ir();G3=s;const{ERR_METHOD_NOT_IMPLEMENTED:n}=qi().codes,r=Cc(),{getHighWaterMark:i}=$w();t(s.prototype,r.prototype),t(s,r);const o=e("kCallback");function s(l){if(!(this instanceof s))return new s(l);const u=l?i(this,l,"readableHighWaterMark",!0):null;u===0&&(l={...l,highWaterMark:null,readableHighWaterMark:u,writableHighWaterMark:l.writableHighWaterMark||0}),r.call(this,l),this._readableState.sync=!1,this[o]=null,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",c)}function a(l){typeof this._flush=="function"&&!this.destroyed?this._flush((u,f)=>{if(u){l?l(u):this.destroy(u);return}f!=null&&this.push(f),this.push(null),l&&l()}):(this.push(null),l&&l())}function c(){this._final!==a&&a.call(this)}return s.prototype._final=a,s.prototype._transform=function(l,u,f){throw new n("_transform()")},s.prototype._write=function(l,u,f){const p=this._readableState,m=this._writableState,w=p.length;this._transform(l,u,(y,I)=>{if(y){f(y);return}I!=null&&this.push(I),m.ended||w===p.length||p.length<p.highWaterMark?f():this[o]=f})},s.prototype._read=function(){if(this[o]){const l=this[o];this[o]=null,l()}},G3}var Y3,$k;function DN(){if($k)return Y3;$k=1;const{ObjectSetPrototypeOf:t}=ir();Y3=n;const e=BN();t(n.prototype,e.prototype),t(n,e);function n(r){if(!(this instanceof n))return new n(r);e.call(this,r)}return n.prototype._transform=function(r,i,o){o(null,r)},Y3}var J3,Fk;function uC(){if(Fk)return J3;Fk=1;const t=tu(),{ArrayIsArray:e,Promise:n,SymbolAsyncIterator:r,SymbolDispose:i}=ir(),o=nu(),{once:s}=ho(),a=Sh(),c=Cc(),{aggregateTwoErrors:l,codes:{ERR_INVALID_ARG_TYPE:u,ERR_INVALID_RETURN_VALUE:f,ERR_MISSING_ARGS:p,ERR_STREAM_DESTROYED:m,ERR_STREAM_PREMATURE_CLOSE:w},AbortError:y}=qi(),{validateFunction:I,validateAbortSignal:S}=ig(),{isIterable:T,isReadable:N,isReadableNodeStream:z,isNodeStream:$,isTransformStream:H,isWebStream:K,isReadableStream:j,isReadableFinished:B}=Oc(),D=globalThis.AbortController||s0().AbortController;let P,E,b;function g(k,U,q){let V=!1;k.on("close",()=>{V=!0});const Q=o(k,{readable:U,writable:q},Y=>{V=!Y});return{destroy:Y=>{V||(V=!0,a.destroyer(k,Y||new m("pipe")))},cleanup:Q}}function v(k){return I(k[k.length-1],"streams[stream.length - 1]"),k.pop()}function A(k){if(T(k))return k;if(z(k))return L(k);throw new u("val",["Readable","Iterable","AsyncIterable"],k)}async function*L(k){E||(E=Fw()),yield*E.prototype[r].call(k)}async function C(k,U,q,{end:V}){let Q,Y=null;const X=oe=>{if(oe&&(Q=oe),Y){const te=Y;Y=null,te()}},ee=()=>new n((oe,te)=>{Q?te(Q):Y=()=>{Q?te(Q):oe()}});U.on("drain",X);const ie=o(U,{readable:!1},X);try{U.writableNeedDrain&&await ee();for await(const oe of k)U.write(oe)||await ee();V&&(U.end(),await ee()),q()}catch(oe){q(Q!==oe?l(Q,oe):oe)}finally{ie(),U.off("drain",X)}}async function O(k,U,q,{end:V}){H(U)&&(U=U.writable);const Q=U.getWriter();try{for await(const Y of k)await Q.ready,Q.write(Y).catch(()=>{});await Q.ready,V&&await Q.close(),q()}catch(Y){try{await Q.abort(Y),q(Y)}catch(X){q(X)}}}function x(...k){return R(k,s(v(k)))}function R(k,U,q){if(k.length===1&&e(k[0])&&(k=k[0]),k.length<2)throw new p("streams");const V=new D,Q=V.signal,Y=q==null?void 0:q.signal,X=[];S(Y,"options.signal");function ee(){ye(new y)}b=b||ho().addAbortListener;let ie;Y&&(ie=b(Y,ee));let oe,te;const se=[];let ue=0;function me(Ce){ye(Ce,--ue===0)}function ye(Ce,we){var $e;if(Ce&&(!oe||oe.code==="ERR_STREAM_PREMATURE_CLOSE")&&(oe=Ce),!(!oe&&!we)){for(;se.length;)se.shift()(oe);($e=ie)===null||$e===void 0||$e[i](),V.abort(),we&&(oe||X.forEach(ze=>ze()),t.nextTick(U,oe,te))}}let pe;for(let Ce=0;Ce<k.length;Ce++){const we=k[Ce],$e=Ce<k.length-1,ze=Ce>0,Ze=$e||(q==null?void 0:q.end)!==!1,We=Ce===k.length-1;if($(we)){let ne=function(G){G&&G.name!=="AbortError"&&G.code!=="ERR_STREAM_PREMATURE_CLOSE"&&me(G)};if(Ze){const{destroy:G,cleanup:Z}=g(we,$e,ze);se.push(G),N(we)&&We&&X.push(Z)}we.on("error",ne),N(we)&&We&&X.push(()=>{we.removeListener("error",ne)})}if(Ce===0)if(typeof we=="function"){if(pe=we({signal:Q}),!T(pe))throw new f("Iterable, AsyncIterable or Stream","source",pe)}else T(we)||z(we)||H(we)?pe=we:pe=c.from(we);else if(typeof we=="function"){if(H(pe)){var de;pe=A((de=pe)===null||de===void 0?void 0:de.readable)}else pe=A(pe);if(pe=we(pe,{signal:Q}),$e){if(!T(pe,!0))throw new f("AsyncIterable",`transform[${Ce-1}]`,pe)}else{var Ee;P||(P=DN());const ne=new P({objectMode:!0}),G=(Ee=pe)===null||Ee===void 0?void 0:Ee.then;if(typeof G=="function")ue++,G.call(pe,ge=>{te=ge,ge!=null&&ne.write(ge),Ze&&ne.end(),t.nextTick(me)},ge=>{ne.destroy(ge),t.nextTick(me,ge)});else if(T(pe,!0))ue++,C(pe,ne,me,{end:Ze});else if(j(pe)||H(pe)){const ge=pe.readable||pe;ue++,C(ge,ne,me,{end:Ze})}else throw new f("AsyncIterable or Promise","destination",pe);pe=ne;const{destroy:Z,cleanup:ce}=g(pe,!1,!0);se.push(Z),We&&X.push(ce)}}else if($(we)){if(z(pe)){ue+=2;const ne=_(pe,we,me,{end:Ze});N(we)&&We&&X.push(ne)}else if(H(pe)||j(pe)){const ne=pe.readable||pe;ue++,C(ne,we,me,{end:Ze})}else if(T(pe))ue++,C(pe,we,me,{end:Ze});else throw new u("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],pe);pe=we}else if(K(we)){if(z(pe))ue++,O(A(pe),we,me,{end:Ze});else if(j(pe)||T(pe))ue++,O(pe,we,me,{end:Ze});else if(H(pe))ue++,O(pe.readable,we,me,{end:Ze});else throw new u("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],pe);pe=we}else pe=c.from(we)}return(Q!=null&&Q.aborted||Y!=null&&Y.aborted)&&t.nextTick(ee),pe}function _(k,U,q,{end:V}){let Q=!1;if(U.on("close",()=>{Q||q(new w)}),k.pipe(U,{end:!1}),V){let Y=function(){Q=!0,U.end()};B(k)?t.nextTick(Y):k.once("end",Y)}else q();return o(k,{readable:!0,writable:!1},Y=>{const X=k._readableState;Y&&Y.code==="ERR_STREAM_PREMATURE_CLOSE"&&X&&X.ended&&!X.errored&&!X.errorEmitted?k.once("end",q).once("error",q):q(Y)}),o(U,{readable:!1,writable:!0},q)}return J3={pipelineImpl:R,pipeline:x},J3}var Z3,Uk;function jN(){if(Uk)return Z3;Uk=1;const{pipeline:t}=uC(),e=Cc(),{destroyer:n}=Sh(),{isNodeStream:r,isReadable:i,isWritable:o,isWebStream:s,isTransformStream:a,isWritableStream:c,isReadableStream:l}=Oc(),{AbortError:u,codes:{ERR_INVALID_ARG_VALUE:f,ERR_MISSING_ARGS:p}}=qi(),m=nu();return Z3=function(...y){if(y.length===0)throw new p("streams");if(y.length===1)return e.from(y[0]);const I=[...y];if(typeof y[0]=="function"&&(y[0]=e.from(y[0])),typeof y[y.length-1]=="function"){const P=y.length-1;y[P]=e.from(y[P])}for(let P=0;P<y.length;++P)if(!(!r(y[P])&&!s(y[P]))){if(P<y.length-1&&!(i(y[P])||l(y[P])||a(y[P])))throw new f(`streams[${P}]`,I[P],"must be readable");if(P>0&&!(o(y[P])||c(y[P])||a(y[P])))throw new f(`streams[${P}]`,I[P],"must be writable")}let S,T,N,z,$;function H(P){const E=z;z=null,E?E(P):P?$.destroy(P):!D&&!B&&$.destroy()}const K=y[0],j=t(y,H),B=!!(o(K)||c(K)||a(K)),D=!!(i(j)||l(j)||a(j));if($=new e({writableObjectMode:!!(K!=null&&K.writableObjectMode),readableObjectMode:!!(j!=null&&j.readableObjectMode),writable:B,readable:D}),B){if(r(K))$._write=function(E,b,g){K.write(E,b)?g():S=g},$._final=function(E){K.end(),T=E},K.on("drain",function(){if(S){const E=S;S=null,E()}});else if(s(K)){const b=(a(K)?K.writable:K).getWriter();$._write=async function(g,v,A){try{await b.ready,b.write(g).catch(()=>{}),A()}catch(L){A(L)}},$._final=async function(g){try{await b.ready,b.close().catch(()=>{}),T=g}catch(v){g(v)}}}const P=a(j)?j.readable:j;m(P,()=>{if(T){const E=T;T=null,E()}})}if(D){if(r(j))j.on("readable",function(){if(N){const P=N;N=null,P()}}),j.on("end",function(){$.push(null)}),$._read=function(){for(;;){const P=j.read();if(P===null){N=$._read;return}if(!$.push(P))return}};else if(s(j)){const E=(a(j)?j.readable:j).getReader();$._read=async function(){for(;;)try{const{value:b,done:g}=await E.read();if(!$.push(b))return;if(g){$.push(null);return}}catch{return}}}}return $._destroy=function(P,E){!P&&z!==null&&(P=new u),N=null,S=null,T=null,z===null?E(P):(z=E,r(j)&&n(j,P))},$},Z3}var zk;function mK(){if(zk)return Dm;zk=1;const t=globalThis.AbortController||s0().AbortController,{codes:{ERR_INVALID_ARG_VALUE:e,ERR_INVALID_ARG_TYPE:n,ERR_MISSING_ARGS:r,ERR_OUT_OF_RANGE:i},AbortError:o}=qi(),{validateAbortSignal:s,validateInteger:a,validateObject:c}=ig(),l=ir().Symbol("kWeak"),u=ir().Symbol("kResistStopPropagation"),{finished:f}=nu(),p=jN(),{addAbortSignalNoValidate:m}=jw(),{isWritable:w,isNodeStream:y}=Oc(),{deprecate:I}=ho(),{ArrayPrototypePush:S,Boolean:T,MathFloor:N,Number:z,NumberIsNaN:$,Promise:H,PromiseReject:K,PromiseResolve:j,PromisePrototypeThen:B,Symbol:D}=ir(),P=D("kEmpty"),E=D("kEof");function b(Y,X){if(X!=null&&c(X,"options"),(X==null?void 0:X.signal)!=null&&s(X.signal,"options.signal"),y(Y)&&!w(Y))throw new e("stream",Y,"must be writable");const ee=p(this,Y);return X!=null&&X.signal&&m(X.signal,ee),ee}function g(Y,X){if(typeof Y!="function")throw new n("fn",["Function","AsyncFunction"],Y);X!=null&&c(X,"options"),(X==null?void 0:X.signal)!=null&&s(X.signal,"options.signal");let ee=1;(X==null?void 0:X.concurrency)!=null&&(ee=N(X.concurrency));let ie=ee-1;return(X==null?void 0:X.highWaterMark)!=null&&(ie=N(X.highWaterMark)),a(ee,"options.concurrency",1),a(ie,"options.highWaterMark",0),ie+=ee,(async function*(){const te=ho().AbortSignalAny([X==null?void 0:X.signal].filter(T)),se=this,ue=[],me={signal:te};let ye,pe,de=!1,Ee=0;function Ce(){de=!0,we()}function we(){Ee-=1,$e()}function $e(){pe&&!de&&Ee<ee&&ue.length<ie&&(pe(),pe=null)}async function ze(){try{for await(let Ze of se){if(de)return;if(te.aborted)throw new o;try{if(Ze=Y(Ze,me),Ze===P)continue;Ze=j(Ze)}catch(We){Ze=K(We)}Ee+=1,B(Ze,we,Ce),ue.push(Ze),ye&&(ye(),ye=null),!de&&(ue.length>=ie||Ee>=ee)&&await new H(We=>{pe=We})}ue.push(E)}catch(Ze){const We=K(Ze);B(We,we,Ce),ue.push(We)}finally{de=!0,ye&&(ye(),ye=null)}}ze();try{for(;;){for(;ue.length>0;){const Ze=await ue[0];if(Ze===E)return;if(te.aborted)throw new o;Ze!==P&&(yield Ze),ue.shift(),$e()}await new H(Ze=>{ye=Ze})}}finally{de=!0,pe&&(pe(),pe=null)}}).call(this)}function v(Y=void 0){return Y!=null&&c(Y,"options"),(Y==null?void 0:Y.signal)!=null&&s(Y.signal,"options.signal"),(async function*(){let ee=0;for await(const oe of this){var ie;if(Y!=null&&(ie=Y.signal)!==null&&ie!==void 0&&ie.aborted)throw new o({cause:Y.signal.reason});yield[ee++,oe]}}).call(this)}async function A(Y,X=void 0){for await(const ee of x.call(this,Y,X))return!0;return!1}async function L(Y,X=void 0){if(typeof Y!="function")throw new n("fn",["Function","AsyncFunction"],Y);return!await A.call(this,async(...ee)=>!await Y(...ee),X)}async function C(Y,X){for await(const ee of x.call(this,Y,X))return ee}async function O(Y,X){if(typeof Y!="function")throw new n("fn",["Function","AsyncFunction"],Y);async function ee(ie,oe){return await Y(ie,oe),P}for await(const ie of g.call(this,ee,X));}function x(Y,X){if(typeof Y!="function")throw new n("fn",["Function","AsyncFunction"],Y);async function ee(ie,oe){return await Y(ie,oe)?ie:P}return g.call(this,ee,X)}class R extends r{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function _(Y,X,ee){var ie;if(typeof Y!="function")throw new n("reducer",["Function","AsyncFunction"],Y);ee!=null&&c(ee,"options"),(ee==null?void 0:ee.signal)!=null&&s(ee.signal,"options.signal");let oe=arguments.length>1;if(ee!=null&&(ie=ee.signal)!==null&&ie!==void 0&&ie.aborted){const ye=new o(void 0,{cause:ee.signal.reason});throw this.once("error",()=>{}),await f(this.destroy(ye)),ye}const te=new t,se=te.signal;if(ee!=null&&ee.signal){const ye={once:!0,[l]:this,[u]:!0};ee.signal.addEventListener("abort",()=>te.abort(),ye)}let ue=!1;try{for await(const ye of this){var me;if(ue=!0,ee!=null&&(me=ee.signal)!==null&&me!==void 0&&me.aborted)throw new o;oe?X=await Y(X,ye,{signal:se}):(X=ye,oe=!0)}if(!ue&&!oe)throw new R}finally{te.abort()}return X}async function k(Y){Y!=null&&c(Y,"options"),(Y==null?void 0:Y.signal)!=null&&s(Y.signal,"options.signal");const X=[];for await(const ie of this){var ee;if(Y!=null&&(ee=Y.signal)!==null&&ee!==void 0&&ee.aborted)throw new o(void 0,{cause:Y.signal.reason});S(X,ie)}return X}function U(Y,X){const ee=g.call(this,Y,X);return(async function*(){for await(const oe of ee)yield*oe}).call(this)}function q(Y){if(Y=z(Y),$(Y))return 0;if(Y<0)throw new i("number",">= 0",Y);return Y}function V(Y,X=void 0){return X!=null&&c(X,"options"),(X==null?void 0:X.signal)!=null&&s(X.signal,"options.signal"),Y=q(Y),(async function*(){var ie;if(X!=null&&(ie=X.signal)!==null&&ie!==void 0&&ie.aborted)throw new o;for await(const te of this){var oe;if(X!=null&&(oe=X.signal)!==null&&oe!==void 0&&oe.aborted)throw new o;Y--<=0&&(yield te)}}).call(this)}function Q(Y,X=void 0){return X!=null&&c(X,"options"),(X==null?void 0:X.signal)!=null&&s(X.signal,"options.signal"),Y=q(Y),(async function*(){var ie;if(X!=null&&(ie=X.signal)!==null&&ie!==void 0&&ie.aborted)throw new o;for await(const te of this){var oe;if(X!=null&&(oe=X.signal)!==null&&oe!==void 0&&oe.aborted)throw new o;if(Y-- >0&&(yield te),Y<=0)return}}).call(this)}return Dm.streamReturningOperators={asIndexedPairs:I(v,"readable.asIndexedPairs will be removed in a future version."),drop:V,filter:x,flatMap:U,map:g,take:Q,compose:b},Dm.promiseReturningOperators={every:L,forEach:O,reduce:_,toArray:k,some:A,find:C},Dm}var X3,qk;function $N(){if(qk)return X3;qk=1;const{ArrayPrototypePop:t,Promise:e}=ir(),{isIterable:n,isNodeStream:r,isWebStream:i}=Oc(),{pipelineImpl:o}=uC(),{finished:s}=nu();FN();function a(...c){return new e((l,u)=>{let f,p;const m=c[c.length-1];if(m&&typeof m=="object"&&!r(m)&&!n(m)&&!i(m)){const w=t(c);f=w.signal,p=w.end}o(c,(w,y)=>{w?u(w):l(y)},{signal:f,end:p})})}return X3={finished:s,pipeline:a},X3}var Hk;function FN(){if(Hk)return R3.exports;Hk=1;const{Buffer:t}=Ma(),{ObjectDefineProperty:e,ObjectKeys:n,ReflectApply:r}=ir(),{promisify:{custom:i}}=ho(),{streamReturningOperators:o,promiseReturningOperators:s}=mK(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=qi(),c=jN(),{setDefaultHighWaterMark:l,getDefaultHighWaterMark:u}=$w(),{pipeline:f}=uC(),{destroyer:p}=Sh(),m=nu(),w=$N(),y=Oc(),I=R3.exports=cC().Stream;I.isDestroyed=y.isDestroyed,I.isDisturbed=y.isDisturbed,I.isErrored=y.isErrored,I.isReadable=y.isReadable,I.isWritable=y.isWritable,I.Readable=Fw();for(const T of n(o)){let z=function(...$){if(new.target)throw a();return I.Readable.from(r(N,this,$))};const N=o[T];e(z,"name",{__proto__:null,value:N.name}),e(z,"length",{__proto__:null,value:N.length}),e(I.Readable.prototype,T,{__proto__:null,value:z,enumerable:!1,configurable:!0,writable:!0})}for(const T of n(s)){let z=function(...$){if(new.target)throw a();return r(N,this,$)};const N=s[T];e(z,"name",{__proto__:null,value:N.name}),e(z,"length",{__proto__:null,value:N.length}),e(I.Readable.prototype,T,{__proto__:null,value:z,enumerable:!1,configurable:!0,writable:!0})}I.Writable=lC(),I.Duplex=Cc(),I.Transform=BN(),I.PassThrough=DN(),I.pipeline=f;const{addAbortSignal:S}=jw();return I.addAbortSignal=S,I.finished=m,I.destroy=p,I.compose=c,I.setDefaultHighWaterMark=l,I.getDefaultHighWaterMark=u,e(I,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return w}}),e(f,i,{__proto__:null,enumerable:!0,get(){return w.pipeline}}),e(m,i,{__proto__:null,enumerable:!0,get(){return w.finished}}),I.Stream=I,I._isUint8Array=function(N){return N instanceof Uint8Array},I._uint8ArrayToBuffer=function(N){return t.from(N.buffer,N.byteOffset,N.byteLength)},R3.exports}var Kk;function vK(){return Kk||(Kk=1,function(t){const e=FN(),n=$N(),r=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=r,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return n}}),t.exports.Stream=e.Stream,t.exports.default=t.exports}(M3)),M3.exports}var yK=vK();function Wk(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}function wK(t){const e=t.length,n=new Array(e);for(let r=0;r<e;r+=1)n[r]=t[r];return n}class ru extends Pw.EventEmitter{emit(e,...n){let r=e==="error";const i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let s;if(n.length>0&&([s]=n),s instanceof Error)throw s;const a=new Error(`Unhandled error.${s?` (${s.message})`:""}`);throw a.context=s,a}const o=i[e];if(o===void 0)return!1;if(typeof o=="function")Wk(o,this,n);else{const s=o.length,a=wK(o);for(let c=0;c<s;c+=1)Wk(a[c],this,n)}return!0}}class hp extends Error{constructor({code:e,message:n,data:r}){if(!Number.isInteger(e))throw new Error("code must be an integer");if(!n||typeof n!="string")throw new Error("message must be string");super(n),ke(this,"code",void 0),ke(this,"data",void 0),this.code=e,r!==void 0&&(this.data=r)}toString(){return sN({code:this.code,message:this.message,data:this.data,stack:this.stack})}}const ei={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},Vk={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};var UN=function(t,e){if(typeof t>"u"||t===null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)};const Gk=ei.rpc.internal,bK="Unspecified error message. This is a bug, please report it.",EK="Unspecified server error.";function zN(t){return Number.isInteger(t)}function Yk(t){return typeof t=="string"&&t.length>0}function Ey(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}function xK(t){if(typeof t!="object"||t===null)return!1;try{let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}catch{return!1}}function _K(t){return t>=-32099&&t<=-32e3}function qN(t){const e=t;return!(!e||!zN(e.code)||!Yk(e.message)||e.stack&&!Yk(e.stack))}function Uw(t,e=bK){if(zN(t)){const n=t.toString();if(UN(Vk,n))return Vk[n].message;if(_K(t))return EK}return e}const SK={code:Gk,message:Uw(Gk)};function g_(t){try{JSON.parse(JSON.stringify(t,(e,n)=>{if(e==="__proto__"||e==="constructor")throw new Error("Not valid json");if(typeof n=="function"||typeof n=="symbol")throw new Error("Not valid json");return n}),(e,n)=>{if(!(e==="__proto__"||e==="constructor"))return n})}catch{return!1}return!0}function Jk(t){return Object.getOwnPropertyNames(t).reduce((e,n)=>{const r=t[n];return g_(r)&&(e[n]=r),e},{})}function HN(t){return Array.isArray(t)?t.map(e=>g_(e)?e:Ey(e)?Jk(e):null):Ey(t)?Jk(t):g_(t)?t:null}function CK(t,e){if(t&&typeof t=="object"&&"serialize"in t&&typeof t.serialize=="function")return t.serialize();if(qN(t))return t;const n=HN(t);return _e(_e({},e),{},{data:{cause:n}})}function m_(t,{fallbackError:e=SK,shouldIncludeStack:n=!0}={}){if(!qN(e))throw new Error("Must provide fallback error with integer number code and string message.");const r=CK(t,e);return n||delete r.stack,r}function AK(t){return Ey(t)&&UN(t,"cause")&&Ey(t.cause)}var IK=function(t,e){if(typeof t>"u"||t===null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)};function kK(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function MK(t,e){if(e!=="[Circular]")return e}class KN extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a non-empty string.');AK(r)?(super(n,{cause:r.cause}),ke(this,"cause",void 0),ke(this,"code",void 0),ke(this,"data",void 0),IK(this,"cause")||Object.assign(this,{cause:r.cause})):(super(n),ke(this,"cause",void 0),ke(this,"code",void 0),ke(this,"data",void 0)),r!==void 0&&(this.data=r),this.code=e,this.cause=r==null?void 0:r.cause}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data,xK(this.data)&&(e.data.cause=HN(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return sN(this.serialize(),{replacer:MK,space:2})}}class WN extends KN{constructor(e,n,r){if(!kK(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}function VN(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e??void 0,n]}}return[]}function Ko(t,e){const[n,r]=VN(e);return new KN(t,n??Uw(t),r)}function pp(t,e){const[n,r]=VN(e);return new WN(t,n??Uw(t),r)}const bc={parse:t=>Ko(ei.rpc.parse,t),invalidRequest:t=>Ko(ei.rpc.invalidRequest,t),invalidParams:t=>Ko(ei.rpc.invalidParams,t),methodNotFound:t=>Ko(ei.rpc.methodNotFound,t),internal:t=>Ko(ei.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Ko(e,t)},invalidInput:t=>Ko(ei.rpc.invalidInput,t),resourceNotFound:t=>Ko(ei.rpc.resourceNotFound,t),resourceUnavailable:t=>Ko(ei.rpc.resourceUnavailable,t),transactionRejected:t=>Ko(ei.rpc.transactionRejected,t),methodNotSupported:t=>Ko(ei.rpc.methodNotSupported,t),limitExceeded:t=>Ko(ei.rpc.limitExceeded,t)},Zk={userRejectedRequest:t=>pp(ei.provider.userRejectedRequest,t),unauthorized:t=>pp(ei.provider.unauthorized,t),unsupportedMethod:t=>pp(ei.provider.unsupportedMethod,t),disconnected:t=>pp(ei.provider.disconnected,t),chainDisconnected:t=>pp(ei.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new WN(e,n,r)}},$fe=(t,e,n=!0)=>(r,i)=>{r||i.error?e(r||i.error):!n||Array.isArray(i)?t(i):t(i.result)};function Ffe(){const t={};function e(){return!1}const n=new ru;function r(c){const l=t[c.id];if(!l)throw new Error(`StreamMiddleware - Unknown response id "${c.id}"`);delete t[c.id],Object.assign(l.res,c),setTimeout(l.end)}function i(c){n.emit("notification",c)}function o(c,l,u){let f;try{!c.id?i(c):r(c)}catch(p){f=p}u(f)}const s=new yK.Duplex({objectMode:!0,read:e,write:o});return{events:n,middleware:(c,l,u,f)=>{s.push(c),t[c.id]={req:c,res:l,next:u,end:f}},stream:s}}function Ufe(t){return(e,n,r,i)=>{const o=t[e.method];return o===void 0?r():typeof o=="function"?o(e,n,r,i):(n.result=o,i())}}function zfe(){return(t,e,n,r)=>{const i=t.id,o=Math.random().toString(36).slice(2);t.id=o,e.id=o,n(s=>{t.id=i,e.id=i,s()})}}function RK(t){return async(e,n,r,i)=>{let o;const s=new Promise(u=>{o=u});let a=null,c=!1;const l=async()=>{c=!0,r(u=>{a=u,o()}),await s};try{await t(e,n,l),c?(await s,a(null)):i(null)}catch(u){const f=u;a?a(f):i(f)}}}function v_(t){const{message:e="",code:n=-32603,stack:r="Stack trace is not available.",data:i=""}=t,o=parseInt((n==null?void 0:n.toString())||"-32603");return{message:e||(t==null?void 0:t.toString())||Uw(o),code:o,stack:r,data:i||e||(t==null?void 0:t.toString())}}class ca extends ru{constructor(){super(),ke(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,n,r){const i=[];let o=null,s=!1;for(const a of r)if([o,s]=await ca._runMiddleware(e,n,a,i),s)break;return[o,s,i.reverse()]}static _runMiddleware(e,n,r,i){return new Promise(o=>{const s=c=>{const l=c||n.error;l&&(typeof l=="object"&&Object.keys(l).includes("stack")===!1&&(l.stack="Stack trace is not available."),Sc.error(l),n.error=m_(l,{shouldIncludeStack:!0,fallbackError:v_(l)})),o([l,!0])},a=c=>{n.error?s(n.error):(c&&(typeof c!="function"&&s(new hp({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),i.push(c)),o([null,!1]))};try{r(e,n,a,s)}catch(c){s(c)}})}static async _runReturnHandlers(e){for(const n of e)await new Promise((r,i)=>{n(o=>o?i(o):r())})}static _checkForCompletion(e,n,r){if(!("result"in n)&&!("error"in n))throw new hp({code:-32603,message:"Response has no error or result for request"});if(!r)throw new hp({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,n){if(n&&typeof n!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?n?this._handleBatch(e,n):this._handleBatch(e):n?this._handle(e,n):this._promiseHandle(e)}asMiddleware(){return async(e,n,r,i)=>{try{const[o,s,a]=await ca._runAllMiddleware(e,n,this._middleware);return s?(await ca._runReturnHandlers(a),i(o)):r(async c=>{try{await ca._runReturnHandlers(a)}catch(l){return c(l)}return c()})}catch(o){return i(o)}}}async _handleBatch(e,n){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return n?n(null,r):r}catch(r){if(n)return n(r);throw r}}_promiseHandle(e){return new Promise((n,r)=>{this._handle(e,(i,o)=>{i&&o===void 0?r(i):n(o)}).catch(r)})}async _handle(e,n){if(!e||Array.isArray(e)||typeof e!="object"){const s=new hp({code:-32603,message:"request must be plain object"});return n(s,{id:void 0,jsonrpc:"2.0",error:s})}if(typeof e.method!="string"){const s=new hp({code:-32603,message:"method must be string"});return n(s,{id:e.id,jsonrpc:"2.0",error:s})}const r=_e({},e),i={id:r.id,jsonrpc:r.jsonrpc};let o=null;try{await this._processRequest(r,i)}catch(s){o=s}return o&&(delete i.result,i.error||(typeof o=="object"&&Object.keys(o).includes("stack")===!1&&(o.stack="Stack trace is not available."),Sc.error(o),i.error=m_(o,{shouldIncludeStack:!0,fallbackError:v_(o)}))),n(o,i)}async _processRequest(e,n){const[r,i,o]=await ca._runAllMiddleware(e,n,this._middleware);if(ca._checkForCompletion(e,n,i),await ca._runReturnHandlers(o),r)throw r}}function OK(t){const e=new ca;return t.forEach(n=>{e.push(n)}),e.asMiddleware()}function TK(t){const e=new ru;return e.sendAsync=async n=>{const r=await t.handle(n);if(r.error){typeof r.error=="object"&&Object.keys(r.error).includes("stack")===!1&&(r.error.stack="Stack trace is not available."),Sc.error(r.error);const i=m_(r.error,{fallbackError:v_(r.error),shouldIncludeStack:!0});throw bc.internal(i)}return r.result},e.send=(n,r)=>{if(typeof r!="function")throw new Error('Must provide callback to "send" method.');t.handle(n,r)},t.on&&t.on("notification",n=>{e.emit("data",null,n)}),e.request=async n=>{const r=_e(_e({},n),{},{id:Math.random().toString(36).slice(2),jsonrpc:"2.0"});return await e.sendAsync(r)},e}function Xk(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function NK(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function zw(t,...e){if(!NK(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function PK(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Xk(t.outputLen),Xk(t.blockLen)}function xy(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function LK(t,e){zw(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Q3=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const eE=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),na=(t,e)=>t<<32-e|t>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function BK(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function dC(t){return typeof t=="string"&&(t=BK(t)),zw(t),t}function DK(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];zw(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}class GN{clone(){return this._cloneInto()}}function jK(t){const e=r=>t().update(dC(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function $K(t=32){if(Q3&&typeof Q3.getRandomValues=="function")return Q3.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function FK(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,l=r?0:4;t.setUint32(e+c,s,r),t.setUint32(e+l,a,r)}const UK=(t,e,n)=>t&e^~t&n,zK=(t,e,n)=>t&e^t&n^e&n;class qK extends GN{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=eE(this.buffer)}update(e){xy(this);const{view:n,buffer:r,blockLen:i}=this;e=dC(e);const o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const c=eE(e);for(;i<=o-s;s+=i)this.process(c,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){xy(this),LK(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let f=s;f<i;f++)n[f]=0;FK(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=eE(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%n&&e.buffer.set(r),e}}const HK=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),nl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),rl=new Uint32Array(64);class KK extends qK{constructor(){super(64,32,8,!1),this.A=nl[0]|0,this.B=nl[1]|0,this.C=nl[2]|0,this.D=nl[3]|0,this.E=nl[4]|0,this.F=nl[5]|0,this.G=nl[6]|0,this.H=nl[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:c}=this;return[e,n,r,i,o,s,a,c]}set(e,n,r,i,o,s,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,n){for(let f=0;f<16;f++,n+=4)rl[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const p=rl[f-15],m=rl[f-2],w=na(p,7)^na(p,18)^p>>>3,y=na(m,17)^na(m,19)^m>>>10;rl[f]=y+rl[f-7]+w+rl[f-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const p=na(a,6)^na(a,11)^na(a,25),m=u+p+UK(a,c,l)+HK[f]+rl[f]|0,y=(na(r,2)^na(r,13)^na(r,22))+zK(r,i,o)|0;u=l,l=c,c=a,a=s+m|0,s=o,o=i,i=r,r=m+y|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,o,s,a,c,l,u)}roundClean(){rl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const WK=jK(()=>new KK);class YN extends GN{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,PK(e);const r=dC(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return xy(this),this.iHash.update(e),this}digestInto(e){xy(this),zw(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const JN=(t,e,n)=>new YN(t,e).update(n).digest();JN.create=(t,e)=>new YN(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ZN=BigInt(0),qw=BigInt(1),VK=BigInt(2);function pd(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function og(t){if(!pd(t))throw new Error("Uint8Array expected")}const GK=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function sh(t){og(t);let e="";for(let n=0;n<t.length;n++)e+=GK[t[n]];return e}function XN(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function fC(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const Ha={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Qk(t){if(t>=Ha._0&&t<=Ha._9)return t-Ha._0;if(t>=Ha._A&&t<=Ha._F)return t-(Ha._A-10);if(t>=Ha._a&&t<=Ha._f)return t-(Ha._a-10)}function ah(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=Qk(t.charCodeAt(o)),a=Qk(t.charCodeAt(o+1));if(s===void 0||a===void 0){const c=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[i]=s*16+a}return r}function ld(t){return fC(sh(t))}function hC(t){return og(t),fC(sh(Uint8Array.from(t).reverse()))}function ch(t,e){return ah(t.toString(16).padStart(e*2,"0"))}function pC(t,e){return ch(t,e).reverse()}function YK(t){return ah(XN(t))}function Rs(t,e,n){let r;if(typeof e=="string")try{r=ah(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(pd(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function a0(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];og(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}function JK(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function ZK(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function XK(t){let e;for(e=0;t>ZN;t>>=qw,e+=1);return e}function QK(t,e){return t>>BigInt(e)&qw}function eW(t,e,n){return t|(n?qw:ZN)<<BigInt(e)}const gC=t=>(VK<<BigInt(t-1))-qw,tE=t=>new Uint8Array(t),eM=t=>Uint8Array.from(t);function QN(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=tE(t),i=tE(t),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...f)=>n(i,r,...f),c=(f=tE())=>{i=a(eM([0]),f),r=a(),f.length!==0&&(i=a(eM([1]),f),r=a())},l=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<e;){r=a();const m=r.slice();p.push(m),f+=r.length}return a0(...p)};return(f,p)=>{s(),c(f);let m;for(;!(m=p(l()));)c();return s(),m}}const tW={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||pd(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function sg(t,e,n={}){const r=(i,o,s)=>{const a=tW[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const c=t[i];if(!(s&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${o}`)};for(const[i,o]of Object.entries(e))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return t}const nW=Object.freeze(Object.defineProperty({__proto__:null,abytes:og,bitGet:QK,bitLen:XK,bitMask:gC,bitSet:eW,bytesToHex:sh,bytesToNumberBE:ld,bytesToNumberLE:hC,concatBytes:a0,createHmacDrbg:QN,ensureBytes:Rs,equalBytes:JK,hexToBytes:ah,hexToNumber:fC,isBytes:pd,numberToBytesBE:ch,numberToBytesLE:pC,numberToHexUnpadded:XN,numberToVarBytesBE:YK,utf8ToBytes:ZK,validateObject:sg},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wr=BigInt(0),xr=BigInt(1),$u=BigInt(2),rW=BigInt(3),y_=BigInt(4),tM=BigInt(5),nM=BigInt(8);BigInt(9);BigInt(16);function co(t,e){const n=t%e;return n>=Wr?n:e+n}function iW(t,e,n){if(n<=Wr||e<Wr)throw new Error("Expected power/modulo > 0");if(n===xr)return Wr;let r=xr;for(;e>Wr;)e&xr&&(r=r*t%n),t=t*t%n,e>>=xr;return r}function Wo(t,e,n){let r=t;for(;e-- >Wr;)r*=r,r%=n;return r}function w_(t,e){if(t===Wr||e<=Wr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=co(t,e),r=e,i=Wr,o=xr;for(;n!==Wr;){const a=r/n,c=r%n,l=i-o*a;r=n,n=c,i=o,o=l}if(r!==xr)throw new Error("invert: does not exist");return co(i,e)}function oW(t){const e=(t-xr)/$u;let n,r,i;for(n=t-xr,r=0;n%$u===Wr;n/=$u,r++);for(i=$u;i<t&&iW(i,e,t)!==t-xr;i++);if(r===1){const s=(t+xr)/y_;return function(c,l){const u=c.pow(l,s);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}const o=(n+xr)/$u;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,u=a.pow(a.mul(a.ONE,i),n),f=a.pow(c,o),p=a.pow(c,n);for(;!a.eql(p,a.ONE);){if(a.eql(p,a.ZERO))return a.ZERO;let m=1;for(let y=a.sqr(p);m<l&&!a.eql(y,a.ONE);m++)y=a.sqr(y);const w=a.pow(u,xr<<BigInt(l-m-1));u=a.sqr(w),f=a.mul(f,w),p=a.mul(p,u),l=m}return f}}function sW(t){if(t%y_===rW){const e=(t+xr)/y_;return function(r,i){const o=r.pow(i,e);if(!r.eql(r.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%nM===tM){const e=(t-tM)/nM;return function(r,i){const o=r.mul(i,$u),s=r.pow(o,e),a=r.mul(i,s),c=r.mul(r.mul(a,$u),s),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),i))throw new Error("Cannot find square root");return l}}return oW(t)}const aW=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function cW(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=aW.reduce((r,i)=>(r[i]="function",r),e);return sg(t,n)}function lW(t,e,n){if(n<Wr)throw new Error("Expected power > 0");if(n===Wr)return t.ONE;if(n===xr)return e;let r=t.ONE,i=e;for(;n>Wr;)n&xr&&(r=t.mul(r,i)),i=t.sqr(i),n>>=xr;return r}function uW(t,e){const n=new Array(e.length),r=e.reduce((o,s,a)=>t.is0(s)?o:(n[a]=o,t.mul(o,s)),t.ONE),i=t.inv(r);return e.reduceRight((o,s,a)=>t.is0(s)?o:(n[a]=t.mul(o,n[a]),t.mul(o,s)),i),n}function eP(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function dW(t,e,n=!1,r={}){if(t<=Wr)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:o}=eP(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=sW(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:gC(i),ZERO:Wr,ONE:xr,create:c=>co(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Wr<=c&&c<t},is0:c=>c===Wr,isOdd:c=>(c&xr)===xr,neg:c=>co(-c,t),eql:(c,l)=>c===l,sqr:c=>co(c*c,t),add:(c,l)=>co(c+l,t),sub:(c,l)=>co(c-l,t),mul:(c,l)=>co(c*l,t),pow:(c,l)=>lW(a,c,l),div:(c,l)=>co(c*w_(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>w_(c,t),sqrt:r.sqrt||(c=>s(a,c)),invertBatch:c=>uW(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?pC(c,o):ch(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return n?hC(c):ld(c)}});return Object.freeze(a)}function tP(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function nP(t){const e=tP(t);return e+Math.ceil(e/2)}function fW(t,e,n=!1){const r=t.length,i=tP(e),o=nP(e);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const s=n?ld(t):hC(t),a=co(s,e-xr)+xr;return n?pC(a,i):ch(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const hW=BigInt(0),nE=BigInt(1);function pW(t,e){const n=(i,o)=>{const s=o.negate();return i?s:o},r=i=>{const o=Math.ceil(e/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:n,unsafeLadder(i,o){let s=t.ZERO,a=i;for(;o>hW;)o&nE&&(s=s.add(a)),a=a.double(),o>>=nE;return s},precomputeWindow(i,o){const{windows:s,windowSize:a}=r(o),c=[];let l=i,u=l;for(let f=0;f<s;f++){u=l,c.push(u);for(let p=1;p<a;p++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(i,o,s){const{windows:a,windowSize:c}=r(i);let l=t.ZERO,u=t.BASE;const f=BigInt(2**i-1),p=2**i,m=BigInt(i);for(let w=0;w<a;w++){const y=w*c;let I=Number(s&f);s>>=m,I>c&&(I-=p,s+=nE);const S=y,T=y+Math.abs(I)-1,N=w%2!==0,z=I<0;I===0?u=u.add(n(N,o[S])):l=l.add(n(z,o[T]))}return{p:l,f:u}},wNAFCached(i,o,s,a){const c=i._WINDOW_SIZE||1;let l=o.get(i);return l||(l=this.precomputeWindow(i,c),c!==1&&o.set(i,a(l))),this.wNAF(c,l,s)}}}function rP(t){return cW(t.Fp),sg(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...eP(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function gW(t){const e=rP(t);sg(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:mW,hexToBytes:vW}=nW,qu={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=qu;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:mW(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=qu,n=typeof t=="string"?vW(t):t;og(n);let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:o}=qu._parseInt(n.subarray(2)),{d:s,l:a}=qu._parseInt(o);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){const e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,n=l=>{const u=l.toString(16);return u.length&1?`0${u}`:u},r=e(n(t.s)),i=e(n(t.r)),o=r.length/2,s=i.length/2,a=n(o),c=n(s);return`30${n(s+o+4)}02${c}${i}02${a}${r}`}},cc=BigInt(0),is=BigInt(1);BigInt(2);const rM=BigInt(3);BigInt(4);function yW(t){const e=gW(t),{Fp:n}=e,r=e.toBytes||((w,y,I)=>{const S=y.toAffine();return a0(Uint8Array.from([4]),n.toBytes(S.x),n.toBytes(S.y))}),i=e.fromBytes||(w=>{const y=w.subarray(1),I=n.fromBytes(y.subarray(0,n.BYTES)),S=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:I,y:S}});function o(w){const{a:y,b:I}=e,S=n.sqr(w),T=n.mul(S,w);return n.add(n.add(T,n.mul(w,y)),I)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(w){return typeof w=="bigint"&&cc<w&&w<e.n}function a(w){if(!s(w))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(w){const{allowedPrivateKeyLengths:y,nByteLength:I,wrapPrivateKey:S,n:T}=e;if(y&&typeof w!="bigint"){if(pd(w)&&(w=sh(w)),typeof w!="string"||!y.includes(w.length))throw new Error("Invalid key");w=w.padStart(I*2,"0")}let N;try{N=typeof w=="bigint"?w:ld(Rs("private key",w,I))}catch{throw new Error(`private key must be ${I} bytes, hex or bigint, not ${typeof w}`)}return S&&(N=co(N,T)),a(N),N}const l=new Map;function u(w){if(!(w instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(y,I,S){if(this.px=y,this.py=I,this.pz=S,y==null||!n.isValid(y))throw new Error("x required");if(I==null||!n.isValid(I))throw new Error("y required");if(S==null||!n.isValid(S))throw new Error("z required")}static fromAffine(y){const{x:I,y:S}=y||{};if(!y||!n.isValid(I)||!n.isValid(S))throw new Error("invalid affine point");if(y instanceof f)throw new Error("projective point not allowed");const T=N=>n.eql(N,n.ZERO);return T(I)&&T(S)?f.ZERO:new f(I,S,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const I=n.invertBatch(y.map(S=>S.pz));return y.map((S,T)=>S.toAffine(I[T])).map(f.fromAffine)}static fromHex(y){const I=f.fromAffine(i(Rs("pointHex",y)));return I.assertValidity(),I}static fromPrivateKey(y){return f.BASE.multiply(c(y))}_setWindowSize(y){this._WINDOW_SIZE=y,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:y,y:I}=this.toAffine();if(!n.isValid(y)||!n.isValid(I))throw new Error("bad point: x or y not FE");const S=n.sqr(I),T=o(y);if(!n.eql(S,T))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){u(y);const{px:I,py:S,pz:T}=this,{px:N,py:z,pz:$}=y,H=n.eql(n.mul(I,$),n.mul(N,T)),K=n.eql(n.mul(S,$),n.mul(z,T));return H&&K}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:I}=e,S=n.mul(I,rM),{px:T,py:N,pz:z}=this;let $=n.ZERO,H=n.ZERO,K=n.ZERO,j=n.mul(T,T),B=n.mul(N,N),D=n.mul(z,z),P=n.mul(T,N);return P=n.add(P,P),K=n.mul(T,z),K=n.add(K,K),$=n.mul(y,K),H=n.mul(S,D),H=n.add($,H),$=n.sub(B,H),H=n.add(B,H),H=n.mul($,H),$=n.mul(P,$),K=n.mul(S,K),D=n.mul(y,D),P=n.sub(j,D),P=n.mul(y,P),P=n.add(P,K),K=n.add(j,j),j=n.add(K,j),j=n.add(j,D),j=n.mul(j,P),H=n.add(H,j),D=n.mul(N,z),D=n.add(D,D),j=n.mul(D,P),$=n.sub($,j),K=n.mul(D,B),K=n.add(K,K),K=n.add(K,K),new f($,H,K)}add(y){u(y);const{px:I,py:S,pz:T}=this,{px:N,py:z,pz:$}=y;let H=n.ZERO,K=n.ZERO,j=n.ZERO;const B=e.a,D=n.mul(e.b,rM);let P=n.mul(I,N),E=n.mul(S,z),b=n.mul(T,$),g=n.add(I,S),v=n.add(N,z);g=n.mul(g,v),v=n.add(P,E),g=n.sub(g,v),v=n.add(I,T);let A=n.add(N,$);return v=n.mul(v,A),A=n.add(P,b),v=n.sub(v,A),A=n.add(S,T),H=n.add(z,$),A=n.mul(A,H),H=n.add(E,b),A=n.sub(A,H),j=n.mul(B,v),H=n.mul(D,b),j=n.add(H,j),H=n.sub(E,j),j=n.add(E,j),K=n.mul(H,j),E=n.add(P,P),E=n.add(E,P),b=n.mul(B,b),v=n.mul(D,v),E=n.add(E,b),b=n.sub(P,b),b=n.mul(B,b),v=n.add(v,b),P=n.mul(E,v),K=n.add(K,P),P=n.mul(A,v),H=n.mul(g,H),H=n.sub(H,P),P=n.mul(g,E),j=n.mul(A,j),j=n.add(j,P),new f(H,K,j)}subtract(y){return this.add(y.negate())}is0(){return this.equals(f.ZERO)}wNAF(y){return m.wNAFCached(this,l,y,I=>{const S=n.invertBatch(I.map(T=>T.pz));return I.map((T,N)=>T.toAffine(S[N])).map(f.fromAffine)})}multiplyUnsafe(y){const I=f.ZERO;if(y===cc)return I;if(a(y),y===is)return this;const{endo:S}=e;if(!S)return m.unsafeLadder(this,y);let{k1neg:T,k1:N,k2neg:z,k2:$}=S.splitScalar(y),H=I,K=I,j=this;for(;N>cc||$>cc;)N&is&&(H=H.add(j)),$&is&&(K=K.add(j)),j=j.double(),N>>=is,$>>=is;return T&&(H=H.negate()),z&&(K=K.negate()),K=new f(n.mul(K.px,S.beta),K.py,K.pz),H.add(K)}multiply(y){a(y);let I=y,S,T;const{endo:N}=e;if(N){const{k1neg:z,k1:$,k2neg:H,k2:K}=N.splitScalar(I);let{p:j,f:B}=this.wNAF($),{p:D,f:P}=this.wNAF(K);j=m.constTimeNegate(z,j),D=m.constTimeNegate(H,D),D=new f(n.mul(D.px,N.beta),D.py,D.pz),S=j.add(D),T=B.add(P)}else{const{p:z,f:$}=this.wNAF(I);S=z,T=$}return f.normalizeZ([S,T])[0]}multiplyAndAddUnsafe(y,I,S){const T=f.BASE,N=($,H)=>H===cc||H===is||!$.equals(T)?$.multiplyUnsafe(H):$.multiply(H),z=N(this,I).add(N(y,S));return z.is0()?void 0:z}toAffine(y){const{px:I,py:S,pz:T}=this,N=this.is0();y==null&&(y=N?n.ONE:n.inv(T));const z=n.mul(I,y),$=n.mul(S,y),H=n.mul(T,y);if(N)return{x:n.ZERO,y:n.ZERO};if(!n.eql(H,n.ONE))throw new Error("invZ was invalid");return{x:z,y:$}}isTorsionFree(){const{h:y,isTorsionFree:I}=e;if(y===is)return!0;if(I)return I(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:I}=e;return y===is?this:I?I(f,this):this.multiplyUnsafe(e.h)}toRawBytes(y=!0){return this.assertValidity(),r(f,this,y)}toHex(y=!0){return sh(this.toRawBytes(y))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const p=e.nBitLength,m=pW(f,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:s}}function wW(t){const e=rP(t);return sg(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function bW(t){const e=wW(t),{Fp:n,n:r}=e,i=n.BYTES+1,o=2*n.BYTES+1;function s(v){return cc<v&&v<n.ORDER}function a(v){return co(v,r)}function c(v){return w_(v,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:p}=yW({...e,toBytes(v,A,L){const C=A.toAffine(),O=n.toBytes(C.x),x=a0;return L?x(Uint8Array.from([A.hasEvenY()?2:3]),O):x(Uint8Array.from([4]),O,n.toBytes(C.y))},fromBytes(v){const A=v.length,L=v[0],C=v.subarray(1);if(A===i&&(L===2||L===3)){const O=ld(C);if(!s(O))throw new Error("Point is not on curve");const x=f(O);let R;try{R=n.sqrt(x)}catch(U){const q=U instanceof Error?": "+U.message:"";throw new Error("Point is not on curve"+q)}const _=(R&is)===is;return(L&1)===1!==_&&(R=n.neg(R)),{x:O,y:R}}else if(A===o&&L===4){const O=n.fromBytes(C.subarray(0,n.BYTES)),x=n.fromBytes(C.subarray(n.BYTES,2*n.BYTES));return{x:O,y:x}}else throw new Error(`Point of length ${A} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),m=v=>sh(ch(v,e.nByteLength));function w(v){const A=r>>is;return v>A}function y(v){return w(v)?a(-v):v}const I=(v,A,L)=>ld(v.slice(A,L));class S{constructor(A,L,C){this.r=A,this.s=L,this.recovery=C,this.assertValidity()}static fromCompact(A){const L=e.nByteLength;return A=Rs("compactSignature",A,L*2),new S(I(A,0,L),I(A,L,2*L))}static fromDER(A){const{r:L,s:C}=qu.toSig(Rs("DER",A));return new S(L,C)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(A){return new S(this.r,this.s,A)}recoverPublicKey(A){const{r:L,s:C,recovery:O}=this,x=K(Rs("msgHash",A));if(O==null||![0,1,2,3].includes(O))throw new Error("recovery id invalid");const R=O===2||O===3?L+e.n:L;if(R>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const _=(O&1)===0?"02":"03",k=l.fromHex(_+m(R)),U=c(R),q=a(-x*U),V=a(C*U),Q=l.BASE.multiplyAndAddUnsafe(k,q,V);if(!Q)throw new Error("point at infinify");return Q.assertValidity(),Q}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new S(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return ah(this.toDERHex())}toDERHex(){return qu.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ah(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const T={isValidPrivateKey(v){try{return u(v),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const v=nP(e.n);return fW(e.randomBytes(v),e.n)},precompute(v=8,A=l.BASE){return A._setWindowSize(v),A.multiply(BigInt(3)),A}};function N(v,A=!0){return l.fromPrivateKey(v).toRawBytes(A)}function z(v){const A=pd(v),L=typeof v=="string",C=(A||L)&&v.length;return A?C===i||C===o:L?C===2*i||C===2*o:v instanceof l}function $(v,A,L=!0){if(z(v))throw new Error("first arg must be private key");if(!z(A))throw new Error("second arg must be public key");return l.fromHex(A).multiply(u(v)).toRawBytes(L)}const H=e.bits2int||function(v){const A=ld(v),L=v.length*8-e.nBitLength;return L>0?A>>BigInt(L):A},K=e.bits2int_modN||function(v){return a(H(v))},j=gC(e.nBitLength);function B(v){if(typeof v!="bigint")throw new Error("bigint expected");if(!(cc<=v&&v<j))throw new Error(`bigint expected < 2^${e.nBitLength}`);return ch(v,e.nByteLength)}function D(v,A,L=P){if(["recovered","canonical"].some(X=>X in L))throw new Error("sign() legacy options not supported");const{hash:C,randomBytes:O}=e;let{lowS:x,prehash:R,extraEntropy:_}=L;x==null&&(x=!0),v=Rs("msgHash",v),R&&(v=Rs("prehashed msgHash",C(v)));const k=K(v),U=u(A),q=[B(U),B(k)];if(_!=null&&_!==!1){const X=_===!0?O(n.BYTES):_;q.push(Rs("extraEntropy",X))}const V=a0(...q),Q=k;function Y(X){const ee=H(X);if(!p(ee))return;const ie=c(ee),oe=l.BASE.multiply(ee).toAffine(),te=a(oe.x);if(te===cc)return;const se=a(ie*a(Q+te*U));if(se===cc)return;let ue=(oe.x===te?0:2)|Number(oe.y&is),me=se;return x&&w(se)&&(me=y(se),ue^=1),new S(te,me,ue)}return{seed:V,k2sig:Y}}const P={lowS:e.lowS,prehash:!1},E={lowS:e.lowS,prehash:!1};function b(v,A,L=P){const{seed:C,k2sig:O}=D(v,A,L),x=e;return QN(x.hash.outputLen,x.nByteLength,x.hmac)(C,O)}l.BASE._setWindowSize(8);function g(v,A,L,C=E){var oe;const O=v;if(A=Rs("msgHash",A),L=Rs("publicKey",L),"strict"in C)throw new Error("options.strict was renamed to lowS");const{lowS:x,prehash:R}=C;let _,k;try{if(typeof O=="string"||pd(O))try{_=S.fromDER(O)}catch(te){if(!(te instanceof qu.Err))throw te;_=S.fromCompact(O)}else if(typeof O=="object"&&typeof O.r=="bigint"&&typeof O.s=="bigint"){const{r:te,s:se}=O;_=new S(te,se)}else throw new Error("PARSE");k=l.fromHex(L)}catch(te){if(te.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(x&&_.hasHighS())return!1;R&&(A=e.hash(A));const{r:U,s:q}=_,V=K(A),Q=c(q),Y=a(V*Q),X=a(U*Q),ee=(oe=l.BASE.multiplyAndAddUnsafe(k,Y,X))==null?void 0:oe.toAffine();return ee?a(ee.x)===U:!1}return{CURVE:e,getPublicKey:N,getSharedSecret:$,sign:b,verify:g,ProjectivePoint:l,Signature:S,utils:T}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function EW(t){return{hash:t,hmac:(e,...n)=>JN(t,e,DK(...n)),randomBytes:$K}}function xW(t,e){const n=r=>bW({...t,...EW(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iP=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),iM=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_W=BigInt(1),b_=BigInt(2),oM=(t,e)=>(t+e/b_)/e;function SW(t){const e=iP,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,f=Wo(u,n,e)*u%e,p=Wo(f,n,e)*u%e,m=Wo(p,b_,e)*l%e,w=Wo(m,i,e)*m%e,y=Wo(w,o,e)*w%e,I=Wo(y,a,e)*y%e,S=Wo(I,c,e)*I%e,T=Wo(S,a,e)*y%e,N=Wo(T,n,e)*u%e,z=Wo(N,s,e)*w%e,$=Wo(z,r,e)*l%e,H=Wo($,b_,e);if(!E_.eql(E_.sqr(H),t))throw new Error("Cannot find square root");return H}const E_=dW(iP,void 0,void 0,{sqrt:SW}),mC=xW({a:BigInt(0),b:BigInt(7),Fp:E_,n:iM,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=iM,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-_W*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=oM(o*t,e),c=oM(-r*t,e);let l=co(t-a*n-c*i,e),u=co(-a*r-c*o,e);const f=l>s,p=u>s;if(f&&(l=e-l),p&&(u=e-u),l>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:l,k2neg:p,k2:u}}}},WK);BigInt(0);mC.ProjectivePoint;function CW(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}function AW(t){let e=t;if(typeof e!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof e}`);return e.length%2&&(e=`0${e}`),e}BigInt(0);const x_={},__={};for(let t=0;t<16;t++){const e=t,n=t*16,r=t.toString(16).toLowerCase();__[r]=e,__[r.toUpperCase()]=e,x_[r]=n,x_[r.toUpperCase()]=n}function IW(t){const e=t.length,n=new Uint8Array(e/2);for(let r=0;r<e;r+=2)n[r/2]=x_[t[r]]+__[t[r+1]];return n}Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));for(let t=0;t<=256*256-1;t++)BigInt(t);const Hw=t=>{if(typeof t!="string")throw new Error(`hex argument type ${typeof t} must be of type string`);if(!/^0x[0-9a-fA-F]*$/.test(t))throw new Error(`Input must be a 0x-prefixed hexadecimal string, got ${t}`);const e=t.slice(2);return IW(e.length%2===0?e:AW(e))},kW=t=>{if(!Number.isSafeInteger(t)||t<0)throw new Error(`Received an invalid integer type: ${t}`);return`0x${t.toString(16)}`},ag=t=>{const e=kW(t);return Hw(e)},Hfe=t=>typeof t!="string"||CW(t)?t:`0x${t}`;BigInt("0xffffffffffffffff");BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935");mC.CURVE.n;mC.CURVE.n/BigInt(2);BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");const MW="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";Hw(MW);const RW="0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";Hw(RW);const OW="0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";Hw(OW);Uint8Array.from([128]);BigInt(-1);BigInt(0);BigInt(1);BigInt(2);BigInt(3);BigInt(7);BigInt(8);BigInt(27);BigInt(28);BigInt(31);BigInt(32);BigInt(64);BigInt(128);BigInt(255);BigInt(256);BigInt(96);BigInt(100);BigInt(160);BigInt(224);BigInt(7922816251426434e13);BigInt(1461501637330903e33);BigInt(2695994666715064e52);BigInt(1e9);Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));var sM;(function(t){t.String="string",t.Bytes="view",t.Number="number"})(sM||(sM={}));var aM;(function(t){t.String="string",t.Bytes="view",t.JSON="json"})(aM||(aM={}));var cM;(function(t){t[t.Number=0]="Number",t[t.BigInt=1]="BigInt",t[t.Uint8Array=2]="Uint8Array",t[t.PrefixedHexString=3]="PrefixedHexString"})(cM||(cM={}));var lM;(function(t){t[t.Deposit=0]="Deposit",t[t.Withdrawal=1]="Withdrawal",t[t.Consolidation=2]="Consolidation"})(lM||(lM={}));var gd;(function(t){t[t.Version=0]="Version",t[t.Balance=1]="Balance",t[t.Nonce=2]="Nonce",t[t.CodeHash=3]="CodeHash",t[t.CodeSize=4]="CodeSize"})(gd||(gd={}));ag(gd.Version);ag(gd.Balance);ag(gd.Nonce);ag(gd.CodeHash);ag(gd.CodeSize);BigInt(256)**BigInt(31);function uM(t,e=3,n=50,r="black",i=0,o=20,s="#0346ff"){const a=[];let c;for(c=0;c<e;c+=1)a.push(t(s).rotate((c+1)/e*-i).saturate((c+1)/e*(o/100)).mix(t(r),n/100*(c+1)/e).hex());return a}function TW(t,e){const n=uM(t,3,50,"black",0,20,e),r=uM(t,6,85,"white",0,20,e);return[...n.reverse(),e,...r]}function NW(t,e,n){if(n.primary){const r=TW(t,n.primary);e.style.setProperty("--app-primary-900",r[0]),e.style.setProperty("--app-primary-800",r[1]),e.style.setProperty("--app-primary-700",r[2]),e.style.setProperty("--app-primary-600",r[3]),e.style.setProperty("--app-primary-500",r[4]),e.style.setProperty("--app-primary-400",r[5]),e.style.setProperty("--app-primary-300",r[6]),e.style.setProperty("--app-primary-200",r[7]),e.style.setProperty("--app-primary-100",r[8]),e.style.setProperty("--app-primary-50",r[9])}n.onPrimary&&e.style.setProperty("--app-on-primary",n.onPrimary)}class PW extends ru{constructor({config:e={},state:n={}}){super(),ke(this,"defaultConfig",{}),ke(this,"defaultState",{}),ke(this,"disabled",!1),ke(this,"name","BaseController"),ke(this,"initialConfig",void 0),ke(this,"initialState",void 0),ke(this,"internalConfig",this.defaultConfig),ke(this,"internalState",this.defaultState),this.initialState=n,this.initialConfig=e}get config(){return this.internalConfig}get state(){return this.internalState}configure(e,n=!1,r=!0){if(r){this.internalConfig=n?e:Object.assign(this.internalConfig,e);for(const i in this.internalConfig)typeof this.internalConfig[i]<"u"&&(this[i]=this.internalConfig[i])}else for(const i in e)typeof this.internalConfig[i]<"u"&&(this.internalConfig[i]=e[i],this[i]=e[i])}update(e,n=!1){this.internalState=_e(n?{}:_e({},this.internalState),e),this.emit("store",this.internalState)}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}}const LW=()=>!0,BW=["newListener","removeListener"],DW=t=>!BW.includes(t);function jW(t,e){return typeof t.rawListeners<"u"?t.rawListeners(e):t.listeners(e)}function $W(t,e){let r={}.eventFilter||LW;if(typeof r=="string"&&r==="skipInternal"&&(r=DW),typeof r!="function")throw new Error("createEventEmitterProxy - Invalid eventFilter");let i=t,o=a=>{if(i===a)return;const c=i;i=a,c.eventNames().filter(r).forEach(u=>{jW(c,u).forEach(f=>{a.on(u,f)})}),c.removeAllListeners()};return new Proxy({},{get:(a,c)=>c==="setTarget"?o:i[c],set:(a,c,l)=>c==="setTarget"?(o=l,!0):(i[c]=l,!0),has:(a,c)=>c[0]==="_"?!1:c in i})}const FW={BOTTOM_LEFT:"bottom-left"},dM={POPUP:"popup",MODAL:"modal",AUTO_APPROVE:"auto-approve",DEFAULT:"default"};var UW=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,rE=Math.ceil,Xo=Math.floor,oo="[BigNumber Error] ",fM=oo+"Number primitive has more than 15 significant digits: ",Is=1e14,nn=14,iE=9007199254740991,oE=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],il=1e7,$r=1e9;function oP(t){var e,n,r,i=T.prototype={constructor:T,toString:null,valueOf:null},o=new T(1),s=20,a=4,c=-7,l=21,u=-1e7,f=1e7,p=!1,m=1,w=0,y={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},I="0123456789abcdefghijklmnopqrstuvwxyz",S=!0;function T(j,B){var D,P,E,b,g,v,A,L,C=this;if(!(C instanceof T))return new T(j,B);if(B==null){if(j&&j._isBigNumber===!0){C.s=j.s,!j.c||j.e>f?C.c=C.e=null:j.e<u?C.c=[C.e=0]:(C.e=j.e,C.c=j.c.slice());return}if((v=typeof j=="number")&&j*0==0){if(C.s=1/j<0?(j=-j,-1):1,j===~~j){for(b=0,g=j;g>=10;g/=10,b++);b>f?C.c=C.e=null:(C.e=b,C.c=[j]);return}L=String(j)}else{if(!UW.test(L=String(j)))return r(C,L,v);C.s=L.charCodeAt(0)==45?(L=L.slice(1),-1):1}(b=L.indexOf("."))>-1&&(L=L.replace(".","")),(g=L.search(/e/i))>0?(b<0&&(b=g),b+=+L.slice(g+1),L=L.substring(0,g)):b<0&&(b=L.length)}else{if(tr(B,2,I.length,"Base"),B==10&&S)return C=new T(j),H(C,s+C.e+1,a);if(L=String(j),v=typeof j=="number"){if(j*0!=0)return r(C,L,v,B);if(C.s=1/j<0?(L=L.slice(1),-1):1,T.DEBUG&&L.replace(/^0\.0*|\./,"").length>15)throw Error(fM+j)}else C.s=L.charCodeAt(0)===45?(L=L.slice(1),-1):1;for(D=I.slice(0,B),b=g=0,A=L.length;g<A;g++)if(D.indexOf(P=L.charAt(g))<0){if(P=="."){if(g>b){b=A;continue}}else if(!E&&(L==L.toUpperCase()&&(L=L.toLowerCase())||L==L.toLowerCase()&&(L=L.toUpperCase()))){E=!0,g=-1,b=0;continue}return r(C,String(j),v,B)}v=!1,L=n(L,B,10,C.s),(b=L.indexOf("."))>-1?L=L.replace(".",""):b=L.length}for(g=0;L.charCodeAt(g)===48;g++);for(A=L.length;L.charCodeAt(--A)===48;);if(L=L.slice(g,++A)){if(A-=g,v&&T.DEBUG&&A>15&&(j>iE||j!==Xo(j)))throw Error(fM+C.s*j);if((b=b-g-1)>f)C.c=C.e=null;else if(b<u)C.c=[C.e=0];else{if(C.e=b,C.c=[],g=(b+1)%nn,b<0&&(g+=nn),g<A){for(g&&C.c.push(+L.slice(0,g)),A-=nn;g<A;)C.c.push(+L.slice(g,g+=nn));g=nn-(L=L.slice(g)).length}else g-=A;for(;g--;L+="0");C.c.push(+L)}}else C.c=[C.e=0]}T.clone=oP,T.ROUND_UP=0,T.ROUND_DOWN=1,T.ROUND_CEIL=2,T.ROUND_FLOOR=3,T.ROUND_HALF_UP=4,T.ROUND_HALF_DOWN=5,T.ROUND_HALF_EVEN=6,T.ROUND_HALF_CEIL=7,T.ROUND_HALF_FLOOR=8,T.EUCLID=9,T.config=T.set=function(j){var B,D;if(j!=null)if(typeof j=="object"){if(j.hasOwnProperty(B="DECIMAL_PLACES")&&(D=j[B],tr(D,0,$r,B),s=D),j.hasOwnProperty(B="ROUNDING_MODE")&&(D=j[B],tr(D,0,8,B),a=D),j.hasOwnProperty(B="EXPONENTIAL_AT")&&(D=j[B],D&&D.pop?(tr(D[0],-$r,0,B),tr(D[1],0,$r,B),c=D[0],l=D[1]):(tr(D,-$r,$r,B),c=-(l=D<0?-D:D))),j.hasOwnProperty(B="RANGE"))if(D=j[B],D&&D.pop)tr(D[0],-$r,-1,B),tr(D[1],1,$r,B),u=D[0],f=D[1];else if(tr(D,-$r,$r,B),D)u=-(f=D<0?-D:D);else throw Error(oo+B+" cannot be zero: "+D);if(j.hasOwnProperty(B="CRYPTO"))if(D=j[B],D===!!D)if(D)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))p=D;else throw p=!D,Error(oo+"crypto unavailable");else p=D;else throw Error(oo+B+" not true or false: "+D);if(j.hasOwnProperty(B="MODULO_MODE")&&(D=j[B],tr(D,0,9,B),m=D),j.hasOwnProperty(B="POW_PRECISION")&&(D=j[B],tr(D,0,$r,B),w=D),j.hasOwnProperty(B="FORMAT"))if(D=j[B],typeof D=="object")y=D;else throw Error(oo+B+" not an object: "+D);if(j.hasOwnProperty(B="ALPHABET"))if(D=j[B],typeof D=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(D))S=D.slice(0,10)=="0123456789",I=D;else throw Error(oo+B+" invalid: "+D)}else throw Error(oo+"Object expected: "+j);return{DECIMAL_PLACES:s,ROUNDING_MODE:a,EXPONENTIAL_AT:[c,l],RANGE:[u,f],CRYPTO:p,MODULO_MODE:m,POW_PRECISION:w,FORMAT:y,ALPHABET:I}},T.isBigNumber=function(j){if(!j||j._isBigNumber!==!0)return!1;if(!T.DEBUG)return!0;var B,D,P=j.c,E=j.e,b=j.s;e:if({}.toString.call(P)=="[object Array]"){if((b===1||b===-1)&&E>=-$r&&E<=$r&&E===Xo(E)){if(P[0]===0){if(E===0&&P.length===1)return!0;break e}if(B=(E+1)%nn,B<1&&(B+=nn),String(P[0]).length==B){for(B=0;B<P.length;B++)if(D=P[B],D<0||D>=Is||D!==Xo(D))break e;if(D!==0)return!0}}}else if(P===null&&E===null&&(b===null||b===1||b===-1))return!0;throw Error(oo+"Invalid BigNumber: "+j)},T.maximum=T.max=function(){return z(arguments,-1)},T.minimum=T.min=function(){return z(arguments,1)},T.random=function(){var j=9007199254740992,B=Math.random()*j&2097151?function(){return Xo(Math.random()*j)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(D){var P,E,b,g,v,A=0,L=[],C=new T(o);if(D==null?D=s:tr(D,0,$r),g=rE(D/nn),p)if(crypto.getRandomValues){for(P=crypto.getRandomValues(new Uint32Array(g*=2));A<g;)v=P[A]*131072+(P[A+1]>>>11),v>=9e15?(E=crypto.getRandomValues(new Uint32Array(2)),P[A]=E[0],P[A+1]=E[1]):(L.push(v%1e14),A+=2);A=g/2}else if(crypto.randomBytes){for(P=crypto.randomBytes(g*=7);A<g;)v=(P[A]&31)*281474976710656+P[A+1]*1099511627776+P[A+2]*4294967296+P[A+3]*16777216+(P[A+4]<<16)+(P[A+5]<<8)+P[A+6],v>=9e15?crypto.randomBytes(7).copy(P,A):(L.push(v%1e14),A+=7);A=g/7}else throw p=!1,Error(oo+"crypto unavailable");if(!p)for(;A<g;)v=B(),v<9e15&&(L[A++]=v%1e14);for(g=L[--A],D%=nn,g&&D&&(v=oE[nn-D],L[A]=Xo(g/v)*v);L[A]===0;L.pop(),A--);if(A<0)L=[b=0];else{for(b=-1;L[0]===0;L.splice(0,1),b-=nn);for(A=1,v=L[0];v>=10;v/=10,A++);A<nn&&(b-=nn-A)}return C.e=b,C.c=L,C}}(),T.sum=function(){for(var j=1,B=arguments,D=new T(B[0]);j<B.length;)D=D.plus(B[j++]);return D},n=function(){var j="0123456789";function B(D,P,E,b){for(var g,v=[0],A,L=0,C=D.length;L<C;){for(A=v.length;A--;v[A]*=P);for(v[0]+=b.indexOf(D.charAt(L++)),g=0;g<v.length;g++)v[g]>E-1&&(v[g+1]==null&&(v[g+1]=0),v[g+1]+=v[g]/E|0,v[g]%=E)}return v.reverse()}return function(D,P,E,b,g){var v,A,L,C,O,x,R,_,k=D.indexOf("."),U=s,q=a;for(k>=0&&(C=w,w=0,D=D.replace(".",""),_=new T(P),x=_.pow(D.length-k),w=C,_.c=B(Ka(Vo(x.c),x.e,"0"),10,E,j),_.e=_.c.length),R=B(D,P,E,g?(v=I,j):(v=j,I)),L=C=R.length;R[--C]==0;R.pop());if(!R[0])return v.charAt(0);if(k<0?--L:(x.c=R,x.e=L,x.s=b,x=e(x,_,U,q,E),R=x.c,O=x.r,L=x.e),A=L+U+1,k=R[A],C=E/2,O=O||A<0||R[A+1]!=null,O=q<4?(k!=null||O)&&(q==0||q==(x.s<0?3:2)):k>C||k==C&&(q==4||O||q==6&&R[A-1]&1||q==(x.s<0?8:7)),A<1||!R[0])D=O?Ka(v.charAt(1),-U,v.charAt(0)):v.charAt(0);else{if(R.length=A,O)for(--E;++R[--A]>E;)R[A]=0,A||(++L,R=[1].concat(R));for(C=R.length;!R[--C];);for(k=0,D="";k<=C;D+=v.charAt(R[k++]));D=Ka(D,L,v.charAt(0))}return D}}(),e=function(){function j(P,E,b){var g,v,A,L,C=0,O=P.length,x=E%il,R=E/il|0;for(P=P.slice();O--;)A=P[O]%il,L=P[O]/il|0,g=R*A+L*x,v=x*A+g%il*il+C,C=(v/b|0)+(g/il|0)+R*L,P[O]=v%b;return C&&(P=[C].concat(P)),P}function B(P,E,b,g){var v,A;if(b!=g)A=b>g?1:-1;else for(v=A=0;v<b;v++)if(P[v]!=E[v]){A=P[v]>E[v]?1:-1;break}return A}function D(P,E,b,g){for(var v=0;b--;)P[b]-=v,v=P[b]<E[b]?1:0,P[b]=v*g+P[b]-E[b];for(;!P[0]&&P.length>1;P.splice(0,1));}return function(P,E,b,g,v){var A,L,C,O,x,R,_,k,U,q,V,Q,Y,X,ee,ie,oe,te=P.s==E.s?1:-1,se=P.c,ue=E.c;if(!se||!se[0]||!ue||!ue[0])return new T(!P.s||!E.s||(se?ue&&se[0]==ue[0]:!ue)?NaN:se&&se[0]==0||!ue?te*0:te/0);for(k=new T(te),U=k.c=[],L=P.e-E.e,te=b+L+1,v||(v=Is,L=Qo(P.e/nn)-Qo(E.e/nn),te=te/nn|0),C=0;ue[C]==(se[C]||0);C++);if(ue[C]>(se[C]||0)&&L--,te<0)U.push(1),O=!0;else{for(X=se.length,ie=ue.length,C=0,te+=2,x=Xo(v/(ue[0]+1)),x>1&&(ue=j(ue,x,v),se=j(se,x,v),ie=ue.length,X=se.length),Y=ie,q=se.slice(0,ie),V=q.length;V<ie;q[V++]=0);oe=ue.slice(),oe=[0].concat(oe),ee=ue[0],ue[1]>=v/2&&ee++;do{if(x=0,A=B(ue,q,ie,V),A<0){if(Q=q[0],ie!=V&&(Q=Q*v+(q[1]||0)),x=Xo(Q/ee),x>1)for(x>=v&&(x=v-1),R=j(ue,x,v),_=R.length,V=q.length;B(R,q,_,V)==1;)x--,D(R,ie<_?oe:ue,_,v),_=R.length,A=1;else x==0&&(A=x=1),R=ue.slice(),_=R.length;if(_<V&&(R=[0].concat(R)),D(q,R,V,v),V=q.length,A==-1)for(;B(ue,q,ie,V)<1;)x++,D(q,ie<V?oe:ue,V,v),V=q.length}else A===0&&(x++,q=[0]);U[C++]=x,q[0]?q[V++]=se[Y]||0:(q=[se[Y]],V=1)}while((Y++<X||q[0]!=null)&&te--);O=q[0]!=null,U[0]||U.splice(0,1)}if(v==Is){for(C=1,te=U[0];te>=10;te/=10,C++);H(k,b+(k.e=C+L*nn-1)+1,g,O)}else k.e=L,k.r=+O;return k}}();function N(j,B,D,P){var E,b,g,v,A;if(D==null?D=a:tr(D,0,8),!j.c)return j.toString();if(E=j.c[0],g=j.e,B==null)A=Vo(j.c),A=P==1||P==2&&(g<=c||g>=l)?Um(A,g):Ka(A,g,"0");else if(j=H(new T(j),B,D),b=j.e,A=Vo(j.c),v=A.length,P==1||P==2&&(B<=b||b<=c)){for(;v<B;A+="0",v++);A=Um(A,b)}else if(B-=g+(P===2&&b>g),A=Ka(A,b,"0"),b+1>v){if(--B>0)for(A+=".";B--;A+="0");}else if(B+=b-v,B>0)for(b+1==v&&(A+=".");B--;A+="0");return j.s<0&&E?"-"+A:A}function z(j,B){for(var D,P,E=1,b=new T(j[0]);E<j.length;E++)P=new T(j[E]),(!P.s||(D=_u(b,P))===B||D===0&&b.s===B)&&(b=P);return b}function $(j,B,D){for(var P=1,E=B.length;!B[--E];B.pop());for(E=B[0];E>=10;E/=10,P++);return(D=P+D*nn-1)>f?j.c=j.e=null:D<u?j.c=[j.e=0]:(j.e=D,j.c=B),j}r=function(){var j=/^(-?)0([xbo])(?=\w[\w.]*$)/i,B=/^([^.]+)\.$/,D=/^\.([^.]+)$/,P=/^-?(Infinity|NaN)$/,E=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(b,g,v,A){var L,C=v?g:g.replace(E,"");if(P.test(C))b.s=isNaN(C)?null:C<0?-1:1;else{if(!v&&(C=C.replace(j,function(O,x,R){return L=(R=R.toLowerCase())=="x"?16:R=="b"?2:8,!A||A==L?x:O}),A&&(L=A,C=C.replace(B,"$1").replace(D,"0.$1")),g!=C))return new T(C,L);if(T.DEBUG)throw Error(oo+"Not a"+(A?" base "+A:"")+" number: "+g);b.s=null}b.c=b.e=null}}();function H(j,B,D,P){var E,b,g,v,A,L,C,O=j.c,x=oE;if(O){e:{for(E=1,v=O[0];v>=10;v/=10,E++);if(b=B-E,b<0)b+=nn,g=B,A=O[L=0],C=Xo(A/x[E-g-1]%10);else if(L=rE((b+1)/nn),L>=O.length)if(P){for(;O.length<=L;O.push(0));A=C=0,E=1,b%=nn,g=b-nn+1}else break e;else{for(A=v=O[L],E=1;v>=10;v/=10,E++);b%=nn,g=b-nn+E,C=g<0?0:Xo(A/x[E-g-1]%10)}if(P=P||B<0||O[L+1]!=null||(g<0?A:A%x[E-g-1]),P=D<4?(C||P)&&(D==0||D==(j.s<0?3:2)):C>5||C==5&&(D==4||P||D==6&&(b>0?g>0?A/x[E-g]:0:O[L-1])%10&1||D==(j.s<0?8:7)),B<1||!O[0])return O.length=0,P?(B-=j.e+1,O[0]=x[(nn-B%nn)%nn],j.e=-B||0):O[0]=j.e=0,j;if(b==0?(O.length=L,v=1,L--):(O.length=L+1,v=x[nn-b],O[L]=g>0?Xo(A/x[E-g]%x[g])*v:0),P)for(;;)if(L==0){for(b=1,g=O[0];g>=10;g/=10,b++);for(g=O[0]+=v,v=1;g>=10;g/=10,v++);b!=v&&(j.e++,O[0]==Is&&(O[0]=1));break}else{if(O[L]+=v,O[L]!=Is)break;O[L--]=0,v=1}for(b=O.length;O[--b]===0;O.pop());}j.e>f?j.c=j.e=null:j.e<u&&(j.c=[j.e=0])}return j}function K(j){var B,D=j.e;return D===null?j.toString():(B=Vo(j.c),B=D<=c||D>=l?Um(B,D):Ka(B,D,"0"),j.s<0?"-"+B:B)}return i.absoluteValue=i.abs=function(){var j=new T(this);return j.s<0&&(j.s=1),j},i.comparedTo=function(j,B){return _u(this,new T(j,B))},i.decimalPlaces=i.dp=function(j,B){var D,P,E,b=this;if(j!=null)return tr(j,0,$r),B==null?B=a:tr(B,0,8),H(new T(b),j+b.e+1,B);if(!(D=b.c))return null;if(P=((E=D.length-1)-Qo(this.e/nn))*nn,E=D[E])for(;E%10==0;E/=10,P--);return P<0&&(P=0),P},i.dividedBy=i.div=function(j,B){return e(this,new T(j,B),s,a)},i.dividedToIntegerBy=i.idiv=function(j,B){return e(this,new T(j,B),0,1)},i.exponentiatedBy=i.pow=function(j,B){var D,P,E,b,g,v,A,L,C,O=this;if(j=new T(j),j.c&&!j.isInteger())throw Error(oo+"Exponent not an integer: "+K(j));if(B!=null&&(B=new T(B)),v=j.e>14,!O.c||!O.c[0]||O.c[0]==1&&!O.e&&O.c.length==1||!j.c||!j.c[0])return C=new T(Math.pow(+K(O),v?j.s*(2-Fm(j)):+K(j))),B?C.mod(B):C;if(A=j.s<0,B){if(B.c?!B.c[0]:!B.s)return new T(NaN);P=!A&&O.isInteger()&&B.isInteger(),P&&(O=O.mod(B))}else{if(j.e>9&&(O.e>0||O.e<-1||(O.e==0?O.c[0]>1||v&&O.c[1]>=24e7:O.c[0]<8e13||v&&O.c[0]<=9999975e7)))return b=O.s<0&&Fm(j)?-0:0,O.e>-1&&(b=1/b),new T(A?1/b:b);w&&(b=rE(w/nn+2))}for(v?(D=new T(.5),A&&(j.s=1),L=Fm(j)):(E=Math.abs(+K(j)),L=E%2),C=new T(o);;){if(L){if(C=C.times(O),!C.c)break;b?C.c.length>b&&(C.c.length=b):P&&(C=C.mod(B))}if(E){if(E=Xo(E/2),E===0)break;L=E%2}else if(j=j.times(D),H(j,j.e+1,1),j.e>14)L=Fm(j);else{if(E=+K(j),E===0)break;L=E%2}O=O.times(O),b?O.c&&O.c.length>b&&(O.c.length=b):P&&(O=O.mod(B))}return P?C:(A&&(C=o.div(C)),B?C.mod(B):b?H(C,w,a,g):C)},i.integerValue=function(j){var B=new T(this);return j==null?j=a:tr(j,0,8),H(B,B.e+1,j)},i.isEqualTo=i.eq=function(j,B){return _u(this,new T(j,B))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(j,B){return _u(this,new T(j,B))>0},i.isGreaterThanOrEqualTo=i.gte=function(j,B){return(B=_u(this,new T(j,B)))===1||B===0},i.isInteger=function(){return!!this.c&&Qo(this.e/nn)>this.c.length-2},i.isLessThan=i.lt=function(j,B){return _u(this,new T(j,B))<0},i.isLessThanOrEqualTo=i.lte=function(j,B){return(B=_u(this,new T(j,B)))===-1||B===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(j,B){var D,P,E,b,g=this,v=g.s;if(j=new T(j,B),B=j.s,!v||!B)return new T(NaN);if(v!=B)return j.s=-B,g.plus(j);var A=g.e/nn,L=j.e/nn,C=g.c,O=j.c;if(!A||!L){if(!C||!O)return C?(j.s=-B,j):new T(O?g:NaN);if(!C[0]||!O[0])return O[0]?(j.s=-B,j):new T(C[0]?g:a==3?-0:0)}if(A=Qo(A),L=Qo(L),C=C.slice(),v=A-L){for((b=v<0)?(v=-v,E=C):(L=A,E=O),E.reverse(),B=v;B--;E.push(0));E.reverse()}else for(P=(b=(v=C.length)<(B=O.length))?v:B,v=B=0;B<P;B++)if(C[B]!=O[B]){b=C[B]<O[B];break}if(b&&(E=C,C=O,O=E,j.s=-j.s),B=(P=O.length)-(D=C.length),B>0)for(;B--;C[D++]=0);for(B=Is-1;P>v;){if(C[--P]<O[P]){for(D=P;D&&!C[--D];C[D]=B);--C[D],C[P]+=Is}C[P]-=O[P]}for(;C[0]==0;C.splice(0,1),--L);return C[0]?$(j,C,L):(j.s=a==3?-1:1,j.c=[j.e=0],j)},i.modulo=i.mod=function(j,B){var D,P,E=this;return j=new T(j,B),!E.c||!j.s||j.c&&!j.c[0]?new T(NaN):!j.c||E.c&&!E.c[0]?new T(E):(m==9?(P=j.s,j.s=1,D=e(E,j,0,3),j.s=P,D.s*=P):D=e(E,j,0,m),j=E.minus(D.times(j)),!j.c[0]&&m==1&&(j.s=E.s),j)},i.multipliedBy=i.times=function(j,B){var D,P,E,b,g,v,A,L,C,O,x,R,_,k,U,q=this,V=q.c,Q=(j=new T(j,B)).c;if(!V||!Q||!V[0]||!Q[0])return!q.s||!j.s||V&&!V[0]&&!Q||Q&&!Q[0]&&!V?j.c=j.e=j.s=null:(j.s*=q.s,!V||!Q?j.c=j.e=null:(j.c=[0],j.e=0)),j;for(P=Qo(q.e/nn)+Qo(j.e/nn),j.s*=q.s,A=V.length,O=Q.length,A<O&&(_=V,V=Q,Q=_,E=A,A=O,O=E),E=A+O,_=[];E--;_.push(0));for(k=Is,U=il,E=O;--E>=0;){for(D=0,x=Q[E]%U,R=Q[E]/U|0,g=A,b=E+g;b>E;)L=V[--g]%U,C=V[g]/U|0,v=R*L+C*x,L=x*L+v%U*U+_[b]+D,D=(L/k|0)+(v/U|0)+R*C,_[b--]=L%k;_[b]=D}return D?++P:_.splice(0,1),$(j,_,P)},i.negated=function(){var j=new T(this);return j.s=-j.s||null,j},i.plus=function(j,B){var D,P=this,E=P.s;if(j=new T(j,B),B=j.s,!E||!B)return new T(NaN);if(E!=B)return j.s=-B,P.minus(j);var b=P.e/nn,g=j.e/nn,v=P.c,A=j.c;if(!b||!g){if(!v||!A)return new T(E/0);if(!v[0]||!A[0])return A[0]?j:new T(v[0]?P:E*0)}if(b=Qo(b),g=Qo(g),v=v.slice(),E=b-g){for(E>0?(g=b,D=A):(E=-E,D=v),D.reverse();E--;D.push(0));D.reverse()}for(E=v.length,B=A.length,E-B<0&&(D=A,A=v,v=D,B=E),E=0;B;)E=(v[--B]=v[B]+A[B]+E)/Is|0,v[B]=Is===v[B]?0:v[B]%Is;return E&&(v=[E].concat(v),++g),$(j,v,g)},i.precision=i.sd=function(j,B){var D,P,E,b=this;if(j!=null&&j!==!!j)return tr(j,1,$r),B==null?B=a:tr(B,0,8),H(new T(b),j,B);if(!(D=b.c))return null;if(E=D.length-1,P=E*nn+1,E=D[E]){for(;E%10==0;E/=10,P--);for(E=D[0];E>=10;E/=10,P++);}return j&&b.e+1>P&&(P=b.e+1),P},i.shiftedBy=function(j){return tr(j,-iE,iE),this.times("1e"+j)},i.squareRoot=i.sqrt=function(){var j,B,D,P,E,b=this,g=b.c,v=b.s,A=b.e,L=s+4,C=new T("0.5");if(v!==1||!g||!g[0])return new T(!v||v<0&&(!g||g[0])?NaN:g?b:1/0);if(v=Math.sqrt(+K(b)),v==0||v==1/0?(B=Vo(g),(B.length+A)%2==0&&(B+="0"),v=Math.sqrt(+B),A=Qo((A+1)/2)-(A<0||A%2),v==1/0?B="5e"+A:(B=v.toExponential(),B=B.slice(0,B.indexOf("e")+1)+A),D=new T(B)):D=new T(v+""),D.c[0]){for(A=D.e,v=A+L,v<3&&(v=0);;)if(E=D,D=C.times(E.plus(e(b,E,L,1))),Vo(E.c).slice(0,v)===(B=Vo(D.c)).slice(0,v))if(D.e<A&&--v,B=B.slice(v-3,v+1),B=="9999"||!P&&B=="4999"){if(!P&&(H(E,E.e+s+2,0),E.times(E).eq(b))){D=E;break}L+=4,v+=4,P=1}else{(!+B||!+B.slice(1)&&B.charAt(0)=="5")&&(H(D,D.e+s+2,1),j=!D.times(D).eq(b));break}}return H(D,D.e+s+1,a,j)},i.toExponential=function(j,B){return j!=null&&(tr(j,0,$r),j++),N(this,j,B,1)},i.toFixed=function(j,B){return j!=null&&(tr(j,0,$r),j=j+this.e+1),N(this,j,B)},i.toFormat=function(j,B,D){var P,E=this;if(D==null)j!=null&&B&&typeof B=="object"?(D=B,B=null):j&&typeof j=="object"?(D=j,j=B=null):D=y;else if(typeof D!="object")throw Error(oo+"Argument not an object: "+D);if(P=E.toFixed(j,B),E.c){var b,g=P.split("."),v=+D.groupSize,A=+D.secondaryGroupSize,L=D.groupSeparator||"",C=g[0],O=g[1],x=E.s<0,R=x?C.slice(1):C,_=R.length;if(A&&(b=v,v=A,A=b,_-=b),v>0&&_>0){for(b=_%v||v,C=R.substr(0,b);b<_;b+=v)C+=L+R.substr(b,v);A>0&&(C+=L+R.slice(b)),x&&(C="-"+C)}P=O?C+(D.decimalSeparator||"")+((A=+D.fractionGroupSize)?O.replace(new RegExp("\\d{"+A+"}\\B","g"),"$&"+(D.fractionGroupSeparator||"")):O):C}return(D.prefix||"")+P+(D.suffix||"")},i.toFraction=function(j){var B,D,P,E,b,g,v,A,L,C,O,x,R=this,_=R.c;if(j!=null&&(v=new T(j),!v.isInteger()&&(v.c||v.s!==1)||v.lt(o)))throw Error(oo+"Argument "+(v.isInteger()?"out of range: ":"not an integer: ")+K(v));if(!_)return new T(R);for(B=new T(o),L=D=new T(o),P=A=new T(o),x=Vo(_),b=B.e=x.length-R.e-1,B.c[0]=oE[(g=b%nn)<0?nn+g:g],j=!j||v.comparedTo(B)>0?b>0?B:L:v,g=f,f=1/0,v=new T(x),A.c[0]=0;C=e(v,B,0,1),E=D.plus(C.times(P)),E.comparedTo(j)!=1;)D=P,P=E,L=A.plus(C.times(E=L)),A=E,B=v.minus(C.times(E=B)),v=E;return E=e(j.minus(D),P,0,1),A=A.plus(E.times(L)),D=D.plus(E.times(P)),A.s=L.s=R.s,b=b*2,O=e(L,P,b,a).minus(R).abs().comparedTo(e(A,D,b,a).minus(R).abs())<1?[L,P]:[A,D],f=g,O},i.toNumber=function(){return+K(this)},i.toPrecision=function(j,B){return j!=null&&tr(j,1,$r),N(this,j,B,2)},i.toString=function(j){var B,D=this,P=D.s,E=D.e;return E===null?P?(B="Infinity",P<0&&(B="-"+B)):B="NaN":(j==null?B=E<=c||E>=l?Um(Vo(D.c),E):Ka(Vo(D.c),E,"0"):j===10&&S?(D=H(new T(D),s+E+1,a),B=Ka(Vo(D.c),D.e,"0")):(tr(j,2,I.length,"Base"),B=n(Ka(Vo(D.c),E,"0"),10,j,P,!0)),P<0&&D.c[0]&&(B="-"+B)),B},i.valueOf=i.toJSON=function(){return K(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,t!=null&&T.set(t),T}function Qo(t){var e=t|0;return t>0||t===e?e:e-1}function Vo(t){for(var e,n,r=1,i=t.length,o=t[0]+"";r<i;){for(e=t[r++]+"",n=nn-e.length;n--;e="0"+e);o+=e}for(i=o.length;o.charCodeAt(--i)===48;);return o.slice(0,i+1||1)}function _u(t,e){var n,r,i=t.c,o=e.c,s=t.s,a=e.s,c=t.e,l=e.e;if(!s||!a)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-a:s;if(s!=a)return s;if(n=s<0,r=c==l,!i||!o)return r?0:!i^n?1:-1;if(!r)return c>l^n?1:-1;for(a=(c=i.length)<(l=o.length)?c:l,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^n?1:-1;return c==l?0:c>l^n?1:-1}function tr(t,e,n,r){if(t<e||t>n||t!==Xo(t))throw Error(oo+(r||"Argument")+(typeof t=="number"?t<e||t>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function Fm(t){var e=t.c.length-1;return Qo(t.e/nn)==e&&t.c[e]%2!=0}function Um(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function Ka(t,e,n){var r,i;if(e<0){for(i=n+".";++e;i+=n);t=i+t}else if(r=t.length,++e>r){for(i=n,e-=r;--e;i+=n);t+=i}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}oP();const zW={ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SEND_USER_OPERATION:"eth_sendUserOperation",ETH_SPONSOR_USER_OPERATION:"pm_sponsorUserOperation",SEND_TRANSACTION:"solana_sendTransaction"},hM={JRPC_REQUEST_COMPLETED:"JRPC Request Completed",JRPC_REQUEST_FAILED:"JRPC Request Failed"},pM={INTERNAL:"internal",NETWORK:"network"},qW={"0x65":"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","0x66":"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","0x67":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"},tn={EIP155:"eip155",SOLANA:"solana",CASPER:"casper",XRPL:"xrpl",OTHER:"other"},Kfe=()=>Math.random().toString(36).slice(2);function Wfe({width:t,height:e}){const n=window.screenLeft!==void 0?window.screenLeft:window.screenX,r=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,o=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,s=1,a=Math.abs((i-t)/2/s+n),c=Math.abs((o-e)/2/s+r);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${e/s},width=${t/s},top=${c},left=${a}`}const HW=t=>{try{const e=t==null?void 0:t.code;return{error_message:t instanceof Error?t.message:(t==null?void 0:t.message)||(t==null?void 0:t.toString()),error_code:e}}catch{return{error_message:"Unknown error",error_code:void 0}}},KW=t=>{try{return new URL(t).hostname}catch{return""}},WW=t=>{if(t)return t.chainNamespace===tn.EIP155?`${t.chainNamespace}:${parseInt(t.chainId,16)}`:t.chainNamespace===tn.SOLANA?`${t.chainNamespace}:${qW[t.chainId]}`:`${t.chainNamespace}:${t.chainId}`},VW=["Gateway timeout","ETIMEDOUT","failed to parse response body","Failed to fetch"];function GW(t){switch(t.status){case 405:throw bc.methodNotFound();case 418:throw bc.internal({message:"Request is being rate limited.",data:{cause:t}});case 503:case 504:throw bc.internal({message:"Gateway timeout. The request took too long to process.This can happen when querying over too wide a block range.",data:{cause:t}})}}function YW(t){return new Promise(e=>{setTimeout(e,t)})}function JW(t,e){if(t.status!==200)throw bc.internal({message:`Non-200 status code: '${t.status}'`,data:e});if(e.error){var n;throw bc.internal({data:e.error,message:(n=e.error)===null||n===void 0?void 0:n.message})}return e.result}function ZW({req:t,rpcTarget:e,originHttpHeaderKey:n}){const r=new URL(e),i={id:t.id,jsonrpc:t.jsonrpc,method:t.method,params:t.params},o=t.origin,s=JSON.stringify(i),a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:s};return n&&o&&(a.headers[n]=o),{fetchUrl:r.href,fetchParams:a}}function XW({rpcTarget:t,originHttpHeaderKey:e,analytics:n,providerConfig:r}){return RK(async(i,o,s)=>{const{fetchUrl:a,fetchParams:c}=ZW({req:i,rpcTarget:t,originHttpHeaderKey:e}),l=5,u=1e3,f=Date.now(),p=!Object.values(zW).includes(i.method),m={chain_id:WW(r),chain_rpc_target:KW(a),method:i.method};for(let w=0;w<l;w++){try{const y=await fetch(a,c);GW(y);const I=await y.json(),S=JW(y,I);o.result=S,p||n==null||n.track(hM.JRPC_REQUEST_COMPLETED,_e(_e({request_type:pM.NETWORK},m),{},{duration:Date.now()-f}));return}catch(y){const I=(y.message||y).toString();if(!VW.some(T=>I.includes(T)))throw p||n==null||n.track(hM.JRPC_REQUEST_FAILED,_e(_e({request_type:pM.NETWORK},m),{},{error_code:y==null?void 0:y.code,error_message:I,duration:Date.now()-f})),await nC(y)}await YW(u)}})}function Hu(t){try{return structuredClone(t)}catch{return JSON.parse(JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString():n))}}class Tp extends Error{}Tp.prototype.name="InvalidTokenError";function QW(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function eV(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return QW(e)}catch{return atob(e)}}function tV(t,e){if(typeof t!="string")throw new Tp("Invalid token specified: must be a string");e||(e={});const n=e.header===!0?0:1,r=t.split(".")[n];if(typeof r!="string")throw new Tp(`Invalid token specified: missing part #${n+1}`);let i;try{i=eV(r)}catch(o){throw new Tp(`Invalid token specified: invalid base64 for part #${n+1} (${o.message})`)}try{return JSON.parse(i)}catch(o){throw new Tp(`Invalid token specified: invalid json for part #${n+1} (${o.message})`)}}const sP="https://authjs.web3auth.io",nV=async(t,e)=>{const o={payload:t,header:{t:e==="solana"?"sip99":"eip191"},network:e==="solana"?"solana":"ethereum"},s=await hd(`${sP}/siww/get`,o);if(!s.success)throw new Error("Failed to authenticate user, Please reach out to Web3Auth Support team");return s.challenge},rV=async(t,e,n,r,i,o,s,a,c)=>{var l;const f=_e({signature:{s:e,t:t==="solana"?"sip99":"eip191"},message:n,issuer:r,audience:typeof window<"u"&&((l=window.location)===null||l===void 0?void 0:l.hostname)||"com://reactnative",timeout:i},{}),p=await hd(`${sP}/siww/verify`,f,{headers:{client_id:o,wallet_provider:r,web3auth_network:s}});if(!p.success)throw Mc.error("Failed to authenticate user, ,message verification failed",p.error),new Error("Failed to authenticate user, ,message verification failed");return p.token},iV={ALL:"all"},kf={MODAL:"modal",EMBED:"embed"},gM="Web3Auth-state",c0={MODAL:"modal",NO_MODAL:"no-modal"},oV={"0x65":"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","0x66":"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","0x67":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"};function sV(t,e){return JSON.parse(t,(n,r)=>{var i,o,s;let a=r;return((i=a)===null||i===void 0?void 0:i.__type)==="bigint"&&(a=BigInt(a.value)),((o=a)===null||o===void 0?void 0:o.__type)==="Map"&&(a=new Map(a.value)),(s=void 0)!==null&&s!==void 0?s:a})}const aV=t=>({getItem(e){if(typeof window>"u")return null;const n=cV(document.cookie,e);return n??null},setItem(e,n){if(typeof window>"u")return;let r=`${e}=${n};path=/;samesite=Lax`;t!=null&&t.expiry&&typeof t.expiry=="number"&&(r+=`; expires=${new Date(Date.now()+t.expiry).toUTCString()}`),r+="; secure",document.cookie=r},removeItem(e){typeof window>"u"||(document.cookie=`${e}=;max-age=-1;path=/`)}});function cV(t,e){const n=t.split("; ").find(r=>r.startsWith(`${e}=`));if(n)return n.substring(e.length+1)}var S_=function(t,e){return S_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},S_(t,e)};function mo(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");S_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var it=function(){return it=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},it.apply(this,arguments)};function aP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Bt(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(f){s(f)}}function c(u){try{l(r.throw(u))}catch(f){s(f)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Dt(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Nr(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function C_(t,e,n){e.split&&(e=e.split("."));for(var r=0,i=e.length,o=t,s,a;r<i&&(a=""+e[r++],!(a==="__proto__"||a==="constructor"||a==="prototype"));)o=o[a]=r===i?n:typeof(s=o[a])==typeof e?s:e[r]*0!==0||~(""+e[r]).indexOf(".")?{}:[]}var lV=function(t,e){return Object.keys(t).filter(function(n){return e(n,t[n])}).reduce(function(n,r){return n[r]=t[r],n},{})},md=function(t){mo(e,t);function e(n,r){var i=t.call(this,"".concat(n," ").concat(r))||this;return i.field=n,i}return e}(Error);function Zl(t){return typeof t=="string"}function A_(t){return typeof t=="number"}function Uf(t){return typeof t=="function"}function uV(t){return t!=null}function js(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()==="object"}var vC="is not a string",yC="is not an object",dV="is nil";function fV(t){if(!uV(t))throw new md("Event",dV);if(typeof t!="object")throw new md("Event",yC)}function hV(t){if(!Zl(t.type))throw new md(".type",vC)}function pV(t){if(!Zl(t.event))throw new md(".event",vC)}function gV(t){if(!js(t.properties))throw new md(".properties",yC)}function mV(t){if(!js(t.traits))throw new md(".traits",yC)}function vV(t){if(!Zl(t.messageId))throw new md(".messageId",vC)}function yV(t){fV(t),hV(t),vV(t),t.type==="track"&&(pV(t),gV(t)),["group","identify"].includes(t.type)&&mV(t)}var wV=function(){function t(e){var n,r;this.settings=e,this.createMessageId=e.createMessageId,this.onEventMethodCall=(n=e.onEventMethodCall)!==null&&n!==void 0?n:function(){},this.onFinishedEvent=(r=e.onFinishedEvent)!==null&&r!==void 0?r:function(){}}return t}(),bV=function(){function t(e){this.settings=new wV(e)}return t.prototype.track=function(e,n,r,i){return this.settings.onEventMethodCall({type:"track",options:r}),this.normalize(it(it({},this.baseEvent()),{event:e,type:"track",properties:n??{},options:it({},r),integrations:it({},i)}))},t.prototype.page=function(e,n,r,i,o){var s;this.settings.onEventMethodCall({type:"page",options:i});var a={type:"page",properties:it({},r),options:it({},i),integrations:it({},o)};return e!==null&&(a.category=e,a.properties=(s=a.properties)!==null&&s!==void 0?s:{},a.properties.category=e),n!==null&&(a.name=n),this.normalize(it(it({},this.baseEvent()),a))},t.prototype.screen=function(e,n,r,i,o){this.settings.onEventMethodCall({type:"screen",options:i});var s={type:"screen",properties:it({},r),options:it({},i),integrations:it({},o)};return e!==null&&(s.category=e),n!==null&&(s.name=n),this.normalize(it(it({},this.baseEvent()),s))},t.prototype.identify=function(e,n,r,i){return this.settings.onEventMethodCall({type:"identify",options:r}),this.normalize(it(it({},this.baseEvent()),{type:"identify",userId:e,traits:n??{},options:it({},r),integrations:i}))},t.prototype.group=function(e,n,r,i){return this.settings.onEventMethodCall({type:"group",options:r}),this.normalize(it(it({},this.baseEvent()),{type:"group",traits:n??{},options:it({},r),integrations:it({},i),groupId:e}))},t.prototype.alias=function(e,n,r,i){this.settings.onEventMethodCall({type:"alias",options:r});var o={userId:e,type:"alias",options:it({},r),integrations:it({},i)};return n!==null&&(o.previousId=n),e===void 0?this.normalize(it(it({},o),this.baseEvent())):this.normalize(it(it({},this.baseEvent()),o))},t.prototype.baseEvent=function(){return{integrations:{},options:{}}},t.prototype.context=function(e){var n,r=["userId","anonymousId","timestamp","messageId"];delete e.integrations;var i=Object.keys(e),o=(n=e.context)!==null&&n!==void 0?n:{},s={};return i.forEach(function(a){a!=="context"&&(r.includes(a)?C_(s,a,e[a]):C_(o,a,e[a]))}),[o,s]},t.prototype.normalize=function(e){var n,r,i=Object.keys((n=e.integrations)!==null&&n!==void 0?n:{}).reduce(function(p,m){var w,y;return it(it({},p),(w={},w[m]=!!(!((y=e.integrations)===null||y===void 0)&&y[m]),w))},{});e.options=lV(e.options||{},function(p,m){return m!==void 0});var o=it(it({},i),(r=e.options)===null||r===void 0?void 0:r.integrations),s=e.options?this.context(e.options):[],a=s[0],c=s[1],l=e.options,u=aP(e,["options"]),f=it(it(it(it({timestamp:new Date},u),{context:a,integrations:o}),c),{messageId:l.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(f),yV(f),f},t}();function EV(t,e){return new Promise(function(n,r){var i=setTimeout(function(){r(Error("Promise timed out"))},e);t.then(function(o){return clearTimeout(i),n(o)}).catch(r)})}function xV(t){return new Promise(function(e){return setTimeout(e,t)})}function _V(t,e,n){var r=function(){try{return Promise.resolve(e(t))}catch(i){return Promise.reject(i)}};return xV(n).then(function(){return EV(r(),1e3)}).catch(function(i){t==null||t.log("warn","Callback Error",{error:i}),t==null||t.stats.increment("callback_error")}).then(function(){return t})}var cP=function(){var t,e,n=!1,r=new Promise(function(i,o){t=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];n=!0,i.apply(void 0,s)},e=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];n=!0,o.apply(void 0,s)}});return{resolve:t,reject:e,promise:r,isSettled:function(){return n}}},wC=function(){function t(e){var n;this.callbacks={},this.warned=!1,this.maxListeners=(n=e==null?void 0:e.maxListeners)!==null&&n!==void 0?n:10}return t.prototype.warnIfPossibleMemoryLeak=function(e){this.warned||this.maxListeners&&this.callbacks[e].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(e)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},t.prototype.on=function(e,n){return this.callbacks[e]?(this.callbacks[e].push(n),this.warnIfPossibleMemoryLeak(e)):this.callbacks[e]=[n],this},t.prototype.once=function(e,n){var r=this,i=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];r.off(e,i),n.apply(r,o)};return this.on(e,i),this},t.prototype.off=function(e,n){var r,i=(r=this.callbacks[e])!==null&&r!==void 0?r:[],o=i.filter(function(s){return s!==n});return this.callbacks[e]=o,this},t.prototype.emit=function(e){for(var n=this,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var s=(r=this.callbacks[e])!==null&&r!==void 0?r:[];return s.forEach(function(a){a.apply(n,i)}),this},t}();function SV(t){var e=Math.random()+1,n=t.minTimeout,r=n===void 0?500:n,i=t.factor,o=i===void 0?2:i,s=t.attempt,a=t.maxTimeout,c=a===void 0?1/0:a;return Math.min(e*r*Math.pow(o,s),c)}var lP="onRemoveFromFuture",bC=function(t){mo(e,t);function e(n,r,i){var o=t.call(this)||this;return o.future=[],o.maxAttempts=n,o.queue=r,o.seen=i??{},o}return e.prototype.push=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=r.map(function(s){var a=n.updateAttempts(s);return a>n.maxAttempts||n.includes(s)?!1:(n.queue.push(s),!0)});return this.queue=this.queue.sort(function(s,a){return n.getAttempts(s)-n.getAttempts(a)}),o},e.prototype.pushWithBackoff=function(n,r){var i=this;if(r===void 0&&(r=0),r==0&&this.getAttempts(n)===0)return this.push(n)[0];var o=this.updateAttempts(n);if(o>this.maxAttempts||this.includes(n))return!1;var s=SV({attempt:o-1});return r>0&&s<r&&(s=r),setTimeout(function(){i.queue.push(n),i.future=i.future.filter(function(a){return a.id!==n.id}),i.emit(lP)},s),this.future.push(n),!0},e.prototype.getAttempts=function(n){var r;return(r=this.seen[n.id])!==null&&r!==void 0?r:0},e.prototype.updateAttempts=function(n){return this.seen[n.id]=this.getAttempts(n)+1,this.getAttempts(n)},e.prototype.includes=function(n){return this.queue.includes(n)||this.future.includes(n)||!!this.queue.find(function(r){return r.id===n.id})||!!this.future.find(function(r){return r.id===n.id})},e.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(e.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),e}(wC),Ku=256,Vv=[],zm;for(;Ku--;)Vv[Ku]=(Ku+256).toString(16).substring(1);function EC(){var t=0,e,n="";if(!zm||Ku+16>256){for(zm=Array(t=256);t--;)zm[t]=256*Math.random()|0;t=Ku=0}for(;t<16;t++)e=zm[Ku+t],t==6?n+=Vv[e&15|64]:t==8?n+=Vv[e&63|128]:n+=Vv[e],t&1&&t>1&&t<11&&(n+="-");return Ku++,n}var CV=function(){function t(){this._logs=[]}return t.prototype.log=function(e,n,r){var i=new Date;this._logs.push({level:e,message:n,time:i,extras:r})},Object.defineProperty(t.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),t.prototype.flush=function(){if(this.logs.length>1){var e=this._logs.reduce(function(n,r){var i,o,s,a=it(it({},r),{json:JSON.stringify(r.extras,null," "),extras:r.extras});delete a.time;var c=(s=(o=r.time)===null||o===void 0?void 0:o.toISOString())!==null&&s!==void 0?s:"";return n[c]&&(c="".concat(c,"-").concat(Math.random())),it(it({},n),(i={},i[c]=a,i))},{});console.table?console.table(e):console.log(e)}else this.logs.forEach(function(n){var r=n.level,i=n.message,o=n.extras;r==="info"||r==="debug"?console.log(i,o??""):console[r](i,o??"")});this._logs=[]},t}(),AV=function(t){var e={gauge:"g",counter:"c"};return e[t]},uP=function(){function t(){this.metrics=[]}return t.prototype.increment=function(e,n,r){n===void 0&&(n=1),this.metrics.push({metric:e,value:n,tags:r??[],type:"counter",timestamp:Date.now()})},t.prototype.gauge=function(e,n,r){this.metrics.push({metric:e,value:n,tags:r??[],type:"gauge",timestamp:Date.now()})},t.prototype.flush=function(){var e=this.metrics.map(function(n){return it(it({},n),{tags:n.tags.join(",")})});console.table?console.table(e):console.log(e),this.metrics=[]},t.prototype.serialize=function(){return this.metrics.map(function(e){return{m:e.metric,v:e.value,t:e.tags,k:AV(e.type),e:e.timestamp}})},t}(),IV=function(t){mo(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.gauge=function(){},e.prototype.increment=function(){},e.prototype.flush=function(){},e.prototype.serialize=function(){return[]},e}(uP),lh=function(){function t(e){var n,r,i;this.retry=(n=e.retry)!==null&&n!==void 0?n:!0,this.type=(r=e.type)!==null&&r!==void 0?r:"plugin Error",this.reason=(i=e.reason)!==null&&i!==void 0?i:""}return t}(),_y=function(){function t(e,n,r,i){n===void 0&&(n=EC()),r===void 0&&(r=new IV),i===void 0&&(i=new CV),this.attempts=0,this.event=e,this._id=n,this.logger=i,this.stats=r}return t.system=function(){},t.prototype.isSame=function(e){return e.id===this.id},t.prototype.cancel=function(e){throw e||new lh({reason:"Context Cancel"})},t.prototype.log=function(e,n,r){this.logger.log(e,n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),t.prototype.updateEvent=function(e,n){var r;if(e.split(".")[0]==="integrations"){var i=e.split(".")[1];if(((r=this.event.integrations)===null||r===void 0?void 0:r[i])===!1)return this.event}return C_(this.event,e,n),this.event},t.prototype.failedDelivery=function(){return this._failedDelivery},t.prototype.setFailedDelivery=function(e){this._failedDelivery=e},t.prototype.logs=function(){return this.logger.logs},t.prototype.flush=function(){this.logger.flush(),this.stats.flush()},t.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},t}();function kV(t,e){var n={};return t.forEach(function(r){var i,o=void 0;{var s=r[e];o=typeof s!="string"?JSON.stringify(s):s}o!==void 0&&(n[o]=Nr(Nr([],(i=n[o])!==null&&i!==void 0?i:[],!0),[r],!1))}),n}var MV=function(t){return typeof t=="object"&&t!==null&&"then"in t&&typeof t.then=="function"},RV=function(){var t,e,n=0;return{done:function(){return t},run:function(r){var i=r();return MV(i)&&(++n===1&&(t=new Promise(function(o){return e=o})),i.finally(function(){return--n===0&&e()})),i}}};function OV(t){return Bt(this,void 0,void 0,function(){var e;return Dt(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t()];case 1:return[2,n.sent()];case 2:return e=n.sent(),[2,Promise.reject(e)];case 3:return[2]}})})}function qp(t,e){t.log("debug","plugin",{plugin:e.name});var n=new Date().getTime(),r=e[t.event.type];if(r===void 0)return Promise.resolve(t);var i=OV(function(){return r.apply(e,[t])}).then(function(o){var s=new Date().getTime()-n;return o.stats.gauge("plugin_time",s,["plugin:".concat(e.name)]),o}).catch(function(o){if(o instanceof lh&&o.type==="middleware_cancellation")throw o;return o instanceof lh?(t.log("warn",o.type,{plugin:e.name,error:o}),o):(t.log("error","plugin Error",{plugin:e.name,error:o}),t.stats.increment("plugin_error",1,["plugin:".concat(e.name)]),o)});return i}function TV(t,e){return qp(t,e).then(function(n){if(n instanceof _y)return n;t.log("debug","Context canceled"),t.stats.increment("context_canceled"),t.cancel(n)})}var NV=function(t){mo(e,t);function e(n){var r=t.call(this)||this;return r.criticalTasks=RV(),r.plugins=[],r.failedInitializations=[],r.flushing=!1,r.queue=n,r.queue.on(lP,function(){r.scheduleFlush(0)}),r}return e.prototype.register=function(n,r,i){return Bt(this,void 0,void 0,function(){var o,s,a=this;return Dt(this,function(c){switch(c.label){case 0:return this.plugins.push(r),o=function(l){a.failedInitializations.push(r.name),a.emit("initialization_failure",r),console.warn(r.name,l),n.log("warn","Failed to load destination",{plugin:r.name,error:l}),a.plugins=a.plugins.filter(function(u){return u!==r})},r.type==="destination"&&r.name!=="Segment.io"?(r.load(n,i).catch(o),[3,4]):[3,1];case 1:return c.trys.push([1,3,,4]),[4,r.load(n,i)];case 2:return c.sent(),[3,4];case 3:return s=c.sent(),o(s),[3,4];case 4:return[2]}})})},e.prototype.deregister=function(n,r,i){return Bt(this,void 0,void 0,function(){var o;return Dt(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),r.unload?[4,Promise.resolve(r.unload(n,i))]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.plugins=this.plugins.filter(function(a){return a.name!==r.name}),[3,4];case 3:return o=s.sent(),n.log("warn","Failed to unload destination",{plugin:r.name,error:o}),[3,4];case 4:return[2]}})})},e.prototype.dispatch=function(n){return Bt(this,void 0,void 0,function(){var r;return Dt(this,function(i){return n.log("debug","Dispatching"),n.stats.increment("message_dispatched"),this.queue.push(n),r=this.subscribeToDelivery(n),this.scheduleFlush(0),[2,r]})})},e.prototype.subscribeToDelivery=function(n){return Bt(this,void 0,void 0,function(){var r=this;return Dt(this,function(i){return[2,new Promise(function(o){var s=function(a,c){a.isSame(n)&&(r.off("flush",s),o(a))};r.on("flush",s)})]})})},e.prototype.dispatchSingle=function(n){return Bt(this,void 0,void 0,function(){var r=this;return Dt(this,function(i){return n.log("debug","Dispatching"),n.stats.increment("message_dispatched"),this.queue.updateAttempts(n),n.attempts=1,[2,this.deliver(n).catch(function(o){var s=r.enqueuRetry(o,n);return s?r.subscribeToDelivery(n):(n.setFailedDelivery({reason:o}),n)})]})})},e.prototype.isEmpty=function(){return this.queue.length===0},e.prototype.scheduleFlush=function(n){var r=this;n===void 0&&(n=500),!this.flushing&&(this.flushing=!0,setTimeout(function(){r.flush().then(function(){setTimeout(function(){r.flushing=!1,r.queue.length&&r.scheduleFlush(0)},0)})},n))},e.prototype.deliver=function(n){return Bt(this,void 0,void 0,function(){var r,i,o,s;return Dt(this,function(a){switch(a.label){case 0:return[4,this.criticalTasks.done()];case 1:a.sent(),r=Date.now(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.flushOne(n)];case 3:return n=a.sent(),i=Date.now()-r,this.emit("delivery_success",n),n.stats.gauge("delivered",i),n.log("debug","Delivered",n.event),[2,n];case 4:throw o=a.sent(),s=o,n.log("error","Failed to deliver",s),this.emit("delivery_failure",n,s),n.stats.increment("delivery_failed"),o;case 5:return[2]}})})},e.prototype.enqueuRetry=function(n,r){var i=!(n instanceof lh)||n.retry;return i?this.queue.pushWithBackoff(r):!1},e.prototype.flush=function(){return Bt(this,void 0,void 0,function(){var n,r,i;return Dt(this,function(o){switch(o.label){case 0:if(this.queue.length===0)return[2,[]];if(n=this.queue.pop(),!n)return[2,[]];n.attempts=this.queue.getAttempts(n),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.deliver(n)];case 2:return n=o.sent(),this.emit("flush",n,!0),[3,4];case 3:return r=o.sent(),i=this.enqueuRetry(r,n),i||(n.setFailedDelivery({reason:r}),this.emit("flush",n,!1)),[2,[]];case 4:return[2,[n]]}})})},e.prototype.isReady=function(){return!0},e.prototype.availableExtensions=function(n){var r=this.plugins.filter(function(m){var w,y,I;if(m.type!=="destination"&&m.name!=="Segment.io")return!0;var S=void 0;return(w=m.alternativeNames)===null||w===void 0||w.forEach(function(T){n[T]!==void 0&&(S=n[T])}),(I=(y=n[m.name])!==null&&y!==void 0?y:S)!==null&&I!==void 0?I:(m.name==="Segment.io"?!0:n.All)!==!1}),i=kV(r,"type"),o=i.before,s=o===void 0?[]:o,a=i.enrichment,c=a===void 0?[]:a,l=i.destination,u=l===void 0?[]:l,f=i.after,p=f===void 0?[]:f;return{before:s,enrichment:c,destinations:u,after:p}},e.prototype.flushOne=function(n){var r,i;return Bt(this,void 0,void 0,function(){var o,s,a,c,l,u,w,f,p,m,w,y,I,S,T;return Dt(this,function(N){switch(N.label){case 0:if(!this.isReady())throw new Error("Not ready");n.attempts>1&&this.emit("delivery_retry",n),o=this.availableExtensions((r=n.event.integrations)!==null&&r!==void 0?r:{}),s=o.before,a=o.enrichment,c=0,l=s,N.label=1;case 1:return c<l.length?(u=l[c],[4,TV(n,u)]):[3,4];case 2:w=N.sent(),w instanceof _y&&(n=w),this.emit("message_enriched",n,u),N.label=3;case 3:return c++,[3,1];case 4:f=0,p=a,N.label=5;case 5:return f<p.length?(m=p[f],[4,qp(n,m)]):[3,8];case 6:w=N.sent(),w instanceof _y&&(n=w),this.emit("message_enriched",n,m),N.label=7;case 7:return f++,[3,5];case 8:return y=this.availableExtensions((i=n.event.integrations)!==null&&i!==void 0?i:{}),I=y.destinations,S=y.after,[4,new Promise(function(z,$){setTimeout(function(){var H=I.map(function(K){return qp(n,K)});Promise.all(H).then(z).catch($)},0)})];case 9:return N.sent(),n.stats.increment("message_delivered"),this.emit("message_delivered",n),T=S.map(function(z){return qp(n,z)}),[4,Promise.all(T)];case 10:return N.sent(),[2,n]}})})},e}(wC),PV=function(t,e){var n=Date.now()-t;return Math.max((e??300)-n,0)};function LV(t,e,n,r){return Bt(this,void 0,void 0,function(){var i,o;return Dt(this,function(s){switch(s.label){case 0:return n.emit("dispatch_start",t),i=Date.now(),e.isEmpty()?[4,e.dispatchSingle(t)]:[3,2];case 1:return o=s.sent(),[3,4];case 2:return[4,e.dispatch(t)];case 3:o=s.sent(),s.label=4;case 4:return r!=null&&r.callback?[4,_V(o,r.callback,PV(i,r.timeout))]:[3,6];case 5:o=s.sent(),s.label=6;case 6:return r!=null&&r.debug&&o.flush(),[2,o]}})})}function BV(t,e,n,r){var i,o=[t,e,n,r],s=js(t)?t.event:t;if(!s||!Zl(s))throw new Error("Event missing");var a=js(t)?(i=t.properties)!==null&&i!==void 0?i:{}:js(e)?e:{},c={};Uf(n)||(c=n??{}),js(t)&&!Uf(e)&&(c=e??{});var l=o.find(Uf);return[s,a,c,l]}function mM(t,e,n,r,i){var o,s,a=null,c=null,l=[t,e,n,r,i],u=l.filter(Zl);u.length===1?Zl(l[1])?(c=l[1],a=null):(c=u[0],a=null):u.length===2&&(typeof l[0]=="string"&&(a=l[0]),typeof l[1]=="string"&&(c=l[1]));var f=l.find(Uf),p=l.filter(js);return p.length===1?js(l[2])?(s={},o=l[2]):js(l[3])?(o={},s=l[3]):(o=p[0],s={}):p.length===2&&(o=p[0],s=p[1]),[a,c,o??(o={}),s??(s={}),f]}var vM=function(t){return function(){for(var e,n,r,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];for(var s={},a=["callback","options","traits","id"],c=0,l=i;c<l.length;c++){var u=l[c],f=a.pop();if(f==="id"){if(Zl(u)||A_(u)){s.id=u.toString();continue}if(u==null)continue;f=a.pop()}if((f==="traits"||f==="options")&&(u==null||js(u))&&(s[f]=u),Uf(u)){s.callback=u;break}}return[(e=s.id)!==null&&e!==void 0?e:t.id(),(n=s.traits)!==null&&n!==void 0?n:{},(r=s.options)!==null&&r!==void 0?r:{},s.callback]}};function DV(t,e,n,r){A_(t)&&(t=t.toString()),A_(e)&&(e=e.toString());var i=[t,e,n,r],o=i.filter(Zl),s=o[0],a=s===void 0?t:s,c=o[1],l=c===void 0?null:c,u=i.filter(js)[0],f=u===void 0?{}:u,p=i.find(Uf);return[a,l,f,p]}function xC(){return typeof window<"u"}function Vfe(){return!xC()}function jV(){return xC()?window.navigator.onLine:!0}function l0(){return!jV()}function $V(t,e){return e=e||{},new Promise(function(n,r){var i=new XMLHttpRequest,o=[],s=[],a={},c=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:c,headers:{keys:function(){return o},entries:function(){return s},get:function(u){return a[u.toLowerCase()]},has:function(u){return u.toLowerCase()in a}}}};for(var l in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(u,f,p){o.push(f=f.toLowerCase()),s.push([f,p]),a[f]=a[f]?a[f]+","+p:p}),n(c())},i.onerror=r,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(l,e.headers[l]);i.send(e.body||null)})}var _C=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"||typeof window<"u"?window:null},Kw=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=_C();return(n&&n.fetch||$V).apply(void 0,t)},Ww="1.81.1",dP="api.segment.io/v1",FV=function(t,e,n){var r=e.reduce(function(i,o){var s=o.split(":"),a=s[0],c=s[1];return i[a]=c,i},{});return{type:"Counter",metric:t,value:1,tags:it(it({},r),{library:"analytics.js",library_version:"npm:next-".concat(Ww)})}};function sE(t){console.error("Error sending segment performance metrics",t)}var UV=function(){function t(e){var n=this,r,i,o,s,a;if(this.host=(r=e==null?void 0:e.host)!==null&&r!==void 0?r:dP,this.sampleRate=(i=e==null?void 0:e.sampleRate)!==null&&i!==void 0?i:1,this.flushTimer=(o=e==null?void 0:e.flushTimer)!==null&&o!==void 0?o:30*1e3,this.maxQueueSize=(s=e==null?void 0:e.maxQueueSize)!==null&&s!==void 0?s:20,this.protocol=(a=e==null?void 0:e.protocol)!==null&&a!==void 0?a:"https",this.queue=[],this.sampleRate>0){var c=!1,l=function(){c||(c=!0,n.flush().catch(sE),c=!1,setTimeout(l,n.flushTimer))};l()}}return t.prototype.increment=function(e,n){if(e.includes("analytics_js.")&&n.length!==0&&!(Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var r=FV(e,n);this.queue.push(r),e.includes("error")&&this.flush().catch(sE)}},t.prototype.flush=function(){return Bt(this,void 0,void 0,function(){var e=this;return Dt(this,function(n){switch(n.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch(function(r){sE(r),e.sampleRate=0})];case 1:return n.sent(),[2]}})})},t.prototype.send=function(){return Bt(this,void 0,void 0,function(){var e,n,r;return Dt(this,function(i){return e={series:this.queue},this.queue=[],n={"Content-Type":"text/plain"},r="".concat(this.protocol,"://").concat(this.host,"/m"),[2,Kw(r,{headers:n,body:JSON.stringify(e),method:"POST"})]})})},t}(),qm,fP=function(t){mo(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.initRemoteMetrics=function(n){qm=new UV(n)},e.prototype.increment=function(n,r,i){t.prototype.increment.call(this,n,r,i),qm==null||qm.increment(n,i??[])},e}(uP),Ec=function(t){mo(e,t);function e(n,r){return t.call(this,n,r,new fP)||this}return e.system=function(){return new this({type:"track",event:"system"})},e}(_y);function zV(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()==="object"}var hP="bpc",pP=function(t,e,n,r,i,o){return{__t:hP,c:e,p:r,u:t,s:n,t:i,r:o}},qV=Object.keys(pP("","","","","",""));function HV(t){if(!zV(t)||t.__t!==hP)return!1;for(var e in t)if(!qV.includes(e))return!1;return!0}var KV=function(t,e){return t.indexOf("?")>-1?t:t+e},WV=function(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)},VV=function(t){try{return new URL(t).pathname}catch{return t[0]==="/"?t:"/"+t}},gP=function(t){var e=t.c,n=t.p,r=t.s,i=t.u,o=t.r,s=t.t,a=e?VV(e):n,c=e?KV(e,r):WV(i);return{path:a,referrer:o,search:r,title:s,url:c}},mP=function(){var t=document.querySelector("link[rel='canonical']");return pP(location.href,t&&t.getAttribute("href")||void 0,location.search,location.pathname,document.title,document.referrer)},GV=function(){return gP(mP())};function YV(t,e){return Object.assign.apply(Object,Nr([{}],e.map(function(n){var r;if(t&&Object.prototype.hasOwnProperty.call(t,n))return r={},r[n]=t[n],r}),!1))}var uf=function(t,e){e===void 0&&(e=GV());var n=t.context,r;t.type==="page"&&(r=t.properties&&YV(t.properties,Object.keys(e)),t.properties=it(it(it({},e),t.properties),t.name?{name:t.name}:{})),n.page=it(it(it({},e),r),n.page)},JV=function(t){mo(e,t);function e(n){var r=t.call(this,{createMessageId:function(){return"ajs-next-".concat(Date.now(),"-").concat(EC())},onEventMethodCall:function(i){var o=i.options;r.maybeUpdateAnonId(o)},onFinishedEvent:function(i){return r.addIdentity(i),i}})||this;return r.user=n,r}return e.prototype.maybeUpdateAnonId=function(n){n!=null&&n.anonymousId&&this.user.anonymousId(n.anonymousId)},e.prototype.addIdentity=function(n){this.user.id()&&(n.userId=this.user.id()),this.user.anonymousId()&&(n.anonymousId=this.user.anonymousId())},e.prototype.track=function(n,r,i,o,s){var a=t.prototype.track.call(this,n,r,i,o);return uf(a,s),a},e.prototype.page=function(n,r,i,o,s,a){var c=t.prototype.page.call(this,n,r,i,o,s);return uf(c,a),c},e.prototype.screen=function(n,r,i,o,s,a){var c=t.prototype.screen.call(this,n,r,i,o,s);return uf(c,a),c},e.prototype.identify=function(n,r,i,o,s){var a=t.prototype.identify.call(this,n,r,i,o);return uf(a,s),a},e.prototype.group=function(n,r,i,o,s){var a=t.prototype.group.call(this,n,r,i,o);return uf(a,s),a},e.prototype.alias=function(n,r,i,o,s){var a=t.prototype.alias.call(this,n,r,i,o);return uf(a,s),a},e}(bV),ZV=function(t){return"addMiddleware"in t&&t.type==="destination"},xa={getItem:function(){},setItem:function(){},removeItem:function(){}};try{xa=xC()&&window.localStorage?window.localStorage:xa}catch(t){console.warn("Unable to access localStorage",t)}function vP(t){var e=xa.getItem(t);return(e?JSON.parse(e):[]).map(function(n){return new Ec(n.event,n.id)})}function XV(t,e){var n=vP(t),r=Nr(Nr([],e,!0),n,!0),i=r.reduce(function(o,s){var a;return it(it({},o),(a={},a[s.id]=s,a))},{});xa.setItem(t,JSON.stringify(Object.values(i)))}function yP(t){var e=xa.getItem(t);return e?JSON.parse(e):{}}function QV(t,e){var n=yP(t);xa.setItem(t,JSON.stringify(it(it({},n),e)))}function yM(t){xa.removeItem(t)}var eG=function(){return new Date().getTime()};function I_(t,e,n){n===void 0&&(n=0);var r=50,i="persisted-queue:v1:".concat(t,":lock"),o=function(l){return new Date().getTime()>l},s=xa.getItem(i),a=s?JSON.parse(s):null,c=a===null||o(a);if(c){xa.setItem(i,JSON.stringify(eG()+r)),e(),xa.removeItem(i);return}!c&&n<3?setTimeout(function(){I_(t,e,n+1)},r):console.error("Unable to retrieve lock")}var SC=function(t){mo(e,t);function e(n,r){var i=t.call(this,n,[])||this,o="persisted-queue:v1:".concat(r,":items"),s="persisted-queue:v1:".concat(r,":seen"),a=[],c={};return I_(r,function(){try{a=vP(o),c=yP(s),yM(o),yM(s),i.queue=Nr(Nr([],a,!0),i.queue,!0),i.seen=it(it({},c),i.seen)}catch(l){console.error(l)}}),window.addEventListener("pagehide",function(){if(i.todo>0){var l=Nr(Nr([],i.queue,!0),i.future,!0);try{I_(r,function(){XV(o,l),QV(s,i.seen)})}catch(u){console.error(u)}}}),i}return e}(bC),tG=function(t){mo(e,t);function e(n){return t.call(this,typeof n=="string"?new SC(4,n):n)||this}return e.prototype.flush=function(){return Bt(this,void 0,void 0,function(){return Dt(this,function(n){return l0()?[2,[]]:[2,t.prototype.flush.call(this)]})})},e}(NV);function CC(t){for(var e=t.constructor.prototype,n=0,r=Object.getOwnPropertyNames(e);n<r.length;n++){var i=r[n];if(i!=="constructor"){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);o&&typeof o.value=="function"&&(t[i]=t[i].bind(t))}}return t}/*! js-cookie v3.0.1 | MIT */function Hm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var nG={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function k_(t,e){function n(i,o,s){if(!(typeof document>"u")){s=Hm({},e,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var c in s)s[c]&&(a+="; "+c,s[c]!==!0&&(a+="="+s[c].split(";")[0]));return document.cookie=i+"="+t.write(o,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],s={},a=0;a<o.length;a++){var c=o[a].split("="),l=c.slice(1).join("=");try{var u=decodeURIComponent(c[0]);if(s[u]=t.read(l,u),i===u)break}catch{}}return i?s[i]:s}}return Object.create({set:n,get:r,remove:function(i,o){n(i,"",Hm({},o,{expires:-1}))},withAttributes:function(i){return k_(this.converter,Hm({},this.attributes,i))},withConverter:function(i){return k_(Hm({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var lc=k_(nG,{path:"/"});function rG(t){var e=t.hostname,n=e.split("."),r=n[n.length-1],i=[];if(n.length===4&&parseInt(r,10)>0||n.length<=1)return i;for(var o=n.length-2;o>=0;--o)i.push(n.slice(o).join("."));return i}function iG(t){try{return new URL(t)}catch{return}}function wP(t){var e=iG(t);if(e)for(var n=rG(e),r=0;r<n.length;++r){var i="__tld__",o=n[r],s={domain:"."+o};try{if(lc.set(i,"1",s),lc.get(i))return lc.remove(i,s),o}catch{return}}}var oG=365,bP=function(){function t(e){e===void 0&&(e=t.defaults),this.options=it(it({},t.defaults),e)}return Object.defineProperty(t,"defaults",{get:function(){return{maxage:oG,domain:wP(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),t.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},t.prototype.get=function(e){var n;try{var r=lc.get(e);if(r==null)return null;try{return(n=JSON.parse(r))!==null&&n!==void 0?n:null}catch{return r??null}}catch{return null}},t.prototype.set=function(e,n){typeof n=="string"?lc.set(e,n,this.opts()):n===null?lc.remove(e,this.opts()):lc.set(e,JSON.stringify(n),this.opts())},t.prototype.remove=function(e){return lc.remove(e,this.opts())},t}(),sG=function(){function t(){}return t.prototype.localStorageWarning=function(e,n){console.warn("Unable to access ".concat(e,", localStorage may be ").concat(n))},t.prototype.get=function(e){var n;try{var r=localStorage.getItem(e);if(r===null)return null;try{return(n=JSON.parse(r))!==null&&n!==void 0?n:null}catch{return r??null}}catch{return this.localStorageWarning(e,"unavailable"),null}},t.prototype.set=function(e,n){try{localStorage.setItem(e,JSON.stringify(n))}catch{this.localStorageWarning(e,"full")}},t.prototype.remove=function(e){try{return localStorage.removeItem(e)}catch{this.localStorageWarning(e,"unavailable")}},t}(),AC=function(){function t(){this.cache={}}return t.prototype.get=function(e){var n;return(n=this.cache[e])!==null&&n!==void 0?n:null},t.prototype.set=function(e,n){this.cache[e]=n},t.prototype.remove=function(e){delete this.cache[e]},t}(),lo={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"};function EP(t){return t&&t.stores&&Array.isArray(t.stores)&&t.stores.every(function(e){return Object.values(lo).includes(e)})}function aG(t){return typeof t=="object"&&t.name!==void 0}var aE=function(t,e,n,r){console.warn("".concat(t.constructor.name,": Can't ").concat(e,' key "').concat(n,'" | Err: ').concat(r))},ud=function(){function t(e){this.stores=e}return t.prototype.get=function(e){for(var n=null,r=0,i=this.stores;r<i.length;r++){var o=i[r];try{if(n=o.get(e),n!=null)return n}catch(s){aE(o,"get",e,s)}}return null},t.prototype.set=function(e,n){this.stores.forEach(function(r){try{r.set(e,n)}catch(i){aE(r,"set",e,i)}})},t.prototype.clear=function(e){this.stores.forEach(function(n){try{n.remove(e)}catch(r){aE(n,"remove",e,r)}})},t.prototype.getAndSync=function(e){var n=this.get(e),r=typeof n=="number"?n.toString():n;return this.set(e,r),r},t}();function M_(t){var e=t.map(function(n){var r,i;switch(aG(n)?(r=n.name,i=n.settings):r=n,r){case lo.Cookie:return new bP(i);case lo.LocalStorage:return new sG;case lo.Memory:return new AC;default:throw new Error("Unknown Store Type: ".concat(n))}});return e}function xP(t,e){return t.map(function(n){return e&&n===lo.Cookie?{name:n,settings:e}:n})}var Su={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},_P=function(){function t(e,n){e===void 0&&(e=Su);var r=this,i,o,s,a;this.options={},this.id=function(l){if(r.options.disable)return null;var u=r.identityStore.getAndSync(r.idKey);if(l!==void 0){r.identityStore.set(r.idKey,l);var f=l!==u&&u!==null&&l!==null;f&&r.anonymousId(null)}var p=r.identityStore.getAndSync(r.idKey);if(p)return p;var m=r.legacyUserStore.get(Su.cookie.oldKey);return m?typeof m=="object"?m.id:m:null},this.anonymousId=function(l){var u,f;if(r.options.disable)return null;if(l===void 0){var p=(u=r.identityStore.getAndSync(r.anonKey))!==null&&u!==void 0?u:(f=r.legacySIO())===null||f===void 0?void 0:f[0];if(p)return p}return l===null?(r.identityStore.set(r.anonKey,null),r.identityStore.getAndSync(r.anonKey)):(r.identityStore.set(r.anonKey,l??EC()),r.identityStore.getAndSync(r.anonKey))},this.traits=function(l){var u;if(!r.options.disable)return l===null&&(l={}),l&&r.traitsStore.set(r.traitsKey,l??{}),(u=r.traitsStore.get(r.traitsKey))!==null&&u!==void 0?u:{}},this.options=it(it({},Su),e),this.cookieOptions=n,this.idKey=(o=(i=e.cookie)===null||i===void 0?void 0:i.key)!==null&&o!==void 0?o:Su.cookie.key,this.traitsKey=(a=(s=e.localStorage)===null||s===void 0?void 0:s.key)!==null&&a!==void 0?a:Su.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,n),this.legacyUserStore=this.createStorage(this.options,n,function(l){return l===lo.Cookie}),this.traitsStore=this.createStorage(this.options,n,function(l){return l!==lo.Cookie});var c=this.legacyUserStore.get(Su.cookie.oldKey);c&&typeof c=="object"&&(c.id&&this.id(c.id),c.traits&&this.traits(c.traits)),CC(this)}return t.prototype.legacySIO=function(){var e=this.legacyUserStore.get("_sio");if(!e)return null;var n=e.split("----"),r=n[0],i=n[1];return[r,i]},t.prototype.identify=function(e,n){if(!this.options.disable){n=n??{};var r=this.id();(r===null||r===e)&&(n=it(it({},this.traits()),n)),e&&this.id(e),this.traits(n)}},t.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},t.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},t.prototype.load=function(){return new t(this.options,this.cookieOptions)},t.prototype.save=function(){return!0},t.prototype.createStorage=function(e,n,r){var i=[lo.LocalStorage,lo.Cookie,lo.Memory];return e.disable?new ud([]):e.persist?(e.storage!==void 0&&e.storage!==null&&EP(e.storage)&&(i=e.storage.stores),e.localStorageFallbackDisabled&&(i=i.filter(function(o){return o!==lo.LocalStorage})),r&&(i=i.filter(r)),new ud(M_(xP(i,n)))):new ud([new AC])},t.defaults=Su,t}(),wM={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},cG=function(t){mo(e,t);function e(n,r){n===void 0&&(n=wM);var i=t.call(this,it(it({},wM),n),r)||this;return i.anonymousId=function(o){},CC(i),i}return e}(_P),IC="analytics";function SP(){return window[IC]}function lG(t){IC=t}function uG(t){window[IC]=t}var dG=function(t){return typeof t=="object"&&t!==null&&"then"in t&&typeof t.then=="function"},CP=function(t,e,n){n.getAndRemove(t).forEach(function(r){Vw(e,r).catch(console.error)})},fG=function(t,e){return Bt(void 0,void 0,void 0,function(){var n,r,i;return Dt(this,function(o){switch(o.label){case 0:n=0,r=e.getAndRemove("addSourceMiddleware"),o.label=1;case 1:return n<r.length?(i=r[n],[4,Vw(t,i).catch(console.error)]):[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},hG=function(t,e){return Bt(void 0,void 0,void 0,function(){var n,r,i;return Dt(this,function(o){switch(o.label){case 0:n=0,r=e.getAndRemove("register"),o.label=1;case 1:return n<r.length?(i=r[n],[4,Vw(t,i).catch(console.error)]):[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},pG=CP.bind(void 0,"on"),gG=CP.bind(void 0,"setAnonymousId"),mG=function(t,e){Object.keys(e.calls).forEach(function(n){e.getAndRemove(n).forEach(function(r){setTimeout(function(){Vw(t,r).catch(console.error)},0)})})},df=function(t){if(AP(t)){var e=t.pop();return gP(e)}},AP=function(t){var e=t[t.length-1];return HV(e)},R_=function(){function t(e,n,r,i){r===void 0&&(r=function(){}),i===void 0&&(i=console.error),this.method=e,this.resolve=r,this.reject=i,this.called=!1,this.args=n}return t}(),vG=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._callMap={},this.add.apply(this,e)}return Object.defineProperty(t.prototype,"calls",{get:function(){return this._pushSnippetWindowBuffer(),this._callMap},set:function(e){this._callMap=e},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var n;return(n=this.calls[e])!==null&&n!==void 0?n:[]},t.prototype.getAndRemove=function(e){var n=this.get(e);return this.calls[e]=[],n},t.prototype.add=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n.forEach(function(i){var o=["track","screen","alias","group","page","identify"];o.includes(i.method)&&!AP(i.args)&&(i.args=Nr(Nr([],i.args,!0),[mP()],!1)),e.calls[i.method]?e.calls[i.method].push(i):e.calls[i.method]=[i]})},t.prototype.clear=function(){this._pushSnippetWindowBuffer(),this.calls={}},t.prototype.toArray=function(){var e;return(e=[]).concat.apply(e,Object.values(this.calls))},t.prototype._pushSnippetWindowBuffer=function(){},t}();function Vw(t,e){return Bt(this,void 0,void 0,function(){var n,r;return Dt(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),e.called?[2,void 0]:(e.called=!0,n=t[e.method].apply(t,e.args),dG(n)?[4,n]:[3,2]);case 1:i.sent(),i.label=2;case 2:return e.resolve(n),[3,4];case 3:return r=i.sent(),e.reject(r),[3,4];case 4:return[2]}})})}var yG=function(){function t(e){var n=this;this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=Ww,this._preInitBuffer=new vG,this._promise=e(this._preInitBuffer),this._promise.then(function(r){var i=r[0],o=r[1];n.instance=i,n.ctx=o}).catch(function(){})}return t.prototype.then=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=this._promise).then.apply(e,n)},t.prototype.catch=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=this._promise).catch.apply(e,n)},t.prototype.finally=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=this._promise).finally.apply(e,n)},t.prototype._createMethod=function(e){var n=this;return function(){for(var r,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n.instance){var s=(r=n.instance)[e].apply(r,i);return Promise.resolve(s)}return new Promise(function(a,c){n._preInitBuffer.add(new R_(e,i,a,c))})}},t.prototype._createChainableMethod=function(e){var n=this;return function(){for(var r,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return n.instance?((r=n.instance)[e].apply(r,i),n):(n._preInitBuffer.add(new R_(e,i)),n)}},t}(),gp={},Cu={},ff={},cE={exports:{}},bM;function Gw(){return bM||(bM=1,function(t){t.exports=e(n),t.exports.find=t.exports,t.exports.replace=function(a,c,l,u){return e(i).call(this,a,c,l,u),a},t.exports.del=function(a,c,l){return e(r).call(this,a,c,null,l),a};function e(a){return function(c,l,u,f){var p=f&&s(f.normalizer)?f.normalizer:o;l=p(l);for(var m,w=!1;!w;)y();function y(){for(m in c){var I=p(m);if(l.indexOf(I)===0){var S=l.substr(I.length);if(S.charAt(0)==="."||S.length===0){l=S.substr(1);var T=c[m];if(T==null){w=!0;return}if(!l.length){w=!0;return}c=T;return}}}m=void 0,w=!0}if(m)return c==null?c:a(c,m,u)}}function n(a,c){if(a.hasOwnProperty(c))return a[c]}function r(a,c){return a.hasOwnProperty(c)&&delete a[c],a}function i(a,c,l){return a.hasOwnProperty(c)&&(a[c]=l),a}function o(a){return a.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function s(a){return typeof a=="function"}}(cE)),cE.exports}var EM;function wG(){if(EM)return ff;EM=1;var t=ff&&ff.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ff,"__esModule",{value:!0});var e=t(Gw());function n(i,o){return function(){var s=this.traits(),a=this.properties?this.properties():{};return e.default(s,"address."+i)||e.default(s,i)||(o?e.default(s,"address."+o):null)||(o?e.default(s,o):null)||e.default(a,"address."+i)||e.default(a,i)||(o?e.default(a,"address."+o):null)||(o?e.default(a,o):null)}}function r(i){i.zip=n("postalCode","zip"),i.country=n("country"),i.street=n("street"),i.state=n("state"),i.city=n("city"),i.region=n("region")}return ff.default=r,ff}var mp={},xM;function bG(){if(xM)return mp;xM=1,Object.defineProperty(mp,"__esModule",{value:!0}),mp.clone=void 0;function t(e){if(typeof e!="object")return e;if(Object.prototype.toString.call(e)==="[object Object]"){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=t(e[r]));return n}else return Array.isArray(e)?e.map(t):e}return mp.clone=t,mp}var Km={},_M;function EG(){if(_M)return Km;_M=1,Object.defineProperty(Km,"__esModule",{value:!0});var t={Salesforce:!0};function e(n){return!t[n]}return Km.default=e,Km}var Wm={},SM;function IP(){if(SM)return Wm;SM=1;var t=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;return Wm.parse=function(e){var n=[1,5,6,7,11,12],r=t.exec(e),i=0;if(!r)return new Date(e);for(var o=0,s;s=n[o];o++)r[s]=parseInt(r[s],10)||0;r[2]=parseInt(r[2],10)||1,r[3]=parseInt(r[3],10)||1,r[2]--,r[8]=r[8]?(r[8]+"00").substring(0,3):0,r[4]===" "?i=new Date().getTimezoneOffset():r[9]!=="Z"&&r[10]&&(i=r[11]*60+r[12],r[10]==="+"&&(i=0-i));var a=Date.UTC(r[1],r[2],r[3],r[5],r[6]+i,r[7],r[8]);return new Date(a)},Wm.is=function(e,n){return typeof e!="string"||n&&/^\d{4}-\d{2}-\d{2}/.test(e)===!1?!1:t.test(e)},Wm}var Vm={},CM;function xG(){if(CM)return Vm;CM=1;var t=/\d{13}/;return Vm.is=function(e){return t.test(e)},Vm.parse=function(e){return e=parseInt(e,10),new Date(e)},Vm}var Gm={},AM;function _G(){if(AM)return Gm;AM=1;var t=/\d{10}/;return Gm.is=function(e){return t.test(e)},Gm.parse=function(e){var n=parseInt(e,10)*1e3;return new Date(n)},Gm}var lE,IM;function kC(){if(IM)return lE;IM=1;var t=IP(),e=xG(),n=_G(),r=Object.prototype,i=r.toString;function o(c){return i.call(c)==="[object Date]"}function s(c){return i.call(c)==="[object Number]"}lE=function(l){return o(l)?l:s(l)?new Date(a(l)):t.is(l)?t.parse(l):e.is(l)?e.parse(l):n.is(l)?n.parse(l):new Date(l)};function a(c){return c<315576e5?c*1e3:c}return lE}var uE,kM;function SG(){if(kM)return uE;kM=1;var t=IP();uE=e;function e(i,o){return o===void 0&&(o=!0),i&&typeof i=="object"?n(i,o):Array.isArray(i)?r(i,o):t.is(i,o)?t.parse(i):i}function n(i,o){return Object.keys(i).forEach(function(s){i[s]=e(i[s],o)}),i}function r(i,o){return i.forEach(function(s,a){i[a]=e(s,o)}),i}return uE}var MM;function _d(){if(MM)return Cu;MM=1;var t=Cu&&Cu.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.Facade=void 0;var e=t(wG()),n=bG(),r=t(EG()),i=t(kC()),o=t(Gw()),s=t(SG());function a(u,f){f=f||{},this.raw=n.clone(u),"clone"in f||(f.clone=!0),f.clone&&(u=n.clone(u)),"traverse"in f||(f.traverse=!0),"timestamp"in u?u.timestamp=i.default(u.timestamp):u.timestamp=new Date,f.traverse&&s.default(u),this.opts=f,this.obj=u}Cu.Facade=a;var c=a.prototype;c.proxy=function(u){var f=u.split(".");u=f.shift();var p=this[u]||this.obj[u];return p&&(typeof p=="function"&&(p=p.call(this)||{}),f.length===0?this.opts.clone?l(p):p:(p=o.default(p,f.join(".")),this.opts.clone?l(p):p))},c.field=function(u){var f=this.obj[u];return this.opts.clone?l(f):f},a.proxy=function(u){return function(){return this.proxy(u)}},a.field=function(u){return function(){return this.field(u)}},a.multi=function(u){return function(){var f=this.proxy(u+"s");if(Array.isArray(f))return f;var p=this.proxy(u);return p&&(p=[this.opts.clone?n.clone(p):p]),p||[]}},a.one=function(u){return function(){var f=this.proxy(u);if(f)return f;var p=this.proxy(u+"s");if(Array.isArray(p))return p[0]}},c.json=function(){var u=this.opts.clone?n.clone(this.obj):this.obj;return this.type&&(u.type=this.type()),u},c.rawEvent=function(){return this.raw},c.options=function(u){var f=this.obj.options||this.obj.context||{},p=this.opts.clone?n.clone(f):f;if(!u)return p;if(this.enabled(u)){var m=this.integrations(),w=m[u]||o.default(m,u);return typeof w!="object"&&(w=o.default(this.options(),u)),typeof w=="object"?w:{}}},c.context=c.options,c.enabled=function(u){var f=this.proxy("options.providers.all");typeof f!="boolean"&&(f=this.proxy("options.all")),typeof f!="boolean"&&(f=this.proxy("integrations.all")),typeof f!="boolean"&&(f=!0);var p=f&&r.default(u),m=this.integrations();if(m.providers&&m.providers.hasOwnProperty(u)&&(p=m.providers[u]),m.hasOwnProperty(u)){var w=m[u];typeof w=="boolean"?p=w:p=!0}return!!p},c.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()},c.active=function(){var u=this.proxy("options.active");return u==null&&(u=!0),u},c.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")},c.sessionId=c.anonymousId,c.groupId=a.proxy("options.groupId"),c.traits=function(u){var f=this.proxy("options.traits")||{},p=this.userId();u=u||{},p&&(f.id=p);for(var m in u)if(Object.prototype.hasOwnProperty.call(u,m)){var w=this[m]==null?this.proxy("options.traits."+m):this[m]();if(w==null)continue;f[u[m]]=w,delete f[m]}return f},c.library=function(){var u=this.proxy("options.library");return u?typeof u=="string"?{name:u,version:null}:u:{name:"unknown",version:null}},c.device=function(){var u=this.proxy("context.device");(typeof u!="object"||u===null)&&(u={});var f=this.library().name;return u.type||(f.indexOf("ios")>-1&&(u.type="ios"),f.indexOf("android")>-1&&(u.type="android")),u},c.userAgent=a.proxy("context.userAgent"),c.timezone=a.proxy("context.timezone"),c.timestamp=a.field("timestamp"),c.channel=a.field("channel"),c.ip=a.proxy("context.ip"),c.userId=a.field("userId"),e.default(c);function l(u){return n.clone(u)}return Cu}var Au={},RM;function CG(){if(RM)return Au;RM=1;var t=Au&&Au.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Au,"__esModule",{value:!0}),Au.Alias=void 0;var e=t(qs()),n=_d();function r(i,o){n.Facade.call(this,i,o)}return Au.Alias=r,e.default(r,n.Facade),r.prototype.action=function(){return"alias"},r.prototype.type=r.prototype.action,r.prototype.previousId=function(){return this.field("previousId")||this.field("from")},r.prototype.from=r.prototype.previousId,r.prototype.userId=function(){return this.field("userId")||this.field("to")},r.prototype.to=r.prototype.userId,Au}var Iu={},Ym={},OM;function Yw(){if(OM)return Ym;OM=1,Object.defineProperty(Ym,"__esModule",{value:!0});var t=/.+\@.+\..+/;function e(n){return t.test(n)}return Ym.default=e,Ym}var TM;function AG(){if(TM)return Iu;TM=1;var t=Iu&&Iu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.Group=void 0;var e=t(qs()),n=t(Yw()),r=t(kC()),i=_d();function o(a,c){i.Facade.call(this,a,c)}Iu.Group=o,e.default(o,i.Facade);var s=o.prototype;return s.action=function(){return"group"},s.type=s.action,s.groupId=i.Facade.field("groupId"),s.created=function(){var a=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(a)return r.default(a)},s.email=function(){var a=this.proxy("traits.email");if(a)return a;var c=this.groupId();if(n.default(c))return c},s.traits=function(a){var c=this.properties(),l=this.groupId();a=a||{},l&&(c.id=l);for(var u in a)if(Object.prototype.hasOwnProperty.call(a,u)){var f=this[u]==null?this.proxy("traits."+u):this[u]();if(f==null)continue;c[a[u]]=f,delete c[u]}return c},s.name=i.Facade.proxy("traits.name"),s.industry=i.Facade.proxy("traits.industry"),s.employees=i.Facade.proxy("traits.employees"),s.properties=function(){return this.field("traits")||this.field("properties")||{}},Iu}var ku={},NM;function kP(){if(NM)return ku;NM=1;var t=ku&&ku.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ku,"__esModule",{value:!0}),ku.Identify=void 0;var e=_d(),n=t(Gw()),r=t(qs()),i=t(Yw()),o=t(kC()),s=function(l){return l.trim()};function a(l,u){e.Facade.call(this,l,u)}ku.Identify=a,r.default(a,e.Facade);var c=a.prototype;return c.action=function(){return"identify"},c.type=c.action,c.traits=function(l){var u=this.field("traits")||{},f=this.userId();l=l||{},f&&(u.id=f);for(var p in l){var m=this[p]==null?this.proxy("traits."+p):this[p]();m!=null&&(u[l[p]]=m,p!==l[p]&&delete u[p])}return u},c.email=function(){var l=this.proxy("traits.email");if(l)return l;var u=this.userId();if(i.default(u))return u},c.created=function(){var l=this.proxy("traits.created")||this.proxy("traits.createdAt");if(l)return o.default(l)},c.companyCreated=function(){var l=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(l)return o.default(l)},c.companyName=function(){return this.proxy("traits.company.name")},c.name=function(){var l=this.proxy("traits.name");if(typeof l=="string")return s(l);var u=this.firstName(),f=this.lastName();if(u&&f)return s(u+" "+f)},c.firstName=function(){var l=this.proxy("traits.firstName");if(typeof l=="string")return s(l);var u=this.proxy("traits.name");if(typeof u=="string")return s(u).split(" ")[0]},c.lastName=function(){var l=this.proxy("traits.lastName");if(typeof l=="string")return s(l);var u=this.proxy("traits.name");if(typeof u=="string"){var f=s(u).indexOf(" ");if(f!==-1)return s(u.substr(f+1))}},c.uid=function(){return this.userId()||this.username()||this.email()},c.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")},c.age=function(){var l=this.birthday(),u=n.default(this.traits(),"age");if(u!=null)return u;if(l instanceof Date){var f=new Date;return f.getFullYear()-l.getFullYear()}},c.avatar=function(){var l=this.traits();return n.default(l,"avatar")||n.default(l,"photoUrl")||n.default(l,"avatarUrl")},c.position=function(){var l=this.traits();return n.default(l,"position")||n.default(l,"jobTitle")},c.username=e.Facade.proxy("traits.username"),c.website=e.Facade.one("traits.website"),c.websites=e.Facade.multi("traits.website"),c.phone=e.Facade.one("traits.phone"),c.phones=e.Facade.multi("traits.phone"),c.address=e.Facade.proxy("traits.address"),c.gender=e.Facade.proxy("traits.gender"),c.birthday=e.Facade.proxy("traits.birthday"),ku}var Mu={},PM;function MC(){if(PM)return Mu;PM=1;var t=Mu&&Mu.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.Track=void 0;var e=t(qs()),n=_d(),r=kP(),i=t(Yw()),o=t(Gw());function s(l,u){n.Facade.call(this,l,u)}Mu.Track=s,e.default(s,n.Facade);var a=s.prototype;a.action=function(){return"track"},a.type=a.action,a.event=n.Facade.field("event"),a.value=n.Facade.proxy("properties.value"),a.category=n.Facade.proxy("properties.category"),a.id=n.Facade.proxy("properties.id"),a.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")},a.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")},a.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")},a.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")},a.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")},a.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")},a.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")},a.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")},a.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")},a.sku=n.Facade.proxy("properties.sku"),a.tax=n.Facade.proxy("properties.tax"),a.name=n.Facade.proxy("properties.name"),a.price=n.Facade.proxy("properties.price"),a.total=n.Facade.proxy("properties.total"),a.repeat=n.Facade.proxy("properties.repeat"),a.coupon=n.Facade.proxy("properties.coupon"),a.shipping=n.Facade.proxy("properties.shipping"),a.discount=n.Facade.proxy("properties.discount"),a.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")},a.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")},a.description=n.Facade.proxy("properties.description"),a.plan=n.Facade.proxy("properties.plan"),a.subtotal=function(){var l=o.default(this.properties(),"subtotal"),u=this.total()||this.revenue();if(l)return l;if(!u)return 0;if(this.total()){var f=this.tax();f&&(u-=f),f=this.shipping(),f&&(u-=f),f=this.discount(),f&&(u+=f)}return u},a.products=function(){var l=this.properties(),u=o.default(l,"products");return Array.isArray(u)?u.filter(function(f){return f!==null}):[]},a.quantity=function(){var l=this.obj.properties||{};return l.quantity||1},a.currency=function(){var l=this.obj.properties||{};return l.currency||"USD"},a.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},a.query=n.Facade.proxy("options.query"),a.properties=function(l){var u=this.field("properties")||{};l=l||{};for(var f in l)if(Object.prototype.hasOwnProperty.call(l,f)){var p=this[f]==null?this.proxy("properties."+f):this[f]();if(p==null)continue;u[l[f]]=p,delete u[f]}return u},a.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()},a.email=function(){var l=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(l)return l;var u=this.userId();if(i.default(u))return u},a.revenue=function(){var l=this.proxy("properties.revenue"),u=this.event(),f=/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;return!l&&u&&u.match(f)&&(l=this.proxy("properties.total")),c(l)},a.cents=function(){var l=this.revenue();return typeof l!="number"?this.value()||0:l*100},a.identify=function(){var l=this.json();return l.traits=this.traits(),new r.Identify(l,this.opts)};function c(l){if(l){if(typeof l=="number")return l;if(typeof l=="string"&&(l=l.replace(/\$/g,""),l=parseFloat(l),!isNaN(l)))return l}}return Mu}var Ru={},LM;function MP(){if(LM)return Ru;LM=1;var t=Ru&&Ru.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.Page=void 0;var e=t(qs()),n=_d(),r=MC(),i=t(Yw());function o(a,c){n.Facade.call(this,a,c)}Ru.Page=o,e.default(o,n.Facade);var s=o.prototype;return s.action=function(){return"page"},s.type=s.action,s.category=n.Facade.field("category"),s.name=n.Facade.field("name"),s.title=n.Facade.proxy("properties.title"),s.path=n.Facade.proxy("properties.path"),s.url=n.Facade.proxy("properties.url"),s.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},s.properties=function(a){var c=this.field("properties")||{},l=this.category(),u=this.name();a=a||{},l&&(c.category=l),u&&(c.name=u);for(var f in a)if(Object.prototype.hasOwnProperty.call(a,f)){var p=this[f]==null?this.proxy("properties."+f):this[f]();if(p==null)continue;c[a[f]]=p,f!==a[f]&&delete c[f]}return c},s.email=function(){var a=this.proxy("context.traits.email")||this.proxy("properties.email");if(a)return a;var c=this.userId();if(i.default(c))return c},s.fullName=function(){var a=this.category(),c=this.name();return c&&a?a+" "+c:c},s.event=function(a){return a?"Viewed "+a+" Page":"Loaded a Page"},s.track=function(a){var c=this.json();return c.event=this.event(a),c.timestamp=this.timestamp(),c.properties=this.properties(),new r.Track(c,this.opts)},Ru}var Ou={},BM;function IG(){if(BM)return Ou;BM=1;var t=Ou&&Ou.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.Screen=void 0;var e=t(qs()),n=MP(),r=MC();function i(o,s){n.Page.call(this,o,s)}return Ou.Screen=i,e.default(i,n.Page),i.prototype.action=function(){return"screen"},i.prototype.type=i.prototype.action,i.prototype.event=function(o){return o?"Viewed "+o+" Screen":"Loaded a Screen"},i.prototype.track=function(o){var s=this.json();return s.event=this.event(o),s.timestamp=this.timestamp(),s.properties=this.properties(),new r.Track(s,this.opts)},Ou}var Tu={},DM;function kG(){if(DM)return Tu;DM=1;var t=Tu&&Tu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.Delete=void 0;var e=t(qs()),n=_d();function r(i,o){n.Facade.call(this,i,o)}return Tu.Delete=r,e.default(r,n.Facade),r.prototype.type=function(){return"delete"},Tu}var jM;function MG(){return jM||(jM=1,function(t){var e=gp&&gp.__assign||function(){return e=Object.assign||function(u){for(var f,p=1,m=arguments.length;p<m;p++){f=arguments[p];for(var w in f)Object.prototype.hasOwnProperty.call(f,w)&&(u[w]=f[w])}return u},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Delete=t.Screen=t.Page=t.Track=t.Identify=t.Group=t.Alias=t.Facade=void 0;var n=_d();Object.defineProperty(t,"Facade",{enumerable:!0,get:function(){return n.Facade}});var r=CG();Object.defineProperty(t,"Alias",{enumerable:!0,get:function(){return r.Alias}});var i=AG();Object.defineProperty(t,"Group",{enumerable:!0,get:function(){return i.Group}});var o=kP();Object.defineProperty(t,"Identify",{enumerable:!0,get:function(){return o.Identify}});var s=MC();Object.defineProperty(t,"Track",{enumerable:!0,get:function(){return s.Track}});var a=MP();Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return a.Page}});var c=IG();Object.defineProperty(t,"Screen",{enumerable:!0,get:function(){return c.Screen}});var l=kG();Object.defineProperty(t,"Delete",{enumerable:!0,get:function(){return l.Delete}}),t.default=e(e({},n.Facade),{Alias:r.Alias,Group:i.Group,Identify:o.Identify,Track:s.Track,Page:a.Page,Screen:c.Screen,Delete:l.Delete})}(gp)),gp}var Nu=MG();function Sy(t,e){var n=new Nu.Facade(t,e);return t.type==="track"&&(n=new Nu.Track(t,e)),t.type==="identify"&&(n=new Nu.Identify(t,e)),t.type==="page"&&(n=new Nu.Page(t,e)),t.type==="alias"&&(n=new Nu.Alias(t,e)),t.type==="group"&&(n=new Nu.Group(t,e)),t.type==="screen"&&(n=new Nu.Screen(t,e)),Object.defineProperty(n,"obj",{value:t,writable:!0}),n}var RG=function(t){var e=!1;window.addEventListener("pagehide",function(){e||(e=!0,t(e))}),document.addEventListener("visibilitychange",function(){if(document.visibilityState=="hidden"){if(e)return;e=!0}else e=!1;t(e)})},RP=function(t){mo(e,t);function e(n,r){var i=t.call(this,n)||this;return i.retryTimeout=r,i.name="RateLimitError",i}return e}(Error),OP=function(t){return it({"Content-Type":"text/plain"},typeof t=="function"?t():t)},OG=500,TG=64;function RC(t){var e=encodeURI(JSON.stringify(t)).split(/%..|./).length-1;return e/1024}function NG(t){return RC(t)>=OG-50}function PG(t){return RC(t)>=TG-10}function LG(t){var e=[],n=0;return t.forEach(function(r){var i=RC(e[n]);i>=64&&n++,e[n]?e[n].push(r):e[n]=[r]}),e}function BG(t,e){var n,r,i=[],o=!1,s=(n=e==null?void 0:e.size)!==null&&n!==void 0?n:10,a=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:5e3,c=0;function l(w){var y;if(w.length!==0){var I=(y=w[0])===null||y===void 0?void 0:y.writeKey,S=w.map(function(T){var N=T;N.sentAt;var z=aP(N,["sentAt"]);return z});return Kw("https://".concat(t,"/b"),{credentials:e==null?void 0:e.credentials,keepalive:(e==null?void 0:e.keepalive)||o,headers:OP(e==null?void 0:e.headers),method:"post",body:JSON.stringify({writeKey:I,batch:S,sentAt:new Date().toISOString()}),priority:e==null?void 0:e.priority}).then(function(T){var N;if(T.status>=500)throw new Error("Bad response from server: ".concat(T.status));if(T.status===429){var z=(N=T.headers)===null||N===void 0?void 0:N.get("x-ratelimit-reset"),$=typeof z=="string"?parseInt(z)*1e3:a;throw new RP("Rate limit exceeded: ".concat(T.status),$)}})}}function u(w){var y;return w===void 0&&(w=1),Bt(this,void 0,void 0,function(){var I;return Dt(this,function(S){return i.length?(I=i,i=[],[2,(y=l(I))===null||y===void 0?void 0:y.catch(function(T){var N,z=Ec.system();z.log("error","Error sending batch",T),w<=((N=e==null?void 0:e.maxRetries)!==null&&N!==void 0?N:10)&&(T.name==="RateLimitError"&&(c=T.retryTimeout),i.push.apply(i,I),i.map(function($){if("_metadata"in $){var H=$;H._metadata=it(it({},H._metadata),{retryCount:w})}}),p(w+1))})]):[2]})})}var f;function p(w){w===void 0&&(w=1),!f&&(f=setTimeout(function(){f=void 0,u(w).catch(console.error)},c||a),c=0)}RG(function(w){if(o=w,o&&i.length){var y=LG(i).map(l);Promise.all(y).catch(console.error)}});function m(w,y){return Bt(this,void 0,void 0,function(){var I;return Dt(this,function(S){return i.push(y),I=i.length>=s||NG(i)||(e==null?void 0:e.keepalive)&&PG(i),[2,I||o?u():p()]})})}return{dispatch:m}}function DG(t){function e(n,r){return Kw(n,{credentials:t==null?void 0:t.credentials,keepalive:t==null?void 0:t.keepalive,headers:OP(t==null?void 0:t.headers),method:"post",body:JSON.stringify(r),priority:t==null?void 0:t.priority}).then(function(i){var o;if(i.status>=500)throw new Error("Bad response from server: ".concat(i.status));if(i.status===429){var s=(o=i.headers)===null||o===void 0?void 0:o.get("x-ratelimit-reset"),a=s?parseInt(s)*1e3:5e3;throw new RP("Rate limit exceeded: ".concat(i.status),a)}})}return{dispatch:e}}function jG(t,e,n,r,i){var o,s=t.user();delete e.options,e.writeKey=n==null?void 0:n.apiKey,e.userId=e.userId||s.id(),e.anonymousId=e.anonymousId||s.anonymousId(),e.sentAt=new Date;var a=t.queue.failedInitializations||[];a.length>0&&(e._metadata={failedInitializations:a}),i!=null&&(i.attempts>1&&(e._metadata=it(it({},e._metadata),{retryCount:i.attempts})),i.attempts++);var c=[],l=[];for(var u in r){var f=r[u];u==="Segment.io"&&c.push(u),f.bundlingStatus==="bundled"&&c.push(u),f.bundlingStatus==="unbundled"&&l.push(u)}for(var p=0,m=(n==null?void 0:n.unbundledIntegrations)||[];p<m.length;p++){var w=m[p];l.includes(w)||l.push(w)}var y=(o=n==null?void 0:n.maybeBundledConfigIds)!==null&&o!==void 0?o:{},I=[];return c.sort().forEach(function(S){var T;((T=y[S])!==null&&T!==void 0?T:[]).forEach(function(N){I.push(N)})}),(n==null?void 0:n.addBundledMetadata)!==!1&&(e._metadata=it(it({},e._metadata),{bundled:c.sort(),unbundled:l.sort(),bundledIds:I})),e}var $G=function(t,e){return Bt(void 0,void 0,void 0,function(){var n;return Dt(this,function(r){return n=function(i){return Bt(void 0,void 0,void 0,function(){var o;return Dt(this,function(s){switch(s.label){case 0:return t(i)?(o=n,[4,e()]):[3,2];case 1:return[2,o.apply(void 0,[s.sent()])];case 2:return[2]}})})},[2,n(void 0)]})})};function FG(t,e){return Bt(this,void 0,void 0,function(){var n,r=this;return Dt(this,function(i){switch(i.label){case 0:return n=[],l0()?[2,e]:[4,$G(function(){return e.length>0&&!l0()},function(){return Bt(r,void 0,void 0,function(){var o,s,a;return Dt(this,function(c){switch(c.label){case 0:return o=e.pop(),o?[4,qp(o,t)]:[2];case 1:return s=c.sent(),a=s instanceof Ec,a||n.push(o),[2]}})})})];case 1:return i.sent(),n.map(function(o){return e.pushWithBackoff(o)}),[2,e]}})})}function hf(t,e,n,r){var i=this;t||setTimeout(function(){return Bt(i,void 0,void 0,function(){var o,s;return Dt(this,function(a){switch(a.label){case 0:return o=!0,[4,FG(n,e)];case 1:return s=a.sent(),o=!1,e.todo>0&&r(o,s,n,r),[2]}})})},Math.random()*5e3)}function UG(t,e){var n,r,i,o,s=t.user();return e.previousId=(i=(r=(n=e.previousId)!==null&&n!==void 0?n:e.from)!==null&&r!==void 0?r:s.id())!==null&&i!==void 0?i:s.anonymousId(),e.userId=(o=e.userId)!==null&&o!==void 0?o:e.to,delete e.from,delete e.to,e}var zG=function(t){return t.name==="Segment.io"};function qG(t,e,n){var r,i,o;window.addEventListener("pagehide",function(){a.push.apply(a,Array.from(c)),c.clear()});var s=(r=e==null?void 0:e.apiKey)!==null&&r!==void 0?r:"",a=t.options.disableClientPersistence?new bC(t.queue.queue.maxAttempts,[]):new SC(t.queue.queue.maxAttempts,"".concat(s,":dest-Segment.io")),c=new Set,l=!1,u=(i=e==null?void 0:e.apiHost)!==null&&i!==void 0?i:dP,f=(o=e==null?void 0:e.protocol)!==null&&o!==void 0?o:"https",p="".concat(f,"://").concat(u),m=e==null?void 0:e.deliveryStrategy,w=m&&"strategy"in m&&m.strategy==="batching"?BG(u,m.config):DG(m==null?void 0:m.config);function y(S){return Bt(this,void 0,void 0,function(){var T,N;return Dt(this,function(z){return l0()?(a.push(S),hf(l,a,I,hf),[2,S]):(c.add(S),T=S.event.type.charAt(0),N=Sy(S.event).json(),S.event.type==="track"&&delete N.traits,S.event.type==="alias"&&(N=UG(t,N)),a.getAttempts(S)>=a.maxAttempts?(c.delete(S),[2,S]):[2,w.dispatch("".concat(p,"/").concat(T),jG(t,N,e,n,S)).then(function(){return S}).catch(function($){if(S.log("error","Error sending event",$),$.name==="RateLimitError"){var H=$.retryTimeout;a.pushWithBackoff(S,H)}else a.pushWithBackoff(S);return hf(l,a,I,hf),S}).finally(function(){c.delete(S)})])})})}var I={metadata:{writeKey:s,apiHost:u,protocol:f},name:"Segment.io",type:"destination",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:y,identify:y,page:y,alias:y,group:y,screen:y};return a.todo&&hf(l,a,I,hf),I}var pl="This is being deprecated and will be not be available in future releases of Analytics JS",dE=_C(),fE=dE==null?void 0:dE.analytics;function HG(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=e?10:1,i=n?new bC(r,[]):new SC(r,t);return new tG(i)}var KG=function(){function t(e,n){var r;this.timeout=300,this._getSegmentPluginMetadata=function(){var o;return(o=n.plugins.find(zG))===null||o===void 0?void 0:o.metadata},this.writeKey=e.writeKey;var i={integrations:{"Segment.io":{apiKey:""}}};this.cdnSettings=(r=e.cdnSettings)!==null&&r!==void 0?r:i,this.cdnURL=e.cdnURL}return Object.defineProperty(t.prototype,"apiHost",{get:function(){var e,n;return(n=(e=this._getSegmentPluginMetadata)===null||e===void 0?void 0:e.call(this))===null||n===void 0?void 0:n.apiHost},enumerable:!1,configurable:!0}),t}();function ra(){console.warn(pl)}var TP=function(t){mo(e,t);function e(n,r,i,o,s){var a=this,c,l;a=t.call(this)||this,a._debug=!1,a.initialized=!1,a.user=function(){return a._user},a.init=a.initialize.bind(a),a.log=ra,a.addIntegrationMiddleware=ra,a.listeners=ra,a.addEventListener=ra,a.removeAllListeners=ra,a.removeListener=ra,a.removeEventListener=ra,a.hasListeners=ra,a.add=ra,a.addIntegration=ra;var u=r==null?void 0:r.cookie,f=(c=r==null?void 0:r.disableClientPersistence)!==null&&c!==void 0?c:!1;a.queue=i??HG("".concat(n.writeKey,":event-queue"),r==null?void 0:r.retryQueue,f),a.settings=new KG(n,a.queue);var p=r==null?void 0:r.storage;return a._universalStorage=a.createStore(f,p,u),a._user=o??new _P(it({persist:!f,storage:r==null?void 0:r.storage},r==null?void 0:r.user),u).load(),a._group=s??new cG(it({persist:!f,storage:r==null?void 0:r.storage},r==null?void 0:r.group),u).load(),a.eventFactory=new JV(a._user),a.integrations=(l=r==null?void 0:r.integrations)!==null&&l!==void 0?l:{},a.options=r??{},CC(a),a}return e.prototype.createStore=function(n,r,i){return n?new ud([new AC]):r&&EP(r)?new ud(M_(xP(r.stores,i))):new ud(M_([lo.LocalStorage,{name:lo.Cookie,settings:i},lo.Memory]))},Object.defineProperty(e.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),e.prototype.track=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Bt(this,void 0,void 0,function(){var i,o,s,a,c,l,u,f=this;return Dt(this,function(p){return i=df(n),o=BV.apply(void 0,n),s=o[0],a=o[1],c=o[2],l=o[3],u=this.eventFactory.track(s,a,c,this.integrations,i),[2,this._dispatch(u,l).then(function(m){return f.emit("track",s,m.event.properties,m.event.options),m})]})})},e.prototype.page=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Bt(this,void 0,void 0,function(){var i,o,s,a,c,l,u,f,p=this;return Dt(this,function(m){return i=df(n),o=mM.apply(void 0,n),s=o[0],a=o[1],c=o[2],l=o[3],u=o[4],f=this.eventFactory.page(s,a,c,l,this.integrations,i),[2,this._dispatch(f,u).then(function(w){return p.emit("page",s,a,w.event.properties,w.event.options),w})]})})},e.prototype.identify=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Bt(this,void 0,void 0,function(){var i,o,s,a,c,l,u,f=this;return Dt(this,function(p){return i=df(n),o=vM(this._user).apply(void 0,n),s=o[0],a=o[1],c=o[2],l=o[3],this._user.identify(s,a),u=this.eventFactory.identify(this._user.id(),this._user.traits(),c,this.integrations,i),[2,this._dispatch(u,l).then(function(m){return f.emit("identify",m.event.userId,m.event.traits,m.event.options),m})]})})},e.prototype.group=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=df(r);if(r.length===0)return this._group;var s=vM(this._group).apply(void 0,r),a=s[0],c=s[1],l=s[2],u=s[3];this._group.identify(a,c);var f=this._group.id(),p=this._group.traits(),m=this.eventFactory.group(f,p,l,this.integrations,o);return this._dispatch(m,u).then(function(w){return n.emit("group",w.event.groupId,w.event.traits,w.event.options),w})},e.prototype.alias=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Bt(this,void 0,void 0,function(){var i,o,s,a,c,l,u,f=this;return Dt(this,function(p){return i=df(n),o=DV.apply(void 0,n),s=o[0],a=o[1],c=o[2],l=o[3],u=this.eventFactory.alias(s,a,c,this.integrations,i),[2,this._dispatch(u,l).then(function(m){return f.emit("alias",s,a,m.event.options),m})]})})},e.prototype.screen=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Bt(this,void 0,void 0,function(){var i,o,s,a,c,l,u,f,p=this;return Dt(this,function(m){return i=df(n),o=mM.apply(void 0,n),s=o[0],a=o[1],c=o[2],l=o[3],u=o[4],f=this.eventFactory.screen(s,a,c,l,this.integrations,i),[2,this._dispatch(f,u).then(function(w){return p.emit("screen",s,a,w.event.properties,w.event.options),w})]})})},e.prototype.trackClick=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Bt(this,void 0,void 0,function(){var i,o;return Dt(this,function(s){switch(s.label){case 0:return[4,In(()=>import("./auto-track-iaNwE9v5.js"),[])];case 1:return i=s.sent(),[2,(o=i.link).call.apply(o,Nr([this],n,!1))]}})})},e.prototype.trackLink=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Bt(this,void 0,void 0,function(){var i,o;return Dt(this,function(s){switch(s.label){case 0:return[4,In(()=>import("./auto-track-iaNwE9v5.js"),[])];case 1:return i=s.sent(),[2,(o=i.link).call.apply(o,Nr([this],n,!1))]}})})},e.prototype.trackSubmit=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Bt(this,void 0,void 0,function(){var i,o;return Dt(this,function(s){switch(s.label){case 0:return[4,In(()=>import("./auto-track-iaNwE9v5.js"),[])];case 1:return i=s.sent(),[2,(o=i.form).call.apply(o,Nr([this],n,!1))]}})})},e.prototype.trackForm=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Bt(this,void 0,void 0,function(){var i,o;return Dt(this,function(s){switch(s.label){case 0:return[4,In(()=>import("./auto-track-iaNwE9v5.js"),[])];case 1:return i=s.sent(),[2,(o=i.form).call.apply(o,Nr([this],n,!1))]}})})},e.prototype.register=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Bt(this,void 0,void 0,function(){var i,o,s=this;return Dt(this,function(a){switch(a.label){case 0:return i=Ec.system(),o=n.map(function(c){return s.queue.register(i,c,s)}),[4,Promise.all(o)];case 1:return a.sent(),[2,i]}})})},e.prototype.deregister=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Bt(this,void 0,void 0,function(){var i,o,s=this;return Dt(this,function(a){switch(a.label){case 0:return i=Ec.system(),o=n.map(function(c){var l=s.queue.plugins.find(function(u){return u.name===c});if(l)return s.queue.deregister(i,l,s);i.log("warn","plugin ".concat(c," not found"))}),[4,Promise.all(o)];case 1:return a.sent(),[2,i]}})})},e.prototype.debug=function(n){return n===!1&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=n,this},e.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},e.prototype.timeout=function(n){this.settings.timeout=n},e.prototype._dispatch=function(n,r){return Bt(this,void 0,void 0,function(){var i;return Dt(this,function(o){return i=new Ec(n),i.stats.increment("analytics_js.invoke",1,[n.type]),l0()&&!this.options.retryQueue?[2,i]:[2,LV(i,this.queue,this,{callback:r,debug:this._debug,timeout:this.settings.timeout})]})})},e.prototype.addSourceMiddleware=function(n){return Bt(this,void 0,void 0,function(){var r=this;return Dt(this,function(i){switch(i.label){case 0:return[4,this.queue.criticalTasks.run(function(){return Bt(r,void 0,void 0,function(){var o,s,a;return Dt(this,function(c){switch(c.label){case 0:return[4,In(()=>Promise.resolve().then(()=>cY),void 0)];case 1:return o=c.sent().sourceMiddlewarePlugin,s={},this.queue.plugins.forEach(function(l){if(l.type==="destination")return s[l.name]=!0}),a=o(n,s),[4,this.register(a)];case 2:return c.sent(),[2]}})})})];case 1:return i.sent(),[2,this]}})})},e.prototype.addDestinationMiddleware=function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return this.queue.plugins.filter(ZV).forEach(function(o){(n==="*"||o.name.toLowerCase()===n.toLowerCase())&&o.addMiddleware.apply(o,r)}),Promise.resolve(this)},e.prototype.setAnonymousId=function(n){return this._user.anonymousId(n)},e.prototype.queryString=function(n){return Bt(this,void 0,void 0,function(){var r;return Dt(this,function(i){switch(i.label){case 0:return this.options.useQueryString===!1?[2,[]]:[4,In(()=>import("./index--YGXHcQr.js"),[])];case 1:return r=i.sent().queryString,[2,r(this,n)]}})})},e.prototype.use=function(n){return n(this),this},e.prototype.ready=function(n){return n===void 0&&(n=function(r){return r}),Bt(this,void 0,void 0,function(){return Dt(this,function(r){return[2,Promise.all(this.queue.plugins.map(function(i){return i.ready?i.ready():Promise.resolve()})).then(function(i){return n(i),i})]})})},e.prototype.noConflict=function(){return console.warn(pl),uG(fE??this),this},e.prototype.normalize=function(n){return console.warn(pl),this.eventFactory.normalize(n)},Object.defineProperty(e.prototype,"failedInitializations",{get:function(){return console.warn(pl),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"VERSION",{get:function(){return Ww},enumerable:!1,configurable:!0}),e.prototype.initialize=function(n,r){return Bt(this,void 0,void 0,function(){return Dt(this,function(i){return console.warn(pl),[2,Promise.resolve(this)]})})},e.prototype.pageview=function(n){return Bt(this,void 0,void 0,function(){return Dt(this,function(r){switch(r.label){case 0:return console.warn(pl),[4,this.page({path:n})];case 1:return r.sent(),[2,this]}})})},Object.defineProperty(e.prototype,"plugins",{get:function(){var n;return console.warn(pl),(n=this._plugins)!==null&&n!==void 0?n:{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Integrations",{get:function(){console.warn(pl);var n=this.queue.plugins.filter(function(r){return r.type==="destination"}).reduce(function(r,i){var o="".concat(i.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),s=window[o];if(!s)return r;var a=s.Integration;return a?(r[i.name]=a,r):(r[i.name]=s,r)},{});return n},enumerable:!1,configurable:!0}),e.prototype.push=function(n){var r=this,i=n.shift();i&&!r[i]||r[i].apply(this,n)},e}(wC),$M=function(t){mo(e,t);function e(){var n=t.call(this,{writeKey:""},{disableClientPersistence:!0})||this;return n.initialized=!0,n}return e}(TP),FM={};function NP(){return typeof process>"u"||!FM?{}:FM}var WG=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,VG=function(){var t,e=Array.prototype.slice.call(document.querySelectorAll("script"));return e.forEach(function(n){var r,i=(r=n.getAttribute("src"))!==null&&r!==void 0?r:"",o=WG.exec(i);o&&o[1]&&(t=o[1])}),t},Gv,GG=function(){var t,e=Gv??((t=SP())===null||t===void 0?void 0:t._cdn);return e},YG=function(t){var e=SP();e&&(e._cdn=t),Gv=t},OC=function(){var t=GG();if(t)return t;var e=VG();return e||"https://cdn.segment.com"},Gfe=function(){var t=OC();return"".concat(t,"/next-integrations")};function JG(t,e){var n,r=Object.entries((n=e.integrations)!==null&&n!==void 0?n:{}).reduce(function(i,o){var s,a,c=o[0],l=o[1];return typeof l=="object"?it(it({},i),(s={},s[c]=l,s)):it(it({},i),(a={},a[c]={},a))},{});return Object.entries(t.integrations).reduce(function(i,o){var s,a=o[0],c=o[1];return it(it({},i),(s={},s[a]=it(it({},c),r[a]),s))},{})}function ZG(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch{return t}}function XG(t){return Bt(this,void 0,void 0,function(){var e;return Dt(this,function(n){return e=navigator.userAgentData,e?t?[2,e.getHighEntropyValues(t).catch(function(){return e.toJSON()})]:[2,e.toJSON()]:[2,void 0]})})}var vp;function QG(){if(vp)return vp;var t=wP(window.location.href);return vp={expires:31536e6,secure:!1,path:"/"},t&&(vp.domain=t),vp}function eY(t){var e={btid:"dataxu",urid:"millennial-media"};t.startsWith("?")&&(t=t.substring(1)),t=t.replace(/\?/g,"&");for(var n=t.split("&"),r=0,i=n;r<i.length;r++){var o=i[r],s=o.split("="),a=s[0],c=s[1];if(e[a])return{id:c,type:e[a]}}}function tY(t){return t.startsWith("?")&&(t=t.substring(1)),t=t.replace(/\?/g,"&"),t.split("&").reduce(function(e,n){var r=n.split("="),i=r[0],o=r[1],s=o===void 0?"":o;if(i.includes("utm_")&&i.length>4){var a=i.slice(4);a==="campaign"&&(a="name"),e[a]=ZG(s)}return e},{})}function nY(){var t=lc.get("_ga");if(t&&t.startsWith("amp"))return t}function rY(t,e,n){var r,i=new ud(n?[]:[new bP(QG())]),o=i.get("s:context.referrer"),s=(r=eY(t))!==null&&r!==void 0?r:o;s&&(e&&(e.referrer=it(it({},e.referrer),s)),i.set("s:context.referrer",s))}var iY=function(t){try{var e=new URLSearchParams;return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];Array.isArray(i)?i.forEach(function(o){return e.append(r,o)}):e.append(r,i)}),e.toString()}catch{return""}},oY=function(){function t(){var e=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(n,r){return Bt(e,void 0,void 0,function(){var i;return Dt(this,function(o){switch(o.label){case 0:this.instance=r,o.label=1;case 1:return o.trys.push([1,3,,4]),i=this,[4,XG(this.instance.options.highEntropyValuesClientHints)];case 2:return i.userAgentData=o.sent(),[3,4];case 3:return o.sent(),[3,4];case 4:return[2,Promise.resolve()]}})})},this.enrich=function(n){var r,i,o=n.event.context,s=o.page.search||"",a=typeof s=="object"?iY(s):s;o.userAgent=navigator.userAgent,o.userAgentData=e.userAgentData;var c=navigator.userLanguage||navigator.language;typeof o.locale>"u"&&typeof c<"u"&&(o.locale=c),(r=o.library)!==null&&r!==void 0||(o.library={name:"analytics.js",version:"".concat("npm:next","-").concat(Ww)}),a&&!o.campaign&&(o.campaign=tY(a));var l=nY();l&&(o.amp={id:l}),rY(a,o,(i=e.instance.options.disableClientPersistence)!==null&&i!==void 0?i:!1);try{o.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return n},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich}return t}(),sY=new oY;function PP(t){var e=Array.prototype.slice.call(window.document.querySelectorAll("script"));return e.find(function(n){return n.src===t})}function hE(t,e){var n=PP(t);if(n!==void 0){var r=n==null?void 0:n.getAttribute("status");if(r==="loaded")return Promise.resolve(n);if(r==="loading")return new Promise(function(i,o){n.addEventListener("load",function(){return i(n)}),n.addEventListener("error",function(s){return o(s)})})}return new Promise(function(i,o){var s,a=window.document.createElement("script");a.type="text/javascript",a.src=t,a.async=!0,a.setAttribute("status","loading");for(var c=0,l=Object.entries({});c<l.length;c++){var u=l[c],f=u[0],p=u[1];a.setAttribute(f,p)}a.onload=function(){a.onerror=a.onload=null,a.setAttribute("status","loaded"),i(a)},a.onerror=function(){a.onerror=a.onload=null,a.setAttribute("status","error"),o(new Error("Failed to load ".concat(t)))};var m=window.document.querySelector("script");m?(s=m.parentElement)===null||s===void 0||s.insertBefore(a,m):window.document.head.appendChild(a)})}function Yfe(t){var e=PP(t);return e!==void 0&&e.remove(),Promise.resolve()}function LP(t,e,n){return Bt(this,void 0,void 0,function(){function r(l,u){return Bt(this,void 0,void 0,function(){var f,p,m;return Dt(this,function(w){switch(w.label){case 0:return f=!1,p=null,[4,u({payload:Sy(l,{clone:!0,traverse:!1}),integration:t,next:function(y){f=!0,y===null&&(p=null),y&&(p=y.obj)}})];case 1:return w.sent(),!f&&p!==null&&(p=p,p.integrations=it(it({},l.integrations),(m={},m[t]=!1,m))),[2,p]}})})}var i,o,s,a,c;return Dt(this,function(l){switch(l.label){case 0:i=Sy(e,{clone:!0,traverse:!1}).rawEvent(),o=0,s=n,l.label=1;case 1:return o<s.length?(a=s[o],[4,r(i,a)]):[3,4];case 2:if(c=l.sent(),c===null)return[2,null];i=c,l.label=3;case 3:return o++,[3,1];case 4:return[2,i]}})})}function aY(t,e){function n(r){return Bt(this,void 0,void 0,function(){var i;return Dt(this,function(o){switch(o.label){case 0:return i=!1,[4,t({payload:Sy(r.event,{clone:!0,traverse:!1}),integrations:e??{},next:function(s){i=!0,s&&(r.event=s.obj)}})];case 1:if(o.sent(),!i)throw new lh({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,r]}})})}return{name:"Source Middleware ".concat(t.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(r){return Promise.resolve(r)},track:n,page:n,screen:n,identify:n,alias:n,group:n}}const cY=Object.freeze(Object.defineProperty({__proto__:null,applyDestinationMiddleware:LP,sourceMiddlewarePlugin:aY},Symbol.toStringTag,{value:"Module"}));function Jm(t,e){var n=e.methodName,r=e.integrationName,i=e.type,o=e.didError,s=o===void 0?!1:o;t.stats.increment("analytics_js.integration.invoke".concat(s?".error":""),1,["method:".concat(n),"integration_name:".concat(r),"type:".concat(i)])}var lY=function(){function t(e,n){this.version="1.0.0",this.alternativeNames=[],this.loadPromise=cP(),this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=n,this.name=e,this.type=n.type,this.alternativeNames.push(n.name)}return t.prototype.addMiddleware=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this.type==="destination"&&(e=this.middleware).push.apply(e,n)},t.prototype.transform=function(e){return Bt(this,void 0,void 0,function(){var n;return Dt(this,function(r){switch(r.label){case 0:return[4,LP(this.name,e.event,this.middleware)];case 1:return n=r.sent(),n===null&&e.cancel(new lh({retry:!1,reason:"dropped by destination middleware"})),[2,new Ec(n)]}})})},t.prototype._createMethod=function(e){var n=this;return function(r){return Bt(n,void 0,void 0,function(){var i,o;return Dt(this,function(s){switch(s.label){case 0:return this.action[e]?(i=r,this.type!=="destination"?[3,2]:[4,this.transform(r)]):[2,r];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,5,,6]),[4,this.ready()];case 3:if(!s.sent())throw new Error("Something prevented the destination from getting ready");return Jm(r,{integrationName:this.action.name,methodName:e,type:"action"}),[4,this.action[e](i)];case 4:return s.sent(),[3,6];case 5:throw o=s.sent(),Jm(r,{integrationName:this.action.name,methodName:e,type:"action",didError:!0}),o;case 6:return[2,r]}})})}},t.prototype.isLoaded=function(){return this.action.isLoaded()},t.prototype.ready=function(){return Bt(this,void 0,void 0,function(){return Dt(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.loadPromise.promise];case 1:return e.sent(),[2,!0];case 2:return e.sent(),[2,!1];case 3:return[2]}})})},t.prototype.load=function(e,n){return Bt(this,void 0,void 0,function(){var r,i,o,s;return Dt(this,function(a){switch(a.label){case 0:if(this.loadPromise.isSettled())return[2,this.loadPromise.promise];a.label=1;case 1:return a.trys.push([1,3,,4]),Jm(e,{integrationName:this.action.name,methodName:"load",type:"action"}),r=this.action.load(e,n),o=(i=this.loadPromise).resolve,[4,r];case 2:return o.apply(i,[a.sent()]),[2,r];case 3:throw s=a.sent(),Jm(e,{integrationName:this.action.name,methodName:"load",type:"action",didError:!0}),this.loadPromise.reject(s),s;case 4:return[2]}})})},t.prototype.unload=function(e,n){var r,i;return(i=(r=this.action).unload)===null||i===void 0?void 0:i.call(r,e,n)},t}();function uY(t){if(!Array.isArray(t))throw new Error("Not a valid list of plugins");var e=["load","isLoaded","name","version","type"];return t.forEach(function(n){e.forEach(function(r){var i;if(n[r]===void 0)throw new Error("Plugin: ".concat((i=n.name)!==null&&i!==void 0?i:"unknown"," missing required function ").concat(r))})}),!0}function dY(t,e){var n=t[e.creationName],r=t[e.name];return t.All===!1&&!n&&!r||n===!1||r===!1}function fY(t,e){return Bt(this,void 0,void 0,function(){var n,r,i,o,s,a;return Dt(this,function(c){switch(c.label){case 0:if(c.trys.push([0,9,,10]),n=new RegExp("https://cdn.segment.(com|build)"),r=OC(),!e)return[3,6];i=t.url.split("/"),o=i[i.length-2],s=t.url.replace(o,btoa(o).replace(/=/g,"")),c.label=1;case 1:return c.trys.push([1,3,,5]),[4,hE(s.replace(n,r))];case 2:return c.sent(),[3,5];case 3:return c.sent(),[4,hE(t.url.replace(n,r))];case 4:return c.sent(),[3,5];case 5:return[3,8];case 6:return[4,hE(t.url.replace(n,r))];case 7:c.sent(),c.label=8;case 8:return typeof window[t.libraryName]=="function"?[2,window[t.libraryName]]:[3,10];case 9:throw a=c.sent(),console.error("Failed to create PluginFactory",t),a;case 10:return[2]}})})}function hY(t,e,n,r,i,o){var s,a,c;return Bt(this,void 0,void 0,function(){var l,u,f,p=this;return Dt(this,function(m){switch(m.label){case 0:return l=[],u=(a=(s=t.middlewareSettings)===null||s===void 0?void 0:s.routingRules)!==null&&a!==void 0?a:[],f=((c=t.remotePlugins)!==null&&c!==void 0?c:[]).map(function(w){return Bt(p,void 0,void 0,function(){var y,I,S,T,N,z,$;return Dt(this,function(H){switch(H.label){case 0:if(dY(e,w))return[2];H.label=1;case 1:return H.trys.push([1,6,,7]),I=o==null?void 0:o.find(function(K){var j=K.pluginName;return j===w.name}),I?[3,3]:[4,fY(w,r==null?void 0:r.obfuscate)];case 2:I=H.sent(),H.label=3;case 3:return y=I,y?(S=n[w.name],[4,y(it(it({},w.settings),S))]):[3,5];case 4:T=H.sent(),N=Array.isArray(T)?T:[T],uY(N),z=u.filter(function(K){return K.destinationName===w.creationName}),N.forEach(function(K){var j=new lY(w.creationName,K);z.length&&i&&j.addMiddleware(i),l.push(j)}),H.label=5;case 5:return[3,7];case 6:return $=H.sent(),console.warn("Failed to load Remote Plugin",$),[3,7];case 7:return[2]}})})}),[4,Promise.all(f)];case 1:return m.sent(),[2,l.filter(Boolean)]}})})}var pE,UM,pY=_C(),zM=(pE=(UM=pY).__SEGMENT_INSPECTOR__)!==null&&pE!==void 0?pE:UM.__SEGMENT_INSPECTOR__={},gY=function(t){var e;return(e=zM.attach)===null||e===void 0?void 0:e.call(zM,t)};function mY(t,e){return Kw("".concat(e,"/v1/projects/").concat(t,"/settings")).then(function(n){return n.ok?n.json():n.text().then(function(r){throw new Error(r)})}).catch(function(n){throw console.error(n.message),n})}function vY(t){return NP().NODE_ENV!=="test"&&Object.keys(t.integrations).length>1}function yY(t){var e,n,r;return NP().NODE_ENV!=="test"&&((r=(n=(e=t.middlewareSettings)===null||e===void 0?void 0:e.routingRules)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0)>0}function wY(t,e){gG(t,e),pG(t,e)}function bY(t,e,n){return Bt(this,void 0,void 0,function(){return Dt(this,function(r){switch(r.label){case 0:return[4,xY(t,e)];case 1:return r.sent(),mG(t,n),[2]}})})}var EY=function(){var t,e,n=(t=window.location.hash)!==null&&t!==void 0?t:"",r=(e=window.location.search)!==null&&e!==void 0?e:"",i=r.length?r:n.replace(/(?=#).*(?=\?)/,"");return i},xY=function(t,e){return Bt(void 0,void 0,void 0,function(){return Dt(this,function(n){switch(n.label){case 0:return e.includes("ajs_")?[4,t.queryString(e).catch(console.error)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})};function _Y(t,e,n,r,i,o,s){var a,c,l;return i===void 0&&(i=[]),Bt(this,void 0,void 0,function(){var u,f,p,m,w,y,I,S,T,N,z,$,H,K,j,B=this;return Dt(this,function(D){switch(D.label){case 0:return wY(n,s),u=i==null?void 0:i.filter(function(P){return typeof P=="object"}),f=i==null?void 0:i.filter(function(P){return typeof P=="function"&&typeof P.pluginName=="string"}),yY(e)?[4,In(()=>import("./index-7O0TZzl3.js"),[]).then(function(P){return P.tsubMiddleware(e.middlewareSettings.routingRules)})]:[3,2];case 1:return m=D.sent(),[3,3];case 2:m=void 0,D.label=3;case 3:return p=m,vY(e)||o.length>0?[4,In(()=>import("./index-jyM5w3zV.js"),__vite__mapDeps([0,1])).then(function(P){return P.ajsDestinations(t,e,n.integrations,r,p,o)})]:[3,5];case 4:return y=D.sent(),[3,6];case 5:y=[],D.label=6;case 6:return w=y,e.legacyVideoPluginsEnabled?[4,In(()=>import("./index-BQCbDpPn.js"),[]).then(function(P){return P.loadLegacyVideoPlugins(n)})]:[3,8];case 7:D.sent(),D.label=8;case 8:return!((a=r.plan)===null||a===void 0)&&a.track?[4,In(()=>import("./index-BvRkbJJD.js"),__vite__mapDeps([2,1])).then(function(P){var E;return P.schemaFilter((E=r.plan)===null||E===void 0?void 0:E.track,e)})]:[3,10];case 9:return S=D.sent(),[3,11];case 10:S=void 0,D.label=11;case 11:return I=S,T=JG(e,r),[4,hY(e,n.integrations,T,r,p,f).catch(function(){return[]})];case 12:return N=D.sent(),z=Nr(Nr([sY],w,!0),N,!0),I&&z.push(I),$=((c=r.integrations)===null||c===void 0?void 0:c.All)===!1&&!r.integrations["Segment.io"]||r.integrations&&r.integrations["Segment.io"]===!1,$?[3,14]:(K=(H=z).push,[4,qG(n,T["Segment.io"],e.integrations)]);case 13:K.apply(H,[D.sent()]),D.label=14;case 14:return[4,n.register.apply(n,Nr(Nr([],z,!1),u,!1))];case 15:return j=D.sent(),[4,hG(n,s)];case 16:return D.sent(),Object.entries((l=e.enabledMiddleware)!==null&&l!==void 0?l:{}).some(function(P){var E=P[1];return E})?[4,In(()=>import("./index-BgxWwcCZ.js"),[]).then(function(P){var E=P.remoteMiddlewares;return Bt(B,void 0,void 0,function(){var b,g;return Dt(this,function(v){switch(v.label){case 0:return[4,E(j,e,r.obfuscate)];case 1:return b=v.sent(),g=b.map(function(A){return n.addSourceMiddleware(A)}),[2,Promise.all(g)]}})})})]:[3,18];case 17:D.sent(),D.label=18;case 18:return[4,fG(n,s)];case 19:return D.sent(),[2,j]}})})}function SY(t,e,n){var r,i,o,s,a,c,l,u,f;return e===void 0&&(e={}),Bt(this,void 0,void 0,function(){var p,m,w,y,I,S,T,N,z,$,H;return Dt(this,function(K){switch(K.label){case 0:return e.disable===!0?[2,[new $M,Ec.system()]]:(e.globalAnalyticsKey&&lG(e.globalAnalyticsKey),t.cdnURL&&YG(t.cdnURL),e.initialPageview&&n.add(new R_("page",[])),p=EY(),m=(r=t.cdnURL)!==null&&r!==void 0?r:OC(),(i=t.cdnSettings)!==null&&i!==void 0?(y=i,[3,3]):[3,1]);case 1:return[4,mY(t.writeKey,m)];case 2:y=K.sent(),K.label=3;case 3:return w=y,e.updateCDNSettings&&(w=e.updateCDNSettings(w)),typeof e.disable!="function"?[3,5]:[4,e.disable(w)];case 4:if(I=K.sent(),I)return[2,[new $M,Ec.system()]];K.label=5;case 5:return S=(s=(o=w.integrations["Segment.io"])===null||o===void 0?void 0:o.retryQueue)!==null&&s!==void 0?s:!0,e=it({retryQueue:S},e),T=new TP(it(it({},t),{cdnSettings:w,cdnURL:m}),e),gY(T),N=(a=t.plugins)!==null&&a!==void 0?a:[],z=(c=t.classicIntegrations)!==null&&c!==void 0?c:[],$=(l=e.integrations)===null||l===void 0?void 0:l["Segment.io"],fP.initRemoteMetrics(it(it({},w.metrics),{host:(u=$==null?void 0:$.apiHost)!==null&&u!==void 0?u:(f=w.metrics)===null||f===void 0?void 0:f.host,protocol:$==null?void 0:$.protocol})),[4,_Y(t.writeKey,w,T,e,N,z,n)];case 6:return H=K.sent(),T.initialized=!0,T.emit("initialize",t,e),[4,bY(T,p,n)];case 7:return K.sent(),[2,[T,H]]}})})}var CY=function(t){mo(e,t);function e(){var n=this,r=cP(),i=r.promise,o=r.resolve;return n=t.call(this,function(s){return i.then(function(a){var c=a[0],l=a[1];return SY(c,l,s)})})||this,n._resolveLoadStart=function(s,a){return o([s,a])},n}return e.prototype.load=function(n,r){return r===void 0&&(r={}),this._resolveLoadStart(n,r),this},e.load=function(n,r){return r===void 0&&(r={}),new e().load(n,r)},e.standalone=function(n,r){return e.load({writeKey:n},r).then(function(i){return i[0]})},e}(yG);const AY=globalThis,gE="<anonymous>";function IY(t){try{return!t||typeof t!="function"?gE:t.name||gE}catch{return gE}}const BP=Object.prototype.toString;function kY(t){switch(BP.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Jw(t,Error)}}function DP(t,e){return BP.call(t)===`[object ${e}]`}function MY(t){return DP(t,"String")}function RY(t){return DP(t,"Object")}function OY(t){return typeof Event<"u"&&Jw(t,Event)}function TY(t){return typeof Element<"u"&&Jw(t,Element)}function NY(t){return RY(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function Jw(t,e){try{return t instanceof e}catch{return!1}}function PY(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}const LY=AY,BY=80;function DY(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,i=[];let o=0,s=0;const a=" > ",c=a.length;let l;const u=Array.isArray(e)?e:e.keyAttrs,f=!Array.isArray(e)&&e.maxStringLength||BY;for(;n&&o++<r&&(l=jY(n,u),!(l==="html"||o>1&&s+i.length*c+l.length>=f));)i.push(l),s+=l.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function jY(t,e){const n=t,r=[];if(!(n!=null&&n.tagName))return"";if(LY.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=e!=null&&e.length?e.filter(s=>n.getAttribute(s)).map(s=>[s,n.getAttribute(s)]):null;if(i!=null&&i.length)i.forEach(s=>{r.push(`[${s[0]}="${s[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const s=n.className;if(s&&MY(s)){const a=s.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const o=["aria-label","type","name","title","alt"];for(const s of o){const a=n.getAttribute(s);a&&r.push(`[${s}="${a}"]`)}return r.join("")}function $Y(t){if(kY(t))return{message:t.message,name:t.name,stack:t.stack,...HM(t)};if(OY(t)){const e={type:t.type,target:qM(t.target),currentTarget:qM(t.currentTarget),...HM(t)};return typeof CustomEvent<"u"&&Jw(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function qM(t){try{return TY(t)?DY(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function HM(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}else return{}}function FY(t,e=100,n=1/0){try{return O_("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function O_(t,e,n=1/0,r=1/0,i=qY()){const[o,s]=i;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const a=UY(t,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;const c=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(o(e))return"[Circular ~]";const l=e;if(l&&typeof l.toJSON=="function")try{const m=l.toJSON();return O_("",m,c-1,r,i)}catch{}const u=Array.isArray(e)?[]:{};let f=0;const p=$Y(e);for(const m in p){if(!Object.prototype.hasOwnProperty.call(p,m))continue;if(f>=r){u[m]="[MaxProperties ~]";break}const w=p[m];u[m]=O_(m,w,c-1,r,i),f++}return s(e),u}function UY(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof window<"u"&&e===window)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(PY(e))return"[VueViewModel]";if(NY(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${IY(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const n=zY(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function zY(t){const e=Object.getPrototypeOf(t);return e!=null&&e.constructor?e.constructor.name:"null prototype"}function qY(){const t=new WeakSet;function e(r){return t.has(r)?!0:(t.add(r),!1)}function n(r){t.delete(r)}return[e,n]}class Hp{constructor(e){ke(this,"sentry",void 0),ke(this,"category",void 0),this.sentry=e,this.category="loglevel-sentry"}static async translateError(e){const n=e.findIndex(l=>l instanceof Error),r=e.findIndex(l=>typeof l=="string"),i=e.findIndex(l=>l&&typeof l=="object"&&"status"in l&&"type"in l),o=e.findIndex(l=>l&&typeof l=="object"&&"isAxiosError"in l&&l.isAxiosError===!0);let s;if(i!==-1){var a;const l=e[i],u=(a=l.headers)===null||a===void 0?void 0:a.get("content-type");if(u.includes("application/json")){const f=await l.json();s=new Error((f==null?void 0:f.error)||(f==null?void 0:f.message)||JSON.stringify(f))}else u.includes("text/plain")?s=new Error(await l.text()):s=new Error(`${l.status} ${l.type.toString()} ${l.statusText}`)}else if(o!==-1){const u=e[o].response;if(u){var c;const f=(c=u.headers)===null||c===void 0?void 0:c["content-type"];if(f.includes("application/json")){const p=u.data,m="error"in p?p.error:"message"in p?p.message:JSON.stringify(p);s=new Error(m)}else f.includes("text/plain")?s=new Error(u.data):s=new Error(`${u.status} ${u.data.toString()}`)}else s=new Error("Network error")}else n!==-1?s=e.splice(n,1)[0]:r!==-1?s=new Error(e.splice(r,1)[0]):s=new Error("Unknown error");return[s,e]}static translateArgs(e){const n=e.findIndex(i=>typeof i=="string"),r=n!==-1?e.splice(n,1)[0]:void 0;return r?{message:r,data:{arguments:e}}:{data:{arguments:e}}}static translateLevel(e){switch(e){case"info":return"info";case"warn":return"warning";default:return"debug"}}install(e){const n=e.methodFactory;e.methodFactory=(r,i,o)=>{o&&(this.category=o.toString());const s=n(r,i,o),a=typeof window<"u",c=(...l)=>{var u;const f=(u=this.sentry)===null||u===void 0?void 0:u.getActiveSpan(),{traceId:p,spanId:m}=(f==null?void 0:f.spanContext())||{},w=r==="error"&&l.length>=1&&l[0]instanceof Error;if(a){if(w){const S=l[0],T=p||m?`${S.message}: traceId: ${p} - spanId: ${m}`:S.message,z=[new Error(T,{cause:S}),...l.slice(1)];s&&s(...z);return}s&&s(...l)}else{let S={timestamp:new Date,level:r.toUpperCase(),logger:o};if((p||m)&&(S=_e(_e({},S),{},{traceId:p,spanId:m})),w){var y;const T=l[0];S=_e(_e({},S),{},{message:(y=T.message)!==null&&y!==void 0?y:"",stack:T.stack,extra:l.length>1?l.slice(1):void 0})}else{var I;S=_e(_e({},S),{},{message:(I=l[0])!==null&&I!==void 0?I:"",extra:l.length>1?l.slice(1):void 0})}s&&s(JSON.stringify(FY(S)))}};switch(r){case"error":return async(...l)=>{const{stack:u}=l.find(m=>m instanceof Error)||new Error,[f,p]=await Hp.translateError(l);f.stack=u,this.error(f,...p),c(f,...p)};default:return(...l)=>{this.log(Hp.translateLevel(r),...l),c(...l)}}},e.setLevel(e.getLevel())}setEnabled(e){if(this.sentry){const n=this.sentry.getClient().getOptions();n&&(n.enabled=e)}}isEnabled(){if(this.sentry){var e;const n=this.sentry.getClient().getOptions();return(e=n==null?void 0:n.enabled)!==null&&e!==void 0?e:!1}return!1}log(e,...n){this.sentry&&this.sentry.addBreadcrumb(_e(_e({},Hp.translateArgs(n)),{},{category:this.category,level:e,timestamp:Date.now()}))}trace(...e){this.log("debug",...e)}error(e,...n){if(this.sentry){const r={data:{logger:"loglevel-sentry","logger.name":this.category,arguments:n}};this.sentry.captureException(e,r)}}}const ct=Mc.getLogger("web3auth-logger"),HY=new Hp;HY.install(ct);const KY="f6LbNqCeVRf512ggdME4b6CyflhF1tsX";class WY{constructor(){ke(this,"segment",void 0),ke(this,"globalProperties",{}),ke(this,"enabled",!0)}init(){if(!this.isSkipped()){if(this.segment)throw new Error("Analytics already initialized");this.segment=new CY,this.segment.load({writeKey:KY},{user:{cookie:{key:"web3auth_ajs_user_id"},localStorage:{key:"web3auth_ajs_user_traits"}},globalAnalyticsKey:"web3auth_analytics"}).then(()=>(ct.debug("Analytics initialized"),!0)).catch(e=>{ct.error("Failed to initialize Analytics",e)})}}enable(){this.enabled=!0}disable(){this.enabled=!1}setGlobalProperties(e){this.globalProperties=_e(_e({},this.globalProperties),e)}async identify(e,n){if(this.enabled&&!this.isSkipped())try{return this.getSegment().identify(e,_e({},n))}catch(r){ct.error(`Failed to identify user ${e} in analytics`,r)}}async track(e,n){if(this.enabled&&!this.isSkipped())try{return this.getSegment().track(e,_e(_e({},n),this.globalProperties))}catch(r){ct.error(`Failed to track event ${e}`,r)}}getSegment(){if(!this.segment)throw ct.error("Analytics not initialized. Call Analytics.init() first."),new Error("Analytics not initialized. Call Analytics.init() first.");return this.segment}isSkipped(){const e=window.location.origin;return!!(e.startsWith("http://")||e.includes("localhost"))}}const Dn={SDK_INITIALIZATION_COMPLETED:"SDK Initialization Completed",SDK_INITIALIZATION_FAILED:"SDK Initialization Failed",CONNECTION_STARTED:"Connection Started",CONNECTION_COMPLETED:"Connection Completed",CONNECTION_FAILED:"Connection Failed",IDENTITY_TOKEN_STARTED:"Identity Token Started",IDENTITY_TOKEN_COMPLETED:"Identity Token Completed",IDENTITY_TOKEN_FAILED:"Identity Token Failed",MFA_ENABLEMENT_STARTED:"MFA Enablement Started",MFA_ENABLEMENT_COMPLETED:"MFA Enablement Completed",MFA_ENABLEMENT_FAILED:"MFA Enablement Failed",MFA_MANAGEMENT_SELECTED:"MFA Management Selected",MFA_MANAGEMENT_FAILED:"MFA Management Failed",LOGIN_MODAL_OPENED:"Login Modal Opened",LOGIN_MODAL_CLOSED:"Login Modal Closed",SOCIAL_LOGIN_SELECTED:"Social Login Selected",EXTERNAL_WALLET_SELECTED:"External Wallet Selected",EXTERNAL_WALLET_LIST_EXPANDED:"External Wallet List Expanded",WALLET_UI_CLICKED:"Wallet UI Clicked",WALLET_CONNECT_SCANNER_CLICKED:"Wallet Connect Scanner Clicked",WALLET_CHECKOUT_CLICKED:"Wallet Checkout Clicked",WALLET_SWAP_CLICKED:"Wallet Swap Clicked"},jP={REACT_HOOKS:"React Hooks",VUE_COMPOSABLES:"Vue Composables",NATIVE_SDK:"Native SDK"},$P={WEB_NO_MODAL:"Web NoModal",WEB_MODAL:"Web Modal"},yp={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},KM={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"},VY={[KM.SAPPHIRE_MAINNET]:"https://api.web3auth.io/signer-service",[KM.SAPPHIRE_DEVNET]:"https://api.web3auth.io/signer-service",[yp.MAINNET]:"https://api.web3auth.io/signer-service",[yp.TESTNET]:"https://api.web3auth.io/signer-service",[yp.CYAN]:"https://api.web3auth.io/signer-polygon-service",[yp.AQUA]:"https://api.web3auth.io/signer-polygon-service",[yp.CELESTE]:"https://api.web3auth.io/signer-polygon-service"};class ls extends gN{constructor(e,n,r){super(n),ke(this,"code",void 0),ke(this,"message",void 0),ke(this,"cause",void 0),this.code=e,this.message=n||"",this.cause=r,Object.defineProperty(this,"name",{value:"Web3AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause}}toString(){return JSON.stringify(this.toJSON())}}class ft extends ls{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"WalletInitializationError"})}static fromCode(e,n="",r){return new ft(e,`${ft.messages[e]}, ${n}`,r)}static notFound(e="",n){return ft.fromCode(5001,e,n)}static notInstalled(e="",n){return ft.fromCode(5002,e,n)}static notReady(e="",n){return ft.fromCode(5003,e,n)}static windowBlocked(e="",n){return ft.fromCode(5004,e,n)}static windowClosed(e="",n){return ft.fromCode(5005,e,n)}static incompatibleChainNameSpace(e="",n){return ft.fromCode(5006,e,n)}static duplicateConnectorError(e="",n){return ft.fromCode(5007,e,n)}static invalidProviderConfigError(e="",n){return ft.fromCode(5008,e,n)}static providerNotReadyError(e="",n){return ft.fromCode(5009,e,n)}static rpcConnectionError(e="",n){return ft.fromCode(5010,e,n)}static invalidParams(e="",n){return ft.fromCode(5011,e,n)}static invalidNetwork(e="",n){return ft.fromCode(5013,e,n)}}ke(ft,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Connector has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});class Ft extends ls{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"WalletLoginError"})}static fromCode(e,n="",r){return new Ft(e,`${Ft.messages[e]}. ${n}`,r)}static connectionError(e="",n){return Ft.fromCode(5111,e,n)}static disconnectionError(e="",n){return Ft.fromCode(5112,e,n)}static notConnectedError(e="",n){return Ft.fromCode(5113,e,n)}static popupClosed(e="",n){return Ft.fromCode(5114,e,n)}static mfaEnabled(e="",n){return Ft.fromCode(5115,e,n)}static chainConfigNotAdded(e="",n){return Ft.fromCode(5116,e,n)}static unsupportedOperation(e="",n){return Ft.fromCode(5117,e,n)}static sfaKeyNotFound(e="",n){return Ft.fromCode(5118,e,n)}static userNotLoggedIn(e="",n){return Ft.fromCode(5119,e,n)}}ke(Ft,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user",5115:"User has already enabled mfa, please use the @web3auth/web3auth-web sdk for login with mfa",5116:"Chain config has not been added. Please add the chain config before calling switchChain",5117:"Unsupported operation",5118:"useSFAKey flag is enabled but SFA key is not available",5119:"User not logged in."});class Bs extends ls{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"WalletOperationsError"})}static fromCode(e,n="",r){return new Bs(e,`${Bs.messages[e]}, ${n}`,r)}static chainIDNotAllowed(e="",n){return Bs.fromCode(5201,e,n)}static operationNotAllowed(e="",n){return Bs.fromCode(5202,e,n)}static chainNamespaceNotAllowed(e="",n){return Bs.fromCode(5203,e,n)}}ke(Bs,"messages",{5e3:"Custom",5201:"Provided chainId is not allowed",5202:"This operation is not allowed"});class ec extends ls{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"WalletProviderError"})}static fromCode(e,n="",r){return new Bs(e,`${ec.messages[e]}, ${n}`,r)}static invalidRequestArgs(e="",n){return Bs.fromCode(5301,e,n)}static invalidRequestMethod(e="",n){return Bs.fromCode(5302,e,n)}static invalidRequestParams(e="",n){return Bs.fromCode(5303,e,n)}}ke(ec,"messages",{5e3:"Custom",5301:"Expected a single, non-array, object argument.",5302:"'args.method' must be a non-empty string.",5303:"'args.params' must be an object or array if provided."});const mE=t=>(typeof t=="string"||typeof t=="number")&&/^(-)?0x[0-9a-f]*$/i.test(t),GY=(t=cd.SAPPHIRE_MAINNET)=>VY[t],FP=async({clientId:t,web3AuthNetwork:e,aaProvider:n,authBuildEnv:r})=>{const i=new URL(`${GY(e)}/api/v2/configuration`);return i.searchParams.append("project_id",t),i.searchParams.append("network",e),r&&i.searchParams.append("build_env",r),n&&i.searchParams.append("aa_provider",n),await Oa(i.href)},YY=async t=>await Oa(t),Jfe=t=>{let e=t.toLowerCase();return e=e.split("|")[0],e=e.replace(/-/g," "),e=e.replace(/\s+/g," "),e=e.replace(/wallet$/i,"").trim(),e=e.replace(/\s/g,"-"),e};function uc(t,e,n){return e?e.aborted?Promise.reject(new DOMException("Aborted","AbortError")):new Promise((r,i)=>{const o=()=>{n==null||n(),i(new DOMException("Aborted","AbortError"))};return e.addEventListener("abort",o),Promise.resolve().then(()=>t()).then(r,i).finally(()=>{e.removeEventListener("abort",o)})}):t()}const vE=()=>typeof window<"u"&&typeof document<"u",UP=t=>{var e,n;return{whitelabel_app_name:t==null?void 0:t.appName,whitelabel_app_url:t==null?void 0:t.appUrl,whitelabel_logo_light_enabled:!!(t!=null&&t.logoLight),whitelabel_logo_dark_enabled:!!(t!=null&&t.logoDark),whitelabel_default_language:t==null?void 0:t.defaultLanguage,whitelabel_theme_mode:t==null?void 0:t.mode,whitelabel_use_logo_loader:t==null?void 0:t.useLogoLoader,whitelabel_theme_primary:t==null||(e=t.theme)===null||e===void 0?void 0:e.primary,whitelabel_theme_on_primary:t==null||(n=t.theme)===null||n===void 0?void 0:n.onPrimary,whitelabel_tnc_link_enabled:!!(t!=null&&t.tncLink),whitelabel_privacy_policy_enabled:!!(t!=null&&t.privacyPolicy)}},JY=t=>{var e,n,r,i,o;const s=Array.from(new Set(t==null||(e=t.chains)===null||e===void 0?void 0:e.map(c=>{var l;return T_((l=c.bundlerConfig)===null||l===void 0?void 0:l.url)}).filter(Boolean))),a=Array.from(new Set(t==null||(n=t.chains)===null||n===void 0?void 0:n.map(c=>{var l;return T_((l=c.paymasterConfig)===null||l===void 0?void 0:l.url)}).filter(Boolean)));return{aa_smart_account_type:t==null?void 0:t.smartAccountType,aa_chain_ids:t==null||(r=t.chains)===null||r===void 0?void 0:r.map(c=>Mf({chainId:c.chainId,chainNamespace:tn.EIP155})),aa_bundler_urls:s,aa_paymaster_urls:a,aa_paymaster_enabled:a.length>0,aa_paymaster_context_enabled:t==null||(i=t.chains)===null||i===void 0?void 0:i.some(c=>{var l;return(l=c.bundlerConfig)===null||l===void 0?void 0:l.paymasterContext}),aa_erc20_paymaster_enabled:t==null||(o=t.chains)===null||o===void 0?void 0:o.some(c=>{var l;return(l=c.bundlerConfig)===null||l===void 0||(l=l.paymasterContext)===null||l===void 0?void 0:l.token})}},ZY=t=>{var e,n,r,i,o,s,a,c,l,u,f;return{ws_confirmation_strategy:t==null?void 0:t.confirmationStrategy,ws_enable_key_export:t==null?void 0:t.enableKeyExport,ws_show_widget_button:t==null||(e=t.whiteLabel)===null||e===void 0?void 0:e.showWidgetButton,ws_button_position:t==null||(n=t.whiteLabel)===null||n===void 0?void 0:n.buttonPosition,ws_hide_nft_display:t==null||(r=t.whiteLabel)===null||r===void 0?void 0:r.hideNftDisplay,ws_hide_token_display:t==null||(i=t.whiteLabel)===null||i===void 0?void 0:i.hideTokenDisplay,ws_hide_transfers:t==null||(o=t.whiteLabel)===null||o===void 0?void 0:o.hideTransfers,ws_hide_topup:t==null||(s=t.whiteLabel)===null||s===void 0?void 0:s.hideTopup,ws_hide_receive:t==null||(a=t.whiteLabel)===null||a===void 0?void 0:a.hideReceive,ws_hide_swap:t==null||(c=t.whiteLabel)===null||c===void 0?void 0:c.hideSwap,ws_hide_show_all_tokens:t==null||(l=t.whiteLabel)===null||l===void 0?void 0:l.hideShowAllTokens,ws_hide_wallet_connect:t==null||(u=t.whiteLabel)===null||u===void 0?void 0:u.hideWalletConnect,ws_default_portfolio:t==null||(f=t.whiteLabel)===null||f===void 0?void 0:f.defaultPortfolio}},zP="10.0.6",Sf=t=>{try{const e=t instanceof ls?t.code:t==null?void 0:t.code;return{error_message:t instanceof Error?t.message:(t==null?void 0:t.message)||(t==null?void 0:t.toString()),error_code:e}}catch{return{error_message:"Unknown error",error_code:void 0}}},T_=t=>{try{return new URL(t).hostname}catch{return""}},Mf=t=>t.chainNamespace===tn.EIP155?`${t.chainNamespace}:${parseInt(t.chainId,16)}`:t.chainNamespace===tn.SOLANA?`${t.chainNamespace}:${oV[t.chainId]}`:`${t.chainNamespace}:${t.chainId}`;var yE,WM;function XY(){if(WM)return yE;WM=1,yE=t;function t(e){e=e||{};var n=e.max||Number.MAX_SAFE_INTEGER,r=typeof e.start<"u"?e.start:Math.floor(Math.random()*n);return function(){return r=r%n,r++}}return yE}var QY=XY();const eJ=si(QY);eJ();let tJ=function(t){return t.ACCOUNTS_CHANGED="accountsChanged",t.CHAIN_CHANGED="chainChanged",t.CONNECT="connect",t.DISCONNECT="disconnect",t.MESSAGE="message",t}({});class nJ extends PW{constructor({config:e,state:n}){super({config:e,state:n}),ke(this,"_providerEngineProxy",null),ke(this,"keyExportFlagSetByCode",!1);const{chain:r}=e;if(!r)throw ft.invalidProviderConfigError("Please provide chain");if(!r.chainId)throw ft.invalidProviderConfigError("Please provide chainId inside chain");if(!r.rpcTarget)throw ft.invalidProviderConfigError("Please provide rpcTarget inside chain");typeof e.keyExportEnabled=="boolean"&&(this.keyExportFlagSetByCode=!0),this.defaultState={chainId:"loading"},this.defaultConfig={chain:e.chain,chains:e.chains,keyExportEnabled:typeof e.keyExportEnabled=="boolean"?e.keyExportEnabled:!0},super.initialize()}get currentChain(){return this.config.chains.find(e=>e.chainId===this.state.chainId)}get provider(){return this._providerEngineProxy}get chainId(){return this.state.chainId}set provider(e){throw new Error("Method not implemented.")}async request(e){var n;if(!e||typeof e!="object"||Array.isArray(e))throw bc.invalidRequest({message:ec.invalidRequestArgs().message,data:_e(_e({},e||{}),{},{cause:ec.invalidRequestArgs().message})});const{method:r,params:i}=e;if(typeof r!="string"||r.length===0)throw bc.invalidRequest({message:ec.invalidRequestMethod().message,data:_e(_e({},e||{}),{},{cause:ec.invalidRequestMethod().message})});if(i!==void 0&&!Array.isArray(i)&&(typeof i!="object"||i===null))throw bc.invalidRequest({message:ec.invalidRequestParams().message,data:_e(_e({},e||{}),{},{cause:ec.invalidRequestParams().message})});return(n=this.provider)===null||n===void 0?void 0:n.request(e)}sendAsync(e,n){return n?this.send(e,n):this.request(e)}send(e,n){this.request(e).then(r=>n(null,{result:r})).catch(r=>n(r,null))}updateProviderEngineProxy(e){if(this._providerEngineProxy){this._providerEngineProxy.setTarget(e);const n=r=>{r!=="newListener"&&e.on(r,(...i)=>{if(r===tJ.CHAIN_CHANGED){const o=i[0];this.update({chainId:o})}this.emit(r,...i)})};this.eventNames().forEach(r=>{n(r)}),this.on("newListener",r=>{this.listenerCount(r)>0||n(r)})}else this._providerEngineProxy=$W(e)}setKeyExportFlag(e){this.keyExportFlagSetByCode||this.configure({keyExportEnabled:e})}getProviderEngineProxy(){return this._providerEngineProxy}getChain(e){return this.config.chains.find(n=>n.chainId===e)}}function rJ(t){return(e,n,r,i)=>e.method==="chainId"?(n.result=t,i()):r()}function iJ(t){return(e,n,r,i)=>e.method==="provider_config"?(n.result=t,i()):r()}function oJ(t){const{chainId:e,rpcTarget:n}=t,r=XW({rpcTarget:n});return{networkMiddleware:OK([rJ(e),iJ(t),r]),fetchMiddleware:r}}var qP;class TC extends nJ{constructor({config:e,state:n}){super({config:e,state:n})}async setupProvider(e){const n=this.getChain(e);if(!n)throw Zk.custom({message:"Chain not found",code:4902});const{networkMiddleware:r}=oJ(n),i=new ca;i.push(r);const o=TK(i);this.updateProviderEngineProxy(o),this.emit("chainChanged",e),this.emit("connect",{chainId:e}),this.update({chainId:e})}async switchChain(e){if(!this._providerEngineProxy)throw Zk.custom({message:"Provider is not initialized",code:4902});const n=e.chainId;this.chainId!==n&&(this.update({chainId:"loading"}),await this.setupProvider(n))}getProviderEngineProxy(){return this._providerEngineProxy}lookupNetwork(){throw new Error("Method not implemented.")}}qP=TC;ke(TC,"getProviderInstance",async t=>{const e=new qP({config:{chain:t.chain,chains:t.chains}}),{chainId:n}=t.chain;return await e.setupProvider(n),e});const sJ=t=>{const{document:e}=t,n=e.querySelector('head > meta[property="og:site_name"]');if(n)return n.content;const r=e.querySelector('head > meta[name="title"]');return r?r.content:e.title&&e.title.length>0?e.title:t.location.hostname};function VM(t){return new Promise((e,n)=>{try{const r=document.createElement("img");r.onload=()=>e(!0),r.onerror=()=>e(!1),r.src=t}catch(r){n(r)}})}async function aJ(t){const{document:e}=t;let n=e.querySelector('head > link[rel="shortcut icon"]');return n&&await VM(n.href)||(n=Array.from(e.querySelectorAll('head > link[rel="icon"]')).find(r=>!!r.href)||null,n&&await VM(n.href))?n.href:null}function cJ(t){const[e,n]=t.split(".");return{header:JSON.parse(by(e)),payload:JSON.parse(by(n))}}const ql={EIP155:"eip155",SOLANA:"solana",MULTICHAIN:"multichain"},Cy={AUTH:"auth",WALLET_CONNECT_V2:"wallet-connect-v2",METAMASK:"metamask"},lJ=_e({},Cy),Ay=_e({COINBASE:"coinbase"},Cy),St=_e(_e({},Ay),lJ),HP={[Cy.AUTH]:"Auth",[Cy.WALLET_CONNECT_V2]:"Wallet Connect v2",[Ay.COINBASE]:"Coinbase Smart Wallet",[Ay.METAMASK]:"MetaMask"},ht={NOT_READY:"not_ready",READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTING:"disconnecting",DISCONNECTED:"disconnected",ERRORED:"errored"},Et=_e(_e({},ht),{},{CONNECTOR_DATA_UPDATED:"connector_data_updated",CACHE_CLEAR:"cache_clear",CONNECTORS_UPDATED:"connectors_updated",MFA_ENABLED:"mfa_enabled",REHYDRATION_ERROR:"rehydration_error"}),Xa={EXTERNAL:"external",IN_APP:"in_app"};class KP extends ru{constructor(e){super(),ke(this,"connectorData",{}),ke(this,"isInjected",void 0),ke(this,"icon",void 0),ke(this,"coreOptions",void 0),ke(this,"rehydrated",!1),ke(this,"connectorNamespace",void 0),ke(this,"type",void 0),ke(this,"name",void 0),ke(this,"status",void 0),this.coreOptions=e.coreOptions}get connnected(){return this.status===ht.CONNECTED}checkConnectionRequirements(){if(!(this.name===St.WALLET_CONNECT_V2&&this.status===ht.CONNECTING)&&!(this.name===St.METAMASK&&!this.isInjected&&this.status===ht.CONNECTING)){if(this.status===ht.CONNECTING)throw ft.notReady("Already connecting");if(this.status===ht.CONNECTED)throw Ft.connectionError("Already connected");if(this.status!==ht.READY)throw Ft.connectionError("Wallet connector is not ready yet, Please wait for init function to resolve before calling connect/connectTo function")}}checkInitializationRequirements({chainConfig:e}){if(!this.coreOptions.clientId)throw ft.invalidParams("Please initialize Web3Auth with a valid clientId in constructor");if(!e)throw ft.invalidParams("chainConfig is required before initialization");if(!e.rpcTarget&&e.chainNamespace!==tn.OTHER)throw ft.invalidParams("rpcTarget is required in chainConfig");if(!e.chainId&&e.chainNamespace!==tn.OTHER)throw ft.invalidParams("chainID is required in chainConfig");if(this.connectorNamespace!==ql.MULTICHAIN&&this.connectorNamespace!==e.chainNamespace)throw ft.invalidParams("Connector doesn't support this chain namespace");if(this.status!==ht.NOT_READY){if(this.status===ht.CONNECTED)throw ft.notReady("Already connected");if(this.status===ht.READY)throw ft.notReady("Connector is already initialized")}}checkDisconnectionRequirements(){if(this.status!==ht.CONNECTED)throw Ft.disconnectionError("Not connected with wallet")}checkSwitchChainRequirements(e,n=!1){if(!n&&!this.provider)throw Ft.notConnectedError("Not connected with wallet.");if(!this.coreOptions.chains)throw ft.invalidParams("chainConfigs is required");if(!this.coreOptions.chains.some(i=>i.chainId===e.chainId&&(i.chainNamespace===this.connectorNamespace||this.connectorNamespace===ql.MULTICHAIN)))throw ft.invalidParams("Invalid chainId")}updateConnectorData(e){this.connectorData=e,this.emit(Et.CONNECTOR_DATA_UPDATED,{connectorName:this.name,data:e})}}class uJ extends KP{constructor(e){super(e),ke(this,"name",St.AUTH),ke(this,"connectorNamespace",ql.MULTICHAIN),ke(this,"type",Xa.IN_APP),ke(this,"authInstance",null),ke(this,"status",ht.NOT_READY),ke(this,"privateKeyProvider",null),ke(this,"authOptions",void 0),ke(this,"loginSettings",{authConnection:""}),ke(this,"wsSettings",void 0),ke(this,"wsEmbedInstance",null),ke(this,"authConnectionConfig",[]),ke(this,"wsEmbedInstancePromise",null),this.authOptions=e.connectorSettings,this.loginSettings=e.loginSettings||{authConnection:""},this.wsSettings=e.walletServicesSettings||{},this.authConnectionConfig=e.authConnectionConfig||[]}get provider(){if(this.status!==ht.NOT_READY){var e;if((e=this.wsEmbedInstance)!==null&&e!==void 0&&e.provider)return this.wsEmbedInstance.provider;if(this.privateKeyProvider)return this.privateKeyProvider}return null}get wsEmbed(){return this.wsEmbedInstance}set provider(e){throw new Error("Not implemented")}async init(e){const{chains:n}=this.coreOptions,{chainId:r}=e,i=n.find(a=>a.chainId===r);if(super.checkInitializationRequirements({chainConfig:i}),!this.coreOptions.clientId)throw ft.invalidParams("clientId is required before auth's initialization");if(!this.authOptions)throw ft.invalidParams("authOptions is required before auth's initialization");if(this.authConnectionConfig.length===0)throw ft.invalidParams("authConnectionConfig is required before auth's initialization");const o=this.authOptions.uxMode===Si.REDIRECT;this.authOptions=_e(_e({},this.authOptions),{},{replaceUrlOnRedirect:o,useCoreKitKey:this.coreOptions.useSFAKey}),this.authInstance=new fK(_e(_e({},this.authOptions),{},{clientId:this.coreOptions.clientId,network:this.coreOptions.web3AuthNetwork,sdkMode:oa.IFRAME,authConnectionConfig:this.authConnectionConfig.filter(a=>!a.isDefault),mfaSettings:this.coreOptions.mfaSettings})),ct.debug("initializing auth connector init",this.authOptions);const s=this.authInstance.init();if(this.coreOptions.privateKeyProvider)this.privateKeyProvider=this.coreOptions.privateKeyProvider;else switch(i.chainNamespace){case tn.EIP155:case tn.SOLANA:{const{default:a}=await In(async()=>{const{default:l}=await import("./index-Cl7VyQli.js");return{default:l}},[]);this.wsEmbedInstance=new a({web3AuthClientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,modalZIndex:this.wsSettings.modalZIndex});const c=n.filter(l=>l.chainNamespace===tn.EIP155||l.chainNamespace===tn.SOLANA);this.wsEmbedInstancePromise=this.wsEmbedInstance.init(_e(_e({},this.wsSettings),{},{chains:c,chainId:r,whiteLabel:_e(_e({},this.authOptions.whiteLabel),this.wsSettings.whiteLabel)})).then(()=>{this.wsEmbedInstancePromise=null});break}case tn.XRPL:throw Ft.connectionError("Private key provider is required for XRPL");default:{const{CommonPrivateKeyProvider:a}=await In(async()=>{const{CommonPrivateKeyProvider:c}=await import("./index-QI9KnOaS.js");return{CommonPrivateKeyProvider:c}},[]);this.privateKeyProvider=new a({config:{chain:i,chains:this.coreOptions.chains}})}}ct.debug("initializing auth connector"),await s,this.status=ht.READY,this.emit(Et.READY,St.AUTH);try{const{sessionId:a}=this.authInstance||{};if(a&&(e.autoConnect||o))this.rehydrated=!0,await this.connect({chainId:e.chainId});else if(!a&&e.autoConnect)throw Ft.connectionError("Failed to rehydrate")}catch(a){this.emit(Et.REHYDRATION_ERROR,a)}}async connect(e){super.checkConnectionRequirements(),this.status=ht.CONNECTING,this.emit(Et.CONNECTING,_e(_e({},e),{},{connector:St.AUTH}));try{return await this.connectWithProvider(e),this.provider}catch(r){var n;throw ct.error("Failed to connect with auth provider",r),this.status=ht.READY,this.emit(Et.ERRORED,r),r!=null&&(n=r.message)!==null&&n!==void 0&&n.includes("user closed popup")?Ft.popupClosed():r instanceof ls?r:Ft.connectionError("Failed to login with auth",r)}}async enableMFA(e={authConnection:""}){if(this.status!==ht.CONNECTED)throw Ft.notConnectedError("Not connected with wallet");if(!this.authInstance)throw ft.notReady("authInstance is not ready");try{const n=await this.authInstance.enableMFA(e);n&&this.emit(Et.MFA_ENABLED,n)}catch(n){throw ct.error("Failed to enable MFA with auth provider",n),n instanceof ls?n:Ft.connectionError("Failed to enable MFA with auth",n)}}async manageMFA(e={authConnection:""}){if(this.status!==ht.CONNECTED)throw Ft.notConnectedError("Not connected with wallet");if(!this.authInstance)throw ft.notReady("authInstance is not ready");try{await this.authInstance.manageMFA(e)}catch(n){throw ct.error("Failed to manage MFA with auth provider",n),n instanceof ls?n:Ft.connectionError("Failed to manage MFA with auth",n)}}async disconnect(e={cleanup:!1}){if(this.status!==ht.CONNECTED)throw Ft.notConnectedError("Not connected with wallet");if(!this.authInstance)throw ft.notReady("authInstance is not ready");this.status=ht.DISCONNECTING,await this.authInstance.logout(),this.wsEmbedInstance&&await this.wsEmbedInstance.logout(),e.cleanup?(this.status=ht.NOT_READY,this.authInstance=null,this.wsEmbedInstance&&(this.wsEmbedInstance=null),this.privateKeyProvider&&(this.privateKeyProvider=null)):this.status=ht.READY,this.rehydrated=!1,this.emit(Et.DISCONNECTED)}async getIdentityToken(){if(this.status!==ht.CONNECTED)throw Ft.notConnectedError("Not connected with wallet, Please login/connect first");return{idToken:(await this.getUserInfo()).idToken}}async getUserInfo(){if(this.status!==ht.CONNECTED)throw Ft.notConnectedError("Not connected with wallet");if(!this.authInstance)throw ft.notReady("authInstance is not ready");return this.authInstance.getUserInfo()}async switchChain(e,n=!1){super.checkSwitchChainRequirements(e,n);const{chainId:r}=e,{chainId:i}=this.provider,{chainNamespace:o}=this.getChain(i),{chainNamespace:s}=this.getChain(r);if(i!==r)if(o===tn.SOLANA||o===tn.EIP155){var a;if(s!==tn.SOLANA&&s!==tn.EIP155)throw Ft.connectionError("Cannot switch to other chain namespace");const l=`${s}:${Number(e.chainId)}`;await((a=this.wsEmbedInstance.provider)===null||a===void 0?void 0:a.request({method:"wallet_switchChain",params:{chainId:l}}))}else{var c;if(o!==s)throw Ft.connectionError("Cannot switch to other chain namespace");await((c=this.privateKeyProvider)===null||c===void 0?void 0:c.switchChain(e))}}async cleanup(){if(!this.authInstance)throw ft.notReady("authInstance is not ready");await this.authInstance.cleanup(),this.wsEmbedInstance&&this.wsEmbedInstance.clearInit()}getOAuthProviderConfig(e){const{authConnection:n,authConnectionId:r,groupedAuthConnectionId:i}=e;return this.authConnectionConfig.find(s=>i&&r?s.authConnection===n&&s.groupedAuthConnectionId===i&&s.authConnectionId===r:r?s.authConnection===n&&s.authConnectionId===r:s.authConnection===n&&s.isDefault)}getChain(e){return this.coreOptions.chains.find(n=>n.chainId===e)}_getFinalPrivKey(){if(!this.authInstance)return"";let e=this.authInstance.privKey;if(this.coreOptions.useSFAKey){if(this.authInstance.privKey&&!this.authInstance.coreKitKey)throw Ft.sfaKeyNotFound();e=this.authInstance.coreKitKey}return e}async connectWithProvider(e){var n,r;if(!this.authInstance)throw ft.notReady("authInstance is not ready");const i=this.coreOptions.chains.find(l=>l.chainId===e.chainId);if(!i)throw Ft.connectionError("Chain config is not available");const{chainNamespace:o}=i,s=o===tn.EIP155||o===tn.SOLANA?(n=this.authInstance)===null||n===void 0?void 0:n.sessionId:this._getFinalPrivKey();if(e.idToken&&(e.extraLoginOptions=_e(_e({},e.extraLoginOptions),{},{id_token:e.idToken})),!s||(r=e.extraLoginOptions)!==null&&r!==void 0&&r.id_token){var a;this.loginSettings.curve=Qq.OTHER;const l=Xn(this.loginSettings,e);(a=e.extraLoginOptions)!==null&&a!==void 0&&a.id_token?await this.connectWithJwtLogin(l):await this.connectWithSocialLogin(l)}if(o===tn.EIP155||o===tn.SOLANA){this.wsEmbedInstancePromise&&await this.wsEmbedInstancePromise;const{sessionId:l,sessionNamespace:u}=this.authInstance||{};if(l&&await this.wsEmbedInstance.loginWithSessionId({sessionId:l,sessionNamespace:u})){var c;this.status=ht.CONNECTED,this.emit(Et.CONNECTED,{connector:St.AUTH,reconnected:this.rehydrated,provider:this.provider}),(c=this.wsEmbedInstance)===null||c===void 0||c.provider.on("accountsChanged",(p=[])=>{p.length===0&&this.status===ht.CONNECTED&&this.disconnect({cleanup:!1})})}}else{const l=this._getFinalPrivKey();l&&(await this.privateKeyProvider.setupProvider(l,e.chainId),this.status=ht.CONNECTED,this.emit(Et.CONNECTED,{connector:St.AUTH,reconnected:this.rehydrated,provider:this.provider}))}}async connectWithSocialLogin(e){var n,r;const i=this.getOAuthProviderConfig({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});if(!(i!=null&&i.authConnection))throw Ft.connectionError("Invalid auth connection.");const o=_e(_e(_e({},i.jwtParameters||{}),e.extraLoginOptions||{}),{},{login_hint:e.loginHint||((n=e.extraLoginOptions)===null||n===void 0?void 0:n.login_hint)}),s=ZS(),a=Hu(e);a.extraLoginOptions=_e(_e({},a.extraLoginOptions||{}),{},{login_hint:e.loginHint||((r=e.extraLoginOptions)===null||r===void 0?void 0:r.login_hint)}),delete a.chainId;const c={authConnection:e.authConnection,authConnectionId:i.authConnectionId,clientId:i.clientId||o.client_id,groupedAuthConnectionId:i.groupedAuthConnectionId,redirect_uri:`${this.authInstance.options.sdkUrl}/auth`,jwtParams:o,customState:{nonce:s,appState:e.appState,dapp_redirect_url:this.authInstance.options.redirectUrl,uxMode:this.authInstance.options.uxMode,whiteLabel:JSON.stringify(this.authInstance.options.whiteLabel),loginParams:JSON.stringify(a),version:p_.split(".")[0],web3AuthNetwork:this.coreOptions.web3AuthNetwork,web3AuthClientId:this.coreOptions.clientId,originData:this.authInstance.options.originData?JSON.stringify(this.authInstance.options.originData):void 0},web3AuthClientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork},l=Jq(c),u=new Lw({url:l.finalURL,timeout:0});if(this.authOptions.uxMode===Si.REDIRECT)return u.redirect(this.authOptions.replaceUrlOnRedirect);let f=!1;return new Promise((p,m)=>{u.open().catch(y=>{ct.error("Error during login with social",y),this.authInstance.postLoginCancelledMessage(s),m(y)});const w=new RN({sameIpCheck:!0});w.subscribe(`web3auth-login-${s}`).then(y=>{const I=JSON.parse(y||"{}");return(I==null?void 0:I.message)==="login_finished"&&(I!=null&&I.error&&(this.authInstance.postLoginCancelledMessage(s),m(I.error)),f=!0,w.cleanup(),u.close()),!0}).catch(y=>{ct.error("Error during login with social",y)}),u.once("close",()=>{f||(w.cleanup(),this.authInstance.postLoginCancelledMessage(s),m(Ft.popupClosed()))}),this.authInstance.postLoginInitiatedMessage(a,s).then(p).catch(y=>{if(y instanceof ls)throw y;m(Ft.connectionError(y instanceof Error?y.message:y||"Failed to login with social"))})})}connectWithJwtLogin(e){var n,r;const i=this.getOAuthProviderConfig({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});if(!(i!=null&&i.authConnection)&&!e.authConnectionId)throw Ft.connectionError("Invalid auth connection.");i!=null&&i.authConnection||this.authInstance.options.authConnectionConfig.push({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});const o=Hu(e),s=_e(_e({},(i==null?void 0:i.jwtParameters)||{}),e.extraLoginOptions||{});let a;if(e.loginHint||(n=e.extraLoginOptions)!==null&&n!==void 0&&n.login_hint){var c;a=e.loginHint||((c=e.extraLoginOptions)===null||c===void 0?void 0:c.login_hint)}else if((r=e.extraLoginOptions)!==null&&r!==void 0&&r.id_token){const{payload:l}=cJ(e.extraLoginOptions.id_token);a=o0(l,o.authConnection,s.userIdField,s.isUserIdCaseSensitive)}else throw Ft.connectionError("Invalid login hint or id_token");return o.extraLoginOptions=_e(_e({},s),{},{login_hint:a}),delete o.chainId,this.authInstance.postLoginInitiatedMessage(o)}}const dJ=t=>({projectConfig:e,coreOptions:n})=>{var r,i,o,s;const a={},{whitelist:c,sessionTime:l}=e;c&&(a.originData=c.signed_urls),n.sessionTime?a.sessionTime=n.sessionTime:l&&(a.sessionTime=l),(r=n.uiConfig)!==null&&r!==void 0&&r.uxMode&&(a.uxMode=n.uiConfig.uxMode);const u=n.uiConfig||{};a.whiteLabel=u;const f=Xn.all([{uxMode:Si.POPUP,buildEnv:n.authBuildEnv||ao.PRODUCTION},a,{}]),p=Xn.all([u,((i=n.walletServicesConfig)===null||i===void 0?void 0:i.whiteLabel)||{}]),m=_e(_e({},n.walletServicesConfig),{},{whiteLabel:p,accountAbstractionConfig:n.accountAbstractionConfig,enableLogging:n.enableLogging}),w=(o=(s=n.walletServicesConfig)===null||s===void 0?void 0:s.enableKeyExport)!==null&&o!==void 0?o:!0;return n.privateKeyProvider&&n.privateKeyProvider.setKeyExportFlag(w),new uJ({connectorSettings:f,walletServicesSettings:m,loginSettings:_e(_e({},{}),{},{mfaLevel:n.mfaLevel}),coreOptions:n,authConnectionConfig:e.embeddedWalletAuth})};var Zm={exports:{}},GM;function fJ(){return GM||(GM=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof window<"u"&&window,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(s){var a=typeof o<"u"&&o||typeof self<"u"&&self||typeof window<"u"&&window||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(v){return v&&DataView.prototype.isPrototypeOf(v)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(v){return v&&u.indexOf(Object.prototype.toString.call(v))>-1};function p(v){if(typeof v!="string"&&(v=String(v)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(v)||v==="")throw new TypeError('Invalid character in header field name: "'+v+'"');return v.toLowerCase()}function m(v){return typeof v!="string"&&(v=String(v)),v}function w(v){var A={next:function(){var L=v.shift();return{done:L===void 0,value:L}}};return c.iterable&&(A[Symbol.iterator]=function(){return A}),A}function y(v){this.map={},v instanceof y?v.forEach(function(A,L){this.append(L,A)},this):Array.isArray(v)?v.forEach(function(A){if(A.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+A.length);this.append(A[0],A[1])},this):v&&Object.getOwnPropertyNames(v).forEach(function(A){this.append(A,v[A])},this)}y.prototype.append=function(v,A){v=p(v),A=m(A);var L=this.map[v];this.map[v]=L?L+", "+A:A},y.prototype.delete=function(v){delete this.map[p(v)]},y.prototype.get=function(v){return v=p(v),this.has(v)?this.map[v]:null},y.prototype.has=function(v){return this.map.hasOwnProperty(p(v))},y.prototype.set=function(v,A){this.map[p(v)]=m(A)},y.prototype.forEach=function(v,A){for(var L in this.map)this.map.hasOwnProperty(L)&&v.call(A,this.map[L],L,this)},y.prototype.keys=function(){var v=[];return this.forEach(function(A,L){v.push(L)}),w(v)},y.prototype.values=function(){var v=[];return this.forEach(function(A){v.push(A)}),w(v)},y.prototype.entries=function(){var v=[];return this.forEach(function(A,L){v.push([L,A])}),w(v)},c.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function I(v){if(!v._noBody){if(v.bodyUsed)return Promise.reject(new TypeError("Already read"));v.bodyUsed=!0}}function S(v){return new Promise(function(A,L){v.onload=function(){A(v.result)},v.onerror=function(){L(v.error)}})}function T(v){var A=new FileReader,L=S(A);return A.readAsArrayBuffer(v),L}function N(v){var A=new FileReader,L=S(A),C=/charset=([A-Za-z0-9_-]+)/.exec(v.type),O=C?C[1]:"utf-8";return A.readAsText(v,O),L}function z(v){for(var A=new Uint8Array(v),L=new Array(A.length),C=0;C<A.length;C++)L[C]=String.fromCharCode(A[C]);return L.join("")}function $(v){if(v.slice)return v.slice(0);var A=new Uint8Array(v.byteLength);return A.set(new Uint8Array(v)),A.buffer}function H(){return this.bodyUsed=!1,this._initBody=function(v){this.bodyUsed=this.bodyUsed,this._bodyInit=v,v?typeof v=="string"?this._bodyText=v:c.blob&&Blob.prototype.isPrototypeOf(v)?this._bodyBlob=v:c.formData&&FormData.prototype.isPrototypeOf(v)?this._bodyFormData=v:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)?this._bodyText=v.toString():c.arrayBuffer&&c.blob&&l(v)?(this._bodyArrayBuffer=$(v.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(v)||f(v))?this._bodyArrayBuffer=$(v):this._bodyText=v=Object.prototype.toString.call(v):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof v=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var v=I(this);if(v)return v;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var v=I(this);return v||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(T);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var v=I(this);if(v)return v;if(this._bodyBlob)return N(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(z(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(D)}),this.json=function(){return this.text().then(JSON.parse)},this}var K=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function j(v){var A=v.toUpperCase();return K.indexOf(A)>-1?A:v}function B(v,A){if(!(this instanceof B))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');A=A||{};var L=A.body;if(v instanceof B){if(v.bodyUsed)throw new TypeError("Already read");this.url=v.url,this.credentials=v.credentials,A.headers||(this.headers=new y(v.headers)),this.method=v.method,this.mode=v.mode,this.signal=v.signal,!L&&v._bodyInit!=null&&(L=v._bodyInit,v.bodyUsed=!0)}else this.url=String(v);if(this.credentials=A.credentials||this.credentials||"same-origin",(A.headers||!this.headers)&&(this.headers=new y(A.headers)),this.method=j(A.method||this.method||"GET"),this.mode=A.mode||this.mode||null,this.signal=A.signal||this.signal||function(){if("AbortController"in a){var x=new AbortController;return x.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&L)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(L),(this.method==="GET"||this.method==="HEAD")&&(A.cache==="no-store"||A.cache==="no-cache")){var C=/([?&])_=[^&]*/;if(C.test(this.url))this.url=this.url.replace(C,"$1_="+new Date().getTime());else{var O=/\?/;this.url+=(O.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}B.prototype.clone=function(){return new B(this,{body:this._bodyInit})};function D(v){var A=new FormData;return v.trim().split("&").forEach(function(L){if(L){var C=L.split("="),O=C.shift().replace(/\+/g," "),x=C.join("=").replace(/\+/g," ");A.append(decodeURIComponent(O),decodeURIComponent(x))}}),A}function P(v){var A=new y,L=v.replace(/\r?\n[\t ]+/g," ");return L.split("\r").map(function(C){return C.indexOf(`
`)===0?C.substr(1,C.length):C}).forEach(function(C){var O=C.split(":"),x=O.shift().trim();if(x){var R=O.join(":").trim();try{A.append(x,R)}catch(_){console.warn("Response "+_.message)}}}),A}H.call(B.prototype);function E(v,A){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(A||(A={}),this.type="default",this.status=A.status===void 0?200:A.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=A.statusText===void 0?"":""+A.statusText,this.headers=new y(A.headers),this.url=A.url||"",this._initBody(v)}H.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},E.error=function(){var v=new E(null,{status:200,statusText:""});return v.ok=!1,v.status=0,v.type="error",v};var b=[301,302,303,307,308];E.redirect=function(v,A){if(b.indexOf(A)===-1)throw new RangeError("Invalid status code");return new E(null,{status:A,headers:{location:v}})},s.DOMException=a.DOMException;try{new s.DOMException}catch{s.DOMException=function(A,L){this.message=A,this.name=L;var C=Error(A);this.stack=C.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function g(v,A){return new Promise(function(L,C){var O=new B(v,A);if(O.signal&&O.signal.aborted)return C(new s.DOMException("Aborted","AbortError"));var x=new XMLHttpRequest;function R(){x.abort()}x.onload=function(){var U={statusText:x.statusText,headers:P(x.getAllResponseHeaders()||"")};O.url.indexOf("file://")===0&&(x.status<200||x.status>599)?U.status=200:U.status=x.status,U.url="responseURL"in x?x.responseURL:U.headers.get("X-Request-URL");var q="response"in x?x.response:x.responseText;setTimeout(function(){L(new E(q,U))},0)},x.onerror=function(){setTimeout(function(){C(new TypeError("Network request failed"))},0)},x.ontimeout=function(){setTimeout(function(){C(new TypeError("Network request timed out"))},0)},x.onabort=function(){setTimeout(function(){C(new s.DOMException("Aborted","AbortError"))},0)};function _(U){try{return U===""&&a.location.href?a.location.href:U}catch{return U}}if(x.open(O.method,_(O.url),!0),O.credentials==="include"?x.withCredentials=!0:O.credentials==="omit"&&(x.withCredentials=!1),"responseType"in x&&(c.blob?x.responseType="blob":c.arrayBuffer&&(x.responseType="arraybuffer")),A&&typeof A.headers=="object"&&!(A.headers instanceof y||a.Headers&&A.headers instanceof a.Headers)){var k=[];Object.getOwnPropertyNames(A.headers).forEach(function(U){k.push(p(U)),x.setRequestHeader(U,m(A.headers[U]))}),O.headers.forEach(function(U,q){k.indexOf(q)===-1&&x.setRequestHeader(q,U)})}else O.headers.forEach(function(U,q){x.setRequestHeader(q,U)});O.signal&&(O.signal.addEventListener("abort",R),x.onreadystatechange=function(){x.readyState===4&&O.signal.removeEventListener("abort",R)}),x.send(typeof O._bodyInit>"u"?null:O._bodyInit)})}return g.polyfill=!0,a.fetch||(a.fetch=g,a.Headers=y,a.Request=B,a.Response=E),s.Headers=y,s.Request=B,s.Response=E,s.fetch=g,s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(Zm,Zm.exports)),Zm.exports}var hJ=fJ();const WP=si(hJ);var Xm={exports:{}},wE,YM;function pJ(){if(YM)return wE;YM=1;var t=1e3,e=t*60,n=e*60,r=n*24,i=r*7,o=r*365.25;wE=function(u,f){f=f||{};var p=typeof u;if(p==="string"&&u.length>0)return s(u);if(p==="number"&&isFinite(u))return f.long?c(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function s(u){if(u=String(u),!(u.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*o;case"weeks":case"week":case"w":return p*i;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*e;case"seconds":case"second":case"secs":case"sec":case"s":return p*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(u){var f=Math.abs(u);return f>=r?Math.round(u/r)+"d":f>=n?Math.round(u/n)+"h":f>=e?Math.round(u/e)+"m":f>=t?Math.round(u/t)+"s":u+"ms"}function c(u){var f=Math.abs(u);return f>=r?l(u,f,r,"day"):f>=n?l(u,f,n,"hour"):f>=e?l(u,f,e,"minute"):f>=t?l(u,f,t,"second"):u+" ms"}function l(u,f,p,m){var w=f>=p*1.5;return Math.round(u/p)+" "+m+(w?"s":"")}return wE}var bE,JM;function gJ(){if(JM)return bE;JM=1;function t(e){r.debug=r,r.default=r,r.coerce=l,r.disable=a,r.enable=o,r.enabled=c,r.humanize=pJ(),r.destroy=u,Object.keys(e).forEach(f=>{r[f]=e[f]}),r.names=[],r.skips=[],r.formatters={};function n(f){let p=0;for(let m=0;m<f.length;m++)p=(p<<5)-p+f.charCodeAt(m),p|=0;return r.colors[Math.abs(p)%r.colors.length]}r.selectColor=n;function r(f){let p,m=null,w,y;function I(...S){if(!I.enabled)return;const T=I,N=Number(new Date),z=N-(p||N);T.diff=z,T.prev=p,T.curr=N,p=N,S[0]=r.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let $=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(K,j)=>{if(K==="%%")return"%";$++;const B=r.formatters[j];if(typeof B=="function"){const D=S[$];K=B.call(T,D),S.splice($,1),$--}return K}),r.formatArgs.call(T,S),(T.log||r.log).apply(T,S)}return I.namespace=f,I.useColors=r.useColors(),I.color=r.selectColor(f),I.extend=i,I.destroy=r.destroy,Object.defineProperty(I,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(w!==r.namespaces&&(w=r.namespaces,y=r.enabled(f)),y),set:S=>{m=S}}),typeof r.init=="function"&&r.init(I),I}function i(f,p){const m=r(this.namespace+(typeof p>"u"?":":p)+f);return m.log=this.log,m}function o(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];const p=(typeof f=="string"?f:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const m of p)m[0]==="-"?r.skips.push(m.slice(1)):r.names.push(m)}function s(f,p){let m=0,w=0,y=-1,I=0;for(;m<f.length;)if(w<p.length&&(p[w]===f[m]||p[w]==="*"))p[w]==="*"?(y=w,I=m,w++):(m++,w++);else if(y!==-1)w=y+1,I++,m=I;else return!1;for(;w<p.length&&p[w]==="*";)w++;return w===p.length}function a(){const f=[...r.names,...r.skips.map(p=>"-"+p)].join(",");return r.enable(""),f}function c(f){for(const p of r.skips)if(s(f,p))return!1;for(const p of r.names)if(s(f,p))return!0;return!1}function l(f){return f instanceof Error?f.stack||f.message:f}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}return bE=t,bE}var ZM;function mJ(){return ZM||(ZM=1,function(t,e){var n={};e.formatArgs=i,e.save=o,e.load=s,e.useColors=r,e.storage=a(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let f=0,p=0;l[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(f++,m==="%c"&&(p=f))}),l.splice(p,0,u)}e.log=console.debug||console.log||(()=>{});function o(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function s(){let l;try{l=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=n.DEBUG),l}function a(){try{return localStorage}catch{}}t.exports=gJ()(e);const{formatters:c}=t.exports;c.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}(Xm,Xm.exports)),Xm.exports}var vJ=mJ();const Fi=si(vJ);var EE,XM;function yJ(){if(XM)return EE;XM=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,i=(B,D)=>{for(var P in D)t(B,P,{get:D[P],enumerable:!0})},o=(B,D,P,E)=>{if(D&&typeof D=="object"||typeof D=="function")for(let b of n(D))!r.call(B,b)&&b!==P&&t(B,b,{get:()=>D[b],enumerable:!(E=e(D,b))||E.enumerable});return B},s=B=>o(t({},"__esModule",{value:!0}),B),a={};i(a,{createFinalURL:()=>H,createPathBasedClient:()=>y,createQuerySerializer:()=>N,default:()=>f,defaultBodySerializer:()=>$,defaultPathSerializer:()=>z,mergeHeaders:()=>K,randomID:()=>u,removeTrailingSlash:()=>j,serializeArrayParam:()=>T,serializeObjectParam:()=>S,serializePrimitiveParam:()=>I,wrapAsPathBasedClient:()=>w}),EE=s(a);var c=/\{[^{}]+\}/g,l=()=>{var B,D;return typeof process=="object"&&Number.parseInt((D=(B=process==null?void 0:process.versions)==null?void 0:B.node)==null?void 0:D.substring(0,2))>=18&&process.versions.undici};function u(){return Math.random().toString(36).slice(2,11)}function f(B){let{baseUrl:D="",Request:P=globalThis.Request,fetch:E=globalThis.fetch,querySerializer:b,bodySerializer:g,headers:v,requestInitExt:A=void 0,...L}={...B};A=l()?A:void 0,D=j(D);const C=[];async function O(x,R){const{baseUrl:_,fetch:k=E,Request:U=P,headers:q,params:V={},parseAs:Q="json",querySerializer:Y,bodySerializer:X=g??$,body:ee,...ie}=R||{};let oe=D;_&&(oe=j(_)??D);let te=typeof b=="function"?b:N(b);Y&&(te=typeof Y=="function"?Y:N({...typeof b=="object"?b:{},...Y}));const se=ee===void 0?void 0:X(ee,K(v,q,V.header)),ue=K(se===void 0||se instanceof FormData?{}:{"Content-Type":"application/json"},v,q,V.header),me={redirect:"follow",...L,...ie,body:se,headers:ue};let ye,pe,de=new P(H(x,{baseUrl:oe,params:V,querySerializer:te}),me),Ee;for(const we in ie)we in de||(de[we]=ie[we]);if(C.length){ye=u(),pe=Object.freeze({baseUrl:oe,fetch:k,parseAs:Q,querySerializer:te,bodySerializer:X});for(const we of C)if(we&&typeof we=="object"&&typeof we.onRequest=="function"){const $e=await we.onRequest({request:de,schemaPath:x,params:V,options:pe,id:ye});if($e)if($e instanceof P)de=$e;else if($e instanceof Response){Ee=$e;break}else throw new Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!Ee){try{Ee=await k(de,A)}catch(we){let $e=we;if(C.length)for(let ze=C.length-1;ze>=0;ze--){const Ze=C[ze];if(Ze&&typeof Ze=="object"&&typeof Ze.onError=="function"){const We=await Ze.onError({request:de,error:$e,schemaPath:x,params:V,options:pe,id:ye});if(We){if(We instanceof Response){$e=void 0,Ee=We;break}if(We instanceof Error){$e=We;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if($e)throw $e}if(C.length)for(let we=C.length-1;we>=0;we--){const $e=C[we];if($e&&typeof $e=="object"&&typeof $e.onResponse=="function"){const ze=await $e.onResponse({request:de,response:Ee,schemaPath:x,params:V,options:pe,id:ye});if(ze){if(!(ze instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");Ee=ze}}}}if(Ee.status===204||de.method==="HEAD"||Ee.headers.get("Content-Length")==="0")return Ee.ok?{data:void 0,response:Ee}:{error:void 0,response:Ee};if(Ee.ok)return Q==="stream"?{data:Ee.body,response:Ee}:{data:await Ee[Q](),response:Ee};let Ce=await Ee.text();try{Ce=JSON.parse(Ce)}catch{}return{error:Ce,response:Ee}}return{request(x,R,_){return O(R,{..._,method:x.toUpperCase()})},GET(x,R){return O(x,{...R,method:"GET"})},PUT(x,R){return O(x,{...R,method:"PUT"})},POST(x,R){return O(x,{...R,method:"POST"})},DELETE(x,R){return O(x,{...R,method:"DELETE"})},OPTIONS(x,R){return O(x,{...R,method:"OPTIONS"})},HEAD(x,R){return O(x,{...R,method:"HEAD"})},PATCH(x,R){return O(x,{...R,method:"PATCH"})},TRACE(x,R){return O(x,{...R,method:"TRACE"})},use(...x){for(const R of x)if(R){if(typeof R!="object"||!("onRequest"in R||"onResponse"in R||"onError"in R))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");C.push(R)}},eject(...x){for(const R of x){const _=C.indexOf(R);_!==-1&&C.splice(_,1)}}}}var p=class{constructor(B,D){Pn(this,"GET",B=>this.client.GET(this.url,B));Pn(this,"PUT",B=>this.client.PUT(this.url,B));Pn(this,"POST",B=>this.client.POST(this.url,B));Pn(this,"DELETE",B=>this.client.DELETE(this.url,B));Pn(this,"OPTIONS",B=>this.client.OPTIONS(this.url,B));Pn(this,"HEAD",B=>this.client.HEAD(this.url,B));Pn(this,"PATCH",B=>this.client.PATCH(this.url,B));Pn(this,"TRACE",B=>this.client.TRACE(this.url,B));this.client=B,this.url=D}},m=class{constructor(){this.client=null}get(B,D){const P=new p(B,D);return this.client[D]=P,P}};function w(B){const D=new m,P=new Proxy(B,D);function E(){}E.prototype=P;const b=new E;return D.client=b,b}function y(B){return w(f(B))}function I(B,D,P){if(D==null)return"";if(typeof D=="object")throw new Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${B}=${(P==null?void 0:P.allowReserved)===!0?D:encodeURIComponent(D)}`}function S(B,D,P){if(!D||typeof D!="object")return"";const E=[],b={simple:",",label:".",matrix:";"}[P.style]||"&";if(P.style!=="deepObject"&&P.explode===!1){for(const A in D)E.push(A,P.allowReserved===!0?D[A]:encodeURIComponent(D[A]));const v=E.join(",");switch(P.style){case"form":return`${B}=${v}`;case"label":return`.${v}`;case"matrix":return`;${B}=${v}`;default:return v}}for(const v in D){const A=P.style==="deepObject"?`${B}[${v}]`:v;E.push(I(A,D[v],P))}const g=E.join(b);return P.style==="label"||P.style==="matrix"?`${b}${g}`:g}function T(B,D,P){if(!Array.isArray(D))return"";if(P.explode===!1){const g={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[P.style]||",",v=(P.allowReserved===!0?D:D.map(A=>encodeURIComponent(A))).join(g);switch(P.style){case"simple":return v;case"label":return`.${v}`;case"matrix":return`;${B}=${v}`;default:return`${B}=${v}`}}const E={simple:",",label:".",matrix:";"}[P.style]||"&",b=[];for(const g of D)P.style==="simple"||P.style==="label"?b.push(P.allowReserved===!0?g:encodeURIComponent(g)):b.push(I(B,g,P));return P.style==="label"||P.style==="matrix"?`${E}${b.join(E)}`:b.join(E)}function N(B){return function(P){const E=[];if(P&&typeof P=="object")for(const b in P){const g=P[b];if(g!=null){if(Array.isArray(g)){if(g.length===0)continue;E.push(T(b,g,{style:"form",explode:!0,...B==null?void 0:B.array,allowReserved:(B==null?void 0:B.allowReserved)||!1}));continue}if(typeof g=="object"){E.push(S(b,g,{style:"deepObject",explode:!0,...B==null?void 0:B.object,allowReserved:(B==null?void 0:B.allowReserved)||!1}));continue}E.push(I(b,g,B))}}return E.join("&")}}function z(B,D){let P=B;for(const E of B.match(c)??[]){let b=E.substring(1,E.length-1),g=!1,v="simple";if(b.endsWith("*")&&(g=!0,b=b.substring(0,b.length-1)),b.startsWith(".")?(v="label",b=b.substring(1)):b.startsWith(";")&&(v="matrix",b=b.substring(1)),!D||D[b]===void 0||D[b]===null)continue;const A=D[b];if(Array.isArray(A)){P=P.replace(E,T(b,A,{style:v,explode:g}));continue}if(typeof A=="object"){P=P.replace(E,S(b,A,{style:v,explode:g}));continue}if(v==="matrix"){P=P.replace(E,`;${I(b,A)}`);continue}P=P.replace(E,v==="label"?`.${encodeURIComponent(A)}`:encodeURIComponent(A))}return P}function $(B,D){return B instanceof FormData?B:D&&(D.get instanceof Function?D.get("Content-Type")??D.get("content-type"):D["Content-Type"]??D["content-type"])==="application/x-www-form-urlencoded"?new URLSearchParams(B).toString():JSON.stringify(B)}function H(B,D){var b;let P=`${D.baseUrl}${B}`;(b=D.params)!=null&&b.path&&(P=z(P,D.params.path));let E=D.querySerializer(D.params.query??{});return E.startsWith("?")&&(E=E.substring(1)),E&&(P+=`?${E}`),P}function K(...B){const D=new Headers;for(const P of B){if(!P||typeof P!="object")continue;const E=P instanceof Headers?P.entries():Object.entries(P);for(const[b,g]of E)if(g===null)D.delete(b);else if(Array.isArray(g))for(const v of g)D.append(b,v);else g!==void 0&&D.set(b,g)}return D}function j(B){return B.endsWith("/")?B.substring(0,B.length-1):B}return EE}var xE,QM;function wJ(){if(QM)return xE;QM=1;var t={},e=Object.create,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,a=(H,K)=>{for(var j in K)n(H,j,{get:K[j],enumerable:!0})},c=(H,K,j,B)=>{if(K&&typeof K=="object"||typeof K=="function")for(let D of i(K))!s.call(H,D)&&D!==j&&n(H,D,{get:()=>K[D],enumerable:!(B=r(K,D))||B.enumerable});return H},l=(H,K,j)=>(j=H!=null?e(o(H)):{},c(!H||!H.__esModule?n(j,"default",{value:H,enumerable:!0}):j,H)),u=H=>c(n({},"__esModule",{value:!0}),H),f={};a(f,{analytics:()=>$}),xE=u(f);var p=l(yJ()),m=class{constructor(H){this.batch=[],this.maxTimeoutMs=3e4,this.timeoutId=null,this.isSending=!1,this.batchSize=H.batchSize,this.baseTimeoutMs=H.baseTimeoutMs,this.currentTimeoutMs=H.baseTimeoutMs,this.sendFn=H.sendFn}enqueue(H){this.batch.push(H),this.schedule()}schedule(){this.batch.length>0&&!this.timeoutId&&(this.timeoutId=setTimeout(()=>{this.timeoutId=null,this.flush()},this.currentTimeoutMs))}async flush(){if(this.isSending||this.batch.length===0)return;this.isSending=!0;const H=[...this.batch.slice(0,this.batchSize)];this.batch=this.batch.slice(this.batchSize);try{await this.sendFn(H),this.currentTimeoutMs=this.baseTimeoutMs}catch(K){console.error("Sender: Failed to send batch",K),this.batch=[...H,...this.batch],this.currentTimeoutMs=Math.min(this.currentTimeoutMs*2,this.maxTimeoutMs)}finally{this.isSending=!1,this.schedule()}}},w=m,y=class{constructor(H){this.enabled=!1,this.properties={};const K=(0,p.default)({baseUrl:H}),j=async B=>{const D=await K.POST("/v1/events",{body:B});if(D.response.status!==200)throw new Error(D.error)};this.sender=new w({batchSize:100,baseTimeoutMs:200,sendFn:j})}enable(){this.enabled=!0}setGlobalProperty(H,K){this.properties[H]=K}track(H,K){if(!this.enabled)return;const j={name:H,...this.properties,...K};this.sender.enqueue(j)}},I=y,S,T;typeof process<"u"&&t&&(S=(T=t.METAMASK_ANALYTICS_ENDPOINT)!=null?T:t.NEXT_PUBLIC_METAMASK_ANALYTICS_ENDPOINT);var N=S??"https://mm-sdk-analytics.api.cx.metamask.io/",z=new I(N),$=z;return xE}var Er=wJ(),_E={exports:{}};/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */var e8;function bJ(){return e8||(e8=1,function(t,e){(function(n){var r=Object.hasOwnProperty,i=Array.isArray?Array.isArray:function(O){return Object.prototype.toString.call(O)==="[object Array]"},o=10,s=typeof process=="object"&&typeof process.nextTick=="function",a=typeof Symbol=="function",c=typeof Reflect=="object",l=typeof setImmediate=="function",u=l?setImmediate:setTimeout,f=a?c&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(C){var O=Object.getOwnPropertyNames(C);return O.push.apply(O,Object.getOwnPropertySymbols(C)),O}:Object.keys;function p(){this._events={},this._conf&&m.call(this,this._conf)}function m(C){C&&(this._conf=C,C.delimiter&&(this.delimiter=C.delimiter),C.maxListeners!==n&&(this._maxListeners=C.maxListeners),C.wildcard&&(this.wildcard=C.wildcard),C.newListener&&(this._newListener=C.newListener),C.removeListener&&(this._removeListener=C.removeListener),C.verboseMemoryLeak&&(this.verboseMemoryLeak=C.verboseMemoryLeak),C.ignoreErrors&&(this.ignoreErrors=C.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function w(C,O){var x="(node) warning: possible EventEmitter memory leak detected. "+C+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(x+=" Event name: "+O+"."),typeof process<"u"&&process.emitWarning){var R=new Error(x);R.name="MaxListenersExceededWarning",R.emitter=this,R.count=C,process.emitWarning(R)}else console.error(x),console.trace&&console.trace()}var y=function(C,O,x){var R=arguments.length;switch(R){case 0:return[];case 1:return[C];case 2:return[C,O];case 3:return[C,O,x];default:for(var _=new Array(R);R--;)_[R]=arguments[R];return _}};function I(C,O){for(var x={},R,_=C.length,k=0,U=0;U<_;U++)R=C[U],x[R]=U<k?O[U]:n;return x}function S(C,O,x){this._emitter=C,this._target=O,this._listeners={},this._listenersCount=0;var R,_;if((x.on||x.off)&&(R=x.on,_=x.off),O.addEventListener?(R=O.addEventListener,_=O.removeEventListener):O.addListener?(R=O.addListener,_=O.removeListener):O.on&&(R=O.on,_=O.off),!R&&!_)throw Error("target does not implement any known event API");if(typeof R!="function")throw TypeError("on method must be a function");if(typeof _!="function")throw TypeError("off method must be a function");this._on=R,this._off=_;var k=C._observers;k?k.push(this):C._observers=[this]}Object.assign(S.prototype,{subscribe:function(C,O,x){var R=this,_=this._target,k=this._emitter,U=this._listeners,q=function(){var V=y.apply(null,arguments),Q={data:V,name:O,original:C};if(x){var Y=x.call(_,Q);Y!==!1&&k.emit.apply(k,[Q.name].concat(V));return}k.emit.apply(k,[O].concat(V))};if(U[C])throw Error("Event '"+C+"' is already listening");this._listenersCount++,k._newListener&&k._removeListener&&!R._onNewListener?(this._onNewListener=function(V){V===O&&U[C]===null&&(U[C]=q,R._on.call(_,C,q))},k.on("newListener",this._onNewListener),this._onRemoveListener=function(V){V===O&&!k.hasListeners(V)&&U[C]&&(U[C]=null,R._off.call(_,C,q))},U[C]=null,k.on("removeListener",this._onRemoveListener)):(U[C]=q,R._on.call(_,C,q))},unsubscribe:function(C){var O=this,x=this._listeners,R=this._emitter,_,k,U=this._off,q=this._target,V;if(C&&typeof C!="string")throw TypeError("event must be a string");function Q(){O._onNewListener&&(R.off("newListener",O._onNewListener),R.off("removeListener",O._onRemoveListener),O._onNewListener=null,O._onRemoveListener=null);var Y=j.call(R,O);R._observers.splice(Y,1)}if(C){if(_=x[C],!_)return;U.call(q,C,_),delete x[C],--this._listenersCount||Q()}else{for(k=f(x),V=k.length;V-- >0;)C=k[V],U.call(q,C,x[C]);this._listeners={},this._listenersCount=0,Q()}}});function T(C,O,x,R){var _=Object.assign({},O);if(!C)return _;if(typeof C!="object")throw TypeError("options must be an object");var k=Object.keys(C),U=k.length,q,V,Q;function Y(ee){throw Error('Invalid "'+q+'" option value'+(ee?". Reason: "+ee:""))}for(var X=0;X<U;X++){if(q=k[X],!r.call(O,q))throw Error('Unknown "'+q+'" option');V=C[q],V!==n&&(Q=x[q],_[q]=Q?Q(V,Y):V)}return _}function N(C,O){return(typeof C!="function"||!C.hasOwnProperty("prototype"))&&O("value must be a constructor"),C}function z(C){var O="value must be type of "+C.join("|"),x=C.length,R=C[0],_=C[1];return x===1?function(k,U){if(typeof k===R)return k;U(O)}:x===2?function(k,U){var q=typeof k;if(q===R||q===_)return k;U(O)}:function(k,U){for(var q=typeof k,V=x;V-- >0;)if(q===C[V])return k;U(O)}}var $=z(["function"]),H=z(["object","function"]);function K(C,O,x){var R,_,k=0,U,q=new C(function(V,Q,Y){x=T(x,{timeout:0,overload:!1},{timeout:function(oe,te){return oe*=1,(typeof oe!="number"||oe<0||!Number.isFinite(oe))&&te("timeout must be a positive number"),oe}}),R=!x.overload&&typeof C.prototype.cancel=="function"&&typeof Y=="function";function X(){_&&(_=null),k&&(clearTimeout(k),k=0)}var ee=function(oe){X(),V(oe)},ie=function(oe){X(),Q(oe)};R?O(ee,ie,Y):(_=[function(oe){ie(oe||Error("canceled"))}],O(ee,ie,function(oe){if(U)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof oe!="function")throw TypeError("onCancel callback must be a function");_.push(oe)}),U=!0),x.timeout>0&&(k=setTimeout(function(){var oe=Error("timeout");oe.code="ETIMEDOUT",k=0,q.cancel(oe),Q(oe)},x.timeout))});return R||(q.cancel=function(V){if(_){for(var Q=_.length,Y=1;Y<Q;Y++)_[Y](V);_[0](V),_=null}}),q}function j(C){var O=this._observers;if(!O)return-1;for(var x=O.length,R=0;R<x;R++)if(O[R]._target===C)return R;return-1}function B(C,O,x,R,_){if(!x)return null;if(R===0){var k=typeof O;if(k==="string"){var U,q,V=0,Q=0,Y=this.delimiter,X=Y.length;if((q=O.indexOf(Y))!==-1){U=new Array(5);do U[V++]=O.slice(Q,q),Q=q+X;while((q=O.indexOf(Y,Q))!==-1);U[V++]=O.slice(Q),O=U,_=V}else O=[O],_=1}else k==="object"?_=O.length:(O=[O],_=1)}var ee=null,ie,oe,te,se,ue,me=O[R],ye=O[R+1],pe,de;if(R===_)x._listeners&&(typeof x._listeners=="function"?(C&&C.push(x._listeners),ee=[x]):(C&&C.push.apply(C,x._listeners),ee=[x]));else if(me==="*"){for(pe=f(x),q=pe.length;q-- >0;)ie=pe[q],ie!=="_listeners"&&(de=B(C,O,x[ie],R+1,_),de&&(ee?ee.push.apply(ee,de):ee=de));return ee}else if(me==="**"){for(ue=R+1===_||R+2===_&&ye==="*",ue&&x._listeners&&(ee=B(C,O,x,_,_)),pe=f(x),q=pe.length;q-- >0;)ie=pe[q],ie!=="_listeners"&&(ie==="*"||ie==="**"?(x[ie]._listeners&&!ue&&(de=B(C,O,x[ie],_,_),de&&(ee?ee.push.apply(ee,de):ee=de)),de=B(C,O,x[ie],R,_)):ie===ye?de=B(C,O,x[ie],R+2,_):de=B(C,O,x[ie],R,_),de&&(ee?ee.push.apply(ee,de):ee=de));return ee}else x[me]&&(ee=B(C,O,x[me],R+1,_));if(oe=x["*"],oe&&B(C,O,oe,R+1,_),te=x["**"],te)if(R<_)for(te._listeners&&B(C,O,te,_,_),pe=f(te),q=pe.length;q-- >0;)ie=pe[q],ie!=="_listeners"&&(ie===ye?B(C,O,te[ie],R+2,_):ie===me?B(C,O,te[ie],R+1,_):(se={},se[ie]=te[ie],B(C,O,{"**":se},R+1,_)));else te._listeners?B(C,O,te,_,_):te["*"]&&te["*"]._listeners&&B(C,O,te["*"],_,_);return ee}function D(C,O,x){var R=0,_=0,k,U=this.delimiter,q=U.length,V;if(typeof C=="string")if((k=C.indexOf(U))!==-1){V=new Array(5);do V[R++]=C.slice(_,k),_=k+q;while((k=C.indexOf(U,_))!==-1);V[R++]=C.slice(_)}else V=[C],R=1;else V=C,R=C.length;if(R>1){for(k=0;k+1<R;k++)if(V[k]==="**"&&V[k+1]==="**")return}var Q=this.listenerTree,Y;for(k=0;k<R;k++)if(Y=V[k],Q=Q[Y]||(Q[Y]={}),k===R-1)return Q._listeners?(typeof Q._listeners=="function"&&(Q._listeners=[Q._listeners]),x?Q._listeners.unshift(O):Q._listeners.push(O),!Q._listeners.warned&&this._maxListeners>0&&Q._listeners.length>this._maxListeners&&(Q._listeners.warned=!0,w.call(this,Q._listeners.length,Y))):Q._listeners=O,!0;return!0}function P(C,O,x,R){for(var _=f(C),k=_.length,U,q,V,Q=C._listeners,Y;k-- >0;)q=_[k],U=C[q],q==="_listeners"?V=x:V=x?x.concat(q):[q],Y=R||typeof q=="symbol",Q&&O.push(Y?V:V.join(this.delimiter)),typeof U=="object"&&P.call(this,U,O,V,Y);return O}function E(C){for(var O=f(C),x=O.length,R,_,k;x-- >0;)_=O[x],R=C[_],R&&(k=!0,_!=="_listeners"&&!E(R)&&delete C[_]);return k}function b(C,O,x){this.emitter=C,this.event=O,this.listener=x}b.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function g(C,O,x){if(x===!0)_=!0;else if(x===!1)R=!0;else{if(!x||typeof x!="object")throw TypeError("options should be an object or true");var R=x.async,_=x.promisify,k=x.nextTick,U=x.objectify}if(R||k||_){var q=O,V=O._origin||O;if(k&&!s)throw Error("process.nextTick is not supported");_===n&&(_=O.constructor.name==="AsyncFunction"),O=function(){var Q=arguments,Y=this,X=this.event;return _?k?Promise.resolve():new Promise(function(ee){u(ee)}).then(function(){return Y.event=X,q.apply(Y,Q)}):(k?process.nextTick:u)(function(){Y.event=X,q.apply(Y,Q)})},O._async=!0,O._origin=V}return[O,U?new b(this,C,O):this]}function v(C){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,m.call(this,C)}v.EventEmitter2=v,v.prototype.listenTo=function(C,O,x){if(typeof C!="object")throw TypeError("target musts be an object");var R=this;x=T(x,{on:n,off:n,reducers:n},{on:$,off:$,reducers:H});function _(k){if(typeof k!="object")throw TypeError("events must be an object");var U=x.reducers,q=j.call(R,C),V;q===-1?V=new S(R,C,x):V=R._observers[q];for(var Q=f(k),Y=Q.length,X,ee=typeof U=="function",ie=0;ie<Y;ie++)X=Q[ie],V.subscribe(X,k[X]||X,ee?U:U&&U[X])}return i(O)?_(I(O)):_(typeof O=="string"?I(O.split(/\s+/)):O),this},v.prototype.stopListeningTo=function(C,O){var x=this._observers;if(!x)return!1;var R=x.length,_,k=!1;if(C&&typeof C!="object")throw TypeError("target should be an object");for(;R-- >0;)_=x[R],(!C||_._target===C)&&(_.unsubscribe(O),k=!0);return k},v.prototype.delimiter=".",v.prototype.setMaxListeners=function(C){C!==n&&(this._maxListeners=C,this._conf||(this._conf={}),this._conf.maxListeners=C)},v.prototype.getMaxListeners=function(){return this._maxListeners},v.prototype.event="",v.prototype.once=function(C,O,x){return this._once(C,O,!1,x)},v.prototype.prependOnceListener=function(C,O,x){return this._once(C,O,!0,x)},v.prototype._once=function(C,O,x,R){return this._many(C,1,O,x,R)},v.prototype.many=function(C,O,x,R){return this._many(C,O,x,!1,R)},v.prototype.prependMany=function(C,O,x,R){return this._many(C,O,x,!0,R)},v.prototype._many=function(C,O,x,R,_){var k=this;if(typeof x!="function")throw new Error("many only accepts instances of Function");function U(){return--O===0&&k.off(C,U),x.apply(this,arguments)}return U._origin=x,this._on(C,U,R,_)},v.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||p.call(this);var C=arguments[0],O,x=this.wildcard,R,_,k,U,q;if(C==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(x&&(O=C,C!=="newListener"&&C!=="removeListener"&&typeof C=="object")){if(_=C.length,a){for(k=0;k<_;k++)if(typeof C[k]=="symbol"){q=!0;break}}q||(C=C.join(this.delimiter))}var V=arguments.length,Q;if(this._all&&this._all.length)for(Q=this._all.slice(),k=0,_=Q.length;k<_;k++)switch(this.event=C,V){case 1:Q[k].call(this,C);break;case 2:Q[k].call(this,C,arguments[1]);break;case 3:Q[k].call(this,C,arguments[1],arguments[2]);break;default:Q[k].apply(this,arguments)}if(x)Q=[],B.call(this,Q,O,this.listenerTree,0,_);else if(Q=this._events[C],typeof Q=="function"){switch(this.event=C,V){case 1:Q.call(this);break;case 2:Q.call(this,arguments[1]);break;case 3:Q.call(this,arguments[1],arguments[2]);break;default:for(R=new Array(V-1),U=1;U<V;U++)R[U-1]=arguments[U];Q.apply(this,R)}return!0}else Q&&(Q=Q.slice());if(Q&&Q.length){if(V>3)for(R=new Array(V-1),U=1;U<V;U++)R[U-1]=arguments[U];for(k=0,_=Q.length;k<_;k++)switch(this.event=C,V){case 1:Q[k].call(this);break;case 2:Q[k].call(this,arguments[1]);break;case 3:Q[k].call(this,arguments[1],arguments[2]);break;default:Q[k].apply(this,R)}return!0}else if(!this.ignoreErrors&&!this._all&&C==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},v.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||p.call(this);var C=arguments[0],O=this.wildcard,x,R,_,k,U,q;if(C==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(O&&(x=C,C!=="newListener"&&C!=="removeListener"&&typeof C=="object")){if(k=C.length,a){for(U=0;U<k;U++)if(typeof C[U]=="symbol"){R=!0;break}}R||(C=C.join(this.delimiter))}var V=[],Q=arguments.length,Y;if(this._all)for(U=0,k=this._all.length;U<k;U++)switch(this.event=C,Q){case 1:V.push(this._all[U].call(this,C));break;case 2:V.push(this._all[U].call(this,C,arguments[1]));break;case 3:V.push(this._all[U].call(this,C,arguments[1],arguments[2]));break;default:V.push(this._all[U].apply(this,arguments))}if(O?(Y=[],B.call(this,Y,x,this.listenerTree,0)):Y=this._events[C],typeof Y=="function")switch(this.event=C,Q){case 1:V.push(Y.call(this));break;case 2:V.push(Y.call(this,arguments[1]));break;case 3:V.push(Y.call(this,arguments[1],arguments[2]));break;default:for(_=new Array(Q-1),q=1;q<Q;q++)_[q-1]=arguments[q];V.push(Y.apply(this,_))}else if(Y&&Y.length){if(Y=Y.slice(),Q>3)for(_=new Array(Q-1),q=1;q<Q;q++)_[q-1]=arguments[q];for(U=0,k=Y.length;U<k;U++)switch(this.event=C,Q){case 1:V.push(Y[U].call(this));break;case 2:V.push(Y[U].call(this,arguments[1]));break;case 3:V.push(Y[U].call(this,arguments[1],arguments[2]));break;default:V.push(Y[U].apply(this,_))}}else if(!this.ignoreErrors&&!this._all&&C==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(V)},v.prototype.on=function(C,O,x){return this._on(C,O,!1,x)},v.prototype.prependListener=function(C,O,x){return this._on(C,O,!0,x)},v.prototype.onAny=function(C){return this._onAny(C,!1)},v.prototype.prependAny=function(C){return this._onAny(C,!0)},v.prototype.addListener=v.prototype.on,v.prototype._onAny=function(C,O){if(typeof C!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),O?this._all.unshift(C):this._all.push(C),this},v.prototype._on=function(C,O,x,R){if(typeof C=="function")return this._onAny(C,O),this;if(typeof O!="function")throw new Error("on only accepts instances of Function");this._events||p.call(this);var _=this,k;return R!==n&&(k=g.call(this,C,O,R),O=k[0],_=k[1]),this._newListener&&this.emit("newListener",C,O),this.wildcard?(D.call(this,C,O,x),_):(this._events[C]?(typeof this._events[C]=="function"&&(this._events[C]=[this._events[C]]),x?this._events[C].unshift(O):this._events[C].push(O),!this._events[C].warned&&this._maxListeners>0&&this._events[C].length>this._maxListeners&&(this._events[C].warned=!0,w.call(this,this._events[C].length,C))):this._events[C]=O,_)},v.prototype.off=function(C,O){if(typeof O!="function")throw new Error("removeListener only takes instances of Function");var x,R=[];if(this.wildcard){var _=typeof C=="string"?C.split(this.delimiter):C.slice();if(R=B.call(this,null,_,this.listenerTree,0),!R)return this}else{if(!this._events[C])return this;x=this._events[C],R.push({_listeners:x})}for(var k=0;k<R.length;k++){var U=R[k];if(x=U._listeners,i(x)){for(var q=-1,V=0,Q=x.length;V<Q;V++)if(x[V]===O||x[V].listener&&x[V].listener===O||x[V]._origin&&x[V]._origin===O){q=V;break}if(q<0)continue;return this.wildcard?U._listeners.splice(q,1):this._events[C].splice(q,1),x.length===0&&(this.wildcard?delete U._listeners:delete this._events[C]),this._removeListener&&this.emit("removeListener",C,O),this}else(x===O||x.listener&&x.listener===O||x._origin&&x._origin===O)&&(this.wildcard?delete U._listeners:delete this._events[C],this._removeListener&&this.emit("removeListener",C,O))}return this.listenerTree&&E(this.listenerTree),this},v.prototype.offAny=function(C){var O=0,x=0,R;if(C&&this._all&&this._all.length>0){for(R=this._all,O=0,x=R.length;O<x;O++)if(C===R[O])return R.splice(O,1),this._removeListener&&this.emit("removeListenerAny",C),this}else{if(R=this._all,this._removeListener)for(O=0,x=R.length;O<x;O++)this.emit("removeListenerAny",R[O]);this._all=[]}return this},v.prototype.removeListener=v.prototype.off,v.prototype.removeAllListeners=function(C){if(C===n)return!this._events||p.call(this),this;if(this.wildcard){var O=B.call(this,null,C,this.listenerTree,0),x,R;if(!O)return this;for(R=0;R<O.length;R++)x=O[R],x._listeners=null;this.listenerTree&&E(this.listenerTree)}else this._events&&(this._events[C]=null);return this},v.prototype.listeners=function(C){var O=this._events,x,R,_,k,U;if(C===n){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!O)return[];for(x=f(O),k=x.length,_=[];k-- >0;)R=O[x[k]],typeof R=="function"?_.push(R):_.push.apply(_,R);return _}else{if(this.wildcard){if(U=this.listenerTree,!U)return[];var q=[],V=typeof C=="string"?C.split(this.delimiter):C.slice();return B.call(this,q,V,U,0),q}return O?(R=O[C],R?typeof R=="function"?[R]:R:[]):[]}},v.prototype.eventNames=function(C){var O=this._events;return this.wildcard?P.call(this,this.listenerTree,[],null,C):O?f(O):[]},v.prototype.listenerCount=function(C){return this.listeners(C).length},v.prototype.hasListeners=function(C){if(this.wildcard){var O=[],x=typeof C=="string"?C.split(this.delimiter):C.slice();return B.call(this,O,x,this.listenerTree,0),O.length>0}var R=this._events,_=this._all;return!!(_&&_.length||R&&(C===n?f(R).length:R[C]))},v.prototype.listenersAny=function(){return this._all?this._all:[]},v.prototype.waitFor=function(C,O){var x=this,R=typeof O;return R==="number"?O={timeout:O}:R==="function"&&(O={filter:O}),O=T(O,{timeout:0,filter:n,handleError:!1,Promise,overload:!1},{filter:$,Promise:N}),K(O.Promise,function(_,k,U){function q(){var V=O.filter;if(!(V&&!V.apply(x,arguments)))if(x.off(C,q),O.handleError){var Q=arguments[0];Q?k(Q):_(y.apply(null,arguments).slice(1))}else _(y.apply(null,arguments))}U(function(){x.off(C,q)}),x._on(C,q,!1)},{timeout:O.timeout,overload:O.overload})};function A(C,O,x){x=T(x,{Promise,timeout:0,overload:!1},{Promise:N});var R=x.Promise;return K(R,function(_,k,U){var q;if(typeof C.addEventListener=="function"){q=function(){_(y.apply(null,arguments))},U(function(){C.removeEventListener(O,q)}),C.addEventListener(O,q,{once:!0});return}var V=function(){Q&&C.removeListener("error",Q),_(y.apply(null,arguments))},Q;O!=="error"&&(Q=function(Y){C.removeListener(O,V),k(Y)},C.once("error",Q)),U(function(){Q&&C.removeListener("error",Q),C.removeListener(O,V)}),C.once(O,V)},{timeout:x.timeout,overload:x.overload})}var L=v.prototype;Object.defineProperties(v,{defaultMaxListeners:{get:function(){return L._maxListeners},set:function(C){if(typeof C!="number"||C<0||Number.isNaN(C))throw TypeError("n must be a non-negative number");L._maxListeners=C},enumerable:!0},once:{value:A,writable:!0,configurable:!0}}),Object.defineProperties(L,{_maxListeners:{value:o,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),t.exports=v})()}(_E)),_E.exports}var Zw=bJ();const EJ=si(Zw);var Qm,xJ=new Uint8Array(16);function VP(){if(!Qm&&(Qm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Qm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Qm(xJ)}const _J=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function uh(t){return typeof t=="string"&&_J.test(t)}var Qr=[];for(var SE=0;SE<256;++SE)Qr.push((SE+256).toString(16).substr(1));function Xw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Qr[t[e+0]]+Qr[t[e+1]]+Qr[t[e+2]]+Qr[t[e+3]]+"-"+Qr[t[e+4]]+Qr[t[e+5]]+"-"+Qr[t[e+6]]+Qr[t[e+7]]+"-"+Qr[t[e+8]]+Qr[t[e+9]]+"-"+Qr[t[e+10]]+Qr[t[e+11]]+Qr[t[e+12]]+Qr[t[e+13]]+Qr[t[e+14]]+Qr[t[e+15]]).toLowerCase();if(!uh(n))throw TypeError("Stringified UUID is invalid");return n}var t8,CE,AE=0,IE=0;function SJ(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var o=t.node||t8,s=t.clockseq!==void 0?t.clockseq:CE;if(o==null||s==null){var a=t.random||(t.rng||VP)();o==null&&(o=t8=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),s==null&&(s=CE=(a[6]<<8|a[7])&16383)}var c=t.msecs!==void 0?t.msecs:Date.now(),l=t.nsecs!==void 0?t.nsecs:IE+1,u=c-AE+(l-IE)/1e4;if(u<0&&t.clockseq===void 0&&(s=s+1&16383),(u<0||c>AE)&&t.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");AE=c,IE=l,CE=s,c+=122192928e5;var f=((c&268435455)*1e4+l)%4294967296;i[r++]=f>>>24&255,i[r++]=f>>>16&255,i[r++]=f>>>8&255,i[r++]=f&255;var p=c/4294967296*1e4&268435455;i[r++]=p>>>8&255,i[r++]=p&255,i[r++]=p>>>24&15|16,i[r++]=p>>>16&255,i[r++]=s>>>8|128,i[r++]=s&255;for(var m=0;m<6;++m)i[r+m]=o[m];return e||Xw(i)}function GP(t){if(!uh(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function CJ(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var AJ="6ba7b810-9dad-11d1-80b4-00c04fd430c8",IJ="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function YP(t,e,n){function r(i,o,s,a){if(typeof i=="string"&&(i=CJ(i)),typeof o=="string"&&(o=GP(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(o),c.set(i,o.length),c=n(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,s){a=a||0;for(var l=0;l<16;++l)s[a+l]=c[l];return s}return Xw(c)}try{r.name=t}catch{}return r.DNS=AJ,r.URL=IJ,r}function kJ(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return MJ(RJ(OJ(t),t.length*8))}function MJ(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var o=t[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);e.push(s)}return e}function JP(t){return(t+64>>>9<<4)+14+1}function RJ(t,e){t[e>>5]|=128<<e%32,t[JP(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<t.length;s+=16){var a=n,c=r,l=i,u=o;n=gi(n,r,i,o,t[s],7,-680876936),o=gi(o,n,r,i,t[s+1],12,-389564586),i=gi(i,o,n,r,t[s+2],17,606105819),r=gi(r,i,o,n,t[s+3],22,-1044525330),n=gi(n,r,i,o,t[s+4],7,-176418897),o=gi(o,n,r,i,t[s+5],12,1200080426),i=gi(i,o,n,r,t[s+6],17,-1473231341),r=gi(r,i,o,n,t[s+7],22,-45705983),n=gi(n,r,i,o,t[s+8],7,1770035416),o=gi(o,n,r,i,t[s+9],12,-1958414417),i=gi(i,o,n,r,t[s+10],17,-42063),r=gi(r,i,o,n,t[s+11],22,-1990404162),n=gi(n,r,i,o,t[s+12],7,1804603682),o=gi(o,n,r,i,t[s+13],12,-40341101),i=gi(i,o,n,r,t[s+14],17,-1502002290),r=gi(r,i,o,n,t[s+15],22,1236535329),n=mi(n,r,i,o,t[s+1],5,-165796510),o=mi(o,n,r,i,t[s+6],9,-1069501632),i=mi(i,o,n,r,t[s+11],14,643717713),r=mi(r,i,o,n,t[s],20,-373897302),n=mi(n,r,i,o,t[s+5],5,-701558691),o=mi(o,n,r,i,t[s+10],9,38016083),i=mi(i,o,n,r,t[s+15],14,-660478335),r=mi(r,i,o,n,t[s+4],20,-405537848),n=mi(n,r,i,o,t[s+9],5,568446438),o=mi(o,n,r,i,t[s+14],9,-1019803690),i=mi(i,o,n,r,t[s+3],14,-187363961),r=mi(r,i,o,n,t[s+8],20,1163531501),n=mi(n,r,i,o,t[s+13],5,-1444681467),o=mi(o,n,r,i,t[s+2],9,-51403784),i=mi(i,o,n,r,t[s+7],14,1735328473),r=mi(r,i,o,n,t[s+12],20,-1926607734),n=vi(n,r,i,o,t[s+5],4,-378558),o=vi(o,n,r,i,t[s+8],11,-2022574463),i=vi(i,o,n,r,t[s+11],16,1839030562),r=vi(r,i,o,n,t[s+14],23,-35309556),n=vi(n,r,i,o,t[s+1],4,-1530992060),o=vi(o,n,r,i,t[s+4],11,1272893353),i=vi(i,o,n,r,t[s+7],16,-155497632),r=vi(r,i,o,n,t[s+10],23,-1094730640),n=vi(n,r,i,o,t[s+13],4,681279174),o=vi(o,n,r,i,t[s],11,-358537222),i=vi(i,o,n,r,t[s+3],16,-722521979),r=vi(r,i,o,n,t[s+6],23,76029189),n=vi(n,r,i,o,t[s+9],4,-640364487),o=vi(o,n,r,i,t[s+12],11,-421815835),i=vi(i,o,n,r,t[s+15],16,530742520),r=vi(r,i,o,n,t[s+2],23,-995338651),n=yi(n,r,i,o,t[s],6,-198630844),o=yi(o,n,r,i,t[s+7],10,1126891415),i=yi(i,o,n,r,t[s+14],15,-1416354905),r=yi(r,i,o,n,t[s+5],21,-57434055),n=yi(n,r,i,o,t[s+12],6,1700485571),o=yi(o,n,r,i,t[s+3],10,-1894986606),i=yi(i,o,n,r,t[s+10],15,-1051523),r=yi(r,i,o,n,t[s+1],21,-2054922799),n=yi(n,r,i,o,t[s+8],6,1873313359),o=yi(o,n,r,i,t[s+15],10,-30611744),i=yi(i,o,n,r,t[s+6],15,-1560198380),r=yi(r,i,o,n,t[s+13],21,1309151649),n=yi(n,r,i,o,t[s+4],6,-145523070),o=yi(o,n,r,i,t[s+11],10,-1120210379),i=yi(i,o,n,r,t[s+2],15,718787259),r=yi(r,i,o,n,t[s+9],21,-343485551),n=$l(n,a),r=$l(r,c),i=$l(i,l),o=$l(o,u)}return[n,r,i,o]}function OJ(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(JP(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function $l(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function TJ(t,e){return t<<e|t>>>32-e}function Qw(t,e,n,r,i,o){return $l(TJ($l($l(e,t),$l(r,o)),i),n)}function gi(t,e,n,r,i,o,s){return Qw(e&n|~e&r,t,e,i,o,s)}function mi(t,e,n,r,i,o,s){return Qw(e&r|n&~r,t,e,i,o,s)}function vi(t,e,n,r,i,o,s){return Qw(e^n^r,t,e,i,o,s)}function yi(t,e,n,r,i,o,s){return Qw(n^(e|~r),t,e,i,o,s)}var NJ=YP("v3",48,kJ);function dc(t,e,n){t=t||{};var r=t.random||(t.rng||VP)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Xw(r)}function PJ(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function kE(t,e){return t<<e|t>>>32-e}function LJ(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,s=Math.ceil(o/16),a=new Array(s),c=0;c<s;++c){for(var l=new Uint32Array(16),u=0;u<16;++u)l[u]=t[c*64+u*4]<<24|t[c*64+u*4+1]<<16|t[c*64+u*4+2]<<8|t[c*64+u*4+3];a[c]=l}a[s-1][14]=(t.length-1)*8/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=(t.length-1)*8&4294967295;for(var f=0;f<s;++f){for(var p=new Uint32Array(80),m=0;m<16;++m)p[m]=a[f][m];for(var w=16;w<80;++w)p[w]=kE(p[w-3]^p[w-8]^p[w-14]^p[w-16],1);for(var y=n[0],I=n[1],S=n[2],T=n[3],N=n[4],z=0;z<80;++z){var $=Math.floor(z/20),H=kE(y,5)+PJ($,I,S,T)+N+e[$]+p[z]>>>0;N=T,T=S,S=kE(I,30)>>>0,I=y,y=H}n[0]=n[0]+y>>>0,n[1]=n[1]+I>>>0,n[2]=n[2]+S>>>0,n[3]=n[3]+T>>>0,n[4]=n[4]+N>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var BJ=YP("v5",80,LJ);const DJ="00000000-0000-0000-0000-000000000000";function jJ(t){if(!uh(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const $J=Object.freeze(Object.defineProperty({__proto__:null,NIL:DJ,parse:GP,stringify:Xw,v1:SJ,v3:NJ,v4:dc,v5:BJ,validate:uh,version:jJ},Symbol.toStringTag,{value:"Module"}));function qe(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function a(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof n?u:new n(function(f){f(u)})).then(s,a)}c((r=r.apply(t,e||[])).next())})}var Ui=typeof window<"u"?window:typeof self<"u"?self:typeof window<"u"?window:{},pa=[],ns=[],FJ=typeof Uint8Array<"u"?Uint8Array:Array,NC=!1;function ZP(){NC=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0;e<64;++e)pa[e]=t[e],ns[t.charCodeAt(e)]=e;ns[45]=62,ns[95]=63}function UJ(t,e,n){for(var r,i,o=[],s=e;s<n;s+=3)r=(t[s]<<16)+(t[s+1]<<8)+t[s+2],o.push(pa[(i=r)>>18&63]+pa[i>>12&63]+pa[i>>6&63]+pa[63&i]);return o.join("")}function n8(t){var e;NC||ZP();for(var n=t.length,r=n%3,i="",o=[],s=16383,a=0,c=n-r;a<c;a+=s)o.push(UJ(t,a,a+s>c?c:a+s));return r===1?(e=t[n-1],i+=pa[e>>2],i+=pa[e<<4&63],i+="=="):r===2&&(e=(t[n-2]<<8)+t[n-1],i+=pa[e>>10],i+=pa[e>>4&63],i+=pa[e<<2&63],i+="="),o.push(i),o.join("")}function ev(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,l=c>>1,u=-7,f=n?i-1:0,p=n?-1:1,m=t[e+f];for(f+=p,o=m&(1<<-u)-1,m>>=-u,u+=a;u>0;o=256*o+t[e+f],f+=p,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+t[e+f],f+=p,u-=8);if(o===0)o=1-l;else{if(o===c)return s?NaN:1/0*(m?-1:1);s+=Math.pow(2,r),o-=l}return(m?-1:1)*s*Math.pow(2,o-r)}function XP(t,e,n,r,i,o){var s,a,c,l=8*o-i-1,u=(1<<l)-1,f=u>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:o-1,w=r?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+f>=1?p/c:p*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=u?(a=0,s=u):s+f>=1?(a=(e*c-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[n+m]=255&a,m+=w,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+m]=255&s,m+=w,s/=256,l-=8);t[n+m-w]|=128*y}var zJ={}.toString,QP=Array.isArray||function(t){return zJ.call(t)=="[object Array]"};Ke.TYPED_ARRAY_SUPPORT=Ui.TYPED_ARRAY_SUPPORT===void 0||Ui.TYPED_ARRAY_SUPPORT;var qJ=Iy();function Iy(){return Ke.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function gc(t,e){if(Iy()<e)throw new RangeError("Invalid typed array length");return Ke.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Ke.prototype:(t===null&&(t=new Ke(e)),t.length=e),t}function Ke(t,e,n){if(!(Ke.TYPED_ARRAY_SUPPORT||this instanceof Ke))return new Ke(t,e,n);if(typeof t=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return N_(this,t)}return eL(this,t,e,n)}function eL(t,e,n,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?function(i,o,s,a){if(o.byteLength,s<0||o.byteLength<s)throw new RangeError("'offset' is out of bounds");if(o.byteLength<s+(a||0))throw new RangeError("'length' is out of bounds");return o=s===void 0&&a===void 0?new Uint8Array(o):a===void 0?new Uint8Array(o,s):new Uint8Array(o,s,a),Ke.TYPED_ARRAY_SUPPORT?(i=o).__proto__=Ke.prototype:i=ME(i,o),i}(t,e,n,r):typeof e=="string"?function(i,o,s){if(typeof s=="string"&&s!==""||(s="utf8"),!Ke.isEncoding(s))throw new TypeError('"encoding" must be a valid string encoding');var a=0|nL(o,s);i=gc(i,a);var c=i.write(o,s);return c!==a&&(i=i.slice(0,c)),i}(t,e,n):function(i,o){if(ga(o)){var s=0|PC(o.length);return(i=gc(i,s)).length===0||o.copy(i,0,0,s),i}if(o){if(typeof ArrayBuffer<"u"&&o.buffer instanceof ArrayBuffer||"length"in o)return typeof o.length!="number"||(a=o.length)!=a?gc(i,0):ME(i,o);if(o.type==="Buffer"&&QP(o.data))return ME(i,o.data)}var a;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function tL(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function N_(t,e){if(tL(e),t=gc(t,e<0?0:0|PC(e)),!Ke.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function ME(t,e){var n=e.length<0?0:0|PC(e.length);t=gc(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function PC(t){if(t>=Iy())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Iy().toString(16)+" bytes");return 0|t}function ga(t){return!(t==null||!t._isBuffer)}function nL(t,e){if(ga(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var n=t.length;if(n===0)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return ky(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return sL(t).length;default:if(r)return ky(t).length;e=(""+e).toLowerCase(),r=!0}}function HJ(t,e,n){var r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return QJ(this,e,n);case"utf8":case"utf-8":return iL(this,e,n);case"ascii":return ZJ(this,e,n);case"latin1":case"binary":return XJ(this,e,n);case"base64":return JJ(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return eZ(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function Pu(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function r8(t,e,n,r,i){if(t.length===0)return-1;if(typeof n=="string"?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if(typeof e=="string"&&(e=Ke.from(e,r)),ga(e))return e.length===0?-1:i8(t,e,n,r,i);if(typeof e=="number")return e&=255,Ke.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):i8(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function i8(t,e,n,r,i){var o,s=1,a=t.length,c=e.length;if(r!==void 0&&((r=String(r).toLowerCase())==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function l(m,w){return s===1?m[w]:m.readUInt16BE(w*s)}if(i){var u=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,u===-1?0:o-u)){if(u===-1&&(u=o),o-u+1===c)return u*s}else u!==-1&&(o-=o-u),u=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var f=!0,p=0;p<c;p++)if(l(t,o+p)!==l(e,p)){f=!1;break}if(f)return o}return-1}function KJ(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function WJ(t,e,n,r){return e1(ky(e,t.length-n),t,n,r)}function rL(t,e,n,r){return e1(function(i){for(var o=[],s=0;s<i.length;++s)o.push(255&i.charCodeAt(s));return o}(e),t,n,r)}function VJ(t,e,n,r){return rL(t,e,n,r)}function GJ(t,e,n,r){return e1(sL(e),t,n,r)}function YJ(t,e,n,r){return e1(function(i,o){for(var s,a,c,l=[],u=0;u<i.length&&!((o-=2)<0);++u)a=(s=i.charCodeAt(u))>>8,c=s%256,l.push(c),l.push(a);return l}(e,t.length-n),t,n,r)}function JJ(t,e,n){return e===0&&n===t.length?n8(t):n8(t.slice(e,n))}function iL(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,c,l=t[i],u=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=n)switch(f){case 1:l<128&&(u=l);break;case 2:(192&(o=t[i+1]))==128&&(c=(31&l)<<6|63&o)>127&&(u=c);break;case 3:o=t[i+1],s=t[i+2],(192&o)==128&&(192&s)==128&&(c=(15&l)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(c=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(u=c)}u===null?(u=65533,f=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=f}return function(p){var m=p.length;if(m<=o8)return String.fromCharCode.apply(String,p);for(var w="",y=0;y<m;)w+=String.fromCharCode.apply(String,p.slice(y,y+=o8));return w}(r)}Ke.poolSize=8192,Ke._augment=function(t){return t.__proto__=Ke.prototype,t},Ke.from=function(t,e,n){return eL(null,t,e,n)},Ke.TYPED_ARRAY_SUPPORT&&(Ke.prototype.__proto__=Uint8Array.prototype,Ke.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Ke[Symbol.species]),Ke.alloc=function(t,e,n){return function(r,i,o,s){return tL(i),i<=0?gc(r,i):o!==void 0?typeof s=="string"?gc(r,i).fill(o,s):gc(r,i).fill(o):gc(r,i)}(null,t,e,n)},Ke.allocUnsafe=function(t){return N_(null,t)},Ke.allocUnsafeSlow=function(t){return N_(null,t)},Ke.isBuffer=aL,Ke.compare=function(t,e){if(!ga(t)||!ga(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},Ke.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Ke.concat=function(t,e){if(!QP(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return Ke.alloc(0);var n;if(e===void 0)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=Ke.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(!ga(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},Ke.byteLength=nL,Ke.prototype._isBuffer=!0,Ke.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)Pu(this,e,e+1);return this},Ke.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)Pu(this,e,e+3),Pu(this,e+1,e+2);return this},Ke.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)Pu(this,e,e+7),Pu(this,e+1,e+6),Pu(this,e+2,e+5),Pu(this,e+3,e+4);return this},Ke.prototype.toString=function(){var t=0|this.length;return t===0?"":arguments.length===0?iL(this,0,t):HJ.apply(this,arguments)},Ke.prototype.equals=function(t){if(!ga(t))throw new TypeError("Argument must be a Buffer");return this===t||Ke.compare(this,t)===0},Ke.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},Ke.prototype.compare=function(t,e,n,r,i){if(!ga(t))throw new TypeError("Argument must be a Buffer");if(e===void 0&&(e=0),n===void 0&&(n=t?t.length:0),r===void 0&&(r=0),i===void 0&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),c=this.slice(r,i),l=t.slice(e,n),u=0;u<a;++u)if(c[u]!==l[u]){o=c[u],s=l[u];break}return o<s?-1:s<o?1:0},Ke.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},Ke.prototype.indexOf=function(t,e,n){return r8(this,t,e,n,!0)},Ke.prototype.lastIndexOf=function(t,e,n){return r8(this,t,e,n,!1)},Ke.prototype.write=function(t,e,n,r){if(e===void 0)r="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,r===void 0&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((n===void 0||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return KJ(this,t,e,n);case"utf8":case"utf-8":return WJ(this,t,e,n);case"ascii":return rL(this,t,e,n);case"latin1":case"binary":return VJ(this,t,e,n);case"base64":return GJ(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return YJ(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},Ke.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var o8=4096;function ZJ(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function XJ(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function QJ(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=nZ(t[o]);return i}function eZ(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function Fr(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function eo(t,e,n,r,i,o){if(!ga(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function tv(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function nv(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function oL(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function s8(t,e,n,r,i){return i||oL(t,0,n,4),XP(t,e,n,r,23,4),n+4}function a8(t,e,n,r,i){return i||oL(t,0,n,8),XP(t,e,n,r,52,8),n+8}Ke.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=e===void 0?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),Ke.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=Ke.prototype;else{var i=e-t;n=new Ke(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},Ke.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||Fr(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},Ke.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||Fr(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},Ke.prototype.readUInt8=function(t,e){return e||Fr(t,1,this.length),this[t]},Ke.prototype.readUInt16LE=function(t,e){return e||Fr(t,2,this.length),this[t]|this[t+1]<<8},Ke.prototype.readUInt16BE=function(t,e){return e||Fr(t,2,this.length),this[t]<<8|this[t+1]},Ke.prototype.readUInt32LE=function(t,e){return e||Fr(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Ke.prototype.readUInt32BE=function(t,e){return e||Fr(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Ke.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||Fr(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},Ke.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||Fr(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},Ke.prototype.readInt8=function(t,e){return e||Fr(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Ke.prototype.readInt16LE=function(t,e){e||Fr(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},Ke.prototype.readInt16BE=function(t,e){e||Fr(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},Ke.prototype.readInt32LE=function(t,e){return e||Fr(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Ke.prototype.readInt32BE=function(t,e){return e||Fr(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Ke.prototype.readFloatLE=function(t,e){return e||Fr(t,4,this.length),ev(this,t,!0,23,4)},Ke.prototype.readFloatBE=function(t,e){return e||Fr(t,4,this.length),ev(this,t,!1,23,4)},Ke.prototype.readDoubleLE=function(t,e){return e||Fr(t,8,this.length),ev(this,t,!0,52,8)},Ke.prototype.readDoubleBE=function(t,e){return e||Fr(t,8,this.length),ev(this,t,!1,52,8)},Ke.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||eo(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},Ke.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||eo(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},Ke.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||eo(this,t,e,1,255,0),Ke.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Ke.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||eo(this,t,e,2,65535,0),Ke.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):tv(this,t,e,!0),e+2},Ke.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||eo(this,t,e,2,65535,0),Ke.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):tv(this,t,e,!1),e+2},Ke.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||eo(this,t,e,4,4294967295,0),Ke.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):nv(this,t,e,!0),e+4},Ke.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||eo(this,t,e,4,4294967295,0),Ke.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):nv(this,t,e,!1),e+4},Ke.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);eo(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&a===0&&this[e+o-1]!==0&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},Ke.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);eo(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&a===0&&this[e+o+1]!==0&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},Ke.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||eo(this,t,e,1,127,-128),Ke.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Ke.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||eo(this,t,e,2,32767,-32768),Ke.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):tv(this,t,e,!0),e+2},Ke.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||eo(this,t,e,2,32767,-32768),Ke.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):tv(this,t,e,!1),e+2},Ke.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||eo(this,t,e,4,2147483647,-2147483648),Ke.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):nv(this,t,e,!0),e+4},Ke.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||eo(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Ke.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):nv(this,t,e,!1),e+4},Ke.prototype.writeFloatLE=function(t,e,n){return s8(this,t,e,!0,n)},Ke.prototype.writeFloatBE=function(t,e,n){return s8(this,t,e,!1,n)},Ke.prototype.writeDoubleLE=function(t,e,n){return a8(this,t,e,!0,n)},Ke.prototype.writeDoubleBE=function(t,e,n){return a8(this,t,e,!1,n)},Ke.prototype.copy=function(t,e,n,r){if(n||(n=0),r||r===0||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!Ke.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},Ke.prototype.fill=function(t,e,n,r){if(typeof t=="string"){if(typeof e=="string"?(r=e,e=0,n=this.length):typeof n=="string"&&(r=n,n=this.length),t.length===1){var i=t.charCodeAt(0);i<256&&(t=i)}if(r!==void 0&&typeof r!="string")throw new TypeError("encoding must be a string");if(typeof r=="string"&&!Ke.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else typeof t=="number"&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=n===void 0?this.length:n>>>0,t||(t=0),typeof t=="number")for(o=e;o<n;++o)this[o]=t;else{var s=ga(t)?t:ky(new Ke(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var tZ=/[^+\/0-9A-Za-z-_]/g;function nZ(t){return t<16?"0"+t.toString(16):t.toString(16)}function ky(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function sL(t){return function(e){var n,r,i,o,s,a;NC||ZP();var c=e.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s=e[c-2]==="="?2:e[c-1]==="="?1:0,a=new FJ(3*c/4-s),i=s>0?c-4:c;var l=0;for(n=0,r=0;n<i;n+=4,r+=3)o=ns[e.charCodeAt(n)]<<18|ns[e.charCodeAt(n+1)]<<12|ns[e.charCodeAt(n+2)]<<6|ns[e.charCodeAt(n+3)],a[l++]=o>>16&255,a[l++]=o>>8&255,a[l++]=255&o;return s===2?(o=ns[e.charCodeAt(n)]<<2|ns[e.charCodeAt(n+1)]>>4,a[l++]=255&o):s===1&&(o=ns[e.charCodeAt(n)]<<10|ns[e.charCodeAt(n+1)]<<4|ns[e.charCodeAt(n+2)]>>2,a[l++]=o>>8&255,a[l++]=255&o),a}(function(e){if((e=function(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}(e).replace(tZ,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(t))}function e1(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function aL(t){return t!=null&&(!!t._isBuffer||c8(t)||function(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&c8(e.slice(0,0))}(t))}function c8(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var rZ=Object.freeze({__proto__:null,Buffer:Ke,INSPECT_MAX_BYTES:50,SlowBuffer:function(t){return+t!=t&&(t=0),Ke.alloc(+t)},isBuffer:aL,kMaxLength:qJ}),us=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function t1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function cg(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Cf={},Lo={},Ai={};function My(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function cL(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function lL(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function LC(t,...e){if(!lL(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function uL(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("hash must be wrapped by utils.wrapConstructor");My(t.outputLen),My(t.blockLen)}function dL(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function fL(t,e){LC(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.isBytes=lL,Ai.number=My,Ai.bool=cL,Ai.bytes=LC,Ai.hash=uL,Ai.exists=dL,Ai.output=fL;const iZ={number:My,bool:cL,bytes:LC,hash:uL,exists:dL,output:fL};Ai.default=iZ,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.wrapCipher=t.Hash=t.nextTick=t.isLE=t.createView=t.u32=t.u16=t.u8=void 0,t.bytesToHex=r,t.hexToBytes=s,t.hexToNumber=a,t.bytesToNumberBE=function(f){return a(r(f))},t.numberToBytesBE=function(f,p){return s(f.toString(16).padStart(2*p,"0"))},t.asyncLoop=async function(f,p,m){let w=Date.now();for(let y=0;y<f;y++){m(y);const I=Date.now()-w;I>=0&&I<p||(await(0,t.nextTick)(),w+=I)}},t.utf8ToBytes=c,t.bytesToUtf8=function(f){return new TextDecoder().decode(f)},t.toBytes=function(f){if(typeof f=="string")f=c(f);else{if(!(0,e.isBytes)(f))throw new Error("Uint8Array expected, got "+typeof f);f=u(f)}return f},t.concatBytes=function(...f){let p=0;for(let w=0;w<f.length;w++){const y=f[w];(0,e.bytes)(y),p+=y.length}const m=new Uint8Array(p);for(let w=0,y=0;w<f.length;w++){const I=f[w];m.set(I,y),y+=I.length}return m},t.checkOpts=function(f,p){if(p==null||typeof p!="object")throw new Error("options must be defined");return Object.assign(f,p)},t.equalBytes=function(f,p){if(f.length!==p.length)return!1;let m=0;for(let w=0;w<f.length;w++)m|=f[w]^p[w];return m===0},t.setBigUint64=l,t.u64Lengths=function(f,p){const m=new Uint8Array(16),w=(0,t.createView)(m);return l(w,0,BigInt(p?p.length:0),!0),l(w,8,BigInt(f.length),!0),m},t.isAligned32=function(f){return f.byteOffset%4==0},t.copyBytes=u,t.clean=function(...f){for(let p=0;p<f.length;p++)f[p].fill(0)};const e=Ai;if(t.u8=f=>new Uint8Array(f.buffer,f.byteOffset,f.byteLength),t.u16=f=>new Uint16Array(f.buffer,f.byteOffset,Math.floor(f.byteLength/2)),t.u32=f=>new Uint32Array(f.buffer,f.byteOffset,Math.floor(f.byteLength/4)),t.createView=f=>new DataView(f.buffer,f.byteOffset,f.byteLength),t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const n=Array.from({length:256},(f,p)=>p.toString(16).padStart(2,"0"));function r(f){(0,e.bytes)(f);let p="";for(let m=0;m<f.length;m++)p+=n[f[m]];return p}const i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function o(f){return f>=i._0&&f<=i._9?f-i._0:f>=i._A&&f<=i._F?f-(i._A-10):f>=i._a&&f<=i._f?f-(i._a-10):void 0}function s(f){if(typeof f!="string")throw new Error("hex string expected, got "+typeof f);const p=f.length,m=p/2;if(p%2)throw new Error("padded hex string expected, got unpadded hex of length "+p);const w=new Uint8Array(m);for(let y=0,I=0;y<m;y++,I+=2){const S=o(f.charCodeAt(I)),T=o(f.charCodeAt(I+1));if(S===void 0||T===void 0){const N=f[I]+f[I+1];throw new Error('hex string expected, got non-hex character "'+N+'" at index '+I)}w[y]=16*S+T}return w}function a(f){if(typeof f!="string")throw new Error("hex string expected, got "+typeof f);return BigInt(f===""?"0":`0x${f}`)}function c(f){if(typeof f!="string")throw new Error("string expected, got "+typeof f);return new Uint8Array(new TextEncoder().encode(f))}t.nextTick=async()=>{},t.Hash=class{};function l(f,p,m,w){if(typeof f.setBigUint64=="function")return f.setBigUint64(p,m,w);const y=BigInt(32),I=BigInt(4294967295),S=Number(m>>y&I),T=Number(m&I),N=w?4:0,z=w?0:4;f.setUint32(p+N,S,w),f.setUint32(p+z,T,w)}function u(f){return Uint8Array.from(f)}t.wrapCipher=(f,p)=>(Object.assign(p,f),p)}(Lo);var u0={},Ur={};Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.AEAD_TAG_LENGTH=Ur.XCHACHA20_NONCE_LENGTH=Ur.CURVE25519_PUBLIC_KEY_SIZE=Ur.ETH_PUBLIC_KEY_SIZE=Ur.UNCOMPRESSED_PUBLIC_KEY_SIZE=Ur.COMPRESSED_PUBLIC_KEY_SIZE=Ur.SECRET_KEY_LENGTH=void 0,Ur.SECRET_KEY_LENGTH=32,Ur.COMPRESSED_PUBLIC_KEY_SIZE=33,Ur.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,Ur.ETH_PUBLIC_KEY_SIZE=64,Ur.CURVE25519_PUBLIC_KEY_SIZE=32,Ur.XCHACHA20_NONCE_LENGTH=24,Ur.AEAD_TAG_LENGTH=16,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ephemeralKeySize=t.symmetricNonceLength=t.symmetricAlgorithm=t.isHkdfKeyCompressed=t.isEphemeralKeyCompressed=t.ellipticCurve=t.ECIES_CONFIG=void 0;var e=Ur,n=function(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16};t.ECIES_CONFIG=new n,t.ellipticCurve=function(){return t.ECIES_CONFIG.ellipticCurve},t.isEphemeralKeyCompressed=function(){return t.ECIES_CONFIG.isEphemeralKeyCompressed},t.isHkdfKeyCompressed=function(){return t.ECIES_CONFIG.isHkdfKeyCompressed},t.symmetricAlgorithm=function(){return t.ECIES_CONFIG.symmetricAlgorithm},t.symmetricNonceLength=function(){return t.ECIES_CONFIG.symmetricNonceLength},t.ephemeralKeySize=function(){var r={secp256k1:t.ECIES_CONFIG.isEphemeralKeyCompressed?e.COMPRESSED_PUBLIC_KEY_SIZE:e.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:e.CURVE25519_PUBLIC_KEY_SIZE,ed25519:e.CURVE25519_PUBLIC_KEY_SIZE};if(t.ECIES_CONFIG.ellipticCurve in r)return r[t.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")}}(u0);var RE={},Ry={},n1={},hL={},BC={},rv={};Object.defineProperty(rv,"__esModule",{value:!0}),rv.crypto=void 0,rv.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.gcm=t.ctr=t.cbc=t.utils=void 0,t.randomBytes=i,t.getWebcryptoSubtle=o,t.managedNonce=function(c){return(0,n.number)(c.nonceLength),(l,...u)=>({encrypt(f,...p){const{nonceLength:m}=c,w=i(m),y=c(l,w,...u).encrypt(f,...p),I=(0,r.concatBytes)(w,y);return y.fill(0),I},decrypt(f,...p){const{nonceLength:m}=c,w=f.subarray(0,m),y=f.subarray(m);return c(l,w,...u).decrypt(y,...p)}})};const e=rv,n=Ai,r=Lo;function i(c=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(c));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(c);throw new Error("crypto.getRandomValues must be defined")}function o(){if(e.crypto&&typeof e.crypto.subtle=="object"&&e.crypto.subtle!=null)return e.crypto.subtle;throw new Error("crypto.subtle must be defined")}t.utils={async encrypt(c,l,u,f){const p=o(),m=await p.importKey("raw",c,l,!0,["encrypt"]),w=await p.encrypt(u,m,f);return new Uint8Array(w)},async decrypt(c,l,u,f){const p=o(),m=await p.importKey("raw",c,l,!0,["decrypt"]),w=await p.decrypt(u,m,f);return new Uint8Array(w)}};const s={CBC:"AES-CBC",CTR:"AES-CTR",GCM:"AES-GCM"};function a(c){return(l,u,f)=>{(0,n.bytes)(l),(0,n.bytes)(u);const p={name:c,length:8*l.length},m=function(w,y,I){if(w===s.CBC)return{name:s.CBC,iv:y};if(w===s.CTR)return{name:s.CTR,counter:y,length:64};if(w===s.GCM)return I?{name:s.GCM,iv:y,additionalData:I}:{name:s.GCM,iv:y};throw new Error("unknown aes block mode")}(c,u,f);return{encrypt:w=>((0,n.bytes)(w),t.utils.encrypt(l,p,m,w)),decrypt:w=>((0,n.bytes)(w),t.utils.decrypt(l,p,m,w))}}}t.cbc=a(s.CBC),t.ctr=a(s.CTR),t.gcm=a(s.GCM)}(BC);var pL={},Hr={},mc={},Io={};function Oy(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function gL(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function mL(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function DC(t,...e){if(!mL(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function vL(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Oy(t.outputLen),Oy(t.blockLen)}function yL(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function wL(t,e){DC(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(Io,"__esModule",{value:!0}),Io.isBytes=mL,Io.number=Oy,Io.bool=gL,Io.bytes=DC,Io.hash=vL,Io.exists=yL,Io.output=wL;const oZ={number:Oy,bool:gL,bytes:DC,hash:vL,exists:yL,output:wL};Io.default=oZ;var Tc={},iv={};Object.defineProperty(iv,"__esModule",{value:!0}),iv.crypto=void 0,iv.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=function(l){return l instanceof Uint8Array||l!=null&&typeof l=="object"&&l.constructor.name==="Uint8Array"},t.byteSwap32=function(l){for(let u=0;u<l.length;u++)l[u]=(0,t.byteSwap)(l[u])},t.bytesToHex=function(l){(0,n.bytes)(l);let u="";for(let f=0;f<l.length;f++)u+=r[l[f]];return u},t.hexToBytes=function(l){if(typeof l!="string")throw new Error("hex string expected, got "+typeof l);const u=l.length,f=u/2;if(u%2)throw new Error("padded hex string expected, got unpadded hex of length "+u);const p=new Uint8Array(f);for(let m=0,w=0;m<f;m++,w+=2){const y=o(l.charCodeAt(w)),I=o(l.charCodeAt(w+1));if(y===void 0||I===void 0){const S=l[w]+l[w+1];throw new Error('hex string expected, got non-hex character "'+S+'" at index '+w)}p[m]=16*y+I}return p},t.asyncLoop=async function(l,u,f){let p=Date.now();for(let m=0;m<l;m++){f(m);const w=Date.now()-p;w>=0&&w<u||(await(0,t.nextTick)(),p+=w)}},t.utf8ToBytes=s,t.toBytes=a,t.concatBytes=function(...l){let u=0;for(let p=0;p<l.length;p++){const m=l[p];(0,n.bytes)(m),u+=m.length}const f=new Uint8Array(u);for(let p=0,m=0;p<l.length;p++){const w=l[p];f.set(w,m),m+=w.length}return f},t.checkOpts=function(l,u){if(u!==void 0&&c.call(u)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(l,u)},t.wrapConstructor=function(l){const u=p=>l().update(a(p)).digest(),f=l();return u.outputLen=f.outputLen,u.blockLen=f.blockLen,u.create=()=>l(),u},t.wrapConstructorWithOpts=function(l){const u=(p,m)=>l(m).update(a(p)).digest(),f=l({});return u.outputLen=f.outputLen,u.blockLen=f.blockLen,u.create=p=>l(p),u},t.wrapXOFConstructorWithOpts=function(l){const u=(p,m)=>l(m).update(a(p)).digest(),f=l({});return u.outputLen=f.outputLen,u.blockLen=f.blockLen,u.create=p=>l(p),u},t.randomBytes=function(l=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(l));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(l);throw new Error("crypto.getRandomValues must be defined")};const e=iv,n=Io;t.u8=l=>new Uint8Array(l.buffer,l.byteOffset,l.byteLength),t.u32=l=>new Uint32Array(l.buffer,l.byteOffset,Math.floor(l.byteLength/4)),t.createView=l=>new DataView(l.buffer,l.byteOffset,l.byteLength),t.rotr=(l,u)=>l<<32-u|l>>>u,t.rotl=(l,u)=>l<<u|l>>>32-u>>>0,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,t.byteSwap=l=>l<<24&4278190080|l<<8&16711680|l>>>8&65280|l>>>24&255,t.byteSwapIfBE=t.isLE?l=>l:l=>(0,t.byteSwap)(l);const r=Array.from({length:256},(l,u)=>u.toString(16).padStart(2,"0")),i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function o(l){return l>=i._0&&l<=i._9?l-i._0:l>=i._A&&l<=i._F?l-(i._A-10):l>=i._a&&l<=i._f?l-(i._a-10):void 0}function s(l){if(typeof l!="string")throw new Error("utf8ToBytes expected string, got "+typeof l);return new Uint8Array(new TextEncoder().encode(l))}function a(l){return typeof l=="string"&&(l=s(l)),(0,n.bytes)(l),l}t.nextTick=async()=>{},t.Hash=class{clone(){return this._cloneInto()}};const c={}.toString}(Tc),Object.defineProperty(mc,"__esModule",{value:!0}),mc.HashMD=mc.Maj=mc.Chi=void 0;const OE=Io,wp=Tc;mc.Chi=(t,e,n)=>t&e^~t&n;mc.Maj=(t,e,n)=>t&e^t&n^e&n;mc.HashMD=class extends wp.Hash{constructor(t,e,n,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,wp.createView)(this.buffer)}update(t){(0,OE.exists)(this);const{view:e,buffer:n,blockLen:r}=this,i=(t=(0,wp.toBytes)(t)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(t.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(e,0),this.pos=0);else{const a=(0,wp.createView)(t);for(;r<=i-o;o+=r)this.process(a,o)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,OE.exists)(this),(0,OE.output)(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let u=o;u<r;u++)e[u]=0;(function(u,f,p,m){if(typeof u.setBigUint64=="function")return u.setBigUint64(f,p,m);const w=BigInt(32),y=BigInt(4294967295),I=Number(p>>w&y),S=Number(p&y),T=m?4:0,N=m?0:4;u.setUint32(f+T,I,m),u.setUint32(f+N,S,m)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=(0,wp.createView)(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)s.setUint32(4*u,l[u],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return t.length=r,t.pos=s,t.finished=i,t.destroyed=o,r%e&&t.buffer.set(n),t}};var en={};Object.defineProperty(en,"__esModule",{value:!0}),en.add5L=en.add5H=en.add4H=en.add4L=en.add3H=en.add3L=en.rotlBL=en.rotlBH=en.rotlSL=en.rotlSH=en.rotr32L=en.rotr32H=en.rotrBL=en.rotrBH=en.rotrSL=en.rotrSH=en.shrSL=en.shrSH=en.toBig=void 0,en.fromBig=jC,en.split=bL,en.add=PL;const ov=BigInt(2**32-1),P_=BigInt(32);function jC(t,e=!1){return e?{h:Number(t&ov),l:Number(t>>P_&ov)}:{h:0|Number(t>>P_&ov),l:0|Number(t&ov)}}function bL(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:s}=jC(t[i],e);[n[i],r[i]]=[o,s]}return[n,r]}const EL=(t,e)=>BigInt(t>>>0)<<P_|BigInt(e>>>0);en.toBig=EL;const xL=(t,e,n)=>t>>>n;en.shrSH=xL;const _L=(t,e,n)=>t<<32-n|e>>>n;en.shrSL=_L;const SL=(t,e,n)=>t>>>n|e<<32-n;en.rotrSH=SL;const CL=(t,e,n)=>t<<32-n|e>>>n;en.rotrSL=CL;const AL=(t,e,n)=>t<<64-n|e>>>n-32;en.rotrBH=AL;const IL=(t,e,n)=>t>>>n-32|e<<64-n;en.rotrBL=IL;const kL=(t,e)=>e;en.rotr32H=kL;const ML=(t,e)=>t;en.rotr32L=ML;const RL=(t,e,n)=>t<<n|e>>>32-n;en.rotlSH=RL;const OL=(t,e,n)=>e<<n|t>>>32-n;en.rotlSL=OL;const TL=(t,e,n)=>e<<n-32|t>>>64-n;en.rotlBH=TL;const NL=(t,e,n)=>t<<n-32|e>>>64-n;function PL(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:0|i}}en.rotlBL=NL;const LL=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0);en.add3L=LL;const BL=(t,e,n,r)=>e+n+r+(t/2**32|0)|0;en.add3H=BL;const DL=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0);en.add4L=DL;const jL=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0;en.add4H=jL;const $L=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0);en.add5L=$L;const FL=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0;en.add5H=FL;const sZ={fromBig:jC,split:bL,toBig:EL,shrSH:xL,shrSL:_L,rotrSH:SL,rotrSL:CL,rotrBH:AL,rotrBL:IL,rotr32H:kL,rotr32L:ML,rotlSH:RL,rotlSL:OL,rotlBH:TL,rotlBL:NL,add:PL,add3L:LL,add3H:BL,add4L:DL,add4H:jL,add5H:FL,add5L:$L};en.default=sZ,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.sha384=Hr.sha512_256=Hr.sha512_224=Hr.sha512=Hr.SHA384=Hr.SHA512_256=Hr.SHA512_224=Hr.SHA512=void 0;const aZ=mc,an=en,sv=Tc,[cZ,lZ]=an.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ol=new Uint32Array(80),sl=new Uint32Array(80);class lg extends aZ.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:p,Gh:m,Gl:w,Hh:y,Hl:I}=this;return[e,n,r,i,o,s,a,c,l,u,f,p,m,w,y,I]}set(e,n,r,i,o,s,a,c,l,u,f,p,m,w,y,I){this.Ah=0|e,this.Al=0|n,this.Bh=0|r,this.Bl=0|i,this.Ch=0|o,this.Cl=0|s,this.Dh=0|a,this.Dl=0|c,this.Eh=0|l,this.El=0|u,this.Fh=0|f,this.Fl=0|p,this.Gh=0|m,this.Gl=0|w,this.Hh=0|y,this.Hl=0|I}process(e,n){for(let N=0;N<16;N++,n+=4)ol[N]=e.getUint32(n),sl[N]=e.getUint32(n+=4);for(let N=16;N<80;N++){const z=0|ol[N-15],$=0|sl[N-15],H=an.default.rotrSH(z,$,1)^an.default.rotrSH(z,$,8)^an.default.shrSH(z,$,7),K=an.default.rotrSL(z,$,1)^an.default.rotrSL(z,$,8)^an.default.shrSL(z,$,7),j=0|ol[N-2],B=0|sl[N-2],D=an.default.rotrSH(j,B,19)^an.default.rotrBH(j,B,61)^an.default.shrSH(j,B,6),P=an.default.rotrSL(j,B,19)^an.default.rotrBL(j,B,61)^an.default.shrSL(j,B,6),E=an.default.add4L(K,P,sl[N-7],sl[N-16]),b=an.default.add4H(E,H,D,ol[N-7],ol[N-16]);ol[N]=0|b,sl[N]=0|E}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:p,Fh:m,Fl:w,Gh:y,Gl:I,Hh:S,Hl:T}=this;for(let N=0;N<80;N++){const z=an.default.rotrSH(f,p,14)^an.default.rotrSH(f,p,18)^an.default.rotrBH(f,p,41),$=an.default.rotrSL(f,p,14)^an.default.rotrSL(f,p,18)^an.default.rotrBL(f,p,41),H=f&m^~f&y,K=p&w^~p&I,j=an.default.add5L(T,$,K,lZ[N],sl[N]),B=an.default.add5H(j,S,z,H,cZ[N],ol[N]),D=0|j,P=an.default.rotrSH(r,i,28)^an.default.rotrBH(r,i,34)^an.default.rotrBH(r,i,39),E=an.default.rotrSL(r,i,28)^an.default.rotrBL(r,i,34)^an.default.rotrBL(r,i,39),b=r&o^r&a^o&a,g=i&s^i&c^s&c;S=0|y,T=0|I,y=0|m,I=0|w,m=0|f,w=0|p,{h:f,l:p}=an.default.add(0|l,0|u,0|B,0|D),l=0|a,u=0|c,a=0|o,c=0|s,o=0|r,s=0|i;const v=an.default.add3L(D,E,g);r=an.default.add3H(v,B,P,b),i=0|v}({h:r,l:i}=an.default.add(0|this.Ah,0|this.Al,0|r,0|i)),{h:o,l:s}=an.default.add(0|this.Bh,0|this.Bl,0|o,0|s),{h:a,l:c}=an.default.add(0|this.Ch,0|this.Cl,0|a,0|c),{h:l,l:u}=an.default.add(0|this.Dh,0|this.Dl,0|l,0|u),{h:f,l:p}=an.default.add(0|this.Eh,0|this.El,0|f,0|p),{h:m,l:w}=an.default.add(0|this.Fh,0|this.Fl,0|m,0|w),{h:y,l:I}=an.default.add(0|this.Gh,0|this.Gl,0|y,0|I),{h:S,l:T}=an.default.add(0|this.Hh,0|this.Hl,0|S,0|T),this.set(r,i,o,s,a,c,l,u,f,p,m,w,y,I,S,T)}roundClean(){ol.fill(0),sl.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}Hr.SHA512=lg;class UL extends lg{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}Hr.SHA512_224=UL;class zL extends lg{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}Hr.SHA512_256=zL;class l8 extends lg{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}Hr.SHA384=l8,Hr.sha512=(0,sv.wrapConstructor)(()=>new lg),Hr.sha512_224=(0,sv.wrapConstructor)(()=>new UL),Hr.sha512_256=(0,sv.wrapConstructor)(()=>new zL),Hr.sha384=(0,sv.wrapConstructor)(()=>new l8);var L_={},Rf={},Tn={},dn={};Object.defineProperty(dn,"__esModule",{value:!0}),dn.notImplemented=dn.bitMask=void 0,dn.isBytes=Ty,dn.abytes=Ny,dn.abool=function(t,e){if(typeof e!="boolean")throw new Error(`${t} must be valid boolean, got "${e}".`)},dn.bytesToHex=TE,dn.numberToHexUnpadded=u8,dn.hexToNumber=NE,dn.hexToBytes=Jv,dn.bytesToNumberBE=function(t){return NE(TE(t))},dn.bytesToNumberLE=function(t){return Ny(t),NE(TE(Uint8Array.from(t).reverse()))},dn.numberToBytesBE=f8,dn.numberToBytesLE=function(t,e){return f8(t,e).reverse()},dn.numberToVarBytesBE=function(t){return Jv(u8(t))},dn.ensureBytes=function(t,e,n){let r;if(typeof e=="string")try{r=Jv(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else{if(!Ty(e))throw new Error(`${t} must be hex string or Uint8Array`);r=Uint8Array.from(e)}const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r},dn.concatBytes=h8,dn.equalBytes=function(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0},dn.utf8ToBytes=function(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))},dn.inRange=p8,dn.aInRange=function(t,e,n,r){if(!p8(e,n,r))throw new Error(`expected valid ${t}: ${n} <= n < ${r}, got ${typeof e} ${e}`)},dn.bitLen=function(t){let e;for(e=0;t>B_;t>>=Yv,e+=1);return e},dn.bitGet=function(t,e){return t>>BigInt(e)&Yv},dn.bitSet=function(t,e,n){return t|(n?Yv:B_)<<BigInt(e)},dn.createHmacDrbg=function(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=LE(t),i=LE(t),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...u)=>n(i,r,...u),c=(u=LE())=>{i=a(g8([0]),u),r=a(),u.length!==0&&(i=a(g8([1]),u),r=a())},l=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const f=[];for(;u<e;){r=a();const p=r.slice();f.push(p),u+=r.length}return h8(...f)};return(u,f)=>{let p;for(s(),c(u);!(p=f(l()));)c();return s(),p}},dn.validateObject=function(t,e,n={}){const r=(i,o,s)=>{const a=fZ[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const c=t[i];if(!(s&&c===void 0||a(c,t)))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${o}`)};for(const[i,o]of Object.entries(e))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return t},dn.memoized=function(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}};const B_=BigInt(0),Yv=BigInt(1),uZ=BigInt(2);function Ty(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Ny(t){if(!Ty(t))throw new Error("Uint8Array expected")}const dZ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function TE(t){Ny(t);let e="";for(let n=0;n<t.length;n++)e+=dZ[t[n]];return e}function u8(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function NE(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const Wa={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function d8(t){return t>=Wa._0&&t<=Wa._9?t-Wa._0:t>=Wa._A&&t<=Wa._F?t-(Wa._A-10):t>=Wa._a&&t<=Wa._f?t-(Wa._a-10):void 0}function Jv(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=d8(t.charCodeAt(o)),a=d8(t.charCodeAt(o+1));if(s===void 0||a===void 0){const c=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[i]=16*s+a}return r}function f8(t,e){return Jv(t.toString(16).padStart(2*e,"0"))}function h8(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Ny(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}const PE=t=>typeof t=="bigint"&&B_<=t;function p8(t,e,n){return PE(t)&&PE(e)&&PE(n)&&e<=t&&t<n}dn.bitMask=t=>(uZ<<BigInt(t-1))-Yv;const LE=t=>new Uint8Array(t),g8=t=>Uint8Array.from(t),fZ={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Ty(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};dn.notImplemented=()=>{throw new Error("not implemented")},Object.defineProperty(Tn,"__esModule",{value:!0}),Tn.isNegativeLE=void 0,Tn.mod=Co,Tn.pow=qL,Tn.pow2=function(t,e,n){let r=t;for(;e-- >Kr;)r*=r,r%=n;return r},Tn.invert=av,Tn.tonelliShanks=HL,Tn.FpSqrt=y8,Tn.validateField=function(t){const e=pZ.reduce((n,r)=>(n[r]="function",n),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,xo.validateObject)(t,e)},Tn.FpPow=w8,Tn.FpInvertBatch=b8,Tn.FpDiv=function(t,e,n){return t.mul(e,typeof n=="bigint"?av(n,t.ORDER):t.inv(n))},Tn.FpLegendre=E8,Tn.FpIsSquare=function(t){const e=E8(t.ORDER);return n=>{const r=e(t,n);return t.eql(r,t.ZERO)||t.eql(r,t.ONE)}},Tn.nLength=BE,Tn.Field=function(t,e,n=!1,r={}){if(t<=Kr)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:o}=BE(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=y8(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:(0,xo.bitMask)(i),ZERO:Kr,ONE:Wn,create:c=>Co(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("Invalid field element: expected bigint, got "+typeof c);return Kr<=c&&c<t},is0:c=>c===Kr,isOdd:c=>(c&Wn)===Wn,neg:c=>Co(-c,t),eql:(c,l)=>c===l,sqr:c=>Co(c*c,t),add:(c,l)=>Co(c+l,t),sub:(c,l)=>Co(c-l,t),mul:(c,l)=>Co(c*l,t),pow:(c,l)=>w8(a,c,l),div:(c,l)=>Co(c*av(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>av(c,t),sqrt:r.sqrt||(c=>s(a,c)),invertBatch:c=>b8(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?(0,xo.numberToBytesLE)(c,o):(0,xo.numberToBytesBE)(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return n?(0,xo.bytesToNumberLE)(c):(0,xo.bytesToNumberBE)(c)}});return Object.freeze(a)},Tn.FpSqrtOdd=function(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const n=t.sqrt(e);return t.isOdd(n)?n:t.neg(n)},Tn.FpSqrtEven=function(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const n=t.sqrt(e);return t.isOdd(n)?t.neg(n):n},Tn.hashToPrivateScalar=function(t,e,n=!1){t=(0,xo.ensureBytes)("privateHash",t);const r=t.length,i=BE(e).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);const o=n?(0,xo.bytesToNumberLE)(t):(0,xo.bytesToNumberBE)(t);return Co(o,e-Wn)+Wn},Tn.getFieldBytesLength=j_,Tn.getMinHashLength=x8,Tn.mapHashToField=function(t,e,n=!1){const r=t.length,i=j_(e),o=x8(e);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const s=Co(n?(0,xo.bytesToNumberBE)(t):(0,xo.bytesToNumberLE)(t),e-Wn)+Wn;return n?(0,xo.numberToBytesLE)(s,i):(0,xo.numberToBytesBE)(s,i)};const xo=dn,Kr=BigInt(0),Wn=BigInt(1),Il=BigInt(2),hZ=BigInt(3),D_=BigInt(4),m8=BigInt(5),v8=BigInt(8);function Co(t,e){const n=t%e;return n>=Kr?n:e+n}function qL(t,e,n){if(n<=Kr||e<Kr)throw new Error("Expected power/modulo > 0");if(n===Wn)return Kr;let r=Wn;for(;e>Kr;)e&Wn&&(r=r*t%n),t=t*t%n,e>>=Wn;return r}function av(t,e){if(t===Kr||e<=Kr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Co(t,e),r=e,i=Kr,o=Wn;for(;n!==Kr;){const s=r%n,a=i-o*(r/n);r=n,n=s,i=o,o=a}if(r!==Wn)throw new Error("invert: does not exist");return Co(i,e)}function HL(t){const e=(t-Wn)/Il;let n,r,i;for(n=t-Wn,r=0;n%Il===Kr;n/=Il,r++);for(i=Il;i<t&&qL(i,e,t)!==t-Wn;i++);if(r===1){const s=(t+Wn)/D_;return function(a,c){const l=a.pow(c,s);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const o=(n+Wn)/Il;return function(s,a){if(s.pow(a,e)===s.neg(s.ONE))throw new Error("Cannot find square root");let c=r,l=s.pow(s.mul(s.ONE,i),n),u=s.pow(a,o),f=s.pow(a,n);for(;!s.eql(f,s.ONE);){if(s.eql(f,s.ZERO))return s.ZERO;let p=1;for(let w=s.sqr(f);p<c&&!s.eql(w,s.ONE);p++)w=s.sqr(w);const m=s.pow(l,Wn<<BigInt(c-p-1));l=s.sqr(m),u=s.mul(u,m),f=s.mul(f,l),c=p}return u}}function y8(t){if(t%D_===hZ){const e=(t+Wn)/D_;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%v8===m8){const e=(t-m8)/v8;return function(n,r){const i=n.mul(r,Il),o=n.pow(i,e),s=n.mul(r,o),a=n.mul(n.mul(s,Il),o),c=n.mul(s,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return HL(t)}BigInt(9),BigInt(16);Tn.isNegativeLE=(t,e)=>(Co(t,e)&Wn)===Wn;const pZ=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function w8(t,e,n){if(n<Kr)throw new Error("Expected power > 0");if(n===Kr)return t.ONE;if(n===Wn)return e;let r=t.ONE,i=e;for(;n>Kr;)n&Wn&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Wn;return r}function b8(t,e){const n=new Array(e.length),r=e.reduce((o,s,a)=>t.is0(s)?o:(n[a]=o,t.mul(o,s)),t.ONE),i=t.inv(r);return e.reduceRight((o,s,a)=>t.is0(s)?o:(n[a]=t.mul(o,n[a]),t.mul(o,s)),i),n}function E8(t){const e=(t-Wn)/Il;return(n,r)=>n.pow(r,e)}function BE(t,e){const n=e!==void 0?e:t.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function j_(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function x8(t){const e=j_(t);return e+Math.ceil(e/2)}Object.defineProperty(Rf,"__esModule",{value:!0}),Rf.wNAF=function(t,e){const n=(o,s)=>{const a=s.negate();return o?a:s},r=o=>{if(!Number.isSafeInteger(o)||o<=0||o>e)throw new Error(`Wrong window size=${o}, should be [1..${e}]`)},i=o=>(r(o),{windows:Math.ceil(e/o)+1,windowSize:2**(o-1)});return{constTimeNegate:n,unsafeLadder(o,s){let a=t.ZERO,c=o;for(;s>gZ;)s&DE&&(a=a.add(c)),c=c.double(),s>>=DE;return a},precomputeWindow(o,s){const{windows:a,windowSize:c}=i(s),l=[];let u=o,f=u;for(let p=0;p<a;p++){f=u,l.push(f);for(let m=1;m<c;m++)f=f.add(u),l.push(f);u=f.double()}return l},wNAF(o,s,a){const{windows:c,windowSize:l}=i(o);let u=t.ZERO,f=t.BASE;const p=BigInt(2**o-1),m=2**o,w=BigInt(o);for(let y=0;y<c;y++){const I=y*l;let S=Number(a&p);a>>=w,S>l&&(S-=m,a+=DE);const T=I,N=I+Math.abs(S)-1,z=y%2!=0,$=S<0;S===0?f=f.add(n(z,s[T])):u=u.add(n($,s[N]))}return{p:u,f}},wNAFCached(o,s,a){const c=C8.get(o)||1;let l=jE.get(o);return l||(l=this.precomputeWindow(o,c),c!==1&&jE.set(o,a(l))),this.wNAF(c,l,s)},setWindowSize(o,s){r(s),C8.set(o,s),jE.delete(o)}}},Rf.pippenger=function(t,e,n,r){if(!Array.isArray(n)||!Array.isArray(r)||r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");r.forEach((u,f)=>{if(!e.isValid(u))throw new Error(`wrong scalar at index ${f}`)}),n.forEach((u,f)=>{if(!(u instanceof t))throw new Error(`wrong point at index ${f}`)});const i=(0,S8.bitLen)(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,s=(1<<o)-1,a=new Array(s+1).fill(t.ZERO),c=Math.floor((e.BITS-1)/o)*o;let l=t.ZERO;for(let u=c;u>=0;u-=o){a.fill(t.ZERO);for(let p=0;p<r.length;p++){const m=r[p],w=Number(m>>BigInt(u)&BigInt(s));a[w]=a[w].add(n[p])}let f=t.ZERO;for(let p=a.length-1,m=t.ZERO;p>0;p--)m=m.add(a[p]),f=f.add(m);if(l=l.add(f),u!==0)for(let p=0;p<o;p++)l=l.double()}return l},Rf.validateBasic=function(t){return(0,_8.validateField)(t.Fp),(0,S8.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,_8.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})};const _8=Tn,S8=dn,gZ=BigInt(0),DE=BigInt(1),jE=new WeakMap,C8=new WeakMap;Object.defineProperty(L_,"__esModule",{value:!0}),L_.twistedEdwards=function(t){const e=function(b){const g=(0,$E.validateBasic)(b);return to.validateObject(b,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...g})}(t),{Fp:n,n:r,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:c}=e,l=cv<<BigInt(8*a)-no,u=n.create,f=(0,A8.Field)(e.n,e.nBitLength),p=e.uvRatio||((b,g)=>{try{return{isValid:!0,value:n.sqrt(b*n.inv(g))}}catch{return{isValid:!1,value:ks}}}),m=e.adjustScalarBytes||(b=>b),w=e.domain||((b,g,v)=>{if((0,_o.abool)("phflag",v),g.length||v)throw new Error("Contexts/pre-hash are not supported");return b});function y(b,g){to.aInRange("coordinate "+b,g,ks,l)}function I(b){if(!(b instanceof N))throw new Error("ExtendedPoint expected")}const S=(0,_o.memoized)((b,g)=>{const{ex:v,ey:A,ez:L}=b,C=b.is0();g==null&&(g=C?mZ:n.inv(L));const O=u(v*g),x=u(A*g),R=u(L*g);if(C)return{x:ks,y:no};if(R!==no)throw new Error("invZ was invalid");return{x:O,y:x}}),T=(0,_o.memoized)(b=>{const{a:g,d:v}=e;if(b.is0())throw new Error("bad point: ZERO");const{ex:A,ey:L,ez:C,et:O}=b,x=u(A*A),R=u(L*L),_=u(C*C),k=u(_*_),U=u(x*g);if(u(_*u(U+R))!==u(k+u(v*u(x*R))))throw new Error("bad point: equation left != right (1)");if(u(A*L)!==u(C*O))throw new Error("bad point: equation left != right (2)");return!0});class N{constructor(g,v,A,L){this.ex=g,this.ey=v,this.ez=A,this.et=L,y("x",g),y("y",v),y("z",A),y("t",L),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(g){if(g instanceof N)throw new Error("extended point not allowed");const{x:v,y:A}=g||{};return y("x",v),y("y",A),new N(v,A,no,u(v*A))}static normalizeZ(g){const v=n.invertBatch(g.map(A=>A.ez));return g.map((A,L)=>A.toAffine(v[L])).map(N.fromAffine)}static msm(g,v){return(0,$E.pippenger)(N,f,g,v)}_setWindowSize(g){H.setWindowSize(this,g)}assertValidity(){T(this)}equals(g){I(g);const{ex:v,ey:A,ez:L}=this,{ex:C,ey:O,ez:x}=g,R=u(v*x),_=u(C*L),k=u(A*x),U=u(O*L);return R===_&&k===U}is0(){return this.equals(N.ZERO)}negate(){return new N(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:g}=e,{ex:v,ey:A,ez:L}=this,C=u(v*v),O=u(A*A),x=u(cv*u(L*L)),R=u(g*C),_=v+A,k=u(u(_*_)-C-O),U=R+O,q=U-x,V=R-O,Q=u(k*q),Y=u(U*V),X=u(k*V),ee=u(q*U);return new N(Q,Y,ee,X)}add(g){I(g);const{a:v,d:A}=e,{ex:L,ey:C,ez:O,et:x}=this,{ex:R,ey:_,ez:k,et:U}=g;if(v===BigInt(-1)){const ye=u((C-L)*(_+R)),pe=u((C+L)*(_-R)),de=u(pe-ye);if(de===ks)return this.double();const Ee=u(O*cv*U),Ce=u(x*cv*k),we=Ce+Ee,$e=pe+ye,ze=Ce-Ee,Ze=u(we*de),We=u($e*ze),ne=u(we*ze),G=u(de*$e);return new N(Ze,We,G,ne)}const q=u(L*R),V=u(C*_),Q=u(x*A*U),Y=u(O*k),X=u((L+C)*(R+_)-q-V),ee=Y-Q,ie=Y+Q,oe=u(V-v*q),te=u(X*ee),se=u(ie*oe),ue=u(X*oe),me=u(ee*ie);return new N(te,se,me,ue)}subtract(g){return this.add(g.negate())}wNAF(g){return H.wNAFCached(this,g,N.normalizeZ)}multiply(g){const v=g;to.aInRange("scalar",v,no,r);const{p:A,f:L}=this.wNAF(v);return N.normalizeZ([A,L])[0]}multiplyUnsafe(g){const v=g;return to.aInRange("scalar",v,ks,r),v===ks?$:this.equals($)||v===no?this:this.equals(z)?this.wNAF(v).p:H.unsafeLadder(this,v)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return H.unsafeLadder(this,r).is0()}toAffine(g){return S(this,g)}clearCofactor(){const{h:g}=e;return g===no?this:this.multiplyUnsafe(g)}static fromHex(g,v=!1){const{d:A,a:L}=e,C=n.BYTES;g=(0,_o.ensureBytes)("pointHex",g,C),(0,_o.abool)("zip215",v);const O=g.slice(),x=g[C-1];O[C-1]=-129&x;const R=to.bytesToNumberLE(O),_=v?l:n.ORDER;to.aInRange("pointHex.y",R,ks,_);const k=u(R*R),U=u(k-no),q=u(A*k-L);let{isValid:V,value:Q}=p(U,q);if(!V)throw new Error("Point.fromHex: invalid y coordinate");const Y=(Q&no)===no,X=(128&x)!=0;if(!v&&Q===ks&&X)throw new Error("Point.fromHex: x=0 and x_0=1");return X!==Y&&(Q=u(-Q)),N.fromAffine({x:Q,y:R})}static fromPrivateKey(g){return B(g).point}toRawBytes(){const{x:g,y:v}=this.toAffine(),A=to.numberToBytesLE(v,n.BYTES);return A[A.length-1]|=g&no?128:0,A}toHex(){return to.bytesToHex(this.toRawBytes())}}N.BASE=new N(e.Gx,e.Gy,no,u(e.Gx*e.Gy)),N.ZERO=new N(ks,no,no,ks);const{BASE:z,ZERO:$}=N,H=(0,$E.wNAF)(N,8*a);function K(b){return(0,A8.mod)(b,r)}function j(b){return K(to.bytesToNumberLE(b))}function B(b){const g=a;b=(0,_o.ensureBytes)("private key",b,g);const v=(0,_o.ensureBytes)("hashed private key",o(b),2*g),A=m(v.slice(0,g)),L=v.slice(g,2*g),C=j(A),O=z.multiply(C),x=O.toRawBytes();return{head:A,prefix:L,scalar:C,point:O,pointBytes:x}}function D(b=new Uint8Array,...g){const v=to.concatBytes(...g);return j(o(w(v,(0,_o.ensureBytes)("context",b),!!i)))}const P=vZ;return z._setWindowSize(8),{CURVE:e,getPublicKey:function(b){return B(b).pointBytes},sign:function(b,g,v={}){b=(0,_o.ensureBytes)("message",b),i&&(b=i(b));const{prefix:A,scalar:L,pointBytes:C}=B(g),O=D(v.context,A,b),x=z.multiply(O).toRawBytes(),R=K(O+D(v.context,x,C,b)*L);to.aInRange("signature.s",R,ks,r);const _=to.concatBytes(x,to.numberToBytesLE(R,n.BYTES));return(0,_o.ensureBytes)("result",_,2*a)},verify:function(b,g,v,A=P){const{context:L,zip215:C}=A,O=n.BYTES;b=(0,_o.ensureBytes)("signature",b,2*O),g=(0,_o.ensureBytes)("message",g),C!==void 0&&(0,_o.abool)("zip215",C),i&&(g=i(g));const x=to.bytesToNumberLE(b.slice(O,2*O));let R,_,k;try{R=N.fromHex(v,C),_=N.fromHex(b.slice(0,O),C),k=z.multiplyUnsafe(x)}catch{return!1}if(!C&&R.isSmallOrder())return!1;const U=D(L,_.toRawBytes(),R.toRawBytes(),g);return _.add(R.multiplyUnsafe(U)).subtract(k).clearCofactor().equals(N.ZERO)},ExtendedPoint:N,utils:{getExtendedPublicKey:B,randomPrivateKey:()=>s(n.BYTES),precompute:(b=8,g=N.BASE)=>(g._setWindowSize(b),g.multiply(BigInt(3)),g)}}};const $E=Rf,A8=Tn,to=dn,_o=dn,ks=BigInt(0),no=BigInt(1),cv=BigInt(2),mZ=BigInt(8),vZ={zip215:!0};var bl={};Object.defineProperty(bl,"__esModule",{value:!0}),bl.expand_message_xmd=KL,bl.expand_message_xof=WL,bl.hash_to_field=FE,bl.isogenyMap=function(t,e){const n=e.map(r=>Array.from(r).reverse());return(r,i)=>{const[o,s,a,c]=n.map(l=>l.reduce((u,f)=>t.add(t.mul(u,r),f)));return r=t.div(o,s),i=t.mul(i,t.div(a,c)),{x:r,y:i}}},bl.createHasher=function(t,e,n){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,i){const o=FE(r,2,{...n,DST:n.DST,...i}),s=t.fromAffine(e(o[0])),a=t.fromAffine(e(o[1])),c=s.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,i){const o=FE(r,1,{...n,DST:n.encodeDST,...i}),s=t.fromAffine(e(o[0])).clearCofactor();return s.assertValidity(),s},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(const o of r)if(typeof o!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${o} in array`);const i=t.fromAffine(e(r)).clearCofactor();return i.assertValidity(),i}}};const yZ=Tn,Ci=dn,wZ=Ci.bytesToNumberBE;function El(t,e){if(d0(t),d0(e),t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);const n=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)n[r]=255&t,t>>>=8;return new Uint8Array(n)}function bZ(t,e){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r]^e[r];return n}function d0(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function KL(t,e,n,r){(0,Ci.abytes)(t),(0,Ci.abytes)(e),d0(n),e.length>255&&(e=r((0,Ci.concatBytes)((0,Ci.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));const{outputLen:i,blockLen:o}=r,s=Math.ceil(n/i);if(n>65535||s>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=(0,Ci.concatBytes)(e,El(e.length,1)),c=El(0,o),l=El(n,2),u=new Array(s),f=r((0,Ci.concatBytes)(c,t,l,El(0,1),a));u[0]=r((0,Ci.concatBytes)(f,El(1,1),a));for(let p=1;p<=s;p++){const m=[bZ(f,u[p-1]),El(p+1,1),a];u[p]=r((0,Ci.concatBytes)(...m))}return(0,Ci.concatBytes)(...u).slice(0,n)}function WL(t,e,n,r,i){if((0,Ci.abytes)(t),(0,Ci.abytes)(e),d0(n),e.length>255){const o=Math.ceil(2*r/8);e=i.create({dkLen:o}).update((0,Ci.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(n>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(t).update(El(n,2)).update(e).update(El(e.length,1)).digest()}function FE(t,e,n){(0,Ci.validateObject)(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:i,m:o,hash:s,expand:a,DST:c}=n;(0,Ci.abytes)(t),d0(e);const l=typeof c=="string"?(0,Ci.utf8ToBytes)(c):c,u=r.toString(2).length,f=Math.ceil((u+i)/8),p=e*o*f;let m;if(a==="xmd")m=KL(t,l,p,s);else if(a==="xof")m=WL(t,l,p,i,s);else{if(a!=="_internal_pass")throw new Error('expand must be "xmd" or "xof"');m=t}const w=new Array(e);for(let y=0;y<e;y++){const I=new Array(o);for(let S=0;S<o;S++){const T=f*(S+y*o),N=m.subarray(T,T+f);I[S]=(0,yZ.mod)(wZ(N),r)}w[y]=I}return w}var $_={};Object.defineProperty($_,"__esModule",{value:!0}),$_.montgomery=function(t){const e=function(y){return(0,al.validateObject)(y,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...y})}(t),{P:n}=e,r=y=>(0,I8.mod)(y,n),i=e.montgomeryBits,o=Math.ceil(i/8),s=e.nByteLength,a=e.adjustScalarBytes||(y=>y),c=e.powPminus2||(y=>(0,I8.pow)(y,n-BigInt(2),n));function l(y,I,S){const T=r(y*(I-S));return[I=r(I-T),S=r(S+T)]}const u=(e.a-BigInt(2))/BigInt(4);function f(y){return(0,al.numberToBytesLE)(r(y),o)}function p(y,I){const S=function(z){const $=(0,al.ensureBytes)("u coordinate",z,o);return s===32&&($[31]&=127),(0,al.bytesToNumberLE)($)}(I),T=function(z){const $=(0,al.ensureBytes)("scalar",z),H=$.length;if(H!==o&&H!==s)throw new Error(`Expected ${o} or ${s} bytes, got ${H}`);return(0,al.bytesToNumberLE)(a($))}(y),N=function(z,$){(0,al.aInRange)("u",z,pf,n),(0,al.aInRange)("scalar",$,pf,n);const H=$,K=z;let j,B=UE,D=pf,P=z,E=UE,b=pf;for(let v=BigInt(i-1);v>=pf;v--){const A=H>>v&UE;b^=A,j=l(b,B,P),B=j[0],P=j[1],j=l(b,D,E),D=j[0],E=j[1],b=A;const L=B+D,C=r(L*L),O=B-D,x=r(O*O),R=C-x,_=P+E,k=r((P-E)*L),U=r(_*O),q=k+U,V=k-U;P=r(q*q),E=r(K*r(V*V)),B=r(C*x),D=r(R*(C+r(u*R)))}j=l(b,B,P),B=j[0],P=j[1],j=l(b,D,E),D=j[0],E=j[1];const g=c(D);return r(B*g)}(S,T);if(N===pf)throw new Error("Invalid private or public key received");return f(N)}const m=f(e.Gu);function w(y){return p(y,m)}return{scalarMult:p,scalarMultBase:w,getSharedSecret:(y,I)=>p(y,I),getPublicKey:y=>w(y),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:m}};const I8=Tn,al=dn,pf=BigInt(0),UE=BigInt(1);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hash_to_ristretto255=t.hashToRistretto255=t.RistrettoPoint=t.encodeToCurve=t.hashToCurve=t.edwardsToMontgomery=t.x25519=t.ed25519ph=t.ed25519ctx=t.ed25519=t.ED25519_TORSION_SUBGROUP=void 0,t.edwardsToMontgomeryPub=H,t.edwardsToMontgomeryPriv=function(U){const q=z.hash(U.subarray(0,32));return z.adjustScalarBytes(q).subarray(0,32)};const e=Hr,n=Tc,r=L_,i=bl,o=Tn,s=$_,a=dn,c=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),u=BigInt(0),f=BigInt(1),p=BigInt(2),m=BigInt(3),w=BigInt(5),y=BigInt(8);function I(U){const q=BigInt(10),V=BigInt(20),Q=BigInt(40),Y=BigInt(80),X=c,ee=U*U%X*U%X,ie=(0,o.pow2)(ee,p,X)*ee%X,oe=(0,o.pow2)(ie,f,X)*U%X,te=(0,o.pow2)(oe,w,X)*oe%X,se=(0,o.pow2)(te,q,X)*te%X,ue=(0,o.pow2)(se,V,X)*se%X,me=(0,o.pow2)(ue,Q,X)*ue%X,ye=(0,o.pow2)(me,Y,X)*me%X,pe=(0,o.pow2)(ye,Y,X)*me%X,de=(0,o.pow2)(pe,q,X)*te%X;return{pow_p_5_8:(0,o.pow2)(de,p,X)*U%X,b2:ee}}function S(U){return U[0]&=248,U[31]&=127,U[31]|=64,U}function T(U,q){const V=c,Q=(0,o.mod)(q*q*q,V),Y=I(U*(0,o.mod)(Q*Q*q,V)).pow_p_5_8;let X=(0,o.mod)(U*Q*Y,V);const ee=(0,o.mod)(q*X*X,V),ie=X,oe=(0,o.mod)(X*l,V),te=ee===U,se=ee===(0,o.mod)(-U,V),ue=ee===(0,o.mod)(-U*l,V);return te&&(X=ie),(se||ue)&&(X=oe),(0,o.isNegativeLE)(X,V)&&(X=(0,o.mod)(-X,V)),{isValid:te||se,value:X}}t.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const N=(0,o.Field)(c,void 0,!0),z={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:N,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:y,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:e.sha512,randomBytes:n.randomBytes,adjustScalarBytes:S,uvRatio:T};function $(U,q,V){if(q.length>255)throw new Error("Context is too big");return(0,n.concatBytes)((0,n.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([V?1:0,q.length]),q,U)}function H(U){const{y:q}=t.ed25519.ExtendedPoint.fromHex(U),V=BigInt(1);return N.toBytes(N.create((V+q)*N.inv(V-q)))}t.ed25519=(0,r.twistedEdwards)(z),t.ed25519ctx=(0,r.twistedEdwards)({...z,domain:$}),t.ed25519ph=(0,r.twistedEdwards)(Object.assign({},z,{domain:$,prehash:e.sha512})),t.x25519=(0,s.montgomery)({P:c,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:U=>{const q=c,{pow_p_5_8:V,b2:Q}=I(U);return(0,o.mod)((0,o.pow2)(V,m,q)*Q,q)},adjustScalarBytes:S,randomBytes:n.randomBytes}),t.edwardsToMontgomery=H;const K=(N.ORDER+m)/y,j=N.pow(p,K),B=N.sqrt(N.neg(N.ONE)),D=(0,o.FpSqrtEven)(N,N.neg(BigInt(486664)));function P(U){const{xMn:q,xMd:V,yMn:Q,yMd:Y}=function(me){const ye=(N.ORDER-w)/y,pe=BigInt(486662);let de=N.sqr(me);de=N.mul(de,p);let Ee=N.add(de,N.ONE),Ce=N.neg(pe),we=N.sqr(Ee),$e=N.mul(we,Ee),ze=N.mul(de,pe);ze=N.mul(ze,Ce),ze=N.add(ze,we),ze=N.mul(ze,Ce);let Ze=N.sqr($e);we=N.sqr(Ze),Ze=N.mul(Ze,$e),Ze=N.mul(Ze,ze),we=N.mul(we,Ze);let We=N.pow(we,ye);We=N.mul(We,Ze);let ne=N.mul(We,B);we=N.sqr(We),we=N.mul(we,$e);let G=N.eql(we,ze),Z=N.cmov(ne,We,G),ce=N.mul(Ce,de),ge=N.mul(We,me);ge=N.mul(ge,j);let Ae=N.mul(ge,B),Re=N.mul(ze,de);we=N.sqr(ge),we=N.mul(we,$e);let lt=N.eql(we,Re),Ct=N.cmov(Ae,ge,lt);we=N.sqr(Z),we=N.mul(we,$e);let ot=N.eql(we,ze),Ot=N.cmov(ce,Ce,ot),vt=N.cmov(Ct,Z,ot),xt=N.isOdd(vt);return vt=N.cmov(vt,N.neg(vt),ot!==xt),{xMn:Ot,xMd:Ee,yMn:vt,yMd:f}}(U);let X=N.mul(q,Y);X=N.mul(X,D);let ee=N.mul(V,Q),ie=N.sub(q,V),oe=N.add(q,V),te=N.mul(ee,oe),se=N.eql(te,N.ZERO);X=N.cmov(X,N.ZERO,se),ee=N.cmov(ee,N.ONE,se),ie=N.cmov(ie,N.ONE,se),oe=N.cmov(oe,N.ONE,se);const ue=N.invertBatch([ee,oe]);return{x:N.mul(X,ue[0]),y:N.mul(ie,ue[1])}}const E=(0,i.createHasher)(t.ed25519.ExtendedPoint,U=>P(U[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:N.ORDER,m:1,k:128,expand:"xmd",hash:e.sha512});function b(U){if(!(U instanceof k))throw new Error("RistrettoPoint expected")}t.hashToCurve=E.hashToCurve,t.encodeToCurve=E.encodeToCurve;const g=l,v=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),A=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),L=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),C=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),O=U=>T(f,U),x=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),R=U=>t.ed25519.CURVE.Fp.create((0,a.bytesToNumberLE)(U)&x);function _(U){const{d:q}=t.ed25519.CURVE,V=t.ed25519.CURVE.Fp.ORDER,Q=t.ed25519.CURVE.Fp.create,Y=Q(g*U*U),X=Q((Y+f)*L);let ee=BigInt(-1);const ie=Q((ee-q*Y)*Q(Y+q));let{isValid:oe,value:te}=T(X,ie),se=Q(te*U);(0,o.isNegativeLE)(se,V)||(se=Q(-se)),oe||(te=se),oe||(ee=Y);const ue=Q(ee*(Y-f)*C-ie),me=te*te,ye=Q((te+te)*ie),pe=Q(ue*v),de=Q(f-me),Ee=Q(f+me);return new t.ed25519.ExtendedPoint(Q(ye*Ee),Q(de*pe),Q(pe*Ee),Q(ye*de))}class k{constructor(q){this.ep=q}static fromAffine(q){return new k(t.ed25519.ExtendedPoint.fromAffine(q))}static hashToCurve(q){q=(0,a.ensureBytes)("ristrettoHash",q,64);const V=_(R(q.slice(0,32))),Q=_(R(q.slice(32,64)));return new k(V.add(Q))}static fromHex(q){q=(0,a.ensureBytes)("ristrettoHex",q,32);const{a:V,d:Q}=t.ed25519.CURVE,Y=t.ed25519.CURVE.Fp.ORDER,X=t.ed25519.CURVE.Fp.create,ee="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",ie=R(q);if(!(0,a.equalBytes)((0,a.numberToBytesLE)(ie,32),q)||(0,o.isNegativeLE)(ie,Y))throw new Error(ee);const oe=X(ie*ie),te=X(f+V*oe),se=X(f-V*oe),ue=X(te*te),me=X(se*se),ye=X(V*Q*ue-me),{isValid:pe,value:de}=O(X(ye*me)),Ee=X(de*se),Ce=X(de*Ee*ye);let we=X((ie+ie)*Ee);(0,o.isNegativeLE)(we,Y)&&(we=X(-we));const $e=X(te*Ce),ze=X(we*$e);if(!pe||(0,o.isNegativeLE)(ze,Y)||$e===u)throw new Error(ee);return new k(new t.ed25519.ExtendedPoint(we,$e,f,ze))}toRawBytes(){let{ex:q,ey:V,ez:Q,et:Y}=this.ep;const X=t.ed25519.CURVE.Fp.ORDER,ee=t.ed25519.CURVE.Fp.create,ie=ee(ee(Q+V)*ee(Q-V)),oe=ee(q*V),te=ee(oe*oe),{value:se}=O(ee(ie*te)),ue=ee(se*ie),me=ee(se*oe),ye=ee(ue*me*Y);let pe;if((0,o.isNegativeLE)(Y*ye,X)){let Ee=ee(V*g),Ce=ee(q*g);q=Ee,V=Ce,pe=ee(ue*A)}else pe=me;(0,o.isNegativeLE)(q*ye,X)&&(V=ee(-V));let de=ee((Q-V)*pe);return(0,o.isNegativeLE)(de,X)&&(de=ee(-de)),(0,a.numberToBytesLE)(de,32)}toHex(){return(0,a.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(q){b(q);const{ex:V,ey:Q}=this.ep,{ex:Y,ey:X}=q.ep,ee=t.ed25519.CURVE.Fp.create,ie=ee(V*X)===ee(Q*Y),oe=ee(Q*X)===ee(V*Y);return ie||oe}add(q){return b(q),new k(this.ep.add(q.ep))}subtract(q){return b(q),new k(this.ep.subtract(q.ep))}multiply(q){return new k(this.ep.multiply(q))}multiplyUnsafe(q){return new k(this.ep.multiplyUnsafe(q))}double(){return new k(this.ep.double())}negate(){return new k(this.ep.negate())}}t.RistrettoPoint=(k.BASE||(k.BASE=new k(t.ed25519.ExtendedPoint.BASE)),k.ZERO||(k.ZERO=new k(t.ed25519.ExtendedPoint.ZERO)),k),t.hashToRistretto255=(U,q)=>{const V=q.DST,Q=typeof V=="string"?(0,n.utf8ToBytes)(V):V,Y=(0,i.expand_message_xmd)(U,Q,64,e.sha512);return k.hashToCurve(Y)},t.hash_to_ristretto255=t.hashToRistretto255})(pL);var VL={},vc={};Object.defineProperty(vc,"__esModule",{value:!0}),vc.sha224=vc.sha256=vc.SHA256=void 0;const zE=mc,es=Tc,EZ=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),cl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ll=new Uint32Array(64);class $C extends zE.HashMD{constructor(){super(64,32,8,!1),this.A=0|cl[0],this.B=0|cl[1],this.C=0|cl[2],this.D=0|cl[3],this.E=0|cl[4],this.F=0|cl[5],this.G=0|cl[6],this.H=0|cl[7]}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:c}=this;return[e,n,r,i,o,s,a,c]}set(e,n,r,i,o,s,a,c){this.A=0|e,this.B=0|n,this.C=0|r,this.D=0|i,this.E=0|o,this.F=0|s,this.G=0|a,this.H=0|c}process(e,n){for(let f=0;f<16;f++,n+=4)ll[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const p=ll[f-15],m=ll[f-2],w=(0,es.rotr)(p,7)^(0,es.rotr)(p,18)^p>>>3,y=(0,es.rotr)(m,17)^(0,es.rotr)(m,19)^m>>>10;ll[f]=y+ll[f-7]+w+ll[f-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const p=u+((0,es.rotr)(a,6)^(0,es.rotr)(a,11)^(0,es.rotr)(a,25))+(0,zE.Chi)(a,c,l)+EZ[f]+ll[f]|0,m=((0,es.rotr)(r,2)^(0,es.rotr)(r,13)^(0,es.rotr)(r,22))+(0,zE.Maj)(r,i,o)|0;u=l,l=c,c=a,a=s+p|0,s=o,o=i,i=r,r=p+m|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,o,s,a,c,l,u)}roundClean(){ll.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}vc.SHA256=$C;class xZ extends $C{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}vc.sha256=(0,es.wrapConstructor)(()=>new $C),vc.sha224=(0,es.wrapConstructor)(()=>new xZ);var Zv={},FC={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const e=Io,n=Tc;class r extends n.Hash{constructor(o,s){super(),this.finished=!1,this.destroyed=!1,(0,e.hash)(o);const a=(0,n.toBytes)(s);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,l=new Uint8Array(c);l.set(a.length>c?o.create().update(a).digest():a);for(let u=0;u<l.length;u++)l[u]^=54;this.iHash.update(l),this.oHash=o.create();for(let u=0;u<l.length;u++)l[u]^=106;this.oHash.update(l),l.fill(0)}update(o){return(0,e.exists)(this),this.iHash.update(o),this}digestInto(o){(0,e.exists)(this),(0,e.bytes)(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:s,iHash:a,finished:c,destroyed:l,blockLen:u,outputLen:f}=this;return o.finished=c,o.destroyed=l,o.blockLen=u,o.outputLen=f,o.oHash=s._cloneInto(o.oHash),o.iHash=a._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=r,t.hmac=(i,o,s)=>new r(i,o).update(s).digest(),t.hmac.create=(i,o)=>new r(i,o)})(FC);var UC={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DER=void 0,t.weierstrassPoints=m,t.weierstrass=function(y){const I=function(U){const q=(0,e.validateBasic)(U);return r.validateObject(q,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...q})}(y),{Fp:S,n:T}=I,N=S.BYTES+1,z=2*S.BYTES+1;function $(U){return n.mod(U,T)}function H(U){return n.invert(U,T)}const{ProjectivePoint:K,normPrivateKeyToScalar:j,weierstrassEquation:B,isWithinCurveOrder:D}=m({...I,toBytes(U,q,V){const Q=q.toAffine(),Y=S.toBytes(Q.x),X=r.concatBytes;return(0,i.abool)("isCompressed",V),V?X(Uint8Array.from([q.hasEvenY()?2:3]),Y):X(Uint8Array.from([4]),Y,S.toBytes(Q.y))},fromBytes(U){const q=U.length,V=U[0],Q=U.subarray(1);if(q!==N||V!==2&&V!==3){if(q===z&&V===4)return{x:S.fromBytes(Q.subarray(0,S.BYTES)),y:S.fromBytes(Q.subarray(S.BYTES,2*S.BYTES))};throw new Error(`Point of length ${q} was invalid. Expected ${N} compressed bytes or ${z} uncompressed bytes`)}{const Y=r.bytesToNumberBE(Q);if(!r.inRange(Y,l,S.ORDER))throw new Error("Point is not on curve");const X=B(Y);let ee;try{ee=S.sqrt(X)}catch(ie){const oe=ie instanceof Error?": "+ie.message:"";throw new Error("Point is not on curve"+oe)}return(1&V)==1!=((ee&l)===l)&&(ee=S.neg(ee)),{x:Y,y:ee}}}}),P=U=>r.bytesToHex(r.numberToBytesBE(U,I.nByteLength));function E(U){return U>T>>l}const b=(U,q,V)=>r.bytesToNumberBE(U.slice(q,V));class g{constructor(q,V,Q){this.r=q,this.s=V,this.recovery=Q,this.assertValidity()}static fromCompact(q){const V=I.nByteLength;return q=(0,i.ensureBytes)("compactSignature",q,2*V),new g(b(q,0,V),b(q,V,2*V))}static fromDER(q){const{r:V,s:Q}=t.DER.toSig((0,i.ensureBytes)("DER",q));return new g(V,Q)}assertValidity(){r.aInRange("r",this.r,l,T),r.aInRange("s",this.s,l,T)}addRecoveryBit(q){return new g(this.r,this.s,q)}recoverPublicKey(q){const{r:V,s:Q,recovery:Y}=this,X=C((0,i.ensureBytes)("msgHash",q));if(Y==null||![0,1,2,3].includes(Y))throw new Error("recovery id invalid");const ee=Y===2||Y===3?V+I.n:V;if(ee>=S.ORDER)throw new Error("recovery id 2 or 3 invalid");const ie=(1&Y)==0?"02":"03",oe=K.fromHex(ie+P(ee)),te=H(ee),se=$(-X*te),ue=$(Q*te),me=K.BASE.multiplyAndAddUnsafe(oe,se,ue);if(!me)throw new Error("point at infinify");return me.assertValidity(),me}hasHighS(){return E(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,$(-this.s),this.recovery):this}toDERRawBytes(){return r.hexToBytes(this.toDERHex())}toDERHex(){return t.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return r.hexToBytes(this.toCompactHex())}toCompactHex(){return P(this.r)+P(this.s)}}const v={isValidPrivateKey(U){try{return j(U),!0}catch{return!1}},normPrivateKeyToScalar:j,randomPrivateKey:()=>{const U=n.getMinHashLength(I.n);return n.mapHashToField(I.randomBytes(U),I.n)},precompute:(U=8,q=K.BASE)=>(q._setWindowSize(U),q.multiply(BigInt(3)),q)};function A(U){const q=r.isBytes(U),V=typeof U=="string",Q=(q||V)&&U.length;return q?Q===N||Q===z:V?Q===2*N||Q===2*z:U instanceof K}const L=I.bits2int||function(U){const q=r.bytesToNumberBE(U),V=8*U.length-I.nBitLength;return V>0?q>>BigInt(V):q},C=I.bits2int_modN||function(U){return $(L(U))},O=r.bitMask(I.nBitLength);function x(U){return r.aInRange(`num < 2^${I.nBitLength}`,U,c,O),r.numberToBytesBE(U,I.nByteLength)}function R(U,q,V=_){if(["recovered","canonical"].some(ye=>ye in V))throw new Error("sign() legacy options not supported");const{hash:Q,randomBytes:Y}=I;let{lowS:X,prehash:ee,extraEntropy:ie}=V;X==null&&(X=!0),U=(0,i.ensureBytes)("msgHash",U),o(V),ee&&(U=(0,i.ensureBytes)("prehashed msgHash",Q(U)));const oe=C(U),te=j(q),se=[x(te),x(oe)];if(ie!=null&&ie!==!1){const ye=ie===!0?Y(S.BYTES):ie;se.push((0,i.ensureBytes)("extraEntropy",ye))}const ue=r.concatBytes(...se),me=oe;return{seed:ue,k2sig:function(ye){const pe=L(ye);if(!D(pe))return;const de=H(pe),Ee=K.BASE.multiply(pe).toAffine(),Ce=$(Ee.x);if(Ce===c)return;const we=$(de*$(me+Ce*te));if(we===c)return;let $e=(Ee.x===Ce?0:2)|Number(Ee.y&l),ze=we;return X&&E(we)&&(ze=function(Ze){return E(Ze)?$(-Ze):Ze}(we),$e^=1),new g(Ce,ze,$e)}}}const _={lowS:I.lowS,prehash:!1},k={lowS:I.lowS,prehash:!1};return K.BASE._setWindowSize(8),{CURVE:I,getPublicKey:function(U,q=!0){return K.fromPrivateKey(U).toRawBytes(q)},getSharedSecret:function(U,q,V=!0){if(A(U))throw new Error("first arg must be private key");if(!A(q))throw new Error("second arg must be public key");return K.fromHex(q).multiply(j(U)).toRawBytes(V)},sign:function(U,q,V=_){const{seed:Q,k2sig:Y}=R(U,q,V),X=I;return r.createHmacDrbg(X.hash.outputLen,X.nByteLength,X.hmac)(Q,Y)},verify:function(U,q,V,Q=k){var Ce;const Y=U;if(q=(0,i.ensureBytes)("msgHash",q),V=(0,i.ensureBytes)("publicKey",V),"strict"in Q)throw new Error("options.strict was renamed to lowS");o(Q);const{lowS:X,prehash:ee}=Q;let ie,oe;try{if(typeof Y=="string"||r.isBytes(Y))try{ie=g.fromDER(Y)}catch(we){if(!(we instanceof t.DER.Err))throw we;ie=g.fromCompact(Y)}else{if(typeof Y!="object"||typeof Y.r!="bigint"||typeof Y.s!="bigint")throw new Error("PARSE");{const{r:we,s:$e}=Y;ie=new g(we,$e)}}oe=K.fromHex(V)}catch(we){if(we.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(X&&ie.hasHighS())return!1;ee&&(q=I.hash(q));const{r:te,s:se}=ie,ue=C(q),me=H(se),ye=$(ue*me),pe=$(te*me),de=(Ce=K.BASE.multiplyAndAddUnsafe(oe,ye,pe))==null?void 0:Ce.toAffine();return de?$(de.x)===te:!1},ProjectivePoint:K,Signature:g,utils:v}},t.SWUFpSqrtRatio=w,t.mapToCurveSimpleSWU=function(y,I){if(n.validateField(y),!y.isValid(I.A)||!y.isValid(I.B)||!y.isValid(I.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const S=w(y,I.Z);if(!y.isOdd)throw new Error("Fp.isOdd is not implemented!");return T=>{let N,z,$,H,K,j,B,D;N=y.sqr(T),N=y.mul(N,I.Z),z=y.sqr(N),z=y.add(z,N),$=y.add(z,y.ONE),$=y.mul($,I.B),H=y.cmov(I.Z,y.neg(z),!y.eql(z,y.ZERO)),H=y.mul(H,I.A),z=y.sqr($),j=y.sqr(H),K=y.mul(j,I.A),z=y.add(z,K),z=y.mul(z,$),j=y.mul(j,H),K=y.mul(j,I.B),z=y.add(z,K),B=y.mul(N,$);const{isValid:P,value:E}=S(z,j);D=y.mul(N,T),D=y.mul(D,E),B=y.cmov(B,$,P),D=y.cmov(D,E,P);const b=y.isOdd(T)===y.isOdd(D);return D=y.cmov(y.neg(D),D,b),B=y.div(B,H),{x:B,y:D}}};const e=Rf,n=Tn,r=dn,i=dn;function o(y){y.lowS!==void 0&&(0,i.abool)("lowS",y.lowS),y.prehash!==void 0&&(0,i.abool)("prehash",y.prehash)}const{bytesToNumberBE:s,hexToBytes:a}=r;t.DER={Err:class extends Error{constructor(y=""){super(y)}},_tlv:{encode:(y,I)=>{const{Err:S}=t.DER;if(y<0||y>256)throw new S("tlv.encode: wrong tag");if(1&I.length)throw new S("tlv.encode: unpadded data");const T=I.length/2,N=r.numberToHexUnpadded(T);if(N.length/2&128)throw new S("tlv.encode: long form length too big");const z=T>127?r.numberToHexUnpadded(N.length/2|128):"";return`${r.numberToHexUnpadded(y)}${z}${N}${I}`},decode(y,I){const{Err:S}=t.DER;let T=0;if(y<0||y>256)throw new S("tlv.encode: wrong tag");if(I.length<2||I[T++]!==y)throw new S("tlv.decode: wrong tlv");const N=I[T++];let z=0;if(128&N){const H=127&N;if(!H)throw new S("tlv.decode(long): indefinite length not supported");if(H>4)throw new S("tlv.decode(long): byte length is too big");const K=I.subarray(T,T+H);if(K.length!==H)throw new S("tlv.decode: length bytes not complete");if(K[0]===0)throw new S("tlv.decode(long): zero leftmost byte");for(const j of K)z=z<<8|j;if(T+=H,z<128)throw new S("tlv.decode(long): not minimal encoding")}else z=N;const $=I.subarray(T,T+z);if($.length!==z)throw new S("tlv.decode: wrong value length");return{v:$,l:I.subarray(T+z)}}},_int:{encode(y){const{Err:I}=t.DER;if(y<c)throw new I("integer: negative integers are not allowed");let S=r.numberToHexUnpadded(y);if(8&Number.parseInt(S[0],16)&&(S="00"+S),1&S.length)throw new I("unexpected assertion");return S},decode(y){const{Err:I}=t.DER;if(128&y[0])throw new I("Invalid signature integer: negative");if(y[0]===0&&!(128&y[1]))throw new I("Invalid signature integer: unnecessary leading zero");return s(y)}},toSig(y){const{Err:I,_int:S,_tlv:T}=t.DER,N=typeof y=="string"?a(y):y;r.abytes(N);const{v:z,l:$}=T.decode(48,N);if($.length)throw new I("Invalid signature: left bytes after parsing");const{v:H,l:K}=T.decode(2,z),{v:j,l:B}=T.decode(2,K);if(B.length)throw new I("Invalid signature: left bytes after parsing");return{r:S.decode(H),s:S.decode(j)}},hexFromSig(y){const{_tlv:I,_int:S}=t.DER,T=`${I.encode(2,S.encode(y.r))}${I.encode(2,S.encode(y.s))}`;return I.encode(48,T)}};const c=BigInt(0),l=BigInt(1),u=BigInt(2),f=BigInt(3),p=BigInt(4);function m(y){const I=function(b){const g=(0,e.validateBasic)(b);r.validateObject(g,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:v,Fp:A,a:L}=g;if(v){if(!A.eql(L,A.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof v!="object"||typeof v.beta!="bigint"||typeof v.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...g})}(y),{Fp:S}=I,T=n.Field(I.n,I.nBitLength),N=I.toBytes||((b,g,v)=>{const A=g.toAffine();return r.concatBytes(Uint8Array.from([4]),S.toBytes(A.x),S.toBytes(A.y))}),z=I.fromBytes||(b=>{const g=b.subarray(1);return{x:S.fromBytes(g.subarray(0,S.BYTES)),y:S.fromBytes(g.subarray(S.BYTES,2*S.BYTES))}});function $(b){const{a:g,b:v}=I,A=S.sqr(b),L=S.mul(A,b);return S.add(S.add(L,S.mul(b,g)),v)}if(!S.eql(S.sqr(I.Gy),$(I.Gx)))throw new Error("bad generator point: equation left != right");function H(b){const{allowedPrivateKeyLengths:g,nByteLength:v,wrapPrivateKey:A,n:L}=I;if(g&&typeof b!="bigint"){if(r.isBytes(b)&&(b=r.bytesToHex(b)),typeof b!="string"||!g.includes(b.length))throw new Error("Invalid key");b=b.padStart(2*v,"0")}let C;try{C=typeof b=="bigint"?b:r.bytesToNumberBE((0,i.ensureBytes)("private key",b,v))}catch{throw new Error(`private key must be ${v} bytes, hex or bigint, not ${typeof b}`)}return A&&(C=n.mod(C,L)),r.aInRange("private key",C,l,L),C}function K(b){if(!(b instanceof D))throw new Error("ProjectivePoint expected")}const j=(0,i.memoized)((b,g)=>{const{px:v,py:A,pz:L}=b;if(S.eql(L,S.ONE))return{x:v,y:A};const C=b.is0();g==null&&(g=C?S.ONE:S.inv(L));const O=S.mul(v,g),x=S.mul(A,g),R=S.mul(L,g);if(C)return{x:S.ZERO,y:S.ZERO};if(!S.eql(R,S.ONE))throw new Error("invZ was invalid");return{x:O,y:x}}),B=(0,i.memoized)(b=>{if(b.is0()){if(I.allowInfinityPoint&&!S.is0(b.py))return;throw new Error("bad point: ZERO")}const{x:g,y:v}=b.toAffine();if(!S.isValid(g)||!S.isValid(v))throw new Error("bad point: x or y not FE");const A=S.sqr(v),L=$(g);if(!S.eql(A,L))throw new Error("bad point: equation left != right");if(!b.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class D{constructor(g,v,A){if(this.px=g,this.py=v,this.pz=A,g==null||!S.isValid(g))throw new Error("x required");if(v==null||!S.isValid(v))throw new Error("y required");if(A==null||!S.isValid(A))throw new Error("z required");Object.freeze(this)}static fromAffine(g){const{x:v,y:A}=g||{};if(!g||!S.isValid(v)||!S.isValid(A))throw new Error("invalid affine point");if(g instanceof D)throw new Error("projective point not allowed");const L=C=>S.eql(C,S.ZERO);return L(v)&&L(A)?D.ZERO:new D(v,A,S.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const v=S.invertBatch(g.map(A=>A.pz));return g.map((A,L)=>A.toAffine(v[L])).map(D.fromAffine)}static fromHex(g){const v=D.fromAffine(z((0,i.ensureBytes)("pointHex",g)));return v.assertValidity(),v}static fromPrivateKey(g){return D.BASE.multiply(H(g))}static msm(g,v){return(0,e.pippenger)(D,T,g,v)}_setWindowSize(g){E.setWindowSize(this,g)}assertValidity(){B(this)}hasEvenY(){const{y:g}=this.toAffine();if(S.isOdd)return!S.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){K(g);const{px:v,py:A,pz:L}=this,{px:C,py:O,pz:x}=g,R=S.eql(S.mul(v,x),S.mul(C,L)),_=S.eql(S.mul(A,x),S.mul(O,L));return R&&_}negate(){return new D(this.px,S.neg(this.py),this.pz)}double(){const{a:g,b:v}=I,A=S.mul(v,f),{px:L,py:C,pz:O}=this;let x=S.ZERO,R=S.ZERO,_=S.ZERO,k=S.mul(L,L),U=S.mul(C,C),q=S.mul(O,O),V=S.mul(L,C);return V=S.add(V,V),_=S.mul(L,O),_=S.add(_,_),x=S.mul(g,_),R=S.mul(A,q),R=S.add(x,R),x=S.sub(U,R),R=S.add(U,R),R=S.mul(x,R),x=S.mul(V,x),_=S.mul(A,_),q=S.mul(g,q),V=S.sub(k,q),V=S.mul(g,V),V=S.add(V,_),_=S.add(k,k),k=S.add(_,k),k=S.add(k,q),k=S.mul(k,V),R=S.add(R,k),q=S.mul(C,O),q=S.add(q,q),k=S.mul(q,V),x=S.sub(x,k),_=S.mul(q,U),_=S.add(_,_),_=S.add(_,_),new D(x,R,_)}add(g){K(g);const{px:v,py:A,pz:L}=this,{px:C,py:O,pz:x}=g;let R=S.ZERO,_=S.ZERO,k=S.ZERO;const U=I.a,q=S.mul(I.b,f);let V=S.mul(v,C),Q=S.mul(A,O),Y=S.mul(L,x),X=S.add(v,A),ee=S.add(C,O);X=S.mul(X,ee),ee=S.add(V,Q),X=S.sub(X,ee),ee=S.add(v,L);let ie=S.add(C,x);return ee=S.mul(ee,ie),ie=S.add(V,Y),ee=S.sub(ee,ie),ie=S.add(A,L),R=S.add(O,x),ie=S.mul(ie,R),R=S.add(Q,Y),ie=S.sub(ie,R),k=S.mul(U,ee),R=S.mul(q,Y),k=S.add(R,k),R=S.sub(Q,k),k=S.add(Q,k),_=S.mul(R,k),Q=S.add(V,V),Q=S.add(Q,V),Y=S.mul(U,Y),ee=S.mul(q,ee),Q=S.add(Q,Y),Y=S.sub(V,Y),Y=S.mul(U,Y),ee=S.add(ee,Y),V=S.mul(Q,ee),_=S.add(_,V),V=S.mul(ie,ee),R=S.mul(X,R),R=S.sub(R,V),V=S.mul(X,Q),k=S.mul(ie,k),k=S.add(k,V),new D(R,_,k)}subtract(g){return this.add(g.negate())}is0(){return this.equals(D.ZERO)}wNAF(g){return E.wNAFCached(this,g,D.normalizeZ)}multiplyUnsafe(g){r.aInRange("scalar",g,c,I.n);const v=D.ZERO;if(g===c)return v;if(g===l)return this;const{endo:A}=I;if(!A)return E.unsafeLadder(this,g);let{k1neg:L,k1:C,k2neg:O,k2:x}=A.splitScalar(g),R=v,_=v,k=this;for(;C>c||x>c;)C&l&&(R=R.add(k)),x&l&&(_=_.add(k)),k=k.double(),C>>=l,x>>=l;return L&&(R=R.negate()),O&&(_=_.negate()),_=new D(S.mul(_.px,A.beta),_.py,_.pz),R.add(_)}multiply(g){const{endo:v,n:A}=I;let L,C;if(r.aInRange("scalar",g,l,A),v){const{k1neg:O,k1:x,k2neg:R,k2:_}=v.splitScalar(g);let{p:k,f:U}=this.wNAF(x),{p:q,f:V}=this.wNAF(_);k=E.constTimeNegate(O,k),q=E.constTimeNegate(R,q),q=new D(S.mul(q.px,v.beta),q.py,q.pz),L=k.add(q),C=U.add(V)}else{const{p:O,f:x}=this.wNAF(g);L=O,C=x}return D.normalizeZ([L,C])[0]}multiplyAndAddUnsafe(g,v,A){const L=D.BASE,C=(x,R)=>R!==c&&R!==l&&x.equals(L)?x.multiply(R):x.multiplyUnsafe(R),O=C(this,v).add(C(g,A));return O.is0()?void 0:O}toAffine(g){return j(this,g)}isTorsionFree(){const{h:g,isTorsionFree:v}=I;if(g===l)return!0;if(v)return v(D,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:v}=I;return g===l?this:v?v(D,this):this.multiplyUnsafe(I.h)}toRawBytes(g=!0){return(0,i.abool)("isCompressed",g),this.assertValidity(),N(D,this,g)}toHex(g=!0){return(0,i.abool)("isCompressed",g),r.bytesToHex(this.toRawBytes(g))}}D.BASE=new D(I.Gx,I.Gy,S.ONE),D.ZERO=new D(S.ZERO,S.ONE,S.ZERO);const P=I.nBitLength,E=(0,e.wNAF)(D,I.endo?Math.ceil(P/2):P);return{CURVE:I,ProjectivePoint:D,normPrivateKeyToScalar:H,weierstrassEquation:$,isWithinCurveOrder:function(b){return r.inRange(b,l,I.n)}}}function w(y,I){const S=y.ORDER;let T=c;for(let b=S-l;b%u===c;b/=u)T+=l;const N=T,z=u<<N-l-l,$=z*u,H=(S-l)/$,K=(H-l)/u,j=$-l,B=z,D=y.pow(I,H),P=y.pow(I,(H+l)/u);let E=(b,g)=>{let v=D,A=y.pow(g,j),L=y.sqr(A);L=y.mul(L,g);let C=y.mul(b,L);C=y.pow(C,K),C=y.mul(C,A),A=y.mul(C,g),L=y.mul(C,b);let O=y.mul(L,A);C=y.pow(O,B);let x=y.eql(C,y.ONE);A=y.mul(L,P),C=y.mul(O,v),L=y.cmov(A,L,x),O=y.cmov(C,O,x);for(let R=N;R>l;R--){let _=R-u;_=u<<_-l;let k=y.pow(O,_);const U=y.eql(k,y.ONE);A=y.mul(L,v),v=y.mul(v,v),k=y.mul(O,v),L=y.cmov(A,L,U),O=y.cmov(k,O,U)}return{isValid:x,value:L}};if(y.ORDER%p===f){const b=(y.ORDER-f)/p,g=y.sqrt(y.neg(I));E=(v,A)=>{let L=y.sqr(A);const C=y.mul(v,A);L=y.mul(L,C);let O=y.pow(L,b);O=y.mul(O,C);const x=y.mul(O,g),R=y.mul(y.sqr(O),A),_=y.eql(R,v);return{isValid:_,value:y.cmov(x,O,_)}}}return E}})(UC),Object.defineProperty(Zv,"__esModule",{value:!0}),Zv.getHash=M8,Zv.createCurve=function(t,e){const n=r=>(0,SZ.weierstrass)({...t,...M8(r)});return Object.freeze({...n(e),create:n})};const _Z=FC,k8=Tc,SZ=UC;function M8(t){return{hash:t,hmac:(e,...n)=>(0,_Z.hmac)(t,e,(0,k8.concatBytes)(...n)),randomBytes:k8.randomBytes}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.schnorr=t.secp256k1=void 0;const e=vc,n=Tc,r=Zv,i=bl,o=Tn,s=dn,a=UC,c=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),l=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),u=BigInt(1),f=BigInt(2),p=(C,O)=>(C+O/f)/O;function m(C){const O=c,x=BigInt(3),R=BigInt(6),_=BigInt(11),k=BigInt(22),U=BigInt(23),q=BigInt(44),V=BigInt(88),Q=C*C*C%O,Y=Q*Q*C%O,X=(0,o.pow2)(Y,x,O)*Y%O,ee=(0,o.pow2)(X,x,O)*Y%O,ie=(0,o.pow2)(ee,f,O)*Q%O,oe=(0,o.pow2)(ie,_,O)*ie%O,te=(0,o.pow2)(oe,k,O)*oe%O,se=(0,o.pow2)(te,q,O)*te%O,ue=(0,o.pow2)(se,V,O)*se%O,me=(0,o.pow2)(ue,q,O)*te%O,ye=(0,o.pow2)(me,x,O)*Y%O,pe=(0,o.pow2)(ye,U,O)*oe%O,de=(0,o.pow2)(pe,R,O)*Q%O,Ee=(0,o.pow2)(de,f,O);if(!w.eql(w.sqr(Ee),C))throw new Error("Cannot find square root");return Ee}const w=(0,o.Field)(c,void 0,void 0,{sqrt:m});t.secp256k1=(0,r.createCurve)({a:BigInt(0),b:BigInt(7),Fp:w,n:l,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:C=>{const O=l,x=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),R=-u*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),_=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),k=x,U=BigInt("0x100000000000000000000000000000000"),q=p(k*C,O),V=p(-R*C,O);let Q=(0,o.mod)(C-q*x-V*_,O),Y=(0,o.mod)(-q*R-V*k,O);const X=Q>U,ee=Y>U;if(X&&(Q=O-Q),ee&&(Y=O-Y),Q>U||Y>U)throw new Error("splitScalar: Endomorphism failed, k="+C);return{k1neg:X,k1:Q,k2neg:ee,k2:Y}}}},e.sha256);const y=BigInt(0),I={};function S(C,...O){let x=I[C];if(x===void 0){const R=(0,e.sha256)(Uint8Array.from(C,_=>_.charCodeAt(0)));x=(0,s.concatBytes)(R,R),I[C]=x}return(0,e.sha256)((0,s.concatBytes)(x,...O))}const T=C=>C.toRawBytes(!0).slice(1),N=C=>(0,s.numberToBytesBE)(C,32),z=C=>(0,o.mod)(C,c),$=C=>(0,o.mod)(C,l),H=t.secp256k1.ProjectivePoint,K=(C,O,x)=>H.BASE.multiplyAndAddUnsafe(C,O,x);function j(C){let O=t.secp256k1.utils.normPrivateKeyToScalar(C),x=H.fromPrivateKey(O);return{scalar:x.hasEvenY()?O:$(-O),bytes:T(x)}}function B(C){(0,s.aInRange)("x",C,u,c);const O=z(C*C);let x=m(z(O*C+BigInt(7)));x%f!==y&&(x=z(-x));const R=new H(C,x,u);return R.assertValidity(),R}const D=s.bytesToNumberBE;function P(...C){return $(D(S("BIP0340/challenge",...C)))}function E(C){return j(C).bytes}function b(C,O,x=(0,n.randomBytes)(32)){const R=(0,s.ensureBytes)("message",C),{bytes:_,scalar:k}=j(O),U=(0,s.ensureBytes)("auxRand",x,32),q=N(k^D(S("BIP0340/aux",U))),V=S("BIP0340/nonce",q,_,R),Q=$(D(V));if(Q===y)throw new Error("sign failed: k is zero");const{bytes:Y,scalar:X}=j(Q),ee=P(Y,_,R),ie=new Uint8Array(64);if(ie.set(Y,0),ie.set(N($(X+ee*k)),32),!g(ie,R,_))throw new Error("sign: Invalid signature produced");return ie}function g(C,O,x){const R=(0,s.ensureBytes)("signature",C,64),_=(0,s.ensureBytes)("message",O),k=(0,s.ensureBytes)("publicKey",x,32);try{const U=B(D(k)),q=D(R.subarray(0,32));if(!(0,s.inRange)(q,u,c))return!1;const V=D(R.subarray(32,64));if(!(0,s.inRange)(V,u,l))return!1;const Q=P(N(q),T(U),_),Y=K(U,V,$(-Q));return!(!Y||!Y.hasEvenY()||Y.toAffine().x!==q)}catch{return!1}}t.schnorr={getPublicKey:E,sign:b,verify:g,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:B,pointToBytes:T,numberToBytesBE:s.numberToBytesBE,bytesToNumberBE:s.bytesToNumberBE,taggedHash:S,mod:o.mod}};const v=(0,i.isogenyMap)(w,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(C=>C.map(O=>BigInt(O)))),A=(0,a.mapToCurveSimpleSWU)(w,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:w.create(BigInt("-11"))}),L=(0,i.createHasher)(t.secp256k1.ProjectivePoint,C=>{const{x:O,y:x}=A(w.create(C[0]));return v(O,x)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:w.ORDER,m:1,k:128,expand:"xmd",hash:e.sha256});t.hashToCurve=L.hashToCurve,t.encodeToCurve=L.encodeToCurve})(VL);var F_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeHex=t.remove0x=void 0;var e=Lo;t.remove0x=function(n){return n.startsWith("0x")||n.startsWith("0X")?n.slice(2):n},t.decodeHex=function(n){return(0,e.hexToBytes)((0,t.remove0x)(n))}})(F_),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hexToPublicKey=t.convertPublicKeyFormat=t.getSharedPoint=t.getPublicKey=t.isValidPrivateKey=t.getValidSecret=void 0;var e=BC,n=pL,r=VL,i=u0,o=Ur,s=F_;t.getValidSecret=function(){var u;do u=(0,e.randomBytes)(o.SECRET_KEY_LENGTH);while(!(0,t.isValidPrivateKey)(u));return u},t.isValidPrivateKey=function(u){return a((0,i.ellipticCurve)(),function(f){return f.utils.isValidPrivateKey(u)},function(){return!0},function(){return!0})},t.getPublicKey=function(u){return a((0,i.ellipticCurve)(),function(f){return f.getPublicKey(u)},function(f){return f.getPublicKey(u)},function(f){return f.getPublicKey(u)})},t.getSharedPoint=function(u,f,p){return a((0,i.ellipticCurve)(),function(m){return m.getSharedSecret(u,f,p)},function(m){return m.getSharedSecret(u,f)},function(m){return l(m,u,f)})},t.convertPublicKeyFormat=function(u,f){return a((0,i.ellipticCurve)(),function(p){return p.getSharedSecret(BigInt(1),u,f)},function(){return u},function(){return u})};function a(u,f,p,m){if(u==="secp256k1")return f(r.secp256k1);if(u==="x25519")return p(n.x25519);if(u==="ed25519")return m(n.ed25519);throw new Error("Not implemented")}t.hexToPublicKey=function(u){var f=(0,s.decodeHex)(u);return a((0,i.ellipticCurve)(),function(){return c(f)},function(){return f},function(){return f})};var c=function(u){if(u.length===o.ETH_PUBLIC_KEY_SIZE){var f=new Uint8Array(1+u.length);return f.set([4]),f.set(u,1),f}return u},l=function(u,f,p){var m=u.utils.getExtendedPublicKey(f).scalar;return u.ExtendedPoint.fromHex(p).multiply(m).toRawBytes()}}(hL);var GL={},Of={};Object.defineProperty(Of,"__esModule",{value:!0}),Of.hkdf=void 0,Of.extract=JL,Of.expand=ZL;const U_=Io,R8=Tc,YL=FC;function JL(t,e,n){return(0,U_.hash)(t),n===void 0&&(n=new Uint8Array(t.outputLen)),(0,YL.hmac)(t,(0,R8.toBytes)(n),(0,R8.toBytes)(e))}const qE=new Uint8Array([0]),O8=new Uint8Array;function ZL(t,e,n,r=32){if((0,U_.hash)(t),(0,U_.number)(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/t.outputLen);n===void 0&&(n=O8);const o=new Uint8Array(i*t.outputLen),s=YL.hmac.create(t,e),a=s._cloneInto(),c=new Uint8Array(s.outputLen);for(let l=0;l<i;l++)qE[0]=l+1,a.update(l===0?O8:c).update(n).update(qE).digestInto(c),o.set(c,t.outputLen*l),s._cloneInto(a);return s.destroy(),a.destroy(),c.fill(0),qE.fill(0),o.slice(0,r)}Of.hkdf=(t,e,n,r,i)=>ZL(t,JL(t,e,n),r,i),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getSharedKey=t.deriveKey=void 0;var e=Lo,n=Of,r=vc;t.deriveKey=function(i,o,s){return(0,n.hkdf)(r.sha256,i,o,s,32)},t.getSharedKey=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return(0,t.deriveKey)(e.concatBytes.apply(void 0,i))}}(GL);var T8={},zf={},ur={},Wu={};Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.polyval=Wu.ghash=void 0,Wu._toGHASHKey=XL;const Vu=Ai,ji=Lo,tc=16,zC=new Uint8Array(16),ma=(0,ji.u32)(zC),os=t=>(t>>>0&255)<<24|(t>>>8&255)<<16|(t>>>16&255)<<8|t>>>24&255|0;function XL(t){t.reverse();const e=1&t[15];let n=0;for(let r=0;r<t.length;r++){const i=t[r];t[r]=i>>>1|n,n=(1&i)<<7}return t[0]^=225&-e,t}class QL{constructor(e,n){this.blockLen=tc,this.outputLen=tc,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,e=(0,ji.toBytes)(e),(0,Vu.bytes)(e,16);const r=(0,ji.createView)(e);let i=r.getUint32(0,!1),o=r.getUint32(4,!1),s=r.getUint32(8,!1),a=r.getUint32(12,!1);const c=[];for(let S=0;S<128;S++)c.push({s0:os(i),s1:os(o),s2:os(s),s3:os(a)}),{s0:i,s1:o,s2:s,s3:a}={s3:(f=s)<<31|(p=a)>>>1,s2:(u=o)<<31|f>>>1,s1:(l=i)<<31|u>>>1,s0:l>>>1^225<<24&-(1&p)};var l,u,f,p;const m=(S=>S>65536?8:S>1024?4:2)(n||1024);if(![1,2,4,8].includes(m))throw new Error(`ghash: wrong window size=${m}, should be 2, 4 or 8`);this.W=m;const w=128/m,y=this.windowSize=2**m,I=[];for(let S=0;S<w;S++)for(let T=0;T<y;T++){let N=0,z=0,$=0,H=0;for(let K=0;K<m;K++){if(!(T>>>m-K-1&1))continue;const{s0:j,s1:B,s2:D,s3:P}=c[m*S+K];N^=j,z^=B,$^=D,H^=P}I.push({s0:N,s1:z,s2:$,s3:H})}this.t=I}_updateBlock(e,n,r,i){e^=this.s0,n^=this.s1,r^=this.s2,i^=this.s3;const{W:o,t:s,windowSize:a}=this;let c=0,l=0,u=0,f=0;const p=(1<<o)-1;let m=0;for(const w of[e,n,r,i])for(let y=0;y<4;y++){const I=w>>>8*y&255;for(let S=8/o-1;S>=0;S--){const T=I>>>o*S&p,{s0:N,s1:z,s2:$,s3:H}=s[m*a+T];c^=N,l^=z,u^=$,f^=H,m+=1}}this.s0=c,this.s1=l,this.s2=u,this.s3=f}update(e){e=(0,ji.toBytes)(e),(0,Vu.exists)(this);const n=(0,ji.u32)(e),r=Math.floor(e.length/tc),i=e.length%tc;for(let o=0;o<r;o++)this._updateBlock(n[4*o+0],n[4*o+1],n[4*o+2],n[4*o+3]);return i&&(zC.set(e.subarray(r*tc)),this._updateBlock(ma[0],ma[1],ma[2],ma[3]),(0,ji.clean)(ma)),this}destroy(){const{t:e}=this;for(const n of e)n.s0=0,n.s1=0,n.s2=0,n.s3=0}digestInto(e){(0,Vu.exists)(this),(0,Vu.output)(e,this),this.finished=!0;const{s0:n,s1:r,s2:i,s3:o}=this,s=(0,ji.u32)(e);return s[0]=n,s[1]=r,s[2]=i,s[3]=o,e}digest(){const e=new Uint8Array(tc);return this.digestInto(e),this.destroy(),e}}class CZ extends QL{constructor(e,n){e=(0,ji.toBytes)(e);const r=XL((0,ji.copyBytes)(e));super(r,n),(0,ji.clean)(r)}update(e){e=(0,ji.toBytes)(e),(0,Vu.exists)(this);const n=(0,ji.u32)(e),r=e.length%tc,i=Math.floor(e.length/tc);for(let o=0;o<i;o++)this._updateBlock(os(n[4*o+3]),os(n[4*o+2]),os(n[4*o+1]),os(n[4*o+0]));return r&&(zC.set(e.subarray(i*tc)),this._updateBlock(os(ma[3]),os(ma[2]),os(ma[1]),os(ma[0])),(0,ji.clean)(ma)),this}digestInto(e){(0,Vu.exists)(this),(0,Vu.output)(e,this),this.finished=!0;const{s0:n,s1:r,s2:i,s3:o}=this,s=(0,ji.u32)(e);return s[0]=n,s[1]=r,s[2]=i,s[3]=o,e.reverse()}}function N8(t){const e=(r,i)=>t(i,r.length).update((0,ji.toBytes)(r)).digest(),n=t(new Uint8Array(16),0);return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=(r,i)=>t(r,i),e}Wu.ghash=N8((t,e)=>new QL(t,e)),Wu.polyval=N8((t,e)=>new CZ(t,e)),Object.defineProperty(ur,"__esModule",{value:!0}),ur.unsafe=ur.aeskwp=ur.aeskw=ur.siv=ur.gcm=ur.cfb=ur.cbc=ur.ecb=ur.ctr=void 0,ur.expandKeyLE=Ds,ur.expandKeyDecLE=f0;const xn=Ai,z_=Wu,Xe=Lo,po=16,lv=new Uint8Array(po),AZ=283;function qC(t){return t<<1^AZ&-(t>>7)}function Tf(t,e){let n=0;for(;e>0;e>>=1)n^=t&-(1&e),t=qC(t);return n}const q_=(()=>{const t=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=qC(r))t[n]=r;const e=new Uint8Array(256);e[0]=99;for(let n=0;n<255;n++){let r=t[255-n];r|=r<<8,e[t[n]]=255&(r^r>>4^r>>5^r>>6^r>>7^99)}return(0,Xe.clean)(t),e})(),IZ=q_.map((t,e)=>q_.indexOf(e)),kZ=t=>t<<24|t>>>8,HE=t=>t<<8|t>>>24,Py=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function eB(t,e){if(t.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((l,u)=>e(t[u])),r=n.map(HE),i=r.map(HE),o=i.map(HE),s=new Uint32Array(65536),a=new Uint32Array(65536),c=new Uint16Array(65536);for(let l=0;l<256;l++)for(let u=0;u<256;u++){const f=256*l+u;s[f]=n[l]^r[u],a[f]=i[l]^o[u],c[f]=t[l]<<8|t[u]}return{sbox:t,sbox2:c,T0:n,T1:r,T2:i,T3:o,T01:s,T23:a}}const HC=eB(q_,t=>Tf(t,3)<<24|t<<16|t<<8|Tf(t,2)),tB=eB(IZ,t=>Tf(t,11)<<24|Tf(t,13)<<16|Tf(t,9)<<8|Tf(t,14)),MZ=(()=>{const t=new Uint8Array(16);for(let e=0,n=1;e<16;e++,n=qC(n))t[e]=n;return t})();function Ds(t){(0,xn.bytes)(t);const e=t.length;if(![16,24,32].includes(e))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${e}`);const{sbox2:n}=HC,r=[];(0,Xe.isAligned32)(t)||r.push(t=(0,Xe.copyBytes)(t));const i=(0,Xe.u32)(t),o=i.length,s=c=>ya(n,c,c,c,c),a=new Uint32Array(e+28);a.set(i);for(let c=o;c<a.length;c++){let l=a[c-1];c%o==0?l=s(kZ(l))^MZ[c/o-1]:o>6&&c%o==4&&(l=s(l)),a[c]=a[c-o]^l}return(0,Xe.clean)(...r),a}function f0(t){const e=Ds(t),n=e.slice(),r=e.length,{sbox2:i}=HC,{T0:o,T1:s,T2:a,T3:c}=tB;for(let l=0;l<r;l+=4)for(let u=0;u<4;u++)n[l+u]=e[r-l-4+u];(0,Xe.clean)(e);for(let l=4;l<r-4;l++){const u=n[l],f=ya(i,u,u,u,u);n[l]=o[255&f]^s[f>>>8&255]^a[f>>>16&255]^c[f>>>24]}return n}function Fl(t,e,n,r,i,o){return t[n<<8&65280|r>>>8&255]^e[i>>>8&65280|o>>>24&255]}function ya(t,e,n,r,i){return t[255&e|65280&n]|t[r>>>16&255|i>>>16&65280]<<16}function $i(t,e,n,r,i){const{sbox2:o,T01:s,T23:a}=HC;let c=0;e^=t[c++],n^=t[c++],r^=t[c++],i^=t[c++];const l=t.length/4-2;for(let u=0;u<l;u++){const f=t[c++]^Fl(s,a,e,n,r,i),p=t[c++]^Fl(s,a,n,r,i,e),m=t[c++]^Fl(s,a,r,i,e,n),w=t[c++]^Fl(s,a,i,e,n,r);e=f,n=p,r=m,i=w}return{s0:t[c++]^ya(o,e,n,r,i),s1:t[c++]^ya(o,n,r,i,e),s2:t[c++]^ya(o,r,i,e,n),s3:t[c++]^ya(o,i,e,n,r)}}function h0(t,e,n,r,i){const{sbox2:o,T01:s,T23:a}=tB;let c=0;e^=t[c++],n^=t[c++],r^=t[c++],i^=t[c++];const l=t.length/4-2;for(let u=0;u<l;u++){const f=t[c++]^Fl(s,a,e,i,r,n),p=t[c++]^Fl(s,a,n,e,i,r),m=t[c++]^Fl(s,a,r,n,e,i),w=t[c++]^Fl(s,a,i,r,n,e);e=f,n=p,r=m,i=w}return{s0:t[c++]^ya(o,e,i,r,n),s1:t[c++]^ya(o,n,e,i,r),s2:t[c++]^ya(o,r,n,e,i),s3:t[c++]^ya(o,i,r,n,e)}}function qf(t,e){if(e===void 0)return new Uint8Array(t);if((0,xn.bytes)(e),e.length<t)throw new Error(`aes: wrong destination length, expected at least ${t}, got: ${e.length}`);if(!(0,Xe.isAligned32)(e))throw new Error("unaligned dst");return e}function nB(t,e,n,r){(0,xn.bytes)(e,po),(0,xn.bytes)(n);const i=n.length;r=qf(i,r);const o=e,s=(0,Xe.u32)(o);let{s0:a,s1:c,s2:l,s3:u}=$i(t,s[0],s[1],s[2],s[3]);const f=(0,Xe.u32)(n),p=(0,Xe.u32)(r);for(let w=0;w+4<=f.length;w+=4){p[w+0]=f[w+0]^a,p[w+1]=f[w+1]^c,p[w+2]=f[w+2]^l,p[w+3]=f[w+3]^u;let y=1;for(let I=o.length-1;I>=0;I--)y=y+(255&o[I])|0,o[I]=255&y,y>>>=8;({s0:a,s1:c,s2:l,s3:u}=$i(t,s[0],s[1],s[2],s[3]))}const m=po*Math.floor(f.length/4);if(m<i){const w=new Uint32Array([a,c,l,u]),y=(0,Xe.u8)(w);for(let I=m,S=0;I<i;I++,S++)r[I]=n[I]^y[S];(0,Xe.clean)(w)}return r}function Nf(t,e,n,r,i){(0,xn.bytes)(n,po),(0,xn.bytes)(r),i=qf(r.length,i);const o=n,s=(0,Xe.u32)(o),a=(0,Xe.createView)(o),c=(0,Xe.u32)(r),l=(0,Xe.u32)(i),u=e?0:12,f=r.length;let p=a.getUint32(u,e),{s0:m,s1:w,s2:y,s3:I}=$i(t,s[0],s[1],s[2],s[3]);for(let T=0;T+4<=c.length;T+=4)l[T+0]=c[T+0]^m,l[T+1]=c[T+1]^w,l[T+2]=c[T+2]^y,l[T+3]=c[T+3]^I,p=p+1>>>0,a.setUint32(u,p,e),{s0:m,s1:w,s2:y,s3:I}=$i(t,s[0],s[1],s[2],s[3]);const S=po*Math.floor(c.length/4);if(S<f){const T=new Uint32Array([m,w,y,I]),N=(0,Xe.u8)(T);for(let z=S,$=0;z<f;z++,$++)i[z]=r[z]^N[$];(0,Xe.clean)(T)}return i}function P8(t){if((0,xn.bytes)(t),t.length%po!=0)throw new Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size 16")}function L8(t,e,n){(0,xn.bytes)(t);let r=t.length;const i=r%po;if(!e&&i!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");(0,Xe.isAligned32)(t)||(t=(0,Xe.copyBytes)(t));const o=(0,Xe.u32)(t);if(e){let a=po-i;a||(a=po),r+=a}const s=qf(r,n);return{b:o,o:(0,Xe.u32)(s),out:s}}function B8(t,e){if(!e)return t;const n=t.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=t[n-1];if(r<=0||r>16)throw new Error("aes/pcks5: wrong padding");const i=t.subarray(0,-r);for(let o=0;o<r;o++)if(t[n-o-1]!==r)throw new Error("aes/pcks5: wrong padding");return i}function D8(t){const e=new Uint8Array(16),n=(0,Xe.u32)(e);e.set(t);const r=po-t.length;for(let i=po-r;i<po;i++)e[i]=r;return n}function rB(t,e,n,r,i){const o=i==null?0:i.length,s=t.create(n,r.length+o);i&&s.update(i),s.update(r);const a=new Uint8Array(16),c=(0,Xe.createView)(a);i&&(0,Xe.setBigUint64)(c,0,BigInt(8*o),e),(0,Xe.setBigUint64)(c,8,BigInt(8*r.length),e),s.update(a);const l=s.digest();return(0,Xe.clean)(a),l}ur.ctr=(0,Xe.wrapCipher)({blockSize:16,nonceLength:16},function(t,e){function n(r,i){if((0,xn.bytes)(r),i!==void 0&&((0,xn.bytes)(i),!(0,Xe.isAligned32)(i)))throw new Error("unaligned destination");const o=Ds(t),s=(0,Xe.copyBytes)(e),a=[o,s];(0,Xe.isAligned32)(r)||a.push(r=(0,Xe.copyBytes)(r));const c=nB(o,s,r,i);return(0,Xe.clean)(...a),c}return(0,xn.bytes)(t),(0,xn.bytes)(e,po),{encrypt:(r,i)=>n(r,i),decrypt:(r,i)=>n(r,i)}}),ur.ecb=(0,Xe.wrapCipher)({blockSize:16},function(t,e={}){(0,xn.bytes)(t);const n=!e.disablePadding;return{encrypt(r,i){const{b:o,o:s,out:a}=L8(r,n,i),c=Ds(t);let l=0;for(;l+4<=o.length;){const{s0:u,s1:f,s2:p,s3:m}=$i(c,o[l+0],o[l+1],o[l+2],o[l+3]);s[l++]=u,s[l++]=f,s[l++]=p,s[l++]=m}if(n){const u=D8(r.subarray(4*l)),{s0:f,s1:p,s2:m,s3:w}=$i(c,u[0],u[1],u[2],u[3]);s[l++]=f,s[l++]=p,s[l++]=m,s[l++]=w}return(0,Xe.clean)(c),a},decrypt(r,i){P8(r);const o=f0(t),s=qf(r.length,i),a=[o];(0,Xe.isAligned32)(r)||a.push(r=(0,Xe.copyBytes)(r));const c=(0,Xe.u32)(r),l=(0,Xe.u32)(s);for(let u=0;u+4<=c.length;){const{s0:f,s1:p,s2:m,s3:w}=h0(o,c[u+0],c[u+1],c[u+2],c[u+3]);l[u++]=f,l[u++]=p,l[u++]=m,l[u++]=w}return(0,Xe.clean)(...a),B8(s,n)}}}),ur.cbc=(0,Xe.wrapCipher)({blockSize:16,nonceLength:16},function(t,e,n={}){(0,xn.bytes)(t),(0,xn.bytes)(e,16);const r=!n.disablePadding;return{encrypt(i,o){const s=Ds(t),{b:a,o:c,out:l}=L8(i,r,o);let u=e;const f=[s];(0,Xe.isAligned32)(u)||f.push(u=(0,Xe.copyBytes)(u));const p=(0,Xe.u32)(u);let m=p[0],w=p[1],y=p[2],I=p[3],S=0;for(;S+4<=a.length;)m^=a[S+0],w^=a[S+1],y^=a[S+2],I^=a[S+3],{s0:m,s1:w,s2:y,s3:I}=$i(s,m,w,y,I),c[S++]=m,c[S++]=w,c[S++]=y,c[S++]=I;if(r){const T=D8(i.subarray(4*S));m^=T[0],w^=T[1],y^=T[2],I^=T[3],{s0:m,s1:w,s2:y,s3:I}=$i(s,m,w,y,I),c[S++]=m,c[S++]=w,c[S++]=y,c[S++]=I}return(0,Xe.clean)(...f),l},decrypt(i,o){P8(i);const s=f0(t);let a=e;const c=[s];(0,Xe.isAligned32)(a)||c.push(a=(0,Xe.copyBytes)(a));const l=(0,Xe.u32)(a),u=qf(i.length,o);(0,Xe.isAligned32)(i)||c.push(i=(0,Xe.copyBytes)(i));const f=(0,Xe.u32)(i),p=(0,Xe.u32)(u);let m=l[0],w=l[1],y=l[2],I=l[3];for(let S=0;S+4<=f.length;){const T=m,N=w,z=y,$=I;m=f[S+0],w=f[S+1],y=f[S+2],I=f[S+3];const{s0:H,s1:K,s2:j,s3:B}=h0(s,m,w,y,I);p[S++]=H^T,p[S++]=K^N,p[S++]=j^z,p[S++]=B^$}return(0,Xe.clean)(...c),B8(u,r)}}}),ur.cfb=(0,Xe.wrapCipher)({blockSize:16,nonceLength:16},function(t,e){function n(r,i,o){(0,xn.bytes)(r);const s=r.length;o=qf(s,o);const a=Ds(t);let c=e;const l=[a];(0,Xe.isAligned32)(c)||l.push(c=(0,Xe.copyBytes)(c)),(0,Xe.isAligned32)(r)||l.push(r=(0,Xe.copyBytes)(r));const u=(0,Xe.u32)(r),f=(0,Xe.u32)(o),p=i?f:u,m=(0,Xe.u32)(c);let w=m[0],y=m[1],I=m[2],S=m[3];for(let N=0;N+4<=u.length;){const{s0:z,s1:$,s2:H,s3:K}=$i(a,w,y,I,S);f[N+0]=u[N+0]^z,f[N+1]=u[N+1]^$,f[N+2]=u[N+2]^H,f[N+3]=u[N+3]^K,w=p[N++],y=p[N++],I=p[N++],S=p[N++]}const T=po*Math.floor(u.length/4);if(T<s){({s0:w,s1:y,s2:I,s3:S}=$i(a,w,y,I,S));const N=(0,Xe.u8)(new Uint32Array([w,y,I,S]));for(let z=T,$=0;z<s;z++,$++)o[z]=r[z]^N[$];(0,Xe.clean)(N)}return(0,Xe.clean)(...l),o}return(0,xn.bytes)(t),(0,xn.bytes)(e,16),{encrypt:(r,i)=>n(r,!0,i),decrypt:(r,i)=>n(r,!1,i)}}),ur.gcm=(0,Xe.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},function(t,e,n){if((0,xn.bytes)(t),(0,xn.bytes)(e),n!==void 0&&(0,xn.bytes)(n),e.length<8)throw new Error("aes/gcm: invalid nonce length");const r=16;function i(s,a,c){const l=rB(z_.ghash,!1,s,c,n);for(let u=0;u<a.length;u++)l[u]^=a[u];return l}function o(){const s=Ds(t),a=lv.slice(),c=lv.slice();if(Nf(s,!1,c,c,a),e.length===12)c.set(e);else{const l=lv.slice(),u=(0,Xe.createView)(l);(0,Xe.setBigUint64)(u,8,BigInt(8*e.length),!1);const f=z_.ghash.create(a).update(e).update(l);f.digestInto(c),f.destroy()}return{xk:s,authKey:a,counter:c,tagMask:Nf(s,!1,c,lv)}}return{encrypt(s){(0,xn.bytes)(s);const{xk:a,authKey:c,counter:l,tagMask:u}=o(),f=new Uint8Array(s.length+r),p=[a,c,l,u];(0,Xe.isAligned32)(s)||p.push(s=(0,Xe.copyBytes)(s)),Nf(a,!1,l,s,f);const m=i(c,u,f.subarray(0,f.length-r));return p.push(m),f.set(m,s.length),(0,Xe.clean)(...p),f},decrypt(s){if((0,xn.bytes)(s),s.length<r)throw new Error("aes/gcm: ciphertext less than tagLen (16)");const{xk:a,authKey:c,counter:l,tagMask:u}=o(),f=[a,c,u,l];(0,Xe.isAligned32)(s)||f.push(s=(0,Xe.copyBytes)(s));const p=s.subarray(0,-16),m=s.subarray(-16),w=i(c,u,p);if(f.push(w),!(0,Xe.equalBytes)(w,m))throw new Error("aes/gcm: invalid ghash tag");const y=Nf(a,!1,l,p);return(0,Xe.clean)(...f),y}}});const uv=(t,e,n)=>r=>{if(!Number.isSafeInteger(r)||e>r||r>n)throw new Error(`${t}: invalid value=${r}, must be [${e}..${n}]`)};function iB(t){return t!=null&&typeof t=="object"&&(t instanceof Uint32Array||t.constructor.name==="Uint32Array")}function oB(t,e){if((0,xn.bytes)(e,16),!iB(t))throw new Error("_encryptBlock accepts result of expandKeyLE");const n=(0,Xe.u32)(e);let{s0:r,s1:i,s2:o,s3:s}=$i(t,n[0],n[1],n[2],n[3]);return n[0]=r,n[1]=i,n[2]=o,n[3]=s,e}function sB(t,e){if((0,xn.bytes)(e,16),!iB(t))throw new Error("_decryptBlock accepts result of expandKeyLE");const n=(0,Xe.u32)(e);let{s0:r,s1:i,s2:o,s3:s}=h0(t,n[0],n[1],n[2],n[3]);return n[0]=r,n[1]=i,n[2]=o,n[3]=s,e}ur.siv=(0,Xe.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},function(t,e,n){const r=uv("AAD",0,68719476736),i=uv("plaintext",0,2**36),o=uv("nonce",12,12),s=uv("ciphertext",16,2**36+16);function a(){const u=Ds(t),f=new Uint8Array(t.length),p=new Uint8Array(16),m=[u,f];let w=e;(0,Xe.isAligned32)(w)||m.push(w=(0,Xe.copyBytes)(w));const y=(0,Xe.u32)(w);let I=0,S=y[0],T=y[1],N=y[2],z=0;for(const H of[p,f].map(Xe.u32)){const K=(0,Xe.u32)(H);for(let j=0;j<K.length;j+=2){const{s0:B,s1:D}=$i(u,I,S,T,N);K[j+0]=B,K[j+1]=D,I=++z}}const $={authKey:p,encKey:Ds(f)};return(0,Xe.clean)(...m),$}function c(u,f,p){const m=rB(z_.polyval,!0,f,p,n);for(let N=0;N<12;N++)m[N]^=e[N];m[15]&=127;const w=(0,Xe.u32)(m);let y=w[0],I=w[1],S=w[2],T=w[3];return{s0:y,s1:I,s2:S,s3:T}=$i(u,y,I,S,T),w[0]=y,w[1]=I,w[2]=S,w[3]=T,m}function l(u,f,p){let m=(0,Xe.copyBytes)(f);m[15]|=128;const w=Nf(u,!0,m,p);return(0,Xe.clean)(m),w}return(0,xn.bytes)(t,16,24,32),(0,xn.bytes)(e),o(e.length),n!==void 0&&((0,xn.bytes)(n),r(n.length)),{encrypt(u){(0,xn.bytes)(u),i(u.length);const{encKey:f,authKey:p}=a(),m=c(f,p,u),w=[f,p,m];(0,Xe.isAligned32)(u)||w.push(u=(0,Xe.copyBytes)(u));const y=new Uint8Array(u.length+16);return y.set(m,u.length),y.set(l(f,m,u)),(0,Xe.clean)(...w),y},decrypt(u){(0,xn.bytes)(u),s(u.length);const f=u.subarray(-16),{encKey:p,authKey:m}=a(),w=[p,m];(0,Xe.isAligned32)(u)||w.push(u=(0,Xe.copyBytes)(u));const y=l(p,f,u.subarray(0,-16)),I=c(p,m,y);if(w.push(I),!(0,Xe.equalBytes)(f,I))throw(0,Xe.clean)(...w),new Error("invalid polyval tag");return(0,Xe.clean)(...w),y}}});const Ly={encrypt(t,e){if(e.length>=2**32)throw new Error("plaintext should be less than 4gb");const n=Ds(t);if(e.length===16)oB(n,e);else{const r=(0,Xe.u32)(e);let i=r[0],o=r[1];for(let s=0,a=1;s<6;s++)for(let c=2;c<r.length;c+=2,a++){const{s0:l,s1:u,s2:f,s3:p}=$i(n,i,o,r[c],r[c+1]);i=l,o=u^Py(a),r[c]=f,r[c+1]=p}r[0]=i,r[1]=o}n.fill(0)},decrypt(t,e){if(e.length-8>=2**32)throw new Error("ciphertext should be less than 4gb");const n=f0(t),r=e.length/8-1;if(r===1)sB(n,e);else{const i=(0,Xe.u32)(e);let o=i[0],s=i[1];for(let a=0,c=6*r;a<6;a++)for(let l=2*r;l>=1;l-=2,c--){s^=Py(c);const{s0:u,s1:f,s2:p,s3:m}=h0(n,o,s,i[l],i[l+1]);o=u,s=f,i[l]=p,i[l+1]=m}i[0]=o,i[1]=s}n.fill(0)}},j8=new Uint8Array(8).fill(166);ur.aeskw=(0,Xe.wrapCipher)({blockSize:8},t=>({encrypt(e){if((0,xn.bytes)(e),!e.length||e.length%8!=0)throw new Error("invalid plaintext length");if(e.length===8)throw new Error("8-byte keys not allowed in AESKW, use AESKWP instead");const n=(0,Xe.concatBytes)(j8,e);return Ly.encrypt(t,n),n},decrypt(e){if((0,xn.bytes)(e),e.length%8!=0||e.length<24)throw new Error("invalid ciphertext length");const n=(0,Xe.copyBytes)(e);if(Ly.decrypt(t,n),!(0,Xe.equalBytes)(n.subarray(0,8),j8))throw new Error("integrity check failed");return n.subarray(0,8).fill(0),n.subarray(8)}}));const $8=2790873510;ur.aeskwp=(0,Xe.wrapCipher)({blockSize:8},t=>({encrypt(e){if((0,xn.bytes)(e),!e.length)throw new Error("invalid plaintext length");const n=8*Math.ceil(e.length/8),r=new Uint8Array(8+n);r.set(e,8);const i=(0,Xe.u32)(r);return i[0]=$8,i[1]=Py(e.length),Ly.encrypt(t,r),r},decrypt(e){if((0,xn.bytes)(e),e.length<16)throw new Error("invalid ciphertext length");const n=(0,Xe.copyBytes)(e),r=(0,Xe.u32)(n);Ly.decrypt(t,n);const i=Py(r[1])>>>0,o=8*Math.ceil(i/8);if(r[0]!==$8||n.length-8!==o)throw new Error("integrity check failed");for(let s=i;s<o;s++)if(n[8+s]!==0)throw new Error("integrity check failed");return n.subarray(0,8).fill(0),n.subarray(8,8+i)}})),ur.unsafe={expandKeyLE:Ds,expandKeyDecLE:f0,encrypt:$i,decrypt:h0,encryptBlock:oB,decryptBlock:sB,ctrCounter:nB,ctr32:Nf},Object.defineProperty(zf,"__esModule",{value:!0}),zf.aes256cbc=zf.aes256gcm=void 0;var aB=ur;zf.aes256gcm=function(t,e,n){return(0,aB.gcm)(t,e,n)};zf.aes256cbc=function(t,e,n){return(0,aB.cbc)(t,e)};var By={},cB={},Pf={};Object.defineProperty(Pf,"__esModule",{value:!0}),Pf.sigma=void 0,Pf.rotl=function(t,e){return t<<e|t>>>32-e},Pf.createCipher=function(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:o,rounds:s}=(0,ts.checkOpts)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return(0,Va.number)(i),(0,Va.number)(s),(0,Va.bool)(o),(0,Va.bool)(n),(a,c,l,u,f=0)=>{(0,Va.bytes)(a),(0,Va.bytes)(c),(0,Va.bytes)(l);const p=l.length;if(u===void 0&&(u=new Uint8Array(p)),(0,Va.bytes)(u),(0,Va.number)(f),f<0||f>=F8)throw new Error("arx: counter overflow");if(u.length<p)throw new Error(`arx: output (${u.length}) is shorter than data (${p})`);const m=[];let w,y,I=a.length;if(I===32)m.push(w=(0,ts.copyBytes)(a)),y=uB;else{if(I!==16||!n)throw new Error(`arx: invalid 32-byte key, got length=${I}`);w=new Uint8Array(32),w.set(a),w.set(a,16),y=TZ,m.push(w)}KE(c)||m.push(c=(0,ts.copyBytes)(c));const S=(0,ts.u32)(w);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(y,S,(0,ts.u32)(c.subarray(0,16)),S),c=c.subarray(16)}const T=16-i;if(T!==c.length)throw new Error(`arx: nonce must be ${T} or 16 bytes`);if(T!==12){const z=new Uint8Array(12);z.set(c,o?0:12-c.length),c=z,m.push(c)}const N=(0,ts.u32)(c);return function(z,$,H,K,j,B,D,P){const E=j.length,b=new Uint8Array(dv),g=(0,ts.u32)(b),v=KE(j)&&KE(B),A=v?(0,ts.u32)(j):U8,L=v?(0,ts.u32)(B):U8;for(let C=0;C<E;D++){if(z($,H,K,g,D,P),D>=F8)throw new Error("arx: counter overflow");const O=Math.min(dv,E-C);if(v&&O===dv){const x=C/4;if(C%4!=0)throw new Error("arx: invalid block position");for(let R,_=0;_<NZ;_++)R=x+_,L[R]=A[R]^g[_];C+=dv}else{for(let x,R=0;R<O;R++)x=C+R,B[x]=j[x]^b[R];C+=O}}}(t,y,S,N,l,u,f,s),(0,ts.clean)(...m),u}};const Va=Ai,ts=Lo,lB=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),RZ=lB("expand 16-byte k"),OZ=lB("expand 32-byte k"),TZ=(0,ts.u32)(RZ),uB=(0,ts.u32)(OZ);function KE(t){return t.byteOffset%4==0}Pf.sigma=uB.slice();const dv=64,NZ=16,F8=2**32-1,U8=new Uint32Array;var Kp={};Object.defineProperty(Kp,"__esModule",{value:!0}),Kp.poly1305=void 0,Kp.wrapConstructorWithKey=dB;const fv=Ai,Np=Lo,Xr=(t,e)=>255&t[e++]|(255&t[e++])<<8;class PZ{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=(0,Np.toBytes)(e),(0,fv.bytes)(e,32);const n=Xr(e,0),r=Xr(e,2),i=Xr(e,4),o=Xr(e,6),s=Xr(e,8),a=Xr(e,10),c=Xr(e,12),l=Xr(e,14);this.r[0]=8191&n,this.r[1]=8191&(n>>>13|r<<3),this.r[2]=7939&(r>>>10|i<<6),this.r[3]=8191&(i>>>7|o<<9),this.r[4]=255&(o>>>4|s<<12),this.r[5]=s>>>1&8190,this.r[6]=8191&(s>>>14|a<<2),this.r[7]=8065&(a>>>11|c<<5),this.r[8]=8191&(c>>>8|l<<8),this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Xr(e,16+2*u)}process(e,n,r=!1){const i=r?0:2048,{h:o,r:s}=this,a=s[0],c=s[1],l=s[2],u=s[3],f=s[4],p=s[5],m=s[6],w=s[7],y=s[8],I=s[9],S=Xr(e,n+0),T=Xr(e,n+2),N=Xr(e,n+4),z=Xr(e,n+6),$=Xr(e,n+8),H=Xr(e,n+10),K=Xr(e,n+12),j=Xr(e,n+14);let B=o[0]+(8191&S),D=o[1]+(8191&(S>>>13|T<<3)),P=o[2]+(8191&(T>>>10|N<<6)),E=o[3]+(8191&(N>>>7|z<<9)),b=o[4]+(8191&(z>>>4|$<<12)),g=o[5]+($>>>1&8191),v=o[6]+(8191&($>>>14|H<<2)),A=o[7]+(8191&(H>>>11|K<<5)),L=o[8]+(8191&(K>>>8|j<<8)),C=o[9]+(j>>>5|i),O=0,x=O+B*a+D*(5*I)+P*(5*y)+E*(5*w)+b*(5*m);O=x>>>13,x&=8191,x+=g*(5*p)+v*(5*f)+A*(5*u)+L*(5*l)+C*(5*c),O+=x>>>13,x&=8191;let R=O+B*c+D*a+P*(5*I)+E*(5*y)+b*(5*w);O=R>>>13,R&=8191,R+=g*(5*m)+v*(5*p)+A*(5*f)+L*(5*u)+C*(5*l),O+=R>>>13,R&=8191;let _=O+B*l+D*c+P*a+E*(5*I)+b*(5*y);O=_>>>13,_&=8191,_+=g*(5*w)+v*(5*m)+A*(5*p)+L*(5*f)+C*(5*u),O+=_>>>13,_&=8191;let k=O+B*u+D*l+P*c+E*a+b*(5*I);O=k>>>13,k&=8191,k+=g*(5*y)+v*(5*w)+A*(5*m)+L*(5*p)+C*(5*f),O+=k>>>13,k&=8191;let U=O+B*f+D*u+P*l+E*c+b*a;O=U>>>13,U&=8191,U+=g*(5*I)+v*(5*y)+A*(5*w)+L*(5*m)+C*(5*p),O+=U>>>13,U&=8191;let q=O+B*p+D*f+P*u+E*l+b*c;O=q>>>13,q&=8191,q+=g*a+v*(5*I)+A*(5*y)+L*(5*w)+C*(5*m),O+=q>>>13,q&=8191;let V=O+B*m+D*p+P*f+E*u+b*l;O=V>>>13,V&=8191,V+=g*c+v*a+A*(5*I)+L*(5*y)+C*(5*w),O+=V>>>13,V&=8191;let Q=O+B*w+D*m+P*p+E*f+b*u;O=Q>>>13,Q&=8191,Q+=g*l+v*c+A*a+L*(5*I)+C*(5*y),O+=Q>>>13,Q&=8191;let Y=O+B*y+D*w+P*m+E*p+b*f;O=Y>>>13,Y&=8191,Y+=g*u+v*l+A*c+L*a+C*(5*I),O+=Y>>>13,Y&=8191;let X=O+B*I+D*y+P*w+E*m+b*p;O=X>>>13,X&=8191,X+=g*f+v*u+A*l+L*c+C*a,O+=X>>>13,X&=8191,O=(O<<2)+O|0,O=O+x|0,x=8191&O,O>>>=13,R+=O,o[0]=x,o[1]=R,o[2]=_,o[3]=k,o[4]=U,o[5]=q,o[6]=V,o[7]=Q,o[8]=Y,o[9]=X}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=5*i,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let o=(1^i)-1;for(let a=0;a<10;a++)r[a]&=o;o=~o;for(let a=0;a<10;a++)e[a]=e[a]&o|r[a];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let s=e[0]+n[0];e[0]=65535&s;for(let a=1;a<8;a++)s=(e[a]+n[a]|0)+(s>>>16)|0,e[a]=65535&s;(0,Np.clean)(r)}update(e){(0,fv.exists)(this);const{buffer:n,blockLen:r}=this,i=(e=(0,Np.toBytes)(e)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(n,0,!1),this.pos=0);else for(;r<=i-o;o+=r)this.process(e,o)}return this}destroy(){(0,Np.clean)(this.h,this.r,this.buffer,this.pad)}digestInto(e){(0,fv.exists)(this),(0,fv.output)(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let o=0;for(let s=0;s<8;s++)e[o++]=r[s]>>>0,e[o++]=r[s]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function dB(t){const e=(r,i)=>t(i).update((0,Np.toBytes)(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}Kp.poly1305=dB(t=>new PZ(t)),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.xchacha20poly1305=t.chacha20poly1305=t._poly1305_aead=t.chacha12=t.chacha8=t.xchacha20=t.chacha20=t.chacha20orig=void 0,t.hchacha=s;const e=Pf,n=Ai,r=Kp,i=Lo;function o(f,p,m,w,y,I=20){let S=f[0],T=f[1],N=f[2],z=f[3],$=p[0],H=p[1],K=p[2],j=p[3],B=p[4],D=p[5],P=p[6],E=p[7],b=y,g=m[0],v=m[1],A=m[2],L=S,C=T,O=N,x=z,R=$,_=H,k=K,U=j,q=B,V=D,Q=P,Y=E,X=b,ee=g,ie=v,oe=A;for(let se=0;se<I;se+=2)L=L+R|0,X=(0,e.rotl)(X^L,16),q=q+X|0,R=(0,e.rotl)(R^q,12),L=L+R|0,X=(0,e.rotl)(X^L,8),q=q+X|0,R=(0,e.rotl)(R^q,7),C=C+_|0,ee=(0,e.rotl)(ee^C,16),V=V+ee|0,_=(0,e.rotl)(_^V,12),C=C+_|0,ee=(0,e.rotl)(ee^C,8),V=V+ee|0,_=(0,e.rotl)(_^V,7),O=O+k|0,ie=(0,e.rotl)(ie^O,16),Q=Q+ie|0,k=(0,e.rotl)(k^Q,12),O=O+k|0,ie=(0,e.rotl)(ie^O,8),Q=Q+ie|0,k=(0,e.rotl)(k^Q,7),x=x+U|0,oe=(0,e.rotl)(oe^x,16),Y=Y+oe|0,U=(0,e.rotl)(U^Y,12),x=x+U|0,oe=(0,e.rotl)(oe^x,8),Y=Y+oe|0,U=(0,e.rotl)(U^Y,7),L=L+_|0,oe=(0,e.rotl)(oe^L,16),Q=Q+oe|0,_=(0,e.rotl)(_^Q,12),L=L+_|0,oe=(0,e.rotl)(oe^L,8),Q=Q+oe|0,_=(0,e.rotl)(_^Q,7),C=C+k|0,X=(0,e.rotl)(X^C,16),Y=Y+X|0,k=(0,e.rotl)(k^Y,12),C=C+k|0,X=(0,e.rotl)(X^C,8),Y=Y+X|0,k=(0,e.rotl)(k^Y,7),O=O+U|0,ee=(0,e.rotl)(ee^O,16),q=q+ee|0,U=(0,e.rotl)(U^q,12),O=O+U|0,ee=(0,e.rotl)(ee^O,8),q=q+ee|0,U=(0,e.rotl)(U^q,7),x=x+R|0,ie=(0,e.rotl)(ie^x,16),V=V+ie|0,R=(0,e.rotl)(R^V,12),x=x+R|0,ie=(0,e.rotl)(ie^x,8),V=V+ie|0,R=(0,e.rotl)(R^V,7);let te=0;w[te++]=S+L|0,w[te++]=T+C|0,w[te++]=N+O|0,w[te++]=z+x|0,w[te++]=$+R|0,w[te++]=H+_|0,w[te++]=K+k|0,w[te++]=j+U|0,w[te++]=B+q|0,w[te++]=D+V|0,w[te++]=P+Q|0,w[te++]=E+Y|0,w[te++]=b+X|0,w[te++]=g+ee|0,w[te++]=v+ie|0,w[te++]=A+oe|0}function s(f,p,m,w){let y=f[0],I=f[1],S=f[2],T=f[3],N=p[0],z=p[1],$=p[2],H=p[3],K=p[4],j=p[5],B=p[6],D=p[7],P=m[0],E=m[1],b=m[2],g=m[3];for(let A=0;A<20;A+=2)y=y+N|0,P=(0,e.rotl)(P^y,16),K=K+P|0,N=(0,e.rotl)(N^K,12),y=y+N|0,P=(0,e.rotl)(P^y,8),K=K+P|0,N=(0,e.rotl)(N^K,7),I=I+z|0,E=(0,e.rotl)(E^I,16),j=j+E|0,z=(0,e.rotl)(z^j,12),I=I+z|0,E=(0,e.rotl)(E^I,8),j=j+E|0,z=(0,e.rotl)(z^j,7),S=S+$|0,b=(0,e.rotl)(b^S,16),B=B+b|0,$=(0,e.rotl)($^B,12),S=S+$|0,b=(0,e.rotl)(b^S,8),B=B+b|0,$=(0,e.rotl)($^B,7),T=T+H|0,g=(0,e.rotl)(g^T,16),D=D+g|0,H=(0,e.rotl)(H^D,12),T=T+H|0,g=(0,e.rotl)(g^T,8),D=D+g|0,H=(0,e.rotl)(H^D,7),y=y+z|0,g=(0,e.rotl)(g^y,16),B=B+g|0,z=(0,e.rotl)(z^B,12),y=y+z|0,g=(0,e.rotl)(g^y,8),B=B+g|0,z=(0,e.rotl)(z^B,7),I=I+$|0,P=(0,e.rotl)(P^I,16),D=D+P|0,$=(0,e.rotl)($^D,12),I=I+$|0,P=(0,e.rotl)(P^I,8),D=D+P|0,$=(0,e.rotl)($^D,7),S=S+H|0,E=(0,e.rotl)(E^S,16),K=K+E|0,H=(0,e.rotl)(H^K,12),S=S+H|0,E=(0,e.rotl)(E^S,8),K=K+E|0,H=(0,e.rotl)(H^K,7),T=T+N|0,b=(0,e.rotl)(b^T,16),j=j+b|0,N=(0,e.rotl)(N^j,12),T=T+N|0,b=(0,e.rotl)(b^T,8),j=j+b|0,N=(0,e.rotl)(N^j,7);let v=0;w[v++]=y,w[v++]=I,w[v++]=S,w[v++]=T,w[v++]=P,w[v++]=E,w[v++]=b,w[v++]=g}t.chacha20orig=(0,e.createCipher)(o,{counterRight:!1,counterLength:8,allowShortKeys:!0}),t.chacha20=(0,e.createCipher)(o,{counterRight:!1,counterLength:4,allowShortKeys:!1}),t.xchacha20=(0,e.createCipher)(o,{counterRight:!1,counterLength:8,extendNonceFn:s,allowShortKeys:!1}),t.chacha8=(0,e.createCipher)(o,{counterRight:!1,counterLength:4,rounds:8}),t.chacha12=(0,e.createCipher)(o,{counterRight:!1,counterLength:4,rounds:12});const a=new Uint8Array(16),c=(f,p)=>{f.update(p);const m=p.length%16;m&&f.update(a.subarray(m))},l=new Uint8Array(32);function u(f,p,m,w,y){const I=f(p,m,l),S=r.poly1305.create(I);y&&c(S,y),c(S,w);const T=new Uint8Array(16),N=(0,i.createView)(T);(0,i.setBigUint64)(N,0,BigInt(y?y.length:0),!0),(0,i.setBigUint64)(N,8,BigInt(w.length),!0),S.update(T);const z=S.digest();return(0,i.clean)(I,T),z}t._poly1305_aead=f=>(p,m,w)=>((0,n.bytes)(p,32),(0,n.bytes)(m),{encrypt(I,S){const T=I.length,N=T+16;S?(0,n.bytes)(S,N):S=new Uint8Array(N),f(p,m,I,S,1);const z=u(f,p,m,S.subarray(0,-16),w);return S.set(z,T),(0,i.clean)(z),S},decrypt(I,S){const T=I.length,N=T-16;if(T<16)throw new Error("encrypted data must be at least 16 bytes");S?(0,n.bytes)(S,N):S=new Uint8Array(N);const z=I.subarray(0,-16),$=I.subarray(-16),H=u(f,p,m,z,w);if(!(0,i.equalBytes)($,H))throw new Error("invalid tag");return f(p,m,z,S,1),(0,i.clean)(H),S}}),t.chacha20poly1305=(0,i.wrapCipher)({blockSize:64,nonceLength:12,tagLength:16},(0,t._poly1305_aead)(t.chacha20)),t.xchacha20poly1305=(0,i.wrapCipher)({blockSize:64,nonceLength:24,tagLength:16},(0,t._poly1305_aead)(t.xchacha20))}(cB),Object.defineProperty(By,"__esModule",{value:!0}),By.xchacha20=void 0;var gf,z8,bp,LZ=cB;By.xchacha20=function(t,e,n){return(0,LZ.xchacha20poly1305)(t,e,n)},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.aesDecrypt=t.aesEncrypt=t.symDecrypt=t.symEncrypt=void 0;var e=Lo,n=BC,r=zf,i=By,o=u0,s=Ur;t.symEncrypt=function(u,f,p){return a(c,u,f,p)};function a(u,f,p,m){var w=(0,o.symmetricAlgorithm)();if(w==="aes-256-gcm")return u(r.aes256gcm,f,p,(0,o.symmetricNonceLength)(),s.AEAD_TAG_LENGTH,m);if(w==="xchacha20")return u(i.xchacha20,f,p,s.XCHACHA20_NONCE_LENGTH,s.AEAD_TAG_LENGTH,m);if(w==="aes-256-cbc")return u(r.aes256cbc,f,p,16,0);throw new Error("Not implemented")}function c(u,f,p,m,w,y){var I=(0,n.randomBytes)(m),S=u(f,I,y).encrypt(p);if(w===0)return(0,e.concatBytes)(I,S);var T=S.length-w,N=S.subarray(0,T),z=S.subarray(T);return(0,e.concatBytes)(I,z,N)}function l(u,f,p,m,w,y){var I=p.subarray(0,m),S=u(f,Uint8Array.from(I),y),T=p.subarray(m);if(w===0)return S.decrypt(T);var N=T.subarray(0,w),z=T.subarray(w);return S.decrypt((0,e.concatBytes)(z,N))}t.symDecrypt=function(u,f,p){return a(l,u,f,p)},t.aesEncrypt=t.symEncrypt,t.aesDecrypt=t.symDecrypt}(T8),gf=n1,z8=us&&us.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),bp=us&&us.__exportStar||function(t,e){for(var n in t)n==="default"||Object.prototype.hasOwnProperty.call(e,n)||z8(e,t,n)},Object.defineProperty(gf,"__esModule",{value:!0}),bp(hL,gf),bp(GL,gf),bp(F_,gf),bp(T8,gf);var p0={};Object.defineProperty(p0,"__esModule",{value:!0}),p0.PublicKey=void 0;var q8=Lo,hv=n1,BZ=function(){function t(e){this.data=(0,hv.convertPublicKeyFormat)(e,!0)}return t.fromHex=function(e){return new t((0,hv.hexToPublicKey)(e))},Object.defineProperty(t.prototype,"uncompressed",{get:function(){return Ke.from((0,hv.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"compressed",{get:function(){return Ke.from(this.data)},enumerable:!1,configurable:!0}),t.prototype.toHex=function(e){return e===void 0&&(e=!0),(0,q8.bytesToHex)(e?this.data:this.uncompressed)},t.prototype.decapsulate=function(e,n){n===void 0&&(n=!1);var r=n?this.data:this.uncompressed,i=e.multiply(this,n);return(0,hv.getSharedKey)(r,i)},t.prototype.equals=function(e){return(0,q8.equalBytes)(this.data,e.data)},t}();p0.PublicKey=BZ,Object.defineProperty(Ry,"__esModule",{value:!0}),Ry.PrivateKey=void 0;var H8=Lo,mf=n1,DZ=p0,jZ=function(){function t(e){if(e===void 0)this.data=(0,mf.getValidSecret)();else{if(!(0,mf.isValidPrivateKey)(e))throw new Error("Invalid private key");this.data=e}this.publicKey=new DZ.PublicKey((0,mf.getPublicKey)(this.data))}return t.fromHex=function(e){return new t((0,mf.decodeHex)(e))},Object.defineProperty(t.prototype,"secret",{get:function(){return Ke.from(this.data)},enumerable:!1,configurable:!0}),t.prototype.toHex=function(){return(0,H8.bytesToHex)(this.data)},t.prototype.encapsulate=function(e,n){n===void 0&&(n=!1);var r=n?this.publicKey.compressed:this.publicKey.uncompressed,i=this.multiply(e,n);return(0,mf.getSharedKey)(r,i)},t.prototype.multiply=function(e,n){return n===void 0&&(n=!1),(0,mf.getSharedPoint)(this.data,e.compressed,n)},t.prototype.equals=function(e){return(0,H8.equalBytes)(this.data,e.data)},t}();Ry.PrivateKey=jZ,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PublicKey=t.PrivateKey=void 0;var e=Ry;Object.defineProperty(t,"PrivateKey",{enumerable:!0,get:function(){return e.PrivateKey}});var n=p0;Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return n.PublicKey}})}(RE),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.PublicKey=t.PrivateKey=t.ECIES_CONFIG=void 0,t.encrypt=function(a,c){var l=new r.PrivateKey,u=a instanceof Uint8Array?new r.PublicKey(a):r.PublicKey.fromHex(a),f=l.encapsulate(u,(0,n.isHkdfKeyCompressed)()),p=(0,n.isEphemeralKeyCompressed)()?l.publicKey.compressed:l.publicKey.uncompressed,m=(0,i.symEncrypt)(f,c);return Ke.from((0,e.concatBytes)(p,m))},t.decrypt=function(a,c){var l=a instanceof Uint8Array?new r.PrivateKey(a):r.PrivateKey.fromHex(a),u=(0,n.ephemeralKeySize)(),f=new r.PublicKey(c.subarray(0,u)),p=c.subarray(u),m=f.decapsulate(l,(0,n.isHkdfKeyCompressed)());return Ke.from((0,i.symDecrypt)(m,p))};var e=Lo,n=u0,r=RE,i=n1,o=u0;Object.defineProperty(t,"ECIES_CONFIG",{enumerable:!0,get:function(){return o.ECIES_CONFIG}});var s=RE;Object.defineProperty(t,"PrivateKey",{enumerable:!0,get:function(){return s.PrivateKey}}),Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return s.PublicKey}}),t.utils={aesEncrypt:i.aesEncrypt,aesDecrypt:i.aesDecrypt,symEncrypt:i.symEncrypt,symDecrypt:i.symDecrypt,decodeHex:i.decodeHex,getValidSecret:i.getValidSecret,remove0x:i.remove0x}}(Cf);const fB=Fi("KeyExchange:Layer"),hB=Fi("SocketService:Layer"),pB=Fi("Ecies:Layer"),gB=Fi("RemoteCommunication:Layer");fB.color="##95c44e",hB.color="#f638d7",pB.color="#465b9c",gB.color="#47a2be";const Le={KeyExchange:fB,SocketService:hB,Ecies:pB,RemoteCommunication:gB};let Ep,pv=[],WE=[];const Ac=(t,e)=>qe(void 0,void 0,void 0,function*(){Ep=e,WE.push(t),function(n){return qe(this,void 0,void 0,function*(){if(!Ep||!n)return;(function(){const s=WE;WE=pv,pv=s})();const r=Ep.endsWith("/")?`${Ep}evt`:`${Ep}/evt`,i=Object.assign({},n);if(delete i.params,n.params)for(const[s,a]of Object.entries(n.params))i[s]=a;const o=JSON.stringify(i);Le.RemoteCommunication(`[sendBufferedEvents] Sending ${pv.length} analytics events to ${r}`);try{const s=yield WP(r,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:o}),a=yield s.text();Le.RemoteCommunication(`[sendBufferedEvents] Response: ${a}`),pv.length=0}catch{}})}(t).catch(()=>{})});class VE{constructor(e){this.enabled=!0,e!=null&&e.debug&&Fi.enable("Ecies:Layer"),this.ecies=e!=null&&e.privateKey?Cf.PrivateKey.fromHex(e.privateKey):new Cf.PrivateKey,Le.Ecies("[ECIES constructor()] initialized secret: ",this.ecies.toHex()),Le.Ecies("[ECIES constructor()] initialized public: ",this.ecies.publicKey.toHex()),Le.Ecies("[ECIES constructor()] init with",this)}generateECIES(){this.ecies=new Cf.PrivateKey}getPublicKey(){return this.ecies.publicKey.toHex()}encrypt(e,n){let r=e;if(this.enabled)try{Le.Ecies("[ECIES: encrypt()] using otherPublicKey",n);const i=Ke.from(e),o=Cf.encrypt(n,i);r=Ke.from(o).toString("base64")}catch(i){throw Le.Ecies("[ECIES: encrypt()] error encrypt:",i),Le.Ecies("[ECIES: encrypt()] private: ",this.ecies.toHex()),Le.Ecies("[ECIES: encrypt()] data: ",e),Le.Ecies("[ECIES: encrypt()] otherkey: ",n),i}return r}decrypt(e){let n=e;if(this.enabled)try{Le.Ecies("[ECIES: decrypt()] using privateKey",this.ecies.toHex());const r=Ke.from(e.toString(),"base64");n=Cf.decrypt(this.ecies.toHex(),r).toString()}catch(r){throw Le.Ecies("[ECIES: decrypt()] error decrypt",r),Le.Ecies("[ECIES: decrypt()] private: ",this.ecies.toHex()),Le.Ecies("[ECIES: decrypt()] encryptedData: ",e),r}return n}getKeyInfo(){return{private:this.ecies.toHex(),public:this.ecies.publicKey.toHex()}}toString(){Le.Ecies("[ECIES: toString()]",this.getKeyInfo())}}var Xl={version:"0.33.0"};const dh="https://metamask-sdk.api.cx.metamask.io/",$Z=["websocket"],fh=6048e5,FZ=3e3,xi={METAMASK_CONNECTSIGN:"metamask_connectSign",METAMASK_CONNECTWITH:"metamask_connectWith",METAMASK_OPEN:"metamask_open",METAMASK_BATCH:"metamask_batch",PERSONAL_SIGN:"personal_sign",WALLET_REQUESTPERMISSIONS:"wallet_requestPermissions",WALLET_REVOKEPERMISSIONS:"wallet_revokePermissions",WALLET_WATCHASSET:"wallet_watchAsset",ETH_REQUESTACCOUNTS:"eth_requestAccounts",ETH_SENDTRANSACTION:"eth_sendTransaction",ETH_SIGNTYPEDDATA:"eth_signTypedData",ETH_SIGNTYPEDDATA_V3:"eth_signTypedData_v3",ETH_SIGNTYPEDDATA_V4:"eth_signTypedData_v4",ETH_SIGNTRANSACTION:"eth_signTransaction",ETH_SIGN:"eth_sign",PERSONAL_EC_RECOVER:"personal_ecRecover"},UZ=[xi.METAMASK_CONNECTSIGN,xi.METAMASK_CONNECTWITH,xi.METAMASK_OPEN,xi.METAMASK_BATCH,xi.PERSONAL_SIGN,xi.WALLET_REQUESTPERMISSIONS,xi.WALLET_REVOKEPERMISSIONS,xi.WALLET_WATCHASSET,xi.ETH_SENDTRANSACTION,xi.ETH_SIGNTYPEDDATA,xi.ETH_SIGNTYPEDDATA_V3,xi.ETH_SIGNTYPEDDATA_V4,xi.ETH_SIGNTRANSACTION,xi.ETH_SIGN,xi.PERSONAL_EC_RECOVER];function ug(t){return UZ.includes(t)}function mB(t){const{context:e}=t;Le.RemoteCommunication(`[RemoteCommunication: clean()] context=${e}`),t.channelConfig=void 0,t.ready=!1,t.originatorConnectStarted=!1}var ii,et,Dy,On,nr,_r,vf;(vf=ii||(ii={})).DISCONNECTED="disconnected",vf.WAITING="waiting",vf.TIMEOUT="timeout",vf.LINKED="linked",vf.PAUSED="paused",vf.TERMINATED="terminated",function(t){t.KEY_INFO="key_info",t.SERVICE_STATUS="service_status",t.PROVIDER_UPDATE="provider_update",t.RPC_UPDATE="rpc_update",t.KEYS_EXCHANGED="keys_exchanged",t.JOIN_CHANNEL="join_channel",t.PUBLIC_KEY="public_key",t.CHANNEL_CREATED="channel_created",t.CLIENTS_CONNECTED="clients_connected",t.CLIENTS_DISCONNECTED="clients_disconnected",t.CLIENTS_WAITING="clients_waiting",t.CLIENTS_READY="clients_ready",t.REJECTED="rejected",t.WALLET_INIT="wallet_init",t.CHANNEL_PERSISTENCE="channel_persistence",t.CONFIG="config",t.MESSAGE_ACK="ack",t.SOCKET_DISCONNECTED="socket_disconnected",t.SOCKET_RECONNECT="socket_reconnect",t.OTP="otp",t.SDK_RPC_CALL="sdk_rpc_call",t.AUTHORIZED="authorized",t.CONNECTION_STATUS="connection_status",t.MESSAGE="message",t.TERMINATE="terminate"}(et||(et={})),(Dy||(Dy={})).KEY_EXCHANGE="key_exchange",function(t){t.KEY_HANDSHAKE_START="key_handshake_start",t.KEY_HANDSHAKE_CHECK="key_handshake_check",t.KEY_HANDSHAKE_SYN="key_handshake_SYN",t.KEY_HANDSHAKE_SYNACK="key_handshake_SYNACK",t.KEY_HANDSHAKE_ACK="key_handshake_ACK",t.KEY_HANDSHAKE_WALLET="key_handshake_wallet",t.KEY_HANDSHAKE_NONE="none"}(On||(On={}));class zZ extends Zw.EventEmitter2{constructor({communicationLayer:e,otherPublicKey:n,context:r,ecies:i,logging:o}){super(),this.keysExchanged=!1,this.step=On.KEY_HANDSHAKE_NONE,this.debug=!1,this.context=r,this.communicationLayer=e,i!=null&&i.privateKey&&n&&(Le.KeyExchange(`[KeyExchange: constructor()] otherPubKey=${n} set keysExchanged to true!`,i),this.keysExchanged=!0),this.myECIES=new VE(Object.assign(Object.assign({},i),{debug:o==null?void 0:o.eciesLayer})),this.communicationLayer.state.eciesInstance=this.myECIES,this.myPublicKey=this.myECIES.getPublicKey(),this.debug=(o==null?void 0:o.keyExchangeLayer)===!0,n&&this.setOtherPublicKey(n),this.communicationLayer.on(Dy.KEY_EXCHANGE,this.onKeyExchangeMessage.bind(this))}onKeyExchangeMessage(e){const{relayPersistence:n}=this.communicationLayer.remote.state;if(Le.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} keysExchanged=${this.keysExchanged} relayPersistence=${n}`,e),n)return void Le.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Ignoring key exchange message because relay persistence is activated");const{message:r}=e;this.keysExchanged&&Le.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} received handshake while already exchanged. step=${this.step} otherPubKey=${this.otherPublicKey}`),this.emit(et.KEY_INFO,r.type),r.type===On.KEY_HANDSHAKE_SYN?(this.checkStep([On.KEY_HANDSHAKE_NONE,On.KEY_HANDSHAKE_ACK]),Le.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYN",r),r.pubkey&&this.setOtherPublicKey(r.pubkey),this.communicationLayer.sendMessage({type:On.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey}).catch(i=>{Le.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_SYNACK",i)}),this.setStep(On.KEY_HANDSHAKE_ACK)):r.type===On.KEY_HANDSHAKE_SYNACK?(this.checkStep([On.KEY_HANDSHAKE_SYNACK,On.KEY_HANDSHAKE_ACK,On.KEY_HANDSHAKE_NONE]),Le.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYNACK"),r.pubkey&&this.setOtherPublicKey(r.pubkey),this.communicationLayer.sendMessage({type:On.KEY_HANDSHAKE_ACK}).catch(i=>{Le.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_ACK",i)}),this.keysExchanged=!0,this.setStep(On.KEY_HANDSHAKE_ACK),this.emit(et.KEYS_EXCHANGED)):r.type===On.KEY_HANDSHAKE_ACK&&(Le.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_ACK set keysExchanged to true!"),this.checkStep([On.KEY_HANDSHAKE_ACK,On.KEY_HANDSHAKE_NONE]),this.keysExchanged=!0,this.setStep(On.KEY_HANDSHAKE_ACK),this.emit(et.KEYS_EXCHANGED))}resetKeys(e){this.clean(),this.myECIES=new VE(e)}clean(){Le.KeyExchange(`[KeyExchange: clean()] context=${this.context} reset handshake state`),this.setStep(On.KEY_HANDSHAKE_NONE),this.emit(et.KEY_INFO,this.step),this.keysExchanged=!1}start({isOriginator:e,force:n}){const{relayPersistence:r,protocolVersion:i}=this.communicationLayer.remote.state,o=i>=2;r?Le.KeyExchange("[KeyExchange: start()] Ignoring key exchange message because relay persistence is activated"):(Le.KeyExchange(`[KeyExchange: start()] context=${this.context} protocolVersion=${i} isOriginator=${e} step=${this.step} force=${n} relayPersistence=${r} keysExchanged=${this.keysExchanged}`),e?!(this.keysExchanged||this.step!==On.KEY_HANDSHAKE_NONE&&this.step!==On.KEY_HANDSHAKE_SYNACK)||n?(Le.KeyExchange(`[KeyExchange: start()] context=${this.context} -- start key exchange (force=${n}) -- step=${this.step}`,this.step),this.clean(),this.setStep(On.KEY_HANDSHAKE_SYNACK),this.communicationLayer.sendMessage({type:On.KEY_HANDSHAKE_SYN,pubkey:this.myPublicKey,v:2}).catch(s=>{Le.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYN",s)})):Le.KeyExchange(`[KeyExchange: start()] context=${this.context} -- key exchange already ${this.keysExchanged?"done":"in progress"} -- aborted.`,this.step):this.keysExchanged&&n!==!0?Le.KeyExchange("[KeyExchange: start()] don't send KEY_HANDSHAKE_START -- exchange already done."):o?this.communicationLayer.sendMessage({type:On.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey,v:2}).catch(s=>{Le.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYNACK",s)}):(this.communicationLayer.sendMessage({type:On.KEY_HANDSHAKE_START}).catch(s=>{Le.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_START",s)}),this.clean()))}setStep(e){this.step=e,this.emit(et.KEY_INFO,e)}checkStep(e){e.length>0&&e.indexOf(this.step.toString())}setRelayPersistence({localKey:e,otherKey:n}){this.otherPublicKey=n,this.myECIES=new VE({privateKey:e,debug:this.debug}),this.keysExchanged=!0}setKeysExchanged(e){this.keysExchanged=e}areKeysExchanged(){return this.keysExchanged}getMyPublicKey(){return this.myPublicKey}getOtherPublicKey(){return this.otherPublicKey}setOtherPublicKey(e){Le.KeyExchange("[KeyExchange: setOtherPubKey()]",e),this.otherPublicKey=e}encryptMessage(e){if(!this.otherPublicKey)throw new Error("encryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.encrypt(e,this.otherPublicKey)}decryptMessage(e){if(!this.otherPublicKey)throw new Error("decryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.decrypt(e)}getKeyInfo(){return{ecies:Object.assign(Object.assign({},this.myECIES.getKeyInfo()),{otherPubKey:this.otherPublicKey}),step:this.step,keysExchanged:this.areKeysExchanged()}}toString(){const e={keyInfo:this.getKeyInfo(),keysExchanged:this.keysExchanged,step:this.step};return JSON.stringify(e)}}(function(t){t.TERMINATE="terminate",t.ANSWER="answer",t.OFFER="offer",t.CANDIDATE="candidate",t.JSONRPC="jsonrpc",t.WALLET_INFO="wallet_info",t.WALLET_INIT="wallet_init",t.ORIGINATOR_INFO="originator_info",t.PAUSE="pause",t.OTP="otp",t.AUTHORIZED="authorized",t.PING="ping",t.READY="ready"})(nr||(nr={})),function(t){t.REQUEST="sdk_connect_request_started",t.REQUEST_MOBILE="sdk_connect_request_started_mobile",t.RECONNECT="sdk_reconnect_request_started",t.CONNECTED="sdk_connection_established",t.CONNECTED_MOBILE="sdk_connection_established_mobile",t.AUTHORIZED="sdk_connection_authorized",t.REJECTED="sdk_connection_rejected",t.TERMINATED="sdk_connection_terminated",t.DISCONNECTED="sdk_disconnected",t.SDK_USE_EXTENSION="sdk_use_extension",t.SDK_RPC_REQUEST="sdk_rpc_request",t.SDK_RPC_REQUEST_RECEIVED="sdk_rpc_request_received",t.SDK_RPC_REQUEST_DONE="sdk_rpc_request_done",t.SDK_EXTENSION_UTILIZED="sdk_extension_utilized",t.SDK_USE_INAPP_BROWSER="sdk_use_inapp_browser"}(_r||(_r={}));const Xv=(t,e,n)=>qe(void 0,void 0,void 0,function*(){var r,i,o,s,a,c;const{remote:l,state:u}=t,{channelId:f,isOriginator:p}=u;if(e==="error_terminated")return Le.SocketService(`handleJoinChannelResults: Channel ${f} terminated`),void t.emit(et.TERMINATE);if(!n)return void Le.SocketService(`handleJoinChannelResults: No result for channel ${f}`);const{persistence:m,walletKey:w,rejected:y}=n;if(Le.SocketService(`handleJoinChannelResults: Channel ${f} persistence=${m} walletKey=${w} rejected=${y}`),y)return Le.SocketService(`handleJoinChannelResults: Channel ${f} rejected`),yield t.remote.disconnect({terminate:!0}),t.remote.emit(et.REJECTED,{channelId:f}),void t.remote.emitServiceStatusEvent();if(w&&!(!((r=l.state.channelConfig)===null||r===void 0)&&r.otherKey)){t.getKeyExchange().setOtherPublicKey(w),(i=t.state.keyExchange)===null||i===void 0||i.setKeysExchanged(!0),l.state.ready=!0,l.state.authorized=!0,l.emit(et.AUTHORIZED);const{communicationLayer:I,storageManager:S}=l.state,T=Object.assign(Object.assign({},l.state.channelConfig),{channelId:(o=l.state.channelId)!==null&&o!==void 0?o:"",validUntil:Date.now()+fh,localKey:I==null?void 0:I.getKeyInfo().ecies.private,otherKey:w});t.sendMessage({type:On.KEY_HANDSHAKE_ACK}).catch(N=>{}),(s=t.state.socket)===null||s===void 0||s.emit(nr.PING,{id:f,clientType:p?"dapp":"wallet",context:"on_channel_reconnect",message:""}),yield S==null?void 0:S.persistChannelConfig(T),l.emitServiceStatusEvent(),l.setConnectionStatus(ii.LINKED)}m&&(t.emit(et.CHANNEL_PERSISTENCE),(a=t.state.keyExchange)===null||a===void 0||a.setKeysExchanged(!0),l.state.ready=!0,l.state.authorized=!0,l.emit(et.AUTHORIZED),Ac(Object.assign(Object.assign({id:f??"",event:p?_r.CONNECTED:_r.CONNECTED_MOBILE},t.remote.state.originatorInfo),{sdkVersion:t.remote.state.sdkVersion,commLayer:t.state.communicationLayerPreference,commLayerVersion:Xl.version,walletVersion:(c=t.remote.state.walletInfo)===null||c===void 0?void 0:c.version}),u.communicationServerUrl).catch(I=>{}))}),Hf=t=>new Promise(e=>{setTimeout(e,t)}),K8=(t,e,...n)=>qe(void 0,[t,e,...n],void 0,function*(r,i,o=200){let s;const a=Date.now();let c=!1;for(;!c;){if(c=Date.now()-a>3e5,s=i[r],s.elapsedTime!==void 0)return s;yield Hf(o)}throw new Error(`RPC ${r} timed out`)}),H_=t=>qe(void 0,void 0,void 0,function*(){const{state:e}=t,{socket:n,channelId:r,context:i,isOriginator:o,isReconnecting:s}=e;if(s)return Le.SocketService("[SocketService: reconnectSocket()] Reconnection already in progress, skipping",t),!1;if(!n)return Le.SocketService("[SocketService: reconnectSocket()] socket is not defined",t),!1;if(!r)return!1;const{connected:a}=n;e.isReconnecting=!0,e.reconnectionAttempts=0,Le.SocketService(`[SocketService: reconnectSocket()] connected=${a} trying to reconnect after socketio disconnection`,t);try{for(;3>e.reconnectionAttempts;){if(Le.SocketService(`[SocketService: reconnectSocket()] Attempt ${e.reconnectionAttempts+1} of 3`,t),yield Hf(200),n.connected)return Le.SocketService("Socket already connected --- ping to retrieve messages"),n.emit(nr.PING,{id:r,clientType:o?"dapp":"wallet",context:"on_channel_config",message:""}),!0;e.resumed=!0,n.connect(),t.emit(et.SOCKET_RECONNECT);try{if(yield new Promise((c,l)=>{n.emit(et.JOIN_CHANNEL,{channelId:r,context:`${i}connect_again`,clientType:o?"dapp":"wallet"},(u,f)=>qe(void 0,void 0,void 0,function*(){try{yield Xv(t,u,f),c()}catch(p){l(p)}}))}),yield Hf(100),n.connected)return Le.SocketService(`Reconnection successful on attempt ${e.reconnectionAttempts+1}`),!0}catch(c){Le.SocketService(`Error during reconnection attempt ${e.reconnectionAttempts+1}:`,c)}e.reconnectionAttempts+=1,3>e.reconnectionAttempts&&(yield Hf(200))}return Le.SocketService("Failed to reconnect after 3 attempts"),!1}finally{e.isReconnecting=!1,e.reconnectionAttempts=0}});function vB(t,e){return qe(this,void 0,void 0,function*(){var n;const r=(n=t.state.keyExchange)===null||n===void 0?void 0:n.encryptMessage(JSON.stringify(e)),i={id:t.state.channelId,context:t.state.context,clientType:t.state.isOriginator?"dapp":"wallet",message:r,plaintext:t.state.hasPlaintext?JSON.stringify(e):void 0};return Le.SocketService(`[SocketService: encryptAndSendMessage()] context=${t.state.context}`,i),e.type===nr.TERMINATE&&(t.state.manualDisconnect=!0),new Promise((o,s)=>{var a;(a=t.state.socket)===null||a===void 0||a.emit(et.MESSAGE,i,(c,l)=>{var u;c&&(Le.SocketService(`[SocketService: encryptAndSendMessage()] error=${c}`),s(c)),Le.SocketService("[encryptAndSendMessage] response",l),o((u=l==null?void 0:l.success)!==null&&u!==void 0&&u)})})})}var Lf;(function(t){t.RPC_CHECK="rpcCheck",t.SKIPPED_RPC="skippedRpc"})(Lf||(Lf={}));const yB=["eth_sendTransaction","eth_signTypedData","eth_signTransaction","personal_sign","wallet_requestPermissions","wallet_switchEthereumChain","eth_signTypedData_v3","eth_signTypedData_v4","metamask_connectSign","metamask_connectWith","metamask_batch"].map(t=>t.toLowerCase()),qZ=[{event:et.CLIENTS_CONNECTED,handler:function(t,e){return n=>qe(this,void 0,void 0,function*(){var r,i,o,s,a,c,l,u,f,p,m;const w=(i=(r=t.remote.state.channelConfig)===null||r===void 0?void 0:r.relayPersistence)!==null&&i!==void 0&&i;if(Le.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected-${e}' relayPersistence=${w} resumed=${t.state.resumed}  clientsPaused=${t.state.clientsPaused} keysExchanged=${(o=t.state.keyExchange)===null||o===void 0?void 0:o.areKeysExchanged()} isOriginator=${t.state.isOriginator}`),t.emit(et.CLIENTS_CONNECTED,{isOriginator:t.state.isOriginator,keysExchanged:(s=t.state.keyExchange)===null||s===void 0?void 0:s.areKeysExchanged(),context:t.state.context}),t.state.resumed)t.state.isOriginator||(Le.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} 'clients_connected' / keysExchanged=${(a=t.state.keyExchange)===null||a===void 0?void 0:a.areKeysExchanged()} -- backward compatibility`),(c=t.state.keyExchange)===null||c===void 0||c.start({isOriginator:(l=t.state.isOriginator)!==null&&l!==void 0&&l})),t.state.resumed=!1;else if(t.state.clientsPaused)Le.SocketService("[SocketService: handleClientsConnected()] 'clients_connected' skip sending originatorInfo on pause");else if(!t.state.isOriginator){const y=!w;Le.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected' / keysExchanged=${(u=t.state.keyExchange)===null||u===void 0?void 0:u.areKeysExchanged()} -- force=${y} -- backward compatibility`),Le.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected' / keysExchanged=${(f=t.state.keyExchange)===null||f===void 0?void 0:f.areKeysExchanged()} -- force=${y} -- backward compatibility`),(p=t.state.keyExchange)===null||p===void 0||p.start({isOriginator:(m=t.state.isOriginator)!==null&&m!==void 0&&m,force:y})}t.state.clientsConnected=!0,t.state.clientsPaused=!1})}},{event:et.CHANNEL_CREATED,handler:function(t,e){return n=>{Le.SocketService(`[SocketService: handleChannelCreated()] context=${t.state.context} on 'channel_created-${e}'`,n),t.emit(et.CHANNEL_CREATED,n)}}},{event:et.CLIENTS_DISCONNECTED,handler:function(t,e){return()=>{var n;t.state.clientsConnected=!1,Le.SocketService(`[SocketService: handlesClientsDisconnected()] context=${t.state.context} on 'clients_disconnected-${e}'`),t.remote.state.relayPersistence?Le.SocketService(`[SocketService: handlesClientsDisconnected()] context=${t.state.context} on 'clients_disconnected-${e}' - relayPersistence enabled, skipping key exchange cleanup.`):(t.state.isOriginator&&!t.state.clientsPaused&&((n=t.state.keyExchange)===null||n===void 0||n.clean()),t.emit(et.CLIENTS_DISCONNECTED,e))}}},{event:et.CONFIG,handler:function(t,e){return n=>qe(this,void 0,void 0,function*(){var r,i,o;Le.SocketService(`[SocketService: handleChannelConfig()] update relayPersistence on 'config-${e}'`,n);const{persistence:s,walletKey:a}=n;t.state.isOriginator&&t.remote.state.channelConfig?(n.walletKey&&!t.remote.state.channelConfig.otherKey&&(Le.SocketService(`Setting wallet key ${a}`),t.remote.state.channelConfig.otherKey=a,t.getKeyExchange().setOtherPublicKey(n.walletKey),(r=t.state.keyExchange)===null||r===void 0||r.setKeysExchanged(!0),yield t.remote.sendMessage({type:On.KEY_HANDSHAKE_ACK}),yield t.remote.sendMessage({type:nr.PING}),yield(i=t.remote.state.storageManager)===null||i===void 0?void 0:i.persistChannelConfig(t.remote.state.channelConfig)),s!==!0||t.remote.state.channelConfig.relayPersistence||(Le.SocketService(`Setting relay persistence ${s}`),t.remote.state.channelConfig.relayPersistence=s,t.remote.state.relayPersistence=!0,t.remote.emit(et.CHANNEL_PERSISTENCE),t.remote.state.authorized=!0,t.remote.state.ready=!0,t.remote.emit(et.AUTHORIZED),yield(o=t.remote.state.storageManager)===null||o===void 0?void 0:o.persistChannelConfig(t.remote.state.channelConfig))):t.state.isOriginator||n.persistence&&(t.remote.state.relayPersistence=!0,t.remote.emit(et.CHANNEL_PERSISTENCE))})}},{event:et.MESSAGE,handler:function(t,e){return n=>{var r,i,o,s,a,c,l,u,f,p,m,w,y,I,S,T,N,z;const{ackId:$,message:H,error:K}=n,j=(r=t.remote.state.relayPersistence)!==null&&r!==void 0&&r;if(Le.SocketService(`[SocketService handleMessage()]  relayPersistence=${j}  context=${t.state.context} on 'message' ${e} keysExchanged=${(i=t.state.keyExchange)===null||i===void 0?void 0:i.areKeysExchanged()}`,n),K)throw Le.SocketService(`
      [SocketService handleMessage()] context=${t.state.context}::on 'message' error=${K}`),new Error(K);const B=typeof H=="string";if(!B&&(H==null?void 0:H.type)===On.KEY_HANDSHAKE_START)return j?void 0:(Le.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' received HANDSHAKE_START isOriginator=${t.state.isOriginator}`,H),void((o=t.state.keyExchange)===null||o===void 0||o.start({isOriginator:(s=t.state.isOriginator)!==null&&s!==void 0&&s,force:!0})));if(!B&&(!((a=H==null?void 0:H.type)===null||a===void 0)&&a.startsWith("key_handshake")))return j?void 0:(Le.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' emit KEY_EXCHANGE`,H),void t.emit(Dy.KEY_EXCHANGE,{message:H,context:t.state.context}));if(B&&!(!((c=t.state.keyExchange)===null||c===void 0)&&c.areKeysExchanged())){let E=!1;try{Le.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' trying to decrypt message`),(l=t.state.keyExchange)===null||l===void 0||l.decryptMessage(H),E=!0}catch(b){Le.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' error`,b)}if(!E)return t.state.isOriginator?(f=t.state.keyExchange)===null||f===void 0||f.start({isOriginator:(p=t.state.isOriginator)!==null&&p!==void 0&&p}):t.sendMessage({type:On.KEY_HANDSHAKE_START}).catch(b=>{}),void Le.SocketService(`Message ignored because invalid key exchange status. step=${(m=t.state.keyExchange)===null||m===void 0?void 0:m.getKeyInfo().step}`,(w=t.state.keyExchange)===null||w===void 0?void 0:w.getKeyInfo(),H);Le.SocketService("Invalid key exchange status detected --- updating it."),(u=t.state.keyExchange)===null||u===void 0||u.setKeysExchanged(!0)}else if(!B&&(H!=null&&H.type))return void t.emit(et.MESSAGE,H);if(!B)return void t.emit(et.MESSAGE,H);const D=(y=t.state.keyExchange)===null||y===void 0?void 0:y.decryptMessage(H),P=JSON.parse(D??"{}");if($&&($==null?void 0:$.length)>0&&(Le.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' ackid=${$} channelId=${e}`),(I=t.state.socket)===null||I===void 0||I.emit(et.MESSAGE_ACK,{ackId:$,channelId:e,clientType:t.state.isOriginator?"dapp":"wallet"})),t.state.clientsPaused=(P==null?void 0:P.type)===nr.PAUSE,t.state.isOriginator&&P.data){const E=P.data,b=t.state.rpcMethodTracker[E.id];if(b){const g=Date.now()-b.timestamp;Le.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' received answer for id=${E.id} method=${b.method} responseTime=${g}`,P),t.remote.state.analytics&&yB.includes(b.method.toLowerCase())&&Ac(Object.assign(Object.assign({id:(S=t.remote.state.channelId)!==null&&S!==void 0?S:"",event:_r.SDK_RPC_REQUEST_DONE,sdkVersion:t.remote.state.sdkVersion,commLayerVersion:Xl.version},t.remote.state.originatorInfo),{walletVersion:(T=t.remote.state.walletInfo)===null||T===void 0?void 0:T.version,params:{method:b.method,from:"mobile"}}),t.remote.state.communicationServerUrl).catch(A=>{}),ug(b.method)&&Er.analytics.track(E.error?E.error.code===4001?"sdk_action_rejected":"sdk_action_failed":"sdk_action_succeeded",{action:b.method});const v=Object.assign(Object.assign({},b),{result:E.result,error:E.error?{code:(N=E.error)===null||N===void 0?void 0:N.code,message:(z=E.error)===null||z===void 0?void 0:z.message}:void 0,elapsedTime:g});t.state.rpcMethodTracker[E.id]=v,t.emit(et.RPC_UPDATE,v)}}t.emit(et.MESSAGE,{message:P})}}},{event:et.REJECTED,handler:function(t,e){return n=>qe(this,void 0,void 0,function*(){var r;t.state.isOriginator&&!t.remote.state.ready?(Le.SocketService(`[SocketService: handleChannelRejected()] context=${t.state.context} channelId=${e} isOriginator=${t.state.isOriginator} ready=${t.remote.state.ready}`,t.remote.state.originatorInfo),Ac(Object.assign(Object.assign({id:e,event:_r.REJECTED},t.remote.state.originatorInfo),{sdkVersion:t.remote.state.sdkVersion,commLayer:t.state.communicationLayerPreference,commLayerVersion:Xl.version,walletVersion:(r=t.remote.state.walletInfo)===null||r===void 0?void 0:r.version}),t.remote.state.communicationServerUrl).catch(i=>{}),Er.analytics.track("sdk_connection_rejected",{transport_type:"websocket"}),yield t.remote.disconnect({terminate:!0}),t.remote.emit(et.REJECTED,{channelId:e}),t.remote.setConnectionStatus(ii.DISCONNECTED)):Le.SocketService(`[SocketService: handleChannelRejected()] SKIP -- channelId=${e} isOriginator=${t.state.isOriginator} ready=${t.remote.state.ready}`)})}},{event:"clients_waiting_to_join",handler:function(t,e){return n=>{Le.SocketService(`[SocketService: handleClientsWaitingToJoin()] context=${t.state.context} on 'clients_waiting_to_join-${e}'`,n),t.emit(et.CLIENTS_WAITING,n)}}}],HZ=[{event:et.KEY_INFO,handler:function(t){return e=>{Le.SocketService("[SocketService: handleKeyInfo()] on 'KEY_INFO'",e),t.emit(et.KEY_INFO,e)}}},{event:et.KEYS_EXCHANGED,handler:function(t){return()=>{var e,n,r;Le.SocketService(`[SocketService: handleKeysExchanged()] on 'keys_exchanged' keyschanged=${(e=t.state.keyExchange)===null||e===void 0?void 0:e.areKeysExchanged()}`);const{channelConfig:i}=t.remote.state;if(i){const s=t.getKeyExchange().getKeyInfo().ecies;i.localKey=s.private,i.otherKey=s.otherPubKey,t.remote.state.channelConfig=i,(n=t.remote.state.storageManager)===null||n===void 0||n.persistChannelConfig(i).catch(a=>{})}t.emit(et.KEYS_EXCHANGED,{keysExchanged:(r=t.state.keyExchange)===null||r===void 0?void 0:r.areKeysExchanged(),isOriginator:t.state.isOriginator});const o={keyInfo:t.getKeyInfo()};t.emit(et.SERVICE_STATUS,o)}}}];function W8(t,e){Le.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} setting socket listeners for channel ${e}...`);const{socket:n}=t.state,{keyExchange:r}=t.state;n&&t.state.isOriginator&&(t.state.debug&&(n==null||n.io.on("error",i=>{Le.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=error`,i)}),n==null||n.io.on("reconnect",i=>{Le.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect`,i),H_(t).catch(o=>{})}),n==null||n.io.on("reconnect_error",i=>{Le.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect_error`,i)}),n==null||n.io.on("reconnect_failed",()=>{Le.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect_failed`)})),n==null||n.on("disconnect",i=>(Le.SocketService(`[SocketService: setupChannelListener()] on 'disconnect' -- MetaMaskSDK socket disconnected '${i}' begin recovery...`),function(o){return s=>{Le.SocketService(`[SocketService: handleDisconnect()] on 'disconnect' manualDisconnect=${o.state.manualDisconnect}`,s),o.state.manualDisconnect||(o.emit(et.SOCKET_DISCONNECTED),H_(o).catch(a=>{}))}}(t)(i)))),qZ.forEach(({event:i,handler:o})=>{n==null||n.on(`${i}-${e}`,o(t,e))}),HZ.forEach(({event:i,handler:o})=>{r==null||r.on(i,o(t))}),t.state.setupChannelListeners=!0}class KZ extends Zw.EventEmitter2{constructor(e){super(),this.state={clientsConnected:!1,clientsPaused:!1,manualDisconnect:!1,lastRpcId:void 0,rpcMethodTracker:{},hasPlaintext:!1,communicationServerUrl:"",focusListenerAdded:!1,removeFocusListener:void 0,isReconnecting:!1,reconnectionAttempts:0},this.options=e;const{reconnect:n,communicationLayerPreference:r,communicationServerUrl:i,context:o,remote:s,logging:a}=e;this.state.resumed=n,this.state.context=o,this.state.isOriginator=s.state.isOriginator,this.state.communicationLayerPreference=r,this.state.debug=(a==null?void 0:a.serviceLayer)===!0,this.remote=s,(a==null?void 0:a.serviceLayer)===!0&&Fi.enable("SocketService:Layer"),this.state.communicationServerUrl=i,this.state.hasPlaintext=this.state.communicationServerUrl!==dh&&(a==null?void 0:a.plaintext)===!0,Le.SocketService(`[SocketService: constructor()] Socket IO url: ${this.state.communicationServerUrl}`),this.initSocket()}initSocket(){var e;const{otherPublicKey:n,ecies:r,logging:i}=this.options,o={autoConnect:!1,transports:$Z,withCredentials:!0},s=this.state.communicationServerUrl;Le.SocketService(`[SocketService: initSocket()] Socket IO url: ${s}`),this.state.socket=zp(s,o),function(c){if(typeof window<"u"&&typeof document<"u"&&(Le.SocketService(`[SocketService: setupSocketFocusListener()] hasFocus=${document.hasFocus()}`,c),!c.state.focusListenerAdded)){const l=()=>{Le.SocketService("Document has focus --- reconnecting socket"),H_(c).catch(u=>{})};window.addEventListener("focus",l),c.state.focusListenerAdded=!0,c.state.removeFocusListener=()=>{window.removeEventListener("focus",l),c.state.focusListenerAdded=!1}}}(this);const a={communicationLayer:this,otherPublicKey:n,sendPublicKey:!1,context:(e=this.state.context)!==null&&e!==void 0?e:"",ecies:r,logging:i};this.state.keyExchange=new zZ(a)}resetKeys(){return Le.SocketService("[SocketService: resetKeys()] Resetting keys."),void((e=this.state.keyExchange)===null||e===void 0||e.resetKeys());var e}createChannel(){return qe(this,void 0,void 0,function*(){return function(e){return qe(this,void 0,void 0,function*(){var n,r,i;if(Le.SocketService(`[SocketService: createChannel()] context=${e.state.context}`),e.state.socket||e.initSocket(),(n=e.state.socket)===null||n===void 0?void 0:n.connected)throw new Error("socket already connected");(r=e.state.socket)===null||r===void 0||r.connect(),e.state.manualDisconnect=!1,e.state.isOriginator=!0;const o=dc();e.state.channelId=o,W8(e,o),yield new Promise((a,c)=>{var l;(l=e.state.socket)===null||l===void 0||l.emit(et.JOIN_CHANNEL,{channelId:o,context:`${e.state.context}createChannel`,clientType:"dapp"},(u,f)=>qe(this,void 0,void 0,function*(){try{yield Xv(e,u,f),a()}catch(p){c(p)}}))});const s=(i=e.state.keyExchange)===null||i===void 0?void 0:i.getKeyInfo();return{channelId:o,pubKey:(s==null?void 0:s.ecies.public)||"",privKey:(s==null?void 0:s.ecies.private)||""}})}(this)})}connectToChannel({channelId:e,withKeyExchange:n=!1,authorized:r}){return function(i){return qe(this,arguments,void 0,function*({options:o,instance:s}){const{channelId:a,authorized:c,withKeyExchange:l}=o,{state:u,remote:f}=s,{isOriginator:p=!1,socket:m,keyExchange:w}=u,{channelConfig:y}=f.state;if(m!=null&&m.connected)throw new Error("socket already connected");if(p&&(y!=null&&y.relayPersistence)){const{localKey:I,otherKey:S}=y;I&&S&&(w==null||w.setRelayPersistence({localKey:I,otherKey:S}))}return Object.assign(u,{manualDisconnect:!1,withKeyExchange:l,isOriginator:p,channelId:a}),m==null||m.connect(),W8(s,a),!p&&c&&(w==null||w.setKeysExchanged(!0),Object.assign(f.state,{ready:!0,authorized:!0})),new Promise(I=>{var S;const T=(S=w==null?void 0:w.getKeyInfo())===null||S===void 0?void 0:S.ecies.public;m==null||m.emit(et.JOIN_CHANNEL,{channelId:a,context:`${u.context}_connectToChannel`,clientType:p?"dapp":"wallet",publicKey:c&&!p?T:void 0},(N,z)=>qe(this,void 0,void 0,function*(){yield Xv(s,N,z),I()}))})})}({options:{channelId:e,withKeyExchange:n,authorized:r},instance:this})}getKeyInfo(){return this.state.keyExchange.getKeyInfo()}keyCheck(){var e,n;(n=(e=this).state.socket)===null||n===void 0||n.emit(et.MESSAGE,{id:e.state.channelId,context:e.state.context,message:{type:On.KEY_HANDSHAKE_CHECK,pubkey:e.getKeyInfo().ecies.otherPubKey}})}getKeyExchange(){return this.state.keyExchange}sendMessage(e){return qe(this,void 0,void 0,function*(){return function(n,r){return qe(this,void 0,void 0,function*(){var i,o,s;if(!n.state.channelId)throw Le.SocketService("handleSendMessage: no channelId - Create a channel first"),new Error("Create a channel first");if(Le.SocketService(`[SocketService: handleSendMessage()] context=${n.state.context} areKeysExchanged=${(i=n.state.keyExchange)===null||i===void 0?void 0:i.areKeysExchanged()}`,r),(o=r==null?void 0:r.type)===null||o===void 0?void 0:o.startsWith("key_handshake"))return function(c,l){var u;Le.SocketService(`[SocketService: handleKeyHandshake()] context=${c.state.context}`,l),(u=c.state.socket)===null||u===void 0||u.emit(et.MESSAGE,{id:c.state.channelId,context:c.state.context,clientType:c.state.isOriginator?"dapp":"wallet",message:l})}(n,r),!0;(function(c,l){var u;if(!(!((u=c.state.keyExchange)===null||u===void 0)&&u.areKeysExchanged())&&!c.remote.state.relayPersistence)throw Le.SocketService(`[SocketService: validateKeyExchange()] context=${c.state.context} ERROR keys not exchanged`,l),new Error("Keys not exchanged BBB")})(n,r),function(c,l){var u;const f=(u=l==null?void 0:l.method)!==null&&u!==void 0?u:"",p=l==null?void 0:l.id;c.state.isOriginator&&p&&(c.state.rpcMethodTracker[p]={id:p,timestamp:Date.now(),method:f},c.emit(et.RPC_UPDATE,c.state.rpcMethodTracker[p]))}(n,r);const a=yield vB(n,r);return n.remote.state.analytics&&n.remote.state.isOriginator&&r.method&&yB.includes(r.method.toLowerCase())&&Ac({id:(s=n.remote.state.channelId)!==null&&s!==void 0?s:"",event:_r.SDK_RPC_REQUEST,params:{method:r.method,from:"mobile"}},n.remote.state.communicationServerUrl).catch(c=>{}),n.remote.state.isOriginator&&r.method&&ug(r.method)&&Er.analytics.track("sdk_action_requested",{action:r.method}),function(c,l){return qe(this,void 0,void 0,function*(){var u;const f=l==null?void 0:l.id,p=(u=l==null?void 0:l.method)!==null&&u!==void 0?u:"";if(c.state.isOriginator&&f)try{const m=K8(f,c.state.rpcMethodTracker,200).then(I=>({type:Lf.RPC_CHECK,result:I})),w=qe(this,void 0,void 0,function*(){const I=yield(T=>qe(void 0,[T],void 0,function*({rpcId:N,instance:z}){for(;z.state.lastRpcId===N||z.state.lastRpcId===void 0;)yield Hf(200);return z.state.lastRpcId}))({instance:c,rpcId:f}),S=yield K8(I,c.state.rpcMethodTracker,200);return{type:Lf.SKIPPED_RPC,result:S}}),y=yield Promise.race([m,w]);if(y.type===Lf.RPC_CHECK){const I=y.result;Le.SocketService(`[SocketService:handleRpcReplies()] id=${l.id} ${p} ( ${I.elapsedTime} ms)`,I.result)}else{if(y.type!==Lf.SKIPPED_RPC)throw new Error(`Error handling RPC replies for ${f}`);{const I=Object.assign(Object.assign({},c.state.rpcMethodTracker[f]),{error:new Error("SDK_CONNECTION_ISSUE")});c.emit(et.RPC_UPDATE,I);const S={data:Object.assign(Object.assign({},I),{jsonrpc:"2.0"}),name:"metamask-provider"};c.emit(et.MESSAGE,{message:S})}}}catch(m){throw m}})}(n,r).catch(c=>{}),a})}(this,e)})}ping(){return function(e){return qe(this,void 0,void 0,function*(){var n,r;Le.SocketService(`[SocketService: ping()] context=${e.state.context} originator=${e.state.isOriginator} keysExchanged=${(n=e.state.keyExchange)===null||n===void 0?void 0:n.areKeysExchanged()}`),(r=e.state.socket)===null||r===void 0||r.emit(nr.PING,{id:e.state.channelId,context:"ping",clientType:e.remote.state.isOriginator?"dapp":"wallet",message:""})})}(this)}pause(){return function(e){return qe(this,void 0,void 0,function*(){var n,r;Le.SocketService(`[SocketService: pause()] context=${e.state.context}`),e.state.manualDisconnect=!0,!((n=e.state.keyExchange)===null||n===void 0)&&n.areKeysExchanged()&&(yield e.sendMessage({type:nr.PAUSE})),(r=e.state.socket)===null||r===void 0||r.disconnect()})}(this)}isConnected(){var e;return(e=this.state.socket)===null||e===void 0?void 0:e.connected}resume(){return function(e){return qe(this,void 0,void 0,function*(){const{state:n,remote:r}=e,{socket:i,channelId:o,context:s,keyExchange:a,isOriginator:c}=n,{isOriginator:l}=r.state;if(Le.SocketService(`[SocketService: resume()] channelId=${o} context=${s} connected=${i==null?void 0:i.connected} manualDisconnect=${n.manualDisconnect} resumed=${n.resumed} keysExchanged=${a==null?void 0:a.areKeysExchanged()}`),!o)throw Le.SocketService("[SocketService: resume()] channelId is not defined"),new Error("ChannelId is not defined");i!=null&&i.connected?(Le.SocketService("[SocketService: resume()] already connected."),i.emit(nr.PING,{id:o,clientType:l?"dapp":"wallet",context:"on_channel_config",message:""}),r.hasRelayPersistence()||a!=null&&a.areKeysExchanged()||(c?yield e.sendMessage({type:nr.READY}):a==null||a.start({isOriginator:!1}))):(i==null||i.connect(),Le.SocketService(`[SocketService: resume()] after connecting socket --> connected=${i==null?void 0:i.connected}`),i==null||i.emit(et.JOIN_CHANNEL,{channelId:o,context:`${s}_resume`,clientType:l?"dapp":"wallet"},(u,f)=>qe(this,void 0,void 0,function*(){try{yield Xv(e,u,f)}catch{}}))),n.manualDisconnect=!1,n.resumed=!0})}(this)}getRPCMethodTracker(){return this.state.rpcMethodTracker}disconnect(e){return function(n,r){var i,o,s,a,c;Le.SocketService(`[SocketService: disconnect()] context=${n.state.context}`,r),r!=null&&r.terminate&&((o=(i=n.state).removeFocusListener)===null||o===void 0||o.call(i),n.state.channelId=r.channelId,(s=n.state.socket)===null||s===void 0||s.removeAllListeners(),(a=n.state.keyExchange)===null||a===void 0||a.clean(),n.remote.state.ready=!1,n.state.socket=void 0,n.state.rpcMethodTracker={}),n.state.manualDisconnect=!0,(c=n.state.socket)===null||c===void 0||c.disconnect()}(this,e)}}var vd,Ii,V8;function WZ(t){return()=>qe(this,void 0,void 0,function*(){var e,n,r;const{state:i}=t;if(i.authorized)return;yield qe(this,void 0,void 0,function*(){for(;!i.walletInfo;)yield Hf(500)});const o="7.3".localeCompare(((e=i.walletInfo)===null||e===void 0?void 0:e.version)||"");if(Le.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' version=${(n=i.walletInfo)===null||n===void 0?void 0:n.version} compareValue=${o}`),o!==1)return;const s=i.platformType===Ii.MobileWeb||i.platformType===Ii.ReactNative||i.platformType===Ii.MetaMaskMobileWebview;Le.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' platform=${i.platformType} secure=${s} channel=${i.channelId} walletVersion=${(r=i.walletInfo)===null||r===void 0?void 0:r.version}`),s&&(i.authorized=!0,t.emit(et.AUTHORIZED))})}function VZ(t){return e=>{const{state:n}=t;Le.RemoteCommunication(`[RemoteCommunication: handleChannelCreatedEvent()] context=${n.context} on 'channel_created' channelId=${e}`),t.emit(et.CHANNEL_CREATED,e)}}function GZ(t,e){return()=>{var n,r,i,o;const{state:s}=t;Le.RemoteCommunication(`[RemoteCommunication: handleClientsConnectedEvent()] on 'clients_connected' channel=${s.channelId} keysExchanged=${(r=(n=s.communicationLayer)===null||n===void 0?void 0:n.getKeyInfo())===null||r===void 0?void 0:r.keysExchanged}`),s.analytics&&Ac(Object.assign(Object.assign({id:(i=s.channelId)!==null&&i!==void 0?i:"",event:s.reconnection?_r.RECONNECT:s.isOriginator?_r.REQUEST:_r.REQUEST_MOBILE},s.originatorInfo),{commLayer:e,sdkVersion:s.sdkVersion,walletVersion:(o=s.walletInfo)===null||o===void 0?void 0:o.version,commLayerVersion:Xl.version}),s.communicationServerUrl).catch(a=>{}),s.isOriginator&&!s.reconnection&&Er.analytics.track("sdk_connection_established",{transport_type:"websocket"}),s.clientsConnected=!0,s.originatorInfoSent=!1,t.emit(et.CLIENTS_CONNECTED)}}function YZ(t){return e=>{const{state:n}=t;Le.RemoteCommunication(`[RemoteCommunication: handleClientsDisconnectedEvent()] context=${n.context} on 'clients_disconnected' channelId=${e}`),n.relayPersistence||(n.clientsConnected=!1,n.ready=!1,n.authorized=!1),t.emit(et.CLIENTS_DISCONNECTED,n.channelId),t.setConnectionStatus(ii.DISCONNECTED)}}function JZ(t){return e=>{var n;const{state:r}=t;if(Le.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] context=${r.context} on 'clients_waiting' numberUsers=${e} ready=${r.ready} autoStarted=${r.originatorConnectStarted}`),t.setConnectionStatus(ii.WAITING),t.emit(et.CLIENTS_WAITING,e),r.originatorConnectStarted){Le.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] on 'clients_waiting' watch autoStarted=${r.originatorConnectStarted} timeout`,r.autoConnectOptions);const i=((n=r.autoConnectOptions)===null||n===void 0?void 0:n.timeout)||3e3,o=setTimeout(()=>{Le.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] setTimeout(${i}) terminate channelConfig`,r.autoConnectOptions),r.originatorConnectStarted=!1,r.ready||t.setConnectionStatus(ii.TIMEOUT),clearTimeout(o)},i)}}}function ZZ(t,e){return n=>{var r,i,o,s,a,c,l,u;const{state:f}=t;if(Le.RemoteCommunication(`[RemoteCommunication: handleKeysExchangedEvent()] context=${f.context} on commLayer.'keys_exchanged' channel=${f.channelId}`,n),(i=(r=f.communicationLayer)===null||r===void 0?void 0:r.getKeyInfo())===null||i===void 0?void 0:i.keysExchanged){const p=Object.assign(Object.assign({},f.channelConfig),{channelId:(o=f.channelId)!==null&&o!==void 0?o:"",validUntil:((s=f.channelConfig)===null||s===void 0?void 0:s.validUntil)||fh,localKey:f.communicationLayer.getKeyInfo().ecies.private,otherKey:f.communicationLayer.getKeyInfo().ecies.otherPubKey});(a=f.storageManager)===null||a===void 0||a.persistChannelConfig(p).catch(m=>{}),t.setConnectionStatus(ii.LINKED)}(function(p,m){var w,y,I,S,T,N,z,$;const{state:H}=p;Le.RemoteCommunication(`[RemoteCommunication: setLastActiveDate()] channel=${H.channelId}`,m);const K=Object.assign(Object.assign({},H.channelConfig),{channelId:(w=H.channelId)!==null&&w!==void 0?w:"",validUntil:(I=(y=H.channelConfig)===null||y===void 0?void 0:y.validUntil)!==null&&I!==void 0?I:0,relayPersistence:H.relayPersistence,localKey:(T=(S=H.communicationLayer)===null||S===void 0?void 0:S.state.keyExchange)===null||T===void 0?void 0:T.getKeyInfo().ecies.private,otherKey:(z=(N=H.communicationLayer)===null||N===void 0?void 0:N.state.keyExchange)===null||z===void 0?void 0:z.getKeyInfo().ecies.otherPubKey,lastActive:m.getTime()});($=H.storageManager)===null||$===void 0||$.persistChannelConfig(K)})(t,new Date),f.analytics&&f.channelId&&Ac(Object.assign(Object.assign({id:f.channelId,event:n.isOriginator?_r.CONNECTED:_r.CONNECTED_MOBILE},f.originatorInfo),{sdkVersion:f.sdkVersion,commLayer:e,commLayerVersion:Xl.version,walletVersion:(c=f.walletInfo)===null||c===void 0?void 0:c.version}),f.communicationServerUrl).catch(p=>{}),f.isOriginator=n.isOriginator,n.isOriginator||((l=f.communicationLayer)===null||l===void 0||l.sendMessage({type:nr.READY}),f.ready=!0,f.paused=!1),n.isOriginator&&!f.originatorInfoSent&&((u=f.communicationLayer)===null||u===void 0||u.sendMessage({type:nr.ORIGINATOR_INFO,originatorInfo:f.originatorInfo,originator:f.originatorInfo}),f.originatorInfoSent=!0)}}function XZ(t){return e=>{let n=e;e.message&&(n=n.message),function(r,i){const{state:o}=i;if(Le.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] context=${o.context} on 'message' typeof=${typeof r}`,r),i.state.ready=!0,o.isOriginator||r.type!==nr.ORIGINATOR_INFO)if(o.isOriginator&&r.type===nr.WALLET_INFO)(function(s,a){const{state:c}=s;c.walletInfo=a.walletInfo,c.paused=!1})(i,r);else{if(o.isOriginator&&r.type===nr.WALLET_INIT)(function(s,a){return qe(this,void 0,void 0,function*(){var c,l,u;const{state:f}=s;if(f.isOriginator){const p=a.data||{};if(typeof p=="object"&&"accounts"in p&&"chainId"in p&&"walletKey"in p)try{const{channelConfig:m}=s.state;if(Le.RemoteCommunication("WALLET_INIT: channelConfig",JSON.stringify(m,null,2)),m){const w=p.accounts,y=p.chainId,I=p.walletKey;let S,T=!1;"deeplinkProtocol"in p&&(T=!!p.deeplinkProtocol,s.state.deeplinkProtocolAvailable=T),"walletVersion"in p&&(S=p.walletVersion),yield(c=s.state.storageManager)===null||c===void 0?void 0:c.persistChannelConfig(Object.assign(Object.assign({},m),{otherKey:I,walletVersion:S,deeplinkProtocolAvailable:T,relayPersistence:!0})),yield(l=s.state.storageManager)===null||l===void 0?void 0:l.persistAccounts(w),yield(u=s.state.storageManager)===null||u===void 0?void 0:u.persistChainId(y)}s.emit(et.WALLET_INIT,{accounts:p.accounts,chainId:p.chainId})}catch{}}})})(i,r).catch(s=>{Le.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${s}`)});else if(r.type===nr.TERMINATE)(function(s){return qe(this,void 0,void 0,function*(){const{state:a}=s;a.isOriginator&&(yield wB({options:{terminate:!0,sendMessage:!1},instance:s}),s.emit(et.TERMINATE))})})(i).catch(s=>{Le.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${s}`)});else if(r.type===nr.PAUSE)(function(s){const{state:a}=s;a.paused=!0,s.setConnectionStatus(ii.PAUSED)})(i);else if(r.type===nr.READY&&o.isOriginator)(function(s){const{state:a}=s;s.setConnectionStatus(ii.LINKED);const c=a.paused;a.paused=!1,s.emit(et.CLIENTS_READY,{isOriginator:a.isOriginator,walletInfo:a.walletInfo}),c&&(a.authorized=!0,s.emit(et.AUTHORIZED))})(i);else{if(r.type===nr.OTP&&o.isOriginator)return void function(s,a){var c;const{state:l}=s;s.emit(et.OTP,a.otpAnswer),"6.6".localeCompare(((c=l.walletInfo)===null||c===void 0?void 0:c.version)||"")===1&&s.emit(et.SDK_RPC_CALL,{method:xi.ETH_REQUESTACCOUNTS,params:[]})}(i,r);r.type===nr.AUTHORIZED&&o.isOriginator&&function(s){const{state:a}=s;a.authorized=!0,s.emit(et.AUTHORIZED)}(i)}i.emit(et.MESSAGE,r)}else(function(s,a){var c;const{state:l}=s;(c=l.communicationLayer)===null||c===void 0||c.sendMessage({type:nr.WALLET_INFO,walletInfo:l.walletInfo}),l.originatorInfo=a.originatorInfo||a.originator,s.emit(et.CLIENTS_READY,{isOriginator:l.isOriginator,originatorInfo:l.originatorInfo}),l.paused=!1})(i,r)}(n,t)}}function QZ(t){return()=>{const{state:e}=t;Le.RemoteCommunication("[RemoteCommunication: handleSocketReconnectEvent()] on 'socket_reconnect' -- reset key exchange status / set ready to false"),e.ready=!1,e.authorized=!1,mB(e),t.emitServiceStatusEvent({context:"socket_reconnect"})}}function eX(t){return()=>{const{state:e}=t;Le.RemoteCommunication("[RemoteCommunication: handleSocketDisconnectedEvent()] on 'socket_Disconnected' set ready to false"),e.ready=!1}}function tX(t){return()=>qe(this,void 0,void 0,function*(){var e,n,r,i,o,s,a;const{state:c}=t;Le.RemoteCommunication(`[RemoteCommunication: handleFullPersistenceEvent()] context=${c.context}`),t.state.ready=!0,t.state.clientsConnected=!0,t.state.authorized=!0,t.state.relayPersistence=!0,(e=t.state.communicationLayer)===null||e===void 0||e.getKeyExchange().setKeysExchanged(!0),t.emit(et.KEYS_EXCHANGED,{keysExchanged:!0,isOriginator:!0}),t.emit(et.AUTHORIZED),t.emit(et.CLIENTS_READY),t.emit(et.CHANNEL_PERSISTENCE);try{c.channelConfig=Object.assign(Object.assign({},c.channelConfig),{localKey:(n=c.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange().getKeyInfo().ecies.private,otherKey:(r=c.communicationLayer)===null||r===void 0?void 0:r.getKeyExchange().getOtherPublicKey(),channelId:(i=c.channelId)!==null&&i!==void 0?i:"",validUntil:(s=(o=c.channelConfig)===null||o===void 0?void 0:o.validUntil)!==null&&s!==void 0?s:fh,relayPersistence:!0}),yield(a=c.storageManager)===null||a===void 0?void 0:a.persistChannelConfig(c.channelConfig)}catch{}})}function G8({communicationLayerPreference:t,otherPublicKey:e,reconnect:n,ecies:r,communicationServerUrl:i=dh,instance:o}){var s,a,c,l,u,f,p,m,w,y,I;const{state:S}=o;if(Le.RemoteCommunication("[initCommunicationLayer()] ",JSON.stringify(S,null,2)),t!==vd.SOCKET)throw new Error("Invalid communication protocol");S.communicationLayer=new KZ({communicationLayerPreference:t,otherPublicKey:e,reconnect:n,transports:S.transports,communicationServerUrl:i,context:S.context,ecies:r,logging:S.logging,remote:o});let T=typeof document<"u"&&document.URL||"",N=typeof document<"u"&&document.title||"";!((s=S.dappMetadata)===null||s===void 0)&&s.url&&(T=S.dappMetadata.url),!((a=S.dappMetadata)===null||a===void 0)&&a.name&&(N=S.dappMetadata.name);const z=(f=(l=(c=S.dappMetadata)===null||c===void 0?void 0:c.name)!==null&&l!==void 0?l:(u=S.dappMetadata)===null||u===void 0?void 0:u.url)!==null&&f!==void 0?f:"N/A",$=typeof window<"u"&&window.location!==void 0&&(p=window.location.hostname)!==null&&p!==void 0?p:z,H={url:T,title:N,source:(m=S.dappMetadata)===null||m===void 0?void 0:m.source,dappId:$,anonId:S.anonId,icon:((w=S.dappMetadata)===null||w===void 0?void 0:w.iconUrl)||((y=S.dappMetadata)===null||y===void 0?void 0:y.base64Icon),platform:S.platformType,apiVersion:Xl.version,connector:(I=S.dappMetadata)===null||I===void 0?void 0:I.connector};S.originatorInfo=H;const K={[et.AUTHORIZED]:WZ(o),[et.MESSAGE]:XZ(o),[et.CHANNEL_PERSISTENCE]:tX(o),[et.CLIENTS_CONNECTED]:GZ(o,t),[et.KEYS_EXCHANGED]:ZZ(o,t),[et.SOCKET_DISCONNECTED]:eX(o),[et.SOCKET_RECONNECT]:QZ(o),[et.CLIENTS_DISCONNECTED]:YZ(o),[et.KEY_INFO]:()=>{},[et.CHANNEL_CREATED]:VZ(o),[et.CLIENTS_WAITING]:JZ(o),[et.RPC_UPDATE]:j=>{o.emit(et.RPC_UPDATE,j)}};for(const[j,B]of Object.entries(K))try{S.communicationLayer.on(j,B)}catch{}}function wB(t){return qe(this,arguments,void 0,function*({options:e,instance:n}){const{state:r}=n;return Le.RemoteCommunication(`[RemoteCommunication: disconnect()] channel=${r.channelId}`,e),new Promise((i,o)=>{var s,a,c,l,u,f;e!=null&&e.terminate?(n.state.ready&&Ac({id:(s=n.state.channelId)!==null&&s!==void 0?s:"",event:_r.TERMINATED},n.state.communicationServerUrl).catch(p=>{}),r.ready=!1,r.paused=!1,(a=r.storageManager)===null||a===void 0||a.terminate((c=r.channelId)!==null&&c!==void 0?c:""),n.state.terminated=!0,e.sendMessage?!((l=r.communicationLayer)===null||l===void 0)&&l.getKeyInfo().keysExchanged&&n.state.communicationLayer&&vB(n.state.communicationLayer,{type:nr.TERMINATE}).then(()=>{i(!0)}).catch(p=>{o(p)}):i(!0),r.authorized=!1,r.relayPersistence=!1,r.channelId=dc(),e.channelId=r.channelId,r.channelConfig=void 0,r.originatorConnectStarted=!1,(u=r.communicationLayer)===null||u===void 0||u.disconnect(e),n.setConnectionStatus(ii.TERMINATED)):((f=r.communicationLayer)===null||f===void 0||f.disconnect(e),n.setConnectionStatus(ii.DISCONNECTED),i(!0))})})}(vd||(vd={})).SOCKET="socket",function(t){t.NonBrowser="nodejs",t.MetaMaskMobileWebview="in-app-browser",t.DesktopWeb="web-desktop",t.MobileWeb="web-mobile",t.ReactNative="react-native"}(Ii||(Ii={}));class nX extends Zw.EventEmitter2{constructor(e){super(),this.state={ready:!1,anonId:"",authorized:!1,isOriginator:!1,terminated:!1,protocolVersion:1,paused:!1,deeplinkProtocolAvailable:!1,platformType:"metamask-mobile",analytics:!1,reconnection:!1,originatorInfoSent:!1,communicationServerUrl:dh,context:"",persist:!1,clientsConnected:!1,sessionDuration:fh,originatorConnectStarted:!1,debug:!1,_connectionStatus:ii.DISCONNECTED},this._options=e;const{anonId:n,platformType:r,communicationLayerPreference:i,otherPublicKey:o,reconnect:s,walletInfo:a,dappMetadata:c,protocolVersion:l,transports:u,context:f,relayPersistence:p,ecies:m,analytics:w=!1,storage:y,sdkVersion:I,communicationServerUrl:S=dh,logging:T,autoConnect:N={timeout:FZ}}=e;this.state.anonId=n,this.state.otherPublicKey=o,this.state.dappMetadata=c,this.state.walletInfo=a,this.state.transports=u,this.state.platformType=r,this.state.analytics=w,this.state.protocolVersion=l??1,this.state.isOriginator=!o,this.state.relayPersistence=p,this.state.communicationServerUrl=S,this.state.context=f,this.state.terminated=!1,this.state.sdkVersion=I,this.setMaxListeners(50),this.setConnectionStatus(ii.DISCONNECTED),y!=null&&y.duration&&(this.state.sessionDuration=fh),this.state.storageOptions=y,this.state.autoConnectOptions=N,this.state.debug=(T==null?void 0:T.remoteLayer)===!0,(T==null?void 0:T.remoteLayer)===!0&&Fi.enable("RemoteCommunication:Layer"),(T==null?void 0:T.serviceLayer)===!0&&Fi.enable("SocketService:Layer"),(T==null?void 0:T.eciesLayer)===!0&&Fi.enable("ECIES:Layer"),(T==null?void 0:T.keyExchangeLayer)===!0&&Fi.enable("KeyExchange:Layer"),this.state.logging=T,y!=null&&y.storageManager&&(this.state.storageManager=y.storageManager),Le.RemoteCommunication(`[RemoteCommunication: constructor()] protocolVersion=${l} relayPersistence=${p} isOriginator=${this.state.isOriginator} communicationLayerPreference=${i} otherPublicKey=${o} reconnect=${s}`),this.state.isOriginator||G8({communicationLayerPreference:i,otherPublicKey:o,reconnect:s,ecies:m,communicationServerUrl:S,instance:this}),this.emitServiceStatusEvent({context:"constructor"})}initFromDappStorage(){return qe(this,void 0,void 0,function*(){var e;if(this.state.storageManager){const n=yield this.state.storageManager.getPersistedChannelConfig({});n&&(this.state.channelConfig=n,this.state.channelId=n.channelId,this.state.deeplinkProtocolAvailable=(e=n.deeplinkProtocolAvailable)!==null&&e!==void 0&&e,n.relayPersistence&&(this.state.authorized=!0,this.state.ready=!0,this.setConnectionStatus(ii.LINKED),yield this.connectToChannel({channelId:n.channelId})))}G8({communicationLayerPreference:vd.SOCKET,otherPublicKey:this.state.otherPublicKey,reconnect:this._options.reconnect,ecies:this._options.ecies,communicationServerUrl:this.state.communicationServerUrl,instance:this})})}originatorSessionConnect(){return qe(this,void 0,void 0,function*(){return yield function(e){return qe(this,void 0,void 0,function*(){var n;const{state:r}=e;if(!r.storageManager)return void Le.RemoteCommunication("[RemoteCommunication: originatorSessionConnect()] no storage manager defined - skip");const i=yield r.storageManager.getPersistedChannelConfig({});if(Le.RemoteCommunication(`[RemoteCommunication: originatorSessionConnect()] autoStarted=${r.originatorConnectStarted} channelConfig`,i),(n=r.communicationLayer)===null||n===void 0?void 0:n.isConnected())return Le.RemoteCommunication("[RemoteCommunication: originatorSessionConnect()] socket already connected - skip"),i;if(i){if(i.validUntil>Date.now())return r.channelConfig=i,r.originatorConnectStarted=!0,r.channelId=i==null?void 0:i.channelId,r.reconnection=!0,i;Le.RemoteCommunication("[RemoteCommunication: autoConnect()] Session has expired")}r.originatorConnectStarted=!1})}(this)})}generateChannelIdConnect(){return qe(this,void 0,void 0,function*(){return function(e){return qe(this,void 0,void 0,function*(){var n,r,i,o,s,a;if(!e.communicationLayer)throw new Error("communication layer not initialized");if(e.ready)throw new Error("Channel already connected");if(e.channelId&&(!((n=e.communicationLayer)===null||n===void 0)&&n.isConnected()))return e.channelConfig=Object.assign(Object.assign({},e.channelConfig),{channelId:e.channelId,validUntil:Date.now()+e.sessionDuration}),(r=e.storageManager)===null||r===void 0||r.persistChannelConfig(e.channelConfig),{channelId:e.channelId,privKey:(o=(i=e.communicationLayer)===null||i===void 0?void 0:i.getKeyInfo())===null||o===void 0?void 0:o.ecies.private,pubKey:(a=(s=e.communicationLayer)===null||s===void 0?void 0:s.getKeyInfo())===null||a===void 0?void 0:a.ecies.public};Le.RemoteCommunication("[RemoteCommunication: generateChannelId()]");const c=yield e.communicationLayer.createChannel();Le.RemoteCommunication("[RemoteCommunication: generateChannelId()] channel created",c);const l=Object.assign(Object.assign({},e.channelConfig),{channelId:c.channelId,localKey:c.privKey,validUntil:Date.now()+e.sessionDuration});return e.channelId=c.channelId,e.channelConfig=l,{channelId:e.channelId,pubKey:c.pubKey,privKey:c.privKey}})}(this.state)})}clean(){return mB(this.state)}connectToChannel({channelId:e,withKeyExchange:n,authorized:r}){return function(i){return qe(this,arguments,void 0,function*({channelId:o,withKeyExchange:s,authorized:a,state:c}){var l,u,f;if(!uh(o))throw Le.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${c.context} invalid channel channelId=${o}`),new Error(`Invalid channel ${o}`);if(Le.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${c.context} channelId=${o} withKeyExchange=${s}`),(l=c.communicationLayer)===null||l===void 0?void 0:l.isConnected())return void Le.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${c.context} already connected - interrupt connection.`);c.channelId=o,yield(u=c.communicationLayer)===null||u===void 0?void 0:u.connectToChannel({channelId:o,authorized:a,withKeyExchange:s});const p=Object.assign(Object.assign({},c.channelConfig),{channelId:o,validUntil:Date.now()+c.sessionDuration});c.channelConfig=p,(f=c.storageManager)===null||f===void 0||f.persistChannelConfig(p)})}({channelId:e,authorized:r,withKeyExchange:n,state:this.state})}sendMessage(e){return qe(this,void 0,void 0,function*(){const n=this.state.isOriginator&&e.method&&ug(e.method);n&&Er.analytics.track("sdk_action_requested",{action:e.method});try{return yield function(r,i){return qe(this,void 0,void 0,function*(){var o,s;const{state:a}=r;Le.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${a.context} paused=${a.paused} ready=${a.ready} relayPersistence=${a.relayPersistence} authorized=${a.authorized} socket=${(o=a.communicationLayer)===null||o===void 0?void 0:o.isConnected()} clientsConnected=${a.clientsConnected} status=${a._connectionStatus}`,i),a.relayPersistence||a.ready&&(!((s=a.communicationLayer)===null||s===void 0)&&s.isConnected())&&a.clientsConnected||(Le.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${a.context}  SKIP message waiting for MM mobile readiness.`),yield new Promise(c=>{r.once(et.CLIENTS_READY,c)}),Le.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${a.context}  AFTER SKIP / READY -- sending pending message`));try{return yield function(l,u){return qe(this,void 0,void 0,function*(){return new Promise(f=>{var p;const{state:m}=l;Le.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${m.context} ready=${m.ready} authorized=${m.authorized} method=${u.method}`),!m.isOriginator||m.authorized||m.relayPersistence?(p=m.communicationLayer)===null||p===void 0||p.sendMessage(u).then(w=>{f(w)}).catch(w=>{f(!1)}):l.once(et.AUTHORIZED,()=>{var w;Le.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${m.context}  AFTER SKIP / AUTHORIZED -- sending pending message`),(w=m.communicationLayer)===null||w===void 0||w.sendMessage(u).then(y=>{f(y)}).catch(y=>{f(!1)})})})})}(r,i)}catch(c){throw c}})}(this,e)}catch(r){throw n&&Er.analytics.track("sdk_action_failed",{action:e.method}),r}})}testStorage(){return qe(this,void 0,void 0,function*(){return function(e){return qe(this,void 0,void 0,function*(){var n;const r=yield(n=e.storageManager)===null||n===void 0?void 0:n.getPersistedChannelConfig();Le.RemoteCommunication("[RemoteCommunication: testStorage()] res",r)})}(this.state)})}hasDeeplinkProtocol(){return this.state.deeplinkProtocolAvailable}getChannelConfig(){return this.state.channelConfig}isReady(){return this.state.ready}isConnected(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.isConnected()}isAuthorized(){return this.state.authorized}isPaused(){return this.state.paused}getCommunicationLayer(){return this.state.communicationLayer}ping(){return qe(this,void 0,void 0,function*(){var e;Le.RemoteCommunication(`[RemoteCommunication: ping()] channel=${this.state.channelId}`),yield(e=this.state.communicationLayer)===null||e===void 0?void 0:e.ping()})}testLogger(){Le.RemoteCommunication(`testLogger() channel=${this.state.channelId}`),Le.SocketService(`testLogger() channel=${this.state.channelId}`),Le.Ecies(`testLogger() channel=${this.state.channelId}`),Le.KeyExchange(`testLogger() channel=${this.state.channelId}`)}keyCheck(){var e;Le.RemoteCommunication(`[RemoteCommunication: keyCheck()] channel=${this.state.channelId}`),(e=this.state.communicationLayer)===null||e===void 0||e.keyCheck()}setConnectionStatus(e){this.state._connectionStatus!==e&&(this.state._connectionStatus=e,this.emit(et.CONNECTION_STATUS,e),this.emitServiceStatusEvent({context:"setConnectionStatus"}))}emitServiceStatusEvent(e={}){this.emit(et.SERVICE_STATUS,this.getServiceStatus())}getConnectionStatus(){return this.state._connectionStatus}getServiceStatus(){return{originatorInfo:this.state.originatorInfo,keyInfo:this.getKeyInfo(),connectionStatus:this.state._connectionStatus,channelConfig:this.state.channelConfig,channelId:this.state.channelId}}getKeyInfo(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.getKeyInfo()}resetKeys(){var e;(e=this.state.communicationLayer)===null||e===void 0||e.resetKeys()}setOtherPublicKey(e){var n;const r=(n=this.state.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange();if(!r)throw new Error("KeyExchange is not initialized.");r.getOtherPublicKey()!==e&&r.setOtherPublicKey(e)}pause(){return qe(this,void 0,void 0,function*(){var e;Le.RemoteCommunication(`[RemoteCommunication: pause()] channel=${this.state.channelId}`),yield(e=this.state.communicationLayer)===null||e===void 0?void 0:e.pause(),this.setConnectionStatus(ii.PAUSED)})}getVersion(){return Xl.version}hasRelayPersistence(){var e;return(e=this.state.relayPersistence)!==null&&e!==void 0&&e}resume(){return qe(this,void 0,void 0,function*(){return function(e){return qe(this,void 0,void 0,function*(){var n;const{state:r}=e;Le.RemoteCommunication(`[RemoteCommunication: resume()] channel=${r.channelId}`),yield(n=r.communicationLayer)===null||n===void 0?void 0:n.resume(),e.setConnectionStatus(ii.LINKED)})}(this)})}encrypt(e){var n,r,i;const o=(n=this.state.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange(),s=o==null?void 0:o.getOtherPublicKey();if(!s)throw new Error("KeyExchange not completed");return(i=(r=this.state.communicationLayer)===null||r===void 0?void 0:r.state.eciesInstance)===null||i===void 0?void 0:i.encrypt(e,s)}decrypt(e){var n,r,i;if(!(!((n=this.state.communicationLayer)===null||n===void 0)&&n.state.eciesInstance))throw new Error("ECIES instance is not initialized");return(i=(r=this.state.communicationLayer)===null||r===void 0?void 0:r.state.eciesInstance)===null||i===void 0?void 0:i.decrypt(e)}getChannelId(){return this.state.channelId}getRPCMethodTracker(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.getRPCMethodTracker()}reject({channelId:e}){return function(n){return qe(this,arguments,void 0,function*({channelId:r,state:i}){var o,s,a;if(!uh(r))throw Le.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${i.context} invalid channel channelId=${r}`),new Error(`Invalid channel ${r}`);if(i.isOriginator)return void Le.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} isOriginator=${i.isOriginator} channelId=${r}`);const{socket:c}=(s=(o=i.communicationLayer)===null||o===void 0?void 0:o.state)!==null&&s!==void 0?s:{};c!=null&&c.connected||(Le.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} socket already connected`),c==null||c.connect()),Ac(Object.assign(Object.assign({id:r,event:_r.REJECTED},i.originatorInfo),{sdkVersion:i.sdkVersion,commLayerVersion:Xl.version,walletVersion:(a=i.walletInfo)===null||a===void 0?void 0:a.version}),i.communicationServerUrl).catch(l=>{}),yield new Promise((l,u)=>{c==null||c.emit(et.REJECTED,{channelId:r},(f,p)=>{Le.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} socket=${c==null?void 0:c.id}`,{error:f,response:p}),f?u(f):l(p)})})})}({channelId:e,state:this.state})}disconnect(e){return qe(this,void 0,void 0,function*(){return wB({options:e,instance:this})})}}(function(t){t.RENEW="renew",t.LINK="link"})(V8||(V8={}));var rX="ERC721",iX="ERC1155",hr={errors:{disconnected:()=>"MetaMask: Disconnected from chain. Attempting to connect.",permanentlyDisconnected:()=>"MetaMask: Disconnected from MetaMask background. Page reload required.",sendSiteMetadata:()=>"MetaMask: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:t=>`MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ${t} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidNetworkParams:()=>"MetaMask: Received invalid network parameters. Please report this bug.",invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:t=>`'args.logger' must include required method '${t}'.`},info:{connected:t=>`MetaMask: Connected to chain with ID "${t}".`},warnings:{chainIdDeprecation:`MetaMask: 'ethereum.chainId' is deprecated and may be removed in the future. Please use the 'eth_chainId' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,networkVersionDeprecation:`MetaMask: 'ethereum.networkVersion' is deprecated and may be removed in the future. Please use the 'net_version' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,selectedAddressDeprecation:`MetaMask: 'ethereum.selectedAddress' is deprecated and may be removed in the future. Please use the 'eth_accounts' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,enableDeprecation:`MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1102`,sendDeprecation:`MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193`,events:{close:`MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect`,data:`MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`,networkChanged:`MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged`,notification:`MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`},rpc:{ethDecryptDeprecation:`MetaMask: The RPC method 'eth_decrypt' is deprecated and may be removed in the future.
For more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,ethGetEncryptionPublicKeyDeprecation:`MetaMask: The RPC method 'eth_getEncryptionPublicKey' is deprecated and may be removed in the future.
For more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,walletWatchAssetNFTExperimental:`MetaMask: The RPC method 'wallet_watchAsset' is experimental for ERC721/ERC1155 assets and may change in the future.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/blob/main/MIPs/mip-1.md and https://github.com/MetaMask/metamask-improvement-proposals/blob/main/PROCESS-GUIDE.md#proposal-lifecycle`},experimentalMethods:"MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning."}};function oX(t){const e={ethDecryptDeprecation:!1,ethGetEncryptionPublicKeyDeprecation:!1,walletWatchAssetNFTExperimental:!1};return(n,r,i)=>{var o;e.ethDecryptDeprecation||n.method!=="eth_decrypt"?e.ethGetEncryptionPublicKeyDeprecation||n.method!=="eth_getEncryptionPublicKey"?!e.walletWatchAssetNFTExperimental&&n.method==="wallet_watchAsset"&&[rX,iX].includes(((o=n.params)==null?void 0:o.type)||"")&&(t.warn(hr.warnings.rpc.walletWatchAssetNFTExperimental),e.walletWatchAssetNFTExperimental=!0):(t.warn(hr.warnings.rpc.ethGetEncryptionPublicKeyDeprecation),e.ethGetEncryptionPublicKeyDeprecation=!0):(t.warn(hr.warnings.rpc.ethDecryptDeprecation),e.ethDecryptDeprecation=!0),i()}}var bB=4294967295,Y8=Math.floor(Math.random()*bB);function sX(){return(t,e,n,r)=>{const i=t.id,o=Y8=(Y8+1)%bB;t.id=o,e.id=o,n(s=>{t.id=i,e.id=i,s()})}}var KC=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},kl=(t,e,n)=>(KC(t,e,"read from private field"),n?n.call(t):e.get(t)),Ps=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},gv=(t,e,n,r)=>(KC(t,e,"write to private field"),e.set(t,n),n),Bi=(t,e,n)=>(KC(t,e,"access private method"),n),xl={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},J8={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};function Z8(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}var jy=(t,e)=>Object.hasOwnProperty.call(t,e);class aX extends TypeError{constructor(e,n){let r;const{message:i,explanation:o,...s}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??c),o!=null&&(this.cause=c),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function xc(t){return typeof t=="object"&&t!=null}function Ia(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function cX(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${Ia(r)}\``}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:c}}function*X8(t,e,n,r){(function(i){return xc(i)&&typeof i[Symbol.iterator]=="function"})(t)||(t=[t]);for(const i of t){const o=cX(i,e,n,r);o&&(yield o)}}function*WC(t,e,n={}){const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(t=e.coercer(t,a),s&&e.type!=="type"&&xc(e.schema)&&xc(t)&&!Array.isArray(t)))for(const l in t)e.schema[l]===void 0&&delete t[l];let c="valid";for(const l of e.validator(t,a))l.explanation=n.message,c="not_valid",yield[l,void 0];for(let[l,u,f]of e.entries(t,a)){const p=WC(u,f,{path:l===void 0?r:[...r,l],branch:l===void 0?i:[...i,u],coerce:o,mask:s,message:n.message});for(const m of p)m[0]?(c=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):o&&(u=m[1],l===void 0?t=u:t instanceof Map?t.set(l,u):t instanceof Set?t.add(u):xc(t)&&(u!==void 0||l in t)&&(t[l]=u))}if(c!=="not_valid")for(const l of e.refiner(t,a))l.explanation=n.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,t])}class Hs{constructor(e){const{type:n,schema:r,validator:i,refiner:o,coercer:s=c=>c,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=s,this.validator=i?(c,l)=>X8(i(c,l),l,this,c):()=>[],this.refiner=o?(c,l)=>X8(o(c,l),l,this,c):()=>[]}assert(e,n){return EB(e,this,n)}create(e,n){return xB(e,this,n)}is(e){return Ch(e,this)}mask(e,n){return function(r,i,o){const s=g0(r,i,{coerce:!0,mask:!0,message:o});if(s[0])throw s[0];return s[1]}(e,this,n)}validate(e,n={}){return g0(e,this,n)}}function EB(t,e,n){const r=g0(t,e,{message:n});if(r[0])throw r[0]}function xB(t,e,n){const r=g0(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Ch(t,e){return!g0(t,e)[0]}function g0(t,e,n={}){const r=WC(t,e,n),i=function(o){const{done:s,value:a}=o.next();return s?void 0:a}(r);return i[0]?[new aX(i[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function Ql(t,e){return new Hs({type:t,schema:null,validator:e})}function Q8(t){let e;return new Hs({type:"lazy",schema:null,*entries(n,r){e??(e=t()),yield*e.entries(n,r)},validator:(n,r)=>(e??(e=t()),e.validator(n,r)),coercer:(n,r)=>(e??(e=t()),e.coercer(n,r)),refiner:(n,r)=>(e??(e=t()),e.refiner(n,r))})}function _B(t){return new Hs({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${Ia(e)}`})}function SB(t){const e=Ia(t),n=typeof t;return new Hs({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator:r=>r===t||`Expected the literal \`${e}\`, but received: ${Ia(r)}`})}function CB(){return Ql("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Ia(t)}`)}function AB(t){const e=t?Object.keys(t):[],n=Ql("never",()=>!1);return new Hs({type:"object",schema:t||null,*entries(r){if(t&&xc(r)){const i=new Set(Object.keys(r));for(const o of e)i.delete(o),yield[o,r[o],t[o]];for(const o of i)yield[o,r[o],n]}},validator:r=>xc(r)||`Expected an object, but received: ${Ia(r)}`,coercer:r=>xc(r)?{...r}:r})}function eR(t){return new Hs({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function IB(t,e){return new Hs({type:"record",schema:null,*entries(n){if(xc(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator:n=>xc(n)||`Expected an object, but received: ${Ia(n)}`})}function eu(){return Ql("string",t=>typeof t=="string"||`Expected a string, but received: ${Ia(t)}`)}function r1(t){const e=t.map(n=>n.type).join(" | ");return new Hs({type:"union",schema:null,coercer(n){for(const r of t){const[i,o]=r.validate(n,{coerce:!0});if(!i)return o}return n},validator(n,r){const i=[];for(const o of t){const[...s]=WC(n,o,r),[a]=s;if(!a[0])return[];for(const[c]of s)c&&i.push(c)}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Ia(n)}`,...i]}})}function lX(t){return function(e){return function(n){return typeof n=="object"&&n!==null&&"message"in n}(e)&&typeof e.message=="string"?e.message:e==null?"":String(e)}(t).replace(/\.$/u,"")}function uX(t,e){var r,i;return n=t,typeof((i=(r=n==null?void 0:n.prototype)==null?void 0:r.constructor)==null?void 0:i.name)=="string"?new t({message:e}):t({message:e});var n}var dX=class extends Error{constructor(t){super(t.message),this.code="ERR_ASSERTION"}};function kB(){throw new Error("setTimeout has not been defined")}function MB(){throw new Error("clearTimeout has not been defined")}var gl=kB,ml=MB;function RB(t){if(gl===setTimeout)return setTimeout(t,0);if((gl===kB||!gl)&&setTimeout)return gl=setTimeout,setTimeout(t,0);try{return gl(t,0)}catch{try{return gl.call(null,t,0)}catch{return gl.call(this,t,0)}}}typeof Ui.setTimeout=="function"&&(gl=setTimeout),typeof Ui.clearTimeout=="function"&&(ml=clearTimeout);var Gu,yc=[],Kf=!1,Qv=-1;function fX(){Kf&&Gu&&(Kf=!1,Gu.length?yc=Gu.concat(yc):Qv=-1,yc.length&&OB())}function OB(){if(!Kf){var t=RB(fX);Kf=!0;for(var e=yc.length;e;){for(Gu=yc,yc=[];++Qv<e;)Gu&&Gu[Qv].run();Qv=-1,e=yc.length}Gu=null,Kf=!1,function(n){if(ml===clearTimeout)return clearTimeout(n);if((ml===MB||!ml)&&clearTimeout)return ml=clearTimeout,clearTimeout(n);try{return ml(n)}catch{try{return ml.call(null,n)}catch{return ml.call(this,n)}}}(t)}}function TB(t,e){this.fun=t,this.array=e}TB.prototype.run=function(){this.fun.apply(null,this.array)};function Sd(){}var hX=Sd,pX=Sd,gX=Sd,mX=Sd,vX=Sd,yX=Sd,wX=Sd,Af=Ui.performance||{},bX=Af.now||Af.mozNow||Af.msNow||Af.oNow||Af.webkitNow||function(){return new Date().getTime()},EX=new Date,Sn={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];yc.push(new TB(t,e)),yc.length!==1||Kf||RB(OB)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:hX,addListener:pX,once:gX,off:mX,removeListener:vX,removeAllListeners:yX,emit:wX,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*bX.call(Af),n=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(n-=t[0],(r-=t[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-EX)/1e3}},m0=t=>AB(t);function tR({path:t,branch:e}){const n=t[t.length-1];return jy(e[e.length-2],n)}function $y(t){return new Hs({...t,type:`optional ${t.type}`,validator:(e,n)=>!tR(n)||t.validator(e,n),refiner:(e,n)=>!tR(n)||t.refiner(e,n)})}var mv,nR,rR,Fy=r1([SB(null),Ql("boolean",t=>typeof t=="boolean"),Ql("finite number",t=>Ch(t,CB())&&Number.isFinite(t)),eu(),_B(Q8(()=>Fy)),IB(eu(),Q8(()=>Fy))]),v0=(mv=Fy,nR=Ql("any",()=>!0),rR=t=>(function(e,n,r="Assertion failed",i=dX){try{EB(e,n)}catch(o){throw uX(i,`${r}: ${lX(o)}.`)}}(t,Fy),JSON.parse(JSON.stringify(t,(e,n)=>{if(e!=="__proto__"&&e!=="constructor")return n}))),new Hs({...mv,coercer:(t,e)=>Ch(t,nR)?mv.coercer(rR(t,e),e):mv.coercer(t,e)}));function K_(t){try{return function(e){xB(e,v0)}(t),!0}catch{return!1}}var Wp=SB("2.0"),ey=function(t){return new Hs({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}(r1([CB(),eu()])),W_=m0({code:Ql("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${Ia(t)}`),message:eu(),data:$y(v0),stack:$y(eu())}),NB=r1([IB(eu(),v0),_B(v0)]),xX=m0({id:ey,jsonrpc:Wp,method:eu(),params:$y(NB)}),_X=m0({jsonrpc:Wp,method:eu(),params:$y(NB)});function iR(t){return Ch(t,xX)}function oR(t){return Ch(t,W_)}AB({id:ey,jsonrpc:Wp,result:eR(Ql("unknown",()=>!0)),error:eR(W_)}),r1([m0({id:ey,jsonrpc:Wp,result:v0}),m0({id:ey,jsonrpc:Wp,error:W_})]);var sR=xl.internal,SX="Unspecified error message. This is a bug, please report it.",CX={code:sR,message:PB(sR)},AX="Unspecified server error.";function PB(t,e=SX){if(function(n){return Number.isInteger(n)}(t)){const n=t.toString();if(jy(J8,n))return J8[n].message;if(function(r){return r>=-32099&&r<=-32e3}(t))return AX}return e}function aR(t,{fallbackError:e=CX,shouldIncludeStack:n=!0}={}){if(!oR(e))throw new Error("Must provide fallback error with integer number code and string message.");const r=function(i,o){if(i&&typeof i=="object"&&"serialize"in i&&typeof i.serialize=="function")return i.serialize();if(oR(i))return i;const s=LB(i);return{...o,data:{cause:s}}}(t,e);return n||delete r.stack,r}function LB(t){return Array.isArray(t)?t.map(e=>K_(e)?e:Z8(e)?cR(e):null):Z8(t)?cR(t):K_(t)?t:null}function cR(t){return Object.getOwnPropertyNames(t).reduce((e,n)=>{const r=t[n];return K_(r)&&(e[n]=r),e},{})}var BB=Pp;Pp.default=Pp,Pp.stable=lR,Pp.stableStringify=lR;var Uy="[...]",DB="[Circular]",yd=[],Yu=[];function jB(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Pp(t,e,n,r){var i;r===void 0&&(r=jB()),V_(t,"",0,[],void 0,0,r);try{i=Yu.length===0?JSON.stringify(t,e,n):JSON.stringify(t,$B(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;yd.length!==0;){var o=yd.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function Wf(t,e,n,r){var i=Object.getOwnPropertyDescriptor(r,n);i.get!==void 0?i.configurable?(Object.defineProperty(r,n,{value:t}),yd.push([r,n,e,i])):Yu.push([e,n,t]):(r[n]=t,yd.push([r,n,e]))}function V_(t,e,n,r,i,o,s){var a;if(o+=1,typeof t=="object"&&t!==null){for(a=0;a<r.length;a++)if(r[a]===t)return void Wf(DB,t,e,i);if(s.depthLimit!==void 0&&o>s.depthLimit||s.edgesLimit!==void 0&&n+1>s.edgesLimit)return void Wf(Uy,t,e,i);if(r.push(t),Array.isArray(t))for(a=0;a<t.length;a++)V_(t[a],a,a,r,t,o,s);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var l=c[a];V_(t[l],l,a,r,t,o,s)}}r.pop()}}function IX(t,e){return t<e?-1:t>e?1:0}function lR(t,e,n,r){r===void 0&&(r=jB());var i,o=G_(t,"",0,[],void 0,0,r)||t;try{i=Yu.length===0?JSON.stringify(o,e,n):JSON.stringify(o,$B(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;yd.length!==0;){var s=yd.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function G_(t,e,n,r,i,o,s){var a;if(o+=1,typeof t=="object"&&t!==null){for(a=0;a<r.length;a++)if(r[a]===t)return void Wf(DB,t,e,i);try{if(typeof t.toJSON=="function")return}catch{return}if(s.depthLimit!==void 0&&o>s.depthLimit||s.edgesLimit!==void 0&&n+1>s.edgesLimit)return void Wf(Uy,t,e,i);if(r.push(t),Array.isArray(t))for(a=0;a<t.length;a++)G_(t[a],a,a,r,t,o,s);else{var c={},l=Object.keys(t).sort(IX);for(a=0;a<l.length;a++){var u=l[a];G_(t[u],u,a,r,t,o,s),c[u]=t[u]}if(i===void 0)return c;yd.push([i,e,t]),i[e]=c}r.pop()}}function $B(t){return t=t!==void 0?t:function(e,n){return n},function(e,n){if(Yu.length>0)for(var r=0;r<Yu.length;r++){var i=Yu[r];if(i[1]===e&&i[0]===n){n=i[2],Yu.splice(r,1);break}}return t.call(this,e,n)}}var kX=t1(BB),nc=class extends Error{constructor(t,e,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!e||typeof e!="string")throw new Error('"message" must be a non-empty string.');super(e),this.code=t,n!==void 0&&(this.data=n)}serialize(){const t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data,function(e){if(typeof e!="object"||e===null)return!1;try{let n=e;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}catch{return!1}}(this.data)&&(t.data.cause=LB(this.data.cause))),this.stack&&(t.stack=this.stack),t}toString(){return kX(this.serialize(),MX,2)}};function MX(t,e){if(e!=="[Circular]")return e}var Vp=t=>RX(xl.invalidRequest,t);function RX(t,e){const[n,r]=function(i){if(i){if(typeof i=="string")return[i];if(typeof i=="object"&&!Array.isArray(i)){const{message:o,data:s}=i;if(o&&typeof o!="string")throw new Error("Must specify string message.");return[o??void 0,s]}}return[]}(e);return new nc(t,n??PB(t),r)}var FB={};function vl(){}function Rn(){Rn.init.call(this)}function UB(t){return t._maxListeners===void 0?Rn.defaultMaxListeners:t._maxListeners}function uR(t,e,n,r){var i,o,s;if(typeof n!="function")throw new TypeError('"listener" argument must be a function');if((o=t._events)?(o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]):(o=t._events=new vl,t._eventsCount=0),s){if(typeof s=="function"?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),!s.warned&&(i=UB(t))&&i>0&&s.length>i){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,function(c){typeof console.warn=="function"?console.warn(c):console.log(c)}(a)}}else s=o[e]=n,++t._eventsCount;return t}function dR(t,e,n){var r=!1;function i(){t.removeListener(e,i),r||(r=!0,n.apply(t,arguments))}return i.listener=n,i}function fR(t){var e=this._events;if(e){var n=e[t];if(typeof n=="function")return 1;if(n)return n.length}return 0}function xp(t,e){for(var n=new Array(e);e--;)n[e]=t[e];return n}vl.prototype=Object.create(null),Rn.EventEmitter=Rn,Rn.usingDomains=!1,Rn.prototype.domain=void 0,Rn.prototype._events=void 0,Rn.prototype._maxListeners=void 0,Rn.defaultMaxListeners=10,Rn.init=function(){this.domain=null,Rn.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new vl,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Rn.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},Rn.prototype.getMaxListeners=function(){return UB(this)},Rn.prototype.emit=function(t){var e,n,r,i,o,s,a,c=t==="error";if(s=this._events)c=c&&s.error==null;else if(!c)return!1;if(a=this.domain,c){if(e=arguments[1],!a){if(e instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=a,e.domainThrown=!1,a.emit("error",e),!1}if(!(n=s[t]))return!1;var u=typeof n=="function";switch(r=arguments.length){case 1:(function(f,p,m){if(p)f.call(m);else for(var w=f.length,y=xp(f,w),I=0;I<w;++I)y[I].call(m)})(n,u,this);break;case 2:(function(f,p,m,w){if(p)f.call(m,w);else for(var y=f.length,I=xp(f,y),S=0;S<y;++S)I[S].call(m,w)})(n,u,this,arguments[1]);break;case 3:(function(f,p,m,w,y){if(p)f.call(m,w,y);else for(var I=f.length,S=xp(f,I),T=0;T<I;++T)S[T].call(m,w,y)})(n,u,this,arguments[1],arguments[2]);break;case 4:(function(f,p,m,w,y,I){if(p)f.call(m,w,y,I);else for(var S=f.length,T=xp(f,S),N=0;N<S;++N)T[N].call(m,w,y,I)})(n,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];(function(f,p,m,w){if(p)f.apply(m,w);else for(var y=f.length,I=xp(f,y),S=0;S<y;++S)I[S].apply(m,w)})(n,u,this,i)}return!0},Rn.prototype.addListener=function(t,e){return uR(this,t,e,!1)},Rn.prototype.on=Rn.prototype.addListener,Rn.prototype.prependListener=function(t,e){return uR(this,t,e,!0)},Rn.prototype.once=function(t,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.on(t,dR(this,t,e)),this},Rn.prototype.prependOnceListener=function(t,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(t,dR(this,t,e)),this},Rn.prototype.removeListener=function(t,e){var n,r,i,o,s;if(typeof e!="function")throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[t]))return this;if(n===e||n.listener&&n.listener===e)--this._eventsCount==0?this._events=new vl:(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if(typeof n!="function"){for(i=-1,o=n.length;o-- >0;)if(n[o]===e||n[o].listener&&n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;if(n.length===1){if(n[0]=void 0,--this._eventsCount==0)return this._events=new vl,this;delete r[t]}else(function(a,c){for(var l=c,u=l+1,f=a.length;u<f;l+=1,u+=1)a[l]=a[u];a.pop()})(n,i);r.removeListener&&this.emit("removeListener",t,s||e)}return this},Rn.prototype.off=function(t,e){return this.removeListener(t,e)},Rn.prototype.removeAllListeners=function(t){var e,n;if(!(n=this._events))return this;if(!n.removeListener)return arguments.length===0?(this._events=new vl,this._eventsCount=0):n[t]&&(--this._eventsCount==0?this._events=new vl:delete n[t]),this;if(arguments.length===0){for(var r,i=Object.keys(n),o=0;o<i.length;++o)(r=i[o])!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new vl,this._eventsCount=0,this}if(typeof(e=n[t])=="function")this.removeListener(t,e);else if(e)do this.removeListener(t,e[e.length-1]);while(e[0]);return this},Rn.prototype.listeners=function(t){var e,n,r=this._events;return n=r&&(e=r[t])?typeof e=="function"?[e.listener||e]:function(i){for(var o=new Array(i.length),s=0;s<o.length;++s)o[s]=i[s].listener||i[s];return o}(e):[],n},Rn.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):fR.call(t,e)},Rn.prototype.listenerCount=fR,Rn.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var VC=cg(Object.freeze({__proto__:null,EventEmitter:Rn,default:Rn}));Object.defineProperty(FB,"__esModule",{value:!0});const OX=VC;function hR(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}let TX=class extends OX.EventEmitter{emit(t,...e){let n=t==="error";const r=this._events;if(r!==void 0)n=n&&r.error===void 0;else if(!n)return!1;if(n){let o;if(e.length>0&&([o]=e),o instanceof Error)throw o;const s=new Error("Unhandled error."+(o?` (${o.message})`:""));throw s.context=o,s}const i=r[t];if(i===void 0)return!1;if(typeof i=="function")hR(i,this,e);else{const o=i.length,s=function(a){const c=a.length,l=new Array(c);for(let u=0;u<c;u+=1)l[u]=a[u];return l}(i);for(let a=0;a<o;a+=1)hR(s[a],this,e)}return!0}};var zy,_l,Bf,Lp,ty,ny,Y_,ry,J_,GE,pR,iy,Z_,YE,gR,Gp,qy,JE,mR,zB=FB.default=TX,Ms=class oy extends zB{constructor({notificationHandler:e}={}){super(),Ps(this,Lp),Ps(this,ny),Ps(this,ry),Ps(this,zy,!1),Ps(this,_l,void 0),Ps(this,Bf,void 0),gv(this,_l,[]),gv(this,Bf,e)}destroy(){kl(this,_l).forEach(e=>{"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}),gv(this,_l,[]),gv(this,zy,!0)}push(e){Bi(this,Lp,ty).call(this),kl(this,_l).push(e)}handle(e,n){if(Bi(this,Lp,ty).call(this),n&&typeof n!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?n?Bi(this,ny,Y_).call(this,e,n):Bi(this,ny,Y_).call(this,e):n?Bi(this,ry,J_).call(this,e,n):this._promiseHandle(e)}asMiddleware(){return Bi(this,Lp,ty).call(this),async(e,n,r,i)=>{var o,s;try{const[a,c,l]=await Bi(o=oy,iy,Z_).call(o,e,n,kl(this,_l));return c?(await Bi(s=oy,Gp,qy).call(s,l),i(a)):r(async u=>{var f;try{await Bi(f=oy,Gp,qy).call(f,l)}catch(p){return u(p)}return u()})}catch(a){return i(a)}}}async _promiseHandle(e){return new Promise((n,r)=>{Bi(this,ry,J_).call(this,e,(i,o)=>{i&&o===void 0?r(i):n(o)}).catch(r)})}};zy=new WeakMap,_l=new WeakMap,Bf=new WeakMap,Lp=new WeakSet,ty=function(){if(kl(this,zy))throw new Error("This engine is destroyed and can no longer be used.")},ny=new WeakSet,Y_=async function(t,e){try{if(t.length===0){const r=[{id:null,jsonrpc:"2.0",error:new nc(xl.invalidRequest,"Request batch must contain plain objects. Received an empty array")}];return e?e(null,r):r}const n=(await Promise.all(t.map(this._promiseHandle.bind(this)))).filter(r=>r!==void 0);return e?e(null,n):n}catch(n){if(e)return e(n);throw n}},ry=new WeakSet,J_=async function(t,e){var n;if(!t||Array.isArray(t)||typeof t!="object"){const s=new nc(xl.invalidRequest,"Requests must be plain objects. Received: "+typeof t,{request:t});return e(s,{id:null,jsonrpc:"2.0",error:s})}if(typeof t.method!="string"){const s=new nc(xl.invalidRequest,"Must specify a string method. Received: "+typeof t.method,{request:t});return kl(this,Bf)&&!iR(t)?e(null):e(s,{id:t.id??null,jsonrpc:"2.0",error:s})}if(kl(this,Bf)&&Ch(t,_X)&&!iR(t)){try{await kl(this,Bf).call(this,t)}catch(s){return e(s)}return e(null)}let r=null;const i={...t},o={id:i.id,jsonrpc:i.jsonrpc};try{await Bi(n=Ms,GE,pR).call(n,i,o,kl(this,_l))}catch(s){r=s}return r&&(delete o.result,o.error||(o.error=aR(r))),e(r,o)},GE=new WeakSet,pR=async function(t,e,n){var r,i,o;const[s,a,c]=await Bi(r=Ms,iy,Z_).call(r,t,e,n);if(Bi(i=Ms,JE,mR).call(i,t,e,a),await Bi(o=Ms,Gp,qy).call(o,c),s)throw s},iy=new WeakSet,Z_=async function(t,e,n){var r;const i=[];let o=null,s=!1;for(const a of n)if([o,s]=await Bi(r=Ms,YE,gR).call(r,t,e,a,i),s)break;return[o,s,i.reverse()]},YE=new WeakSet,gR=async function(t,e,n,r){return new Promise(i=>{const o=a=>{const c=a||e.error;c&&(e.error=aR(c)),i([c,!0])},s=a=>{e.error?o(e.error):(a&&(typeof a!="function"&&o(new nc(xl.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof a}" for request:
${ZE(t)}`,{request:t})),r.push(a)),i([null,!1]))};try{n(t,e,s,o)}catch(a){o(a)}})},Gp=new WeakSet,qy=async function(t){for(const e of t)await new Promise((n,r)=>{e(i=>i?r(i):n())})},JE=new WeakSet,mR=function(t,e,n){if(!jy(e,"result")&&!jy(e,"error"))throw new nc(xl.internal,`JsonRpcEngine: Response has no error or result for request:
${ZE(t)}`,{request:t});if(!n)throw new nc(xl.internal,`JsonRpcEngine: Nothing ended request:
${ZE(t)}`,{request:t})},Ps(Ms,GE),Ps(Ms,iy),Ps(Ms,YE),Ps(Ms,Gp),Ps(Ms,JE);var NX=Ms;function ZE(t){return JSON.stringify(t,null,2)}var qB=Object.freeze(["eth_subscription"]),PX=(t=console)=>[sX(),LX(t),oX(t)];function LX(t){return(e,n,r)=>{typeof e.method=="string"&&e.method||(n.error=Vp({message:"The request 'method' must be a non-empty string.",data:e})),r(i=>{const{error:o}=n;return o&&t.error(`MetaMask - RPC Error: ${o.message}`,o),i()})}}var sy=(t,e,n=!0)=>(r,i)=>{r||i.error?e(r||i.error):!n||Array.isArray(i)?t(i):t(i.result)},HB=t=>!!t&&typeof t=="string"&&t.startsWith("0x"),KB=()=>{};async function vR(t,e){try{const n=await async function(){return{name:BX(window),icon:await DX(window)}}();t.handle({jsonrpc:"2.0",id:1,method:"metamask_sendDomainMetadata",params:n},KB)}catch(n){e.error({message:hr.errors.sendSiteMetadata(),originalError:n})}}function BX(t){const{document:e}=t,n=e.querySelector('head > meta[property="og:site_name"]');if(n)return n.content;const r=e.querySelector('head > meta[name="title"]');return r?r.content:e.title&&e.title.length>0?e.title:window.location.hostname}async function DX(t){const{document:e}=t,n=e.querySelectorAll('head > link[rel~="icon"]');for(const r of Array.from(n))if(r&&await jX(r.href))return r.href;return null}async function jX(t){return new Promise((e,n)=>{try{const r=document.createElement("img");r.onload=()=>e(!0),r.onerror=()=>e(!1),r.src=t}catch(r){n(r)}})}var WB=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},va=(t,e,n)=>(WB(t,e,"read from private field"),n?n.call(t):e.get(t)),X_=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},rc=(t,e,n,r)=>(WB(t,e,"write to private field"),e.set(t,n),n);function yR(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}class $X extends Rn{emit(e,...n){let r=e==="error";const i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let s;if(n.length>0&&([s]=n),s instanceof Error)throw s;const a=new Error("Unhandled error."+(s?` (${s.message})`:""));throw a.context=s,a}const o=i[e];if(o===void 0)return!1;if(typeof o=="function")yR(o,this,n);else{const s=o.length,a=function(c){const l=c.length,u=new Array(l);for(let f=0;f<l;f+=1)u[f]=c[f];return u}(o);for(let c=0;c<s;c+=1)yR(a[c],this,n)}return!0}}var yl,Du,FX=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;i--!=0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(o=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;i--!=0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!=0;){var s=o[i];if(!t(e[s],n[s]))return!1}return!0}return e!=e&&n!=n},UX=t1(FX),VB=class GB extends $X{constructor({logger:e=console,maxEventListeners:n=100,rpcMiddleware:r=[]}={}){super(),X_(this,yl,void 0),X_(this,Du,void 0),this._log=e,this.setMaxListeners(n),this._state={...GB._defaultState},rc(this,Du,null),rc(this,yl,null),this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this.request=this.request.bind(this);const i=new NX;r.forEach(o=>i.push(o)),this._rpcEngine=i}get chainId(){return va(this,yl)}get selectedAddress(){return va(this,Du)}isConnected(){return this._state.isConnected}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw Vp({message:hr.errors.invalidRequestArgs(),data:e});const{method:n,params:r}=e;if(typeof n!="string"||n.length===0)throw Vp({message:hr.errors.invalidRequestMethod(),data:e});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))throw Vp({message:hr.errors.invalidRequestParams(),data:e});const i=r==null?{method:n}:{method:n,params:r};return new Promise((o,s)=>{this._rpcRequest(i,sy(o,s))})}_initializeState(e){if(this._state.initialized)throw new Error("Provider already initialized.");if(e){const{accounts:n,chainId:r,isUnlocked:i,networkVersion:o}=e;this._handleConnect(r),this._handleChainChanged({chainId:r,networkVersion:o}),this._handleUnlockStateChanged({accounts:n,isUnlocked:i}),this._handleAccountsChanged(n)}this._state.initialized=!0,this.emit("_initialized")}_rpcRequest(e,n){let r=n;return Array.isArray(e)||(e.jsonrpc||(e.jsonrpc="2.0"),e.method!=="eth_accounts"&&e.method!=="eth_requestAccounts"||(r=(i,o)=>{this._handleAccountsChanged(o.result??[],e.method==="eth_accounts"),n(i,o)})),this._rpcEngine.handle(e,r)}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),this._log.debug(hr.info.connected(e)))}_handleDisconnect(e,n){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let r;this._state.isConnected=!1,e?(r=new nc(1013,n??hr.errors.disconnected()),this._log.debug(r)):(r=new nc(1011,n??hr.errors.permanentlyDisconnected()),this._log.error(r),rc(this,yl,null),this._state.accounts=null,rc(this,Du,null),this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleChainChanged({chainId:e}={}){HB(e)?(this._handleConnect(e),e!==va(this,yl)&&(rc(this,yl,e),this._state.initialized&&this.emit("chainChanged",va(this,yl)))):this._log.error(hr.errors.invalidNetworkParams(),{chainId:e})}_handleAccountsChanged(e,n=!1){let r=e;Array.isArray(e)||(this._log.error("MetaMask: Received invalid accounts parameter. Please report this bug.",e),r=[]);for(const i of e)if(typeof i!="string"){this._log.error("MetaMask: Received non-string account. Please report this bug.",e),r=[];break}if(!UX(this._state.accounts,r)&&(n&&this._state.accounts!==null&&this._log.error("MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.",r),this._state.accounts=r,va(this,Du)!==r[0]&&rc(this,Du,r[0]||null),this._state.initialized)){const i=[...r];this.emit("accountsChanged",i)}}_handleUnlockStateChanged({accounts:e,isUnlocked:n}={}){typeof n=="boolean"?n!==this._state.isUnlocked&&(this._state.isUnlocked=n,this._handleAccountsChanged(e??[])):this._log.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.")}};yl=new WeakMap,Du=new WeakMap,VB._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1};var wR,bR,zX=VB,Q_={exports:{}};function YB(){return bR?wR:(bR=1,wR=VC.EventEmitter)}var GC,YC=cg(rZ);GC=typeof Object.create=="function"?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t};var JB=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},qX=/%[sdj%]/g;function i1(t){if(!y0(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(_a(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(t).replace(qX,function(a){if(a==="%%")return"%";if(n>=i)return a;switch(a){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch{return"[Circular]"}default:return a}}),s=r[n];n<i;s=r[++n])dg(s)||!Cd(s)?o+=" "+s:o+=" "+_a(s);return o}function JC(t,e){if(wa(Ui.process))return function(){return JC(t,e).apply(this,arguments)};if(Sn.noDeprecation===!0)return t;var n=!1;return function(){if(!n){if(Sn.throwDeprecation)throw new Error(e);Sn.traceDeprecation?console.trace(e):console.error(e),n=!0}return t.apply(this,arguments)}}var XE,vv={};function ZB(t){return wa(XE)&&(XE=Sn.env.NODE_DEBUG||""),t=t.toUpperCase(),!vv[t]&&(new RegExp("\\b"+t+"\\b","i").test(XE)?vv[t]=function(){var e=i1.apply(null,arguments);console.error("%s %d: %s",t,0,e)}:vv[t]=function(){}),vv[t]}function _a(t,e){var n={seen:[],stylize:KX};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),o1(e)?n.showHidden=e:e&&e4(n,e),wa(n.showHidden)&&(n.showHidden=!1),wa(n.depth)&&(n.depth=2),wa(n.colors)&&(n.colors=!1),wa(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=HX),Hy(n,t,n.depth)}function HX(t,e){var n=_a.styles[e];return n?"\x1B["+_a.colors[n][0]+"m"+t+"\x1B["+_a.colors[n][1]+"m":t}function KX(t,e){return t}function Hy(t,e,n){if(t.customInspect&&e&&Zp(e.inspect)&&e.inspect!==_a&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return y0(r)||(r=Hy(t,r,n)),r}var i=function(p,m){if(wa(m))return p.stylize("undefined","undefined");if(y0(m)){var w="'"+JSON.stringify(m).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return p.stylize(w,"string")}if(XC(m))return p.stylize(""+m,"number");if(o1(m))return p.stylize(""+m,"boolean");if(dg(m))return p.stylize("null","null")}(t,e);if(i)return i;var o=Object.keys(e),s=function(p){var m={};return p.forEach(function(w,y){m[w]=!0}),m}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),Jp(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return QE(e);if(o.length===0){if(Zp(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(Yp(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Ky(e))return t.stylize(Date.prototype.toString.call(e),"date");if(Jp(e))return QE(e)}var c,l="",u=!1,f=["{","}"];return ZC(e)&&(u=!0,f=["[","]"]),Zp(e)&&(l=" [Function"+(e.name?": "+e.name:"")+"]"),Yp(e)&&(l=" "+RegExp.prototype.toString.call(e)),Ky(e)&&(l=" "+Date.prototype.toUTCString.call(e)),Jp(e)&&(l=" "+QE(e)),o.length!==0||u&&e.length!=0?n<0?Yp(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),c=u?function(p,m,w,y,I){for(var S=[],T=0,N=m.length;T<N;++T)rD(m,String(T))?S.push(ex(p,m,w,y,String(T),!0)):S.push("");return I.forEach(function(z){z.match(/^\d+$/)||S.push(ex(p,m,w,y,z,!0))}),S}(t,e,n,s,o):o.map(function(p){return ex(t,e,n,s,p,u)}),t.seen.pop(),function(p,m,w){var y=p.reduce(function(I,S){return S.indexOf(`
`),I+S.replace(/\u001b\[\d\d?m/g,"").length+1},0);return y>60?w[0]+(m===""?"":m+`
 `)+" "+p.join(`,
  `)+" "+w[1]:w[0]+m+" "+p.join(", ")+" "+w[1]}(c,l,f)):f[0]+l+f[1]}function QE(t){return"["+Error.prototype.toString.call(t)+"]"}function ex(t,e,n,r,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),rD(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=dg(n)?Hy(t,c.value,null):Hy(t,c.value,n-1)).indexOf(`
`)>-1&&(a=o?a.split(`
`).map(function(l){return"  "+l}).join(`
`).substr(2):`
`+a.split(`
`).map(function(l){return"   "+l}).join(`
`)):a=t.stylize("[Circular]","special")),wa(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function ZC(t){return Array.isArray(t)}function o1(t){return typeof t=="boolean"}function dg(t){return t===null}function XB(t){return t==null}function XC(t){return typeof t=="number"}function y0(t){return typeof t=="string"}function QB(t){return typeof t=="symbol"}function wa(t){return t===void 0}function Yp(t){return Cd(t)&&QC(t)==="[object RegExp]"}function Cd(t){return typeof t=="object"&&t!==null}function Ky(t){return Cd(t)&&QC(t)==="[object Date]"}function Jp(t){return Cd(t)&&(QC(t)==="[object Error]"||t instanceof Error)}function Zp(t){return typeof t=="function"}function eD(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||t===void 0}function tD(t){return Ke.isBuffer(t)}function QC(t){return Object.prototype.toString.call(t)}function tx(t){return t<10?"0"+t.toString(10):t.toString(10)}_a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},_a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var WX=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function nD(){var t,e;console.log("%s - %s",(t=new Date,e=[tx(t.getHours()),tx(t.getMinutes()),tx(t.getSeconds())].join(":"),[t.getDate(),WX[t.getMonth()],e].join(" ")),i1.apply(null,arguments))}function e4(t,e){if(!e||!Cd(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}function rD(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var ju=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function t4(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');if(ju&&t[ju]){var e;if(typeof(e=t[ju])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,ju,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var n,r,i=new Promise(function(a,c){n=a,r=c}),o=[],s=0;s<arguments.length;s++)o.push(arguments[s]);o.push(function(a,c){a?r(a):n(c)});try{t.apply(this,o)}catch(a){r(a)}return i}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),ju&&Object.defineProperty(e,ju,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,JB(t))}function VX(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}function iD(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};t.apply(this,n).then(function(a){Sn.nextTick(s.bind(null,null,a))},function(a){Sn.nextTick(VX.bind(null,a,s))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,JB(t)),e}t4.custom=ju;var nx,ER,rx,xR,GX={inherits:GC,_extend:e4,log:nD,isBuffer:tD,isPrimitive:eD,isFunction:Zp,isError:Jp,isDate:Ky,isObject:Cd,isRegExp:Yp,isUndefined:wa,isSymbol:QB,isString:y0,isNumber:XC,isNullOrUndefined:XB,isNull:dg,isBoolean:o1,isArray:ZC,inspect:_a,deprecate:JC,format:i1,debuglog:ZB,promisify:t4,callbackify:iD},oD=cg(Object.freeze({__proto__:null,_extend:e4,callbackify:iD,debuglog:ZB,default:GX,deprecate:JC,format:i1,inherits:GC,inspect:_a,isArray:ZC,isBoolean:o1,isBuffer:tD,isDate:Ky,isError:Jp,isFunction:Zp,isNull:dg,isNullOrUndefined:XB,isNumber:XC,isObject:Cd,isPrimitive:eD,isRegExp:Yp,isString:y0,isSymbol:QB,isUndefined:wa,log:nD,promisify:t4}));function YX(){if(ER)return nx;function t(c,l){var u=Object.keys(c);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(c);l&&(f=f.filter(function(p){return Object.getOwnPropertyDescriptor(c,p).enumerable})),u.push.apply(u,f)}return u}function e(c){for(var l=1;l<arguments.length;l++){var u=arguments[l]!=null?arguments[l]:{};l%2?t(Object(u),!0).forEach(function(f){n(c,f,u[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(u)):t(Object(u)).forEach(function(f){Object.defineProperty(c,f,Object.getOwnPropertyDescriptor(u,f))})}return c}function n(c,l,u){return(l=i(l))in c?Object.defineProperty(c,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[l]=u,c}function r(c,l,u){return l&&function(f,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,i(w.key),w)}}(c.prototype,l),Object.defineProperty(c,"prototype",{writable:!1}),c}function i(c){var l=function(u,f){if(typeof u!="object"||u===null)return u;var p=u[Symbol.toPrimitive];if(p!==void 0){var m=p.call(u,f);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(u)}(c,"string");return typeof l=="symbol"?l:String(l)}ER=1;var o=YC.Buffer,s=oD.inspect,a=s&&s.custom||"inspect";return nx=function(){function c(){(function(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}return r(c,[{key:"push",value:function(l){var u={data:l,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}},{key:"unshift",value:function(l){var u={data:l,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}},{key:"shift",value:function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(l){if(this.length===0)return"";for(var u=this.head,f=""+u.data;u=u.next;)f+=l+u.data;return f}},{key:"concat",value:function(l){if(this.length===0)return o.alloc(0);for(var u,f,p,m=o.allocUnsafe(l>>>0),w=this.head,y=0;w;)u=w.data,f=m,p=y,o.prototype.copy.call(u,f,p),y+=w.data.length,w=w.next;return m}},{key:"consume",value:function(l,u){var f;return l<this.head.data.length?(f=this.head.data.slice(0,l),this.head.data=this.head.data.slice(l)):f=l===this.head.data.length?this.shift():u?this._getString(l):this._getBuffer(l),f}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(l){var u=this.head,f=1,p=u.data;for(l-=p.length;u=u.next;){var m=u.data,w=l>m.length?m.length:l;if(w===m.length?p+=m:p+=m.slice(0,l),(l-=w)===0){w===m.length?(++f,u.next?this.head=u.next:this.head=this.tail=null):(this.head=u,u.data=m.slice(w));break}++f}return this.length-=f,p}},{key:"_getBuffer",value:function(l){var u=o.allocUnsafe(l),f=this.head,p=1;for(f.data.copy(u),l-=f.data.length;f=f.next;){var m=f.data,w=l>m.length?m.length:l;if(m.copy(u,u.length-l,0,w),(l-=w)===0){w===m.length?(++p,f.next?this.head=f.next:this.head=this.tail=null):(this.head=f,f.data=m.slice(w));break}++p}return this.length-=p,u}},{key:a,value:function(l,u){return s(this,e(e({},u),{},{depth:0,customInspect:!1}))}}]),c}(),nx}function sD(){if(xR)return rx;function t(r,i){n(r,i),e(r)}function e(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function n(r,i){r.emit("error",i)}return xR=1,rx={destroy:function(r,i){var o=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(i?i(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Sn.nextTick(n,this,r)):Sn.nextTick(n,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(c){!i&&c?o._writableState?o._writableState.errorEmitted?Sn.nextTick(e,o):(o._writableState.errorEmitted=!0,Sn.nextTick(t,o,c)):Sn.nextTick(t,o,c):i?(Sn.nextTick(e,o),i(c)):Sn.nextTick(e,o)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(r,i){var o=r._readableState,s=r._writableState;o&&o.autoDestroy||s&&s.autoDestroy?r.destroy(i):r.emit("error",i)}},rx}var Ad={},_R,SR,aD={};function Go(t,e,n){n||(n=Error);var r=function(i){var o,s;function a(c,l,u){return i.call(this,function(f,p,m){return typeof e=="string"?e:e(f,p,m)}(c,l,u))||this}return s=i,(o=a).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s,a}(n);r.prototype.name=n.name,r.prototype.code=t,aD[t]=r}function CR(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map(function(r){return String(r)}),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:n===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}function cD(){if(SR)return _R;SR=1;var t=Ad.codes.ERR_INVALID_OPT_VALUE;return _R={getHighWaterMark:function(e,n,r,i){var o=function(s,a,c){return s.highWaterMark!=null?s.highWaterMark:a?s[c]:null}(n,i,r);if(o!=null){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new t(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}}Go("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),Go("ERR_INVALID_ARG_TYPE",function(t,e,n){var r,i,o;if(typeof e=="string"&&(i="not ",e.substr(0,i.length)===i)?(r="must not be",e=e.replace(/^not /,"")):r="must be",function(a,c,l){return(l===void 0||l>a.length)&&(l=a.length),a.substring(l-c.length,l)===c}(t," argument"))o="The ".concat(t," ").concat(r," ").concat(CR(e,"type"));else{var s=function(a,c,l){return typeof l!="number"&&(l=0),!(l+c.length>a.length)&&a.indexOf(c,l)!==-1}(t,".")?"property":"argument";o='The "'.concat(t,'" ').concat(s," ").concat(r," ").concat(CR(e,"type"))}return o+=". Received type ".concat(typeof n)},TypeError),Go("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),Go("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),Go("ERR_STREAM_PREMATURE_CLOSE","Premature close"),Go("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),Go("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),Go("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),Go("ERR_STREAM_WRITE_AFTER_END","write after end"),Go("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),Go("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),Go("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Ad.codes=aD;var ix,AR,ox,IR,sx,kR,JX=typeof Object.create=="function"?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t},fg=cg(Object.freeze({__proto__:null,default:JX}));function ZX(){if(AR)return ix;function t(e){try{if(!us.localStorage)return!1}catch{return!1}var n=us.localStorage[e];return n!=null&&String(n).toLowerCase()==="true"}return AR=1,ix=function(e,n){if(t("noDeprecation"))return e;var r=!1;return function(){if(!r){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),r=!0}return e.apply(this,arguments)}},ix}function lD(){if(IR)return ox;function t(E){var b=this;this.next=null,this.entry=null,this.finish=function(){(function(g,v,A){var L=g.entry;for(g.entry=null;L;){var C=L.callback;v.pendingcb--,C(A),L=L.next}v.corkedRequestsFree.next=g})(b,E)}}var e;IR=1,ox=$,$.WritableState=z;var n={deprecate:ZX()},r=YB(),i=YC.Buffer,o=(us!==void 0?us:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},s,a=sD(),c=cD().getHighWaterMark,l=Ad.codes,u=l.ERR_INVALID_ARG_TYPE,f=l.ERR_METHOD_NOT_IMPLEMENTED,p=l.ERR_MULTIPLE_CALLBACK,m=l.ERR_STREAM_CANNOT_PIPE,w=l.ERR_STREAM_DESTROYED,y=l.ERR_STREAM_NULL_VALUES,I=l.ERR_STREAM_WRITE_AFTER_END,S=l.ERR_UNKNOWN_ENCODING,T=a.errorOrDestroy;function N(){}function z(E,b,g){e=e||hh(),E=E||{},typeof g!="boolean"&&(g=b instanceof e),this.objectMode=!!E.objectMode,g&&(this.objectMode=this.objectMode||!!E.writableObjectMode),this.highWaterMark=c(this,E,"writableHighWaterMark",g),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var v=E.decodeStrings===!1;this.decodeStrings=!v,this.defaultEncoding=E.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(A){(function(L,C){var O=L._writableState,x=O.sync,R=O.writecb;if(typeof R!="function")throw new p;if(function(k){k.writing=!1,k.writecb=null,k.length-=k.writelen,k.writelen=0}(O),C)(function(k,U,q,V,Q){--U.pendingcb,q?(Sn.nextTick(Q,V),Sn.nextTick(P,k,U),k._writableState.errorEmitted=!0,T(k,V)):(Q(V),k._writableState.errorEmitted=!0,T(k,V),P(k,U))})(L,O,x,C,R);else{var _=B(O)||L.destroyed;_||O.corked||O.bufferProcessing||!O.bufferedRequest||j(L,O),x?Sn.nextTick(K,L,O,_,R):K(L,O,_,R)}})(b,A)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=E.emitClose!==!1,this.autoDestroy=!!E.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}function $(E){var b=this instanceof(e=e||hh());if(!b&&!s.call($,this))return new $(E);this._writableState=new z(E,this,b),this.writable=!0,E&&(typeof E.write=="function"&&(this._write=E.write),typeof E.writev=="function"&&(this._writev=E.writev),typeof E.destroy=="function"&&(this._destroy=E.destroy),typeof E.final=="function"&&(this._final=E.final)),r.call(this)}function H(E,b,g,v,A,L,C){b.writelen=v,b.writecb=C,b.writing=!0,b.sync=!0,b.destroyed?b.onwrite(new w("write")):g?E._writev(A,b.onwrite):E._write(A,L,b.onwrite),b.sync=!1}function K(E,b,g,v){g||function(A,L){L.length===0&&L.needDrain&&(L.needDrain=!1,A.emit("drain"))}(E,b),b.pendingcb--,v(),P(E,b)}function j(E,b){b.bufferProcessing=!0;var g=b.bufferedRequest;if(E._writev&&g&&g.next){var v=b.bufferedRequestCount,A=new Array(v),L=b.corkedRequestsFree;L.entry=g;for(var C=0,O=!0;g;)A[C]=g,g.isBuf||(O=!1),g=g.next,C+=1;A.allBuffers=O,H(E,b,!0,b.length,A,"",L.finish),b.pendingcb++,b.lastBufferedRequest=null,L.next?(b.corkedRequestsFree=L.next,L.next=null):b.corkedRequestsFree=new t(b),b.bufferedRequestCount=0}else{for(;g;){var x=g.chunk,R=g.encoding,_=g.callback;if(H(E,b,!1,b.objectMode?1:x.length,x,R,_),g=g.next,b.bufferedRequestCount--,b.writing)break}g===null&&(b.lastBufferedRequest=null)}b.bufferedRequest=g,b.bufferProcessing=!1}function B(E){return E.ending&&E.length===0&&E.bufferedRequest===null&&!E.finished&&!E.writing}function D(E,b){E._final(function(g){b.pendingcb--,g&&T(E,g),b.prefinished=!0,E.emit("prefinish"),P(E,b)})}function P(E,b){var g=B(b);if(g&&(function(A,L){L.prefinished||L.finalCalled||(typeof A._final!="function"||L.destroyed?(L.prefinished=!0,A.emit("prefinish")):(L.pendingcb++,L.finalCalled=!0,Sn.nextTick(D,A,L)))}(E,b),b.pendingcb===0&&(b.finished=!0,E.emit("finish"),b.autoDestroy))){var v=E._readableState;(!v||v.autoDestroy&&v.endEmitted)&&E.destroy()}return g}return fg($,r),z.prototype.getBuffer=function(){for(var E=this.bufferedRequest,b=[];E;)b.push(E),E=E.next;return b},function(){try{Object.defineProperty(z.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty($,Symbol.hasInstance,{value:function(E){return!!s.call(this,E)||this===$&&E&&E._writableState instanceof z}})):s=function(E){return E instanceof this},$.prototype.pipe=function(){T(this,new m)},$.prototype.write=function(E,b,g){var v,A=this._writableState,L=!1,C=!A.objectMode&&(v=E,i.isBuffer(v)||v instanceof o);return C&&!i.isBuffer(E)&&(E=function(O){return i.from(O)}(E)),typeof b=="function"&&(g=b,b=null),C?b="buffer":b||(b=A.defaultEncoding),typeof g!="function"&&(g=N),A.ending?function(O,x){var R=new I;T(O,R),Sn.nextTick(x,R)}(this,g):(C||function(O,x,R,_){var k;return R===null?k=new y:typeof R=="string"||x.objectMode||(k=new u("chunk",["string","Buffer"],R)),!k||(T(O,k),Sn.nextTick(_,k),!1)}(this,A,E,g))&&(A.pendingcb++,L=function(O,x,R,_,k,U){if(!R){var q=function(X,ee,ie){return X.objectMode||X.decodeStrings===!1||typeof ee!="string"||(ee=i.from(ee,ie)),ee}(x,_,k);_!==q&&(R=!0,k="buffer",_=q)}var V=x.objectMode?1:_.length;x.length+=V;var Q=x.length<x.highWaterMark;if(Q||(x.needDrain=!0),x.writing||x.corked){var Y=x.lastBufferedRequest;x.lastBufferedRequest={chunk:_,encoding:k,isBuf:R,callback:U,next:null},Y?Y.next=x.lastBufferedRequest:x.bufferedRequest=x.lastBufferedRequest,x.bufferedRequestCount+=1}else H(O,x,!1,V,_,k,U);return Q}(this,A,C,E,b,g)),L},$.prototype.cork=function(){this._writableState.corked++},$.prototype.uncork=function(){var E=this._writableState;E.corked&&(E.corked--,E.writing||E.corked||E.bufferProcessing||!E.bufferedRequest||j(this,E))},$.prototype.setDefaultEncoding=function(E){if(typeof E=="string"&&(E=E.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((E+"").toLowerCase())>-1))throw new S(E);return this._writableState.defaultEncoding=E,this},Object.defineProperty($.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty($.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),$.prototype._write=function(E,b,g){g(new f("_write()"))},$.prototype._writev=null,$.prototype.end=function(E,b,g){var v=this._writableState;return typeof E=="function"?(g=E,E=null,b=null):typeof b=="function"&&(g=b,b=null),E!=null&&this.write(E,b),v.corked&&(v.corked=1,this.uncork()),v.ending||function(A,L,C){L.ending=!0,P(A,L),C&&(L.finished?Sn.nextTick(C):A.once("finish",C)),L.ended=!0,A.writable=!1}(this,v,g),this},Object.defineProperty($.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty($.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(E){this._writableState&&(this._writableState.destroyed=E)}}),$.prototype.destroy=a.destroy,$.prototype._undestroy=a.undestroy,$.prototype._destroy=function(E,b){b(E)},ox}function hh(){if(kR)return sx;kR=1;var t=Object.keys||function(l){var u=[];for(var f in l)u.push(f);return u};sx=s;var e=uD(),n=lD();fg(s,e);for(var r=t(n.prototype),i=0;i<r.length;i++){var o=r[i];s.prototype[o]||(s.prototype[o]=n.prototype[o])}function s(l){if(!(this instanceof s))return new s(l);e.call(this,l),n.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}function a(){this._writableState.ended||Sn.nextTick(c,this)}function c(l){l.end()}return Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),sx}var XX=Ke.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function ay(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!XX(e))throw new Error("Unknown encoding: "+e)}(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=eQ;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=tQ;break;default:return void(this.write=QX)}this.charBuffer=new Ke(6),this.charReceived=0,this.charLength=0}function QX(t){return t.toString(this.encoding)}function eQ(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function tQ(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}ay.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";if(t=t.slice(n,t.length),!((i=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,t.length===0)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var r=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,r),r-=this.charReceived);var i;if(r=(e+=t.toString(this.encoding,0,r)).length-1,(i=e.charCodeAt(r))>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,r)}return e},ay.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(e==1&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=e},ay.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;e+=r.slice(0,n).toString(i)}return e};var MR=cg(Object.freeze({__proto__:null,StringDecoder:ay})),RR=Ad.codes.ERR_STREAM_PREMATURE_CLOSE;function nQ(){}var ax,OR,TR,NR,cx,PR,n4=function t(e,n,r){if(typeof n=="function")return t(e,null,n);n||(n={}),r=function(w){var y=!1;return function(){if(!y){y=!0;for(var I=arguments.length,S=new Array(I),T=0;T<I;T++)S[T]=arguments[T];w.apply(this,S)}}}(r||nQ);var i=n.readable||n.readable!==!1&&e.readable,o=n.writable||n.writable!==!1&&e.writable,s=function(){e.writable||c()},a=e._writableState&&e._writableState.finished,c=function(){o=!1,a=!0,i||r.call(e)},l=e._readableState&&e._readableState.endEmitted,u=function(){i=!1,l=!0,o||r.call(e)},f=function(w){r.call(e,w)},p=function(){var w;return i&&!l?(e._readableState&&e._readableState.ended||(w=new RR),r.call(e,w)):o&&!a?(e._writableState&&e._writableState.ended||(w=new RR),r.call(e,w)):void 0},m=function(){e.req.on("finish",c)};return function(w){return w.setHeader&&typeof w.abort=="function"}(e)?(e.on("complete",c),e.on("abort",p),e.req?m():e.on("request",m)):o&&!e._writableState&&(e.on("end",s),e.on("close",s)),e.on("end",u),e.on("finish",c),n.error!==!1&&e.on("error",f),e.on("close",p),function(){e.removeListener("complete",c),e.removeListener("abort",p),e.removeListener("request",m),e.req&&e.req.removeListener("finish",c),e.removeListener("end",s),e.removeListener("close",s),e.removeListener("finish",c),e.removeListener("end",u),e.removeListener("error",f),e.removeListener("close",p)}};function rQ(){if(OR)return ax;var t;function e(y,I,S){return(I=function(T){var N=function(z,$){if(typeof z!="object"||z===null)return z;var H=z[Symbol.toPrimitive];if(H!==void 0){var K=H.call(z,$);if(typeof K!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(z)}(T,"string");return typeof N=="symbol"?N:String(N)}(I))in y?Object.defineProperty(y,I,{value:S,enumerable:!0,configurable:!0,writable:!0}):y[I]=S,y}OR=1;var n=n4,r=Symbol("lastResolve"),i=Symbol("lastReject"),o=Symbol("error"),s=Symbol("ended"),a=Symbol("lastPromise"),c=Symbol("handlePromise"),l=Symbol("stream");function u(y,I){return{value:y,done:I}}function f(y){var I=y[r];if(I!==null){var S=y[l].read();S!==null&&(y[a]=null,y[r]=null,y[i]=null,I(u(S,!1)))}}function p(y){Sn.nextTick(f,y)}var m=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((e(t={get stream(){return this[l]},next:function(){var y=this,I=this[o];if(I!==null)return Promise.reject(I);if(this[s])return Promise.resolve(u(void 0,!0));if(this[l].destroyed)return new Promise(function(z,$){Sn.nextTick(function(){y[o]?$(y[o]):z(u(void 0,!0))})});var S,T=this[a];if(T)S=new Promise(function(z,$){return function(H,K){z.then(function(){$[s]?H(u(void 0,!0)):$[c](H,K)},K)}}(T,this));else{var N=this[l].read();if(N!==null)return Promise.resolve(u(N,!1));S=new Promise(this[c])}return this[a]=S,S}},Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var y=this;return new Promise(function(I,S){y[l].destroy(null,function(T){T?S(T):I(u(void 0,!0))})})}),t),m);return ax=function(y){var I,S=Object.create(w,(e(I={},l,{value:y,writable:!0}),e(I,r,{value:null,writable:!0}),e(I,i,{value:null,writable:!0}),e(I,o,{value:null,writable:!0}),e(I,s,{value:y._readableState.endEmitted,writable:!0}),e(I,c,{value:function(T,N){var z=S[l].read();z?(S[a]=null,S[r]=null,S[i]=null,T(u(z,!1))):(S[r]=T,S[i]=N)},writable:!0}),I));return S[a]=null,n(y,function(T){if(T&&T.code!=="ERR_STREAM_PREMATURE_CLOSE"){var N=S[i];return N!==null&&(S[a]=null,S[r]=null,S[i]=null,N(T)),void(S[o]=T)}var z=S[r];z!==null&&(S[a]=null,S[r]=null,S[i]=null,z(u(void 0,!0))),S[s]=!0}),y.on("readable",p.bind(null,S)),S},ax}function uD(){if(PR)return cx;var t;PR=1,cx=$,$.ReadableState=z,VC.EventEmitter;var e=function(_,k){return _.listeners(k).length},n=YB(),r=YC.Buffer,i=(us!==void 0?us:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},o,s=oD;o=s&&s.debuglog?s.debuglog("stream"):function(){};var a,c,l,u=YX(),f=sD(),p=cD().getHighWaterMark,m=Ad.codes,w=m.ERR_INVALID_ARG_TYPE,y=m.ERR_STREAM_PUSH_AFTER_EOF,I=m.ERR_METHOD_NOT_IMPLEMENTED,S=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;fg($,n);var T=f.errorOrDestroy,N=["error","close","destroy","pause","resume"];function z(_,k,U){t=t||hh(),_=_||{},typeof U!="boolean"&&(U=k instanceof t),this.objectMode=!!_.objectMode,U&&(this.objectMode=this.objectMode||!!_.readableObjectMode),this.highWaterMark=p(this,_,"readableHighWaterMark",U),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=_.emitClose!==!1,this.autoDestroy=!!_.autoDestroy,this.destroyed=!1,this.defaultEncoding=_.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,_.encoding&&(a||(a=MR.StringDecoder),this.decoder=new a(_.encoding),this.encoding=_.encoding)}function $(_){if(t=t||hh(),!(this instanceof $))return new $(_);var k=this instanceof t;this._readableState=new z(_,this,k),this.readable=!0,_&&(typeof _.read=="function"&&(this._read=_.read),typeof _.destroy=="function"&&(this._destroy=_.destroy)),n.call(this)}function H(_,k,U,q,V){o("readableAddChunk",k);var Q,Y=_._readableState;if(k===null)Y.reading=!1,function(X,ee){if(o("onEofChunk"),!ee.ended){if(ee.decoder){var ie=ee.decoder.end();ie&&ie.length&&(ee.buffer.push(ie),ee.length+=ee.objectMode?1:ie.length)}ee.ended=!0,ee.sync?D(X):(ee.needReadable=!1,ee.emittedReadable||(ee.emittedReadable=!0,P(X)))}}(_,Y);else if(V||(Q=function(X,ee){var ie;oe=ee,r.isBuffer(oe)||oe instanceof i||typeof ee=="string"||ee===void 0||X.objectMode||(ie=new w("chunk",["string","Buffer","Uint8Array"],ee));var oe;return ie}(Y,k)),Q)T(_,Q);else if(Y.objectMode||k&&k.length>0)if(typeof k=="string"||Y.objectMode||Object.getPrototypeOf(k)===r.prototype||(k=function(X){return r.from(X)}(k)),q)Y.endEmitted?T(_,new S):K(_,Y,k,!0);else if(Y.ended)T(_,new y);else{if(Y.destroyed)return!1;Y.reading=!1,Y.decoder&&!U?(k=Y.decoder.write(k),Y.objectMode||k.length!==0?K(_,Y,k,!1):E(_,Y)):K(_,Y,k,!1)}else q||(Y.reading=!1,E(_,Y));return!Y.ended&&(Y.length<Y.highWaterMark||Y.length===0)}function K(_,k,U,q){k.flowing&&k.length===0&&!k.sync?(k.awaitDrain=0,_.emit("data",U)):(k.length+=k.objectMode?1:U.length,q?k.buffer.unshift(U):k.buffer.push(U),k.needReadable&&D(_)),E(_,k)}Object.defineProperty($.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(_){this._readableState&&(this._readableState.destroyed=_)}}),$.prototype.destroy=f.destroy,$.prototype._undestroy=f.undestroy,$.prototype._destroy=function(_,k){k(_)},$.prototype.push=function(_,k){var U,q=this._readableState;return q.objectMode?U=!0:typeof _=="string"&&((k=k||q.defaultEncoding)!==q.encoding&&(_=r.from(_,k),k=""),U=!0),H(this,_,k,!1,U)},$.prototype.unshift=function(_){return H(this,_,null,!0,!1)},$.prototype.isPaused=function(){return this._readableState.flowing===!1},$.prototype.setEncoding=function(_){a||(a=MR.StringDecoder);var k=new a(_);this._readableState.decoder=k,this._readableState.encoding=this._readableState.decoder.encoding;for(var U=this._readableState.buffer.head,q="";U!==null;)q+=k.write(U.data),U=U.next;return this._readableState.buffer.clear(),q!==""&&this._readableState.buffer.push(q),this._readableState.length=q.length,this};var j=1073741824;function B(_,k){return _<=0||k.length===0&&k.ended?0:k.objectMode?1:_!=_?k.flowing&&k.length?k.buffer.head.data.length:k.length:(_>k.highWaterMark&&(k.highWaterMark=function(U){return U>=j?U=j:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}(_)),_<=k.length?_:k.ended?k.length:(k.needReadable=!0,0))}function D(_){var k=_._readableState;o("emitReadable",k.needReadable,k.emittedReadable),k.needReadable=!1,k.emittedReadable||(o("emitReadable",k.flowing),k.emittedReadable=!0,Sn.nextTick(P,_))}function P(_){var k=_._readableState;o("emitReadable_",k.destroyed,k.length,k.ended),k.destroyed||!k.length&&!k.ended||(_.emit("readable"),k.emittedReadable=!1),k.needReadable=!k.flowing&&!k.ended&&k.length<=k.highWaterMark,L(_)}function E(_,k){k.readingMore||(k.readingMore=!0,Sn.nextTick(b,_,k))}function b(_,k){for(;!k.reading&&!k.ended&&(k.length<k.highWaterMark||k.flowing&&k.length===0);){var U=k.length;if(o("maybeReadMore read 0"),_.read(0),U===k.length)break}k.readingMore=!1}function g(_){var k=_._readableState;k.readableListening=_.listenerCount("readable")>0,k.resumeScheduled&&!k.paused?k.flowing=!0:_.listenerCount("data")>0&&_.resume()}function v(_){o("readable nexttick read 0"),_.read(0)}function A(_,k){o("resume",k.reading),k.reading||_.read(0),k.resumeScheduled=!1,_.emit("resume"),L(_),k.flowing&&!k.reading&&_.read(0)}function L(_){var k=_._readableState;for(o("flow",k.flowing);k.flowing&&_.read()!==null;);}function C(_,k){return k.length===0?null:(k.objectMode?U=k.buffer.shift():!_||_>=k.length?(U=k.decoder?k.buffer.join(""):k.buffer.length===1?k.buffer.first():k.buffer.concat(k.length),k.buffer.clear()):U=k.buffer.consume(_,k.decoder),U);var U}function O(_){var k=_._readableState;o("endReadable",k.endEmitted),k.endEmitted||(k.ended=!0,Sn.nextTick(x,k,_))}function x(_,k){if(o("endReadableNT",_.endEmitted,_.length),!_.endEmitted&&_.length===0&&(_.endEmitted=!0,k.readable=!1,k.emit("end"),_.autoDestroy)){var U=k._writableState;(!U||U.autoDestroy&&U.finished)&&k.destroy()}}function R(_,k){for(var U=0,q=_.length;U<q;U++)if(_[U]===k)return U;return-1}return $.prototype.read=function(_){o("read",_),_=parseInt(_,10);var k=this._readableState,U=_;if(_!==0&&(k.emittedReadable=!1),_===0&&k.needReadable&&((k.highWaterMark!==0?k.length>=k.highWaterMark:k.length>0)||k.ended))return o("read: emitReadable",k.length,k.ended),k.length===0&&k.ended?O(this):D(this),null;if((_=B(_,k))===0&&k.ended)return k.length===0&&O(this),null;var q,V=k.needReadable;return o("need readable",V),(k.length===0||k.length-_<k.highWaterMark)&&o("length less than watermark",V=!0),k.ended||k.reading?o("reading or ended",V=!1):V&&(o("do read"),k.reading=!0,k.sync=!0,k.length===0&&(k.needReadable=!0),this._read(k.highWaterMark),k.sync=!1,k.reading||(_=B(U,k))),(q=_>0?C(_,k):null)===null?(k.needReadable=k.length<=k.highWaterMark,_=0):(k.length-=_,k.awaitDrain=0),k.length===0&&(k.ended||(k.needReadable=!0),U!==_&&k.ended&&O(this)),q!==null&&this.emit("data",q),q},$.prototype._read=function(_){T(this,new I("_read()"))},$.prototype.pipe=function(_,k){var U=this,q=this._readableState;switch(q.pipesCount){case 0:q.pipes=_;break;case 1:q.pipes=[q.pipes,_];break;default:q.pipes.push(_)}q.pipesCount+=1,o("pipe count=%d opts=%j",q.pipesCount,k);var V=(!k||k.end!==!1)&&_!==Sn.stdout&&_!==Sn.stderr?Y:ue;function Q(me,ye){o("onunpipe"),me===U&&ye&&ye.hasUnpiped===!1&&(ye.hasUnpiped=!0,o("cleanup"),_.removeListener("close",te),_.removeListener("finish",se),_.removeListener("drain",X),_.removeListener("error",oe),_.removeListener("unpipe",Q),U.removeListener("end",Y),U.removeListener("end",ue),U.removeListener("data",ie),ee=!0,!q.awaitDrain||_._writableState&&!_._writableState.needDrain||X())}function Y(){o("onend"),_.end()}q.endEmitted?Sn.nextTick(V):U.once("end",V),_.on("unpipe",Q);var X=function(me){return function(){var ye=me._readableState;o("pipeOnDrain",ye.awaitDrain),ye.awaitDrain&&ye.awaitDrain--,ye.awaitDrain===0&&e(me,"data")&&(ye.flowing=!0,L(me))}}(U);_.on("drain",X);var ee=!1;function ie(me){o("ondata");var ye=_.write(me);o("dest.write",ye),ye===!1&&((q.pipesCount===1&&q.pipes===_||q.pipesCount>1&&R(q.pipes,_)!==-1)&&!ee&&(o("false write response, pause",q.awaitDrain),q.awaitDrain++),U.pause())}function oe(me){o("onerror",me),ue(),_.removeListener("error",oe),e(_,"error")===0&&T(_,me)}function te(){_.removeListener("finish",se),ue()}function se(){o("onfinish"),_.removeListener("close",te),ue()}function ue(){o("unpipe"),U.unpipe(_)}return U.on("data",ie),function(me,ye,pe){if(typeof me.prependListener=="function")return me.prependListener(ye,pe);me._events&&me._events[ye]?Array.isArray(me._events[ye])?me._events[ye].unshift(pe):me._events[ye]=[pe,me._events[ye]]:me.on(ye,pe)}(_,"error",oe),_.once("close",te),_.once("finish",se),_.emit("pipe",U),q.flowing||(o("pipe resume"),U.resume()),_},$.prototype.unpipe=function(_){var k=this._readableState,U={hasUnpiped:!1};if(k.pipesCount===0)return this;if(k.pipesCount===1)return _&&_!==k.pipes||(_||(_=k.pipes),k.pipes=null,k.pipesCount=0,k.flowing=!1,_&&_.emit("unpipe",this,U)),this;if(!_){var q=k.pipes,V=k.pipesCount;k.pipes=null,k.pipesCount=0,k.flowing=!1;for(var Q=0;Q<V;Q++)q[Q].emit("unpipe",this,{hasUnpiped:!1});return this}var Y=R(k.pipes,_);return Y===-1||(k.pipes.splice(Y,1),k.pipesCount-=1,k.pipesCount===1&&(k.pipes=k.pipes[0]),_.emit("unpipe",this,U)),this},$.prototype.on=function(_,k){var U=n.prototype.on.call(this,_,k),q=this._readableState;return _==="data"?(q.readableListening=this.listenerCount("readable")>0,q.flowing!==!1&&this.resume()):_==="readable"&&(q.endEmitted||q.readableListening||(q.readableListening=q.needReadable=!0,q.flowing=!1,q.emittedReadable=!1,o("on readable",q.length,q.reading),q.length?D(this):q.reading||Sn.nextTick(v,this))),U},$.prototype.addListener=$.prototype.on,$.prototype.removeListener=function(_,k){var U=n.prototype.removeListener.call(this,_,k);return _==="readable"&&Sn.nextTick(g,this),U},$.prototype.removeAllListeners=function(_){var k=n.prototype.removeAllListeners.apply(this,arguments);return _!=="readable"&&_!==void 0||Sn.nextTick(g,this),k},$.prototype.resume=function(){var _=this._readableState;return _.flowing||(o("resume"),_.flowing=!_.readableListening,function(k,U){U.resumeScheduled||(U.resumeScheduled=!0,Sn.nextTick(A,k,U))}(this,_)),_.paused=!1,this},$.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},$.prototype.wrap=function(_){var k=this,U=this._readableState,q=!1;for(var V in _.on("end",function(){if(o("wrapped end"),U.decoder&&!U.ended){var Y=U.decoder.end();Y&&Y.length&&k.push(Y)}k.push(null)}),_.on("data",function(Y){o("wrapped data"),U.decoder&&(Y=U.decoder.write(Y)),U.objectMode&&Y==null||(U.objectMode||Y&&Y.length)&&(k.push(Y)||(q=!0,_.pause()))}),_)this[V]===void 0&&typeof _[V]=="function"&&(this[V]=function(Y){return function(){return _[Y].apply(_,arguments)}}(V));for(var Q=0;Q<N.length;Q++)_.on(N[Q],this.emit.bind(this,N[Q]));return this._read=function(Y){o("wrapped _read",Y),q&&(q=!1,_.resume())},this},typeof Symbol=="function"&&($.prototype[Symbol.asyncIterator]=function(){return c===void 0&&(c=rQ()),c(this)}),Object.defineProperty($.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty($.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty($.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(_){this._readableState&&(this._readableState.flowing=_)}}),$._fromList=C,Object.defineProperty($.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&($.from=function(_,k){return l===void 0&&(l=NR?TR:(NR=1,TR=function(){throw new Error("Readable.from is not available in the browser")})),l($,_,k)}),cx}var dD=ic,s1=Ad.codes,iQ=s1.ERR_METHOD_NOT_IMPLEMENTED,oQ=s1.ERR_MULTIPLE_CALLBACK,sQ=s1.ERR_TRANSFORM_ALREADY_TRANSFORMING,aQ=s1.ERR_TRANSFORM_WITH_LENGTH_0,cy=hh();function cQ(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(r===null)return this.emit("error",new oQ);n.writechunk=null,n.writecb=null,e!=null&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function ic(t){if(!(this instanceof ic))return new ic(t);cy.call(this,t),this._transformState={afterTransform:cQ.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",lQ)}function lQ(){var t=this;typeof this._flush!="function"||this._readableState.destroyed?LR(this,null,null):this._flush(function(e,n){LR(t,e,n)})}function LR(t,e,n){if(e)return t.emit("error",e);if(n!=null&&t.push(n),t._writableState.length)throw new aQ;if(t._transformState.transforming)throw new sQ;return t.push(null)}fg(ic,cy),ic.prototype.push=function(t,e){return this._transformState.needTransform=!1,cy.prototype.push.call(this,t,e)},ic.prototype._transform=function(t,e,n){n(new iQ("_transform()"))},ic.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},ic.prototype._read=function(t){var e=this._transformState;e.writechunk===null||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},ic.prototype._destroy=function(t,e){cy.prototype._destroy.call(this,t,function(n){e(n)})};var lx,uQ=w0,fD=dD;function w0(t){if(!(this instanceof w0))return new w0(t);fD.call(this,t)}fg(w0,fD),w0.prototype._transform=function(t,e,n){n(null,t)};var hD=Ad.codes,dQ=hD.ERR_MISSING_ARGS,fQ=hD.ERR_STREAM_DESTROYED;function BR(t){if(t)throw t}function DR(t){t()}function hQ(t,e){return t.pipe(e)}var pQ=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=function(s){return s.length?typeof s[s.length-1]!="function"?BR:s.pop():BR}(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new dQ("streams");var o=e.map(function(s,a){var c=a<e.length-1;return function(l,u,f,p){p=function(y){var I=!1;return function(){I||(I=!0,y.apply(void 0,arguments))}}(p);var m=!1;l.on("close",function(){m=!0}),lx===void 0&&(lx=n4),lx(l,{readable:u,writable:f},function(y){if(y)return p(y);m=!0,p()});var w=!1;return function(y){if(!m&&!w)return w=!0,function(I){return I.setHeader&&typeof I.abort=="function"}(l)?l.abort():typeof l.destroy=="function"?l.destroy():void p(y||new fQ("pipe"))}}(s,c,a>0,function(l){r||(r=l),l&&o.forEach(DR),c||(o.forEach(DR),i(r))})});return e.reduce(hQ)};(function(t,e){(e=Q_.exports=uD()).Stream=e,e.Readable=e,e.Writable=lD(),e.Duplex=hh(),e.Transform=dD,e.PassThrough=uQ,e.finished=n4,e.pipeline=pQ})(0,Q_.exports);var ph=Q_.exports;function gQ(t={}){const e={},n=new ph.Duplex({objectMode:!0,read:()=>{},write:function(o,s,a){let c=null;try{o.id?function(l){const{id:u}=l;if(u===null)return;const f=e[u];if(!f)return void console.warn(`StreamMiddleware - Unknown response id "${u}"`);delete e[u],Object.assign(f.res,l),setTimeout(f.end)}(o):function(l){t!=null&&t.retryOnMessage&&l.method===t.retryOnMessage&&Object.values(e).forEach(({req:u,retryCount:f=0})=>{if(!u.id)return;if(f>=3)throw new Error(`StreamMiddleware - Retry limit exceeded for request id "${u.id}"`);const p=e[u.id];p&&(p.retryCount=f+1),i(u)}),r.emit("notification",l)}(o)}catch(l){c=l}a(c)}}),r=new zB;return{events:r,middleware:(o,s,a,c)=>{e[o.id]={req:o,res:s,next:a,end:c},i(o)},stream:n};function i(o){n.push(o)}}var Wy={},eS={exports:{}},mQ=function t(e,n){if(e&&n)return t(e)(n);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(i){r[i]=e[i]}),r;function r(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];var s=e.apply(this,i),a=i[i.length-1];return typeof s=="function"&&s!==a&&Object.keys(a).forEach(function(c){s[c]=a[c]}),s}},jR=mQ;function yv(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function $R(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},n=t.name||"Function wrapped with `once`";return e.onceError=n+" shouldn't be called more than once",e.called=!1,e}eS.exports=jR(yv),eS.exports.strict=jR($R),yv.proto=yv(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return yv(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return $R(this)},configurable:!0})});var vQ=eS.exports,Vy={};Object.defineProperty(Vy,"__esModule",{value:!0}),Vy.Substream=void 0;const yQ=ph;class wQ extends yQ.Duplex{constructor({parent:e,name:n}){super({objectMode:!0}),this._parent=e,this._name=n}_read(){}_write(e,n,r){this._parent.push({name:this._name,data:e}),r()}}Vy.Substream=wQ;var bQ=us&&us.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wy,"__esModule",{value:!0}),Wy.ObjectMultiplex=void 0;const ux=ph,EQ=bQ(vQ),xQ=Vy,FR=Symbol("IGNORE_SUBSTREAM");let _Q=class extends ux.Duplex{constructor(t={}){super(Object.assign(Object.assign({},t),{objectMode:!0})),this._substreams={}}createStream(t){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name "${t}" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name "${t}" already ended`);if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error(`ObjectMultiplex - Substream for name "${t}" already exists`);const e=new xQ.Substream({parent:this,name:t});return this._substreams[t]=e,function(n,r){const i=(0,EQ.default)(r);(0,ux.finished)(n,{readable:!1},i),(0,ux.finished)(n,{writable:!1},i)}(this,n=>e.destroy(n||void 0)),e}ignoreStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error(`ObjectMultiplex - Substream for name "${t}" already exists`);this._substreams[t]=FR}_read(){}_write(t,e,n){const{name:r,data:i}=t;if(!r)return console.warn(`ObjectMultiplex - malformed chunk without name "${t}"`),n();const o=this._substreams[r];return o?(o!==FR&&o.push(i),n()):(console.warn(`ObjectMultiplex - orphaned data for stream "${r}"`),n())}};Wy.ObjectMultiplex=_Q;var SQ=t1(Wy.ObjectMultiplex);const sa=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";sa.writable=t=>sa(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object",sa.readable=t=>sa(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object",sa.duplex=t=>sa.writable(t)&&sa.readable(t),sa.transform=t=>sa.duplex(t)&&typeof t._transform=="function";var aa,CQ=sa,AQ=class extends zX{constructor(t,{jsonRpcStreamName:e,logger:n=console,maxEventListeners:r=100,rpcMiddleware:i=[]}){if(super({logger:n,maxEventListeners:r,rpcMiddleware:i}),!CQ.duplex(t))throw new Error(hr.errors.invalidDuplexStream());this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this);const o=new SQ;ph.pipeline(t,o,t,this._handleStreamDisconnect.bind(this,"MetaMask")),this._jsonRpcConnection=gQ({retryOnMessage:"METAMASK_EXTENSION_CONNECT_CAN_RETRY"}),ph.pipeline(this._jsonRpcConnection.stream,o.createStream(e),this._jsonRpcConnection.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider")),this._rpcEngine.push(this._jsonRpcConnection.middleware),this._jsonRpcConnection.events.on("notification",s=>{const{method:a,params:c}=s;a==="metamask_accountsChanged"?this._handleAccountsChanged(c):a==="metamask_unlockStateChanged"?this._handleUnlockStateChanged(c):a==="metamask_chainChanged"?this._handleChainChanged(c):qB.includes(a)?this.emit("message",{type:a,data:c}):a==="METAMASK_STREAM_FAILURE"&&t.destroy(new Error(hr.errors.permanentlyDisconnected()))})}async _initializeStateAsync(){let t;try{t=await this.request({method:"metamask_getProviderState"})}catch(e){this._log.error("MetaMask: Failed to get initial state. Please report this bug.",e)}this._initializeState(t)}_handleStreamDisconnect(t,e){let n=`MetaMask: Lost connection to "${t}".`;e!=null&&e.stack&&(n+=`
${e.stack}`),this._log.warn(n),this.listenerCount("error")>0&&this.emit("error",n),this._handleDisconnect(!1,e?e.message:void 0)}_handleChainChanged({chainId:t,networkVersion:e}={}){HB(t)&&(n=>!!n&&typeof n=="string")(e)?e==="loading"?this._handleDisconnect(!0):super._handleChainChanged({chainId:t}):this._log.error(hr.errors.invalidNetworkParams(),{chainId:t,networkVersion:e})}},IQ=class extends AQ{constructor(t,{jsonRpcStreamName:e="metamask-provider",logger:n=console,maxEventListeners:r=100,shouldSendMetadata:i}={}){if(super(t,{jsonRpcStreamName:e,logger:n,maxEventListeners:r,rpcMiddleware:PX(n)}),this._sentWarnings={chainId:!1,networkVersion:!1,selectedAddress:!1,enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}},X_(this,aa,void 0),this._initializeStateAsync(),rc(this,aa,null),this.isMetaMask=!0,this._sendSync=this._sendSync.bind(this),this.enable=this.enable.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._metamask=this._getExperimentalApi(),this._jsonRpcConnection.events.on("notification",o=>{const{method:s}=o;qB.includes(s)&&(this.emit("data",o),this.emit("notification",o.params.result))}),i)if(document.readyState==="complete")vR(this._rpcEngine,this._log);else{const o=()=>{vR(this._rpcEngine,this._log),window.removeEventListener("DOMContentLoaded",o)};window.addEventListener("DOMContentLoaded",o)}}get chainId(){return this._sentWarnings.chainId||(this._log.warn(hr.warnings.chainIdDeprecation),this._sentWarnings.chainId=!0),super.chainId}get networkVersion(){return this._sentWarnings.networkVersion||(this._log.warn(hr.warnings.networkVersionDeprecation),this._sentWarnings.networkVersion=!0),va(this,aa)}get selectedAddress(){return this._sentWarnings.selectedAddress||(this._log.warn(hr.warnings.selectedAddressDeprecation),this._sentWarnings.selectedAddress=!0),super.selectedAddress}sendAsync(t,e){this._rpcRequest(t,e)}addListener(t,e){return this._warnOfDeprecation(t),super.addListener(t,e)}on(t,e){return this._warnOfDeprecation(t),super.on(t,e)}once(t,e){return this._warnOfDeprecation(t),super.once(t,e)}prependListener(t,e){return this._warnOfDeprecation(t),super.prependListener(t,e)}prependOnceListener(t,e){return this._warnOfDeprecation(t),super.prependOnceListener(t,e)}_handleDisconnect(t,e){super._handleDisconnect(t,e),va(this,aa)&&!t&&rc(this,aa,null)}_warnOfDeprecation(t){var e;((e=this._sentWarnings)==null?void 0:e.events[t])===!1&&(this._log.warn(hr.warnings.events[t]),this._sentWarnings.events[t]=!0)}async enable(){return this._sentWarnings.enable||(this._log.warn(hr.warnings.enableDeprecation),this._sentWarnings.enable=!0),new Promise((t,e)=>{try{this._rpcRequest({method:"eth_requestAccounts",params:[]},sy(t,e))}catch(n){e(n)}})}send(t,e){return this._sentWarnings.send||(this._log.warn(hr.warnings.sendDeprecation),this._sentWarnings.send=!0),typeof t!="string"||e&&!Array.isArray(e)?t&&typeof t=="object"&&typeof e=="function"?this._rpcRequest(t,e):this._sendSync(t):new Promise((n,r)=>{try{this._rpcRequest({method:t,params:e},sy(n,r,!1))}catch(i){r(i)}})}_sendSync(t){let e;switch(t.method){case"eth_accounts":e=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":e=this.selectedAddress??null;break;case"eth_uninstallFilter":this._rpcRequest(t,KB),e=!0;break;case"net_version":e=va(this,aa)??null;break;default:throw new Error(hr.errors.unsupportedSync(t.method))}return{id:t.id,jsonrpc:t.jsonrpc,result:e}}_getExperimentalApi(){return new Proxy({isUnlocked:async()=>(this._state.initialized||await new Promise(t=>{this.on("_initialized",()=>t())}),this._state.isUnlocked),requestBatch:async t=>{if(!Array.isArray(t))throw Vp({message:"Batch requests must be made with an array of request objects.",data:t});return new Promise((e,n)=>{this._rpcRequest(t,sy(e,n))})}},{get:(t,e,...n)=>(this._sentWarnings.experimentalMethods||(this._log.warn(hr.warnings.experimentalMethods),this._sentWarnings.experimentalMethods=!0),Reflect.get(t,e,...n))})}_handleChainChanged({chainId:t,networkVersion:e}={}){super._handleChainChanged({chainId:t,networkVersion:e}),this._state.isConnected&&e!==va(this,aa)&&(rc(this,aa,e),this._state.initialized&&this.emit("networkChanged",va(this,aa)))}};aa=new WeakMap;const De=Fi("MM_SDK");let UR;De.color="#FFAC1C";var pD={},Hl={};Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.EthereumProviderError=Hl.EthereumRpcError=void 0;const kQ=BB;class gD extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return kQ.default(this.serialize(),MQ,2)}}Hl.EthereumRpcError=gD;function MQ(t,e){if(e!=="[Circular]")return e}Hl.EthereumProviderError=class extends gD{constructor(t,e,n){if(!function(r){return Number.isInteger(r)&&r>=1e3&&r<=4999}(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,e,n)}};var r4={},Sl={};Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.errorValues=Sl.errorCodes=void 0,Sl.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},Sl.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Sl,n=Hl,r=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",o={code:r,message:s(r)};function s(f,p=i){if(Number.isInteger(f)){const m=f.toString();if(u(e.errorValues,m))return e.errorValues[m].message;if(c(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return p}function a(f){if(!Number.isInteger(f))return!1;const p=f.toString();return!!e.errorValues[p]||!!c(f)}function c(f){return f>=-32099&&f<=-32e3}function l(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function u(f,p){return Object.prototype.hasOwnProperty.call(f,p)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=s,t.isValidCode=a,t.serializeError=function(f,{fallbackError:p=o,shouldIncludeStack:m=!1}={}){var w,y;if(!p||!Number.isInteger(p.code)||typeof p.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof n.EthereumRpcError)return f.serialize();const I={};if(f&&typeof f=="object"&&!Array.isArray(f)&&u(f,"code")&&a(f.code)){const T=f;I.code=T.code,T.message&&typeof T.message=="string"?(I.message=T.message,u(T,"data")&&(I.data=T.data)):(I.message=s(I.code),I.data={originalError:l(f)})}else{I.code=p.code;const T=(w=f)===null||w===void 0?void 0:w.message;I.message=T&&typeof T=="string"?T:p.message,I.data={originalError:l(f)}}const S=(y=f)===null||y===void 0?void 0:y.stack;return m&&f&&S&&typeof S=="string"&&(I.stack=S),I}}(r4);var Gy={};Object.defineProperty(Gy,"__esModule",{value:!0}),Gy.ethErrors=void 0;const i4=Hl,mD=r4,wi=Sl;function Yo(t,e){const[n,r]=vD(e);return new i4.EthereumRpcError(t,n||mD.getMessageFromCode(t),r)}function _p(t,e){const[n,r]=vD(e);return new i4.EthereumProviderError(t,n||mD.getMessageFromCode(t),r)}function vD(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}Gy.ethErrors={rpc:{parse:t=>Yo(wi.errorCodes.rpc.parse,t),invalidRequest:t=>Yo(wi.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Yo(wi.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Yo(wi.errorCodes.rpc.methodNotFound,t),internal:t=>Yo(wi.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Yo(e,t)},invalidInput:t=>Yo(wi.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Yo(wi.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Yo(wi.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Yo(wi.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Yo(wi.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Yo(wi.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>_p(wi.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>_p(wi.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>_p(wi.errorCodes.provider.unsupportedMethod,t),disconnected:t=>_p(wi.errorCodes.provider.disconnected,t),chainDisconnected:t=>_p(wi.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new i4.EthereumProviderError(e,n,r)}}},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Hl;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const n=r4;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return n.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return n.getMessageFromCode}});const r=Gy;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return r.ethErrors}});const i=Sl;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})}(pD);var yD={exports:{}};yD.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(r,i,o){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:o})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var s in r)n.d(o,s,(function(a){return r[a]}).bind(null,s));return o},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=90)}({17:function(t,e,n){e.__esModule=!0,e.default=void 0;var r=n(18),i=function(){function o(){}return o.getFirstMatch=function(s,a){var c=a.match(s);return c&&c.length>0&&c[1]||""},o.getSecondMatch=function(s,a){var c=a.match(s);return c&&c.length>1&&c[2]||""},o.matchAndReturnConst=function(s,a,c){if(s.test(a))return c},o.getWindowsVersionName=function(s){switch(s){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},o.getMacOSVersionName=function(s){var a=s.split(".").splice(0,2).map(function(c){return parseInt(c,10)||0});if(a.push(0),a[0]===10)switch(a[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},o.getAndroidVersionName=function(s){var a=s.split(".").splice(0,2).map(function(c){return parseInt(c,10)||0});if(a.push(0),!(a[0]===1&&a[1]<5))return a[0]===1&&a[1]<6?"Cupcake":a[0]===1&&a[1]>=6?"Donut":a[0]===2&&a[1]<2?"Eclair":a[0]===2&&a[1]===2?"Froyo":a[0]===2&&a[1]>2?"Gingerbread":a[0]===3?"Honeycomb":a[0]===4&&a[1]<1?"Ice Cream Sandwich":a[0]===4&&a[1]<4?"Jelly Bean":a[0]===4&&a[1]>=4?"KitKat":a[0]===5?"Lollipop":a[0]===6?"Marshmallow":a[0]===7?"Nougat":a[0]===8?"Oreo":a[0]===9?"Pie":void 0},o.getVersionPrecision=function(s){return s.split(".").length},o.compareVersions=function(s,a,c){c===void 0&&(c=!1);var l=o.getVersionPrecision(s),u=o.getVersionPrecision(a),f=Math.max(l,u),p=0,m=o.map([s,a],function(w){var y=f-o.getVersionPrecision(w),I=w+new Array(y+1).join(".0");return o.map(I.split("."),function(S){return new Array(20-S.length).join("0")+S}).reverse()});for(c&&(p=f-Math.min(l,u)),f-=1;f>=p;){if(m[0][f]>m[1][f])return 1;if(m[0][f]===m[1][f]){if(f===p)return 0;f-=1}else if(m[0][f]<m[1][f])return-1}},o.map=function(s,a){var c,l=[];if(Array.prototype.map)return Array.prototype.map.call(s,a);for(c=0;c<s.length;c+=1)l.push(a(s[c]));return l},o.find=function(s,a){var c,l;if(Array.prototype.find)return Array.prototype.find.call(s,a);for(c=0,l=s.length;c<l;c+=1){var u=s[c];if(a(u,c))return u}},o.assign=function(s){for(var a,c,l=s,u=arguments.length,f=new Array(u>1?u-1:0),p=1;p<u;p++)f[p-1]=arguments[p];if(Object.assign)return Object.assign.apply(Object,[s].concat(f));var m=function(){var w=f[a];typeof w=="object"&&w!==null&&Object.keys(w).forEach(function(y){l[y]=w[y]})};for(a=0,c=f.length;a<c;a+=1)m();return s},o.getBrowserAlias=function(s){return r.BROWSER_ALIASES_MAP[s]},o.getBrowserTypeByAlias=function(s){return r.BROWSER_MAP[s]||""},o}();e.default=i,t.exports=e.default},18:function(t,e,n){e.__esModule=!0,e.ENGINE_MAP=e.OS_MAP=e.PLATFORMS_MAP=e.BROWSER_MAP=e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},e.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},e.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},e.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},e.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function s(c,l){for(var u=0;u<l.length;u++){var f=l[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}var a=function(){function c(){}var l,u,f;return c.getParser=function(p,m){if(m===void 0&&(m=!1),typeof p!="string")throw new Error("UserAgent should be a string");return new i.default(p,m)},c.parse=function(p){return new i.default(p).getResult()},l=c,f=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(u=null)&&s(l.prototype,u),f&&s(l,f),c}();e.default=a,t.exports=e.default},91:function(t,e,n){e.__esModule=!0,e.default=void 0;var r=c(n(92)),i=c(n(93)),o=c(n(94)),s=c(n(95)),a=c(n(17));function c(u){return u&&u.__esModule?u:{default:u}}var l=function(){function u(p,m){if(m===void 0&&(m=!1),p==null||p==="")throw new Error("UserAgent parameter can't be empty");this._ua=p,this.parsedResult={},m!==!0&&this.parse()}var f=u.prototype;return f.getUA=function(){return this._ua},f.test=function(p){return p.test(this._ua)},f.parseBrowser=function(){var p=this;this.parsedResult.browser={};var m=a.default.find(r.default,function(w){if(typeof w.test=="function")return w.test(p);if(w.test instanceof Array)return w.test.some(function(y){return p.test(y)});throw new Error("Browser's test function is not valid")});return m&&(this.parsedResult.browser=m.describe(this.getUA())),this.parsedResult.browser},f.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},f.getBrowserName=function(p){return p?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},f.getBrowserVersion=function(){return this.getBrowser().version},f.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},f.parseOS=function(){var p=this;this.parsedResult.os={};var m=a.default.find(i.default,function(w){if(typeof w.test=="function")return w.test(p);if(w.test instanceof Array)return w.test.some(function(y){return p.test(y)});throw new Error("Browser's test function is not valid")});return m&&(this.parsedResult.os=m.describe(this.getUA())),this.parsedResult.os},f.getOSName=function(p){var m=this.getOS().name;return p?String(m).toLowerCase()||"":m||""},f.getOSVersion=function(){return this.getOS().version},f.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},f.getPlatformType=function(p){p===void 0&&(p=!1);var m=this.getPlatform().type;return p?String(m).toLowerCase()||"":m||""},f.parsePlatform=function(){var p=this;this.parsedResult.platform={};var m=a.default.find(o.default,function(w){if(typeof w.test=="function")return w.test(p);if(w.test instanceof Array)return w.test.some(function(y){return p.test(y)});throw new Error("Browser's test function is not valid")});return m&&(this.parsedResult.platform=m.describe(this.getUA())),this.parsedResult.platform},f.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},f.getEngineName=function(p){return p?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},f.parseEngine=function(){var p=this;this.parsedResult.engine={};var m=a.default.find(s.default,function(w){if(typeof w.test=="function")return w.test(p);if(w.test instanceof Array)return w.test.some(function(y){return p.test(y)});throw new Error("Browser's test function is not valid")});return m&&(this.parsedResult.engine=m.describe(this.getUA())),this.parsedResult.engine},f.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},f.getResult=function(){return a.default.assign({},this.parsedResult)},f.satisfies=function(p){var m=this,w={},y=0,I={},S=0;if(Object.keys(p).forEach(function(B){var D=p[B];typeof D=="string"?(I[B]=D,S+=1):typeof D=="object"&&(w[B]=D,y+=1)}),y>0){var T=Object.keys(w),N=a.default.find(T,function(B){return m.isOS(B)});if(N){var z=this.satisfies(w[N]);if(z!==void 0)return z}var $=a.default.find(T,function(B){return m.isPlatform(B)});if($){var H=this.satisfies(w[$]);if(H!==void 0)return H}}if(S>0){var K=Object.keys(I),j=a.default.find(K,function(B){return m.isBrowser(B,!0)});if(j!==void 0)return this.compareVersion(I[j])}},f.isBrowser=function(p,m){m===void 0&&(m=!1);var w=this.getBrowserName().toLowerCase(),y=p.toLowerCase(),I=a.default.getBrowserTypeByAlias(y);return m&&I&&(y=I.toLowerCase()),y===w},f.compareVersion=function(p){var m=[0],w=p,y=!1,I=this.getBrowserVersion();if(typeof I=="string")return p[0]===">"||p[0]==="<"?(w=p.substr(1),p[1]==="="?(y=!0,w=p.substr(2)):m=[],p[0]===">"?m.push(1):m.push(-1)):p[0]==="="?w=p.substr(1):p[0]==="~"&&(y=!0,w=p.substr(1)),m.indexOf(a.default.compareVersions(I,w,y))>-1},f.isOS=function(p){return this.getOSName(!0)===String(p).toLowerCase()},f.isPlatform=function(p){return this.getPlatformType(!0)===String(p).toLowerCase()},f.isEngine=function(p){return this.getEngineName(!0)===String(p).toLowerCase()},f.is=function(p,m){return m===void 0&&(m=!1),this.isBrowser(p,m)||this.isOS(p)||this.isPlatform(p)},f.some=function(p){var m=this;return p===void 0&&(p=[]),p.some(function(w){return m.is(w)})},u}();e.default=l,t.exports=e.default},92:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(a){var c={name:"Googlebot"},l=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/opera/i],describe:function(a){var c={name:"Opera"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/opr\/|opios/i],describe:function(a){var c={name:"Opera"},l=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/SamsungBrowser/i],describe:function(a){var c={name:"Samsung Internet for Android"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/Whale/i],describe:function(a){var c={name:"NAVER Whale Browser"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/MZBrowser/i],describe:function(a){var c={name:"MZ Browser"},l=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/focus/i],describe:function(a){var c={name:"Focus"},l=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/swing/i],describe:function(a){var c={name:"Swing"},l=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/coast/i],describe:function(a){var c={name:"Opera Coast"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(a){var c={name:"Opera Touch"},l=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/yabrowser/i],describe:function(a){var c={name:"Yandex Browser"},l=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/ucbrowser/i],describe:function(a){var c={name:"UC Browser"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/Maxthon|mxios/i],describe:function(a){var c={name:"Maxthon"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/epiphany/i],describe:function(a){var c={name:"Epiphany"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/puffin/i],describe:function(a){var c={name:"Puffin"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/sleipnir/i],describe:function(a){var c={name:"Sleipnir"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/k-meleon/i],describe:function(a){var c={name:"K-Meleon"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/micromessenger/i],describe:function(a){var c={name:"WeChat"},l=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/qqbrowser/i],describe:function(a){var c={name:/qqbrowserlite/i.test(a)?"QQ Browser Lite":"QQ Browser"},l=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/msie|trident/i],describe:function(a){var c={name:"Internet Explorer"},l=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/\sedg\//i],describe:function(a){var c={name:"Microsoft Edge"},l=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/edg([ea]|ios)/i],describe:function(a){var c={name:"Microsoft Edge"},l=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/vivaldi/i],describe:function(a){var c={name:"Vivaldi"},l=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/seamonkey/i],describe:function(a){var c={name:"SeaMonkey"},l=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/sailfish/i],describe:function(a){var c={name:"Sailfish"},l=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,a);return l&&(c.version=l),c}},{test:[/silk/i],describe:function(a){var c={name:"Amazon Silk"},l=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/phantom/i],describe:function(a){var c={name:"PhantomJS"},l=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/slimerjs/i],describe:function(a){var c={name:"SlimerJS"},l=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var c={name:"BlackBerry"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var c={name:"WebOS Browser"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/bada/i],describe:function(a){var c={name:"Bada"},l=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/tizen/i],describe:function(a){var c={name:"Tizen"},l=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/qupzilla/i],describe:function(a){var c={name:"QupZilla"},l=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/firefox|iceweasel|fxios/i],describe:function(a){var c={name:"Firefox"},l=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/electron/i],describe:function(a){var c={name:"Electron"},l=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/MiuiBrowser/i],describe:function(a){var c={name:"Miui"},l=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/chromium/i],describe:function(a){var c={name:"Chromium"},l=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/chrome|crios|crmo/i],describe:function(a){var c={name:"Chrome"},l=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/GSA/i],describe:function(a){var c={name:"Google Search"},l=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:function(a){var c=!a.test(/like android/i),l=a.test(/android/i);return c&&l},describe:function(a){var c={name:"Android Browser"},l=i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/playstation 4/i],describe:function(a){var c={name:"PlayStation 4"},l=i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/safari|applewebkit/i],describe:function(a){var c={name:"Safari"},l=i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/.*/i],describe:function(a){var c=a.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(c,a),version:i.default.getSecondMatch(c,a)}}}];e.default=s,t.exports=e.default},93:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/Roku\/DVP/],describe:function(a){var c=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,a);return{name:o.OS_MAP.Roku,version:c}}},{test:[/windows phone/i],describe:function(a){var c=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.WindowsPhone,version:c}}},{test:[/windows /i],describe:function(a){var c=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,a),l=i.default.getWindowsVersionName(c);return{name:o.OS_MAP.Windows,version:c,versionName:l}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(a){var c={name:o.OS_MAP.iOS},l=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,a);return l&&(c.version=l),c}},{test:[/macintosh/i],describe:function(a){var c=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,a).replace(/[_\s]/g,"."),l=i.default.getMacOSVersionName(c),u={name:o.OS_MAP.MacOS,version:c};return l&&(u.versionName=l),u}},{test:[/(ipod|iphone|ipad)/i],describe:function(a){var c=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,a).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:c}}},{test:function(a){var c=!a.test(/like android/i),l=a.test(/android/i);return c&&l},describe:function(a){var c=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,a),l=i.default.getAndroidVersionName(c),u={name:o.OS_MAP.Android,version:c};return l&&(u.versionName=l),u}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var c=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,a),l={name:o.OS_MAP.WebOS};return c&&c.length&&(l.version=c),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var c=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,a)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,a)||i.default.getFirstMatch(/\bbb(\d+)/i,a);return{name:o.OS_MAP.BlackBerry,version:c}}},{test:[/bada/i],describe:function(a){var c=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.Bada,version:c}}},{test:[/tizen/i],describe:function(a){var c=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.Tizen,version:c}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(a){var c=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.PlayStation4,version:c}}}];e.default=s,t.exports=e.default},94:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(a){var c=i.default.getFirstMatch(/(can-l01)/i,a)&&"Nova",l={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return c&&(l.model=c),l}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(a){var c=a.test(/ipod|iphone/i),l=a.test(/like (ipod|iphone)/i);return c&&!l},describe:function(a){var c=i.default.getFirstMatch(/(ipod|iphone)/i,a);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:c}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName(!0)==="blackberry"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(a){return a.getBrowserName(!0)==="bada"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName()==="windows phone"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(a){var c=Number(String(a.getOSVersion()).split(".")[0]);return a.getOSName(!0)==="android"&&c>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(a){return a.getOSName(!0)==="android"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getOSName(!0)==="macos"},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(a){return a.getOSName(!0)==="windows"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)==="linux"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)==="playstation 4"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(a){return a.getOSName(!0)==="roku"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];e.default=s,t.exports=e.default},95:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:function(a){return a.getBrowserName(!0)==="microsoft edge"},describe:function(a){if(/\sedg\//i.test(a))return{name:o.ENGINE_MAP.Blink};var c=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,a);return{name:o.ENGINE_MAP.EdgeHTML,version:c}}},{test:[/trident/i],describe:function(a){var c={name:o.ENGINE_MAP.Trident},l=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:function(a){return a.test(/presto/i)},describe:function(a){var c={name:o.ENGINE_MAP.Presto},l=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:function(a){var c=a.test(/gecko/i),l=a.test(/like gecko/i);return c&&!l},describe:function(a){var c={name:o.ENGINE_MAP.Gecko},l=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(a){var c={name:o.ENGINE_MAP.WebKit},l=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}}];e.default=s,t.exports=e.default}});var wD=t1(yD.exports);const uo={Initialized:"initialized",DisplayURI:"display_uri",ProviderUpdate:"provider_update",ConnectWithResponse:"connectWithResponse",ConnectionStatus:"connection_status",ServiceStatus:"service_status"};class Us{constructor({shouldSetOnWindow:e,connectionStream:n,shouldSendMetadata:r=!1,shouldShimWeb3:i,sdkInstance:o}){const s=new RQ({connectionStream:n,shouldSendMetadata:r,shouldSetOnWindow:e,shouldShimWeb3:i,autoRequestAccounts:!1}),a=new Proxy(s,{deleteProperty:()=>!0});if(this.provider=a,this.sdkInstance=o,e&&typeof window<"u")try{c=s,window.ethereum=c,window.dispatchEvent(new Event("ethereum#initialized"))}catch(l){De("[Ethereum] Unable to set global provider - window.ethereum may be read-only",l)}var c;if(i&&typeof window<"u")try{(function(l,u=console){let f=!1,p=!1;if(!window.web3){const m="__isMetaMaskShim__";let w={currentProvider:l};Object.defineProperty(w,m,{value:!0,enumerable:!0,configurable:!1,writable:!1}),w=new Proxy(w,{get:(y,I,...S)=>(I!=="currentProvider"||f?I==="currentProvider"||I===m||p||(p=!0,u.error("MetaMask no longer injects web3. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),l.request({method:"metamask_logWeb3ShimUsage"}).catch(T=>{u.debug("MetaMask: Failed to log web3 shim usage.",T)})):(f=!0,u.warn("You are accessing the MetaMask window.web3.currentProvider shim. This property is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3")),Reflect.get(y,I,...S)),set:(...y)=>(u.warn("You are accessing the MetaMask window.web3 shim. This object is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),Reflect.set(...y))}),Object.defineProperty(window,"web3",{value:w,enumerable:!1,configurable:!0,writable:!0})}})(this.provider)}catch(l){De("[Ethereum] Unable to shim web3 - window.web3 may be read-only",l)}this.provider.on("display_uri",l=>{this.sdkInstance.emit(uo.DisplayURI,l)}),this.provider.on("_initialized",()=>{const l={chainId:this.provider.getChainId(),isConnected:this.provider.isConnected(),isMetaMask:this.provider.isMetaMask,selectedAddress:this.provider.getSelectedAddress(),networkVersion:this.provider.getNetworkVersion()};this.sdkInstance.emit(uo.Initialized,l),De("[Ethereum: constructor()] provider initialized",l)})}static init(e){var n;return De("[Ethereum: init()] Initializing Ethereum service"),this.instance=new Us(e),(n=this.instance)===null||n===void 0?void 0:n.provider}static destroy(){}static getInstance(){var e;if(!(!((e=this.instance)===null||e===void 0)&&e.provider))throw new Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance}static getProvider(){var e;if(!(!((e=this.instance)===null||e===void 0)&&e.provider))throw new Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance.provider}}class b0{constructor({useDeepLink:e,preferredOpenLink:n,debug:r=!1}){this.state={platformType:void 0,useDeeplink:!1,preferredOpenLink:void 0,debug:!1},this.state.platformType=this.getPlatformType(),this.state.useDeeplink=e,this.state.preferredOpenLink=n,this.state.debug=r}openDeeplink(e,n,r){return function(i,o,s,a){const{state:c}=i;De(`[PlatfformManager: openDeeplink()] universalLink --> ${o}`),De(`[PlatfformManager: openDeeplink()] deepLink --> ${s}`);try{if(c.preferredOpenLink)return void c.preferredOpenLink(c.useDeeplink?s:o,a);if(De(`[PlatfformManager: openDeeplink()] open link now useDeepLink=${c.useDeeplink} link=${c.useDeeplink?s:o}`),c.useDeeplink)typeof window<"u"&&(window.location.href=s);else if(typeof document<"u"){const l=document.createElement("a");l.href=o,l.target="_self",l.rel="noreferrer noopener",l.click()}}catch(l){console.log("[PlatfformManager: openDeeplink()] can't open link",l)}}(this,e,n,r)}isReactNative(){var e;return this.isNotBrowser()&&typeof window<"u"&&(window==null?void 0:window.navigator)&&((e=window.navigator)===null||e===void 0?void 0:e.product)==="ReactNative"}isMetaMaskInstalled(){return function(){const e=Us.getProvider()||(window==null?void 0:window.ethereum);return De(`[PlatfformManager: isMetaMaskInstalled()] isMetaMask=${e==null?void 0:e.isMetaMask} isConnected=${e==null?void 0:e.isConnected()}`),(e==null?void 0:e.isMetaMask)&&(e==null?void 0:e.isConnected())}()}isDesktopWeb(){return this.isBrowser()&&!this.isMobileWeb()}isMobile(){var e,n;const r=wD.parse(window.navigator.userAgent);return((e=r==null?void 0:r.platform)===null||e===void 0?void 0:e.type)==="mobile"||((n=r==null?void 0:r.platform)===null||n===void 0?void 0:n.type)==="tablet"}isSecure(){return this.isReactNative()||this.isMobileWeb()}isMetaMaskMobileWebView(){return typeof window<"u"&&!!window.ReactNativeWebView&&!!navigator.userAgent.endsWith("MetaMaskMobile")}isMobileWeb(){return this.state.platformType===Ii.MobileWeb}static isNotBrowser(){var e;return typeof window>"u"||!(window!=null&&window.navigator)||Ui!==void 0&&((e=Ui==null?void 0:Ui.navigator)===null||e===void 0?void 0:e.product)==="ReactNative"||(navigator==null?void 0:navigator.product)==="ReactNative"}isNotBrowser(){return b0.isNotBrowser()}static isBrowser(){return!this.isNotBrowser()}isBrowser(){return b0.isBrowser()}isNodeJS(){return this.isNotBrowser()&&!this.isReactNative()}isUseDeepLink(){return this.state.useDeeplink}getPlatformType(){return function(e){const{state:n}=e;return n.platformType?n.platformType:e.isReactNative()?Ii.ReactNative:e.isNotBrowser()?Ii.NonBrowser:e.isMetaMaskMobileWebView()?Ii.MetaMaskMobileWebview:e.isMobile()?Ii.MobileWeb:Ii.DesktopWeb}(this)}}const bD=t=>qe(void 0,void 0,void 0,function*(){if(b0.isBrowser()){const{StorageManagerWeb:n}=yield Promise.resolve().then(function(){return oee});return new n(t)}const e={persistChannelConfig:()=>qe(void 0,void 0,void 0,function*(){}),getPersistedChannelConfig:()=>qe(void 0,void 0,void 0,function*(){}),persistAccounts:()=>qe(void 0,void 0,void 0,function*(){}),getCachedAccounts:()=>qe(void 0,void 0,void 0,function*(){return[]}),persistChainId:()=>qe(void 0,void 0,void 0,function*(){}),getCachedChainId:()=>qe(void 0,void 0,void 0,function*(){}),terminate:()=>qe(void 0,void 0,void 0,function*(){})};return Promise.resolve(e)});class RQ extends IQ{constructor({connectionStream:e,shouldSendMetadata:n,autoRequestAccounts:r=!1}){super(e,{logger:console,maxEventListeners:100,shouldSendMetadata:n}),this.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:"",networkVersion:""},De(`[SDKProvider: constructor()] autoRequestAccounts=${r}`),this.state.autoRequestAccounts=r}forceInitializeState(){return qe(this,void 0,void 0,function*(){return De(`[SDKProvider: forceInitializeState()] autoRequestAccounts=${this.state.autoRequestAccounts}`),this._initializeStateAsync()})}_setConnected(){De("[SDKProvider: _setConnected()] Setting connected state"),this._state.isConnected=!0}getState(){return this._state}getSDKProviderState(){return this.state}getSelectedAddress(){var e;const{accounts:n}=this._state;return n&&n.length!==0?((e=n[0])===null||e===void 0?void 0:e.toLowerCase())||"":(De("[SDKProvider: getSelectedAddress] No accounts found"),null)}getChainId(){return this.state.chainId}getNetworkVersion(){return this.state.networkVersion}setSDKProviderState(e){this.state=Object.assign(Object.assign({},this.state),e)}handleAccountsChanged(e,n){return this._handleAccountsChanged(e,n)}handleDisconnect({terminate:e=!1}){(function({terminate:n=!1,instance:r}){const{state:i}=r;De(`[SDKProvider: handleDisconnect()] cleaning up provider state terminate=${n}`,r),n&&(r._state.accounts=null,r._state.isUnlocked=!1,r._state.isPermanentlyDisconnected=!0,r._state.initialized=!1),r._handleAccountsChanged([]),r._state.isConnected=!1,r.emit("disconnect",pD.ethErrors.provider.disconnected()),i.providerStateRequested=!1})({terminate:e,instance:this})}_initializeStateAsync(){return qe(this,void 0,void 0,function*(){return function(e){var n,r;return qe(this,void 0,void 0,function*(){e.state===void 0&&(e.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:""});const{state:i}=e;let o;if(i.providerStateRequested)De("[SDKProvider: initializeStateAsync()] initialization already in progress");else{let s;i.providerStateRequested=!0;let a=null,c=!1,l=!1;const u=yield bD({enabled:!0});if(u){const f=yield u.getPersistedChannelConfig({});c=(n=f==null?void 0:f.relayPersistence)!==null&&n!==void 0&&n,s=yield u.getCachedChainId();const p=yield u.getCachedAccounts();p.length>0&&(a=p[0])}if(De(`[SDKProvider: initializeStateAsync()] relayPersistence=${c}`,{relayPersistence:c,cachedChainId:s,cachedSelectedAddress:a}),c)if(s&&a)o={accounts:[a],chainId:s,isUnlocked:!1},l=!0;else try{o=yield e.request({method:"metamask_getProviderState"})}catch(f){return e._log.error("MetaMask: Failed to get initial state. Please report this bug.",f),void(i.providerStateRequested=!1)}if(((r=o==null?void 0:o.accounts)===null||r===void 0?void 0:r.length)===0)if(e.getSelectedAddress())o.accounts=[e.getSelectedAddress()];else{De("[SDKProvider: initializeStateAsync()] Fetch accounts remotely.");const f=yield e.request({method:"eth_requestAccounts",params:[]});o.accounts=f}e._initializeState(o),i.providerStateRequested=!1,l&&(e._state.isConnected=!0,e.emit("connect",{chainId:o==null?void 0:o.chainId}))}})}(this)})}_initializeState(e){return De("[SDKProvider: _initializeState()]",e),function(n,r,i){return De("[SDKProvider: initializeState()] set state._initialized to false"),n._state.initialized=!1,r(i)}(this,super._initializeState.bind(this),e)}_handleChainChanged({chainId:e,networkVersion:n}={}){this.state.chainId=e,this.state.networkVersion=n,function({instance:r,chainId:i,networkVersion:o,superHandleChainChanged:s}){De(`[SDKProvider: handleChainChanged()] chainId=${i} networkVersion=${o}`);let a=o;o||(De("[SDKProvider: handleChainChanged()] forced network version to prevent provider error"),a="1"),i!==UR&&(Er.analytics.track("sdk_used_chain",{caip_chain_id:`eip155:${parseInt(i??"0x1",16)}`}),UR=i),r._state.isConnected=!0,r.emit("connect",{chainId:i}),s({chainId:i,networkVersion:a})}({instance:this,chainId:e,networkVersion:n,superHandleChainChanged:super._handleChainChanged.bind(this)})}}var E0,Id={name:"@metamask/sdk",version:"0.33.0",description:"",homepage:"https://github.com/MetaMask/metamask-sdk#readme",bugs:{url:"https://github.com/MetaMask/metamask-sdk/issues"},repository:{type:"git",url:"https://github.com/MetaMask/metamask-sdk",directory:"packages/sdk"},main:"dist/node/cjs/metamask-sdk.js",module:"dist/browser/es/metamask-sdk.js",browser:"dist/browser/es/metamask-sdk.js",unpkg:"dist/browser/umd/metamask-sdk.js","react-native":"dist/react-native/es/metamask-sdk.js",types:"dist/types/src/index.d.ts",sideEffects:!1,files:["/dist"],scripts:{"build:types":"tsc --project tsconfig.build.json --emitDeclarationOnly --outDir dist/types",build:"yarn build:types && rollup -c --bundleConfigAsCjs","build:clean":"yarn clean && yarn build","build:post-tsc":"echo 'N/A'","build:pre-tsc":"echo 'N/A'",typecheck:"tsc --noEmit",clean:"rimraf ./dist",size:"node bundle-size && size-limit",lint:"yarn lint:eslint && yarn lint:misc --check","lint:changelog":"../../scripts/validate-changelog.sh @metamask/sdk","lint:eslint":"eslint . --cache --ext js,ts","lint:fix":"yarn lint:eslint --fix && yarn lint:misc --write","lint:misc":"prettier '**/*.json' '**/*.md' '!CHANGELOG.md' --ignore-path ../../.gitignore",prepack:"../../scripts/prepack.sh","publish:preview":"yarn npm publish --tag preview",reset:"yarn clean && rimraf ./node_modules/",test:'jest --testPathIgnorePatterns "/e2e/"',"test:coverage":'jest --coverage --testPathIgnorePatterns "/e2e/"',"test:e2e":'jest --testPathPattern "/e2e/"',"test:ci":'jest --coverage --passWithNoTests --setupFilesAfterEnv ./jest-preload.js --testPathIgnorePatterns "/e2e/"',"test:dev":'jest -c ./jest.config.ts --detectOpenHandles  --testPathIgnorePatterns "/e2e/"',watch:"rollup -c -w",dev:'concurrently "tsc --watch" "rollup -c -w --bundleConfigAsCjs"',"build:dev":"yarn build:types && NODE_ENV=dev rollup -c --bundleConfigAsCjs"},dependencies:{"@babel/runtime":"^7.26.0","@metamask/onboarding":"^1.0.1","@metamask/providers":"16.1.0","@metamask/sdk-analytics":"workspace:*","@metamask/sdk-communication-layer":"workspace:*","@metamask/sdk-install-modal-web":"workspace:*","@paulmillr/qr":"^0.2.1",bowser:"^2.9.0","cross-fetch":"^4.0.0",debug:"^4.3.4",eciesjs:"^0.4.11","eth-rpc-errors":"^4.0.3",eventemitter2:"^6.4.9","obj-multiplex":"^1.0.0",pump:"^3.0.0","readable-stream":"^3.6.2","socket.io-client":"^4.5.1",tslib:"^2.6.0",util:"^0.12.4",uuid:"^8.3.2"},devDependencies:{"@jest/globals":"^29.3.1","@lavamoat/allow-scripts":"^2.3.1","@metamask/auto-changelog":"3.1.0","@metamask/eslint-config":"^6.0.0","@metamask/eslint-config-nodejs":"^6.0.0","@metamask/eslint-config-typescript":"^6.0.0","@react-native-async-storage/async-storage":"^1.19.6","@rollup/plugin-alias":"^5.1.1","@rollup/plugin-commonjs":"^25.0.7","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.2","@rollup/plugin-replace":"^6.0.1","@rollup/plugin-terser":"^0.4.1","@size-limit/preset-big-lib":"^11.0.2","@types/dom-screen-wake-lock":"^1.0.2","@types/node":"^20.1.3","@types/pump":"^1.1.1","@types/qrcode-terminal":"^0.12.0","@types/uuid":"^10.0.0","@typescript-eslint/eslint-plugin":"^4.26.0","@typescript-eslint/parser":"^4.26.0","browserify-zlib":"^0.2.0",buffer:"^6.0.3",concurrently:"^9.1.2","crypto-browserify":"^3.12.0",eslint:"^7.30.0","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.23.4","eslint-plugin-jest":"^24.4.0","eslint-plugin-jsdoc":"^36.1.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^3.4.0","https-browserify":"^1.0.0",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1",prettier:"^2.3.0",process:"^0.11.10",rimraf:"^4.4.0",rollup:"^4.26.0","rollup-plugin-analyzer":"^4.0.0","rollup-plugin-jscc":"^2.0.0","rollup-plugin-natives":"^0.7.5","rollup-plugin-node-builtins":"^2.1.2","rollup-plugin-polyfill-node":"^0.13.0","rollup-plugin-sizes":"^1.0.6","rollup-plugin-typescript2":"^0.31.2","rollup-plugin-visualizer":"^5.12.0","size-limit":"^11.0.2","stream-browserify":"^3.0.0","stream-http":"^3.2.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.3.2",url:"^0.11.0",webpack:"^5.0.0"},publishConfig:{access:"public",registry:"https://registry.npmjs.org/"},lavamoat:{allowScripts:{"eciesjs>secp256k1":!1,"socket.io-client>engine.io-client>ws>bufferutil":!1,"socket.io-client>engine.io-client>ws>utf-8-validate":!1,"@metamask/sdk-communication-layer>bufferutil":!1,"@metamask/sdk-communication-layer>eciesjs>secp256k1":!1,"@metamask/sdk-communication-layer>utf-8-validate":!1}}};(function(t){t.INPAGE="metamask-inpage",t.CONTENT_SCRIPT="metamask-contentscript",t.PROVIDER="metamask-provider"})(E0||(E0={}));const zR="direct",x0="https://metamask.app.link/connect",_0="metamask://connect",qR={NAME:"MetaMask",RDNS:["io.metamask","io.metamask.flask"]},OQ=/(?:^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u,Ut={METAMASK_GETPROVIDERSTATE:"metamask_getProviderState",METAMASK_CONNECTSIGN:"metamask_connectSign",METAMASK_CONNECTWITH:"metamask_connectWith",METAMASK_OPEN:"metamask_open",METAMASK_BATCH:"metamask_batch",PERSONAL_SIGN:"personal_sign",WALLET_REQUESTPERMISSIONS:"wallet_requestPermissions",WALLET_REVOKEPERMISSIONS:"wallet_revokePermissions",WALLET_GETPERMISSIONS:"wallet_getPermissions",WALLET_WATCHASSET:"wallet_watchAsset",WALLET_ADDETHEREUMCHAIN:"wallet_addEthereumChain",WALLET_SWITCHETHETHEREUMCHAIN:"wallet_switchEthereumChain",ETH_REQUESTACCOUNTS:"eth_requestAccounts",ETH_ACCOUNTS:"eth_accounts",ETH_CHAINID:"eth_chainId",ETH_SENDTRANSACTION:"eth_sendTransaction",ETH_SIGNTYPEDDATA:"eth_signTypedData",ETH_SIGNTYPEDDATA_V3:"eth_signTypedData_v3",ETH_SIGNTYPEDDATA_V4:"eth_signTypedData_v4",ETH_SIGNTRANSACTION:"eth_signTransaction",ETH_SIGN:"eth_sign",PERSONAL_EC_RECOVER:"personal_ecRecover"},S0={[Ut.ETH_REQUESTACCOUNTS]:!0,[Ut.ETH_SENDTRANSACTION]:!0,[Ut.ETH_SIGNTRANSACTION]:!0,[Ut.ETH_SIGN]:!0,[Ut.PERSONAL_SIGN]:!0,[Ut.ETH_ACCOUNTS]:!1,[Ut.ETH_CHAINID]:!1,[Ut.PERSONAL_SIGN]:!0,[Ut.ETH_SIGNTYPEDDATA]:!0,[Ut.ETH_SIGNTYPEDDATA_V3]:!0,[Ut.ETH_SIGNTYPEDDATA_V4]:!0,[Ut.WALLET_REQUESTPERMISSIONS]:!0,[Ut.WALLET_GETPERMISSIONS]:!0,[Ut.WALLET_WATCHASSET]:!0,[Ut.WALLET_ADDETHEREUMCHAIN]:!0,[Ut.WALLET_SWITCHETHETHEREUMCHAIN]:!0,[Ut.METAMASK_CONNECTSIGN]:!0,[Ut.METAMASK_CONNECTWITH]:!0,[Ut.PERSONAL_EC_RECOVER]:!0,[Ut.METAMASK_BATCH]:!0,[Ut.METAMASK_OPEN]:!0},TQ=Object.keys(S0).filter(t=>S0[t]===!0).map(t=>t.toLowerCase()),ED=["eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sign"].map(t=>t.toLowerCase()),dx=".sdk-comm",Yy="providerType",tS=".MMSDK_cached_address",nS=".MMSDK_cached_chainId",ia={CHAIN_CHANGED:"chainChanged",ACCOUNTS_CHANGED:"accountsChanged",DISCONNECT:"disconnect",CONNECT:"connect",CONNECTED:"connected"},NQ=1e6;var Sa;(function(t){t.TERMINATE="terminate",t.EXTENSION="extension",t.INITIALIZED="initialized"})(Sa||(Sa={}));const PQ=typeof window<"u"&&window.localStorage;function LQ({instance:t,msg:e}){return qe(this,void 0,void 0,function*(){if(t._initialized||(De("[MetaMaskSDK: connectAndSign()] provider not ready -- wait for init()"),yield t.init()),De(`[MetaMaskSDK: connectAndSign()] activeProvider=${t.activeProvider}`),!t.activeProvider)throw new Error("SDK state invalid -- undefined provider");const n=/^0x([0-9A-Fa-f]{2})*$/u.test(e)?e:function(r){let i;if(Ke!==void 0)i=Ke.from(r,"utf8").toString("hex");else if(typeof TextEncoder<"u"){const o=new TextEncoder().encode(r);i=Array.from(o).map(s=>s.toString(16).padStart(2,"0")).join("")}else{if(typeof Ui!="object"||!("Buffer"in Ui))throw new Error("Unable to convert string to hex: No available method.");i=Ui.Buffer.from(r,"utf8").toString("hex")}return`0x${i}`}(e);return t.activeProvider.request({method:Ut.METAMASK_CONNECTWITH,params:[{method:Ut.PERSONAL_SIGN,params:[n]}]})})}function HR(t){var e,n;return qe(this,void 0,void 0,function*(){De("[MetaMaskSDK: connectWithExtensionProvider()] ",t),t.sdkProvider=t.activeProvider,t.activeProvider=window.extension,window.ethereum=window.extension;try{const r=yield(e=window.extension)===null||e===void 0?void 0:e.request({method:"eth_requestAccounts"});De(`[MetaMaskSDK: connectWithExtensionProvider()] accounts=${r}`)}catch(r){return void console.warn("[MetaMaskSDK: connectWithExtensionProvider()] can't request accounts error",r)}localStorage.setItem(Yy,"extension"),t.extensionActive=!0,t.emit(uo.ProviderUpdate,Sa.EXTENSION),t.options.enableAnalytics&&((n=t.analytics)===null||n===void 0||n.send({event:_r.SDK_USE_EXTENSION}))})}function Jy(t){let e;if(Ke!==void 0)e=Ke.from(t,"utf8").toString("base64");else if(typeof btoa=="function")e=btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/gu,(n,r)=>String.fromCharCode(parseInt(r,16))));else{if(typeof Ui!="object"||!("Buffer"in Ui))throw new Error("Unable to base64 encode: No available method.");e=Ui.Buffer.from(t,"utf8").toString("base64")}return e}function BQ(t,e,n,r){var i,o,s,a,c,l,u,f,p,m,w,y,I,S,T,N,z,$,H,K;return qe(this,void 0,void 0,function*(){const j=(i=t.state.remote)===null||i===void 0?void 0:i.isReady(),B=(o=t.state.remote)===null||o===void 0?void 0:o.isConnected(),D=(s=t.state.remote)===null||s===void 0?void 0:s.isPaused(),P=Us.getProvider(),E=(a=t.state.remote)===null||a===void 0?void 0:a.getChannelId(),b=(c=t.state.remote)===null||c===void 0?void 0:c.isAuthorized(),{deeplinkProtocol:g}=t.state,{method:v,data:A,triggeredInstaller:L}=(R=>{var _,k,U,q;let V;Ke.isBuffer(R)?(V=R.toJSON(),V._isBuffer=!0):V=R;const Q=(_=V==null?void 0:V.data)===null||_===void 0?void 0:_.method;let Y=!1;return typeof((k=V==null?void 0:V.data)===null||k===void 0?void 0:k.params)=="object"&&((q=(U=V==null?void 0:V.data)===null||U===void 0?void 0:U.params)===null||q===void 0?void 0:q.__triggeredInstaller)===!0&&(Y=!0,V.data.params=V.data.params.wrappedParams),{method:Q,data:V,triggeredInstaller:Y}})(e);if(De(`[RCPMS: write()] method='${v}' isRemoteReady=${j} channelId=${E} isSocketConnected=${B} isRemotePaused=${D} providerConnected=${P.isConnected()}`,e),!E)return v!==Ut.METAMASK_GETPROVIDERSTATE&&De(`[RCPMS: write()] ${v} --> channelId is undefined`),r(new Error("disconnected"));De(`[RCPMS: write()] remote.isPaused()=${(l=t.state.remote)===null||l===void 0?void 0:l.isPaused()} authorized=${b} ready=${j} socketConnected=${B}`,e);const C=(u=t.state.platformManager)===null||u===void 0?void 0:u.isSecure(),O=(p=(f=t.state.platformManager)===null||f===void 0?void 0:f.isMobileWeb())!==null&&p!==void 0&&p,x=(w=(m=t.state.remote)===null||m===void 0?void 0:m.hasDeeplinkProtocol())!==null&&w!==void 0&&w&&O&&b;try{if(!L){const k=JSON.stringify(A==null?void 0:A.data);if(k.length>NQ)return r(new Error(`Message size ${k.length} exceeds maximum allowed size of 1000000 bytes`));(y=t.state.remote)===null||y===void 0||y.sendMessage(A==null?void 0:A.data).then(()=>{De(`[RCPMS: _write()] ${v} sent successfully`)}).catch(U=>{De("[RCPMS: _write()] error sending message",U)})}if(!C)return De(`[RCPMS: _write()] unsecure platform for method ${v} -- return callback`),r();if(L)return De("[RCPMS: _write()] prevent deeplink -- installation completed separately."),r();const R=(T=(S=(I=t.state.remote)===null||I===void 0?void 0:I.getKeyInfo())===null||S===void 0?void 0:S.ecies.public)!==null&&T!==void 0?T:"";let _=encodeURI(`channelId=${E}&pubkey=${R}&comm=socket&t=d&v=2`);if(x){const k=JSON.stringify(A==null?void 0:A.data),U=(N=t.state.remote)===null||N===void 0?void 0:N.encrypt(k);if(!U)return De("[RCPMS: _write()] error encrypting message"),r(new Error("RemoteCommunicationPostMessageStream - disconnected"));_+=`&scheme=${g}&rpc=${Jy(U)}`}if(!(!((z=t.state.platformManager)===null||z===void 0)&&z.isMetaMaskInstalled()))return De("[RCPMS: _write()] prevent deeplink until installation is completed."),r();S0[v]?(De(`[RCPMS: _write()] redirect link for '${v}' socketConnected=${B} connect?${_}`),($=t.state.platformManager)===null||$===void 0||$.openDeeplink(`${x0}?${_}`,`${_0}?${_}`,"_self")):!((H=t.state.remote)===null||H===void 0)&&H.isPaused()?(De(`[RCPMS: _write()] MM is PAUSED! deeplink with connect! targetMethod=${v}`),(K=t.state.platformManager)===null||K===void 0||K.openDeeplink(`${x0}?redirect=true&${_}`,`${_0}?redirect=true&${_}`,"_self")):De(`[RCPMS: _write()] method ${v} doesn't need redirect.`)}catch(R){return De("[RCPMS: _write()] error sending message",R),r(new Error("RemoteCommunicationPostMessageStream - disconnected"))}return r()})}class DQ extends ph.Duplex{constructor({name:e,remote:n,deeplinkProtocol:r,platformManager:i}){super({objectMode:!0}),this.state={_name:null,remote:null,deeplinkProtocol:!1,platformManager:null},this.state._name=e,this.state.remote=n,this.state.deeplinkProtocol=r,this.state.platformManager=i,this._onMessage=this._onMessage.bind(this),this.state.remote.on(et.MESSAGE,this._onMessage)}_write(e,n,r){return qe(this,void 0,void 0,function*(){return BQ(this,e,0,r)})}_read(){}_onMessage(e){return function(n,r){try{if(De("[RCPMS: onMessage()] message",r),!r||typeof r!="object"||typeof(r==null?void 0:r.data)!="object")return;if(!(r!=null&&r.name))return void De("[RCPMS: onMessage()] ignore message without name",r);if((r==null?void 0:r.name)!==E0.PROVIDER)return void De(`[RCPMS: onMessage()] ignore message with wrong name message=${r}`);if(Ke.isBuffer(r)){const i=Ke.from(r);n.push(i)}else n.push(r)}catch(i){De(`[RCPMS: onMessage()] ignore message error err=${i}`)}}(this,e)}start(){}}let KR=1;const xD=t=>new Promise(e=>{setTimeout(()=>{e(!0)},t)}),jQ=({checkInstallationOnAllCalls:t=!1,communicationLayerPreference:e,injectProvider:n,shouldShimWeb3:r,platformManager:i,installer:o,sdk:s,remoteConnection:a,debug:c})=>qe(void 0,void 0,void 0,function*(){var l,u;const f=(({name:D,remoteConnection:P})=>{if(!P||!(P!=null&&P.getConnector()))throw new Error("Missing remote connection parameter");return new DQ({name:D,remote:P==null?void 0:P.getConnector(),deeplinkProtocol:P==null?void 0:P.state.deeplinkProtocol,platformManager:P==null?void 0:P.getPlatformManager()})})({name:E0.INPAGE,target:E0.CONTENT_SCRIPT,remoteConnection:a}),p=i.getPlatformType(),m=s.options.dappMetadata,w=`Sdk/Javascript SdkVersion/${Id.version} Platform/${p} dApp/${(l=m.url)!==null&&l!==void 0?l:m.name} dAppTitle/${m.name}`;let y=null,I=null;const S=(u=s.options.storage)===null||u===void 0?void 0:u.storageManager;if(S){try{const D=yield S.getCachedAccounts();D.length>0&&(y=D[0])}catch(D){console.error(`[initializeMobileProvider] failed to get cached addresses: ${D}`)}try{const D=yield S.getCachedChainId();D&&(I=D)}catch(D){console.error(`[initializeMobileProvider] failed to parse cached chainId: ${D}`)}}De(`[initializeMobileProvider] cachedAccountAddress: ${y}, cachedChainId: ${I}`);const T=!(!n||p===Ii.NonBrowser||p===Ii.ReactNative),N=Us.init({shouldSetOnWindow:T,connectionStream:f,shouldShimWeb3:r,sdkInstance:s});let z=!1;const $=D=>{z=D},H=()=>z,K=(D,P,E,b)=>qe(void 0,void 0,void 0,function*(){var g,v,A,L,C,O,x,R,_;const k=Us.getProvider();if(z){k.emit("display_uri",(a==null?void 0:a.state.qrcodeLink)||""),a==null||a.showActiveModal();let oe=H();for(;oe;){const te=H(),se=a==null?void 0:a.isAuthorized();oe=te&&!se,De(`[initializeMobileProvider: sendRequest()] waiting for initialization to complete - initializing: ${te} authorized: ${se}`),yield xD(1e3)}return De("[initializeMobileProvider: sendRequest()] initial method completed -- prevent installation and call provider"),E(...P)}const U=i.isMetaMaskInstalled(),q=a==null?void 0:a.isConnected();let V=null,Q=null,Y=null;if(V=(g=k.getSelectedAddress())!==null&&g!==void 0?g:y,Y=k.getChainId()||I,V&&S&&V!==y&&S.persistAccounts([V]).catch(oe=>{console.error(`[initializeMobileProvider] failed to persist account: ${oe}`)}),Y&&(I=Y,S&&S.persistChainId(Y).catch(oe=>{console.error(`[initializeMobileProvider] failed to persist chainId: ${oe}`)})),De("[initializeMobileProvider: sendRequest()]",{selectedAddress:V,chainId:Y}),b&&De(`[initializeMobileProvider: sendRequest()] method=${D} ongoing=${z} selectedAddress=${V} isInstalled=${U} checkInstallationOnAllCalls=${t} socketConnected=${q}`),V&&D.toLowerCase()===Ut.ETH_ACCOUNTS.toLowerCase())return[V];if(Y&&D.toLowerCase()===Ut.ETH_CHAINID.toLowerCase())return Y;const X=[Ut.ETH_REQUESTACCOUNTS,Ut.WALLET_REQUESTPERMISSIONS,Ut.METAMASK_CONNECTSIGN,Ut.METAMASK_CONNECTWITH],ee=!S0[D],ie=(v=s.options.readonlyRPCMap)===null||v===void 0?void 0:v[Y];if(ie&&ee)try{const oe=(A=P==null?void 0:P[0])===null||A===void 0?void 0:A.params,te=yield(({rpcEndpoint:se,method:ue,sdkInfo:me,params:ye})=>qe(void 0,void 0,void 0,function*(){const pe=JSON.stringify({jsonrpc:"2.0",method:ue,params:ye,id:(KR+=1,KR)}),de={Accept:"application/json","Content-Type":"application/json"};let Ee;se.includes("infura")&&(de["Metamask-Sdk-Info"]=me);try{Ee=yield WP(se,{method:"POST",headers:de,body:pe})}catch(Ce){throw Ce instanceof Error?new Error(`Failed to fetch from RPC: ${Ce.message}`):new Error(`Failed to fetch from RPC: ${Ce}`)}if(!Ee.ok)throw new Error(`Server responded with a status of ${Ee.status}`);return(yield Ee.json()).result}))({rpcEndpoint:ie,sdkInfo:w,method:D,params:oe||[]});return b&&De(`initializeProvider::ReadOnlyRPCResponse ${te}`),te}catch(oe){console.warn(`[initializeMobileProvider: sendRequest()] method=${D} readOnlyRPCRequest failed:`,oe)}if((!U||U&&!q)&&D!==Ut.METAMASK_GETPROVIDERSTATE){const oe=((L=P==null?void 0:P[0])===null||L===void 0?void 0:L.params)||[];if(X.indexOf(D)!==-1||t){$(!0);const te=D===Ut.METAMASK_CONNECTWITH,se=`${Date.now()}`;try{yield o.start({wait:!1,connectWith:te?{method:D,id:se,params:oe}:void 0}),yield new Promise((ue,me)=>{a!=null&&a.isAuthorized()&&(De("[initializeMobileProvider: sendRequest()] already authorized"),ue(!0)),a==null||a.getConnector().once(et.AUTHORIZED,()=>{ue(!0)}),s.once(et.PROVIDER_UPDATE,ye=>{De(`[initializeMobileProvider: sendRequest()] PROVIDER_UPDATE --- remote provider request interupted type=${ye}`),ye===Sa.EXTENSION?me(et.PROVIDER_UPDATE):me(new Error("Connection Terminated"))})})}catch(ue){if(Sa.EXTENSION===ue){if(De(`[initializeMobileProvider: sendRequest()] extension provider detect: re-create ${D} on the active provider`),D.toLowerCase()===Ut.METAMASK_CONNECTSIGN.toLowerCase()){const me=yield(C=s.getProvider())===null||C===void 0?void 0:C.request({method:Ut.ETH_REQUESTACCOUNTS,params:[]});if(!me.length)throw new Error("SDK state invalid -- undefined accounts");const ye=yield(O=s.getProvider())===null||O===void 0?void 0:O.request({method:Ut.PERSONAL_SIGN,params:[oe[0],me[0]]});return s.emit(uo.ConnectWithResponse,ye),ye}if(D.toLowerCase()===Ut.METAMASK_CONNECTWITH.toLowerCase()){const[me]=oe,ye=yield(({method:pe,sdk:de,params:Ee})=>qe(void 0,void 0,void 0,function*(){var Ce,we,$e,ze;if(!de.isExtensionActive())throw new Error("SDK state invalid -- extension is not active");De("[MetaMaskProvider: extensionConnectWithOverwrite()] Overwriting request method",pe,Ee);const Ze=yield(Ce=de.getProvider())===null||Ce===void 0?void 0:Ce.request({method:Ut.ETH_REQUESTACCOUNTS,params:[]});if(!Ze.length)throw new Error("SDK state invalid -- undefined accounts");if((pe==null?void 0:pe.toLowerCase())===Ut.PERSONAL_SIGN.toLowerCase()){const We={method:pe,params:[Ee[0],Ze[0]]};return yield(we=de.getProvider())===null||we===void 0?void 0:we.request(We)}if((pe==null?void 0:pe.toLowerCase())===Ut.ETH_SENDTRANSACTION.toLowerCase()){const We={method:pe,params:[Object.assign(Object.assign({},Ee[0]),{from:Ze[0]})]};return yield($e=de.getProvider())===null||$e===void 0?void 0:$e.request(We)}return ED.includes(pe.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${pe} -- not handled by the extension -- call separately`),Ze):yield(ze=de.getProvider())===null||ze===void 0?void 0:ze.request({method:pe,params:Ee})}))({method:me.method,sdk:s,params:me.params});return s.emit(uo.ConnectWithResponse,ye),ye}return De(`[initializeMobileProvider: sendRequest()] sending '${D}' on active provider`,oe),yield(x=s.getProvider())===null||x===void 0?void 0:x.request({method:D,params:oe})}throw ue===et.REJECTED?(a==null||a.closeModal(),(R=s.getProvider())===null||R===void 0||R.handleDisconnect({terminate:!1}),Object.assign(new Error("User rejected connection"),{code:4001})):(De(`[initializeMobileProvider: sendRequest()] failed to start installer: ${ue}`),ue)}finally{$(!1)}if(D===Ut.ETH_REQUESTACCOUNTS)return Q=yield new Promise(ue=>{const me=setInterval(()=>{const{accounts:ye}=k.getState();ye&&(clearInterval(me),ue(ye))},100)}),De(`[initializeMobileProvider: sendRequest()] selectedAddress: ${V} --- SKIP rpc call`),Q;if(D===Ut.METAMASK_CONNECTWITH)try{let ue=0;const me=5,ye=({resolve:Ce,reject:we})=>{ue+=1;const $e=a==null?void 0:a.getConnector().getRPCMethodTracker(),ze=$e==null?void 0:$e[se];return De(`TRACKER: update method ${se}`,ze),ze!=null&&ze.result?(De("[initializeMobileProvider: sendRequest()] found result",ze.result),s.emit(uo.ConnectWithResponse,ze.result),void Ce(ze.result)):ze!=null&&ze.error?(De("[initializeMobileProvider: sendRequest()] found error",ze.error),void we(ze.error)):ue>=me?(De("[initializeMobileProvider: sendRequest()] max message count reached without result"),void we(new Error("Max message count reached without result"))):void De("[initializeMobileProvider: sendRequest()] not found yet, need to wait for next update")};let pe,de;const Ee=yield new Promise((Ce,we)=>{const $e=a==null?void 0:a.getConnector().getRPCMethodTracker();De(`TRACKER: method ${se}`,$e),$e!=null&&$e[se].result?(De("[initializeMobileProvider: sendRequest()] found result",$e==null?void 0:$e[se].result),Ce($e==null?void 0:$e[se].result)):$e!=null&&$e[se].error&&(De("[initializeMobileProvider: sendRequest()] found error",$e==null?void 0:$e[se].error),we($e==null?void 0:$e[se].error)),de=()=>ye({resolve:Ce,reject:we}),pe=a==null?void 0:a.getConnector().on(et.RPC_UPDATE,de)});return de&&(pe==null||pe.off(et.RPC_UPDATE,de)),De("TRACKER: result",Ee),Ee}catch(ue){throw De("[initializeMobileProvider: sendRequest()] error:",ue),ue}return P[0]&&typeof P[0]=="object"&&(P[0].params={__triggeredInstaller:!0,wrappedParams:P[0].params}),E(...P)}if(i.isSecure()&&S0[D])return E(...P);if(s.isExtensionActive())return De(`[initializeMobileProvider: sendRequest()] EXTENSION active - redirect request '${D}' to it`,P,oe),yield(_=s.getProvider())===null||_===void 0?void 0:_.request({method:D,params:oe});throw De(`[initializeMobileProvider: sendRequest()] method=${D} --- skip --- not connected/installed`),new Error("MetaMask is not connected/installed, please call eth_requestAccounts to connect first.")}try{const oe=yield E(...P);if(De(`[initializeMobileProvider: sendRequest()] method=${D} rpcResponse`,oe),D===Ut.WALLET_REQUESTPERMISSIONS){const te=oe.reduce((se,ue)=>{var me;if(ue.parentCapability==="eth_accounts"){const ye=(me=ue.caveats.find(pe=>pe.type==="restrictReturnedAccounts"))===null||me===void 0?void 0:me.value;ye&&se.push(...ye)}return se},[]);De("[initializeMobileProvider: sendRequest()] accountsToPersist:",te),te.length>0&&(k.handleAccountsChanged(te,!1),S==null||S.persistAccounts(te))}return oe}catch(oe){throw console.error("[initializeMobileProvider: sendRequest()] error:",oe),oe}}),{request:j}=N;N.request=(...D)=>qe(void 0,void 0,void 0,function*(){return K(D==null?void 0:D[0].method,D,j,c)});const{send:B}=N;return N.send=(...D)=>qe(void 0,void 0,void 0,function*(){return K(D==null?void 0:D[0],D,B,c)}),De("[initializeMobileProvider: sendRequest()] metamaskStream.start()"),f.start(),N});function $Q(t){var e,n,r,i;return qe(this,void 0,void 0,function*(){const{options:o}=t,s={communicationLayerPreference:(e=o.communicationLayerPreference)!==null&&e!==void 0?e:vd.SOCKET,platformManager:t.platformManager,sdk:t,checkInstallationOnAllCalls:o.checkInstallationOnAllCalls,injectProvider:(n=o.injectProvider)===null||n===void 0||n,shouldShimWeb3:(r=o.shouldShimWeb3)===null||r===void 0||r,extensionOnly:(i=o.extensionOnly)===null||i===void 0||i,installer:t.installer,remoteConnection:t.remoteConnection,debug:t.debug},a=yield jQ(s);t.activeProvider=a,function(c){var l,u,f,p;(u=(l=c.remoteConnection)===null||l===void 0?void 0:l.getConnector())===null||u===void 0||u.on(uo.ConnectionStatus,m=>{c.emit(uo.ConnectionStatus,m)}),(p=(f=c.remoteConnection)===null||f===void 0?void 0:f.getConnector())===null||p===void 0||p.on(uo.ServiceStatus,m=>{c.emit(uo.ServiceStatus,m)})}(t)})}const FQ="sdk";class UQ{constructor({serverUrl:e,enabled:n,originatorInfo:r}){this.serverURL=dh,this.serverURL=e,this.originatorInfo=r,this.enabled=n==null||n}send({event:e,params:n}){if(!this.enabled)return;const r=Object.assign(Object.assign({id:FQ,event:e,sdkVersion:Id.version},this.originatorInfo),{params:n});De(`[Analytics: send()] event: ${e}`,r),Ac(r,this.serverURL).catch(i=>{De(`[Analytics: send()] error: ${i}`)})}}const zQ=()=>{if(typeof document>"u")return;let t;const e=document.getElementsByTagName("link");for(let n=0;n<e.length;n++)e[n].getAttribute("rel")!=="icon"&&e[n].getAttribute("rel")!=="shortcut icon"||(t=e[n].getAttribute("href"));return t},qQ=163400;function WR(t){var e,n,r;const{dappMetadata:i}=t,o=function({url:u,name:f}){var p;const m=u+f,w=Jy(m);if(!localStorage)return"";let y=(p=localStorage.getItem(w))!==null&&p!==void 0?p:"";if(!y){y=dc();try{localStorage.setItem(w,y)}catch{return""}}return y}({url:(e=i==null?void 0:i.url)!==null&&e!==void 0?e:"no_url",name:(n=i==null?void 0:i.name)!==null&&n!==void 0?n:"no_name"}),s=(r=t.platformManager)===null||r===void 0?void 0:r.getPlatformType(),a=s===Ii.DesktopWeb,c=s===Ii.MetaMaskMobileWebview;let l="N/A";return a?l="extension":c&&(l="mobile"),{id:o,from:l}}const wv=(t,e,n)=>{if(ug(t))if(n||e&&typeof e=="object"&&e!==null&&"error"in e){const r=n||(e==null?void 0:e.error);r&&r.code===4001?Er.analytics.track("sdk_action_rejected",{action:t}):Er.analytics.track("sdk_action_failed",{action:t})}else Er.analytics.track("sdk_action_succeeded",{action:t})},_D=({provider:t,sdkInstance:e})=>{if("state"in t)throw new Error("INVALID EXTENSION PROVIDER");return new Proxy(t,{get:(n,r)=>r==="request"?function(i){var o,s;return qe(this,void 0,void 0,function*(){De("[wrapExtensionProvider()] Overwriting request method",i);const{method:a,params:c}=i,l=TQ.includes(a.toLowerCase()),{id:u,from:f}=WR(e);if(l&&((o=e.analytics)===null||o===void 0||o.send({event:_r.SDK_RPC_REQUEST,params:{method:a,from:f,id:u}})),ug(a)&&Er.analytics.track("sdk_action_requested",{action:a}),a===Ut.METAMASK_BATCH&&Array.isArray(c))return(({target:w,args:y,trackEvent:I,sdkInstance:S})=>qe(void 0,void 0,void 0,function*(){var T,N;if(y.method!=="metamask_batch")throw new Error("Invalid usage");const z=[],$=(T=y==null?void 0:y.params)!==null&&T!==void 0?T:[];for(const j of $){const B=yield w==null?void 0:w.request({method:j.method,params:j.params});z.push(B)}const{id:H,from:K}=WR(S);I&&((N=S.analytics)===null||N===void 0||N.send({event:_r.SDK_RPC_REQUEST_DONE,params:{method:y.method,from:K,id:H}}));for(const j of z)wv(y.method,j,null);return z}))({target:n,args:i,trackEvent:l,sdkInstance:e});if(a.toLowerCase()===Ut.METAMASK_CONNECTSIGN.toLowerCase()&&Array.isArray(c))return(({target:w,params:y})=>qe(void 0,void 0,void 0,function*(){let I,S=null;try{const T=yield w.request({method:Ut.ETH_REQUESTACCOUNTS,params:[]});if(!T.length)throw new Error("SDK state invalid -- undefined accounts");return I=yield w.request({method:Ut.PERSONAL_SIGN,params:[y[0],T[0]]}),I}catch(T){throw S=T,T}finally{wv(Ut.PERSONAL_SIGN,I,S)}}))({target:n,params:c});if(a.toLowerCase()===Ut.METAMASK_CONNECTWITH.toLowerCase()&&Array.isArray(c))return(({target:w,params:y})=>qe(void 0,void 0,void 0,function*(){const[I]=y,S=I.method,T=I.params;let N,z=null;try{const $=yield w.request({method:Ut.ETH_REQUESTACCOUNTS,params:[]});if(!Array.isArray($)||!$.length)throw new Error("SDK state invalid -- undefined accounts");return(S==null?void 0:S.toLowerCase())===Ut.PERSONAL_SIGN.toLowerCase()?(N=yield w.request({method:S,params:[T[0],$[0]]}),N):(S==null?void 0:S.toLowerCase())===Ut.ETH_SENDTRANSACTION.toLowerCase()?(N=yield w.request({method:S,params:[Object.assign(Object.assign({},T[0]),{from:$[0]})]}),N):ED.includes(S.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${S} -- not handled by the extension -- call separately`),N=$,N):(N=yield w.request({method:S,params:T}),N)}catch($){throw z=$,$}finally{wv(S,N,z)}}))({target:n,params:c});let p,m=null;try{return p=yield n.request(i),p}catch(w){throw m=w,w}finally{l&&((s=e.analytics)===null||s===void 0||s.send({event:_r.SDK_RPC_REQUEST_DONE,params:{method:a,from:f,id:u}})),wv(a,p,m)}})}:r==="getChainId"?function(){return t.chainId}:r==="getNetworkVersion"?function(){return t.networkVersion}:r==="getSelectedAddress"?function(){return t.selectedAddress}:r==="isConnected"?function(){return t._state.isConnected}:n[r]})};var Zy;function HQ({mustBeMetaMask:t,sdkInstance:e}){return qe(this,void 0,void 0,function*(){if(typeof window>"u")throw new Error("window not available");try{const n=yield new Promise((r,i)=>{const o=setTimeout(()=>{i(new Error("eip6963RequestProvider timed out"))},500);window.addEventListener(Zy.Announce,s=>{const a=s,{detail:{info:c,provider:l}={}}=a,{name:u,rdns:f,uuid:p}=c??{};OQ.test(p)&&u.startsWith(qR.NAME)&&qR.RDNS.includes(f)&&(clearTimeout(o),r(l))}),window.dispatchEvent(new Event(Zy.Request))});return _D({provider:n,sdkInstance:e})}catch{throw new Error("Provider not found")}})}(function(t){t.Announce="eip6963:announceProvider",t.Request="eip6963:requestProvider"})(Zy||(Zy={}));const KQ=t=>qe(void 0,void 0,void 0,function*(){const{options:e}=t,{infuraAPIKey:n}=e;if(!n)return;const r={"0x1":`https://mainnet.infura.io/v3/${n}`,"0x5":`https://goerli.infura.io/v3/${n}`,"0xaa36a7":`https://sepolia.infura.io/v3/${n}`,"0xe708":`https://linea-mainnet.infura.io/v3/${n}`,"0xe704":`https://linea-goerli.infura.io/v3/${n}`,"0x89":`https://polygon-mainnet.infura.io/v3/${n}`,"0x13881":`https://polygon-mumbai.infura.io/v3/${n}`,"0x45":`https://optimism-mainnet.infura.io/v3/${n}`,"0x1a4":`https://optimism-goerli.infura.io/v3/${n}`,"0xa4b1":`https://arbitrum-mainnet.infura.io/v3/${n}`,"0x66eed":`https://arbitrum-goerli.infura.io/v3/${n}`,"0x2a15c308d":`https://palm-mainnet.infura.io/v3/${n}`,"0x2a15c3083":`https://palm-testnet.infura.io/v3/${n}`,"0xa86a":`https://avalanche-mainnet.infura.io/v3/${n}`,"0xa869":`https://avalanche-fuji.infura.io/v3/${n}`,"0x4e454152":`https://aurora-mainnet.infura.io/v3/${n}`,"0x4e454153":`https://aurora-testnet.infura.io/v3/${n}`,"0x534e5f4d41494e":`https://starknet-mainnet.infura.io/v3/${n}`,"0x534e5f474f45524c49":`https://starknet-goerli.infura.io/v3/${n}`,"0x534e5f474f45524c4932":`https://starknet-goerli2.infura.io/v3/${n}`,"0xa4ec":`https://celo-mainnet.infura.io/v3/${n}`,"0xaef3":`https://celo-alfajores.infura.io/v3/${n}`};t.options.readonlyRPCMap?t.options.readonlyRPCMap=Object.assign(Object.assign({},t.options.readonlyRPCMap),r):t.options.readonlyRPCMap=r}),WQ=t=>qe(void 0,void 0,void 0,function*(){const{options:e}=t,{readonlyRPCMap:n}=e;if(n)try{De("[MetaMaskSDK: setupReadOnlyRPCProviders()] Setting up Readonly RPC Providers",n),t.setReadOnlyRPCCalls(!0)}catch{throw new Error("Invalid Infura Settings")}});function VQ(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function a(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof n?u:new n(function(f){f(u)})).then(s,a)}c((r=r.apply(t,[])).next())})}function GQ(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,r=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||u[0]!==6&&u[0]!==2)){s=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){s.label=u[1];break}if(u[0]===6&&s.label<i[1]){s.label=i[1],i=u;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(u);break}i[2]&&s.ops.pop(),s.trys.pop();continue}u=e.call(t,s)}catch(f){u=[6,f],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([c,l])}}}var VR="INSTALLED",GR="NOT_INSTALLED",YR="REGISTERED",JR="REGISTERING",ZR="RELOADING",XR={CHROME:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",FIREFOX:"https://addons.mozilla.org/firefox/addon/ether-metamask/",DEFAULT:"https://metamask.io"},bv="REGISTRATION_IN_PROGRESS",QR="FORWARDER_ID",YQ=function(){function t(e){var n=e===void 0?{}:e,r=n.forwarderOrigin,i=r===void 0?"https://fwd.metamask.io":r,o=n.forwarderMode,s=o===void 0?t.FORWARDER_MODE.INJECT:o;this.forwarderOrigin=i,this.forwarderMode=s,this.state=t.isMetaMaskInstalled()?VR:GR;var a=t._detectBrowser();this.downloadUrl=a?XR[a]:XR.DEFAULT,this._onMessage=this._onMessage.bind(this),this._onMessageFromForwarder=this._onMessageFromForwarder.bind(this),this._openForwarder=this._openForwarder.bind(this),this._openDownloadPage=this._openDownloadPage.bind(this),this.startOnboarding=this.startOnboarding.bind(this),this.stopOnboarding=this.stopOnboarding.bind(this),window.addEventListener("message",this._onMessage),s===t.FORWARDER_MODE.INJECT&&sessionStorage.getItem(bv)==="true"&&t._injectForwarder(this.forwarderOrigin)}return t.prototype._onMessage=function(e){if(e.origin===this.forwarderOrigin)return e.data.type==="metamask:reload"?this._onMessageFromForwarder(e):void console.debug("Unknown message from '"+e.origin+"' with data "+JSON.stringify(e.data))},t.prototype._onMessageUnknownStateError=function(e){throw new Error("Unknown state: '"+e+"'")},t.prototype._onMessageFromForwarder=function(e){return VQ(this,0,void 0,function(){return GQ(this,function(n){switch(n.label){case 0:switch(this.state){case ZR:return[3,1];case GR:return[3,2];case VR:return[3,3];case JR:return[3,5];case YR:return[3,6]}return[3,7];case 1:return console.debug("Ignoring message while reloading"),[3,8];case 2:return console.debug("Reloading now to register with MetaMask"),this.state=ZR,location.reload(),[3,8];case 3:return console.debug("Registering with MetaMask"),this.state=JR,[4,t._register()];case 4:return n.sent(),this.state=YR,e.source.postMessage({type:"metamask:registrationCompleted"},e.origin),this.stopOnboarding(),[3,8];case 5:return console.debug("Already registering - ignoring reload message"),[3,8];case 6:return console.debug("Already registered - ignoring reload message"),[3,8];case 7:this._onMessageUnknownStateError(this.state),n.label=8;case 8:return[2]}})})},t.prototype.startOnboarding=function(){sessionStorage.setItem(bv,"true"),this._openDownloadPage(),this._openForwarder()},t.prototype.stopOnboarding=function(){sessionStorage.getItem(bv)==="true"&&(this.forwarderMode===t.FORWARDER_MODE.INJECT&&(console.debug("Removing forwarder"),t._removeForwarder()),sessionStorage.setItem(bv,"false"))},t.prototype._openForwarder=function(){this.forwarderMode===t.FORWARDER_MODE.OPEN_TAB?window.open(this.forwarderOrigin,"_blank"):t._injectForwarder(this.forwarderOrigin)},t.prototype._openDownloadPage=function(){window.open(this.downloadUrl,"_blank")},t.isMetaMaskInstalled=function(){return!!(window.ethereum&&window.ethereum.isMetaMask)},t._register=function(){return window.ethereum.request({method:"wallet_registerOnboarding"})},t._injectForwarder=function(e){var n=document.body,r=document.createElement("iframe");r.setAttribute("height","0"),r.setAttribute("width","0"),r.setAttribute("style","display: none;"),r.setAttribute("src",e),r.setAttribute("id",QR),n.insertBefore(r,n.children[0])},t._removeForwarder=function(){var e;(e=document.getElementById(QR))===null||e===void 0||e.remove()},t._detectBrowser=function(){var e=wD.parse(window.navigator.userAgent);return e.browser.name==="Firefox"?"FIREFOX":["Chrome","Chromium"].includes(e.browser.name||"")?"CHROME":null},t.FORWARDER_MODE={INJECT:"INJECT",OPEN_TAB:"OPEN_TAB"},t}();function JQ(t,{wait:e=!1}){return qe(this,void 0,void 0,function*(){return De(`[MetamaskInstaller: startInstaller()] wait=${e}`),e&&(yield xD(1e3)),yield t.checkInstallation()})}class ZQ{constructor({remote:e,preferDesktop:n,platformManager:r,debug:i=!1}){this.state={isInstalling:!1,hasInstalled:!1,resendRequest:null,preferDesktop:!1,platformManager:null,remote:null,debug:!1,connectWith:void 0},this.state.remote=e,this.state.preferDesktop=n,this.state.platformManager=r,this.state.debug=i}startDesktopOnboarding(){return function(){return qe(this,void 0,void 0,function*(){De("[MetamaskInstaller: startDesktopOnboarding() starting desktop onboarding"),window.ethereum&&(window.ethereum=void 0),new YQ().startOnboarding()})}()}redirectToProperInstall(){return qe(this,void 0,void 0,function*(){return function(e){var n,r;return qe(this,void 0,void 0,function*(){const{state:i}=e,o=(n=i.platformManager)===null||n===void 0?void 0:n.getPlatformType();if(De(`[MetamaskInstaller: redirectToProperInstall()] platform=${o}`),o===Ii.MetaMaskMobileWebview)return!1;i.isInstalling=!0;try{yield(r=i.remote)===null||r===void 0?void 0:r.startConnection({connectWith:i.connectWith}),i.isInstalling=!1,i.hasInstalled=!0}catch(s){throw i.isInstalling=!1,s}return!0})}(this)})}checkInstallation(){return qe(this,void 0,void 0,function*(){return function(e){var n;return qe(this,void 0,void 0,function*(){const{state:r}=e,i=(n=r.platformManager)===null||n===void 0?void 0:n.isMetaMaskInstalled();return De(`[MetamaskInstaller: checkInstallation()] isInstalled=${i}`),!!i||(yield e.redirectToProperInstall())})}(this)})}start({wait:e=!1,connectWith:n}){return qe(this,void 0,void 0,function*(){this.state.connectWith=n,De(`[MetaMaskInstaller: start()] wait=${e}`,n),yield JQ(this,{wait:e})})}}class SD{constructor({debug:e,sdkVersion:n}){this.containers={install:void 0,pending:void 0,select:void 0},this.defined={install:!1,pending:!1,select:!1},this.debug=e!=null&&e,this.sdkVersion=n}loadComponent(e){return qe(this,void 0,void 0,function*(){if(!this.defined[e]){this.defined[e]=!0;try{const n=yield Promise.resolve().then(function(){return Oee});console.log("loader",n),n.defineCustomElements()}catch(n){console.error(`Failed to load ${e} modal:`,n)}}})}renderInstallModal(e){var n;return qe(this,void 0,void 0,function*(){this.debug&&console.debug("ModalLoader: renderInstallModal",e),this.containers.install=e.parentElement,yield this.loadComponent("install");const r=document.createElement("mm-install-modal");r.link=e.link,r.preferDesktop=e.preferDesktop,r.sdkVersion=(n=e.sdkVersion)!==null&&n!==void 0?n:this.sdkVersion,r.addEventListener("close",({detail:{shouldTerminate:i}})=>e.onClose(i)),r.addEventListener("startDesktopOnboarding",e.metaMaskInstaller.startDesktopOnboarding),r.addEventListener("trackAnalytics",i=>{var o;return(o=e.onAnalyticsEvent)===null||o===void 0?void 0:o.call(e,i.detail)}),e.parentElement.appendChild(r)})}renderSelectModal(e){var n;return qe(this,void 0,void 0,function*(){this.containers.select=e.parentElement,yield this.loadComponent("select");const r=document.createElement("mm-select-modal");r.link=e.link,r.sdkVersion=(n=e.sdkVersion)!==null&&n!==void 0?n:this.sdkVersion,r.preferDesktop=e.preferDesktop,r.addEventListener("close",({detail:{shouldTerminate:i}})=>e.onClose(i)),r.addEventListener("connectWithExtension",e.connectWithExtension),e.parentElement.appendChild(r),setTimeout(()=>this.updateQRCode(e.link),100)})}renderPendingModal(e){var n;return qe(this,void 0,void 0,function*(){this.containers.pending=e.parentElement,yield this.loadComponent("pending");const r=document.createElement("mm-pending-modal");r.sdkVersion=(n=e.sdkVersion)!==null&&n!==void 0?n:this.sdkVersion,r.displayOTP=e.displayOTP,r.addEventListener("close",e.onClose),r.addEventListener("updateOTPValue",({detail:{otpValue:i}})=>e.updateOTPValue(i)),e.onDisconnect&&r.addEventListener("disconnect",e.onDisconnect),e.parentElement.appendChild(r)})}updateOTPValue(e){const n=()=>{var r;const i=(r=this.containers.pending)===null||r===void 0?void 0:r.querySelector("mm-pending-modal");return!!i&&(i.otpCode=e,!0)};setTimeout(()=>{n()},800)}updateQRCode(e){var n,r;const i=(n=this.containers.install)===null||n===void 0?void 0:n.querySelector("mm-install-modal");if(i)i.link=e;else{const o=(r=this.containers.select)===null||r===void 0?void 0:r.querySelector("mm-select-modal");o&&(o.link=e)}}unmount(){Object.entries(this.containers).forEach(([e,n])=>{var r;(r=n==null?void 0:n.parentNode)===null||r===void 0||r.removeChild(n),this.containers[e]=void 0})}}const XQ=({link:t,debug:e,installer:n,terminate:r,connectWithExtension:i,preferDesktop:o,onAnalyticsEvent:s})=>{let a=null,c=null;De("[UI: InstallModal-web: sdkWebInstallModal()] ################## Installing Modal #################"),De(`[UI: InstallModal-web: sdkWebInstallModal()] link=${t}`),De(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${t}" --ios`),De(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${t}" --android`),De(`[UI: InstallModal-web: sdkWebInstallModal()] adb shell am start -a android.intent.action.VIEW -d "${t}"`);const l=u=>{var f;De("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web unmounting install modal -- shouldTerminate:",u,c),c!=null&&c.parentNode&&((f=c.parentNode)===null||f===void 0||f.removeChild(c)),c=null,a=null,u===!0&&(r==null||r())};return{mount:u=>{if(De("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web mounting install modal",c),c)return c.style.display="block",void(a==null||a.updateQRCode(u));a=new SD({debug:e,sdkVersion:Id.version}),c=document.createElement("div"),document.body.appendChild(c),window.extension?a.renderSelectModal({parentElement:c,connectWithExtension:()=>{l(),i==null||i()},onClose:l,link:t,preferDesktop:o!=null&&o}).catch(f=>{console.error(f)}):a.renderInstallModal({parentElement:c,preferDesktop:o!=null&&o,link:t,metaMaskInstaller:n,onClose:l,onAnalyticsEvent:s}).catch(f=>{console.error("[UI: InstallModal-web: sdkWebInstallModal()]",f)})},unmount:l}},QQ=({onDisconnect:t,debug:e})=>{let n=null,r=null;const i=()=>{De("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web unmount",n),n!=null&&n.parentNode&&n.parentNode.removeChild(n),n=null,r=null},o=a=>{De("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web updateOTPValue",a),r&&r.updateOTPValue(a)},s=({displayOTP:a}={displayOTP:!0})=>{De("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web mount",n),n?n.style.display="block":(r=new SD({debug:e,sdkVersion:Id.version}),n=document.createElement("div"),document.body.appendChild(n),r.renderPendingModal({parentElement:n,onClose:i,onDisconnect:t,updateOTPValue:o,displayOTP:a}).catch(c=>{console.error("[UI: pendingModal-web: sdkWebPendingModal()]",c)}))};return s(),{mount:s,unmount:i,updateOTPValue:o}};function CD(t,e){var n,r,i,o;t.connector||(De("[RemoteConnection: initializeConnector()] initialize connector"),t.connector=new nX({anonId:e.anonId,platformType:e.platformManager.getPlatformType(),communicationLayerPreference:e.communicationLayerPreference,transports:e.transports,dappMetadata:Object.assign(Object.assign({},e.dappMetadata),{source:e._source}),analytics:e.enableAnalytics,communicationServerUrl:e.communicationServerUrl,sdkVersion:Id.version,context:"dapp",ecies:e.ecies,storage:e.storage,logging:e.logging}),e.timer&&(De("[RemoteConnection: initializeConnector()] reset background timer",e.timer),(r=(n=e.timer)===null||n===void 0?void 0:n.stopBackgroundTimer)===null||r===void 0||r.call(n),(o=(i=e.timer)===null||i===void 0?void 0:i.runBackgroundTimer)===null||o===void 0||o.call(i,()=>!1,1e4)))}function rS(t){t.listeners.forEach(({event:e,handler:n})=>{var r;(r=t.connector)===null||r===void 0||r.off(e,n)}),t.listeners=[]}function eee(t,e,n){return qe(this,void 0,void 0,function*(){const r=setTimeout(()=>{Er.analytics.track("sdk_connection_failed",{transport_type:"websocket"})},6e4);return new Promise((i,o)=>{if(!t.connector)return void o(new Error("No connector available"));De("[RemoteConnection: connectWithModalInstaller()]",{state:t,options:e,linkParams:n});const s=`${t.useDeeplink?_0:x0}?${n}`;(function(a,c,l){var u,f,p,m;a.installModal=(f=(u=c.modals).install)===null||f===void 0?void 0:f.call(u,{link:l,preferDesktop:a.preferDesktop,installer:c.getMetaMaskInstaller(),terminate:()=>{De("[RemoteConnection: showInstallModal() => terminate()] terminate connection"),c.sdk.terminate().catch(w=>{console.warn("[MMSDK] failed to terminate connection",w)})},debug:a.developerMode,connectWithExtension:()=>{var w;return(w=c.connectWithExtensionProvider)===null||w===void 0||w.call(c),!1},onAnalyticsEvent:({event:w,params:y})=>{var I,S,T;const N=Object.assign(Object.assign({},y),{sdkVersion:c.sdk.getVersion(),dappId:(I=c.dappMetadata)===null||I===void 0?void 0:I.name,source:c._source,url:(S=c.dappMetadata)===null||S===void 0?void 0:S.url});(T=a.analytics)===null||T===void 0||T.send({event:w,params:N})}}),(m=(p=a.installModal)===null||p===void 0?void 0:p.mount)===null||m===void 0||m.call(p,l)})(t,e,s),e.sdk.once(et.PROVIDER_UPDATE,a=>qe(this,void 0,void 0,function*(){if(De("[RemoteConnection: connectWithModalInstaller()] once provider_update -- resolving startConnection promise"),a===Sa.TERMINATE){const c={code:4001,message:"User rejected the request."};return clearTimeout(r),void o(c)}o(a)})),t.connector.once(et.AUTHORIZED,()=>{clearTimeout(r),i()}),t.connector.once(et.REJECTED,()=>{clearTimeout(r),o(et.REJECTED)}),t.connector.once(et.CLIENTS_READY,()=>qe(this,void 0,void 0,function*(){De("[RemoteConnection: connectWithModalInstaller()] once clients_ready -- resolving startConnection promise"),clearTimeout(r),i()}))})})}function AD(t,e){function n(r,i){var o;(o=t.connector)===null||o===void 0||o.on(r,i),t.listeners.push({event:r,handler:i})}t.connector&&(rS(t),n(et.WALLET_INIT,({accounts:r,chainId:i})=>qe(this,void 0,void 0,function*(){De(`[RemoteConnection: setupListeners() => EventType.WALLET_INIT] 'wallet_init' accounts=${r} chainId=${i}`);const o=Us.getProvider();o._setConnected();const s={accounts:r,chainId:i,isUnlocked:!1};o._initializeState(s),o.emit("chainChanged",i),o.emit("accountsChanged",r)})),n(et.AUTHORIZED,()=>qe(this,void 0,void 0,function*(){var r,i,o,s;try{De("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' closing modals",t.pendingModal,t.installModal);const a=Us.getProvider();a._setConnected(),(i=(r=t.pendingModal)===null||r===void 0?void 0:r.unmount)===null||i===void 0||i.call(r),(s=(o=t.installModal)===null||o===void 0?void 0:o.unmount)===null||s===void 0||s.call(o,!1),t.otpAnswer=void 0,t.authorized=!0,De("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' provider.state",a.getState()),yield a.forceInitializeState()}catch{}})),n(et.TERMINATE,()=>{var r,i,o,s,a;(i=(r=t.pendingModal)===null||r===void 0?void 0:r.unmount)===null||i===void 0||i.call(r),(s=(o=t.installModal)===null||o===void 0?void 0:o.unmount)===null||s===void 0||s.call(o,!0),t.pendingModal=void 0,t.installModal=void 0,t.otpAnswer=void 0,(a=t.connector)===null||a===void 0||a.disconnect({terminate:!0}),t.authorized=!1,Us.getProvider().handleDisconnect({terminate:!0}),rS(t),De("[RemoteConnection: setupListeners()] All listeners cleaned up")}))}function tee(t,e,{initialCheck:n,connectWith:r}={}){var i,o,s,a,c,l,u,f,p,m,w,y,I,S,T,N,z,$,H;return qe(this,void 0,void 0,function*(){try{if(CD(t,e),!t.connector)throw new Error("no connector defined");AD(t);const K=Us.getProvider();t.authorized=!1,K.emit("connecting");const j=yield(i=t.connector)===null||i===void 0?void 0:i.originatorSessionConnect();De(`[RemoteConnection: startConnection()] after originatorSessionConnect initialCheck=${n}`,j);let B=(o=j==null?void 0:j.channelId)!==null&&o!==void 0?o:"",D=(a=(s=t.connector.getKeyInfo())===null||s===void 0?void 0:s.ecies.public)!==null&&a!==void 0?a:"",P=(l=(c=t.connector.getKeyInfo())===null||c===void 0?void 0:c.ecies.private)!==null&&l!==void 0?l:"";if(n&&!j)return Promise.resolve();if(!j&&!n){const q=yield t.connector.generateChannelIdConnect();B=(u=q.channelId)!==null&&u!==void 0?u:"",D=(f=q.pubKey)!==null&&f!==void 0?f:"",P=(p=q.privKey)!==null&&p!==void 0?p:"";const V=Date.now();(m=t.connector.state.storageManager)===null||m===void 0||m.persistChannelConfig({channelId:B,localKey:P,lastActive:V,validUntil:V+fh})}if(n&&(j!=null&&j.channelId))return!((w=t.connector)===null||w===void 0)&&w.isConnected()||(De(`[RemoteConnection: startConnection()] reconnecting to channel initialCheck=${n}`,j),yield(y=t.connector)===null||y===void 0?void 0:y.connectToChannel({channelId:B})),Promise.resolve();j&&!(!((I=t.connector)===null||I===void 0)&&I.isConnected())&&(De("[RemoteConnection: startConnection()] reconnecting to channel",j),yield(S=t.connector)===null||S===void 0?void 0:S.connectToChannel({channelId:B}));const E=!((T=t.platformManager)===null||T===void 0)&&T.isSecure()?"":"&t=q",b=Id.version,{iconUrl:g,name:v,url:A,scheme:L}=e.dappMetadata||{},C=(N=t.platformManager)===null||N===void 0?void 0:N.getPlatformType();let O="N/A";typeof window<"u"&&window.location&&window.location.hostname?O=window.location.hostname:v!==void 0?O=v:A!==void 0&&(O=A);const x={url:A??"",title:v??"",icon:g,scheme:L??"",apiVersion:b,dappId:O||A||"N/A",anonId:e.anonId,platform:C??"",source:(z=e._source)!==null&&z!==void 0?z:""},R=Jy(JSON.stringify(x));let _=`channelId=${B}&v=2&comm=${($=t.communicationLayerPreference)!==null&&$!==void 0?$:""}&pubkey=${D}${E}&originatorInfo=${R}`;if(r){_+=`&rpc=${Jy(JSON.stringify(r))}`;const q=t.connector.getRPCMethodTracker();q&&(q[`${r.id}`]=Object.assign(Object.assign({},r),{id:`${r.id}`,timestamp:Date.now()}))}const k=encodeURI(_),U=`${t.useDeeplink?_0:x0}?${_}`;if(t.qrcodeLink=U,t.developerMode&&De(`[RemoteConnection: startConnection()] qrcodeLink=${k}`),K.emit("display_uri",U),Er.analytics.track("sdk_connection_initiated",{transport_type:"websocket"}),(H=t.platformManager)===null||H===void 0?void 0:H.isSecure()){const q=setTimeout(()=>{Er.analytics.track("sdk_connection_failed",{transport_type:"websocket"})},6e4);return yield function(V,Q){var Y,X;return qe(this,void 0,void 0,function*(){const ee=`${x0}?${Q}`,ie=`${_0}?${Q}`;(X=(Y=V.platformManager)===null||Y===void 0?void 0:Y.openDeeplink)===null||X===void 0||X.call(Y,ee,ie,"_self")})}(t,k),new Promise((V,Q)=>{var Y,X,ee;if(!((Y=t.connector)===null||Y===void 0)&&Y.isAuthorized())return clearTimeout(q),void V();(X=t.connector)===null||X===void 0||X.once(et.AUTHORIZED,()=>{clearTimeout(q),V()}),(ee=t.connector)===null||ee===void 0||ee.once(et.REJECTED,()=>{clearTimeout(q),Q(et.REJECTED)})})}return eee(t,e,k)}catch(K){throw console.error("[startConnection] error",K),K}})}class nee{constructor(e){var n,r,i;this.state={connector:void 0,qrcodeLink:void 0,analytics:void 0,developerMode:!1,authorized:!1,reconnection:!1,preferDesktop:!1,deeplinkProtocol:!1,listeners:[],communicationLayerPreference:void 0,platformManager:void 0,pendingModal:void 0,installModal:void 0,otpAnswer:void 0},this.options=e;const o=((n=e.logging)===null||n===void 0?void 0:n.developerMode)===!0||((r=e.logging)===null||r===void 0?void 0:r.sdk)===!0;this.state.developerMode=o,this.state.analytics=e.analytics,this.state.preferDesktop=(i=e.preferDesktop)!==null&&i!==void 0&&i,this.state.useDeeplink=e.sdk.options.useDeeplink,this.state.communicationLayerPreference=e.communicationLayerPreference,this.state.platformManager=e.platformManager,e.modals.install||(e.modals.install=XQ),e.modals.otp||(e.modals.otp=QQ)}startConnection(e){return qe(this,void 0,void 0,function*(){return tee(this.state,this.options,e)})}initRemoteCommunication({sdkInstance:e}){var n,r,i;return qe(this,void 0,void 0,function*(){const o=yield(r=(n=e.options.storage)===null||n===void 0?void 0:n.storageManager)===null||r===void 0?void 0:r.getPersistedChannelConfig();if(!this.options.ecies){const s={privateKey:o==null?void 0:o.localKey};this.options.ecies=s}CD(this.state,this.options),yield(i=this.getConnector())===null||i===void 0?void 0:i.initFromDappStorage(),AD(this.state,this.options)})}showActiveModal(){return function(e){var n,r,i,o;e.authorized?De("[RemoteConnection: showActiveModal()] already authorized"):e.pendingModal?(r=(n=e.pendingModal).mount)===null||r===void 0||r.call(n):e.installModal&&((o=(i=e.installModal).mount)===null||o===void 0||o.call(i,e.qrcodeLink||""))}(this.state)}closeModal(){var e,n,r,i;(n=(e=this.state.pendingModal)===null||e===void 0?void 0:e.unmount)===null||n===void 0||n.call(e),(i=(r=this.state.installModal)===null||r===void 0?void 0:r.unmount)===null||i===void 0||i.call(r,!1)}getUniversalLink(){if(!this.state.qrcodeLink)throw new Error("connection not started. run startConnection() first.");return this.state.qrcodeLink}getChannelConfig(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.getChannelConfig()}getKeyInfo(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.getKeyInfo()}getConnector(){if(!this.state.connector)throw new Error("invalid remote connector");return this.state.connector}getPlatformManager(){if(!this.state.platformManager)throw new Error("PlatformManager not available");return this.state.platformManager}isConnected(){var e;return((e=this.state.connector)===null||e===void 0?void 0:e.isReady())||!1}isAuthorized(){var e;return((e=this.state.connector)===null||e===void 0?void 0:e.isAuthorized())||!1}isPaused(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.isPaused()}disconnect(e){var n,r,i;De("[RemoteConnection: disconnect()]",e),e!=null&&e.terminate&&(Us.getProvider().handleDisconnect({terminate:!0}),(r=(n=this.state.pendingModal)===null||n===void 0?void 0:n.unmount)===null||r===void 0||r.call(n),this.state.otpAnswer=void 0),(i=this.state.connector)===null||i===void 0||i.disconnect(e),function(o){De("[RemoteConnection: cleanupConnector()] cleaning up connector"),o.connector&&(rS(o),o.connector.disconnect({terminate:!0}).catch(s=>{De("[RemoteConnection: cleanupConnector()] error disconnecting connector",s)}))}(this.state)}}function ree(t){var e,n,r,i,o,s,a,c,l,u,f;return qe(this,void 0,void 0,function*(){const{options:p}=t;if(p.logging=(e=p.logging)!==null&&e!==void 0?e:{},p.communicationLayerPreference=(n=p.communicationLayerPreference)!==null&&n!==void 0?n:vd.SOCKET,p.enableDebug!==void 0&&(Fi.enable("MM_SDK"),console.warn("enableDebug is removed. Please use enableAnalytics instead.")),p.enableAnalytics=(r=p.enableAnalytics)===null||r===void 0||r,p.injectProvider=(i=p.injectProvider)===null||i===void 0||i,p.shouldShimWeb3=(o=p.shouldShimWeb3)===null||o===void 0||o,p.extensionOnly=(s=p.extensionOnly)===null||s===void 0||s,p.useDeeplink=(a=p.useDeeplink)===null||a===void 0||a,p.storage=(c=p.storage)!==null&&c!==void 0?c:{enabled:!0},p.headless){Fi("[MetaMaskSDK: performSDKInitialization()] headless mode enabled");const T=()=>{},N={install:()=>({mount:T,unmount:T})},z={installer:T};p.modals=N,p.ui=z}const m=((l=p.logging)===null||l===void 0?void 0:l.developerMode)===!0;t.debug=((u=p.logging)===null||u===void 0?void 0:u.sdk)||m,De("[MetaMaskSDK: performSDKInitialization()] options",t.options);const w=Object.assign({},p.logging);m&&(w.sdk=!0,w.eciesLayer=!0,w.keyExchangeLayer=!0,w.remoteLayer=!0,w.serviceLayer=!0,w.plaintext=!0),yield function(T){var N;return qe(this,void 0,void 0,function*(){const{options:z}=T;T.platformManager=new b0({useDeepLink:(N=z.useDeeplink)!==null&&N!==void 0&&N,preferredOpenLink:z.openDeeplink,debug:T.debug})})}(t),yield function(T){var N,z,$,H,K;return qe(this,void 0,void 0,function*(){const{options:j}=T,B=(N=T.platformManager)===null||N===void 0?void 0:N.getPlatformType();T.analytics=new UQ({serverUrl:(z=j.communicationServerUrl)!==null&&z!==void 0?z:dh,enabled:j.enableAnalytics,originatorInfo:{url:($=j.dappMetadata.url)!==null&&$!==void 0?$:"",title:(H=j.dappMetadata.name)!==null&&H!==void 0?H:"",dappId:T.getDappId(),platform:B??"",source:(K=j._source)!==null&&K!==void 0?K:"",anonId:""}})})}(t),yield function(T){var N,z,$;return qe(this,void 0,void 0,function*(){if(!T.options.enableAnalytics||!(!((N=T.platformManager)===null||N===void 0)&&N.isBrowser())&&!(!((z=T.platformManager)===null||z===void 0)&&z.isReactNative()))return;const H=T.getVersion(),K=T.getDappId(),j=yield T.getAnonId(),B=($=T.platformManager)===null||$===void 0?void 0:$.getPlatformType(),D=T.options._source;Er.analytics.setGlobalProperty("sdk_version",H),Er.analytics.setGlobalProperty("dapp_id",K),Er.analytics.setGlobalProperty("anon_id",j),Er.analytics.setGlobalProperty("platform",B),Er.analytics.setGlobalProperty("integration_type",D),Er.analytics.enable(),Er.analytics.track("sdk_initialized",{})})}(t),yield function(T){var N;return qe(this,void 0,void 0,function*(){const{options:z}=T;((N=z.storage)===null||N===void 0?void 0:N.enabled)!==!0||z.storage.storageManager||(z.storage.storageManager=yield bD(z.storage))})}(t),yield function(T){return qe(this,void 0,void 0,function*(){const{options:N}=T,z=/^(http|https):\/\/[^\s]*$/;if(N.dappMetadata){N.dappMetadata.iconUrl&&!z.test(N.dappMetadata.iconUrl)&&(console.warn("Invalid dappMetadata.iconUrl: URL must start with http:// or https://"),N.dappMetadata.iconUrl=void 0),N.dappMetadata.base64Icon&&N.dappMetadata.base64Icon.length>qQ&&(console.warn("Invalid dappMetadata.base64Icon: Base64-encoded icon string length must be less than 163400 characters"),N.dappMetadata.base64Icon=void 0),N.dappMetadata.url&&!z.test(N.dappMetadata.url)&&console.warn("Invalid dappMetadata.url: URL must start with http:// or https://");const $=zQ();if($&&!N.dappMetadata.iconUrl&&!N.dappMetadata.base64Icon){const H=`${window.location.protocol}//${window.location.host}${$}`;N.dappMetadata.iconUrl=H}}T.dappMetadata=N.dappMetadata})}(t),yield KQ(t),yield WQ(t);const{metamaskBrowserExtension:y,preferExtension:I,shouldReturn:S}=yield function(T){var N,z,$,H;return qe(this,void 0,void 0,function*(){const{options:K}=T;let j,B=!1,D=!1;if(typeof window<"u"&&window.ethereum&&!(!((N=T.platformManager)===null||N===void 0)&&N.isMetaMaskMobileWebView())){B=localStorage.getItem(Yy)==="extension";try{j=yield HQ({mustBeMetaMask:!0,sdkInstance:T}),window.extension=j,j.on(ia.CHAIN_CHANGED,P=>{De(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE chainChanged chainId=${P}`),T.sdkProvider&&T.getMobileProvider().emit(ia.CHAIN_CHANGED,P)}),j.on(ia.ACCOUNTS_CHANGED,P=>qe(this,void 0,void 0,function*(){var E;De(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE accountsChanged accounts=${P}`);const b=!!T.sdkProvider,g=!!T.extensionActive;if(b&&T.getMobileProvider().emit(ia.ACCOUNTS_CHANGED,P),g&&(P==null?void 0:P.length)===0&&(yield(E=T.getProvider())===null||E===void 0?void 0:E.request({method:Ut.WALLET_GETPERMISSIONS,params:[]})).length===0)try{yield T.terminate()}catch(v){De("[MetaMaskSDK: setupExtensionPreferences()] error terminating on permissions revoked",v)}})),j.on(ia.DISCONNECT,P=>{De(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE disconnect error=${P}`),T.sdkProvider&&T.getMobileProvider().emit(ia.DISCONNECT,P)}),j.on(ia.CONNECT,P=>{De(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connect args=${P}`),T.sdkProvider&&T.getMobileProvider().emit(ia.CONNECT,P)}),j.on(ia.CONNECTED,P=>{De("[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connected",P),T.sdkProvider&&T.getMobileProvider().emit(ia.CONNECTED,P)})}catch{window.extension=void 0}}else!((z=T.platformManager)===null||z===void 0)&&z.isMetaMaskMobileWebView()&&(($=T.analytics)===null||$===void 0||$.send({event:_r.SDK_USE_INAPP_BROWSER}),T.activeProvider=_D({provider:window.ethereum,sdkInstance:T}),T._initialized=!0,D=!0);return j&&K.extensionOnly&&(De("[MetaMaskSDK: setupExtensionPreferences()] EXTENSION ONLY --- prevent sdk initialization"),(H=T.analytics)===null||H===void 0||H.send({event:_r.SDK_USE_EXTENSION}),T.activeProvider=j,T.extensionActive=!0,T.extension=j,T._initialized=!0,D=!0),{preferExtension:B,shouldReturn:D,metamaskBrowserExtension:j}})}(t);if(S)De("[MetaMaskSDK: performSDKInitialization()] shouldReturn=true --- prevent sdk initialization");else{yield function(T,N){var z,$,H,K,j;return qe(this,void 0,void 0,function*(){const{options:B}=T,D=Object.assign({},B.logging);T.remoteConnection=new nee({anonId:yield T.getAnonId(),preferDesktop:(z=B.preferDesktop)!==null&&z!==void 0&&z,communicationLayerPreference:($=B.communicationLayerPreference)!==null&&$!==void 0?$:vd.SOCKET,analytics:T.analytics,dappMetadata:B.dappMetadata,_source:B._source,enableAnalytics:(H=B.enableAnalytics)===null||H===void 0||H,timer:B.timer,sdk:T,platformManager:T.platformManager,transports:B.transports,communicationServerUrl:B.communicationServerUrl,storage:(K=B.storage)!==null&&K!==void 0?K:{enabled:!0},getMetaMaskInstaller:()=>{if(!T.installer)throw new Error("Invalid SDK status -- installer not initialized");return T.installer},logging:D,connectWithExtensionProvider:N===void 0?void 0:()=>HR(T),modals:Object.assign(Object.assign({},B.modals),{onPendingModalDisconnect:T.terminate.bind(T)})}),yield T.remoteConnection.initRemoteCommunication({sdkInstance:T}),T.installer=new ZQ({remote:T.remoteConnection,preferDesktop:(j=B.preferDesktop)!==null&&j!==void 0&&j,platformManager:T.platformManager,debug:T.debug})})}(t,y),yield $Q(t),yield function(T,N){var z,$;return qe(this,void 0,void 0,function*(){const{options:H}=T;N?(De("[MetaMaskSDK: handleAutoAndExtensionConnections()] preferExtension is detected -- connect with it."),(z=T.analytics)===null||z===void 0||z.send({event:_r.SDK_EXTENSION_UTILIZED}),HR(T).catch(K=>{console.warn("Can't connect with MetaMask extension...",K),localStorage.removeItem(Yy)})):H.checkInstallationImmediately&&(!(($=T.platformManager)===null||$===void 0)&&$.isDesktopWeb()?(De("[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately"),T.connect().catch(K=>{De(`[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- error on autoconnect _err=${K}`)})):console.warn("[handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- only for web desktop")),T._initialized=!0})}(t,I);try{yield(f=t.remoteConnection)===null||f===void 0?void 0:f.startConnection({initialCheck:!0})}catch(T){console.error("[MetaMaskSDK: setupRemoteConnectionAndInstaller()] Error while checking installation",T)}t.emit(uo.ProviderUpdate,Sa.INITIALIZED)}})}class iee extends EJ{constructor(e={storage:{enabled:!0},injectProvider:!0,forceInjectProvider:!1,enableAnalytics:!0,shouldShimWeb3:!0,useDeeplink:!0,extensionOnly:!0,headless:!1,dappMetadata:{name:"",url:"",iconUrl:""},_source:zR,i18nOptions:{enabled:!1}}){var n,r,i;super(),this.extensionActive=!1,this._initialized=!1,this.sdkInitPromise=void 0,this.debug=!1,this.readonlyRPCCalls=!1,this.availableLanguages=["en"],this.ANON_ID_STORAGE_KEY="mm-sdk-anon-id",Fi.disable();const o=((n=e.logging)===null||n===void 0?void 0:n.developerMode)===!0;if((!((r=e.logging)===null||r===void 0)&&r.sdk||o)&&Fi.enable("MM_SDK"),De("[MetaMaskSDK: constructor()]: begin."),this.setMaxListeners(50),!(!((i=e.dappMetadata)===null||i===void 0)&&i.url)){if(typeof window>"u"||typeof document>"u")throw new Error("You must provide dAppMetadata url");e.dappMetadata=Object.assign(Object.assign({},e.dappMetadata),{url:`${window.location.protocol}//${window.location.host}`})}this.options=e,this.options._source||(e._source=zR),this.init().then(()=>{De("[MetaMaskSDK: constructor()]: initialized successfully."),typeof window<"u"&&(window.mmsdk=this)}).catch(s=>{console.error("[MetaMaskSDK: constructor()] error during initialization",s)})}init(){return qe(this,void 0,void 0,function*(){return function(e){var n;return qe(this,void 0,void 0,function*(){if(typeof window<"u"&&(!((n=window.mmsdk)===null||n===void 0)&&n.isInitialized()))return De("[MetaMaskSDK: initializeMetaMaskSDK()] already initialized"),Promise.resolve(window.mmsdk);if(e._initialized)return De("[MetaMaskSDK: initializeMetaMaskSDK()] already initialized"),e.sdkInitPromise;if(e.sdkInitPromise)return De("[MetaMaskSDK: initializeMetaMaskSDK()] already initializing"),e.sdkInitPromise;try{e.sdkInitPromise=ree(e),yield e.sdkInitPromise}catch(r){throw console.error(r),r}return e.sdkInitPromise})}(this)})}isExtensionActive(){return this.extensionActive}checkExtensionAvailability(){var e;return typeof window<"u"&&!!(!((e=window.ethereum)===null||e===void 0)&&e.isMetaMask)}connect(){return qe(this,void 0,void 0,function*(){return function(e){return qe(this,void 0,void 0,function*(){if(e._initialized||(De("[MetaMaskSDK: connect()] provider not ready -- wait for init()"),yield e.init()),De(`[MetaMaskSDK: connect()] isExtensionActive=${e.isExtensionActive()} activeProvider`,e.activeProvider),!e.activeProvider)throw new Error("SDK state invalid -- undefined provider");const n=e.activeProvider.getSelectedAddress();return n?[n]:e.activeProvider.request({method:Ut.ETH_REQUESTACCOUNTS,params:[]})})}(this)})}connectAndSign({msg:e}){return qe(this,void 0,void 0,function*(){return LQ({instance:this,msg:e})})}connectWith(e){return qe(this,void 0,void 0,function*(){return function({instance:n,rpc:r}){return qe(this,void 0,void 0,function*(){if(n._initialized||(De("[MetaMaskSDK: connectWith()] provider not ready -- wait for init()"),yield n.init()),De(`[MetaMaskSDK: connectWith()] method: ${r.method} rpc=${r}`),!n.activeProvider)throw new Error("SDK state invalid -- undefined provider");return n.activeProvider.request({method:Ut.METAMASK_CONNECTWITH,params:[r]})})}({instance:this,rpc:e})})}resume(){return function(e){var n,r,i;return qe(this,void 0,void 0,function*(){if(!(!((r=(n=e.remoteConnection)===null||n===void 0?void 0:n.getConnector())===null||r===void 0)&&r.isReady()))return De("[MetaMaskSDK: resume()] channel is not ready -- starting connection"),void((i=e.remoteConnection)===null||i===void 0||i.startConnection());De("[MetaMaskSDK: resume()] channel is ready")})}(this)}disconnect(){return console.warn("MetaMaskSDK.disconnect() is deprecated, use terminate()"),this.terminate()}isAuthorized(){var e;(e=this.remoteConnection)===null||e===void 0||e.isAuthorized()}terminate(){return function(e){var n,r,i;return qe(this,void 0,void 0,function*(){if(!(!((n=e.platformManager)===null||n===void 0)&&n.isMetaMaskMobileWebView())){if(PQ&&(window.localStorage.removeItem(Yy),window.localStorage.removeItem(nS),window.localStorage.removeItem(tS)),e.extensionActive){try{yield(r=e.activeProvider)===null||r===void 0?void 0:r.request({method:Ut.WALLET_REVOKEPERMISSIONS,params:[{eth_accounts:{}}]})}catch(o){De("[MetaMaskSDK: terminate()] error revoking permissions",o)}return e.options.extensionOnly?(e.emit(uo.ProviderUpdate,Sa.TERMINATE),void De("[MetaMaskSDK: terminate()] extensionOnly --- prevent switching providers")):(e.activeProvider=e.sdkProvider,window.ethereum=e.activeProvider,e.extensionActive=!1,void e.emit(uo.ProviderUpdate,Sa.TERMINATE))}e.emit(uo.ProviderUpdate,Sa.TERMINATE),De(`[MetaMaskSDK: terminate()] remoteConnection=${e.remoteConnection}`),(i=e.remoteConnection)===null||i===void 0||i.disconnect({terminate:!0,sendMessage:!0})}})}(this)}isInitialized(){return this._initialized}setReadOnlyRPCCalls(e){this.readonlyRPCCalls=e}hasReadOnlyRPCCalls(){return this.readonlyRPCCalls}getProvider(){if(this.activeProvider)return this.activeProvider;console.warn("MetaMaskSDK: No active provider found")}getMobileProvider(){if(!this.sdkProvider)throw new Error("SDK state invalid -- undefined mobile provider");return this.sdkProvider}getUniversalLink(){var e;const n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getUniversalLink();if(!n)throw new Error("No Universal Link available, please call eth_requestAccounts first.");return n}getChannelId(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getChannelConfig())===null||n===void 0?void 0:n.channelId}getRPCHistory(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0?void 0:n.getRPCMethodTracker()}getVersion(){return Id.version}getDappId(){var e,n,r,i;return typeof window>"u"||window.location===void 0?(i=(n=(e=this.options.dappMetadata)===null||e===void 0?void 0:e.name)!==null&&n!==void 0?n:(r=this.options.dappMetadata)===null||r===void 0?void 0:r.url)!==null&&i!==void 0?i:"N/A":window.location.hostname}getAnonId(){var e,n;return qe(this,void 0,void 0,function*(){if(this._anonId)return this._anonId;let r;return r=!((e=this.platformManager)===null||e===void 0)&&e.isBrowser()?this.getBrowserAnonId():!((n=this.platformManager)===null||n===void 0)&&n.isReactNative()?yield this.getReactNativeAnonId():dc(),this._anonId=r,r})}getBrowserAnonId(){const e=this.ANON_ID_STORAGE_KEY;try{const n=localStorage.getItem(e);if(n)return n;const r=dc();return localStorage.setItem(e,r),r}catch(n){return console.error("[MetaMaskSDK: getBrowserAnonId()] LocalStorage access error:",n),dc()}}getReactNativeAnonId(){return qe(this,void 0,void 0,function*(){const e=this.ANON_ID_STORAGE_KEY;try{const n=require("@react-native-async-storage/async-storage").default,r=yield n.getItem(e);if(r)return r;const i=dc();return yield n.setItem(e,i),i}catch(n){return console.error("[MetaMaskSDK: getReactNativeAnonId()] Error accessing AsyncStorage:",n),dc()}})}getWalletStatus(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0?void 0:n.getConnectionStatus()}_getChannelConfig(){var e;return(e=this.remoteConnection)===null||e===void 0?void 0:e.getChannelConfig()}_ping(){var e,n;(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0||n.ping()}_keyCheck(){var e,n;(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0||n.keyCheck()}_getServiceStatus(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0?void 0:n.getServiceStatus()}_getRemoteConnection(){return this.remoteConnection}_getDappMetadata(){return this.dappMetadata}_getKeyInfo(){var e;return(e=this.remoteConnection)===null||e===void 0?void 0:e.getKeyInfo()}_resetKeys(){var e,n;(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0||n.resetKeys()}_getConnection(){return this.remoteConnection}emit(e,n){return super.emit(e,n)}on(e,n){return super.on(e,n)}}var oee=Object.freeze({__proto__:null,StorageManagerWeb:class{constructor({enabled:t}={enabled:!1}){this.enabled=!1,this.enabled=t}persistChannelConfig(t){return qe(this,void 0,void 0,function*(){const e=JSON.stringify(t);De(`[StorageManagerWeb: persistChannelConfig()] enabled=${this.enabled}`,t),localStorage.setItem(dx,e)})}getPersistedChannelConfig(){return qe(this,void 0,void 0,function*(){let t;try{if(De(`[StorageManagerWeb: getPersistedChannelConfig()] enabled=${this.enabled}`),t=localStorage.getItem(dx),De("[StorageManagerWeb: getPersistedChannelConfig()]",t),!t)return;const e=JSON.parse(t);return De("[StorageManagerWeb: getPersistedChannelConfig()] channelConfig",e),e}catch(e){return void console.error("[StorageManagerWeb: getPersistedChannelConfig()] Can't find existing channel config",e)}})}persistAccounts(t){return qe(this,void 0,void 0,function*(){De(`[StorageManagerWeb: persistAccounts()] enabled=${this.enabled}`,t);const e=JSON.stringify(t);localStorage.setItem(tS,e)})}getCachedAccounts(){return qe(this,void 0,void 0,function*(){try{const t=localStorage.getItem(tS);return t?JSON.parse(t):[]}catch(t){throw console.error("[StorageManagerWeb: getCachedAccounts()] Error reading cached accounts",t),t}})}persistChainId(t){return qe(this,void 0,void 0,function*(){De(`[StorageManagerWeb: persistChainId()] enabled=${this.enabled}`,t),localStorage.setItem(nS,t)})}getCachedChainId(){return qe(this,void 0,void 0,function*(){try{const t=localStorage.getItem(nS);return t??void 0}catch(t){throw console.error("[StorageManagerWeb: getCachedChainId()] Error reading cached chainId",t),t}})}terminate(){return qe(this,void 0,void 0,function*(){De(`[StorageManagerWeb: terminate()] enabled=${this.enabled}`),localStorage.removeItem(dx)})}}});const see="hydrated",aee=!1,cee=!0;var lee=Object.defineProperty,o4=new WeakMap,Ul=t=>o4.get(t),s4=(t,e)=>o4.set(e.$lazyInstance$=t,e),eO=(t,e)=>e in t,dd=(t,e)=>(0,console.error)(t,e),fx=new Map,ly=new Map,ID="slot-fb{display:contents}slot-fb[hidden]{display:none}",a1=typeof window<"u"?window:{},ba=a1.document||{head:{}},ti={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,r)=>t.addEventListener(e,n,r),rel:(t,e,n,r)=>t.removeEventListener(e,n,r),ce:(t,e)=>new CustomEvent(t,e)},kD=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),iS=!1,tO=[],MD=[],uee=(t,e)=>n=>{t.push(n),iS||(iS=!0,4&ti.$flags$?a4(oS):ti.raf(oS))},nO=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){dd(n)}t.length=0},oS=()=>{nO(tO),nO(MD),(iS=tO.length>0)&&ti.raf(oS)},a4=t=>(e=>Promise.resolve(e))().then(t),dee=uee(MD),rO={},c4=t=>(t=typeof t)=="object"||t==="function";function RD(t){var e,n,r;return(r=(n=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?r:void 0}((t,e)=>{for(var n in e)lee(t,n,{get:e[n],enumerable:!0})})({},{err:()=>OD,map:()=>fee,ok:()=>sS,unwrap:()=>hee,unwrapErr:()=>pee});var sS=t=>({isOk:!0,isErr:!1,value:t}),OD=t=>({isOk:!1,isErr:!0,value:t});function fee(t,e){if(t.isOk){const n=e(t.value);return n instanceof Promise?n.then(r=>sS(r)):sS(n)}if(t.isErr){const n=t.value;return OD(n)}throw"should never get here"}var l4,hee=t=>{if(t.isOk)return t.value;throw t.value},pee=t=>{if(t.isErr)return t.value;throw t.value},Fe=(t,e,...n)=>{let r=null,i=!1,o=!1;const s=[],a=l=>{for(let u=0;u<l.length;u++)r=l[u],Array.isArray(r)?a(r):r!=null&&typeof r!="boolean"&&((i=typeof t!="function"&&!c4(r))&&(r=String(r)),i&&o?s[s.length-1].$text$+=r:s.push(i?Xy(null,r):r),o=i)};if(a(n),e){const l=e.className||e.class;l&&(e.class=typeof l!="object"?l:Object.keys(l).filter(u=>l[u]).join(" "))}if(typeof t=="function")return t(e===null?{}:e,s,mee);const c=Xy(t,null);return c.$attrs$=e,s.length>0&&(c.$children$=s),c},Xy=(t,e)=>({$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null,$attrs$:null}),gee={},mee={forEach:(t,e)=>t.map(iO).forEach(e),map:(t,e)=>t.map(iO).map(e).map(vee)},iO=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),vee=t=>{if(typeof t.vtag=="function"){const n={...t.vattrs};return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),Fe(t.vtag,n,...t.vchildren||[])}const e=Xy(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},c1=t=>Ul(t).$hostElement$,Kl=(t,e,n)=>{const r=c1(t);return{emit:i=>TD(r,e,{bubbles:!0,composed:!0,cancelable:!0,detail:i})}},TD=(t,e,n)=>{const r=ti.ce(e,n);return t.dispatchEvent(r),r},oO=new WeakMap,yee=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,r=e.$flags$;e.$tagName$;const i=((o,s,a)=>{var c;const l=ND(s),u=ly.get(l);if(o=o.nodeType===11?o:ba,u)if(typeof u=="string"){o=o.head||o;let f,p=oO.get(o);if(p||oO.set(o,p=new Set),!p.has(l)){{f=ba.createElement("style"),f.innerHTML=u;const m=(c=ti.$nonce$)!=null?c:RD(ba);if(m!=null&&f.setAttribute("nonce",m),!(1&s.$flags$))if(o.nodeName==="HEAD"){const w=o.querySelectorAll("link[rel=preconnect]"),y=w.length>0?w[w.length-1].nextSibling:o.querySelector("style");o.insertBefore(f,y)}else if("host"in o)if(kD){const w=new CSSStyleSheet;w.replaceSync(u),o.adoptedStyleSheets=[w,...o.adoptedStyleSheets]}else{const w=o.querySelector("style");w?w.innerHTML=u+w.innerHTML:o.prepend(f)}else o.append(f);1&s.$flags$&&o.nodeName!=="HEAD"&&o.insertBefore(f,null)}4&s.$flags$&&(f.innerHTML+=ID),p&&p.add(l)}}else o.adoptedStyleSheets.includes(u)||(o.adoptedStyleSheets=[...o.adoptedStyleSheets,u]);return l})(n.shadowRoot?n.shadowRoot:n.getRootNode(),e);10&r&&2&r&&(n["s-sc"]=i,n.classList.add(i+"-h"))},ND=(t,e)=>"sc-"+t.$tagName$,sO=(t,e,n,r,i,o)=>{if(n!==r){let s=eO(t,e),a=e.toLowerCase();if(e==="class"){const c=t.classList,l=aO(n),u=aO(r);c.remove(...l.filter(f=>f&&!u.includes(f))),c.add(...u.filter(f=>f&&!l.includes(f)))}else if(e==="style"){for(const c in n)r&&r[c]!=null||(c.includes("-")?t.style.removeProperty(c):t.style[c]="");for(const c in r)n&&r[c]===n[c]||(c.includes("-")?t.style.setProperty(c,r[c]):t.style[c]=r[c])}else if(s||e[0]!=="o"||e[1]!=="n"){const c=c4(r);if((s||c&&r!==null)&&!i)try{if(t.tagName.includes("-"))t[e]=r;else{const l=r??"";e==="list"?s=!1:n!=null&&t[e]==l||(typeof t.__lookupSetter__(e)=="function"?t[e]=l:t.setAttribute(e,l))}}catch{}r==null||r===!1?r===!1&&t.getAttribute(e)!==""||t.removeAttribute(e):(!s||4&o||i)&&!c&&(r=r===!0?"":r,t.setAttribute(e,r))}else if(e=e[2]==="-"?e.slice(3):eO(a1,a)?a.slice(2):a[2]+e.slice(3),n||r){const c=e.endsWith(PD);e=e.replace(bee,""),n&&ti.rel(t,e,n,c),r&&ti.ael(t,e,r,c)}}},wee=/\s/,aO=t=>t?t.split(wee):[],PD="Capture",bee=new RegExp(PD+"$"),LD=(t,e,n)=>{const r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,i=t&&t.$attrs$||rO,o=e.$attrs$||rO;for(const s of cO(Object.keys(i)))s in o||sO(r,s,i[s],void 0,n,e.$flags$);for(const s of cO(Object.keys(o)))sO(r,s,i[s],o[s],n,e.$flags$)};function cO(t){return t.includes("ref")?[...t.filter(e=>e!=="ref"),"ref"]:t}var ss=!1,u4=(t,e,n,r)=>{const i=e.$children$[n];let o,s,a=0;if(i.$text$!==null)o=i.$elm$=ba.createTextNode(i.$text$);else{if(ss||(ss=i.$tag$==="svg"),o=i.$elm$=ba.createElementNS(ss?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",i.$tag$),ss&&i.$tag$==="foreignObject"&&(ss=!1),LD(null,i,ss),o.getRootNode().querySelector("body"),i.$children$)for(a=0;a<i.$children$.length;++a)s=u4(t,i,a),s&&o.appendChild(s);i.$tag$==="svg"?ss=!1:o.tagName==="foreignObject"&&(ss=!0)}return o["s-hn"]=l4,o},lO=(t,e,n,r,i,o)=>{let s,a=t;for(a.shadowRoot&&a.tagName===l4&&(a=a.shadowRoot);i<=o;++i)r[i]&&(s=u4(null,n,i),s&&(r[i].$elm$=s,uy(a,s,e)))},uO=(t,e,n)=>{for(let r=e;r<=n;++r){const i=t[r];if(i){const o=i.$elm$;o&&o.remove()}}},Ev=(t,e,n=!1)=>t.$tag$===e.$tag$,Bp=(t,e,n=!1)=>{const r=e.$elm$=t.$elm$,i=t.$children$,o=e.$children$,s=e.$tag$,a=e.$text$;a===null?(LD(t,e,ss=s==="svg"||s!=="foreignObject"&&ss),i!==null&&o!==null?((c,l,u,f,p=!1)=>{let m,w=0,y=0,I=l.length-1,S=l[0],T=l[I],N=f.length-1,z=f[0],$=f[N];for(;w<=I&&y<=N;)S==null?S=l[++w]:T==null?T=l[--I]:z==null?z=f[++y]:$==null?$=f[--N]:Ev(S,z,p)?(Bp(S,z,p),S=l[++w],z=f[++y]):Ev(T,$,p)?(Bp(T,$,p),T=l[--I],$=f[--N]):Ev(S,$,p)?(Bp(S,$,p),uy(c,S.$elm$,T.$elm$.nextSibling),S=l[++w],$=f[--N]):Ev(T,z,p)?(Bp(T,z,p),uy(c,T.$elm$,S.$elm$),T=l[--I],z=f[++y]):(m=u4(l&&l[y],u,y),z=f[++y],m&&uy(S.$elm$.parentNode,m,S.$elm$));w>I?lO(c,f[N+1]==null?null:f[N+1].$elm$,u,f,y,N):y>N&&uO(l,w,I)})(r,i,e,o,n):o!==null?(t.$text$!==null&&(r.textContent=""),lO(r,null,e,o,0,o.length-1)):!n&&cee&&i!==null&&uO(i,0,i.length-1),ss&&s==="svg"&&(ss=!1)):t.$text$!==a&&(r.data=a)},uy=(t,e,n)=>t==null?void 0:t.insertBefore(e,n),Eee=(t,e,n=!1)=>{const r=t.$hostElement$,i=t.$cmpMeta$,o=t.$vnode$||Xy(null,null),s=(a=e)&&a.$tag$===gee?e:Fe(null,null,e);var a;if(l4=r.tagName,n&&s.$attrs$)for(const c of Object.keys(s.$attrs$))r.hasAttribute(c)&&!["key","ref","style","class"].includes(c)&&(s.$attrs$[c]=r[c]);s.$tag$=null,s.$flags$|=4,t.$vnode$=s,s.$elm$=o.$elm$=r.shadowRoot||r,r["s-sc"],1&i.$flags$,Bp(o,s,n)},BD=(t,e)=>{e&&!t.$onRenderResolve$&&e["s-p"]&&e["s-p"].push(new Promise(n=>t.$onRenderResolve$=n))},d4=(t,e)=>(t.$flags$|=16,4&t.$flags$?void(t.$flags$|=512):(BD(t,t.$ancestorComponent$),dee(()=>xee(t,e)))),xee=(t,e)=>{const n=t.$hostElement$;t.$cmpMeta$.$tagName$;const r=t.$lazyInstance$;if(!r)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);return _ee(void 0,()=>Cee(t,r,e))},_ee=(t,e)=>See(t)?t.then(e).catch(n=>{console.error(n),e()}):e(),See=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",Cee=async(t,e,n)=>{var r;const i=t.$hostElement$;t.$cmpMeta$.$tagName$;const o=i["s-rc"];n&&yee(t),t.$cmpMeta$.$tagName$,Aee(t,e,i,n),o&&(o.map(s=>s()),i["s-rc"]=void 0);{const s=(r=i["s-p"])!=null?r:[],a=()=>Iee(t);s.length===0?a():(Promise.all(s).then(a),t.$flags$|=4,s.length=0)}},Aee=(t,e,n,r)=>{try{e=e.render(),t.$flags$&=-17,t.$flags$|=2,Eee(t,e,r)}catch(i){dd(i,t.$hostElement$)}return null},Iee=t=>{t.$cmpMeta$.$tagName$;const e=t.$hostElement$,n=()=>{},r=t.$lazyInstance$,i=t.$ancestorComponent$;64&t.$flags$?n():(t.$flags$|=64,jD(e),f4(r,"componentDidLoad"),t.$onReadyResolve$(e),i||DD()),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),512&t.$flags$&&a4(()=>d4(t,!1)),t.$flags$&=-517},DD=t=>{jD(ba.documentElement),a4(()=>TD(a1,"appload",{detail:{namespace:"sdk-install-modal-web"}}))},f4=(t,e,n)=>{if(t&&t[e])try{return t[e](n)}catch(r){dd(r)}},jD=t=>{var e;return t.classList.add((e=see)!=null?e:"hydrated")},kee=(t,e,n,r)=>{const i=Ul(t);if(!i)throw new Error(`Couldn't find host element for "${r.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const o=i.$hostElement$,s=i.$instanceValues$.get(e),a=i.$flags$,c=i.$lazyInstance$;var l,u;l=n,u=r.$members$[e][0],n=l==null||c4(l)?l:4&u?l!=="false"&&(l===""||!!l):1&u?String(l):l;const f=Number.isNaN(s)&&Number.isNaN(n);if((!(8&a)||s===void 0)&&n!==s&&!f&&(i.$instanceValues$.set(e,n),c)){if(r.$watchers$&&128&a){const p=r.$watchers$[e];p&&p.map(m=>{try{c[m](n,s,e)}catch(w){dd(w,o)}})}(18&a)==2&&d4(i,!1)}},$D=(t,e,n)=>{var r,i;const o=t.prototype;if(e.$members$||e.$watchers$||t.watchers){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers);const s=Object.entries((r=e.$members$)!=null?r:{});if(s.map(([a,[c]])=>{(31&c||2&n&&32&c)&&Object.defineProperty(o,a,{get(){return l=a,Ul(this).$instanceValues$.get(l);var l},set(l){kee(this,a,l,e)},configurable:!0,enumerable:!0})}),1&n){const a=new Map;o.attributeChangedCallback=function(c,l,u){ti.jmp(()=>{var f;const p=a.get(c);if(this.hasOwnProperty(p))u=this[p],delete this[p];else{if(o.hasOwnProperty(p)&&typeof this[p]=="number"&&this[p]==u)return;if(p==null){const m=Ul(this),w=m==null?void 0:m.$flags$;if(w&&!(8&w)&&128&w&&u!==l){const y=m.$lazyInstance$,I=(f=e.$watchers$)==null?void 0:f[c];I==null||I.forEach(S=>{y[S]!=null&&y[S].call(y,u,l,c)})}return}}this[p]=(u!==null||typeof this[p]!="boolean")&&u})},t.observedAttributes=Array.from(new Set([...Object.keys((i=e.$watchers$)!=null?i:{}),...s.filter(([c,l])=>15&l[0]).map(([c,l])=>{const u=l[1]||c;return a.set(u,c),u})]))}}return t},Mee=async(t,e,n,r)=>{let i;if((32&e.$flags$)==0){if(e.$flags$|=32,n.$lazyBundleId$){const a=((c,l,u)=>{const f=c.$tagName$.replace(/-/g,"_"),p=c.$lazyBundleId$;if(!p)return;const m=fx.get(p);if(m)return m[f];{const w=y=>(fx.set(p,y),y[f]);if(p==="mm-install-modal_3")return Promise.resolve().then(function(){return Hee}).then(w,dd)}return In(()=>import(`./${p}.entry.js`),[]).then(w=>(fx.set(p,w),w[f]),dd)})(n);if(a&&"then"in a?i=await a:i=a,!i)throw new Error(`Constructor for "${n.$tagName$}#${e.$modeName$}" was not found`);i.isProxied||(n.$watchers$=i.watchers,$D(i,n,2),i.isProxied=!0),n.$tagName$,e.$flags$|=8;try{new i(e)}catch(c){dd(c)}e.$flags$&=-9,e.$flags$|=128,aS(e.$lazyInstance$)}else{i=t.constructor;const a=t.localName;customElements.whenDefined(a).then(()=>e.$flags$|=128)}if(i&&i.style){let a;typeof i.style=="string"&&(a=i.style);const c=ND(n);ly.has(c)||(n.$tagName$,((l,u,f)=>{let p=ly.get(l);kD&&f?(p=p||new CSSStyleSheet,typeof p=="string"?p=u:p.replaceSync(u)):p=u,ly.set(l,p)})(c,a,!!(1&n.$flags$)))}}const o=e.$ancestorComponent$,s=()=>d4(e,!0);o&&o["s-rc"]?o["s-rc"].push(s):s()},aS=t=>{f4(t,"connectedCallback")},dO=t=>{f4(t,"disconnectedCallback")},Ree=(t,e={})=>{var n;const r=[],i=e.exclude||[],o=a1.customElements,s=ba.head,a=s.querySelector("meta[charset]"),c=ba.createElement("style"),l=[];let u,f=!0;Object.assign(ti,e),ti.$resourcesUrl$=new URL(e.resourcesUrl||"./",ba.baseURI).href;let p=!1;if(t.map(m=>{m[1].map(w=>{var y;const I={$flags$:w[0],$tagName$:w[1],$members$:w[2],$listeners$:w[3]};4&I.$flags$&&(p=!0),I.$members$=w[2],I.$watchers$=(y=w[4])!=null?y:{};const S=I.$tagName$,T=class extends HTMLElement{constructor(N){if(super(N),this.hasRegisteredEventListeners=!1,((z,$)=>{const H={$flags$:0,$hostElement$:z,$cmpMeta$:$,$instanceValues$:new Map};H.$onReadyPromise$=new Promise(K=>H.$onReadyResolve$=K),z["s-p"]=[],z["s-rc"]=[],o4.set(z,H)})(N=this,I),1&I.$flags$)if(N.shadowRoot){if(N.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${I.$tagName$}! Mode is set to ${N.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else N.attachShadow({mode:"open"})}connectedCallback(){Ul(this),this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0),u&&(clearTimeout(u),u=null),f?l.push(this):ti.jmp(()=>(N=>{if((1&ti.$flags$)==0){const z=Ul(N),$=z.$cmpMeta$;if($.$tagName$,1&z.$flags$)z!=null&&z.$lazyInstance$?aS(z.$lazyInstance$):z!=null&&z.$onReadyPromise$&&z.$onReadyPromise$.then(()=>aS(z.$lazyInstance$));else{z.$flags$|=1;{let H=N;for(;H=H.parentNode||H.host;)if(H["s-p"]){BD(z,z.$ancestorComponent$=H);break}}$.$members$&&Object.entries($.$members$).map(([H,[K]])=>{if(31&K&&N.hasOwnProperty(H)){const j=N[H];delete N[H],N[H]=j}}),Mee(N,z,$)}}})(this))}disconnectedCallback(){ti.jmp(()=>(async N=>{if((1&ti.$flags$)==0){const z=Ul(N);z!=null&&z.$lazyInstance$?dO(z.$lazyInstance$):z!=null&&z.$onReadyPromise$&&z.$onReadyPromise$.then(()=>dO(z.$lazyInstance$))}})(this))}componentOnReady(){return Ul(this).$onReadyPromise$}};I.$lazyBundleId$=m[0],i.includes(S)||o.get(S)||(r.push(S),o.define(S,$D(T,I,1)))})}),r.length>0&&(p&&(c.textContent+=ID),c.textContent+=r.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",c.innerHTML.length)){c.setAttribute("data-styles","");const m=(n=ti.$nonce$)!=null?n:RD(ba);m!=null&&c.setAttribute("nonce",m),s.insertBefore(c,a?a.nextSibling:s.firstChild)}f=!1,l.length?l.map(m=>m.connectedCallback()):ti.jmp(()=>u=setTimeout(DD,30))};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var t=HTMLElement;window.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}})();var Oee=Object.freeze({__proto__:null,defineCustomElements:async(t,e)=>{if(typeof window<"u")return await void 0,Ree([["mm-install-modal_3",[[1,"mm-install-modal",{link:[1],sdkVersion:[1,"sdk-version"],preferDesktop:[4,"prefer-desktop"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:["updatePreferDesktop"]}],[1,"mm-pending-modal",{displayOTP:[4,"display-o-t-p"],sdkVersion:[1,"sdk-version"],otpCode:[1,"otp-code"],translationsLoaded:[32]}],[1,"mm-select-modal",{link:[1],sdkVersion:[1,"sdk-version"],preferDesktop:[4,"prefer-desktop"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:["updatePreferDesktop"]}]]]],e)},setNonce:t=>ti.$nonce$=t});const Tee={fontFamily:"Roboto, sans-serif"},h4=({className:t},e)=>Fe("div",{style:Tee,class:t},e),hx=({Icon:t,text:e})=>Fe("div",{class:"flexContainer",style:{padding:"6",flexDirection:"row"}},Fe("div",{class:"flexItem1"},Fe(t,null)),Fe("div",{class:"flexItem11"},Fe("span",{style:{lineHeight:"2",color:"black"}},e))),Nee=()=>Fe("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Fe("path",{d:"M20.0002 7.9702V10.0302C20.0002 10.5802 19.5602 11.0302 19.0002 11.0502H17.0402C15.9602 11.0502 14.9702 10.2602 14.8802 9.1802C14.8202 8.5502 15.0602 7.9602 15.4802 7.5502C15.8502 7.1702 16.3602 6.9502 16.9202 6.9502H19.0002C19.5602 6.9702 20.0002 7.4202 20.0002 7.9702Z",fill:"#037DD6"}),Fe("path",{d:"M18.47 12.55H17.04C15.14 12.55 13.54 11.12 13.38 9.3C13.29 8.26 13.67 7.22 14.43 6.48C15.07 5.82 15.96 5.45 16.92 5.45H18.47C18.76 5.45 19 5.21 18.97 4.92C18.75 2.49 17.14 0.83 14.75 0.55C14.51 0.51 14.26 0.5 14 0.5H5C4.72 0.5 4.45 0.52 4.19 0.56C1.64 0.88 0 2.78 0 5.5V12.5C0 15.26 2.24 17.5 5 17.5H14C16.8 17.5 18.73 15.75 18.97 13.08C19 12.79 18.76 12.55 18.47 12.55ZM11 6.75H5C4.59 6.75 4.25 6.41 4.25 6C4.25 5.59 4.59 5.25 5 5.25H11C11.41 5.25 11.75 5.59 11.75 6C11.75 6.41 11.41 6.75 11 6.75Z",fill:"#037DD6"})),Pee=()=>Fe("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Fe("path",{d:"M14.44 0.0999756C12.63 0.0999756 11.01 0.979976 10 2.32998C8.99 0.979976 7.37 0.0999756 5.56 0.0999756C2.49 0.0999756 0 2.59998 0 5.68998C0 6.87998 0.19 7.97998 0.52 8.99998C2.1 14 6.97 16.99 9.38 17.81C9.72 17.93 10.28 17.93 10.62 17.81C13.03 16.99 17.9 14 19.48 8.99998C19.81 7.97998 20 6.87998 20 5.68998C20 2.59998 17.51 0.0999756 14.44 0.0999756Z",fill:"#037DD6"})),Lee=()=>Fe("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Fe("path",{d:"M16.28 7.53V6.28C16.28 3.58 15.63 0 10 0C4.37 0 3.72 3.58 3.72 6.28V7.53C0.92 7.88 0 9.3 0 12.79V14.65C0 18.75 1.25 20 5.35 20H14.65C18.75 20 20 18.75 20 14.65V12.79C20 9.3 19.08 7.88 16.28 7.53ZM10 16.74C8.33 16.74 6.98 15.38 6.98 13.72C6.98 12.05 8.34 10.7 10 10.7C11.66 10.7 13.02 12.06 13.02 13.72C13.02 15.39 11.67 16.74 10 16.74ZM5.35 7.44C5.27 7.44 5.2 7.44 5.12 7.44V6.28C5.12 3.35 5.95 1.4 10 1.4C14.05 1.4 14.88 3.35 14.88 6.28V7.45C14.8 7.45 14.73 7.45 14.65 7.45H5.35V7.44Z",fill:"#037DD6"})),Bee=()=>Fe("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Fe("path",{d:"M16.4405 8.8999C20.0405 9.2099 21.5105 11.0599 21.5105 15.1099V15.2399C21.5105 19.7099 19.7205 21.4999 15.2505 21.4999H8.74047C4.27047 21.4999 2.48047 19.7099 2.48047 15.2399V15.1099C2.48047 11.0899 3.93047 9.2399 7.47047 8.9099",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Fe("path",{d:"M12 2V14.88",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Fe("path",{d:"M15.3504 12.6499L12.0004 15.9999L8.65039 12.6499",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));function p4({version:t}){return Fe("div",{style:{textAlign:"center",color:"#BBC0C5",fontSize:"12"}},"SDK Version ",t?`v${t}`:"unknown")}const g4=()=>Fe("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Fe("rect",{width:"16",height:"16",fill:"white"}),Fe("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.40554 2.40554C2.94627 1.86482 3.82296 1.86482 4.36369 2.40554L8 6.04186L11.6363 2.40554C12.177 1.86482 13.0537 1.86482 13.5945 2.40554C14.1352 2.94627 14.1352 3.82296 13.5945 4.36369L9.95814 8L13.5945 11.6363C14.1352 12.177 14.1352 13.0537 13.5945 13.5945C13.0537 14.1352 12.177 14.1352 11.6363 13.5945L8 9.95814L4.36369 13.5945C3.82296 14.1352 2.94627 14.1352 2.40554 13.5945C1.86482 13.0537 1.86482 12.177 2.40554 11.6363L6.04186 8L2.40554 4.36369C1.86482 3.82296 1.86482 2.94627 2.40554 2.40554Z",fill:"#BBC0C5"})),m4=()=>Fe("svg",{width:"120",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 127 63"},Fe("path",{fill:"currentColor",d:"M71.554 48.607v13.81h-7.072v-9.568l-8.059.945c-1.77.205-2.548.79-2.548 1.864 0 1.575 1.478 2.239 4.648 2.239 1.932 0 4.073-.29 5.963-.79l-3.66 5.225c-1.479.332-2.92.496-4.44.496-6.414 0-10.074-2.57-10.074-7.132 0-4.023 2.877-6.136 9.416-6.884l8.638-1.012c-.467-2.532-2.362-3.633-6.13-3.633-3.537 0-7.443.912-10.937 2.613l1.111-6.18c3.248-1.369 6.95-2.074 10.69-2.074 8.226 0 12.461 3.444 12.461 10.075l-.008.005ZM7.938 31.315.208 62.416h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73l-7.73-31.105-14.518 17.388L7.934 31.311l.004.004ZM36.97.21 22.452 17.598 7.938.21.208 31.315h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73L36.97.21Zm53.17 48.107-6.25-.912c-1.562-.247-2.178-.747-2.178-1.617 0-1.41 1.52-2.032 4.647-2.032 3.62 0 6.868.747 10.283 2.364l-.862-6.094c-2.757-.995-5.922-1.491-9.212-1.491-7.688 0-11.886 2.696-11.886 7.547 0 3.776 2.303 5.889 7.196 6.636l6.335.954c1.603.248 2.261.87 2.261 1.865 0 1.41-1.478 2.074-4.481 2.074-3.948 0-8.225-.953-11.72-2.654l.7 6.094c3.003 1.122 6.91 1.785 10.57 1.785 7.896 0 12.007-2.78 12.007-7.715 0-3.94-2.303-6.057-7.4-6.8l-.01-.004ZM100.3 34.09v28.325h7.071V34.091H100.3Zm15.334 15.595 9.833-10.744h-8.8l-9.296 11.114 9.912 12.356h8.925l-10.574-12.73v.004Zm-16.321-25.09c0 4.56 3.66 7.13 10.074 7.13 1.52 0 2.961-.167 4.44-.495l3.66-5.225c-1.89.496-4.031.79-5.963.79-3.166 0-4.648-.664-4.648-2.239 0-1.079.783-1.659 2.549-1.864l8.058-.945v9.567h7.072v-13.81c0-6.635-4.236-10.075-12.461-10.075-3.744 0-7.442.705-10.691 2.075l-1.112 6.178c3.495-1.701 7.401-2.613 10.937-2.613 3.769 0 5.664 1.1 6.13 3.633l-8.637 1.013c-6.539.747-9.417 2.86-9.417 6.883l.009-.004Zm-19.779-1.492c0 5.725 3.29 8.627 9.787 8.627 2.59 0 4.732-.416 6.785-1.37l.903-6.261c-1.974 1.2-3.99 1.822-6.005 1.822-3.044 0-4.402-1.243-4.402-4.023v-8.295h10.732V7.84H86.601V2.948l-13.448 7.174v3.482h6.372V23.1l.008.004Zm-6.95-2.612v1.411H53.47c.862 2.873 3.423 4.187 7.97 4.187 3.62 0 6.993-.747 9.992-2.196l-.862 6.056c-2.757 1.16-6.251 1.785-9.829 1.785-9.5 0-14.68-4.23-14.68-12.066 0-7.838 5.264-12.235 13.406-12.235s13.119 4.771 13.119 13.062l-.005-.004ZM53.378 17.09h12.086c-.637-2.751-2.732-4.188-6.08-4.188-3.349 0-5.335 1.399-6.006 4.188Z"}));function Lu(t,e){return t.toString(2).padStart(e,"0")}function fO(t,e){const n=t%e;return n>=0?n:e+n}function Ro(t,e){return new Array(t).fill(e)}function hO(...t){let e=0;for(const r of t)e=Math.max(e,r.length);const n=[];for(let r=0;r<e;r++)for(const i of t)r>=i.length||n.push(i[r]);return new Uint8Array(n)}function pO(t,e,n){if(n<0||n+e.length>t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[n+r])return!1;return!0}function gO(t){return{has:e=>t.includes(e),decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=t.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${t}`);return r})},encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(n=>{if(function(r){if(!Number.isSafeInteger(r))throw new Error(`Wrong integer: ${r}`)}(n),n<0||n>=t.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${t.length})`);return t[n]})}}}class Ao{static size(e,n){if(typeof e=="number"&&(e={height:e,width:e}),!Number.isSafeInteger(e.height)&&e.height!==1/0)throw new Error(`Bitmap: wrong height=${e.height} (${typeof e.height})`);if(!Number.isSafeInteger(e.width)&&e.width!==1/0)throw new Error(`Bitmap: wrong width=${e.width} (${typeof e.width})`);return n!==void 0&&(e={width:Math.min(e.width,n.width),height:Math.min(e.height,n.height)}),e}static fromString(e){const n=(e=e.replace(/^\n+/g,"").replace(/\n+$/g,"")).split(`
`),r=n.length,i=new Array(r);let o;for(const s of n){const a=s.split("").map(c=>{if(c==="X")return!0;if(c===" ")return!1;if(c!=="?")throw new Error(`Bitmap.fromString: unknown symbol=${c}`)});if(o&&a.length!==o)throw new Error(`Bitmap.fromString different row sizes: width=${o} cur=${a.length}`);o=a.length,i.push(a)}return o||(o=0),new Ao({height:r,width:o},i)}constructor(e,n){const{height:r,width:i}=Ao.size(e);this.data=n||Array.from({length:r},()=>Ro(i,void 0)),this.height=r,this.width=i}point(e){return this.data[e.y][e.x]}isInside(e){return 0<=e.x&&e.x<this.width&&0<=e.y&&e.y<this.height}size(e){if(!e)return{height:this.height,width:this.width};const{x:n,y:r}=this.xy(e);return{height:this.height-r,width:this.width-n}}xy(e){if(typeof e=="number"&&(e={x:e,y:e}),!Number.isSafeInteger(e.x))throw new Error(`Bitmap: wrong x=${e.x}`);if(!Number.isSafeInteger(e.y))throw new Error(`Bitmap: wrong y=${e.y}`);return e.x=fO(e.x,this.width),e.y=fO(e.y,this.height),e}rect(e,n,r){const{x:i,y:o}=this.xy(e),{height:s,width:a}=Ao.size(n,this.size({x:i,y:o}));for(let c=0;c<s;c++)for(let l=0;l<a;l++)this.data[o+c][i+l]=typeof r=="function"?r({x:l,y:c},this.data[o+c][i+l]):r;return this}rectRead(e,n,r){return this.rect(e,n,(i,o)=>(r(i,o),o))}hLine(e,n,r){return this.rect(e,{width:n,height:1},r)}vLine(e,n,r){return this.rect(e,{width:1,height:n},r)}border(e=2,n){const r=this.height+2*e,i=this.width+2*e,o=Ro(e,n),s=Array.from({length:e},()=>Ro(i,n));return new Ao({height:r,width:i},[...s,...this.data.map(a=>[...o,...a,...o]),...s])}embed(e,n){return this.rect(e,n.size(),({x:r,y:i})=>n.data[i][r])}rectSlice(e,n=this.size()){const r=new Ao(Ao.size(n,this.size(this.xy(e))));return this.rect(e,n,({x:i,y:o},s)=>r.data[o][i]=s),r}inverse(){const{height:e,width:n}=this;return new Ao({height:n,width:e}).rect({x:0,y:0},1/0,({x:r,y:i})=>this.data[r][i])}scale(e){if(!Number.isSafeInteger(e)||e>1024)throw new Error(`Wrong scale factor: ${e}`);const{height:n,width:r}=this;return new Ao({height:e*n,width:e*r}).rect({x:0,y:0},1/0,({x:i,y:o})=>this.data[Math.floor(o/e)][Math.floor(i/e)])}clone(){return new Ao(this.size()).rect({x:0,y:0},this.size(),({x:e,y:n})=>this.data[n][e])}assertDrawn(){this.rectRead(0,1/0,(e,n)=>{if(typeof n!="boolean")throw new Error("Invalid color type="+typeof n)})}toString(){return this.data.map(e=>e.map(n=>n===void 0?"?":n?"X":" ").join("")).join(`
`)}toASCII(){const{height:e,width:n,data:r}=this;let i="";for(let o=0;o<e;o+=2){for(let s=0;s<n;s++){const a=r[o][s],c=o+1>=e||r[o+1][s];a||c?!a&&c?i+="":a&&!c?i+="":a&&c&&(i+=" "):i+=""}i+=`
`}return i}toTerm(){const e="\x1B[0m",n=`\x1B[1;47m  ${e}`,r=`\x1B[40m  ${e}`;return this.data.map(i=>i.map(o=>o?r:n).join("")).join(`
`)}toSVG(){let e=`<svg xmlns:svg="http://www.w3.org/2000/svg" viewBox="0 0 ${this.width} ${this.height}" version="1.1" xmlns="http://www.w3.org/2000/svg">`;return this.rectRead(0,1/0,({x:n,y:r},i)=>{i&&(e+=`<rect x="${n}" y="${r}" width="1" height="1" />`)}),e+="</svg>",e}toGIF(){const e=a=>[255&a,a>>>8&255],n=[...e(this.width),...e(this.height)],r=[];this.rectRead(0,1/0,(a,c)=>r.push(+(c===!0)));const i=126,o=[71,73,70,56,55,97,...n,246,0,0,255,255,255,...Ro(381,0),44,0,0,0,0,...n,0,7],s=Math.floor(r.length/i);for(let a=0;a<s;a++)o.push(127,128,...r.slice(i*a,i*(a+1)).map(c=>+c));return o.push(r.length%i+1,128,...r.slice(s*i).map(a=>+a)),o.push(1,129,0,59),new Uint8Array(o)}toImage(e=!1){const{height:n,width:r}=this.size(),i=new Uint8Array(n*r*(e?3:4));let o=0;for(let s=0;s<n;s++)for(let a=0;a<r;a++){const c=this.data[s][a]?0:255;i[o++]=c,i[o++]=c,i[o++]=c,e||(i[o++]=255)}return{height:n,width:r,data:i}}}const mO=["low","medium","quartile","high"],vO=["numeric","alphanumeric","byte","kanji","eci"],Dee=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],jee={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},$ee={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},ki={size:{encode:t=>21+4*(t-1),decode:t=>(t-17)/4},sizeType:t=>Math.floor((t+7)/17),alignmentPatterns(t){if(t===1)return[];const e=ki.size.encode(t)-6-1,n=e-6,r=Math.ceil(n/28);let i=Math.floor(n/r);i%2?i+=1:n%r*2>=r&&(i+=2);const o=[6];for(let s=1;s<r;s++)o.push(e-(r-s)*i);return o.push(e),o},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(t,e){const n=ki.ECCode[t]<<3|e;let r=n;for(let i=0;i<10;i++)r=r<<1^1335*(r>>9);return(n<<10|r)^ki.formatMask},versionBits(t){let e=t;for(let n=0;n<12;n++)e=e<<1^7973*(e>>11);return t<<12|e},alphabet:{numeric:gO("0123456789"),alphanumerc:gO("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:")},lengthBits:(t,e)=>({numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]})[e][ki.sizeType(t)],modeBits:{numeric:"0001",alphanumeric:"0010",byte:"0100",kanji:"1000",eci:"0111"},capacity(t,e){const n=Dee[t-1],r=jee[e][t-1],i=$ee[e][t-1],o=Math.floor(n/i)-r,s=i-n%i;return{words:r,numBlocks:i,shortBlocks:s,blockLen:o,capacity:8*(n-r*i),total:(r+o)*i+i-s}}},cS=[(t,e)=>(t+e)%2==0,(t,e)=>e%2==0,(t,e)=>t%3==0,(t,e)=>(t+e)%3==0,(t,e)=>(Math.floor(e/2)+Math.floor(t/3))%2==0,(t,e)=>t*e%2+t*e%3==0,(t,e)=>(t*e%2+t*e%3)%2==0,(t,e)=>((t+e)%2+t*e%3)%2==0],bt={tables:(t=>{const e=Ro(256,0),n=Ro(256,0);for(let r=0,i=1;r<256;r++)e[r]=i,n[i]=r,i<<=1,256&i&&(i^=285);return{exp:e,log:n}})(),exp:t=>bt.tables.exp[t],log(t){if(t===0)throw new Error(`GF.log: wrong arg=${t}`);return bt.tables.log[t]%255},mul:(t,e)=>t===0||e===0?0:bt.tables.exp[(bt.tables.log[t]+bt.tables.log[e])%255],add:(t,e)=>t^e,pow:(t,e)=>bt.tables.exp[bt.tables.log[t]*e%255],inv(t){if(t===0)throw new Error(`GF.inverse: wrong arg=${t}`);return bt.tables.exp[255-bt.tables.log[t]]},polynomial(t){if(t.length==0)throw new Error("GF.polymomial: wrong length");if(t[0]!==0)return t;let e=0;for(;e<t.length-1&&t[e]==0;e++);return t.slice(e)},monomial(t,e){if(t<0)throw new Error(`GF.monomial: wrong degree=${t}`);if(e==0)return[0];let n=Ro(t+1,0);return n[0]=e,bt.polynomial(n)},degree:t=>t.length-1,coefficient:(t,e)=>t[bt.degree(t)-e],mulPoly(t,e){if(t[0]===0||e[0]===0)return[0];const n=Ro(t.length+e.length-1,0);for(let r=0;r<t.length;r++)for(let i=0;i<e.length;i++)n[r+i]=bt.add(n[r+i],bt.mul(t[r],e[i]));return bt.polynomial(n)},mulPolyScalar(t,e){if(e==0)return[0];if(e==1)return t;const n=Ro(t.length,0);for(let r=0;r<t.length;r++)n[r]=bt.mul(t[r],e);return bt.polynomial(n)},mulPolyMonomial(t,e,n){if(e<0)throw new Error("GF.mulPolyMonomial: wrong degree");if(n==0)return[0];const r=Ro(t.length+e,0);for(let i=0;i<t.length;i++)r[i]=bt.mul(t[i],n);return bt.polynomial(r)},addPoly(t,e){if(t[0]===0)return e;if(e[0]===0)return t;let n=t,r=e;n.length>r.length&&([n,r]=[r,n]);let i=Ro(r.length,0),o=r.length-n.length,s=r.slice(0,o);for(let a=0;a<s.length;a++)i[a]=s[a];for(let a=o;a<r.length;a++)i[a]=bt.add(n[a-o],r[a]);return bt.polynomial(i)},remainderPoly(t,e){const n=Array.from(t);for(let r=0;r<t.length-e.length+1;r++){const i=n[r];if(i!==0)for(let o=1;o<e.length;o++)e[o]!==0&&(n[r+o]=bt.add(n[r+o],bt.mul(e[o],i)))}return n.slice(t.length-e.length+1,n.length)},divisorPoly(t){let e=[1];for(let n=0;n<t;n++)e=bt.mulPoly(e,[1,bt.pow(2,n)]);return e},evalPoly(t,e){if(e==0)return bt.coefficient(t,0);let n=t[0];for(let r=1;r<t.length;r++)n=bt.add(bt.mul(e,n),t[r]);return n},euclidian(t,e,n){bt.degree(t)<bt.degree(e)&&([t,e]=[e,t]);let r=t,i=e,o=[0],s=[1];for(;2*bt.degree(i)>=n;){let l=r,u=o;if(r=i,o=s,r[0]===0)throw new Error("rLast[0] === 0");i=l;let f=[0];const p=bt.inv(r[0]);for(;bt.degree(i)>=bt.degree(r)&&i[0]!==0;){const m=bt.degree(i)-bt.degree(r),w=bt.mul(i[0],p);f=bt.addPoly(f,bt.monomial(m,w)),i=bt.addPoly(i,bt.mulPolyMonomial(r,m,w))}if(f=bt.mulPoly(f,o),s=bt.addPoly(f,u),bt.degree(i)>=bt.degree(r))throw new Error(`Division failed r: ${i}, rLast: ${r}`)}const a=bt.coefficient(s,0);if(a==0)throw new Error("sigmaTilde(0) was zero");const c=bt.inv(a);return[bt.mulPolyScalar(s,c),bt.mulPolyScalar(i,c)]}};function Fee(t,e){const{words:n,shortBlocks:r,numBlocks:i,blockLen:o,total:s}=ki.capacity(t,e),a=(c=n,{encode(l){const u=bt.divisorPoly(c),f=Array.from(l);return f.push(...u.slice(0,-1).fill(0)),Uint8Array.from(bt.remainderPoly(f,u))},decode(l){const u=l.slice(),f=bt.polynomial(Array.from(l));let p=Ro(c,0),m=!1;for(let N=0;N<c;N++){const z=bt.evalPoly(f,bt.exp(N));p[p.length-1-N]=z,z!==0&&(m=!0)}if(!m)return u;p=bt.polynomial(p);const w=bt.monomial(c,1),[y,I]=bt.euclidian(w,p,c),S=Ro(bt.degree(y),0);let T=0;for(let N=1;N<256&&T<S.length;N++)bt.evalPoly(y,N)===0&&(S[T++]=bt.inv(N));if(T!==S.length)throw new Error("RS.decode: wrong errors number");for(let N=0;N<S.length;N++){const z=u.length-1-bt.log(S[N]);if(z<0)throw new Error("RS.decode: wrong error location");const $=bt.inv(S[N]);let H=1;for(let K=0;K<S.length;K++)N!==K&&(H=bt.mul(H,bt.add(1,bt.mul(S[K],$))));u[z]=bt.add(u[z],bt.mul(bt.evalPoly(I,$),bt.inv(H)))}return u}});var c;return{encode(l){const u=[],f=[];for(let y=0;y<i;y++){const I=o+(y<r?0:1);u.push(l.subarray(0,I)),f.push(a.encode(l.subarray(0,I))),l=l.subarray(I)}const p=hO(...u),m=hO(...f),w=new Uint8Array(p.length+m.length);return w.set(p),w.set(m,p.length),w},decode(l){if(l.length!==s)throw new Error(`interleave.decode: len(data)=${l.length}, total=${s}`);const u=[];for(let m=0;m<i;m++){const w=m<r;u.push(new Uint8Array(n+o+(w?0:1)))}let f=0;for(let m=0;m<o;m++)for(let w=0;w<i;w++)u[w][m]=l[f++];for(let m=r;m<i;m++)u[m][o]=l[f++];for(let m=o;m<o+n;m++)for(let w=0;w<i;w++){const y=w<r;u[w][m+(y?0:1)]=l[f++]}const p=[];for(const m of u)p.push(...Array.from(a.decode(m)).slice(0,-n));return Uint8Array.from(p)}}}function yO(t,e,n,r){let i="",o=n.length;if(r==="numeric"){const f=ki.alphabet.numeric.decode(n.split("")),p=f.length;for(let m=0;m<p-2;m+=3)i+=Lu(100*f[m]+10*f[m+1]+f[m+2],10);p%3==1?i+=Lu(f[p-1],4):p%3==2&&(i+=Lu(10*f[p-2]+f[p-1],7))}else if(r==="alphanumeric"){const f=ki.alphabet.alphanumerc.decode(n.split("")),p=f.length;for(let m=0;m<p-1;m+=2)i+=Lu(45*f[m]+f[m+1],11);p%2==1&&(i+=Lu(f[p-1],6))}else{if(r!=="byte")throw new Error("encode: unsupported type");{const f=function(p){if(typeof p!="string")throw new Error("utf8ToBytes expected string, got "+typeof p);return new Uint8Array(new TextEncoder().encode(p))}(n);o=f.length,i=Array.from(f).map(p=>Lu(p,8)).join("")}}const{capacity:s}=ki.capacity(t,e),a=Lu(o,ki.lengthBits(t,r));let c=ki.modeBits[r]+a+i;if(c.length>s)throw new Error("Capacity overflow");c+="0".repeat(Math.min(4,Math.max(0,s-c.length))),c.length%8&&(c+="0".repeat(8-c.length%8));const l="1110110000010001";for(let f=0;c.length!==s;f++)c+=l[f%16];const u=Uint8Array.from(c.match(/(.{8})/g).map(f=>+`0b${f}`));return Fee(t,e).encode(u)}function wO(t,e,n,r,i=!1){const o=function(c,l,u,f=!1){const p=ki.size.encode(c);let m=new Ao(p+2);const w=new Ao(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);m=m.embed(0,w).embed({x:-w.width,y:0},w).embed({x:0,y:-w.height},w),m=m.rectSlice(1,p);const y=new Ao(1).rect(0,1,!0).border(1,!1).border(1,!0),I=ki.alignmentPatterns(c);for(const S of I)for(const T of I)m.data[S][T]===void 0&&m.embed({x:T-2,y:S-2},y);m=m.hLine({x:0,y:6},1/0,({x:S},T)=>T===void 0?S%2==0:T).vLine({x:6,y:0},1/0,({y:S},T)=>T===void 0?S%2==0:T);{const S=ki.formatBits(l,u),T=N=>!f&&(S>>N&1)==1;for(let N=0;N<6;N++)m.data[N][8]=T(N);for(let N=6;N<8;N++)m.data[N+1][8]=T(N);for(let N=8;N<15;N++)m.data[p-15+N][8]=T(N);for(let N=0;N<8;N++)m.data[8][p-N-1]=T(N);for(let N=8;N<9;N++)m.data[8][15-N-1+1]=T(N);for(let N=9;N<15;N++)m.data[8][15-N-1]=T(N);m.data[p-8][8]=!f}if(c>=7){const S=ki.versionBits(c);for(let T=0;T<18;T+=1){const N=!f&&(S>>T&1)==1,z=Math.floor(T/3),$=T%3+p-8-3;m.data[z][$]=N,m.data[$][z]=N}}return m}(t,e,r,i);let s=0;const a=8*n.length;if(function(c,l,u){const f=c.height,p=cS[l];let m=-1,w=f-1;for(let y=f-1;y>0;y-=2){for(y==6&&(y=5);;w+=m){for(let I=0;I<2;I+=1){const S=y-I;c.data[w][S]===void 0&&u(S,w,p(S,w))}if(w+m<0||w+m>=f)break}m=-m}}(o,r,(c,l,u)=>{let f=!1;s<a&&(f=(n[s>>>3]>>(7-s&7)&1)!=0,s++),o.data[l][c]=f!==u}),s!==a)throw new Error("QR: bytes left after draw");return o}function Uee(t){const e=t.inverse(),n=m=>{let w=0;for(let y,I=0,S=1;I<m.length;I++)y===m[I]&&(S++,I!==m.length-1)||(S>=5&&(w+=S-5+3),y=m[I],S=1);return w};let r=0;t.data.forEach(m=>r+=n(m)),e.data.forEach(m=>r+=n(m));let i=0,o=t.data;const s=t.width-1,a=t.height-1;for(let m=0;m<s;m++)for(let w=0;w<a;w++){const y=m+1,I=w+1;o[m][w]===o[y][w]&&o[y][w]===o[m][I]&&o[y][w]===o[y][I]&&(i+=3)}const c=m=>{const w=[!0,!1,!0,!0,!0,!1,!0],y=[!1,!1,!1,!1],I=[...w,...y],S=[...y,...w];let T=0;for(let N=0;N<m.length;N++)pO(m,I,N)&&(T+=40),pO(m,S,N)&&(T+=40);return T};let l=0;for(const m of t.data)l+=c(m);for(const m of e.data)l+=c(m);let u=0;t.rectRead(0,1/0,(m,w)=>u+=w?1:0);const f=u/(t.height*t.width)*100,p=10*Math.floor(Math.abs(f-50)/5);return r+i+l+p}function FD(t,e="raw",n={}){const r=n.ecc!==void 0?n.ecc:"medium";(function(u){if(!mO.includes(u))throw new Error(`Invalid error correction mode=${u}. Expected: ${mO}`)})(r);const i=n.encoding!==void 0?n.encoding:function(u){let f="numeric";for(let p of u)if(!ki.alphabet.numeric.has(p)&&(f="alphanumeric",!ki.alphabet.alphanumerc.has(p)))return"byte";return f}(t);(function(u){if(!vO.includes(u))throw new Error(`Encoding: invalid mode=${u}. Expected: ${vO}`);if(u==="kanji"||u==="eci")throw new Error(`Encoding: ${u} is not supported (yet?).`)})(i),n.mask!==void 0&&function(u){if(![0,1,2,3,4,5,6,7].includes(u)||!cS[u])throw new Error(`Invalid mask=${u}. Expected number [0..7]`)}(n.mask);let o,s=n.version,a=new Error("Unknown error");if(s!==void 0)(function(u){if(!Number.isSafeInteger(u)||u<1||u>40)throw new Error(`Invalid version=${u}. Expected number [1..40]`)})(s),o=yO(s,r,t,i);else for(let u=1;u<=40;u++)try{o=yO(u,r,t,i),s=u;break}catch(f){a=f}if(!s||!o)throw a;let c=function(u,f,p,m){if(m===void 0){const w=function(){let y,I=1/0;return{add(S,T){S>=I||(y=T,I=S)},get:()=>y,score:()=>I}}();for(let y=0;y<cS.length;y++)w.add(Uee(wO(u,f,p,y,!0)),y);m=w.get()}if(m===void 0)throw new Error("Cannot find mask");return wO(u,f,p,m)}(s,r,o,n.mask);c.assertDrawn();const l=n.border===void 0?2:n.border;if(!Number.isSafeInteger(l))throw new Error("Wrong border type="+typeof l);if(c=c.border(l,!1),n.scale!==void 0&&(c=c.scale(n.scale)),e==="raw")return c.data;if(e==="ascii")return c.toASCII();if(e==="svg")return c.toSVG();if(e==="gif")return c.toGIF();if(e==="term")return c.toTerm();throw new Error(`Unknown output: ${e}`)}const px={DESKTOP:"Desktop",MOBILE:"Mobile",META_MASK_MOBILE_APP:"MetaMask mobile app",SCAN_TO_CONNECT:"Scan to connect and sign with",CONNECT_WITH_EXTENSION:"Connect With MetaMask Extension",INSTALL_MODAL:{TRUSTED_BY_USERS:"Trusted by over 30 million users to buy, store, send and swap crypto securely",LEADING_CRYPTO_WALLET:"The leading crypto wallet & gateway to blockchain apps built on Ethereum Mainnet, Polygon, Optimism, and many other networks",CONTROL_DIGITAL_INTERACTIONS:"Puts you in control of your digital interactions by making power of cryptography more accessible",INSTALL_META_MASK_EXTENSION:"Install MetaMask Extension"},PENDING_MODAL:{OPEN_META_MASK_SELECT_CODE:"Please open the MetaMask wallet app and select the code on the screen OR disconnect",OPEN_META_MASK_CONTINUE:"Open the MetaMask app to continue with your session.",NUMBER_AFTER_OPEN_NOTICE:"If a number doesn't appear after opening MetaMask, please click disconnect and re-scan the QRCode.",DISCONNECT:"Disconnect"},SELECT_MODAL:{CRYPTO_TAKE_CONTROL_TEXT:"Take control of your crypto and explore the blockchain with the wallet trusted by over 30 million people worldwide"},META_MASK_MODAL:{ADDRESS_COPIED:"Address copied to clipboard!",DISCONNECT:"Disconnect",ACTIVE_NETWORK:"Active Network"}};class v4{constructor(e){var n;this.translations=px,this.supportedLocales=["es","fr","he","it","pt","tr"],this.baseUrl=(n=e==null?void 0:e.baseUrl)!==null&&n!==void 0?n:"https://raw.githubusercontent.com/MetaMask/metamask-sdk/refs/heads/gh-pages/locales"}getBrowserLanguage(){if((navigator.languages||[navigator.language]).some(n=>n.toLowerCase().startsWith("en")))return"en";const e=navigator.language.toLowerCase().split("-")[0];return this.supportedLocales.includes(e)?e:"en"}async init(e){const n=this.getBrowserLanguage()||e.fallbackLng;await this.loadTranslations(n)}async loadTranslations(e){const n=e.split("-")[0];if(n!=="en"&&this.supportedLocales.includes(n))try{const r=`${this.baseUrl}/${n}.json`,i=await fetch(r);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);this.translations=await i.json()}catch(r){console.warn(` Failed to load ${n} translations, falling back to English:`,r),this.translations=px}else this.translations=px}t(e){return this.getNestedTranslation(e,this.translations)||e}getNestedTranslation(e,n){const r=e.split(".");let i=n;for(const o of r){if(typeof i!="object")return"";i=i[o]}return typeof i=="string"?i:""}}var Xp;(function(t){t.SDK_MODAL_VIEWED="sdk_modal_viewed",t.SDK_MODAL_BUTTON_CLICKED="sdk_modal_button_clicked",t.SDK_MODAL_TOGGLE_CHANGED="sdk_modal_toggle_changed"})(Xp||(Xp={}));const UD=class{constructor(t){s4(this,t),this.close=Kl(this,"close"),this.startDesktopOnboarding=Kl(this,"startDesktopOnboarding"),this.trackAnalytics=Kl(this,"trackAnalytics"),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.onClose=this.onClose.bind(this),this.onStartDesktopOnboardingHandler=this.onStartDesktopOnboardingHandler.bind(this),this.setTab=this.setTab.bind(this),this.render=this.render.bind(this),this.setTab(this.preferDesktop?1:2),this.i18nInstance=new v4}componentDidLoad(){this.trackAnalytics.emit({event:Xp.SDK_MODAL_VIEWED,params:{extensionInstalled:!1,tab:this.tab===1?"desktop":"mobile"}})}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}updatePreferDesktop(t){t?this.setTab(1):this.setTab(2)}onClose(t=!1){this.close.emit({shouldTerminate:t})}onStartDesktopOnboardingHandler(){this.trackAnalytics.emit({event:Xp.SDK_MODAL_BUTTON_CLICKED,params:{button_type:"install_extension",tab:"desktop"}}),this.startDesktopOnboarding.emit()}setTab(t,e=!1){e&&this.trackAnalytics.emit({event:Xp.SDK_MODAL_TOGGLE_CHANGED,params:{toggle:this.tab===1?"desktop_to_mobile":"mobile_to_desktop"}}),this.tab=t,this.isDefaultTab=!1}render(){if(!this.translationsLoaded)return null;const t=r=>this.i18nInstance.t(r),e=this.isDefaultTab?this.preferDesktop?1:2:this.tab,n=FD(this.link,"svg",{ecc:"medium",scale:2});return Fe(h4,{className:"install-model"},Fe("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),Fe("div",{class:"modal"},Fe("div",{class:"closeButtonContainer"},Fe("div",{class:"right"},Fe("span",{class:"closeButton",onClick:()=>this.onClose(!0)},Fe(g4,null)))),Fe("div",{class:"logoContainer"},Fe(m4,null)),Fe("div",null,Fe("div",{class:"tabcontainer"},Fe("div",{class:"flexContainer"},Fe("div",{onClick:()=>this.setTab(1,!0),class:"tab flexItem "+(e===1?"tabactive":"")},t("DESKTOP")),Fe("div",{onClick:()=>this.setTab(2,!0),class:"tab flexItem "+(e===2?"tabactive":"")},t("MOBILE")))),Fe("div",{style:{display:e===1?"none":"block"}},Fe("div",{class:"flexContainer"},Fe("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},n&&Fe("div",{id:"sdk-mm-qrcode",class:"center",innerHTML:n}),Fe("div",{class:"connectMobileText"},t("SCAN_TO_CONNECT")," ",Fe("br",null),Fe("span",{class:"blue"},Fe("b",null,t("META_MASK_MOBILE_APP"))))))),Fe("div",{style:{display:e===2?"none":"block"}},Fe("div",{class:"item"},Fe(hx,{Icon:Pee,text:t("INSTALL_MODAL.TRUSTED_BY_USERS")})),Fe("div",{class:"item"},Fe(hx,{Icon:Nee,text:t("INSTALL_MODAL.LEADING_CRYPTO_WALLET")})),Fe("div",{class:"item"},Fe(hx,{Icon:Lee,text:t("INSTALL_MODAL.CONTROL_DIGITAL_INTERACTIONS")})),Fe("button",{class:"button",onClick:()=>this.onStartDesktopOnboardingHandler()},Fe(Bee,null),Fe("span",{class:"installExtensionText"},t("INSTALL_MODAL.INSTALL_META_MASK_EXTENSION"))))),Fe(p4,{version:this.sdkVersion})))}get el(){return c1(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};UD.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;const zD=class{constructor(t){s4(this,t),this.close=Kl(this,"close"),this.disconnect=Kl(this,"disconnect"),this.updateOTPValue=Kl(this,"updateOTPValue"),this.displayOTP=void 0,this.sdkVersion=void 0,this.otpCode=void 0,this.translationsLoaded=!1,this.i18nInstance=new v4}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(){this.close.emit()}onDisconnect(){this.disconnect.emit()}onUpdateOTPValueHandler(t){this.updateOTPValue.emit({otpValue:t})}disconnectedCallback(){this.onClose()}render(){var t;if(!this.translationsLoaded)return null;const e=(t=this.displayOTP)===null||t===void 0||t,n=this.sdkVersion,r=i=>this.i18nInstance.t(i);return Fe(h4,{className:"pending-modal"},Fe("div",{class:"backdrop",onClick:()=>this.onClose()}),Fe("div",{class:"modal"},Fe("div",{class:"closeButtonContainer"},Fe("div",{class:"right"},Fe("span",{class:"closeButton",onClick:()=>this.onClose()},Fe(g4,null)))),Fe("div",{class:"logoContainer"},Fe(m4,null)),Fe("div",null,Fe("div",{class:"flexContainer",style:{flexDirection:"column",color:"black"}},Fe("div",{class:"flexItem",style:{textAlign:"center",marginTop:"30px",marginBottom:"30px",fontSize:"16px"}},r(e?"PENDING_MODAL.OPEN_META_MASK_SELECT_CODE":"PENDING_MODAL.OPEN_META_MASK_CONTINUE")),Fe("div",{id:"sdk-mm-otp-value",style:{padding:"10px",fontSize:"32px",display:this.otpCode?"block":"none"}},this.otpCode),e&&Fe("div",{class:"notice"},"* ",r("PENDING_MODAL.NUMBER_AFTER_OPEN_NOTICE"))),Fe("div",{style:{marginTop:"20px"}},Fe("button",{class:"button blue",style:{marginTop:"5px",color:"#0376C9",borderColor:"#0376C9",borderWidth:"1px",borderStyle:"solid",backgroundColor:"white"},onClick:()=>this.onDisconnect()},r("PENDING_MODAL.DISCONNECT")))),Fe(p4,{version:n})))}get el(){return c1(this)}};zD.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;const zee=()=>Fe("svg",{width:"21",height:"15",viewBox:"0 0 21 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Fe("path",{d:"M14.1364 14.9851C13.5909 14.9851 13.2273 14.5851 13.2273 13.9851C13.2273 13.3851 13.5909 12.9851 14.1364 12.9851C16.6818 12.9851 18.6818 10.7851 18.6818 7.98508C18.6818 5.18508 16.6818 2.98508 14.1364 2.98508C11.5909 2.98508 9.59091 5.18508 9.59091 7.98508C9.59091 8.58508 9.22727 8.98508 8.68182 8.98508C8.13636 8.98508 7.77273 8.58508 7.77273 7.98508C7.77273 4.08508 10.5909 0.985077 14.1364 0.985077C17.6818 0.985077 20.5 4.08508 20.5 7.98508C20.5 11.8851 17.6818 14.9851 14.1364 14.9851ZM6.68182 14.7851C3.22727 14.7851 0.5 11.6851 0.5 7.98508C0.5 4.28508 3.22727 1.18508 6.68182 1.18508C7.22727 1.18508 7.59091 1.58508 7.59091 2.18508C7.59091 2.78508 7.22727 3.18508 6.68182 3.18508C4.22727 3.18508 2.31818 5.38508 2.31818 7.98508C2.31818 10.5851 4.22727 12.7851 6.68182 12.7851C9.13636 12.7851 11.0455 10.6851 11.0455 7.98508C11.0455 7.38508 11.4091 6.98508 11.9545 6.98508C12.5 6.98508 12.8636 7.38508 12.8636 7.98508C12.7727 11.6851 10.0455 14.7851 6.68182 14.7851Z",fill:"white"})),qee=()=>Fe("svg",{width:"400",height:"300",viewBox:"0 0 400 300",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Fe("rect",{width:"400",height:"300",fill:"white"}),Fe("path",{d:"M300.116 242.46L250.485 227.681L213.057 250.055L186.944 250.045L149.493 227.681L99.8843 242.46L84.7939 191.518L99.8843 134.979L84.7939 87.1777L99.8843 27.9336L177.402 74.2466H222.598L300.116 27.9336L315.206 87.1777L300.116 134.979L315.206 191.518L300.116 242.46Z",fill:"#FF5C16"}),Fe("path",{d:"M99.8955 27.9336L177.414 74.2792L174.331 106.085L99.8955 27.9336Z",fill:"#FF5C16"}),Fe("path",{d:"M149.505 191.539L183.612 217.521L149.505 227.681V191.539Z",fill:"#FF5C16"}),Fe("path",{d:"M180.886 148.585L174.33 106.107L132.369 134.991L132.348 134.98V135.001L132.477 164.732L149.493 148.585H149.504H180.886Z",fill:"#FF5C16"}),Fe("path",{d:"M300.116 27.9336L222.598 74.2792L225.67 106.085L300.116 27.9336Z",fill:"#FF5C16"}),Fe("path",{d:"M250.508 191.539L216.4 217.521L250.508 227.681V191.539Z",fill:"#FF5C16"}),Fe("path",{d:"M267.652 135.001H267.663H267.652V134.98L267.641 134.991L225.68 106.107L219.125 148.585H250.507L267.533 164.732L267.652 135.001Z",fill:"#FF5C16"}),Fe("path",{d:"M149.493 227.681L99.8843 242.46L84.7939 191.54H149.493V227.681Z",fill:"#E34807"}),Fe("path",{d:"M180.875 148.574L190.351 209.98L177.219 175.838L132.456 164.732L149.483 148.574H180.864H180.875Z",fill:"#E34807"}),Fe("path",{d:"M250.507 227.681L300.116 242.46L315.206 191.54H250.507V227.681Z",fill:"#E34807"}),Fe("path",{d:"M219.126 148.574L209.649 209.98L222.782 175.838L267.545 164.732L250.507 148.574H219.126Z",fill:"#E34807"}),Fe("path",{d:"M84.7939 191.517L99.8843 134.979H132.337L132.456 164.721L177.219 175.826L190.351 209.969L183.601 217.488L149.493 191.506H84.7939V191.517Z",fill:"#FF8D5D"}),Fe("path",{d:"M315.206 191.517L300.116 134.979H267.664L267.545 164.721L222.782 175.826L209.649 209.969L216.4 217.488L250.507 191.506H315.206V191.517Z",fill:"#FF8D5D"}),Fe("path",{d:"M222.598 74.2466H200H177.402L174.33 106.053L190.351 209.936H209.649L225.681 106.053L222.598 74.2466Z",fill:"#FF8D5D"}),Fe("path",{d:"M99.8843 27.9336L84.7939 87.1777L99.8843 134.979H132.337L174.319 106.085L99.8843 27.9336Z",fill:"#661800"}),Fe("path",{d:"M171.496 160.906H156.795L148.79 168.752L177.229 175.804L171.496 160.896V160.906Z",fill:"#661800"}),Fe("path",{d:"M300.116 27.9336L315.206 87.1777L300.116 134.979H267.663L225.681 106.085L300.116 27.9336Z",fill:"#661800"}),Fe("path",{d:"M228.525 160.906H243.248L251.253 168.763L222.781 175.826L228.525 160.896V160.906Z",fill:"#661800"}),Fe("path",{d:"M213.046 229.789L216.399 217.51L209.649 209.991H190.34L183.59 217.51L186.943 229.789",fill:"#661800"}),Fe("path",{d:"M213.047 229.789V250.066H186.944V229.789H213.047Z",fill:"#C0C4CD"}),Fe("path",{d:"M149.504 227.66L186.965 250.056V229.779L183.611 217.5L149.504 227.66Z",fill:"#E7EBF6"}),Fe("path",{d:"M250.506 227.66L213.045 250.056V229.779L216.398 217.5L250.506 227.66Z",fill:"#E7EBF6"})),qD=class{constructor(t){s4(this,t),this.close=Kl(this,"close"),this.connectWithExtension=Kl(this,"connectWithExtension"),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.i18nInstance=new v4,this.setTab(this.preferDesktop?1:2)}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(t=!1){this.close.emit({shouldTerminate:t})}connectWithExtensionHandler(){this.connectWithExtension.emit()}setTab(t){this.tab=t,this.isDefaultTab=!1}disconnectedCallback(){this.onClose()}updatePreferDesktop(t){t?this.setTab(1):this.setTab(2)}render(){if(!this.translationsLoaded)return null;const t=i=>this.i18nInstance.t(i),e=this.sdkVersion,n=this.isDefaultTab?this.preferDesktop?1:2:this.tab,r=FD(this.link,"svg",{ecc:"medium",scale:2});return Fe(h4,{className:"select-modal"},Fe("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),Fe("div",{class:"modal"},Fe("div",{class:"closeButtonContainer"},Fe("div",{class:"right"},Fe("span",{class:"closeButton",onClick:()=>this.onClose(!0)},Fe(g4,null)))),Fe("div",{class:"logoContainer"},Fe(m4,null)),Fe("div",null,Fe("div",{class:"tabcontainer"},Fe("div",{class:"flexContainer"},Fe("div",{onClick:()=>this.setTab(1),class:"tab flexItem "+(n===1?"tabactive":"")},t("DESKTOP")),Fe("div",{onClick:()=>this.setTab(2),class:"tab flexItem "+(n===2?"tabactive":"")},t("MOBILE")))),Fe("div",{style:{display:n===1?"none":"block"}},Fe("div",{class:"flexContainer"},Fe("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},Fe("div",{class:"center",id:"sdk-mm-qrcode",innerHTML:r}),Fe("div",{class:"connectMobileText"},t("SCAN_TO_CONNECT"),Fe("br",null),Fe("span",{class:"blue"},Fe("b",null,t("META_MASK_MOBILE_APP"))))))),Fe("div",{style:{display:n===2?"none":"block"}},Fe("div",{style:{display:"flex",justifyContent:"center",height:"300",marginTop:"-20"}},Fe(qee,null)),Fe("div",{class:"extensionLabel"},t("SELECT_MODAL.CRYPTO_TAKE_CONTROL_TEXT")),Fe("button",{class:"button",onClick:()=>this.connectWithExtensionHandler()},Fe(zee,null),Fe("span",{class:"installExtensionText"},t("CONNECT_WITH_EXTENSION"))))),Fe(p4,{version:e})))}get el(){return c1(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};qD.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;var Hee=Object.freeze({__proto__:null,mm_install_modal:UD,mm_pending_modal:zD,mm_select_modal:qD});const yf={GET_ACCOUNTS:"getAccounts",SOLANA_REQUEST_ACCOUNTS:"solana_requestAccounts",SEND_TRANSACTION:"solana_sendTransaction",SIGN_TRANSACTION:"solana_signTransaction",SIGN_ALL_TRANSACTIONS:"solana_signAllTransactions",SIGN_MESSAGE:"solana_signMessage",SOLANA_PRIVATE_KEY:"solana_privateKey",PRIVATE_KEY:"private_key",SOLANA_PUBLIC_KEY:"solana_publicKey",PUBLIC_KEY:"public_key"},Zfe={SOLANA_MAINNET:"0x65",SOLANA_TESTNET:"0x66",SOLANA_DEVNET:"0x67"},bO={GET_ACCOUNTS:"eth_accounts",ETH_TRANSACTION:"eth_sendTransaction",ETH_ESTIMATE_AA_TRANSACTION_GAS:"eth_estimateAATransactionGas",ETH_REQUEST_ACCOUNTS:"eth_requestAccounts",ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SIGN:"eth_sign",ETH_SIGN_TYPED_DATA_V4:"eth_signTypedData_v4",PERSONAL_SIGN:"personal_sign",ETH_GET_TRANSACTION_COUNT:"eth_getTransactionCount",ETH_GET_TRANSACTION_BY_HASH:"eth_getTransactionByHash",ETH_GET_TRANSACTION_RECEIPT:"eth_getTransactionReceipt",WATCH_ASSET:"wallet_watchAsset",ETH_GET_BLOCK_BY_HASH:"eth_getBlockByHash",ETH_GET_CODE:"eth_getCode",ETH_GET_GAS_PRICE:"eth_gasPrice",ETH_PRIVATE_KEY:"eth_privateKey",PRIVATE_KEY:"private_key",ETH_PUBLIC_KEY:"eth_publicKey",PUBLIC_KEY:"public_key",SWITCH_CHAIN:"wallet_switchEthereumChain",ADD_CHAIN:"wallet_addEthereumChain"};function C0(t){let e=!1,n=0,r;try{r=window[t],e=!0,n=r.length;const i="__storage_test__";return r.setItem(i,i),r.removeItem(i),!0}catch(i){const o=i;return!!(o&&(o.code===22||o.code===1014||o.name==="QuotaExceededError"||o.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&n!==0)}}const Kee=t=>{const e=tV(t);return!e.exp||e.exp<Math.floor(Date.now()/1e3)},Wee=(t,e)=>C0("localStorage")?localStorage.getItem(`${t.toLowerCase()}_${e}`):null,Vee=(t,e,n)=>C0("localStorage")?localStorage.setItem(`${t.toLowerCase()}_${e}`,n):null,Gee=(t,e)=>C0("localStorage")?localStorage.removeItem(`${t.toLowerCase()}_${e}`):null;class Yee extends KP{async init(e){}async getIdentityToken(){if(!this.provider||this.status!==ht.CONNECTED)throw Ft.notConnectedError();if(!this.coreOptions)throw ft.invalidParams("Please initialize Web3Auth with valid options");const e=await this.provider.request({method:bO.GET_ACCOUNTS});if(e&&e.length>0){const n=Wee(e[0],this.name);if(n&&!Kee(n))return{idToken:n};const r=await this.provider.request({method:"eth_chainId"}),i=this.coreOptions.chains.find(f=>f.chainId===r);if(!i)throw ft.invalidParams("chainConfig is required before authentication");const{chainNamespace:o}=i,s={domain:window.location.origin,uri:window.location.href,address:e[0],chainId:parseInt(r,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},a=await nV(s,o),c=`0x${Buffer.from(a,"utf8").toString("hex")}`,l=await this.provider.request({method:bO.PERSONAL_SIGN,params:[c,e[0]]}),u=await rV(o,l,a,this.name,this.coreOptions.sessionTime,this.coreOptions.clientId,this.coreOptions.web3AuthNetwork);return Vee(e[0],this.name,u),{idToken:u}}throw Ft.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnectSession(){super.checkDisconnectionRequirements();const e=await this.provider.request({method:"eth_accounts"});e&&e.length>0&&Gee(e[0],this.name)}async disconnect(){this.rehydrated=!1,this.emit(Et.DISCONNECTED)}}class Jee extends Yee{constructor(e){super(e),ke(this,"connectorNamespace",ql.EIP155),ke(this,"currentChainNamespace",tn.EIP155),ke(this,"type",Xa.EXTERNAL),ke(this,"name",St.METAMASK),ke(this,"status",ht.NOT_READY),ke(this,"metamaskProvider",null),ke(this,"metamaskSDK",null),ke(this,"metamaskOptions",void 0),ke(this,"analytics",void 0),this.metamaskOptions=e.connectorSettings,this.analytics=e.analytics}get provider(){return this.status!==ht.NOT_READY&&this.metamaskProvider?this.metamaskProvider:null}set provider(e){throw new Error("Not implemented")}async init(e){var n;await super.init(e);const r=this.coreOptions.chains.find(c=>c.chainId===e.chainId);super.checkInitializationRequirements({chainConfig:r});const i=await aJ(window),o={name:sJ(window)||"web3auth",url:window.location.origin||"https://web3auth.io",iconUrl:i},s=Xn(this.metamaskOptions||{},{dappMetadata:o});this.metamaskSDK=new iee(_e(_e({},s),{},{_source:"web3auth",useDeeplink:(n=s.useDeeplink)!==null&&n!==void 0?n:!0}));const a=await this.metamaskSDK.init();a&&(this.metamaskSDK=a),this.isInjected=this.metamaskSDK.isExtensionActive(),this.status=ht.READY,this.emit(Et.READY,St.METAMASK);try{if(e.autoConnect&&(this.rehydrated=!0,!await this.connect({chainId:e.chainId})))throw this.rehydrated=!1,Ft.connectionError("Failed to rehydrate.")}catch(c){this.emit(Et.REHYDRATION_ERROR,c)}}async connect({chainId:e}){if(super.checkConnectionRequirements(),!this.metamaskSDK)throw Ft.notConnectedError("Connector is not initialized");const n=this.coreOptions.chains.find(f=>f.chainId===e);if(!n)throw Ft.connectionError("Chain config is not available");const r=!this.isInjected&&!this.rehydrated,i=Date.now(),o={connector:this.name,connector_type:this.type,is_injected:this.isInjected,chain_id:Mf(n),chain_name:n==null?void 0:n.displayName,chain_namespace:n==null?void 0:n.chainNamespace};try{if(this.status!==ht.CONNECTING){var s;this.status=ht.CONNECTING,this.emit(Et.CONNECTING,{connector:St.METAMASK}),!this.metamaskSDK.isExtensionActive()&&(s=this.metamaskOptions)!==null&&s!==void 0&&s.headless&&this.metamaskSDK.getProvider().on("display_uri",m=>{this.updateConnectorData({uri:m})}),await this.metamaskSDK.connect()}if(this.metamaskProvider=this.metamaskSDK.getProvider(),!this.metamaskProvider)throw Ft.notConnectedError("Failed to connect with provider");await this.metamaskProvider.request({method:"eth_chainId"})!==n.chainId&&await this.switchChain(n,!0);const p=m=>{m.length===0&&this.disconnect()};if(this.metamaskProvider.on("accountsChanged",p),this.metamaskProvider.once("disconnect",()=>{this.disconnect()}),this.status=ht.CONNECTED,r){var a,c;(a=this.analytics)===null||a===void 0||a.track(Dn.CONNECTION_STARTED,o),(c=this.analytics)===null||c===void 0||c.track(Dn.CONNECTION_COMPLETED,_e(_e({},o),{},{duration:Date.now()-i}))}return this.emit(Et.CONNECTED,{connector:St.METAMASK,reconnected:this.rehydrated,provider:this.metamaskProvider}),this.metamaskProvider}catch(f){if(this.status=ht.READY,this.rehydrated||this.emit(Et.ERRORED,f),this.rehydrated=!1,r){var l,u;(l=this.analytics)===null||l===void 0||l.track(Dn.CONNECTION_STARTED,o),(u=this.analytics)===null||u===void 0||u.track(Dn.CONNECTION_FAILED,_e(_e(_e({},o),HW(f)),{},{duration:Date.now()-i}))}throw f instanceof ls?f:Ft.connectionError("Failed to login with MetaMask wallet",f)}}async disconnect(e={cleanup:!1}){if(!this.metamaskProvider)throw Ft.connectionError("MetaMask provider is not available");await super.disconnectSession(),typeof this.metamaskProvider.removeAllListeners<"u"&&this.metamaskProvider.removeAllListeners(),await this.metamaskSDK.terminate(),e.cleanup?(this.status=ht.NOT_READY,this.metamaskProvider=null):this.status=ht.READY,await super.disconnect()}async getUserInfo(){if(this.status!==ht.CONNECTED)throw Ft.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async switchChain(e,n=!1){super.checkSwitchChainRequirements(e,n);const r=()=>this.metamaskProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:e.chainId}]});try{await r()}catch(i){if((i==null?void 0:i.code)===4902){const o=this.coreOptions.chains.find(s=>s.chainId===e.chainId&&[tn.EIP155,tn.SOLANA].includes(s.chainNamespace));await this.addChain(o),await r()}else throw i}}async enableMFA(){throw new Error("Method Not implemented")}async manageMFA(){throw new Error("Method Not implemented")}async addChain(e){if(!this.metamaskProvider)throw Ft.connectionError("Injected provider is not available");await this.metamaskProvider.request({method:"wallet_addEthereumChain",params:[{chainId:e.chainId,chainName:e.displayName,rpcUrls:[e.rpcTarget],blockExplorerUrls:[e.blockExplorerUrl],nativeCurrency:{name:e.tickerName,symbol:e.ticker,decimals:e.decimals||18},iconUrls:[e.logo]}]})}}const Zee=t=>({coreOptions:e,analytics:n})=>new Jee({connectorSettings:t,coreOptions:e,analytics:n}),HD=_e(_e({},tn),{},{MULTICHAIN:"multichain"}),la={READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},Ls=_e({},la),Qy={WALLET_SERVICES:"wallet-services",NFT_CHECKOUT:"nft-checkout"},Xee={SOLANA:"solana"};_e(_e({},Qy),Xee);class $n extends ls{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"WalletServicesPluginError"})}static fromCode(e,n="",r){return new $n(e,`${$n.messages[e]}${n}`,r)}static notInitialized(e="",n){return $n.fromCode(5210,e,n)}static unsupportedConnector(e="",n){return $n.fromCode(5211,e,n)}static providerRequired(e="",n){return $n.fromCode(5212,e,n)}static web3authRequired(e="",n){return $n.fromCode(5213,e,n)}static web3AuthNotConnected(e="",n){return $n.fromCode(5214,e,n)}static alreadyInitialized(e="",n){return $n.fromCode(5216,e,n)}static unsupportedChainNamespace(e="",n){return $n.fromCode(5218,e,n)}static differentWeb3AuthNetwork(e="",n){return $n.fromCode(5219,e,n)}static invalidParams(e="",n){return $n.fromCode(5220,e,n)}static web3authNotInitialized(e="",n){return $n.fromCode(5221,e,n)}static invalidSession(e="",n){return $n.fromCode(5222,e,n)}static walletPluginNotConnected(e="",n){return $n.fromCode(5223,e,n)}}ke($n,"messages",{5210:"Wallet Services Plugin is not initialized",5211:"Web3Auth is connected to unsupported connector. Wallet services connector plugin requires web3auth connected to auth connector.",5212:"Provider is required..",5213:"Web3Auth instance is required while initialization.",5214:"Web3Auth is not connected.",5216:"Plugin is already initialized",5218:"Unsupported chain namespace.",5219:"Plugin network different than web3auth instance network.",5221:"Web3Auth is not initialized",5222:"Invalid session inside wallet services. Please report this issue.",5223:"Wallet plugin is not connected Yet. Please wait for plugin to connect and listen via `connected` event on the plugin"});class Qa extends ls{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"NFTCheckoutPluginError"})}static fromCode(e,n="",r){return new Qa(e,`${Qa.messages[e]}${n}`,r)}static notInitialized(e="",n){return Qa.fromCode(6210,e,n)}static providerRequired(e="",n){return Qa.fromCode(6212,e,n)}static web3authRequired(e="",n){return Qa.fromCode(6213,e,n)}static web3AuthNotConnected(e="",n){return Qa.fromCode(6214,e,n)}static pluginNotConnected(e="",n){return Qa.fromCode(6223,e,n)}}ke(Qa,"messages",{6210:"NFT Checkout Plugin is not initialized",6212:"Provider is required..",6213:"Web3Auth instance is required while initialization.",6214:"Web3Auth is not connected.",6223:"NFT Checkout plugin is not connected Yet. Please wait for plugin to connect and listen via `connected` event on the plugin"});class Qee extends ru{constructor(...e){super(...e),ke(this,"name",Qy.WALLET_SERVICES),ke(this,"status",la.DISCONNECTED),ke(this,"SUPPORTED_CONNECTORS",[St.AUTH]),ke(this,"pluginNamespace",HD.MULTICHAIN),ke(this,"wsEmbedInstance",void 0),ke(this,"provider",null),ke(this,"web3auth",null),ke(this,"isInitialized",!1),ke(this,"analytics",void 0)}get proxyProvider(){var e;return(e=this.wsEmbedInstance)!==null&&e!==void 0&&e.provider?this.wsEmbedInstance.provider:null}async initWithWeb3Auth(e,n,r){if(this.isInitialized)return;if(!e)throw $n.web3authRequired();if(e.provider&&!this.SUPPORTED_CONNECTORS.includes(e.connectedConnectorName))throw $n.notInitialized();const i=e.currentChain;if(![tn.EIP155,tn.SOLANA].includes(i==null?void 0:i.chainNamespace))throw $n.unsupportedChainNamespace();e.provider&&(this.provider=e.provider),this.web3auth=e,this.analytics=r;const o=e.getConnector(St.AUTH);if(!o||!o.wsEmbed)throw $n.web3AuthNotConnected();this.wsEmbedInstance=o.wsEmbed,this.isInitialized=!0,this.status=la.READY,this.emit(Ls.READY)}initWithProvider(){throw new Error("Method not implemented.")}async connect(){if(!this.isInitialized)throw $n.notInitialized();if(this.emit(Ls.CONNECTING),this.status=la.CONNECTING,!this.provider){var e;(e=this.web3auth)!==null&&e!==void 0&&e.provider&&(this.provider=this.web3auth.provider)}if(this.web3auth.status!==ht.CONNECTED)throw $n.web3AuthNotConnected();if(!this.web3auth.provider)throw $n.providerRequired();try{this.emit(Ls.CONNECTED),this.status=la.CONNECTED}catch(n){ct.error(n),this.status=la.ERRORED,this.emit(Ls.ERRORED,{error:n.message||"Something went wrong"})}}async showWalletConnectScanner(e){var n,r;if(!((n=this.wsEmbedInstance)!==null&&n!==void 0&&n.isLoggedIn))throw $n.walletPluginNotConnected();return(r=this.analytics)===null||r===void 0||r.track(Dn.WALLET_CONNECT_SCANNER_CLICKED,{is_visible:e==null?void 0:e.show}),this.wsEmbedInstance.showWalletConnectScanner(e)}async showCheckout(e){var n,r;if(!((n=this.wsEmbedInstance)!==null&&n!==void 0&&n.isLoggedIn))throw $n.walletPluginNotConnected();return(r=this.analytics)===null||r===void 0||r.track(Dn.WALLET_CHECKOUT_CLICKED,{is_visible:e==null?void 0:e.show,receive_wallet_address_enabled:!!(e!=null&&e.receiveWalletAddress),token_list:e==null?void 0:e.tokenList,fiat_list:e==null?void 0:e.fiatList}),this.wsEmbedInstance.showCheckout(e)}async showWalletUi(e){var n,r;if(!((n=this.wsEmbedInstance)!==null&&n!==void 0&&n.isLoggedIn))throw $n.walletPluginNotConnected();return(r=this.analytics)===null||r===void 0||r.track(Dn.WALLET_UI_CLICKED,{is_visible:e==null?void 0:e.show,path:e==null?void 0:e.path}),this.wsEmbedInstance.showWalletUi(e)}async showSwap(e){var n,r;if(!((n=this.wsEmbedInstance)!==null&&n!==void 0&&n.isLoggedIn))throw $n.walletPluginNotConnected();return(r=this.analytics)===null||r===void 0||r.track(Dn.WALLET_SWAP_CLICKED,{is_visible:e==null?void 0:e.show,from_token:e==null?void 0:e.fromToken,to_token:e==null?void 0:e.toToken,from_value_enabled:!!(e!=null&&e.fromValue),to_address_enabled:!!(e!=null&&e.toAddress)}),this.wsEmbedInstance.showSwap(e)}async cleanup(){var e;return(e=this.wsEmbedInstance)===null||e===void 0?void 0:e.cleanUp()}async disconnect(){var e;if(this.status!==la.CONNECTED)throw $n.invalidSession("Wallet Services plugin is not connected");(e=this.wsEmbedInstance)!==null&&e!==void 0&&e.isLoggedIn&&await this.wsEmbedInstance.logout(),this.emit(Ls.DISCONNECTED),this.status=la.DISCONNECTED}}const ete=()=>()=>new Qee,tte=["walletScope"];class nte extends ru{constructor(e,n){if(super(),ke(this,"coreOptions",void 0),ke(this,"status",ht.NOT_READY),ke(this,"aaProvider",null),ke(this,"connectors",[]),ke(this,"commonJRPCProvider",null),ke(this,"analytics",void 0),ke(this,"plugins",{}),ke(this,"storage",void 0),ke(this,"state",{connectedConnectorName:null,cachedConnector:null,currentChainId:null,idToken:null}),ke(this,"loginMode",c0.NO_MODAL),!e.clientId)throw ft.invalidParams("Please provide a valid clientId in constructor");e.enableLogging?ct.enableAll():ct.setLevel("error"),e.storageType||(e.storageType="local"),this.coreOptions=e,this.storage=this.getStorageMethod(),this.analytics=new WY,this.analytics.setGlobalProperties({integration_type:jP.NATIVE_SDK}),this.loadState(n),this.state.idToken&&this.coreOptions.ssr&&(this.status=ht.CONNECTED)}get currentChain(){var e;if(this.currentChainId)return(e=this.coreOptions.chains)===null||e===void 0?void 0:e.find(n=>n.chainId===this.currentChainId)}get connected(){return!!this.connectedConnector}get provider(){return this.status!==ht.NOT_READY&&this.commonJRPCProvider?this.commonJRPCProvider:null}get connectedConnectorName(){return this.state.connectedConnectorName}get cachedConnector(){return this.state.cachedConnector}get currentChainId(){var e;return this.state.currentChainId||this.coreOptions.defaultChainId||((e=this.coreOptions.chains)===null||e===void 0||(e=e[0])===null||e===void 0?void 0:e.chainId)||null}get connectedConnector(){var e;return this.getConnector(this.connectedConnectorName,(e=this.currentChain)===null||e===void 0?void 0:e.chainNamespace)}get accountAbstractionProvider(){return this.aaProvider}set provider(e){throw new Error("Not implemented")}async init(e){const n=Date.now();this.analytics.init(),this.analytics.identify(this.coreOptions.clientId,{web3auth_client_id:this.coreOptions.clientId,web3auth_network:this.coreOptions.web3AuthNetwork}),this.analytics.setGlobalProperties({dapp_url:window.location.origin,sdk_name:$P.WEB_NO_MODAL,sdk_version:zP,web3auth_client_id:this.coreOptions.clientId,web3auth_network:this.coreOptions.web3AuthNetwork});let r={};try{var i,o;const{signal:a}=e||{};let c;try{var s;c=await FP({clientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,aaProvider:(s=this.coreOptions.accountAbstractionConfig)===null||s===void 0?void 0:s.smartAccountType,authBuildEnv:this.coreOptions.authBuildEnv})}catch(u){const f=await nC(u);throw ct.error("Failed to fetch project configurations",f),ft.notReady("failed to fetch project configurations",f)}this.initAccountAbstractionConfig(c),this.initChainsConfig(c),this.initCachedConnectorAndChainId(),this.initUIConfig(c),this.initWalletServicesConfig(c),this.analytics.setGlobalProperties({team_id:c.teamId}),r=this.getInitializationTrackData(),await uc(()=>this.setupCommonJRPCProvider(),a),this.on(Et.CONNECTORS_UPDATED,async({connectors:u})=>{await uc(()=>Promise.all(u.map(this.setupConnector.bind(this))),a,()=>{var p;((p=this.connectors)===null||p===void 0?void 0:p.length)>0&&this.cleanup()}),this.status===ht.NOT_READY&&(this.status=ht.READY,this.emit(Et.READY))}),await uc(()=>this.loadConnectors({projectConfig:c}),a),await uc(()=>this.initPlugins(),a);const l=this.getConnector(St.AUTH);r=_e(_e({},r),{},{connectors:this.connectors.map(u=>u.name),plugins:Object.keys(this.plugins),auth_ux_mode:(l==null||(i=l.authInstance)===null||i===void 0||(i=i.options)===null||i===void 0?void 0:i.uxMode)||((o=this.coreOptions.uiConfig)===null||o===void 0?void 0:o.uxMode)}),this.analytics.track(Dn.SDK_INITIALIZATION_COMPLETED,_e(_e({},r),{},{duration:Date.now()-n}))}catch(a){if(a instanceof DOMException&&a.name==="AbortError")return;throw this.analytics.track(Dn.SDK_INITIALIZATION_FAILED,_e(_e(_e({},r),Sf(a)),{},{duration:Date.now()-n})),ct.error("Failed to initialize modal",a),a}}getConnector(e,n){return this.connectors.find(r=>r.name!==e?!1:n?r.connectorNamespace===ql.MULTICHAIN?!0:r.connectorNamespace===n:!0)||null}clearCache(){this.setState({connectedConnectorName:null,cachedConnector:null,currentChainId:null,idToken:null})}async cleanup(){for(const e of this.connectors)e.cleanup&&await e.cleanup()}async switchChain(e){var n;if(e.chainId===((n=this.currentChain)===null||n===void 0?void 0:n.chainId))return;if(!this.coreOptions.chains.find(i=>i.chainId===e.chainId))throw ft.invalidParams("Invalid chainId");if(this.status===ht.CONNECTED&&this.connectedConnector){await this.connectedConnector.switchChain(e);return}if(this.commonJRPCProvider){await this.commonJRPCProvider.switchChain(e);return}throw ft.notReady("No wallet is ready")}async connectTo(e,n,r){this.loginMode=r||"no-modal";const i=this.getConnector(e,n==null?void 0:n.chainNamespace);if(!i||!this.commonJRPCProvider)throw ft.notFound(`Please add wallet connector for ${e} wallet, before connecting`);const o=this.getInitialChainIdForConnector(i),s=_e(_e({},n),{},{chainId:o.chainId}),a=Date.now();let c;if(e===St.AUTH){var l;const u=n,f=i.getOAuthProviderConfig({authConnection:u.authConnection,authConnectionId:u.authConnectionId,groupedAuthConnectionId:u.groupedAuthConnectionId});c={connector:e,connector_type:i.type,chain_id:Mf(o),chain_name:o.displayName,chain_namespace:o.chainNamespace,auth_connection:u.authConnection,auth_connection_id:u.authConnectionId,group_auth_connection_id:u.groupedAuthConnectionId,mfa_level:u.mfaLevel,wallet_key_enabled:u.getWalletKey,extra_login_options_enabled:!!u.extraLoginOptions,dapp_share_enabled:!!u.dappShare,curve:u.curve,auth_dapp_url:u.dappUrl,is_sfa:!!u.idToken,is_default_auth_connection:f==null?void 0:f.isDefault,auth_ux_mode:(l=i.authInstance)===null||l===void 0||(l=l.options)===null||l===void 0?void 0:l.uxMode}}else c={connector:e,connector_type:i.type,is_injected:i.isInjected,chain_id:Mf(o),chain_name:o.displayName,chain_namespace:o.chainNamespace};return this.analytics.track(Dn.CONNECTION_STARTED,c),new Promise((u,f)=>{const p=()=>{this.off(Et.CONNECTED,m),this.off(Et.ERRORED,w)},m=async()=>{const y=await i.getUserInfo();this.analytics.track(Dn.CONNECTION_COMPLETED,_e(_e({},c),{},{is_mfa_enabled:y==null?void 0:y.isMfaEnabled,duration:Date.now()-a})),p(),u(this.provider)},w=async y=>{this.analytics.track(Dn.CONNECTION_FAILED,_e(_e(_e({},c),Sf(y)),{},{duration:Date.now()-a})),p(),f(y)};this.once(Et.CONNECTED,m),this.once(Et.ERRORED,w),i.connect(s),this.setCurrentChain(o.chainId)})}async logout(e={cleanup:!1}){if(this.status!==ht.CONNECTED||!this.connectedConnector)throw Ft.notConnectedError("No wallet is connected");await this.connectedConnector.disconnect(e)}async getUserInfo(){var e;if(ct.debug("Getting user info",this.status,(e=this.connectedConnector)===null||e===void 0?void 0:e.name),this.status!==ht.CONNECTED||!this.connectedConnector)throw Ft.notConnectedError("No wallet is connected");return this.connectedConnector.getUserInfo()}async enableMFA(e){var n;if(this.status!==ht.CONNECTED||!this.connectedConnector)throw Ft.notConnectedError("No wallet is connected");if(this.connectedConnector.name!==St.AUTH)throw Ft.unsupportedOperation("EnableMFA is not supported for this connector.");const r=this.connectedConnector,i={connector:this.connectedConnector.name,auth_ux_mode:(n=r.authInstance)===null||n===void 0||(n=n.options)===null||n===void 0?void 0:n.uxMode};try{this.analytics.track(Dn.MFA_ENABLEMENT_STARTED,i),await this.connectedConnector.enableMFA(e)}catch(o){throw this.analytics.track(Dn.MFA_ENABLEMENT_FAILED,_e(_e({},i),Sf(o))),o}}async manageMFA(e){var n;if(this.status!==ht.CONNECTED||!this.connectedConnector)throw Ft.notConnectedError("No wallet is connected");if(this.connectedConnector.name!==St.AUTH)throw Ft.unsupportedOperation("ManageMFA is not supported for this connector.");const r=this.connectedConnector,i={connector:this.connectedConnector.name,auth_ux_mode:(n=r.authInstance)===null||n===void 0||(n=n.options)===null||n===void 0?void 0:n.uxMode};try{this.analytics.track(Dn.MFA_MANAGEMENT_SELECTED,i),await this.connectedConnector.manageMFA(e)}catch(o){throw this.analytics.track(Dn.MFA_MANAGEMENT_FAILED,_e(_e({},i),Sf(o))),o}}async getIdentityToken(){if(this.status!==ht.CONNECTED||!this.connectedConnector)throw Ft.notConnectedError("No wallet is connected");const e={connector:this.connectedConnector.name};try{this.analytics.track(Dn.IDENTITY_TOKEN_STARTED,e);const n=await this.connectedConnector.getIdentityToken();return this.analytics.track(Dn.IDENTITY_TOKEN_COMPLETED,e),n}catch(n){throw this.analytics.track(Dn.IDENTITY_TOKEN_FAILED,_e(_e({},e),Sf(n))),n}}getPlugin(e){return this.plugins[e]||null}setAnalyticsProperties(e){this.analytics.setGlobalProperties(e)}initChainsConfig(e){const n=new Map,r=[...e.chains||[],...this.coreOptions.chains||[]];for(const s of r){const a=n.get(s.chainId);a?n.set(s.chainId,_e(_e({},a),s)):n.set(s.chainId,s)}if(this.coreOptions.chains=Array.from(n.values()),this.coreOptions.chains.length===0)throw ct.error("chain info not found. Please configure chains on dashboard at https://dashboard.web3auth.io"),ft.invalidParams("Please configure chains on dashboard at https://dashboard.web3auth.io");const i=new Set(Object.values(tn));for(const s of this.coreOptions.chains){if(!s.chainNamespace||!i.has(s.chainNamespace))throw ct.error(`Please provide a valid chainNamespace in chains for chain ${s.chainId}`),ft.invalidParams(`Please provide a valid chainNamespace in chains for chain ${s.chainId}`);if(s.chainNamespace!==tn.OTHER&&!mE(s.chainId))throw ct.error(`Please provide a valid chainId in chains for chain ${s.chainId}`),ft.invalidParams(`Please provide a valid chainId as hex string in chains for chain ${s.chainId}`);if(s.chainNamespace!==tn.OTHER)try{new URL(s.rpcTarget)}catch(a){throw ct.error(`Please provide a valid rpcTarget in chains for chain ${s.chainId}`,a),ft.invalidParams(`Please provide a valid rpcTarget in chains for chain ${s.chainId}`)}}if(this.coreOptions.accountAbstractionConfig){if(this.coreOptions.accountAbstractionConfig.chains.length===0)throw ct.error("Please configure chains for smart accounts on dashboard at https://dashboard.web3auth.io"),ft.invalidParams("Please configure chains for smart accounts on dashboard at https://dashboard.web3auth.io");for(const s of this.coreOptions.accountAbstractionConfig.chains){if(!mE(s.chainId))throw ct.error(`Please provide a valid chainId in accountAbstractionConfig.chains for chain ${s.chainId}`),ft.invalidParams(`Please provide a valid chainId in accountAbstractionConfig.chains for chain ${s.chainId}`);try{var o;new URL((o=s.bundlerConfig)===null||o===void 0?void 0:o.url)}catch(a){throw ct.error(`Please provide a valid bundlerConfig.url in accountAbstractionConfig.chains for chain ${s.chainId}`,a),ft.invalidParams(`Please provide a valid bundlerConfig.url in accountAbstractionConfig.chains for chain ${s.chainId}`)}if(!n.has(s.chainId))throw ct.error(`Please provide chain config for AA chain in accountAbstractionConfig.chains for chain ${s.chainId}`),ft.invalidParams(`Please provide chain config for AA chain in accountAbstractionConfig.chains for chain ${s.chainId}`)}}}initAccountAbstractionConfig(e){var n;if(!!!(this.coreOptions.accountAbstractionConfig||e!=null&&e.smartAccounts))return;const i=(e==null?void 0:e.smartAccounts)||{},{walletScope:o}=i,s=Cw(i,tte),a=new Map,c=[...(s==null?void 0:s.chains)||[],...((n=this.coreOptions.accountAbstractionConfig)===null||n===void 0?void 0:n.chains)||[]];for(const l of c){const u=a.get(l.chainId);u?a.set(l.chainId,_e(_e({},u),l)):a.set(l.chainId,l)}this.coreOptions.accountAbstractionConfig=_e(_e({},Xn(s||{},this.coreOptions.accountAbstractionConfig||{})),{},{chains:Array.from(a.values())}),this.coreOptions.useAAWithExternalWallet===void 0&&(this.coreOptions.useAAWithExternalWallet=o===iV.ALL)}initUIConfig(e){this.coreOptions.uiConfig=Xn.all([{mode:"light",uxMode:Si.POPUP},dH(e.whitelabel||{}),this.coreOptions.uiConfig||{}])}initCachedConnectorAndChainId(){const e=this.state.currentChainId,n=e&&this.coreOptions.chains.some(i=>i.chainId===e);if(this.coreOptions.defaultChainId&&!mE(this.coreOptions.defaultChainId))throw ft.invalidParams("Please provide a valid defaultChainId in constructor");const r=n?e:this.coreOptions.defaultChainId||this.coreOptions.chains[0].chainId;this.setState({currentChainId:r})}initWalletServicesConfig(e){var n,r,i,o,s,a;const{enableKeyExport:c,walletUi:l}=e,{enablePortfolioWidget:u=!1,enableTokenDisplay:f=!0,enableNftDisplay:p=!0,enableWalletConnect:m=!0,enableBuyButton:w=!0,enableSendButton:y=!0,enableSwapButton:I=!0,enableReceiveButton:S=!0,enableShowAllTokensButton:T=!0,enableConfirmationModal:N=!1,portfolioWidgetPosition:z=FW.BOTTOM_LEFT,defaultPortfolio:$="token"}=l||{},H={showWidgetButton:u,hideNftDisplay:!p,hideTokenDisplay:!f,hideTransfers:!y,hideTopup:!w,hideReceive:!S,hideSwap:!I,hideShowAllTokens:!T,hideWalletConnect:!m,buttonPosition:z,defaultPortfolio:$},K=Xn.all([H,((n=this.coreOptions.walletServicesConfig)===null||n===void 0?void 0:n.whiteLabel)||{}]),j=(r=(i=this.coreOptions.walletServicesConfig)===null||i===void 0?void 0:i.confirmationStrategy)!==null&&r!==void 0?r:N?dM.MODAL:dM.AUTO_APPROVE,B=(o=(s=(a=this.coreOptions.walletServicesConfig)===null||a===void 0?void 0:a.enableKeyExport)!==null&&s!==void 0?s:c)!==null&&o!==void 0?o:!0;this.coreOptions.walletServicesConfig=_e(_e({},this.coreOptions.walletServicesConfig),{},{confirmationStrategy:j,whiteLabel:K,enableKeyExport:B})}getInitializationTrackData(){try{var e,n,r,i,o;const s=(e=this.coreOptions.chains)===null||e===void 0?void 0:e.find(c=>c.chainId===this.coreOptions.defaultChainId),a=Array.from(new Set((n=this.coreOptions.chains)===null||n===void 0?void 0:n.map(c=>T_(c.rpcTarget)))).filter(Boolean);return _e(_e(_e({chain_ids:(r=this.coreOptions.chains)===null||r===void 0?void 0:r.map(c=>Mf(c)),chain_names:(i=this.coreOptions.chains)===null||i===void 0?void 0:i.map(c=>c.displayName),chain_rpc_targets:a,default_chain_id:s?Mf(s):void 0,default_chain_name:s==null?void 0:s.displayName,logging_enabled:this.coreOptions.enableLogging,storage_type:this.coreOptions.storageType,session_time:this.coreOptions.sessionTime,sfa_key_enabled:this.coreOptions.useSFAKey,mipd_enabled:this.coreOptions.multiInjectedProviderDiscovery,private_key_provider_enabled:!!this.coreOptions.privateKeyProvider,ssr_enabled:this.coreOptions.ssr,auth_build_env:this.coreOptions.authBuildEnv,auth_ux_mode:(o=this.coreOptions.uiConfig)===null||o===void 0?void 0:o.uxMode,auth_mfa_level:this.coreOptions.mfaLevel,auth_mfa_settings:Object.keys(this.coreOptions.mfaSettings||{}),aa_enabled_for_external_wallets:this.coreOptions.accountAbstractionConfig?this.coreOptions.useAAWithExternalWallet:void 0},UP(this.coreOptions.uiConfig)),JY(this.coreOptions.accountAbstractionConfig)),ZY(this.coreOptions.walletServicesConfig))}catch(s){return ct.error("Failed to get initialization track data",s),{}}}async setupCommonJRPCProvider(){this.commonJRPCProvider=await TC.getProviderInstance({chain:this.currentChain,chains:this.coreOptions.chains}),this.commonJRPCProvider.on("chainChanged",e=>this.setCurrentChain(e))}async setupConnector(e){this.subscribeToConnectorEvents(e);try{const n=this.getInitialChainIdForConnector(e),r=this.checkIfAutoConnect(e);await e.init({autoConnect:r,chainId:n.chainId})}catch(n){ct.error(n,e.name)}}async loadConnectors({projectConfig:e,modalMode:n}){var r;const i=[...this.coreOptions.connectors||[],dJ()],o={projectConfig:e,coreOptions:this.coreOptions,analytics:this.analytics},s=!!e.externalWalletAuth,a=s&&((r=this.coreOptions.multiInjectedProviderDiscovery)!==null&&r!==void 0?r:!0),c=new Set(this.coreOptions.chains.map(u=>u.chainNamespace));if(a&&vE()){if(c.has(tn.SOLANA)){const{createSolanaMipd:u,hasSolanaWalletStandardFeatures:f,walletStandardConnector:p}=await In(async()=>{const{createSolanaMipd:w,hasSolanaWalletStandardFeatures:y,walletStandardConnector:I}=await import("./index-By4z59B5.js");return{createSolanaMipd:w,hasSolanaWalletStandardFeatures:y,walletStandardConnector:I}},__vite__mapDeps([3,4])),m=u();m.on("register",async(...w)=>{const y=w.filter(f).map(I=>p(I)(o));this.setConnectors(y)}),i.push(...m.get().filter(w=>f(w)).map(p))}if(c.has(tn.EIP155)){const{createMipd:u,injectedEvmConnector:f}=await In(async()=>{const{createMipd:m,injectedEvmConnector:w}=await import("./index-C5kqwo-Z.js");return{createMipd:m,injectedEvmConnector:w}},[]),p=u();p.subscribe(m=>{const w=m.map(y=>f(y)(o));this.setConnectors(w)}),i.push(...p.getProviders().map(f))}}if(vE()&&(c.has(tn.EIP155)||c.has(tn.SOLANA))&&i.push(Zee(n?{headless:!0}:void 0)),vE()&&s&&(c.has(tn.SOLANA)||c.has(tn.EIP155))){const{walletConnectV2Connector:u}=await In(async()=>{const{walletConnectV2Connector:f}=await import("./index-B8MNR1Qe.js");return{walletConnectV2Connector:f}},__vite__mapDeps([5,4]));i.push(u())}const l=i.map(u=>u(o));this.setConnectors(l)}async initPlugins(){const{chains:e,plugins:n}=this.coreOptions,r=n||[];e.some(o=>o.chainNamespace===tn.EIP155||o.chainNamespace===tn.SOLANA)&&r.push(ete());for(const o of r){const s=o();this.plugins[s.name]||(this.plugins[s.name]=s)}}setConnectors(e){const n=o=>`${o.connectorNamespace}-${o.name}`,r=new Set(this.connectors.map(n)),i=e.map(o=>{const s=n(o);return r.has(s)?null:(r.add(s),o)}).filter(o=>o!==null);i.length>0&&(this.connectors=[...this.connectors,...i],this.emit(Et.CONNECTORS_UPDATED,{connectors:i}))}subscribeToConnectorEvents(e){e.on(Et.CONNECTED,async n=>{var r,i;if(!this.commonJRPCProvider)throw ft.notFound("CommonJrpcProvider not found");const{provider:o}=n;if(this.coreOptions.ssr)try{const u=await e.getIdentityToken();if(!u.idToken)throw Ft.connectionError("No idToken found");this.setState({idToken:u.idToken})}catch(u){ct.error(u),this.status=ht.ERRORED,this.emit(Et.ERRORED,u,this.loginMode);return}let s=o.provider||o;const{accountAbstractionConfig:a}=this.coreOptions;if(((r=this.currentChain)===null||r===void 0?void 0:r.chainNamespace)===tn.EIP155&&(a==null||(i=a.chains)===null||i===void 0?void 0:i.some(u=>{var f;return u.chainId===((f=this.currentChain)===null||f===void 0?void 0:f.chainId)}))&&(n.connector===St.AUTH||this.coreOptions.useAAWithExternalWallet)){var l;const{accountAbstractionProvider:u,toEoaProvider:f}=await In(async()=>{const{accountAbstractionProvider:y,toEoaProvider:I}=await import("./index-CwuM12-s.js").then(S=>S.f);return{accountAbstractionProvider:y,toEoaProvider:I}},[]),p=n.connector===St.AUTH?await f(o):o,m=new Set((a==null||(l=a.chains)===null||l===void 0?void 0:l.map(y=>y.chainId))||[]),w=await u({accountAbstractionConfig:a,provider:p,chain:this.currentChain,chains:this.coreOptions.chains.filter(y=>m.has(y.chainId)),useProviderAsTransport:n.connector===St.AUTH});this.aaProvider=w,n.connector!==St.AUTH&&this.coreOptions.useAAWithExternalWallet&&(s=this.aaProvider)}this.commonJRPCProvider.updateProviderEngineProxy(s),this.setState({connectedConnectorName:n.connector}),this.cacheWallet(n.connector),this.status=ht.CONNECTED,ct.debug("connected",this.status,this.connectedConnectorName),this.connectToPlugins(n),this.emit(Et.CONNECTED,_e(_e({},n),{},{loginMode:this.loginMode}))}),e.on(Et.DISCONNECTED,async()=>{this.commonJRPCProvider.removeAllListeners(),this.setupCommonJRPCProvider(),this.status=ht.READY;const n=this.state.cachedConnector;this.connectedConnectorName===n&&this.clearCache(),ct.debug("disconnected",this.status,this.connectedConnectorName),await Promise.all(Object.values(this.plugins).map(async r=>{if(r.SUPPORTED_CONNECTORS.includes(e.name)&&r.status===la.CONNECTED)return r.disconnect().catch(i=>{i.code!==5211&&ct.error(i)})})),this.setState({connectedConnectorName:null}),this.emit(Et.DISCONNECTED)}),e.on(Et.CONNECTING,n=>{this.status=ht.CONNECTING,this.emit(Et.CONNECTING,n),ct.debug("connecting",this.status,this.connectedConnectorName)}),e.on(Et.ERRORED,n=>{this.status=ht.ERRORED,this.clearCache(),this.emit(Et.ERRORED,n,this.loginMode),ct.debug("errored",this.status,this.connectedConnectorName)}),e.on(Et.REHYDRATION_ERROR,n=>{this.status=ht.READY,this.clearCache(),this.emit(Et.REHYDRATION_ERROR,n)}),e.on(Et.CONNECTOR_DATA_UPDATED,n=>{ct.debug("connector data updated",n),this.emit(Et.CONNECTOR_DATA_UPDATED,n)}),e.on(Et.CACHE_CLEAR,n=>{ct.debug("connector cache clear",n),this.clearCache()}),e.on(Et.MFA_ENABLED,n=>{var r;ct.debug("mfa enabled",n);const i=this.connectedConnector;this.analytics.track(Dn.MFA_ENABLEMENT_COMPLETED,{connector:this.connectedConnector.name,auth_ux_mode:(r=i.authInstance)===null||r===void 0||(r=r.options)===null||r===void 0?void 0:r.uxMode,is_mfa_enabled:n}),this.emit(Et.MFA_ENABLED,n)})}checkInitRequirements(){if(this.status===ht.READY)throw ft.notReady("Connector is already initialized")}checkIfAutoConnect(e){var n;let r=this.cachedConnector===e.name;return r&&(n=this.currentChain)!==null&&n!==void 0&&n.chainNamespace&&(e.connectorNamespace===ql.MULTICHAIN?r=!0:r=e.connectorNamespace===this.currentChain.chainNamespace),r}getInitialChainIdForConnector(e){var n;let r=this.currentChain;if(((n=r)===null||n===void 0?void 0:n.chainNamespace)!==e.connectorNamespace&&e.connectorNamespace!==ql.MULTICHAIN&&(r=this.coreOptions.chains.find(i=>i.chainNamespace===e.connectorNamespace),!r))throw ft.invalidParams(`No chain found for ${e.connectorNamespace}`);return r}cacheWallet(e){this.setState({cachedConnector:e})}setCurrentChain(e){if(e===this.currentChainId)return;if(!this.coreOptions.chains.find(r=>r.chainId===e))throw ft.invalidParams(`Invalid chainId: ${e}`);this.setState({currentChainId:e})}connectToPlugins(e){Object.values(this.plugins).map(async n=>{try{var r;if(!n.SUPPORTED_CONNECTORS.includes(e.connector)||n.pluginNamespace!==HD.MULTICHAIN&&n.pluginNamespace!==((r=this.currentChain)===null||r===void 0?void 0:r.chainNamespace)||n.status===la.CONNECTED)return;await n.initWithWeb3Auth(this,this.coreOptions.uiConfig,this.analytics),await n.connect()}catch(i){if(i.code===5211)return;ct.error(i)}})}setState(e){this.state=_e(_e({},this.state),e),this.storage.setItem(gM,JSON.stringify(this.state))}loadState(e){if(e){this.state=e;return}const n=this.storage.getItem(gM);n&&(this.state=sV(n))}getStorageMethod(){return this.coreOptions.ssr||this.coreOptions.storageType==="cookies"?aV({expiry:this.coreOptions.sessionTime}):this.coreOptions.storageType==="session"&&C0("sessionStorage")?window.sessionStorage:this.coreOptions.storageType==="local"&&C0("localStorage")?window.localStorage:new ON}}function rte(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function ite(){const t=new Set;let e=[];const n=()=>rte(i=>{e.some(({info:o})=>o.uuid===i.info.uuid)||(e=[...e,i],t.forEach(o=>o(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:i}){return e.find(o=>o.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(i,{emitImmediately:o}={}){return t.add(i),o&&i(e,{added:e}),()=>t.delete(i)}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const y4=BigInt(0),lS=BigInt(1);function wd(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function $s(t,e,n=""){const r=Q0(t),i=t==null?void 0:t.length,o=e!==void 0;if(!r||o&&i!==e){const s=n&&`"${n}" `,a=o?` of length ${e}`:"",c=r?`length=${i}`:`type=${typeof t}`;throw new Error(s+"expected Uint8Array"+a+", got "+c)}return t}function xv(t){const e=t.toString(16);return e.length&1?"0"+e:e}function KD(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?y4:BigInt("0x"+t)}function l1(t){return KD(ad(t))}function A0(t){return Ca(t),KD(ad(Uint8Array.from(t).reverse()))}function w4(t,e){return yy(t.toString(16).padStart(e*2,"0"))}function WD(t,e){return w4(t,e).reverse()}function fr(t,e,n){let r;if(typeof e=="string")try{r=yy(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(Q0(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function EO(t){return Uint8Array.from(t)}const gx=t=>typeof t=="bigint"&&y4<=t;function ote(t,e,n){return gx(t)&&gx(e)&&gx(n)&&e<=t&&t<n}function uS(t,e,n,r){if(!ote(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function VD(t){let e;for(e=0;t>y4;t>>=lS,e+=1);return e}const hg=t=>(lS<<BigInt(t))-lS;function ste(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=m=>new Uint8Array(m),i=m=>Uint8Array.of(m);let o=r(t),s=r(t),a=0;const c=()=>{o.fill(1),s.fill(0),a=0},l=(...m)=>n(s,o,...m),u=(m=r(0))=>{s=l(i(0),m),o=l(),m.length!==0&&(s=l(i(1),m),o=l())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const w=[];for(;m<e;){o=l();const y=o.slice();w.push(y),m+=o.length}return ha(...w)};return(m,w)=>{c(),u(m);let y;for(;!(y=w(f()));)u();return c(),y}}function pg(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,o,s){const a=t[i];if(s&&a===void 0)return;const c=typeof a;if(c!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${c}`)}Object.entries(e).forEach(([i,o])=>r(i,o,!1)),Object.entries(n).forEach(([i,o])=>r(i,o,!0))}function ew(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fo=BigInt(0),oi=BigInt(1),Ju=BigInt(2),GD=BigInt(3),YD=BigInt(4),JD=BigInt(5),ate=BigInt(7),ZD=BigInt(8),cte=BigInt(9),XD=BigInt(16);function Ar(t,e){const n=t%e;return n>=fo?n:e+n}function dr(t,e,n){let r=t;for(;e-- >fo;)r*=r,r%=n;return r}function xO(t,e){if(t===fo)throw new Error("invert: expected non-zero number");if(e<=fo)throw new Error("invert: expected positive modulus, got "+e);let n=Ar(t,e),r=e,i=fo,o=oi;for(;n!==fo;){const a=r/n,c=r%n,l=i-o*a;r=n,n=c,i=o,o=l}if(r!==oi)throw new Error("invert: does not exist");return Ar(i,e)}function b4(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function QD(t,e){const n=(t.ORDER+oi)/YD,r=t.pow(e,n);return b4(t,r,e),r}function lte(t,e){const n=(t.ORDER-JD)/ZD,r=t.mul(e,Ju),i=t.pow(r,n),o=t.mul(e,i),s=t.mul(t.mul(o,Ju),i),a=t.mul(o,t.sub(s,t.ONE));return b4(t,a,e),a}function ute(t){const e=kd(t),n=e7(t),r=n(e,e.neg(e.ONE)),i=n(e,r),o=n(e,e.neg(r)),s=(t+ate)/XD;return(a,c)=>{let l=a.pow(c,s),u=a.mul(l,r);const f=a.mul(l,i),p=a.mul(l,o),m=a.eql(a.sqr(u),c),w=a.eql(a.sqr(f),c);l=a.cmov(l,u,m),u=a.cmov(p,f,w);const y=a.eql(a.sqr(u),c),I=a.cmov(l,u,y);return b4(a,I,c),I}}function e7(t){if(t<GD)throw new Error("sqrt is not defined for small field");let e=t-oi,n=0;for(;e%Ju===fo;)e/=Ju,n++;let r=Ju;const i=kd(t);for(;_O(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return QD;let o=i.pow(r,e);const s=(e+oi)/Ju;return function(c,l){if(c.is0(l))return l;if(_O(c,l)!==1)throw new Error("Cannot find square root");let u=n,f=c.mul(c.ONE,o),p=c.pow(l,e),m=c.pow(l,s);for(;!c.eql(p,c.ONE);){if(c.is0(p))return c.ZERO;let w=1,y=c.sqr(p);for(;!c.eql(y,c.ONE);)if(w++,y=c.sqr(y),w===u)throw new Error("Cannot find square root");const I=oi<<BigInt(u-w-1),S=c.pow(f,I);u=w,f=c.sqr(S),p=c.mul(p,f),m=c.mul(m,S)}return m}}function dte(t){return t%YD===GD?QD:t%ZD===JD?lte:t%XD===cte?ute(t):e7(t)}const fte=(t,e)=>(Ar(t,e)&oi)===oi,hte=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function pte(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=hte.reduce((r,i)=>(r[i]="function",r),e);return pg(t,n),t}function gte(t,e,n){if(n<fo)throw new Error("invalid exponent, negatives unsupported");if(n===fo)return t.ONE;if(n===oi)return e;let r=t.ONE,i=e;for(;n>fo;)n&oi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=oi;return r}function t7(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((s,a,c)=>t.is0(a)?s:(r[c]=s,t.mul(s,a)),t.ONE),o=t.inv(i);return e.reduceRight((s,a,c)=>t.is0(a)?s:(r[c]=t.mul(s,r[c]),t.mul(s,a)),o),r}function _O(t,e){const n=(t.ORDER-oi)/Ju,r=t.pow(e,n),i=t.eql(r,t.ONE),o=t.eql(r,t.ZERO),s=t.eql(r,t.neg(t.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function n7(t,e){e!==void 0&&r0(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function kd(t,e,n=!1,r={}){if(t<=fo)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o,s=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const p=e;p.BITS&&(i=p.BITS),p.sqrt&&(o=p.sqrt),typeof p.isLE=="boolean"&&(n=p.isLE),typeof p.modFromBytes=="boolean"&&(s=p.modFromBytes),a=p.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(o=r.sqrt);const{nBitLength:c,nByteLength:l}=n7(t,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const f=Object.freeze({ORDER:t,isLE:n,BITS:c,BYTES:l,MASK:hg(c),ZERO:fo,ONE:oi,allowedLengths:a,create:p=>Ar(p,t),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return fo<=p&&p<t},is0:p=>p===fo,isValidNot0:p=>!f.is0(p)&&f.isValid(p),isOdd:p=>(p&oi)===oi,neg:p=>Ar(-p,t),eql:(p,m)=>p===m,sqr:p=>Ar(p*p,t),add:(p,m)=>Ar(p+m,t),sub:(p,m)=>Ar(p-m,t),mul:(p,m)=>Ar(p*m,t),pow:(p,m)=>gte(f,p,m),div:(p,m)=>Ar(p*xO(m,t),t),sqrN:p=>p*p,addN:(p,m)=>p+m,subN:(p,m)=>p-m,mulN:(p,m)=>p*m,inv:p=>xO(p,t),sqrt:o||(p=>(u||(u=dte(t)),u(f,p))),toBytes:p=>n?WD(p,l):w4(p,l),fromBytes:(p,m=!0)=>{if(a){if(!a.includes(p.length)||p.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+p.length);const y=new Uint8Array(l);y.set(p,n?0:y.length-p.length),p=y}if(p.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+p.length);let w=n?A0(p):l1(p);if(s&&(w=Ar(w,t)),!m&&!f.isValid(w))throw new Error("invalid field element: outside of range 0..ORDER");return w},invertBatch:p=>t7(f,p),cmov:(p,m,w)=>w?m:p});return Object.freeze(f)}function r7(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function i7(t){const e=r7(t);return e+Math.ceil(e/2)}function mte(t,e,n=!1){const r=t.length,i=r7(e),o=i7(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?A0(t):l1(t),a=Ar(s,e-oi)+oi;return n?WD(a,i):w4(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gh=BigInt(0),Zu=BigInt(1);function tw(t,e){const n=e.negate();return t?n:e}function Xu(t,e){const n=t7(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function o7(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function mx(t,e){o7(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,o=hg(t),s=BigInt(t);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function SO(t,e,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(t&i),c=t>>s;a>r&&(a-=o,c+=Zu);const l=e*r,u=l+Math.abs(a)-1,f=a===0,p=a<0,m=e%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:p,isNegF:m,offsetF:l}}function vte(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function yte(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const vx=new WeakMap,s7=new WeakMap;function yx(t){return s7.get(t)||1}function CO(t){if(t!==gh)throw new Error("invalid wNAF")}class a7{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>gh;)n&Zu&&(r=r.add(i)),i=i.double(),n>>=Zu;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=mx(n,this.bits),o=[];let s=e,a=s;for(let c=0;c<r;c++){a=s,o.push(a);for(let l=1;l<i;l++)a=a.add(s),o.push(a);s=a.double()}return o}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,o=this.BASE;const s=mx(e,this.bits);for(let a=0;a<s.windows;a++){const{nextN:c,offset:l,isZero:u,isNeg:f,isNegF:p,offsetF:m}=SO(r,a,s);r=c,u?o=o.add(tw(p,n[m])):i=i.add(tw(f,n[l]))}return CO(r),{p:i,f:o}}wNAFUnsafe(e,n,r,i=this.ZERO){const o=mx(e,this.bits);for(let s=0;s<o.windows&&r!==gh;s++){const{nextN:a,offset:c,isZero:l,isNeg:u}=SO(r,s,o);if(r=a,!l){const f=n[c];i=i.add(u?f.negate():f)}}return CO(r),i}getPrecomputes(e,n,r){let i=vx.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),vx.set(n,i))),i}cached(e,n,r){const i=yx(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const o=yx(e);return o===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,e,r),n,i)}createCache(e,n){o7(n,this.bits),s7.set(e,n),vx.delete(e)}hasCache(e){return yx(e)!==1}}function wte(t,e,n,r){let i=e,o=t.ZERO,s=t.ZERO;for(;n>gh||r>gh;)n&Zu&&(o=o.add(i)),r&Zu&&(s=s.add(i)),i=i.double(),n>>=Zu,r>>=Zu;return{p1:o,p2:s}}function c7(t,e,n,r){vte(n,t),yte(r,e);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=VD(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=hg(c),u=new Array(Number(l)+1).fill(s),f=Math.floor((e.BITS-1)/c)*c;let p=s;for(let m=f;m>=0;m-=c){u.fill(s);for(let y=0;y<o;y++){const I=r[y],S=Number(I>>BigInt(m)&l);u[S]=u[S].add(n[y])}let w=s;for(let y=u.length-1,I=s;y>0;y--)I=I.add(u[y]),w=w.add(I);if(p=p.add(w),m!==0)for(let y=0;y<c;y++)p=p.double()}return p}function AO(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return pte(e),e}else return kd(t,{isLE:n})}function l7(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const c of["p","n","h"]){const l=e[c];if(!(typeof l=="bigint"&&l>gh))throw new Error(`CURVE.${c} must be positive bigint`)}const i=AO(e.p,n.Fp,r),o=AO(e.n,n.Fn,r),a=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const c of a)if(!i.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ul=BigInt(0),zr=BigInt(1),wx=BigInt(2),bte=BigInt(8);function Ete(t,e,n,r){const i=t.sqr(n),o=t.sqr(r),s=t.add(t.mul(e.a,i),o),a=t.add(t.ONE,t.mul(e.d,t.mul(i,o)));return t.eql(s,a)}function xte(t,e={}){const n=l7("edwards",t,e,e.FpFnLE),{Fp:r,Fn:i}=n;let o=n.CURVE;const{h:s}=o;pg(e,{},{uvRatio:"function"});const a=wx<<BigInt(i.BYTES*8)-zr,c=I=>r.create(I),l=e.uvRatio||((I,S)=>{try{return{isValid:!0,value:r.sqrt(r.div(I,S))}}catch{return{isValid:!1,value:ul}}});if(!Ete(r,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function u(I,S,T=!1){const N=T?zr:ul;return uS("coordinate "+I,S,N,a),S}function f(I){if(!(I instanceof w))throw new Error("ExtendedPoint expected")}const p=ew((I,S)=>{const{X:T,Y:N,Z:z}=I,$=I.is0();S==null&&(S=$?bte:r.inv(z));const H=c(T*S),K=c(N*S),j=r.mul(z,S);if($)return{x:ul,y:zr};if(j!==zr)throw new Error("invZ was invalid");return{x:H,y:K}}),m=ew(I=>{const{a:S,d:T}=o;if(I.is0())throw new Error("bad point: ZERO");const{X:N,Y:z,Z:$,T:H}=I,K=c(N*N),j=c(z*z),B=c($*$),D=c(B*B),P=c(K*S),E=c(B*c(P+j)),b=c(D+c(T*c(K*j)));if(E!==b)throw new Error("bad point: equation left != right (1)");const g=c(N*z),v=c($*H);if(g!==v)throw new Error("bad point: equation left != right (2)");return!0});class w{constructor(S,T,N,z){this.X=u("x",S),this.Y=u("y",T),this.Z=u("z",N,!0),this.T=u("t",z),Object.freeze(this)}static CURVE(){return o}static fromAffine(S){if(S instanceof w)throw new Error("extended point not allowed");const{x:T,y:N}=S||{};return u("x",T),u("y",N),new w(T,N,zr,c(T*N))}static fromBytes(S,T=!1){const N=r.BYTES,{a:z,d:$}=o;S=EO($s(S,N,"point")),wd(T,"zip215");const H=EO(S),K=S[N-1];H[N-1]=K&-129;const j=A0(H),B=T?a:r.ORDER;uS("point.y",j,ul,B);const D=c(j*j),P=c(D-zr),E=c($*D-z);let{isValid:b,value:g}=l(P,E);if(!b)throw new Error("bad point: invalid y coordinate");const v=(g&zr)===zr,A=(K&128)!==0;if(!T&&g===ul&&A)throw new Error("bad point: x=0 and x_0=1");return A!==v&&(g=c(-g)),w.fromAffine({x:g,y:j})}static fromHex(S,T=!1){return w.fromBytes(fr("point",S),T)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(S=8,T=!0){return y.createCache(this,S),T||this.multiply(wx),this}assertValidity(){m(this)}equals(S){f(S);const{X:T,Y:N,Z:z}=this,{X:$,Y:H,Z:K}=S,j=c(T*K),B=c($*z),D=c(N*K),P=c(H*z);return j===B&&D===P}is0(){return this.equals(w.ZERO)}negate(){return new w(c(-this.X),this.Y,this.Z,c(-this.T))}double(){const{a:S}=o,{X:T,Y:N,Z:z}=this,$=c(T*T),H=c(N*N),K=c(wx*c(z*z)),j=c(S*$),B=T+N,D=c(c(B*B)-$-H),P=j+H,E=P-K,b=j-H,g=c(D*E),v=c(P*b),A=c(D*b),L=c(E*P);return new w(g,v,L,A)}add(S){f(S);const{a:T,d:N}=o,{X:z,Y:$,Z:H,T:K}=this,{X:j,Y:B,Z:D,T:P}=S,E=c(z*j),b=c($*B),g=c(K*N*P),v=c(H*D),A=c((z+$)*(j+B)-E-b),L=v-g,C=v+g,O=c(b-T*E),x=c(A*L),R=c(C*O),_=c(A*O),k=c(L*C);return new w(x,R,k,_)}subtract(S){return this.add(S.negate())}multiply(S){if(!i.isValidNot0(S))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:T,f:N}=y.cached(this,S,z=>Xu(w,z));return Xu(w,[T,N])[0]}multiplyUnsafe(S,T=w.ZERO){if(!i.isValid(S))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return S===ul?w.ZERO:this.is0()||S===zr?this:y.unsafe(this,S,N=>Xu(w,N),T)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return y.unsafe(this,o.n).is0()}toAffine(S){return p(this,S)}clearCofactor(){return s===zr?this:this.multiplyUnsafe(s)}toBytes(){const{x:S,y:T}=this.toAffine(),N=r.toBytes(T);return N[N.length-1]|=S&zr?128:0,N}toHex(){return ad(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(S){return Xu(w,S)}static msm(S,T){return c7(w,i,S,T)}_setWindowSize(S){this.precompute(S)}toRawBytes(){return this.toBytes()}}w.BASE=new w(o.Gx,o.Gy,zr,c(o.Gx*o.Gy)),w.ZERO=new w(ul,zr,zr,ul),w.Fp=r,w.Fn=i;const y=new a7(w,i.BITS);return w.BASE.precompute(8),w}function _te(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');pg(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:i,Fp:o,Fn:s}=t,a=n.randomBytes||KS,c=n.adjustScalarBytes||(B=>B),l=n.domain||((B,D,P)=>{if(wd(P,"phflag"),D.length||P)throw new Error("Contexts/pre-hash are not supported");return B});function u(B){return s.create(A0(B))}function f(B){const D=N.secretKey;B=fr("private key",B,D);const P=fr("hashed private key",e(B),2*D),E=c(P.slice(0,D)),b=P.slice(D,2*D),g=u(E);return{head:E,prefix:b,scalar:g}}function p(B){const{head:D,prefix:P,scalar:E}=f(B),b=i.multiply(E),g=b.toBytes();return{head:D,prefix:P,scalar:E,point:b,pointBytes:g}}function m(B){return p(B).pointBytes}function w(B=Uint8Array.of(),...D){const P=ha(...D);return u(e(l(P,fr("context",B),!!r)))}function y(B,D,P={}){B=fr("message",B),r&&(B=r(B));const{prefix:E,scalar:b,pointBytes:g}=p(D),v=w(P.context,E,B),A=i.multiply(v).toBytes(),L=w(P.context,A,g,B),C=s.create(v+L*b);if(!s.isValid(C))throw new Error("sign failed: invalid s");const O=ha(A,s.toBytes(C));return $s(O,N.signature,"result")}const I={zip215:!0};function S(B,D,P,E=I){const{context:b,zip215:g}=E,v=N.signature;B=fr("signature",B,v),D=fr("message",D),P=fr("publicKey",P,N.publicKey),g!==void 0&&wd(g,"zip215"),r&&(D=r(D));const A=v/2,L=B.subarray(0,A),C=A0(B.subarray(A,v));let O,x,R;try{O=t.fromBytes(P,g),x=t.fromBytes(L,g),R=i.multiplyUnsafe(C)}catch{return!1}if(!g&&O.isSmallOrder())return!1;const _=w(b,x.toBytes(),O.toBytes(),D);return x.add(O.multiplyUnsafe(_)).subtract(R).clearCofactor().is0()}const T=o.BYTES,N={secretKey:T,publicKey:T,signature:2*T,seed:T};function z(B=a(N.seed)){return $s(B,N.seed,"seed")}function $(B){const D=j.randomSecretKey(B);return{secretKey:D,publicKey:m(D)}}function H(B){return Q0(B)&&B.length===s.BYTES}function K(B,D){try{return!!t.fromBytes(B,D)}catch{return!1}}const j={getExtendedPublicKey:p,randomSecretKey:z,isValidSecretKey:H,isValidPublicKey:K,toMontgomery(B){const{y:D}=t.fromBytes(B),P=N.publicKey,E=P===32;if(!E&&P!==57)throw new Error("only defined for 25519 and 448");const b=E?o.div(zr+D,zr-D):o.div(D-zr,D+zr);return o.toBytes(b)},toMontgomeryPriv(B){const D=N.secretKey;$s(B,D);const P=e(B.subarray(0,D));return c(P).subarray(0,D)},randomPrivateKey:z,precompute(B=8,D=t.BASE){return D.precompute(B,!1)}};return Object.freeze({keygen:$,getPublicKey:m,sign:y,verify:S,utils:j,Point:t,lengths:N})}function Ste(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=kd(e.n,t.nBitLength,!0),i={Fp:n,Fn:r,uvRatio:t.uvRatio},o={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:i,hash:t.hash,eddsaOpts:o}}function Cte(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function Ate(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:i}=Ste(t),o=xte(e,n),s=_te(o,r,i);return Cte(t,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ite=BigInt(1),IO=BigInt(2);BigInt(3);const kte=BigInt(5),Mte=BigInt(8),E4=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),u7={p:E4,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Mte,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Rte(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=E4,a=t*t%o*t%o,c=dr(a,IO,o)*a%o,l=dr(c,Ite,o)*t%o,u=dr(l,kte,o)*l%o,f=dr(u,e,o)*u%o,p=dr(f,n,o)*f%o,m=dr(p,r,o)*p%o,w=dr(m,i,o)*m%o,y=dr(w,i,o)*m%o,I=dr(y,e,o)*u%o;return{pow_p_5_8:dr(I,IO,o)*t%o,b2:a}}function Ote(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const kO=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function Tte(t,e){const n=E4,r=Ar(e*e*e,n),i=Ar(r*r*e,n),o=Rte(t*i).pow_p_5_8;let s=Ar(t*r*o,n);const a=Ar(e*s*s,n),c=s,l=Ar(s*kO,n),u=a===t,f=a===Ar(-t,n),p=a===Ar(-t*kO,n);return u&&(s=c),(f||p)&&(s=l),fte(s,n)&&(s=Ar(-s,n)),{isValid:u||f,value:s}}const Nte=kd(u7.p,{isLE:!0}),Pte={...u7,Fp:Nte,hash:$U,adjustScalarBytes:Ote,uvRatio:Tte},gg=Ate(Pte);var bx,MO;function Lte(){if(MO)return bx;MO=1;var t=PN().Buffer;function e(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var o=0;o<n.length;o++){var s=n.charAt(o),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=o}var c=n.length,l=n.charAt(0),u=Math.log(c)/Math.log(256),f=Math.log(256)/Math.log(c);function p(y){if((Array.isArray(y)||y instanceof Uint8Array)&&(y=t.from(y)),!t.isBuffer(y))throw new TypeError("Expected Buffer");if(y.length===0)return"";for(var I=0,S=0,T=0,N=y.length;T!==N&&y[T]===0;)T++,I++;for(var z=(N-T)*f+1>>>0,$=new Uint8Array(z);T!==N;){for(var H=y[T],K=0,j=z-1;(H!==0||K<S)&&j!==-1;j--,K++)H+=256*$[j]>>>0,$[j]=H%c>>>0,H=H/c>>>0;if(H!==0)throw new Error("Non-zero carry");S=K,T++}for(var B=z-S;B!==z&&$[B]===0;)B++;for(var D=l.repeat(I);B<z;++B)D+=n.charAt($[B]);return D}function m(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return t.alloc(0);for(var I=0,S=0,T=0;y[I]===l;)S++,I++;for(var N=(y.length-I)*u+1>>>0,z=new Uint8Array(N);I<y.length;){var $=y.charCodeAt(I);if($>255)return;var H=r[$];if(H===255)return;for(var K=0,j=N-1;(H!==0||K<T)&&j!==-1;j--,K++)H+=c*z[j]>>>0,z[j]=H%256>>>0,H=H/256>>>0;if(H!==0)throw new Error("Non-zero carry");T=K,I++}for(var B=N-T;B!==N&&z[B]===0;)B++;var D=t.allocUnsafe(S+(N-B));D.fill(0,0,S);for(var P=S;B!==N;)D[P++]=z[B++];return D}function w(y){var I=m(y);if(I)return I;throw new Error("Non-base"+c+" character")}return{encode:p,decodeUnsafe:m,decode:w}}return bx=e,bx}var Ex,RO;function d7(){if(RO)return Ex;RO=1;var t=Lte(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return Ex=t(e),Ex}var Bte=d7();const ni=si(Bte),OO=T9;var Ln={};function fc(t,e,n){return e<=t&&t<=n}function u1(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function Dte(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var o=e.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var s=t.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=o&1023,c=s&1023;i.push(65536+(a<<10)+c),r+=1}else i.push(65533)}r+=1}return i}function jte(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var nw=-1;function x4(t){this.tokens=[].slice.call(t)}x4.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():nw},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var mh=-1;function xx(t,e){if(t)throw TypeError("Decoder error");return e||65533}var rw="utf-8";function iw(t,e){if(!(this instanceof iw))return new iw(t,e);if(t=t!==void 0?String(t).toLowerCase():rw,t!==rw)throw new Error("Encoding not supported. Only utf-8 is supported");e=u1(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}iw.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=u1(n),this._streaming||(this._decoder=new $te({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new x4(r),o=[],s;!i.endOfStream()&&(s=this._decoder.handler(i,i.read()),s!==mh);)s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));if(!this._streaming){do{if(s=this._decoder.handler(i,i.read()),s===mh)break;s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),jte(o)}};function ow(t,e){if(!(this instanceof ow))return new ow(t,e);if(t=t!==void 0?String(t).toLowerCase():rw,t!==rw)throw new Error("Encoding not supported. Only utf-8 is supported");e=u1(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}ow.prototype={encode:function(e,n){e=e?String(e):"",n=u1(n),this._streaming||(this._encoder=new Fte(this._options)),this._streaming=!!n.stream;for(var r=[],i=new x4(Dte(e)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==mh);)Array.isArray(o)?r.push.apply(r,o):r.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==mh;)Array.isArray(o)?r.push.apply(r,o):r.push(o);this._encoder=null}return new Uint8Array(r)}};function $te(t){var e=t.fatal,n=0,r=0,i=0,o=128,s=191;this.handler=function(a,c){if(c===nw&&i!==0)return i=0,xx(e);if(c===nw)return mh;if(i===0){if(fc(c,0,127))return c;if(fc(c,194,223))i=1,n=c-192;else if(fc(c,224,239))c===224&&(o=160),c===237&&(s=159),i=2,n=c-224;else if(fc(c,240,244))c===240&&(o=144),c===244&&(s=143),i=3,n=c-240;else return xx(e);return n=n<<6*i,null}if(!fc(c,o,s))return n=i=r=0,o=128,s=191,a.prepend(c),xx(e);if(o=128,s=191,r+=1,n+=c-128<<6*(i-r),r!==i)return null;var l=n;return n=i=r=0,l}}function Fte(t){t.fatal,this.handler=function(e,n){if(n===nw)return mh;if(fc(n,0,127))return n;var r,i;fc(n,128,2047)?(r=1,i=192):fc(n,2048,65535)?(r=2,i=224):fc(n,65536,1114111)&&(r=3,i=240);for(var o=[(n>>6*r)+i];r>0;){var s=n>>6*(r-1);o.push(128|s&63),r-=1}return o}}const Ute=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:iw,TextEncoder:ow},Symbol.toStringTag,{value:"Module"})),zte=US(Ute);var TO;function qte(){if(TO)return Ln;TO=1;var t=Ln&&Ln.__createBinding||(Object.create?function(B,D,P,E){E===void 0&&(E=P),Object.defineProperty(B,E,{enumerable:!0,get:function(){return D[P]}})}:function(B,D,P,E){E===void 0&&(E=P),B[E]=D[P]}),e=Ln&&Ln.__setModuleDefault||(Object.create?function(B,D){Object.defineProperty(B,"default",{enumerable:!0,value:D})}:function(B,D){B.default=D}),n=Ln&&Ln.__decorate||function(B,D,P,E){var b=arguments.length,g=b<3?D:E===null?E=Object.getOwnPropertyDescriptor(D,P):E,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(B,D,P,E);else for(var A=B.length-1;A>=0;A--)(v=B[A])&&(g=(b<3?v(g):b>3?v(D,P,g):v(D,P))||g);return b>3&&g&&Object.defineProperty(D,P,g),g},r=Ln&&Ln.__importStar||function(B){if(B&&B.__esModule)return B;var D={};if(B!=null)for(var P in B)P!=="default"&&Object.hasOwnProperty.call(B,P)&&t(D,B,P);return e(D,B),D},i=Ln&&Ln.__importDefault||function(B){return B&&B.__esModule?B:{default:B}};Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.deserializeUnchecked=Ln.deserialize=Ln.serialize=Ln.BinaryReader=Ln.BinaryWriter=Ln.BorshError=Ln.baseDecode=Ln.baseEncode=void 0;const o=i(C9()),s=i(d7()),a=r(zte),c=typeof TextDecoder!="function"?a.TextDecoder:TextDecoder,l=new c("utf-8",{fatal:!0});function u(B){return typeof B=="string"&&(B=Buffer.from(B,"utf8")),s.default.encode(Buffer.from(B))}Ln.baseEncode=u;function f(B){return Buffer.from(s.default.decode(B))}Ln.baseDecode=f;const p=1024;class m extends Error{constructor(D){super(D),this.fieldPath=[],this.originalMessage=D}addToFieldPath(D){this.fieldPath.splice(0,0,D),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Ln.BorshError=m;class w{constructor(){this.buf=Buffer.alloc(p),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(p)]))}writeU8(D){this.maybeResize(),this.buf.writeUInt8(D,this.length),this.length+=1}writeU16(D){this.maybeResize(),this.buf.writeUInt16LE(D,this.length),this.length+=2}writeU32(D){this.maybeResize(),this.buf.writeUInt32LE(D,this.length),this.length+=4}writeU64(D){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(D).toArray("le",8)))}writeU128(D){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(D).toArray("le",16)))}writeU256(D){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(D).toArray("le",32)))}writeU512(D){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(D).toArray("le",64)))}writeBuffer(D){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),D,Buffer.alloc(p)]),this.length+=D.length}writeString(D){this.maybeResize();const P=Buffer.from(D,"utf8");this.writeU32(P.length),this.writeBuffer(P)}writeFixedArray(D){this.writeBuffer(Buffer.from(D))}writeArray(D,P){this.maybeResize(),this.writeU32(D.length);for(const E of D)this.maybeResize(),P(E)}toArray(){return this.buf.subarray(0,this.length)}}Ln.BinaryWriter=w;function y(B,D,P){const E=P.value;P.value=function(...b){try{return E.apply(this,b)}catch(g){if(g instanceof RangeError){const v=g.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(v)>=0)throw new m("Reached the end of buffer when deserializing")}throw g}}}class I{constructor(D){this.buf=D,this.offset=0}readU8(){const D=this.buf.readUInt8(this.offset);return this.offset+=1,D}readU16(){const D=this.buf.readUInt16LE(this.offset);return this.offset+=2,D}readU32(){const D=this.buf.readUInt32LE(this.offset);return this.offset+=4,D}readU64(){const D=this.readBuffer(8);return new o.default(D,"le")}readU128(){const D=this.readBuffer(16);return new o.default(D,"le")}readU256(){const D=this.readBuffer(32);return new o.default(D,"le")}readU512(){const D=this.readBuffer(64);return new o.default(D,"le")}readBuffer(D){if(this.offset+D>this.buf.length)throw new m(`Expected buffer length ${D} isn't within bounds`);const P=this.buf.slice(this.offset,this.offset+D);return this.offset+=D,P}readString(){const D=this.readU32(),P=this.readBuffer(D);try{return l.decode(P)}catch(E){throw new m(`Error decoding UTF-8 string: ${E}`)}}readFixedArray(D){return new Uint8Array(this.readBuffer(D))}readArray(D){const P=this.readU32(),E=Array();for(let b=0;b<P;++b)E.push(D());return E}}n([y],I.prototype,"readU8",null),n([y],I.prototype,"readU16",null),n([y],I.prototype,"readU32",null),n([y],I.prototype,"readU64",null),n([y],I.prototype,"readU128",null),n([y],I.prototype,"readU256",null),n([y],I.prototype,"readU512",null),n([y],I.prototype,"readString",null),n([y],I.prototype,"readFixedArray",null),n([y],I.prototype,"readArray",null),Ln.BinaryReader=I;function S(B){return B.charAt(0).toUpperCase()+B.slice(1)}function T(B,D,P,E,b){try{if(typeof E=="string")b[`write${S(E)}`](P);else if(E instanceof Array)if(typeof E[0]=="number"){if(P.length!==E[0])throw new m(`Expecting byte array of length ${E[0]}, but got ${P.length} bytes`);b.writeFixedArray(P)}else if(E.length===2&&typeof E[1]=="number"){if(P.length!==E[1])throw new m(`Expecting byte array of length ${E[1]}, but got ${P.length} bytes`);for(let g=0;g<E[1];g++)T(B,null,P[g],E[0],b)}else b.writeArray(P,g=>{T(B,D,g,E[0],b)});else if(E.kind!==void 0)switch(E.kind){case"option":{P==null?b.writeU8(0):(b.writeU8(1),T(B,D,P,E.type,b));break}case"map":{b.writeU32(P.size),P.forEach((g,v)=>{T(B,D,v,E.key,b),T(B,D,g,E.value,b)});break}default:throw new m(`FieldType ${E} unrecognized`)}else N(B,P,b)}catch(g){throw g instanceof m&&g.addToFieldPath(D),g}}function N(B,D,P){if(typeof D.borshSerialize=="function"){D.borshSerialize(P);return}const E=B.get(D.constructor);if(!E)throw new m(`Class ${D.constructor.name} is missing in schema`);if(E.kind==="struct")E.fields.map(([b,g])=>{T(B,b,D[b],g,P)});else if(E.kind==="enum"){const b=D[E.field];for(let g=0;g<E.values.length;++g){const[v,A]=E.values[g];if(v===b){P.writeU8(g),T(B,v,D[v],A,P);break}}}else throw new m(`Unexpected schema kind: ${E.kind} for ${D.constructor.name}`)}function z(B,D,P=w){const E=new P;return N(B,D,E),E.toArray()}Ln.serialize=z;function $(B,D,P,E){try{if(typeof P=="string")return E[`read${S(P)}`]();if(P instanceof Array){if(typeof P[0]=="number")return E.readFixedArray(P[0]);if(typeof P[1]=="number"){const b=[];for(let g=0;g<P[1];g++)b.push($(B,null,P[0],E));return b}else return E.readArray(()=>$(B,D,P[0],E))}if(P.kind==="option")return E.readU8()?$(B,D,P.type,E):void 0;if(P.kind==="map"){let b=new Map;const g=E.readU32();for(let v=0;v<g;v++){const A=$(B,D,P.key,E),L=$(B,D,P.value,E);b.set(A,L)}return b}return H(B,P,E)}catch(b){throw b instanceof m&&b.addToFieldPath(D),b}}function H(B,D,P){if(typeof D.borshDeserialize=="function")return D.borshDeserialize(P);const E=B.get(D);if(!E)throw new m(`Class ${D.name} is missing in schema`);if(E.kind==="struct"){const b={};for(const[g,v]of B.get(D).fields)b[g]=$(B,g,v,P);return new D(b)}if(E.kind==="enum"){const b=P.readU8();if(b>=E.values.length)throw new m(`Enum index: ${b} is out of range`);const[g,v]=E.values[b],A=$(B,g,v,P);return new D({[g]:A})}throw new m(`Unexpected schema kind: ${E.kind} for ${D.constructor.name}`)}function K(B,D,P,E=I){const b=new E(P),g=H(B,D,b);if(b.offset<P.length)throw new m(`Unexpected ${P.length-b.offset} bytes after deserialized data`);return g}Ln.deserialize=K;function j(B,D,P,E=I){const b=new E(P);return H(B,D,b)}return Ln.deserializeUnchecked=j,Ln}var _x=qte(),Pe={},NO;function Hte(){if(NO)return Pe;NO=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.s16=Pe.s8=Pe.nu64be=Pe.u48be=Pe.u40be=Pe.u32be=Pe.u24be=Pe.u16be=Pe.nu64=Pe.u48=Pe.u40=Pe.u32=Pe.u24=Pe.u16=Pe.u8=Pe.offset=Pe.greedy=Pe.Constant=Pe.UTF8=Pe.CString=Pe.Blob=Pe.Boolean=Pe.BitField=Pe.BitStructure=Pe.VariantLayout=Pe.Union=Pe.UnionLayoutDiscriminator=Pe.UnionDiscriminator=Pe.Structure=Pe.Sequence=Pe.DoubleBE=Pe.Double=Pe.FloatBE=Pe.Float=Pe.NearInt64BE=Pe.NearInt64=Pe.NearUInt64BE=Pe.NearUInt64=Pe.IntBE=Pe.Int=Pe.UIntBE=Pe.UInt=Pe.OffsetLayout=Pe.GreedyCount=Pe.ExternalLayout=Pe.bindConstructorLayout=Pe.nameWithProperty=Pe.Layout=Pe.uint8ArrayToBuffer=Pe.checkUint8Array=void 0,Pe.constant=Pe.utf8=Pe.cstr=Pe.blob=Pe.unionLayoutDiscriminator=Pe.union=Pe.seq=Pe.bits=Pe.struct=Pe.f64be=Pe.f64=Pe.f32be=Pe.f32=Pe.ns64be=Pe.s48be=Pe.s40be=Pe.s32be=Pe.s24be=Pe.s16be=Pe.ns64=Pe.s48=Pe.s40=Pe.s32=Pe.s24=void 0;const t=Ma();function e(_){if(!(_ instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Pe.checkUint8Array=e;function n(_){return e(_),t.Buffer.from(_.buffer,_.byteOffset,_.length)}Pe.uint8ArrayToBuffer=n;let r=class{constructor(k,U){if(!Number.isInteger(k))throw new TypeError("span must be an integer");this.span=k,this.property=U}makeDestinationObject(){return{}}getSpan(k,U){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(k){const U=Object.create(this.constructor.prototype);return Object.assign(U,this),U.property=k,U}fromArray(k){}};Pe.Layout=r;function i(_,k){return k.property?_+"["+k.property+"]":_}Pe.nameWithProperty=i;function o(_,k){if(typeof _!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(_,"layout_"))throw new Error("Class is already bound to a layout");if(!(k&&k instanceof r))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(k,"boundConstructor_"))throw new Error("layout is already bound to a constructor");_.layout_=k,k.boundConstructor_=_,k.makeDestinationObject=()=>new _,Object.defineProperty(_.prototype,"encode",{value(U,q){return k.encode(this,U,q)},writable:!0}),Object.defineProperty(_,"decode",{value(U,q){return k.decode(U,q)},writable:!0})}Pe.bindConstructorLayout=o;class s extends r{isCount(){throw new Error("ExternalLayout is abstract")}}Pe.ExternalLayout=s;class a extends s{constructor(k=1,U){if(!Number.isInteger(k)||0>=k)throw new TypeError("elementSpan must be a (positive) integer");super(-1,U),this.elementSpan=k}isCount(){return!0}decode(k,U=0){e(k);const q=k.length-U;return Math.floor(q/this.elementSpan)}encode(k,U,q){return 0}}Pe.GreedyCount=a;class c extends s{constructor(k,U=0,q){if(!(k instanceof r))throw new TypeError("layout must be a Layout");if(!Number.isInteger(U))throw new TypeError("offset must be integer or undefined");super(k.span,q||k.property),this.layout=k,this.offset=U}isCount(){return this.layout instanceof l||this.layout instanceof u}decode(k,U=0){return this.layout.decode(k,U+this.offset)}encode(k,U,q=0){return this.layout.encode(k,U,q+this.offset)}}Pe.OffsetLayout=c;class l extends r{constructor(k,U){if(super(k,U),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(k,U=0){return n(k).readUIntLE(U,this.span)}encode(k,U,q=0){return n(U).writeUIntLE(k,q,this.span),this.span}}Pe.UInt=l;class u extends r{constructor(k,U){if(super(k,U),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(k,U=0){return n(k).readUIntBE(U,this.span)}encode(k,U,q=0){return n(U).writeUIntBE(k,q,this.span),this.span}}Pe.UIntBE=u;class f extends r{constructor(k,U){if(super(k,U),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(k,U=0){return n(k).readIntLE(U,this.span)}encode(k,U,q=0){return n(U).writeIntLE(k,q,this.span),this.span}}Pe.Int=f;class p extends r{constructor(k,U){if(super(k,U),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(k,U=0){return n(k).readIntBE(U,this.span)}encode(k,U,q=0){return n(U).writeIntBE(k,q,this.span),this.span}}Pe.IntBE=p;const m=Math.pow(2,32);function w(_){const k=Math.floor(_/m),U=_-k*m;return{hi32:k,lo32:U}}function y(_,k){return _*m+k}class I extends r{constructor(k){super(8,k)}decode(k,U=0){const q=n(k),V=q.readUInt32LE(U),Q=q.readUInt32LE(U+4);return y(Q,V)}encode(k,U,q=0){const V=w(k),Q=n(U);return Q.writeUInt32LE(V.lo32,q),Q.writeUInt32LE(V.hi32,q+4),8}}Pe.NearUInt64=I;class S extends r{constructor(k){super(8,k)}decode(k,U=0){const q=n(k),V=q.readUInt32BE(U),Q=q.readUInt32BE(U+4);return y(V,Q)}encode(k,U,q=0){const V=w(k),Q=n(U);return Q.writeUInt32BE(V.hi32,q),Q.writeUInt32BE(V.lo32,q+4),8}}Pe.NearUInt64BE=S;class T extends r{constructor(k){super(8,k)}decode(k,U=0){const q=n(k),V=q.readUInt32LE(U),Q=q.readInt32LE(U+4);return y(Q,V)}encode(k,U,q=0){const V=w(k),Q=n(U);return Q.writeUInt32LE(V.lo32,q),Q.writeInt32LE(V.hi32,q+4),8}}Pe.NearInt64=T;class N extends r{constructor(k){super(8,k)}decode(k,U=0){const q=n(k),V=q.readInt32BE(U),Q=q.readUInt32BE(U+4);return y(V,Q)}encode(k,U,q=0){const V=w(k),Q=n(U);return Q.writeInt32BE(V.hi32,q),Q.writeUInt32BE(V.lo32,q+4),8}}Pe.NearInt64BE=N;class z extends r{constructor(k){super(4,k)}decode(k,U=0){return n(k).readFloatLE(U)}encode(k,U,q=0){return n(U).writeFloatLE(k,q),4}}Pe.Float=z;class $ extends r{constructor(k){super(4,k)}decode(k,U=0){return n(k).readFloatBE(U)}encode(k,U,q=0){return n(U).writeFloatBE(k,q),4}}Pe.FloatBE=$;class H extends r{constructor(k){super(8,k)}decode(k,U=0){return n(k).readDoubleLE(U)}encode(k,U,q=0){return n(U).writeDoubleLE(k,q),8}}Pe.Double=H;class K extends r{constructor(k){super(8,k)}decode(k,U=0){return n(k).readDoubleBE(U)}encode(k,U,q=0){return n(U).writeDoubleBE(k,q),8}}Pe.DoubleBE=K;class j extends r{constructor(k,U,q){if(!(k instanceof r))throw new TypeError("elementLayout must be a Layout");if(!(U instanceof s&&U.isCount()||Number.isInteger(U)&&0<=U))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let V=-1;!(U instanceof s)&&0<k.span&&(V=U*k.span),super(V,q),this.elementLayout=k,this.count=U}getSpan(k,U=0){if(0<=this.span)return this.span;let q=0,V=this.count;if(V instanceof s&&(V=V.decode(k,U)),0<this.elementLayout.span)q=V*this.elementLayout.span;else{let Q=0;for(;Q<V;)q+=this.elementLayout.getSpan(k,U+q),++Q}return q}decode(k,U=0){const q=[];let V=0,Q=this.count;for(Q instanceof s&&(Q=Q.decode(k,U));V<Q;)q.push(this.elementLayout.decode(k,U)),U+=this.elementLayout.getSpan(k,U),V+=1;return q}encode(k,U,q=0){const V=this.elementLayout,Q=k.reduce((Y,X)=>Y+V.encode(X,U,q+Y),0);return this.count instanceof s&&this.count.encode(k.length,U,q),Q}}Pe.Sequence=j;class B extends r{constructor(k,U,q){if(!(Array.isArray(k)&&k.reduce((Q,Y)=>Q&&Y instanceof r,!0)))throw new TypeError("fields must be array of Layout instances");typeof U=="boolean"&&q===void 0&&(q=U,U=void 0);for(const Q of k)if(0>Q.span&&Q.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let V=-1;try{V=k.reduce((Q,Y)=>Q+Y.getSpan(),0)}catch{}super(V,U),this.fields=k,this.decodePrefixes=!!q}getSpan(k,U=0){if(0<=this.span)return this.span;let q=0;try{q=this.fields.reduce((V,Q)=>{const Y=Q.getSpan(k,U);return U+=Y,V+Y},0)}catch{throw new RangeError("indeterminate span")}return q}decode(k,U=0){e(k);const q=this.makeDestinationObject();for(const V of this.fields)if(V.property!==void 0&&(q[V.property]=V.decode(k,U)),U+=V.getSpan(k,U),this.decodePrefixes&&k.length===U)break;return q}encode(k,U,q=0){const V=q;let Q=0,Y=0;for(const X of this.fields){let ee=X.span;if(Y=0<ee?ee:0,X.property!==void 0){const ie=k[X.property];ie!==void 0&&(Y=X.encode(ie,U,q),0>ee&&(ee=X.getSpan(U,q)))}Q=q,q+=ee}return Q+Y-V}fromArray(k){const U=this.makeDestinationObject();for(const q of this.fields)q.property!==void 0&&0<k.length&&(U[q.property]=k.shift());return U}layoutFor(k){if(typeof k!="string")throw new TypeError("property must be string");for(const U of this.fields)if(U.property===k)return U}offsetOf(k){if(typeof k!="string")throw new TypeError("property must be string");let U=0;for(const q of this.fields){if(q.property===k)return U;0>q.span?U=-1:0<=U&&(U+=q.span)}}}Pe.Structure=B;class D{constructor(k){this.property=k}decode(k,U){throw new Error("UnionDiscriminator is abstract")}encode(k,U,q){throw new Error("UnionDiscriminator is abstract")}}Pe.UnionDiscriminator=D;class P extends D{constructor(k,U){if(!(k instanceof s&&k.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(U||k.property||"variant"),this.layout=k}decode(k,U){return this.layout.decode(k,U)}encode(k,U,q){return this.layout.encode(k,U,q)}}Pe.UnionLayoutDiscriminator=P;class E extends r{constructor(k,U,q){let V;if(k instanceof l||k instanceof u)V=new P(new c(k));else if(k instanceof s&&k.isCount())V=new P(k);else if(k instanceof D)V=k;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(U===void 0&&(U=null),!(U===null||U instanceof r))throw new TypeError("defaultLayout must be null or a Layout");if(U!==null){if(0>U.span)throw new Error("defaultLayout must have constant span");U.property===void 0&&(U=U.replicate("content"))}let Q=-1;U&&(Q=U.span,0<=Q&&(k instanceof l||k instanceof u)&&(Q+=V.layout.span)),super(Q,q),this.discriminator=V,this.usesPrefixDiscriminator=k instanceof l||k instanceof u,this.defaultLayout=U,this.registry={};let Y=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(X){return Y(X)},this.configGetSourceVariant=function(X){Y=X.bind(this)}}getSpan(k,U=0){if(0<=this.span)return this.span;const q=this.getVariant(k,U);if(!q)throw new Error("unable to determine span for unrecognized variant");return q.getSpan(k,U)}defaultGetSourceVariant(k){if(Object.prototype.hasOwnProperty.call(k,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(k,this.defaultLayout.property))return;const U=this.registry[k[this.discriminator.property]];if(U&&(!U.layout||U.property&&Object.prototype.hasOwnProperty.call(k,U.property)))return U}else for(const U in this.registry){const q=this.registry[U];if(q.property&&Object.prototype.hasOwnProperty.call(k,q.property))return q}throw new Error("unable to infer src variant")}decode(k,U=0){let q;const V=this.discriminator,Q=V.decode(k,U),Y=this.registry[Q];if(Y===void 0){const X=this.defaultLayout;let ee=0;this.usesPrefixDiscriminator&&(ee=V.layout.span),q=this.makeDestinationObject(),q[V.property]=Q,q[X.property]=X.decode(k,U+ee)}else q=Y.decode(k,U);return q}encode(k,U,q=0){const V=this.getSourceVariant(k);if(V===void 0){const Q=this.discriminator,Y=this.defaultLayout;let X=0;return this.usesPrefixDiscriminator&&(X=Q.layout.span),Q.encode(k[Q.property],U,q),X+Y.encode(k[Y.property],U,q+X)}return V.encode(k,U,q)}addVariant(k,U,q){const V=new b(this,k,U,q);return this.registry[k]=V,V}getVariant(k,U=0){let q;return k instanceof Uint8Array?q=this.discriminator.decode(k,U):q=k,this.registry[q]}}Pe.Union=E;class b extends r{constructor(k,U,q,V){if(!(k instanceof E))throw new TypeError("union must be a Union");if(!Number.isInteger(U)||0>U)throw new TypeError("variant must be a (non-negative) integer");if(typeof q=="string"&&V===void 0&&(V=q,q=null),q){if(!(q instanceof r))throw new TypeError("layout must be a Layout");if(k.defaultLayout!==null&&0<=q.span&&q.span>k.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof V!="string")throw new TypeError("variant must have a String property")}let Q=k.span;0>k.span&&(Q=q?q.span:0,0<=Q&&k.usesPrefixDiscriminator&&(Q+=k.discriminator.layout.span)),super(Q,V),this.union=k,this.variant=U,this.layout=q||null}getSpan(k,U=0){if(0<=this.span)return this.span;let q=0;this.union.usesPrefixDiscriminator&&(q=this.union.discriminator.layout.span);let V=0;return this.layout&&(V=this.layout.getSpan(k,U+q)),q+V}decode(k,U=0){const q=this.makeDestinationObject();if(this!==this.union.getVariant(k,U))throw new Error("variant mismatch");let V=0;return this.union.usesPrefixDiscriminator&&(V=this.union.discriminator.layout.span),this.layout?q[this.property]=this.layout.decode(k,U+V):this.property?q[this.property]=!0:this.union.usesPrefixDiscriminator&&(q[this.union.discriminator.property]=this.variant),q}encode(k,U,q=0){let V=0;if(this.union.usesPrefixDiscriminator&&(V=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(k,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,U,q);let Q=V;if(this.layout&&(this.layout.encode(k[this.property],U,q+V),Q+=this.layout.getSpan(U,q+V),0<=this.union.span&&Q>this.union.span))throw new Error("encoded variant overruns containing union");return Q}fromArray(k){if(this.layout)return this.layout.fromArray(k)}}Pe.VariantLayout=b;function g(_){return 0>_&&(_+=4294967296),_}class v extends r{constructor(k,U,q){if(!(k instanceof l||k instanceof u))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof U=="string"&&q===void 0&&(q=U,U=!1),4<k.span)throw new RangeError("word cannot exceed 32 bits");super(k.span,q),this.word=k,this.msb=!!U,this.fields=[];let V=0;this._packedSetValue=function(Q){return V=g(Q),this},this._packedGetValue=function(){return V}}decode(k,U=0){const q=this.makeDestinationObject(),V=this.word.decode(k,U);this._packedSetValue(V);for(const Q of this.fields)Q.property!==void 0&&(q[Q.property]=Q.decode(k));return q}encode(k,U,q=0){const V=this.word.decode(U,q);this._packedSetValue(V);for(const Q of this.fields)if(Q.property!==void 0){const Y=k[Q.property];Y!==void 0&&Q.encode(Y)}return this.word.encode(this._packedGetValue(),U,q)}addField(k,U){const q=new A(this,k,U);return this.fields.push(q),q}addBoolean(k){const U=new L(this,k);return this.fields.push(U),U}fieldFor(k){if(typeof k!="string")throw new TypeError("property must be string");for(const U of this.fields)if(U.property===k)return U}}Pe.BitStructure=v;class A{constructor(k,U,q){if(!(k instanceof v))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(U)||0>=U)throw new TypeError("bits must be positive integer");const V=8*k.span,Q=k.fields.reduce((Y,X)=>Y+X.bits,0);if(U+Q>V)throw new Error("bits too long for span remainder ("+(V-Q)+" of "+V+" remain)");this.container=k,this.bits=U,this.valueMask=(1<<U)-1,U===32&&(this.valueMask=4294967295),this.start=Q,this.container.msb&&(this.start=V-Q-U),this.wordMask=g(this.valueMask<<this.start),this.property=q}decode(k,U){const q=this.container._packedGetValue();return g(q&this.wordMask)>>>this.start}encode(k){if(typeof k!="number"||!Number.isInteger(k)||k!==g(k&this.valueMask))throw new TypeError(i("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const U=this.container._packedGetValue(),q=g(k<<this.start);this.container._packedSetValue(g(U&~this.wordMask)|q)}}Pe.BitField=A;class L extends A{constructor(k,U){super(k,1,U)}decode(k,U){return!!super.decode(k,U)}encode(k){typeof k=="boolean"&&(k=+k),super.encode(k)}}Pe.Boolean=L;class C extends r{constructor(k,U){if(!(k instanceof s&&k.isCount()||Number.isInteger(k)&&0<=k))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let q=-1;k instanceof s||(q=k),super(q,U),this.length=k}getSpan(k,U){let q=this.span;return 0>q&&(q=this.length.decode(k,U)),q}decode(k,U=0){let q=this.span;return 0>q&&(q=this.length.decode(k,U)),n(k).slice(U,U+q)}encode(k,U,q){let V=this.length;if(this.length instanceof s&&(V=k.length),!(k instanceof Uint8Array&&V===k.length))throw new TypeError(i("Blob.encode",this)+" requires (length "+V+") Uint8Array as src");if(q+V>U.length)throw new RangeError("encoding overruns Uint8Array");const Q=n(k);return n(U).write(Q.toString("hex"),q,V,"hex"),this.length instanceof s&&this.length.encode(V,U,q),V}}Pe.Blob=C;class O extends r{constructor(k){super(-1,k)}getSpan(k,U=0){e(k);let q=U;for(;q<k.length&&k[q]!==0;)q+=1;return 1+q-U}decode(k,U=0){const q=this.getSpan(k,U);return n(k).slice(U,U+q-1).toString("utf-8")}encode(k,U,q=0){typeof k!="string"&&(k=String(k));const V=t.Buffer.from(k,"utf8"),Q=V.length;if(q+Q>U.length)throw new RangeError("encoding overruns Buffer");const Y=n(U);return V.copy(Y,q),Y[q+Q]=0,Q+1}}Pe.CString=O;class x extends r{constructor(k,U){if(typeof k=="string"&&U===void 0&&(U=k,k=void 0),k===void 0)k=-1;else if(!Number.isInteger(k))throw new TypeError("maxSpan must be an integer");super(-1,U),this.maxSpan=k}getSpan(k,U=0){return e(k),k.length-U}decode(k,U=0){const q=this.getSpan(k,U);if(0<=this.maxSpan&&this.maxSpan<q)throw new RangeError("text length exceeds maxSpan");return n(k).slice(U,U+q).toString("utf-8")}encode(k,U,q=0){typeof k!="string"&&(k=String(k));const V=t.Buffer.from(k,"utf8"),Q=V.length;if(0<=this.maxSpan&&this.maxSpan<Q)throw new RangeError("text length exceeds maxSpan");if(q+Q>U.length)throw new RangeError("encoding overruns Buffer");return V.copy(n(U),q),Q}}Pe.UTF8=x;class R extends r{constructor(k,U){super(0,U),this.value=k}decode(k,U){return this.value}encode(k,U,q){return 0}}return Pe.Constant=R,Pe.greedy=(_,k)=>new a(_,k),Pe.offset=(_,k,U)=>new c(_,k,U),Pe.u8=_=>new l(1,_),Pe.u16=_=>new l(2,_),Pe.u24=_=>new l(3,_),Pe.u32=_=>new l(4,_),Pe.u40=_=>new l(5,_),Pe.u48=_=>new l(6,_),Pe.nu64=_=>new I(_),Pe.u16be=_=>new u(2,_),Pe.u24be=_=>new u(3,_),Pe.u32be=_=>new u(4,_),Pe.u40be=_=>new u(5,_),Pe.u48be=_=>new u(6,_),Pe.nu64be=_=>new S(_),Pe.s8=_=>new f(1,_),Pe.s16=_=>new f(2,_),Pe.s24=_=>new f(3,_),Pe.s32=_=>new f(4,_),Pe.s40=_=>new f(5,_),Pe.s48=_=>new f(6,_),Pe.ns64=_=>new T(_),Pe.s16be=_=>new p(2,_),Pe.s24be=_=>new p(3,_),Pe.s32be=_=>new p(4,_),Pe.s40be=_=>new p(5,_),Pe.s48be=_=>new p(6,_),Pe.ns64be=_=>new N(_),Pe.f32=_=>new z(_),Pe.f32be=_=>new $(_),Pe.f64=_=>new H(_),Pe.f64be=_=>new K(_),Pe.struct=(_,k,U)=>new B(_,k,U),Pe.bits=(_,k,U)=>new v(_,k,U),Pe.seq=(_,k,U)=>new j(_,k,U),Pe.union=(_,k,U)=>new E(_,k,U),Pe.unionLayoutDiscriminator=(_,k)=>new P(_,k),Pe.blob=(_,k)=>new C(_,k),Pe.cstr=_=>new O(_),Pe.utf8=(_,k)=>new x(_,k),Pe.constant=(_,k)=>new R(_,k),Pe}var xe=Hte(),Kte=8078e3,Wte=8078001,Vte=8078004,Gte=8078005,Yte=8078006,Jte=8078011;function f7(t){return Array.isArray(t)?"%5B"+t.map(f7).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function Zte([t,e]){return`${t}=${f7(e)}`}function Xte(t){const e=Object.entries(t).map(Zte).join("&");return btoa(e)}function Qte(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${Xte(e)}'`),`${n}\``}}var Vf=class extends Error{constructor(...[e,n]){let r,i;if(n){const{cause:s,...a}=n;s&&(i={cause:s}),Object.keys(a).length>0&&(r=a)}const o=Qte(e,r);super(o,i);Pn(this,"cause",this.cause);Pn(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function ene(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function tne(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(ene(e,t));return t.write(e,n,0),n}})}function nne(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function wf(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function rne(t,e){if(wf(t)!==wf(e))throw new Vf(Vte);if(wf(t)&&wf(e)&&t.fixedSize!==e.fixedSize)throw new Vf(Gte,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!wf(t)&&!wf(e)&&t.maxSize!==e.maxSize)throw new Vf(Yte,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function ine(t,e,n=0){if(e.length-n<=0)throw new Vf(Kte,{codecDescription:t})}function one(t,e,n,r=0){const i=n.length-r;if(i<e)throw new Vf(Wte,{bytesLength:i,codecDescription:t,expected:e})}function sne(t,e,n,r){if(r<e||r>n)throw new Vf(Jte,{codecDescription:t,max:n,min:e,value:r})}function h7(t){return(t==null?void 0:t.endian)!==1}function ane(t){return tne({fixedSize:t.size,write(e,n,r){t.range&&sne(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,h7(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function cne(t){return nne({fixedSize:t.size,read(e,n=0){ine(t.name,e,n),one(t.name,t.size,e,n);const r=new DataView(lne(e,n,t.size));return[t.get(r,h7(t.config)),n+t.size]}})}function lne(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var une=(t={})=>ane({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),dne=(t={})=>cne({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),fne=(t={})=>rne(une(t),dne(t));class hne extends TypeError{constructor(e,n){let r;const{message:i,explanation:o,...s}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??c),o!=null&&(this.cause=c),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function pne(t){return mg(t)&&typeof t[Symbol.iterator]=="function"}function mg(t){return typeof t=="object"&&t!=null}function sw(t){return mg(t)&&!Array.isArray(t)}function zs(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function gne(t){const{done:e,value:n}=t.next();return e?void 0:n}function mne(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${zs(r)}\``}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:c}}function*PO(t,e,n,r){pne(t)||(t=[t]);for(const i of t){const o=mne(i,e,n,r);o&&(yield o)}}function*_4(t,e,n={}){const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i,mask:s};o&&(t=e.coercer(t,a));let c="valid";for(const l of e.validator(t,a))l.explanation=n.message,c="not_valid",yield[l,void 0];for(let[l,u,f]of e.entries(t,a)){const p=_4(u,f,{path:l===void 0?r:[...r,l],branch:l===void 0?i:[...i,u],coerce:o,mask:s,message:n.message});for(const m of p)m[0]?(c=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):o&&(u=m[1],l===void 0?t=u:t instanceof Map?t.set(l,u):t instanceof Set?t.add(u):mg(t)&&(u!==void 0||l in t)&&(t[l]=u))}if(c!=="not_valid")for(const l of e.refiner(t,a))l.explanation=n.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,t])}let Ta=class{constructor(e){const{type:n,schema:r,validator:i,refiner:o,coercer:s=c=>c,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(c,l)=>{const u=i(c,l);return PO(u,l,this,c)}:this.validator=()=>[],o?this.refiner=(c,l)=>{const u=o(c,l);return PO(u,l,this,c)}:this.refiner=()=>[]}assert(e,n){return vne(e,this,n)}create(e,n){return dt(e,this,n)}is(e){return p7(e,this)}mask(e,n){return yne(e,this,n)}validate(e,n={}){return vg(e,this,n)}};function vne(t,e,n){const r=vg(t,e,{message:n});if(r[0])throw r[0]}function dt(t,e,n){const r=vg(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function yne(t,e,n){const r=vg(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function p7(t,e){return!vg(t,e)[0]}function vg(t,e,n={}){const r=_4(t,e,n),i=gne(r);return i[0]?[new hne(i[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function Md(t,e){return new Ta({type:t,schema:null,validator:e})}function wne(){return Md("any",()=>!0)}function pt(t){return new Ta({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${zs(e)}`}})}function ka(){return Md("boolean",t=>typeof t=="boolean")}function S4(t){return Md("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${zs(e)}`)}function rr(t){const e=zs(t),n=typeof t;return new Ta({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${zs(r)}`}})}function bne(){return Md("never",()=>!1)}function mt(t){return new Ta({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function Te(){return Md("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${zs(t)}`)}function zt(t){return new Ta({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function g7(t,e){return new Ta({type:"record",schema:null,*entries(n){if(mg(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return sw(n)||`Expected an object, but received: ${zs(n)}`},coercer(n){return sw(n)?{...n}:n}})}function at(){return Md("string",t=>typeof t=="string"||`Expected a string, but received: ${zs(t)}`)}function C4(t){const e=bne();return new Ta({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${zs(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function nt(t){const e=Object.keys(t);return new Ta({type:"type",schema:t,*entries(n){if(mg(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return sw(n)||`Expected an object, but received: ${zs(n)}`},coercer(n){return sw(n)?{...n}:n}})}function zi(t){const e=t.map(n=>n.type).join(" | ");return new Ta({type:"union",schema:null,coercer(n,r){for(const i of t){const[o,s]=i.validate(n,{coerce:!0,mask:r.mask});if(!o)return s}return n},validator(n,r){const i=[];for(const o of t){const[...s]=_4(n,o,r),[a]=s;if(a[0])for(const[c]of s)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${zs(n)}`,...i]}})}function Ah(){return Md("unknown",()=>!0)}function yg(t,e,n){return new Ta({...t,coercer:(r,i)=>p7(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}const m7=US($J);var Sx,LO;function Ene(){if(LO)return Sx;LO=1;const t=m7.v4;return Sx=function(n,r,i,o){if(typeof n!="string")throw new TypeError(n+" must be a string");o=o||{};const s=typeof o.version=="number"?o.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const a={method:n};if(s===2&&(a.jsonrpc="2.0"),r){if(typeof r!="object"&&!Array.isArray(r))throw new TypeError(r+" must be an object, array or omitted");a.params=r}if(typeof i>"u"){const c=typeof o.generator=="function"?o.generator:function(){return t()};a.id=c(a,o)}else s===2&&i===null?o.notificationIdNull&&(a.id=null):a.id=i;return a},Sx}var Cx,BO;function xne(){if(BO)return Cx;BO=1;const t=m7.v4,e=Ene(),n=function(r,i){if(!(this instanceof n))return new n(r,i);i||(i={}),this.options={reviver:typeof i.reviver<"u"?i.reviver:null,replacer:typeof i.replacer<"u"?i.replacer:null,generator:typeof i.generator<"u"?i.generator:function(){return t()},version:typeof i.version<"u"?i.version:2,notificationIdNull:typeof i.notificationIdNull=="boolean"?i.notificationIdNull:!1},this.callServer=r};return Cx=n,n.prototype.request=function(r,i,o,s){const a=this;let c=null;const l=Array.isArray(r)&&typeof i=="function";if(this.options.version===1&&l)throw new TypeError("JSON-RPC 1.0 does not support batching");if(l||!l&&r&&typeof r=="object"&&typeof i=="function")s=i,c=r;else{typeof o=="function"&&(s=o,o=void 0);const p=typeof s=="function";try{c=e(r,i,o,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(m){if(p)return s(m);throw m}if(!p)return c}let f;try{f=JSON.stringify(c,this.options.replacer)}catch(p){return s(p)}return this.callServer(f,function(p,m){a._parseResponse(p,m,s)}),c},n.prototype._parseResponse=function(r,i,o){if(r){o(r);return}if(!i)return o();let s;try{s=JSON.parse(i,this.options.reviver)}catch(a){return o(a)}if(o.length===3)if(Array.isArray(s)){const a=function(l){return typeof l.error<"u"},c=function(l){return!a(l)};return o(null,s.filter(a),s.filter(c))}else return o(null,s.error,s.result);o(null,s)},Cx}var _ne=xne();const Sne=si(_ne);var Ax={exports:{}},DO;function Cne(){return DO||(DO=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function o(c,l,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new i(u,f||c,p),w=n?n+l:l;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],m]:c._events[w].push(m):(c._events[w]=m,c._eventsCount++),c}function s(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,f;if(this._eventsCount===0)return l;for(f in u=this._events)e.call(u,f)&&l.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=n?n+l:l,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,w=new Array(m);p<m;p++)w[p]=f[p].fn;return w},a.prototype.listenerCount=function(l){var u=n?n+l:l,f=this._events[u];return f?f.fn?1:f.length:0},a.prototype.emit=function(l,u,f,p,m,w){var y=n?n+l:l;if(!this._events[y])return!1;var I=this._events[y],S=arguments.length,T,N;if(I.fn){switch(I.once&&this.removeListener(l,I.fn,void 0,!0),S){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,u),!0;case 3:return I.fn.call(I.context,u,f),!0;case 4:return I.fn.call(I.context,u,f,p),!0;case 5:return I.fn.call(I.context,u,f,p,m),!0;case 6:return I.fn.call(I.context,u,f,p,m,w),!0}for(N=1,T=new Array(S-1);N<S;N++)T[N-1]=arguments[N];I.fn.apply(I.context,T)}else{var z=I.length,$;for(N=0;N<z;N++)switch(I[N].once&&this.removeListener(l,I[N].fn,void 0,!0),S){case 1:I[N].fn.call(I[N].context);break;case 2:I[N].fn.call(I[N].context,u);break;case 3:I[N].fn.call(I[N].context,u,f);break;case 4:I[N].fn.call(I[N].context,u,f,p);break;default:if(!T)for($=1,T=new Array(S-1);$<S;$++)T[$-1]=arguments[$];I[N].fn.apply(I[N].context,T)}}return!0},a.prototype.on=function(l,u,f){return o(this,l,u,f,!1)},a.prototype.once=function(l,u,f){return o(this,l,u,f,!0)},a.prototype.removeListener=function(l,u,f,p){var m=n?n+l:l;if(!this._events[m])return this;if(!u)return s(this,m),this;var w=this._events[m];if(w.fn)w.fn===u&&(!p||w.once)&&(!f||w.context===f)&&s(this,m);else{for(var y=0,I=[],S=w.length;y<S;y++)(w[y].fn!==u||p&&!w[y].once||f&&w[y].context!==f)&&I.push(w[y]);I.length?this._events[m]=I.length===1?I[0]:I:s(this,m)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a}(Ax)),Ax.exports}var Ane=Cne();const A4=si(Ane);var Ine=class extends A4{constructor(e,n,r){super();Pn(this,"socket");this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(e,n,r){const i=r||n;try{this.socket.send(e),i()}catch(o){i(o)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,r){this.socket.addEventListener(e,n,r)}};function kne(t,e){return new Ine(t,e)}var Mne=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},Rne=class extends A4{constructor(e,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:i=!0,reconnect_interval:o=1e3,max_reconnects:s=5,...a}={},c,l){super();Pn(this,"address");Pn(this,"rpc_id");Pn(this,"queue");Pn(this,"options");Pn(this,"autoconnect");Pn(this,"ready");Pn(this,"reconnect");Pn(this,"reconnect_timer_id");Pn(this,"reconnect_interval");Pn(this,"max_reconnects");Pn(this,"rest_options");Pn(this,"current_reconnects");Pn(this,"generate_request_id");Pn(this,"socket");Pn(this,"webSocketFactory");Pn(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=s,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=c||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),l?this.dataPack=l:this.dataPack=new Mne,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,r,i){return!i&&typeof r=="object"&&(i=r,r=null),new Promise((o,s)=>{if(!this.ready)return s(new Error("socket not ready"));const a=this.generate_request_id(e,n),c={jsonrpc:"2.0",method:e,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(c),i,l=>{if(l)return s(l);this.queue[a]={promise:[o,s]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],s(new Error("reply timeout"))},r))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((r,i)=>{if(!this.ready)return i(new Error("socket not ready"));const o={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(o),s=>{if(s)return i(s);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=ln.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const i=[r.notification];if(r.params.constructor===Object)i.push(r.params);else for(let o=0;o<r.params.length;o++)i.push(r.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",r,i),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval)))})}};/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jO=(t,e)=>(t+(t>=0?e:-e)/v7)/e;function One(t,e,n){const[[r,i],[o,s]]=e,a=jO(s*t,n),c=jO(-i*t,n);let l=t-a*r-c*o,u=-a*i-c*s;const f=l<wc,p=u<wc;f&&(l=-l),p&&(u=-u);const m=hg(Math.ceil(VD(n)/2))+Gf;if(l<wc||l>=m||u<wc||u>=m)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:f,k1:l,k2neg:p,k2:u}}function dS(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function Ix(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return wd(n.lowS,"lowS"),wd(n.prehash,"prehash"),n.format!==void 0&&dS(n.format),n}class Tne extends Error{constructor(e=""){super(e)}}const oc={Err:Tne,_tlv:{encode:(t,e)=>{const{Err:n}=oc;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=xv(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?xv(i.length/2|128):"";return xv(t)+o+i+e},decode(t,e){const{Err:n}=oc;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)s=s<<8|u;if(r+=c,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+s)}}},_int:{encode(t){const{Err:e}=oc;if(t<wc)throw new e("integer: negative integers are not allowed");let n=xv(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=oc;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return l1(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=oc,i=fr("signature",t),{v:o,l:s}=r.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=oc,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),o=r+i;return e.encode(48,o)}},wc=BigInt(0),Gf=BigInt(1),v7=BigInt(2),_v=BigInt(3),Nne=BigInt(4);function Df(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let i=fr("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function Pne(t,e={}){const n=l7("weierstrass",t,e),{Fp:r,Fn:i}=n;let o=n.CURVE;const{h:s,n:a}=o;pg(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=e;if(c&&(!r.is0(o.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=w7(r,i);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function f(E,b,g){const{x:v,y:A}=b.toAffine(),L=r.toBytes(v);if(wd(g,"isCompressed"),g){u();const C=!r.isOdd(A);return ha(y7(C),L)}else return ha(Uint8Array.of(4),L,r.toBytes(A))}function p(E){$s(E,void 0,"Point");const{publicKey:b,publicKeyUncompressed:g}=l,v=E.length,A=E[0],L=E.subarray(1);if(v===b&&(A===2||A===3)){const C=r.fromBytes(L);if(!r.isValid(C))throw new Error("bad point: is not on curve, wrong x");const O=y(C);let x;try{x=r.sqrt(O)}catch(k){const U=k instanceof Error?": "+k.message:"";throw new Error("bad point: is not on curve, sqrt error"+U)}u();const R=r.isOdd(x);return(A&1)===1!==R&&(x=r.neg(x)),{x:C,y:x}}else if(v===g&&A===4){const C=r.BYTES,O=r.fromBytes(L.subarray(0,C)),x=r.fromBytes(L.subarray(C,C*2));if(!I(O,x))throw new Error("bad point: is not on curve");return{x:O,y:x}}else throw new Error(`bad point: got length ${v}, expected compressed=${b} or uncompressed=${g}`)}const m=e.toBytes||f,w=e.fromBytes||p;function y(E){const b=r.sqr(E),g=r.mul(b,E);return r.add(r.add(g,r.mul(E,o.a)),o.b)}function I(E,b){const g=r.sqr(b),v=y(E);return r.eql(g,v)}if(!I(o.Gx,o.Gy))throw new Error("bad curve params: generator point");const S=r.mul(r.pow(o.a,_v),Nne),T=r.mul(r.sqr(o.b),BigInt(27));if(r.is0(r.add(S,T)))throw new Error("bad curve params: a or b");function N(E,b,g=!1){if(!r.isValid(b)||g&&r.is0(b))throw new Error(`bad point coordinate ${E}`);return b}function z(E){if(!(E instanceof B))throw new Error("ProjectivePoint expected")}function $(E){if(!c||!c.basises)throw new Error("no endo");return One(E,c.basises,i.ORDER)}const H=ew((E,b)=>{const{X:g,Y:v,Z:A}=E;if(r.eql(A,r.ONE))return{x:g,y:v};const L=E.is0();b==null&&(b=L?r.ONE:r.inv(A));const C=r.mul(g,b),O=r.mul(v,b),x=r.mul(A,b);if(L)return{x:r.ZERO,y:r.ZERO};if(!r.eql(x,r.ONE))throw new Error("invZ was invalid");return{x:C,y:O}}),K=ew(E=>{if(E.is0()){if(e.allowInfinityPoint&&!r.is0(E.Y))return;throw new Error("bad point: ZERO")}const{x:b,y:g}=E.toAffine();if(!r.isValid(b)||!r.isValid(g))throw new Error("bad point: x or y not field elements");if(!I(b,g))throw new Error("bad point: equation left != right");if(!E.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function j(E,b,g,v,A){return g=new B(r.mul(g.X,E),g.Y,g.Z),b=tw(v,b),g=tw(A,g),b.add(g)}class B{constructor(b,g,v){this.X=N("x",b),this.Y=N("y",g,!0),this.Z=N("z",v),Object.freeze(this)}static CURVE(){return o}static fromAffine(b){const{x:g,y:v}=b||{};if(!b||!r.isValid(g)||!r.isValid(v))throw new Error("invalid affine point");if(b instanceof B)throw new Error("projective point not allowed");return r.is0(g)&&r.is0(v)?B.ZERO:new B(g,v,r.ONE)}static fromBytes(b){const g=B.fromAffine(w($s(b,void 0,"point")));return g.assertValidity(),g}static fromHex(b){return B.fromBytes(fr("pointHex",b))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(b=8,g=!0){return P.createCache(this,b),g||this.multiply(_v),this}assertValidity(){K(this)}hasEvenY(){const{y:b}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(b)}equals(b){z(b);const{X:g,Y:v,Z:A}=this,{X:L,Y:C,Z:O}=b,x=r.eql(r.mul(g,O),r.mul(L,A)),R=r.eql(r.mul(v,O),r.mul(C,A));return x&&R}negate(){return new B(this.X,r.neg(this.Y),this.Z)}double(){const{a:b,b:g}=o,v=r.mul(g,_v),{X:A,Y:L,Z:C}=this;let O=r.ZERO,x=r.ZERO,R=r.ZERO,_=r.mul(A,A),k=r.mul(L,L),U=r.mul(C,C),q=r.mul(A,L);return q=r.add(q,q),R=r.mul(A,C),R=r.add(R,R),O=r.mul(b,R),x=r.mul(v,U),x=r.add(O,x),O=r.sub(k,x),x=r.add(k,x),x=r.mul(O,x),O=r.mul(q,O),R=r.mul(v,R),U=r.mul(b,U),q=r.sub(_,U),q=r.mul(b,q),q=r.add(q,R),R=r.add(_,_),_=r.add(R,_),_=r.add(_,U),_=r.mul(_,q),x=r.add(x,_),U=r.mul(L,C),U=r.add(U,U),_=r.mul(U,q),O=r.sub(O,_),R=r.mul(U,k),R=r.add(R,R),R=r.add(R,R),new B(O,x,R)}add(b){z(b);const{X:g,Y:v,Z:A}=this,{X:L,Y:C,Z:O}=b;let x=r.ZERO,R=r.ZERO,_=r.ZERO;const k=o.a,U=r.mul(o.b,_v);let q=r.mul(g,L),V=r.mul(v,C),Q=r.mul(A,O),Y=r.add(g,v),X=r.add(L,C);Y=r.mul(Y,X),X=r.add(q,V),Y=r.sub(Y,X),X=r.add(g,A);let ee=r.add(L,O);return X=r.mul(X,ee),ee=r.add(q,Q),X=r.sub(X,ee),ee=r.add(v,A),x=r.add(C,O),ee=r.mul(ee,x),x=r.add(V,Q),ee=r.sub(ee,x),_=r.mul(k,X),x=r.mul(U,Q),_=r.add(x,_),x=r.sub(V,_),_=r.add(V,_),R=r.mul(x,_),V=r.add(q,q),V=r.add(V,q),Q=r.mul(k,Q),X=r.mul(U,X),V=r.add(V,Q),Q=r.sub(q,Q),Q=r.mul(k,Q),X=r.add(X,Q),q=r.mul(V,X),R=r.add(R,q),q=r.mul(ee,X),x=r.mul(Y,x),x=r.sub(x,q),q=r.mul(Y,V),_=r.mul(ee,_),_=r.add(_,q),new B(x,R,_)}subtract(b){return this.add(b.negate())}is0(){return this.equals(B.ZERO)}multiply(b){const{endo:g}=e;if(!i.isValidNot0(b))throw new Error("invalid scalar: out of range");let v,A;const L=C=>P.cached(this,C,O=>Xu(B,O));if(g){const{k1neg:C,k1:O,k2neg:x,k2:R}=$(b),{p:_,f:k}=L(O),{p:U,f:q}=L(R);A=k.add(q),v=j(g.beta,_,U,C,x)}else{const{p:C,f:O}=L(b);v=C,A=O}return Xu(B,[v,A])[0]}multiplyUnsafe(b){const{endo:g}=e,v=this;if(!i.isValid(b))throw new Error("invalid scalar: out of range");if(b===wc||v.is0())return B.ZERO;if(b===Gf)return v;if(P.hasCache(this))return this.multiply(b);if(g){const{k1neg:A,k1:L,k2neg:C,k2:O}=$(b),{p1:x,p2:R}=wte(B,v,L,O);return j(g.beta,x,R,A,C)}else return P.unsafe(v,b)}multiplyAndAddUnsafe(b,g,v){const A=this.multiplyUnsafe(g).add(b.multiplyUnsafe(v));return A.is0()?void 0:A}toAffine(b){return H(this,b)}isTorsionFree(){const{isTorsionFree:b}=e;return s===Gf?!0:b?b(B,this):P.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:b}=e;return s===Gf?this:b?b(B,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(b=!0){return wd(b,"isCompressed"),this.assertValidity(),m(B,this,b)}toHex(b=!0){return ad(this.toBytes(b))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(b=!0){return this.toBytes(b)}_setWindowSize(b){this.precompute(b)}static normalizeZ(b){return Xu(B,b)}static msm(b,g){return c7(B,i,b,g)}static fromPrivateKey(b){return B.BASE.multiply(Df(i,b))}}B.BASE=new B(o.Gx,o.Gy,r.ONE),B.ZERO=new B(r.ZERO,r.ONE,r.ZERO),B.Fp=r,B.Fn=i;const D=i.BITS,P=new a7(B,e.endo?Math.ceil(D/2):D);return B.BASE.precompute(8),B}function y7(t){return Uint8Array.of(t?2:3)}function w7(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function Lne(t,e={}){const{Fn:n}=t,r=e.randomBytes||KS,i=Object.assign(w7(t.Fp,n),{seed:i7(n.ORDER)});function o(m){try{return!!Df(n,m)}catch{return!1}}function s(m,w){const{publicKey:y,publicKeyUncompressed:I}=i;try{const S=m.length;return w===!0&&S!==y||w===!1&&S!==I?!1:!!t.fromBytes(m)}catch{return!1}}function a(m=r(i.seed)){return mte($s(m,i.seed,"seed"),n.ORDER)}function c(m,w=!0){return t.BASE.multiply(Df(n,m)).toBytes(w)}function l(m){const w=a(m);return{secretKey:w,publicKey:c(w)}}function u(m){if(typeof m=="bigint")return!1;if(m instanceof t)return!0;const{secretKey:w,publicKey:y,publicKeyUncompressed:I}=i;if(n.allowedLengths||w===y)return;const S=fr("key",m).length;return S===y||S===I}function f(m,w,y=!0){if(u(m)===!0)throw new Error("first arg must be private key");if(u(w)===!1)throw new Error("second arg must be public key");const I=Df(n,m);return t.fromHex(w).multiply(I).toBytes(y)}return Object.freeze({getPublicKey:c,getSharedSecret:f,keygen:l,Point:t,utils:{isValidSecretKey:o,isValidPublicKey:s,randomSecretKey:a,isValidPrivateKey:o,randomPrivateKey:a,normPrivateKeyToScalar:m=>Df(n,m),precompute(m=8,w=t.BASE){return w.precompute(m,!1)}},lengths:i})}function Bne(t,e,n={}){A9(e),pg(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||KS,i=n.hmac||((g,...v)=>P9(e,g,ha(...v))),{Fp:o,Fn:s}=t,{ORDER:a,BITS:c}=s,{keygen:l,getPublicKey:u,getSharedSecret:f,utils:p,lengths:m}=Lne(t,n),w={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},y="compact";function I(g){const v=a>>Gf;return g>v}function S(g,v){if(!s.isValidNot0(v))throw new Error(`invalid signature ${g}: out of range 1..Point.Fn.ORDER`);return v}function T(g,v){dS(v);const A=m.signature,L=v==="compact"?A:v==="recovered"?A+1:void 0;return $s(g,L,`${v} signature`)}class N{constructor(v,A,L){this.r=S("r",v),this.s=S("s",A),L!=null&&(this.recovery=L),Object.freeze(this)}static fromBytes(v,A=y){T(v,A);let L;if(A==="der"){const{r:R,s:_}=oc.toSig($s(v));return new N(R,_)}A==="recovered"&&(L=v[0],A="compact",v=v.subarray(1));const C=s.BYTES,O=v.subarray(0,C),x=v.subarray(C,C*2);return new N(s.fromBytes(O),s.fromBytes(x),L)}static fromHex(v,A){return this.fromBytes(yy(v),A)}addRecoveryBit(v){return new N(this.r,this.s,v)}recoverPublicKey(v){const A=o.ORDER,{r:L,s:C,recovery:O}=this;if(O==null||![0,1,2,3].includes(O))throw new Error("recovery id invalid");if(a*v7<A&&O>1)throw new Error("recovery id is ambiguous for h>1 curve");const R=O===2||O===3?L+a:L;if(!o.isValid(R))throw new Error("recovery id 2 or 3 invalid");const _=o.toBytes(R),k=t.fromBytes(ha(y7((O&1)===0),_)),U=s.inv(R),q=$(fr("msgHash",v)),V=s.create(-q*U),Q=s.create(C*U),Y=t.BASE.multiplyUnsafe(V).add(k.multiplyUnsafe(Q));if(Y.is0())throw new Error("point at infinify");return Y.assertValidity(),Y}hasHighS(){return I(this.s)}toBytes(v=y){if(dS(v),v==="der")return yy(oc.hexFromSig(this));const A=s.toBytes(this.r),L=s.toBytes(this.s);if(v==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return ha(Uint8Array.of(this.recovery),A,L)}return ha(A,L)}toHex(v){return ad(this.toBytes(v))}assertValidity(){}static fromCompact(v){return N.fromBytes(fr("sig",v),"compact")}static fromDER(v){return N.fromBytes(fr("sig",v),"der")}normalizeS(){return this.hasHighS()?new N(this.r,s.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return ad(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return ad(this.toBytes("compact"))}}const z=n.bits2int||function(v){if(v.length>8192)throw new Error("input is too large");const A=l1(v),L=v.length*8-c;return L>0?A>>BigInt(L):A},$=n.bits2int_modN||function(v){return s.create(z(v))},H=hg(c);function K(g){return uS("num < 2^"+c,g,wc,H),s.toBytes(g)}function j(g,v){return $s(g,void 0,"message"),v?$s(e(g),void 0,"prehashed message"):g}function B(g,v,A){if(["recovered","canonical"].some(V=>V in A))throw new Error("sign() legacy options not supported");const{lowS:L,prehash:C,extraEntropy:O}=Ix(A,w);g=j(g,C);const x=$(g),R=Df(s,v),_=[K(R),K(x)];if(O!=null&&O!==!1){const V=O===!0?r(m.secretKey):O;_.push(fr("extraEntropy",V))}const k=ha(..._),U=x;function q(V){const Q=z(V);if(!s.isValidNot0(Q))return;const Y=s.inv(Q),X=t.BASE.multiply(Q).toAffine(),ee=s.create(X.x);if(ee===wc)return;const ie=s.create(Y*s.create(U+ee*R));if(ie===wc)return;let oe=(X.x===ee?0:2)|Number(X.y&Gf),te=ie;return L&&I(ie)&&(te=s.neg(ie),oe^=1),new N(ee,te,oe)}return{seed:k,k2sig:q}}function D(g,v,A={}){g=fr("message",g);const{seed:L,k2sig:C}=B(g,v,A);return ste(e.outputLen,s.BYTES,i)(L,C)}function P(g){let v;const A=typeof g=="string"||Q0(g),L=!A&&g!==null&&typeof g=="object"&&typeof g.r=="bigint"&&typeof g.s=="bigint";if(!A&&!L)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(L)v=new N(g.r,g.s);else if(A){try{v=N.fromBytes(fr("sig",g),"der")}catch(C){if(!(C instanceof oc.Err))throw C}if(!v)try{v=N.fromBytes(fr("sig",g),"compact")}catch{return!1}}return v||!1}function E(g,v,A,L={}){const{lowS:C,prehash:O,format:x}=Ix(L,w);if(A=fr("publicKey",A),v=j(fr("message",v),O),"strict"in L)throw new Error("options.strict was renamed to lowS");const R=x===void 0?P(g):N.fromBytes(fr("sig",g),x);if(R===!1)return!1;try{const _=t.fromBytes(A);if(C&&R.hasHighS())return!1;const{r:k,s:U}=R,q=$(v),V=s.inv(U),Q=s.create(q*V),Y=s.create(k*V),X=t.BASE.multiplyUnsafe(Q).add(_.multiplyUnsafe(Y));return X.is0()?!1:s.create(X.x)===k}catch{return!1}}function b(g,v,A={}){const{prehash:L}=Ix(A,w);return v=j(v,L),N.fromBytes(g,"recovered").recoverPublicKey(v).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:f,utils:p,lengths:m,Point:t,sign:D,verify:E,recoverPublicKey:b,Signature:N,hash:e})}function Dne(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(s=>Math.ceil(s/2)))):void 0;const i=kd(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),o={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:o}}function jne(t){const{CURVE:e,curveOpts:n}=Dne(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function $ne(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,n7(n.Fn.ORDER,n.Fn.BITS))})}function Fne(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=jne(t),o=Pne(e,n),s=Bne(o,r,i);return $ne(t,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Une(t,e){const n=r=>Fne({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const I4={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},zne={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},$O=BigInt(2);function qne(t){const e=I4.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,f=dr(u,n,e)*u%e,p=dr(f,n,e)*u%e,m=dr(p,$O,e)*l%e,w=dr(m,i,e)*m%e,y=dr(w,o,e)*w%e,I=dr(y,a,e)*y%e,S=dr(I,c,e)*I%e,T=dr(S,a,e)*y%e,N=dr(T,n,e)*u%e,z=dr(N,s,e)*w%e,$=dr(z,r,e)*l%e,H=dr($,$O,e);if(!fS.eql(fS.sqr(H),t))throw new Error("Cannot find square root");return H}const fS=kd(I4.p,{sqrt:qne}),Hne=Une({...I4,Fp:fS,lowS:!0,endo:zne},T9);gg.utils.randomPrivateKey;gg.getPublicKey;function FO(t){try{return gg.ExtendedPoint.fromHex(t),!0}catch{return!1}}const b7=(t,e)=>gg.sign(t,e.slice(0,32)),Kne=gg.verify,vh=t=>ln.Buffer.isBuffer(t)?t:t instanceof Uint8Array?ln.Buffer.from(t.buffer,t.byteOffset,t.byteLength):ln.Buffer.from(t);class Wne{constructor(e){Object.assign(this,e)}encode(){return ln.Buffer.from(_x.serialize(dy,this))}static decode(e){return _x.deserialize(dy,this,e)}static decodeUnchecked(e){return _x.deserializeUnchecked(dy,this,e)}}const dy=new Map;var E7;const Vne=32,Wl=32;function Gne(t){return t._bn!==void 0}let UO=1;class Gt extends Wne{constructor(e){if(super({}),this._bn=void 0,Gne(e))this._bn=e._bn;else{if(typeof e=="string"){const n=ni.decode(e);if(n.length!=Wl)throw new Error("Invalid public key input");this._bn=new S5(n)}else this._bn=new S5(e);if(this._bn.byteLength()>Wl)throw new Error("Invalid public key input")}}static unique(){const e=new Gt(UO);return UO+=1,new Gt(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return ni.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(ln.Buffer);if(e.length===Wl)return e;const n=ln.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=ln.Buffer.concat([e.toBuffer(),ln.Buffer.from(n),r.toBuffer()]),o=OO(i);return new Gt(o)}static createProgramAddressSync(e,n){let r=ln.Buffer.alloc(0);e.forEach(function(o){if(o.length>Vne)throw new TypeError("Max seed length exceeded");r=ln.Buffer.concat([r,vh(o)])}),r=ln.Buffer.concat([r,n.toBuffer(),ln.Buffer.from("ProgramDerivedAddress")]);const i=OO(r);if(FO(i))throw new Error("Invalid seeds, address must fall off the curve");return new Gt(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const o=e.concat(ln.Buffer.from([r]));i=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new Gt(e);return FO(n.toBytes())}}E7=Gt;Gt.default=new E7("11111111111111111111111111111111");dy.set(Gt,{kind:"struct",fields:[["_bn","u256"]]});new Gt("BPFLoader1111111111111111111111111111111111");const Yf=1232,k4=127,aw=64;class x7 extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(x7.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class _7 extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(_7.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Dp extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Dp.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class cw{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,s)=>{r.set(o.toBase58(),s)});const i=o=>{const s=r.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}}const mn=(t="publicKey")=>xe.blob(32,t),Yne=(t="signature")=>xe.blob(64,t),jf=(t="string")=>{const e=xe.struct([xe.u32("length"),xe.u32("lengthPadding"),xe.blob(xe.offset(xe.u32(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(o,s)=>n(o,s).chars.toString(),i.encode=(o,s,a)=>{const c={chars:ln.Buffer.from(o,"utf8")};return r(c,s,a)},i.alloc=o=>xe.u32().span+xe.u32().span+ln.Buffer.from(o,"utf8").length,i},Jne=(t="authorized")=>xe.struct([mn("staker"),mn("withdrawer")],t),Zne=(t="lockup")=>xe.struct([xe.ns64("unixTimestamp"),xe.ns64("epoch"),mn("custodian")],t),Xne=(t="voteInit")=>xe.struct([mn("nodePubkey"),mn("authorizedVoter"),mn("authorizedWithdrawer"),xe.u8("commission")],t),Qne=(t="voteAuthorizeWithSeedArgs")=>xe.struct([xe.u32("voteAuthorizationType"),mn("currentAuthorityDerivedKeyOwnerPubkey"),jf("currentAuthorityDerivedKeySeed"),mn("newAuthorized")],t);function Oo(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,(r&128)===0)break}return e}function To(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function Zn(t,e){if(!t)throw new Error(e||"Assertion failed")}class d1{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=s=>{const a=s.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},o=i(n);o.isSigner=!0,o.isWritable=!0;for(const s of e){i(s.programId).isInvoked=!0;for(const a of s.keys){const c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new d1(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Zn(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),o=e.filter(([,c])=>!c.isSigner&&!c.isWritable),s={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{Zn(n.length>0,"Expected at least one writable signer key");const[c]=n[0];Zn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([c])=>new Gt(c)),...r.map(([c])=>new Gt(c)),...i.map(([c])=>new Gt(c)),...o.map(([c])=>new Gt(c))];return[s,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[o,s]of this.keyMetaMap.entries())if(n(s)){const a=new Gt(o),c=e.findIndex(l=>l.equals(a));c>=0&&(Zn(c<256,"Max lookup table index exceeded"),r.push(c),i.push(a),this.keyMetaMap.delete(o))}return[r,i]}}const S7="Reached end of buffer unexpectedly";function hc(t){if(t.length===0)throw new Error(S7);return t.shift()}function No(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(S7);return t.splice(...e)}class Ic{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new Gt(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ni.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new cw(this.staticAccountKeys)}static compile(e){const n=d1.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),s=new cw(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:ni.encode(a.data)}));return new Ic({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];To(n,e);const r=this.instructions.map(f=>{const{accounts:p,programIdIndex:m}=f,w=Array.from(ni.decode(f.data));let y=[];To(y,p.length);let I=[];return To(I,w.length),{programIdIndex:m,keyIndicesCount:ln.Buffer.from(y),keyIndices:p,dataLength:ln.Buffer.from(I),data:w}});let i=[];To(i,r.length);let o=ln.Buffer.alloc(Yf);ln.Buffer.from(i).copy(o);let s=i.length;r.forEach(f=>{const m=xe.struct([xe.u8("programIdIndex"),xe.blob(f.keyIndicesCount.length,"keyIndicesCount"),xe.seq(xe.u8("keyIndex"),f.keyIndices.length,"keyIndices"),xe.blob(f.dataLength.length,"dataLength"),xe.seq(xe.u8("userdatum"),f.data.length,"data")]).encode(f,o,s);s+=m}),o=o.slice(0,s);const a=xe.struct([xe.blob(1,"numRequiredSignatures"),xe.blob(1,"numReadonlySignedAccounts"),xe.blob(1,"numReadonlyUnsignedAccounts"),xe.blob(n.length,"keyCount"),xe.seq(mn("key"),e,"keys"),mn("recentBlockhash")]),c={numRequiredSignatures:ln.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ln.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ln.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ln.Buffer.from(n),keys:this.accountKeys.map(f=>vh(f.toBytes())),recentBlockhash:ni.decode(this.recentBlockhash)};let l=ln.Buffer.alloc(2048);const u=a.encode(c,l);return o.copy(l,u),l.slice(0,u+o.length)}static from(e){let n=[...e];const r=hc(n);if(r!==(r&k4))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=hc(n),o=hc(n),s=Oo(n);let a=[];for(let p=0;p<s;p++){const m=No(n,0,Wl);a.push(new Gt(ln.Buffer.from(m)))}const c=No(n,0,Wl),l=Oo(n);let u=[];for(let p=0;p<l;p++){const m=hc(n),w=Oo(n),y=No(n,0,w),I=Oo(n),S=No(n,0,I),T=ni.encode(ln.Buffer.from(S));u.push({programIdIndex:m,accounts:y,data:T})}const f={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:ni.encode(ln.Buffer.from(c)),accountKeys:a,instructions:u};return new Ic(f)}}class I0{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new cw(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){const i=e-n,s=r-n-this.header.numReadonlyUnsignedAccounts;return i<s}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(o=>o.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<i.state.addresses.length)n.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<i.state.addresses.length)n.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=d1.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(const u of o){const f=n.extractTableLookup(u);if(f!==void 0){const[p,{writable:m,readonly:w}]=f;r.push(p),i.writable.push(...m),i.readonly.push(...w)}}const[s,a]=n.getMessageComponents(),l=new cw(a,i).compileInstructions(e.instructions);return new I0({header:s,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:l,addressTableLookups:r})}serialize(){const e=Array();To(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();To(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),o=Array();To(o,this.addressTableLookups.length);const s=xe.struct([xe.u8("prefix"),xe.struct([xe.u8("numRequiredSignatures"),xe.u8("numReadonlySignedAccounts"),xe.u8("numReadonlyUnsignedAccounts")],"header"),xe.blob(e.length,"staticAccountKeysLength"),xe.seq(mn(),this.staticAccountKeys.length,"staticAccountKeys"),mn("recentBlockhash"),xe.blob(r.length,"instructionsLength"),xe.blob(n.length,"serializedInstructions"),xe.blob(o.length,"addressTableLookupsLength"),xe.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(Yf),l=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(u=>u.toBytes()),recentBlockhash:ni.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,l)}serializeInstructions(){let e=0;const n=new Uint8Array(Yf);for(const r of this.compiledInstructions){const i=Array();To(i,r.accountKeyIndexes.length);const o=Array();To(o,r.data.length);const s=xe.struct([xe.u8("programIdIndex"),xe.blob(i.length,"encodedAccountKeyIndexesLength"),xe.seq(xe.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),xe.blob(o.length,"encodedDataLength"),xe.blob(r.data.length,"data")]);e+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(Yf);for(const r of this.addressTableLookups){const i=Array();To(i,r.writableIndexes.length);const o=Array();To(o,r.readonlyIndexes.length);const s=xe.struct([mn("accountKey"),xe.blob(i.length,"encodedWritableIndexesLength"),xe.seq(xe.u8(),r.writableIndexes.length,"writableIndexes"),xe.blob(o.length,"encodedReadonlyIndexesLength"),xe.seq(xe.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=hc(n),i=r&k4;Zn(r!==i,"Expected versioned message but received legacy message");const o=i;Zn(o===0,`Expected versioned message with version 0 but found version ${o}`);const s={numRequiredSignatures:hc(n),numReadonlySignedAccounts:hc(n),numReadonlyUnsignedAccounts:hc(n)},a=[],c=Oo(n);for(let w=0;w<c;w++)a.push(new Gt(No(n,0,Wl)));const l=ni.encode(No(n,0,Wl)),u=Oo(n),f=[];for(let w=0;w<u;w++){const y=hc(n),I=Oo(n),S=No(n,0,I),T=Oo(n),N=new Uint8Array(No(n,0,T));f.push({programIdIndex:y,accountKeyIndexes:S,data:N})}const p=Oo(n),m=[];for(let w=0;w<p;w++){const y=new Gt(No(n,0,Wl)),I=Oo(n),S=No(n,0,I),T=Oo(n),N=No(n,0,T);m.push({accountKey:y,writableIndexes:S,readonlyIndexes:N})}return new I0({header:s,staticAccountKeys:a,recentBlockhash:l,compiledInstructions:f,addressTableLookups:m})}}const C7={deserializeMessageVersion(t){const e=t[0],n=e&k4;return n===e?"legacy":n},deserialize:t=>{const e=C7.deserializeMessageVersion(t);if(e==="legacy")return Ic.from(t);if(e===0)return I0.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let dl=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const ere=ln.Buffer.alloc(aw).fill(0);class zO{constructor(e){this.keys=void 0,this.programId=void 0,this.data=ln.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Ml{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new zO(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let y=0;y<n.length;y++)if(n[y].programId===void 0)throw new Error(`Transaction instruction index ${y} has undefined program id`);const i=[],o=[];n.forEach(y=>{y.keys.forEach(S=>{o.push({...S})});const I=y.programId.toString();i.includes(I)||i.push(I)}),i.forEach(y=>{o.push({pubkey:new Gt(y),isSigner:!1,isWritable:!1})});const s=[];o.forEach(y=>{const I=y.pubkey.toString(),S=s.findIndex(T=>T.pubkey.toString()===I);S>-1?(s[S].isWritable=s[S].isWritable||y.isWritable,s[S].isSigner=s[S].isSigner||y.isSigner):s.push(y)}),s.sort(function(y,I){if(y.isSigner!==I.isSigner)return y.isSigner?-1:1;if(y.isWritable!==I.isWritable)return y.isWritable?-1:1;const S={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return y.pubkey.toBase58().localeCompare(I.pubkey.toBase58(),"en",S)});const a=s.findIndex(y=>y.pubkey.equals(r));if(a>-1){const[y]=s.splice(a,1);y.isSigner=!0,y.isWritable=!0,s.unshift(y)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const y of this.signatures){const I=s.findIndex(S=>S.pubkey.equals(y.publicKey));if(I>-1)s[I].isSigner||(s[I].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${y.publicKey.toString()}`)}let c=0,l=0,u=0;const f=[],p=[];s.forEach(({pubkey:y,isSigner:I,isWritable:S})=>{I?(f.push(y.toString()),c+=1,S||(l+=1)):(p.push(y.toString()),S||(u+=1))});const m=f.concat(p),w=n.map(y=>{const{data:I,programId:S}=y;return{programIdIndex:m.indexOf(S.toString()),accounts:y.keys.map(T=>m.indexOf(T.pubkey.toString())),data:ni.encode(I)}});return w.forEach(y=>{Zn(y.programIdIndex>=0),y.accounts.forEach(I=>Zn(I>=0))}),new Ic({header:{numRequiredSignatures:c,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:u},accountKeys:m,recentBlockhash:e,instructions:w})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,o)=>n[o].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of e){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of e){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const o=b7(r,i.secretKey);this._addSignature(i.publicKey,vh(o))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){Zn(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=ln.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:i,publicKey:o}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(o):Kne(i,e,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(i,n);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];To(r,n.length);const i=r.length+n.length*64+e.length,o=ln.Buffer.alloc(i);return Zn(n.length<256),ln.Buffer.from(r).copy(o,0),n.forEach(({signature:s},a)=>{s!==null&&(Zn(s.length===64,"signature has invalid length"),ln.Buffer.from(s).copy(o,r.length+a*64))}),e.copy(o,r.length+n.length*64),Zn(o.length<=Yf,`Transaction too large: ${o.length} > ${Yf}`),o}get keys(){return Zn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Zn(this.instructions.length===1),this.instructions[0].programId}get data(){return Zn(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=Oo(n);let i=[];for(let o=0;o<r;o++){const s=No(n,0,aw);i.push(ni.encode(ln.Buffer.from(s)))}return Ml.populate(Ic.from(n),i)}static populate(e,n=[]){const r=new Ml;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,o)=>{const s={signature:i==ni.encode(ere)?null:ni.decode(i),publicKey:e.accountKeys[o]};r.signatures.push(s)}),e.instructions.forEach(i=>{const o=i.accounts.map(s=>{const a=e.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});r.instructions.push(new zO({keys:o,programId:e.accountKeys[i.programIdIndex],data:ni.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class M4{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)Zn(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(aw));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();To(n,this.signatures.length);const r=xe.struct([xe.blob(n.length,"encodedSignaturesLength"),xe.seq(Yne(),this.signatures.length,"signatures"),xe.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let n=[...e];const r=[],i=Oo(n);for(let s=0;s<i;s++)r.push(new Uint8Array(No(n,0,aw)));const o=C7.deserialize(new Uint8Array(n));return new M4(o,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const o=r.findIndex(s=>s.equals(i.publicKey));Zn(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=b7(n,i.secretKey)}}addSignature(e,n){Zn(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));Zn(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}}const tre=160,nre=64,rre=tre/nre,ire=1e3/rre;new Gt("SysvarC1ock11111111111111111111111111111111");new Gt("SysvarEpochSchedu1e111111111111111111111111");new Gt("Sysvar1nstructions1111111111111111111111111");new Gt("SysvarRecentB1ockHashes11111111111111111111");new Gt("SysvarRent111111111111111111111111111111111");new Gt("SysvarRewards111111111111111111111111111111");new Gt("SysvarS1otHashes111111111111111111111111111");new Gt("SysvarS1otHistory11111111111111111111111111");new Gt("SysvarStakeHistory1111111111111111111111111");class qO extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:i}){const o=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+o+s;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+o+s;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const o=i.meta.logMessages;this.transactionLogs=o,n(o)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class $t extends Error{constructor({code:e,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}function If(t){return new Promise(e=>setTimeout(e,t))}const ore=xe.nu64("lamportsPerSignature"),A7=xe.struct([xe.u32("version"),xe.u32("state"),mn("authorizedPubkey"),mn("nonce"),xe.struct([ore],"feeCalculator")]);A7.span;class R4{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=A7.decode(vh(e),0);return new R4({authorizedPubkey:new Gt(n.authorizedPubkey),nonce:new Gt(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function yh(t){const e=xe.blob(8,t),n=e.decode.bind(e),r=e.encode.bind(e),i=e,o=fne();return i.decode=(s,a)=>{const c=n(s,a);return o.decode(c)},i.encode=(s,a,c)=>{const l=o.encode(s);return r(l,a,c)},i}Object.freeze({Create:{index:0,layout:xe.struct([xe.u32("instruction"),xe.ns64("lamports"),xe.ns64("space"),mn("programId")])},Assign:{index:1,layout:xe.struct([xe.u32("instruction"),mn("programId")])},Transfer:{index:2,layout:xe.struct([xe.u32("instruction"),yh("lamports")])},CreateWithSeed:{index:3,layout:xe.struct([xe.u32("instruction"),mn("base"),jf("seed"),xe.ns64("lamports"),xe.ns64("space"),mn("programId")])},AdvanceNonceAccount:{index:4,layout:xe.struct([xe.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:xe.struct([xe.u32("instruction"),xe.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:xe.struct([xe.u32("instruction"),mn("authorized")])},AuthorizeNonceAccount:{index:7,layout:xe.struct([xe.u32("instruction"),mn("authorized")])},Allocate:{index:8,layout:xe.struct([xe.u32("instruction"),xe.ns64("space")])},AllocateWithSeed:{index:9,layout:xe.struct([xe.u32("instruction"),mn("base"),jf("seed"),xe.ns64("space"),mn("programId")])},AssignWithSeed:{index:10,layout:xe.struct([xe.u32("instruction"),mn("base"),jf("seed"),mn("programId")])},TransferWithSeed:{index:11,layout:xe.struct([xe.u32("instruction"),yh("lamports"),jf("seed"),mn("programId")])},UpgradeNonceAccount:{index:12,layout:xe.struct([xe.u32("instruction")])}});new Gt("11111111111111111111111111111111");new Gt("BPFLoader2111111111111111111111111111111111");function sre(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kx,HO;function are(){if(HO)return kx;HO=1;var t=Object.prototype.toString,e=Object.keys||function(r){var i=[];for(var o in r)i.push(o);return i};function n(r,i){var o,s,a,c,l,u,f;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),i);if(f=t.call(r),f==="[object Array]"){for(a="[",s=r.length-1,o=0;o<s;o++)a+=n(r[o],!0)+",";return s>-1&&(a+=n(r[o],!0)),a+"]"}else if(f==="[object Object]"){for(c=e(r).sort(),s=c.length,a="",o=0;o<s;)l=c[o],u=n(r[l],!1),u!==void 0&&(a&&(a+=","),a+=JSON.stringify(l)+":"+u),o++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return kx=function(r){var i=n(r,!1);if(i!==void 0)return""+i},kx}var cre=are(),KO=sre(cre);const Sp=32;function Mx(t){let e=0;for(;t>1;)t/=2,e++;return e}function lre(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class ure{constructor(e,n,r,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=Mx(lre(e+Sp+1))-Mx(Sp)-1,r=this.getSlotsInEpoch(n),i=e-(r-Sp);return[n,i]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,o=n%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Sp:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Mx(Sp)):this.slotsPerEpoch}}var dre=globalThis.fetch;class fre extends Rne{constructor(e,n,r){const i=o=>{const s=kne(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function hre(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const WO=56;class VO{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=hre(pre,e),r=e.length-WO;Zn(r>=0,"lookup table is invalid"),Zn(r%32===0,"lookup table is invalid");const i=r/32,{addresses:o}=xe.struct([xe.seq(mn(),i,"addresses")]).decode(e.slice(WO));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new Gt(n.authority[0]):void 0,addresses:o.map(s=>new Gt(s))}}}const pre={index:1,layout:xe.struct([xe.u32("typeIndex"),yh("deactivationSlot"),xe.nu64("lastExtendedSlot"),xe.u8("lastExtendedStartIndex"),xe.u8(),xe.seq(mn(),xe.offset(xe.u8(),-1),"authority")])},gre=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function mre(t){const e=t.match(gre);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${s}//${r}${c}${o}`}const or=yg(S4(Gt),at(),t=>new Gt(t)),I7=C4([at(),rr("base64")]),O4=yg(S4(ln.Buffer),I7,t=>ln.Buffer.from(t[0],"base64")),vre=30*1e3;function yre(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function Kn(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function GO(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function k7(t){return zi([nt({jsonrpc:rr("2.0"),id:at(),result:t}),nt({jsonrpc:rr("2.0"),id:at(),error:nt({code:Ah(),message:at(),data:zt(wne())})})])}const wre=k7(Ah());function cn(t){return yg(k7(t),wre,e=>"error"in e?e:{...e,result:dt(e.result,t)})}function br(t){return cn(nt({context:nt({slot:Te()}),value:t}))}function f1(t){return nt({context:nt({slot:Te()}),value:t})}function Rx(t,e){return t===0?new I0({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new Gt(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:ni.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new Ic(e)}const bre=nt({foundation:Te(),foundationTerm:Te(),initial:Te(),taper:Te(),terminal:Te()}),Ere=cn(pt(mt(nt({epoch:Te(),effectiveSlot:Te(),amount:Te(),postBalance:Te(),commission:zt(mt(Te()))})))),xre=pt(nt({slot:Te(),prioritizationFee:Te()})),_re=nt({total:Te(),validator:Te(),foundation:Te(),epoch:Te()}),Sre=nt({epoch:Te(),slotIndex:Te(),slotsInEpoch:Te(),absoluteSlot:Te(),blockHeight:zt(Te()),transactionCount:zt(Te())}),Cre=nt({slotsPerEpoch:Te(),leaderScheduleSlotOffset:Te(),warmup:ka(),firstNormalEpoch:Te(),firstNormalSlot:Te()}),Are=g7(at(),pt(Te())),Rd=mt(zi([nt({}),at()])),Ire=nt({err:Rd}),kre=rr("receivedSignature"),Mre=nt({"solana-core":at(),"feature-set":zt(Te())}),Rre=nt({program:at(),programId:or,parsed:Ah()}),Ore=nt({programId:or,accounts:pt(or),data:at()}),YO=br(nt({err:mt(zi([nt({}),at()])),logs:mt(pt(at())),accounts:zt(mt(pt(mt(nt({executable:ka(),owner:at(),lamports:Te(),data:pt(at()),rentEpoch:zt(Te())}))))),unitsConsumed:zt(Te()),returnData:zt(mt(nt({programId:at(),data:C4([at(),rr("base64")])}))),innerInstructions:zt(mt(pt(nt({index:Te(),instructions:pt(zi([Rre,Ore]))}))))})),Tre=br(nt({byIdentity:g7(at(),pt(Te())),range:nt({firstSlot:Te(),lastSlot:Te()})}));function Nre(t,e,n,r,i,o){const s=n||dre;let a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(u,f)=>{const p=await new Promise((m,w)=>{try{r(u,f,(y,I)=>m([y,I]))}catch(y){w(y)}});return await s(...p)}),new Sne(async(u,f)=>{const p={method:"POST",body:u,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Nie)};try{let m=5,w,y=500;for(;c?w=await c(t,p):w=await s(t,p),!(w.status!==429||i===!0||(m-=1,m===0));)console.error(`Server responded with ${w.status} ${w.statusText}.  Retrying after ${y}ms delay...`),await If(y),y*=2;const I=await w.text();w.ok?f(null,I):f(new Error(`${w.status} ${w.statusText}: ${I}`))}catch(m){m instanceof Error&&f(m)}},{})}function Pre(t){return(e,n)=>new Promise((r,i)=>{t.request(e,n,(o,s)=>{if(o){i(o);return}r(s)})})}function Lre(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const i=e.map(o=>t.request(o.methodName,o.args));t.request(i,(o,s)=>{if(o){r(o);return}n(s)})})}const Bre=cn(bre),Dre=cn(_re),jre=cn(xre),$re=cn(Sre),Fre=cn(Cre),Ure=cn(Are),zre=cn(Te()),qre=br(nt({total:Te(),circulating:Te(),nonCirculating:Te(),nonCirculatingAccounts:pt(or)})),hS=nt({amount:at(),uiAmount:mt(Te()),decimals:Te(),uiAmountString:zt(at())}),Hre=br(pt(nt({address:or,amount:at(),uiAmount:mt(Te()),decimals:Te(),uiAmountString:zt(at())}))),Kre=br(pt(nt({pubkey:or,account:nt({executable:ka(),owner:or,lamports:Te(),data:O4,rentEpoch:Te()})}))),pS=nt({program:at(),parsed:Ah(),space:Te()}),Wre=br(pt(nt({pubkey:or,account:nt({executable:ka(),owner:or,lamports:Te(),data:pS,rentEpoch:Te()})}))),Vre=br(pt(nt({lamports:Te(),address:or}))),k0=nt({executable:ka(),owner:or,lamports:Te(),data:O4,rentEpoch:Te()}),Gre=nt({pubkey:or,account:k0}),Yre=yg(zi([S4(ln.Buffer),pS]),zi([I7,pS]),t=>Array.isArray(t)?dt(t,O4):t),gS=nt({executable:ka(),owner:or,lamports:Te(),data:Yre,rentEpoch:Te()}),Jre=nt({pubkey:or,account:gS}),Zre=nt({state:zi([rr("active"),rr("inactive"),rr("activating"),rr("deactivating")]),active:Te(),inactive:Te()}),Xre=cn(pt(nt({signature:at(),slot:Te(),err:Rd,memo:mt(at()),blockTime:zt(mt(Te()))}))),Qre=cn(pt(nt({signature:at(),slot:Te(),err:Rd,memo:mt(at()),blockTime:zt(mt(Te()))}))),eie=nt({subscription:Te(),result:f1(k0)}),tie=nt({pubkey:or,account:k0}),nie=nt({subscription:Te(),result:f1(tie)}),rie=nt({parent:Te(),slot:Te(),root:Te()}),iie=nt({subscription:Te(),result:rie}),oie=zi([nt({type:zi([rr("firstShredReceived"),rr("completed"),rr("optimisticConfirmation"),rr("root")]),slot:Te(),timestamp:Te()}),nt({type:rr("createdBank"),parent:Te(),slot:Te(),timestamp:Te()}),nt({type:rr("frozen"),slot:Te(),timestamp:Te(),stats:nt({numTransactionEntries:Te(),numSuccessfulTransactions:Te(),numFailedTransactions:Te(),maxTransactionsPerEntry:Te()})}),nt({type:rr("dead"),slot:Te(),timestamp:Te(),err:at()})]),sie=nt({subscription:Te(),result:oie}),aie=nt({subscription:Te(),result:f1(zi([Ire,kre]))}),cie=nt({subscription:Te(),result:Te()}),lie=nt({pubkey:at(),gossip:mt(at()),tpu:mt(at()),rpc:mt(at()),version:mt(at())}),JO=nt({votePubkey:at(),nodePubkey:at(),activatedStake:Te(),epochVoteAccount:ka(),epochCredits:pt(C4([Te(),Te(),Te()])),commission:Te(),lastVote:Te(),rootSlot:mt(Te())}),uie=cn(nt({current:pt(JO),delinquent:pt(JO)})),die=zi([rr("processed"),rr("confirmed"),rr("finalized")]),fie=nt({slot:Te(),confirmations:mt(Te()),err:Rd,confirmationStatus:zt(die)}),hie=br(pt(mt(fie))),pie=cn(Te()),M7=nt({accountKey:or,writableIndexes:pt(Te()),readonlyIndexes:pt(Te())}),T4=nt({signatures:pt(at()),message:nt({accountKeys:pt(at()),header:nt({numRequiredSignatures:Te(),numReadonlySignedAccounts:Te(),numReadonlyUnsignedAccounts:Te()}),instructions:pt(nt({accounts:pt(Te()),data:at(),programIdIndex:Te()})),recentBlockhash:at(),addressTableLookups:zt(pt(M7))})}),R7=nt({pubkey:or,signer:ka(),writable:ka(),source:zt(zi([rr("transaction"),rr("lookupTable")]))}),O7=nt({accountKeys:pt(R7),signatures:pt(at())}),T7=nt({parsed:Ah(),program:at(),programId:or}),N7=nt({accounts:pt(or),data:at(),programId:or}),gie=zi([N7,T7]),mie=zi([nt({parsed:Ah(),program:at(),programId:at()}),nt({accounts:pt(at()),data:at(),programId:at()})]),P7=yg(gie,mie,t=>"accounts"in t?dt(t,N7):dt(t,T7)),L7=nt({signatures:pt(at()),message:nt({accountKeys:pt(R7),instructions:pt(P7),recentBlockhash:at(),addressTableLookups:zt(mt(pt(M7)))})}),lw=nt({accountIndex:Te(),mint:at(),owner:zt(at()),programId:zt(at()),uiTokenAmount:hS}),B7=nt({writable:pt(or),readonly:pt(or)}),h1=nt({err:Rd,fee:Te(),innerInstructions:zt(mt(pt(nt({index:Te(),instructions:pt(nt({accounts:pt(Te()),data:at(),programIdIndex:Te()}))})))),preBalances:pt(Te()),postBalances:pt(Te()),logMessages:zt(mt(pt(at()))),preTokenBalances:zt(mt(pt(lw))),postTokenBalances:zt(mt(pt(lw))),loadedAddresses:zt(B7),computeUnitsConsumed:zt(Te()),costUnits:zt(Te())}),N4=nt({err:Rd,fee:Te(),innerInstructions:zt(mt(pt(nt({index:Te(),instructions:pt(P7)})))),preBalances:pt(Te()),postBalances:pt(Te()),logMessages:zt(mt(pt(at()))),preTokenBalances:zt(mt(pt(lw))),postTokenBalances:zt(mt(pt(lw))),loadedAddresses:zt(B7),computeUnitsConsumed:zt(Te()),costUnits:zt(Te())}),Ih=zi([rr(0),rr("legacy")]),Od=nt({pubkey:at(),lamports:Te(),postBalance:mt(Te()),rewardType:mt(at()),commission:zt(mt(Te()))}),vie=cn(mt(nt({blockhash:at(),previousBlockhash:at(),parentSlot:Te(),transactions:pt(nt({transaction:T4,meta:mt(h1),version:zt(Ih)})),rewards:zt(pt(Od)),blockTime:mt(Te()),blockHeight:mt(Te())}))),yie=cn(mt(nt({blockhash:at(),previousBlockhash:at(),parentSlot:Te(),rewards:zt(pt(Od)),blockTime:mt(Te()),blockHeight:mt(Te())}))),wie=cn(mt(nt({blockhash:at(),previousBlockhash:at(),parentSlot:Te(),transactions:pt(nt({transaction:O7,meta:mt(h1),version:zt(Ih)})),rewards:zt(pt(Od)),blockTime:mt(Te()),blockHeight:mt(Te())}))),bie=cn(mt(nt({blockhash:at(),previousBlockhash:at(),parentSlot:Te(),transactions:pt(nt({transaction:L7,meta:mt(N4),version:zt(Ih)})),rewards:zt(pt(Od)),blockTime:mt(Te()),blockHeight:mt(Te())}))),Eie=cn(mt(nt({blockhash:at(),previousBlockhash:at(),parentSlot:Te(),transactions:pt(nt({transaction:O7,meta:mt(N4),version:zt(Ih)})),rewards:zt(pt(Od)),blockTime:mt(Te()),blockHeight:mt(Te())}))),xie=cn(mt(nt({blockhash:at(),previousBlockhash:at(),parentSlot:Te(),rewards:zt(pt(Od)),blockTime:mt(Te()),blockHeight:mt(Te())}))),_ie=cn(mt(nt({blockhash:at(),previousBlockhash:at(),parentSlot:Te(),transactions:pt(nt({transaction:T4,meta:mt(h1)})),rewards:zt(pt(Od)),blockTime:mt(Te())}))),ZO=cn(mt(nt({blockhash:at(),previousBlockhash:at(),parentSlot:Te(),signatures:pt(at()),blockTime:mt(Te())}))),Ox=cn(mt(nt({slot:Te(),meta:mt(h1),blockTime:zt(mt(Te())),transaction:T4,version:zt(Ih)}))),Sv=cn(mt(nt({slot:Te(),transaction:L7,meta:mt(N4),blockTime:zt(mt(Te())),version:zt(Ih)}))),Sie=br(nt({blockhash:at(),lastValidBlockHeight:Te()})),Cie=br(ka()),Aie=nt({slot:Te(),numTransactions:Te(),numSlots:Te(),samplePeriodSecs:Te()}),Iie=cn(pt(Aie)),kie=br(mt(nt({feeCalculator:nt({lamportsPerSignature:Te()})}))),Mie=cn(at()),Rie=cn(at()),Oie=nt({err:Rd,logs:pt(at()),signature:at()}),Tie=nt({result:f1(Oie),subscription:Te()}),Nie={"solana-client":"js/1.0.0-maintenance"};class Pie{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const l={};return async u=>{const{commitment:f,config:p}=Kn(u),m=this._buildArgs([],f,void 0,p),w=KO(m);return l[w]=l[w]??(async()=>{try{const y=await this._rpcRequest("getBlockHeight",m),I=dt(y,cn(Te()));if("error"in I)throw new $t(I.error,"failed to get block height information");return I.result}finally{delete l[w]}})(),await l[w]}})();let r,i,o,s,a,c;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,o=n.fetch,s=n.fetchMiddleware,a=n.disableRetryOnRateLimit,c=n.httpAgent),this._rpcEndpoint=yre(e),this._rpcWsEndpoint=r||mre(e),this._rpcClient=Nre(e,i,o,s,a,c),this._rpcRequest=Pre(this._rpcClient),this._rpcBatchRequest=Lre(this._rpcClient),this._rpcWebSocket=new fre(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:i}=Kn(n),o=this._buildArgs([e.toBase58()],r,void 0,i),s=await this._rpcRequest("getBalance",o),a=dt(s,br(Te()));if("error"in a)throw new $t(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=dt(n,cn(mt(Te())));if("error"in r)throw new $t(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=dt(e,cn(Te()));if("error"in n)throw new $t(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=dt(e,zre);if("error"in n)throw new $t(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=dt(r,qre);if("error"in i)throw new $t(i.error,"failed to get supply");return i.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),o=dt(i,br(hS));if("error"in o)throw new $t(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),o=dt(i,br(hS));if("error"in o)throw new $t(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,n,r){const{commitment:i,config:o}=Kn(r);let s=[e.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const a=this._buildArgs(s,i,"base64",o),c=await this._rpcRequest("getTokenAccountsByOwner",a),l=dt(c,Kre);if("error"in l)throw new $t(l.error,`failed to get token accounts owned by account ${e.toBase58()}`);return l.result}async getParsedTokenAccountsByOwner(e,n,r){let i=[e.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const o=this._buildArgs(i,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=dt(s,Wre);if("error"in a)throw new $t(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),o=dt(i,Vre);if("error"in o)throw new $t(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),o=dt(i,Hre);if("error"in o)throw new $t(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:i}=Kn(n),o=this._buildArgs([e.toBase58()],r,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=dt(s,br(mt(k0)));if("error"in a)throw new $t(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:i}=Kn(n),o=this._buildArgs([e.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=dt(s,br(mt(gS)));if("error"in a)throw new $t(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:i}=Kn(n),o=e.map(l=>l.toBase58()),s=this._buildArgs([o],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),c=dt(a,br(pt(mt(gS))));if("error"in c)throw new $t(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:i}=Kn(n),o=e.map(l=>l.toBase58()),s=this._buildArgs([o],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),c=dt(a,br(pt(mt(k0))));if("error"in c)throw new $t(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:i,config:o}=Kn(n),s=this._buildArgs([e.toBase58()],i,void 0,{...o,epoch:r??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getStakeActivation",s),c=dt(a,cn(Zre));if("error"in c)throw new $t(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,n){const{commitment:r,config:i}=Kn(n),{encoding:o,...s}=i||{},a=this._buildArgs([e.toBase58()],r,o||"base64",{...s,...s.filters?{filters:GO(s.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),l=pt(Gre),u=s.withContext===!0?dt(c,br(l)):dt(c,cn(l));if("error"in u)throw new $t(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:i}=Kn(n),o=this._buildArgs([e.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=dt(s,cn(pt(Jre)));if("error"in a)throw new $t(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var o;let r;if(typeof e=="string")r=e;else{const s=e;if((o=s.abortSignal)!=null&&o.aborted)return Promise.reject(s.abortSignal.reason);r=s.signature}let i;try{i=ni.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Zn(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,i,o=!1;const s=new Promise((c,l)=>{try{r=this.onSignature(n,(f,p)=>{r=void 0;const m={context:p,value:f};c({__type:dl.PROCESSED,response:m})},e);const u=new Promise(f=>{r==null?f():i=this._onSubscriptionStateChange(r,p=>{p==="subscribed"&&f()})});(async()=>{if(await u,o)return;const f=await this.getSignatureStatus(n);if(o||f==null)return;const{context:p,value:m}=f;if(m!=null)if(m!=null&&m.err)l(m.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(m.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(m.confirmationStatus==="processed"||m.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,c({__type:dl.PROCESSED,response:{context:p,value:m}})}})()}catch(u){l(u)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let o=!1;const s=new Promise(f=>{const p=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let m=await p();if(!o){for(;m<=r;)if(await If(1e3),o||(m=await p(),o))return;f({__type:dl.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),l=this.getCancellationPromise(n);let u;try{const f=await Promise.race([l,c,s]);if(f.__type===dl.PROCESSED)u=f.response;else throw new x7(i)}finally{o=!0,a()}return u}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1;const c=new Promise(m=>{let w=o,y=null;const I=async()=>{try{const{context:S,value:T}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return y=S.slot,T==null?void 0:T.nonce}catch{return w}};(async()=>{if(w=await I(),!a)for(;;){if(o!==w){m({__type:dl.NONCE_INVALID,slotInWhichNonceDidAdvance:y});return}if(await If(2e3),a||(w=await I(),a))return}})()}),{abortConfirmation:l,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),f=this.getCancellationPromise(n);let p;try{const m=await Promise.race([f,u,c]);if(m.__type===dl.PROCESSED)p=m.response;else{let w;for(;;){const y=await this.getSignatureStatus(s);if(y==null)break;if(y.context.slot<(m.slotInWhichNonceDidAdvance??r)){await If(400);continue}w=y;break}if(w!=null&&w.value){const y=e||"finalized",{confirmationStatus:I}=w.value;switch(y){case"processed":case"recent":if(I!=="processed"&&I!=="confirmed"&&I!=="finalized")throw new Dp(s);break;case"confirmed":case"single":case"singleGossip":if(I!=="confirmed"&&I!=="finalized")throw new Dp(s);break;case"finalized":case"max":case"root":if(I!=="finalized")throw new Dp(s);break;default:}p={context:w.context,value:{err:w.value.err}}}else throw new Dp(s)}}finally{a=!0,l()}return p}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const i=new Promise(c=>{let l=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{l=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:dl.TIMED_OUT,timeoutMs:l}),l)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const c=await Promise.race([s,i]);if(c.__type===dl.PROCESSED)a=c.response;else throw new _7(n,c.timeoutMs/1e3)}finally{clearTimeout(r),o()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=dt(e,cn(pt(lie)));if("error"in n)throw new $t(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),i=dt(r,uie);if("error"in i)throw new $t(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:n,config:r}=Kn(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlot",i),s=dt(o,cn(Te()));if("error"in s)throw new $t(s.error,"failed to get slot");return s.result}async getSlotLeader(e){const{commitment:n,config:r}=Kn(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlotLeader",i),s=dt(o,cn(at()));if("error"in s)throw new $t(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,n){const r=[e,n],i=await this._rpcRequest("getSlotLeaders",r),o=dt(i,cn(pt(or)));if("error"in o)throw new $t(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,n){const{context:r,value:i}=await this.getSignatureStatuses([e],n);Zn(i.length===1);const o=i[0];return{context:r,value:o}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),o=dt(i,hie);if("error"in o)throw new $t(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){const{commitment:n,config:r}=Kn(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getTransactionCount",i),s=dt(o,cn(Te()));if("error"in s)throw new $t(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),i=dt(r,Bre);if("error"in i)throw new $t(i.error,"failed to get inflation");return i.result}async getInflationReward(e,n,r){const{commitment:i,config:o}=Kn(r),s=this._buildArgs([e.map(l=>l.toBase58())],i,void 0,{...o,epoch:n??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getInflationReward",s),c=dt(a,Ere);if("error"in c)throw new $t(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=dt(e,Dre);if("error"in n)throw new $t(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=Kn(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getEpochInfo",i),s=dt(o,$re);if("error"in s)throw new $t(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=dt(e,Fre);if("error"in n)throw new $t(n.error,"failed to get epoch schedule");const r=n.result;return new ure(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=dt(e,Ure);if("error"in n)throw new $t(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=dt(i,pie);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=dt(n,Iie);if("error"in r)throw new $t(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=dt(i,kie);if("error"in o)throw new $t(o.error,"failed to get fee calculator");const{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=vh(e.serialize()).toString("base64"),i=this._buildArgs([r],n),o=await this._rpcRequest("getFeeForMessage",i),s=dt(o,br(mt(Te())));if("error"in s)throw new $t(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(e){var s;const n=(s=e==null?void 0:e.lockedWritableAccounts)==null?void 0:s.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),o=dt(i,jre);if("error"in o)throw new $t(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=Kn(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getLatestBlockhash",i),s=dt(o,Sie);if("error"in s)throw new $t(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(e,n){const{commitment:r,config:i}=Kn(n),o=this._buildArgs([e],r,void 0,i),s=await this._rpcRequest("isBlockhashValid",o),a=dt(s,Cie);if("error"in a)throw new $t(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=dt(e,cn(Mre));if("error"in n)throw new $t(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=dt(e,cn(at()));if("error"in n)throw new $t(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:i}=Kn(n),o=this._buildArgsAtLeastConfirmed([e],r,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=dt(s,wie);if("error"in a)throw a.error;return a.result}case"none":{const a=dt(s,yie);if("error"in a)throw a.error;return a.result}default:{const a=dt(s,vie);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:l,meta:u,version:f})=>({meta:u,transaction:{...l,message:Rx(f,l.message)},version:f}))}:null}}}catch(a){throw new $t(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:i}=Kn(n),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=dt(s,Eie);if("error"in a)throw a.error;return a.result}case"none":{const a=dt(s,xie);if("error"in a)throw a.error;return a.result}default:{const a=dt(s,bie);if("error"in a)throw a.error;return a.result}}}catch(a){throw new $t(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,n=c}const i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getBlockProduction",i),s=dt(o,Tre);if("error"in s)throw new $t(s.error,"failed to get block production information");return s.result}async getTransaction(e,n){const{commitment:r,config:i}=Kn(n),o=this._buildArgsAtLeastConfirmed([e],r,void 0,i),s=await this._rpcRequest("getTransaction",o),a=dt(s,Ox);if("error"in a)throw new $t(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:Rx(c.version,c.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:i}=Kn(n),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=dt(s,Sv);if("error"in a)throw new $t(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:i}=Kn(n),o=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(c=>{const l=dt(c,Sv);if("error"in l)throw new $t(l.error,"failed to get transactions");return l.result})}async getTransactions(e,n){const{commitment:r,config:i}=Kn(n),o=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,void 0,i)}));return(await this._rpcBatchRequest(o)).map(c=>{const l=dt(c,Ox);if("error"in l)throw new $t(l.error,"failed to get transactions");const u=l.result;return u&&{...u,transaction:{...u.transaction,message:Rx(u.version,u.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getBlock",r),o=dt(i,_ie);if("error"in o)throw new $t(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");const a={...s,transactions:s.transactions.map(({transaction:c,meta:l})=>{const u=new Ic(c.message);return{meta:l,transaction:{...c,message:u}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:l})=>({meta:l,transaction:Ml.populate(c.message,c.signatures)}))}}async getBlocks(e,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),o=await this._rpcRequest("getBlocks",i),s=dt(o,cn(pt(Te())));if("error"in s)throw new $t(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=dt(i,ZO);if("error"in o)throw new $t(o.error,"failed to get block");const s=o.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=dt(i,ZO);if("error"in o)throw new $t(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getTransaction",r),o=dt(i,Ox);if("error"in o)throw new $t(o.error,"failed to get transaction");const s=o.result;if(!s)return s;const a=new Ic(s.transaction.message),c=s.transaction.signatures;return{...s,transaction:Ml.populate(a,c)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),o=dt(i,Sv);if("error"in o)throw new $t(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,n){const r=e.map(s=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([s],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(s=>{const a=dt(s,Sv);if("error"in a)throw new $t(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<o));)try{const c=await this.getConfirmedBlockSignatures(n,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let s=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>s));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=dt(o,Xre);if("error"in s)throw new $t(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",i),s=dt(o,Qre);if("error"in s)throw new $t(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let o=null;return i!==null&&(o=new VO({key:e,state:VO.deserialize(i.data)})),{context:r,value:o}}async getNonceAndContext(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let o=null;return i!==null&&(o=R4.fromAccountData(i.data)),{context:r,value:o}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),i=dt(r,Mie);if("error"in i)throw new $t(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await If(100);const r=Date.now()-this._blockhashInfo.lastFetch>=vre;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await If(ire/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=Kn(e),i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=dt(o,br(Te()));if("error"in s)throw new $t(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,n,r){if("message"in e){const y=e.serialize(),I=ln.Buffer.from(y).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const S=n||{};S.encoding="base64","commitment"in S||(S.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(S.innerInstructions=n.innerInstructions);const T=[I,S],N=await this._rpcRequest("simulateTransaction",T),z=dt(N,YO);if("error"in z)throw new Error("failed to simulate transaction: "+z.error.message);return z.result}let i;if(e instanceof Ml){let w=e;i=new Ml,i.feePayer=w.feePayer,i.instructions=e.instructions,i.nonceInfo=w.nonceInfo,i.signatures=w.signatures}else i=Ml.populate(e),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(i.nonceInfo&&o)i.sign(...o);else{let w=this._disableBlockhashCaching;for(;;){const y=await this._blockhashWithExpiryBlockHeight(w);if(i.lastValidBlockHeight=y.lastValidBlockHeight,i.recentBlockhash=y.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const I=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(I)&&!this._blockhashInfo.transactionSignatures.includes(I)){this._blockhashInfo.simulatedSignatures.push(I);break}else w=!0}}const s=i._compile(),a=s.serialize(),l=i._serialize(a).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(r){const w=(Array.isArray(r)?r:s.nonProgramIds()).map(y=>y.toBase58());u.accounts={encoding:"base64",addresses:w}}o&&(u.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(u.innerInstructions=n.innerInstructions);const f=[l,u],p=await this._rpcRequest("simulateTransaction",f),m=dt(p,YO);if("error"in m){let w;if("data"in m.error&&(w=m.error.data.logs,w&&Array.isArray(w))){const y=`
    `,I=y+w.join(y);console.error(m.error.message,I)}throw new qO({action:"simulate",signature:"",transactionMessage:m.error.message,logs:w})}return m.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const s=e.serialize();return await this.sendRawTransaction(s,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(e.nonceInfo)e.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))s=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const o=e.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(e,n){const r=vh(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},i=n&&n.skipPreflight,o=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),o&&(r.preflightCommitment=o);const s=[e,r],a=await this._rpcRequest("sendTransaction",s),c=dt(a,Rie);if("error"in c){let l;throw"data"in c.error&&(l=c.error.data.logs),new qO({action:i?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:l})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const o=this._subscriptionStateChangeCallbacksByHash[e];o&&o.forEach(s=>{try{s(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var o;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(o=this._subscriptionStateChangeCallbacksByHash)[r]||(o[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:s}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(s,o);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${s}\``,{args:o,error:a}),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=dt(e,eie);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,i=KO([e.method,n]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const s=this._subscriptionsByHash[i];Zn(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:i,config:o}=Kn(r),s=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=dt(e,nie);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,i){const{commitment:o,config:s}=Kn(r),a=this._buildArgs([e.toBase58()],o||this._commitment||"finalized","base64",s||(i?{filters:GO(i)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=dt(e,Tie);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=dt(e,iie);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=dt(e,sie);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,i){const o=n||this._commitment;if(o||r||i){let s={};r&&(s.encoding=r),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,n,r,i){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,i)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=dt(e,aie);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){n(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(e,n,r){const{commitment:i,...o}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([e],i,void 0,o),a=this._makeSubscription({callback:(c,l)=>{n(c,l);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=dt(e,cie);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:xe.struct([xe.u32("instruction"),yh("recentSlot"),xe.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:xe.struct([xe.u32("instruction")])},ExtendLookupTable:{index:2,layout:xe.struct([xe.u32("instruction"),yh(),xe.seq(mn(),xe.offset(xe.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:xe.struct([xe.u32("instruction")])},CloseLookupTable:{index:4,layout:xe.struct([xe.u32("instruction")])}});new Gt("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:xe.struct([xe.u8("instruction"),xe.u32("units"),xe.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:xe.struct([xe.u8("instruction"),xe.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:xe.struct([xe.u8("instruction"),xe.u32("units")])},SetComputeUnitPrice:{index:3,layout:xe.struct([xe.u8("instruction"),yh("microLamports")])}});new Gt("ComputeBudget111111111111111111111111111111");xe.struct([xe.u8("numSignatures"),xe.u8("padding"),xe.u16("signatureOffset"),xe.u16("signatureInstructionIndex"),xe.u16("publicKeyOffset"),xe.u16("publicKeyInstructionIndex"),xe.u16("messageDataOffset"),xe.u16("messageDataSize"),xe.u16("messageInstructionIndex")]);new Gt("Ed25519SigVerify111111111111111111111111111");Hne.utils.isValidPrivateKey;xe.struct([xe.u8("numSignatures"),xe.u16("signatureOffset"),xe.u8("signatureInstructionIndex"),xe.u16("ethAddressOffset"),xe.u8("ethAddressInstructionIndex"),xe.u16("messageDataOffset"),xe.u16("messageDataSize"),xe.u8("messageInstructionIndex"),xe.blob(20,"ethAddress"),xe.blob(64,"signature"),xe.u8("recoveryId")]);new Gt("KeccakSecp256k11111111111111111111111111111");var D7;new Gt("StakeConfig11111111111111111111111111111111");class j7{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}D7=j7;j7.default=new D7(0,0,Gt.default);Object.freeze({Initialize:{index:0,layout:xe.struct([xe.u32("instruction"),Jne(),Zne()])},Authorize:{index:1,layout:xe.struct([xe.u32("instruction"),mn("newAuthorized"),xe.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:xe.struct([xe.u32("instruction")])},Split:{index:3,layout:xe.struct([xe.u32("instruction"),xe.ns64("lamports")])},Withdraw:{index:4,layout:xe.struct([xe.u32("instruction"),xe.ns64("lamports")])},Deactivate:{index:5,layout:xe.struct([xe.u32("instruction")])},Merge:{index:7,layout:xe.struct([xe.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:xe.struct([xe.u32("instruction"),mn("newAuthorized"),xe.u32("stakeAuthorizationType"),jf("authoritySeed"),mn("authorityOwner")])}});new Gt("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:xe.struct([xe.u32("instruction"),Xne()])},Authorize:{index:1,layout:xe.struct([xe.u32("instruction"),mn("newAuthorized"),xe.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:xe.struct([xe.u32("instruction"),xe.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:xe.struct([xe.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:xe.struct([xe.u32("instruction"),Qne()])}});new Gt("Vote111111111111111111111111111111111111111");new Gt("Va1idator1nfo111111111111111111111111111111");nt({name:at(),website:zt(at()),details:zt(at()),iconUrl:zt(at()),keybaseUsername:zt(at())});new Gt("Vote111111111111111111111111111111111111111");xe.struct([mn("nodePubkey"),mn("authorizedWithdrawer"),xe.u8("commission"),xe.nu64(),xe.seq(xe.struct([xe.nu64("slot"),xe.u32("confirmationCount")]),xe.offset(xe.u32(),-8),"votes"),xe.u8("rootSlotValid"),xe.nu64("rootSlot"),xe.nu64(),xe.seq(xe.struct([xe.nu64("epoch"),mn("authorizedVoter")]),xe.offset(xe.u32(),-8),"authorizedVoters"),xe.struct([xe.seq(xe.struct([mn("authorizedPubkey"),xe.nu64("epochOfLastAuthorizedSwitch"),xe.nu64("targetEpoch")]),32,"buf"),xe.nu64("idx"),xe.u8("isEmpty")],"priorVoters"),xe.nu64(),xe.seq(xe.struct([xe.nu64("epoch"),xe.nu64("credits"),xe.nu64("prevCredits")]),xe.offset(xe.u32(),-8),"epochCredits"),xe.struct([xe.nu64("slot"),xe.nu64("timestamp")],"lastTimestamp")]);function P4(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function XO(t){return P4(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const $7="2.33.3";let Cp={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${$7}`},ai=class mS extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof mS?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof mS&&n.cause.docsPath||n.docsPath,o=(a=Cp.getDocsUrl)==null?void 0:a.call(Cp,{...n,docsPath:i}),s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...Cp.version?[`Version: ${Cp.version}`]:[]].join(`
`);super(s,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=$7}walk(e){return F7(this,e)}};function F7(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?F7(t.cause,e):e?null:t}class ehe extends ai{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class U7 extends ai{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}class the extends ai{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function kh(t,{dir:e,size:n=32}={}){return typeof t=="string"?Lie(t,{dir:e,size:n}):Bie(t,{dir:e,size:n})}function Lie(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new U7({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Bie(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new U7({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const o=e==="right";r[o?i:n-i-1]=t[o?i:t.length-i-1]}return r}class Die extends ai{constructor({max:e,min:n,signed:r,size:i,value:o}){super(`Number "${o}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class nhe extends ai{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class jie extends ai{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}class $ie extends ai{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Tx(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Td(t,{size:e}){if(XO(t)>e)throw new $ie({givenSize:XO(t),maxSize:e})}function Fie(t,e={}){const{signed:n}=e;e.size&&Td(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,o=(1n<<BigInt(i)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function rhe(t,e={}){let n=t;if(e.size&&(Td(n,{size:e.size}),n=Tx(n)),Tx(n)==="0x00")return!1;if(Tx(n)==="0x01")return!0;throw new jie(n)}function ihe(t,e={}){return Number(Fie(t,e))}const Uie=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function zie(t,e={}){return typeof t=="number"||typeof t=="bigint"?uw(t,e):typeof t=="string"?q7(t,e):typeof t=="boolean"?qie(t,e):z7(t,e)}function qie(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Td(n,{size:e.size}),kh(n,{size:e.size})):n}function z7(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=Uie[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Td(r,{size:e.size}),kh(r,{dir:"right",size:e.size})):r}function uw(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof o=="bigint"&&n?-o-1n:0;if(o&&i>o||i<s){const c=typeof t=="bigint"?"n":"";throw new Die({max:o?`${o}${c}`:void 0,min:`${s}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?kh(a,{size:r}):a}const Hie=new TextEncoder;function q7(t,e={}){const n=Hie.encode(t);return z7(n,e)}const Kie=new TextEncoder;function Wie(t,e={}){return typeof t=="number"||typeof t=="bigint"?Gie(t,e):typeof t=="boolean"?Vie(t,e):P4(t)?H7(t,e):K7(t,e)}function Vie(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Td(n,{size:e.size}),kh(n,{size:e.size})):n}const Ga={zero:48,nine:57,A:65,F:70,a:97,f:102};function QO(t){if(t>=Ga.zero&&t<=Ga.nine)return t-Ga.zero;if(t>=Ga.A&&t<=Ga.F)return t-(Ga.A-10);if(t>=Ga.a&&t<=Ga.f)return t-(Ga.a-10)}function H7(t,e={}){let n=t;e.size&&(Td(n,{size:e.size}),n=kh(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,o=new Uint8Array(i);for(let s=0,a=0;s<i;s++){const c=QO(r.charCodeAt(a++)),l=QO(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new ai(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[s]=c*16+l}return o}function Gie(t,e){const n=uw(t,e);return H7(n)}function K7(t,e={}){const n=Kie.encode(t);return typeof e.size=="number"?(Td(n,{size:e.size}),kh(n,{dir:"right",size:e.size})):n}function Yie(t,e){const n=e||"hex",r=o_(P4(t,{strict:!1})?Wie(t):t);return n==="bytes"?r:zie(r)}class Jie extends ai{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class L4 extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Nx=new L4(8192);function W7(t,e){if(Nx.has(`${t}.${e}`))return Nx.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=Yie(K7(n),"bytes"),i=n.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&i[s]&&(i[s]=i[s].toUpperCase()),(r[s>>1]&15)>=8&&i[s+1]&&(i[s+1]=i[s+1].toUpperCase());const o=`0x${i.join("")}`;return Nx.set(`${t}.${e}`,o),o}function Cv(t,e){if(!Xie(t,{strict:!1}))throw new Jie({address:t});return W7(t,e)}const Zie=/^0x[a-fA-F0-9]{40}$/,Px=new L4(8192);function Xie(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(Px.has(r))return Px.get(r);const i=Zie.test(t)?t.toLowerCase()===t?!0:n?W7(t)===t:!0:!1;return Px.set(r,i),i}function Qie(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const Vl=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n),ohe=t=>t,wg=t=>t;class Qp extends ai{constructor({body:e,cause:n,details:r,headers:i,status:o,url:s}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${wg(s)}`,e&&`Request body: ${Vl(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=o,this.url=s}}class eT extends ai{constructor({body:e,cause:n,details:r,url:i}){super("WebSocket request failed.",{cause:n,details:r,metaMessages:[`URL: ${wg(i)}`,e&&`Request body: ${Vl(e)}`].filter(Boolean),name:"WebSocketRequestError"})}}class B4 extends ai{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${wg(r)}`,`Request body: ${Vl(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class dw extends ai{constructor({url:e}={}){super("The socket has been closed.",{metaMessages:[e&&`URL: ${wg(e)}`].filter(Boolean),name:"SocketClosedError"})}}class vS extends ai{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${wg(n)}`,`Request body: ${Vl(e)}`],name:"TimeoutError"})}}const eoe=-1;class vo extends ai{constructor(e,{code:n,docsPath:r,metaMessages:i,name:o,shortMessage:s}){super(s,{cause:e,docsPath:r,metaMessages:i||(e==null?void 0:e.metaMessages),name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||e.name,this.code=e instanceof B4?e.code:n??eoe}}class Bo extends vo{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class M0 extends vo{constructor(e){super(e,{code:M0.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(M0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class R0 extends vo{constructor(e){super(e,{code:R0.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(R0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class O0 extends vo{constructor(e,{method:n}={}){super(e,{code:O0.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(O0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class T0 extends vo{constructor(e){super(e,{code:T0.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(T0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class wh extends vo{constructor(e){super(e,{code:wh.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(wh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class N0 extends vo{constructor(e){super(e,{code:N0.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(N0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class P0 extends vo{constructor(e){super(e,{code:P0.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(P0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Gl extends vo{constructor(e){super(e,{code:Gl.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Gl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class L0 extends vo{constructor(e){super(e,{code:L0.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(L0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Qu extends vo{constructor(e,{method:n}={}){super(e,{code:Qu.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Qu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class bh extends vo{constructor(e){super(e,{code:bh.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(bh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class B0 extends vo{constructor(e){super(e,{code:B0.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(B0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Di extends Bo{constructor(e){super(e,{code:Di.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Di,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class D0 extends Bo{constructor(e){super(e,{code:D0.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(D0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class j0 extends Bo{constructor(e,{method:n}={}){super(e,{code:j0.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(j0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class $0 extends Bo{constructor(e){super(e,{code:$0.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty($0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class F0 extends Bo{constructor(e){super(e,{code:F0.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(F0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class bd extends Bo{constructor(e){super(e,{code:bd.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(bd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class U0 extends Bo{constructor(e){super(e,{code:U0.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(U0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class z0 extends Bo{constructor(e){super(e,{code:z0.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(z0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class q0 extends Bo{constructor(e){super(e,{code:q0.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(q0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class H0 extends Bo{constructor(e){super(e,{code:H0.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(H0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class K0 extends Bo{constructor(e){super(e,{code:K0.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(K0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class W0 extends Bo{constructor(e){super(e,{code:W0.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(W0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class V0 extends Bo{constructor(e){super(e,{code:V0.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(V0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class toe extends vo{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function noe(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const Lx=new Map;function V7({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const o=async()=>{const u=c();s();const f=u.map(({args:p})=>p);f.length!==0&&t(f).then(p=>{i&&Array.isArray(p)&&p.sort(i);for(let m=0;m<u.length;m++){const{resolve:w}=u[m];w==null||w([p[m],p])}}).catch(p=>{for(let m=0;m<u.length;m++){const{reject:w}=u[m];w==null||w(p)}})},s=()=>Lx.delete(e),a=()=>c().map(({args:u})=>u),c=()=>Lx.get(e)||[],l=u=>Lx.set(e,[...c(),u]);return{flush:s,async schedule(u){const{promise:f,resolve:p,reject:m}=noe();return(n==null?void 0:n([...a(),u]))&&o(),c().length>0?(l({args:u,resolve:p,reject:m}),f):(l({args:u,resolve:p,reject:m}),setTimeout(o,r),f)}}}async function roe(t){return new Promise(e=>setTimeout(e,t))}function G7(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,o)=>{const s=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await roe(u),s({count:a+1})};try{const l=await t();i(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});o(l)}};s()})}const yS=256;let Av=yS,Iv;function Y7(t=11){if(!Iv||Av+t>yS*2){Iv="",Av=0;for(let e=0;e<yS;e++)Iv+=(256+Math.random()*256|0).toString(16).substring(1)}return Iv.substring(Av,Av+++t)}function ioe(t){const{batch:e,chain:n,ccipRead:r,key:i="base",name:o="Base Client",type:s="base"}=t,a=t.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(n==null?void 0:n.blockTime)??12e3,l=Math.min(Math.max(Math.floor(c/2),500),4e3),u=t.pollingInterval??l,f=t.cacheTime??u,p=t.account?Qie(t.account):void 0,{config:m,request:w,value:y}=t.transport({chain:n,pollingInterval:u}),I={...m,...y},S={account:p,batch:e,cacheTime:f,ccipRead:r,chain:n,key:i,name:o,pollingInterval:u,request:w,transport:I,type:s,uid:Y7(),...a?{experimental_blockTag:a}:{}};function T(N){return z=>{const $=z(N);for(const K in S)delete $[K];const H={...N,...$};return Object.assign(H,{extend:T(H)})}}return Object.assign(S,{extend:T(S)})}const kv=new L4(8192);function ooe(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(kv.get(n))return kv.get(n);const r=t().finally(()=>kv.delete(n));return kv.set(n,r),r}function soe(t,e={}){return async(n,r={})=>{var f;const{dedupe:i=!1,methods:o,retryDelay:s=150,retryCount:a=3,uid:c}={...e,...r},{method:l}=n;if((f=o==null?void 0:o.exclude)!=null&&f.includes(l))throw new Qu(new Error("method not supported"),{method:l});if(o!=null&&o.include&&!o.include.includes(l))throw new Qu(new Error("method not supported"),{method:l});const u=i?q7(`${c}.${Vl(n)}`):void 0;return ooe(()=>G7(async()=>{try{return await t(n)}catch(p){const m=p;switch(m.code){case M0.code:throw new M0(m);case R0.code:throw new R0(m);case O0.code:throw new O0(m,{method:n.method});case T0.code:throw new T0(m);case wh.code:throw new wh(m);case N0.code:throw new N0(m);case P0.code:throw new P0(m);case Gl.code:throw new Gl(m);case L0.code:throw new L0(m);case Qu.code:throw new Qu(m,{method:n.method});case bh.code:throw new bh(m);case B0.code:throw new B0(m);case Di.code:throw new Di(m);case D0.code:throw new D0(m);case j0.code:throw new j0(m);case $0.code:throw new $0(m);case F0.code:throw new F0(m);case bd.code:throw new bd(m);case U0.code:throw new U0(m);case z0.code:throw new z0(m);case q0.code:throw new q0(m);case H0.code:throw new H0(m);case K0.code:throw new K0(m);case W0.code:throw new W0(m);case V0.code:throw new V0(m);case 5e3:throw new Di(m);default:throw p instanceof ai?p:new toe(m)}}},{delay:({count:p,error:m})=>{var w;if(m&&m instanceof Qp){const y=(w=m==null?void 0:m.headers)==null?void 0:w.get("Retry-After");if(y!=null&&y.match(/\d/))return Number.parseInt(y)*1e3}return~~(1<<p)*s},retryCount:a,shouldRetry:({error:p})=>aoe(p)}),{enabled:i,id:u})}}function aoe(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===bh.code||t.code===wh.code:t instanceof Qp&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function J7({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:o=150,timeout:s,type:a},c){const l=Y7();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:o,timeout:s,type:a},request:soe(r,{methods:e,retryCount:i,retryDelay:o,uid:l}),value:c}}class Z7 extends ai{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function D4(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,o)=>{(async()=>{let s;try{const a=new AbortController;n>0&&(s=setTimeout(()=>{r?a.abort():o(e)},n)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&o(e),o(a)}finally{clearTimeout(s)}})()})}function coe(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const wS=coe();function loe(t,e={}){return{async request(n){var f;const{body:r,onRequest:i=e.onRequest,onResponse:o=e.onResponse,timeout:s=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:l,signal:u}=a;try{const p=await D4(async({signal:w})=>{const y={...a,body:Array.isArray(r)?Vl(r.map(N=>({jsonrpc:"2.0",id:N.id??wS.take(),...N}))):Vl({jsonrpc:"2.0",id:r.id??wS.take(),...r}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:u||(s>0?w:null)},I=new Request(t,y),S=await(i==null?void 0:i(I,y))??{...y,url:t};return await fetch(S.url??t,S)},{errorInstance:new vS({body:r,url:t}),timeout:s,signal:!0});o&&await o(p);let m;if((f=p.headers.get("Content-Type"))!=null&&f.startsWith("application/json"))m=await p.json();else{m=await p.text();try{m=JSON.parse(m||"{}")}catch(w){if(p.ok)throw w;m={error:m}}}if(!p.ok)throw new Qp({body:r,details:Vl(m.error)||p.statusText,headers:p.headers,status:p.status,url:t});return m}catch(p){throw p instanceof Qp||p instanceof vS?p:new Qp({body:r,cause:p,url:t})}}}}function X7(t,e={}){const{batch:n,fetchOptions:r,key:i="http",methods:o,name:s="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:l,raw:u}=e;return({chain:f,retryCount:p,timeout:m})=>{const{batchSize:w=1e3,wait:y=0}=typeof n=="object"?n:{},I=e.retryCount??p,S=m??e.timeout??1e4,T=t||(f==null?void 0:f.rpcUrls.default.http[0]);if(!T)throw new Z7;const N=loe(T,{fetchOptions:r,onRequest:a,onResponse:c,timeout:S});return J7({key:i,methods:o,name:s,async request({method:z,params:$}){const H={method:z,params:$},{schedule:K}=V7({id:T,wait:y,shouldSplitBatch(P){return P.length>w},fn:P=>N.request({body:P}),sort:(P,E)=>P.id-E.id}),j=async P=>n?K(P):[await N.request({body:P})],[{error:B,result:D}]=await j(H);if(u)return{error:B,result:D};if(B)throw new B4({body:H,error:B,url:T});return D},retryCount:I,retryDelay:l,timeout:S,type:"http"},{fetchOptions:r,url:T})}}function Q7(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const Bx=new Map;async function uoe(t){const{getSocket:e,keepAlive:n=!0,key:r="socket",reconnect:i=!0,url:o}=t,{interval:s=3e4}=typeof n=="object"?n:{},{attempts:a=5,delay:c=2e3}=typeof i=="object"?i:{},l=JSON.stringify({keepAlive:n,key:r,url:o,reconnect:i});let u=Bx.get(l);if(u)return u;let f=0;const{schedule:p}=V7({id:l,fn:async()=>{const y=new Map,I=new Map;let S,T,N,z=!1;function $(){if(i&&f<a){if(z)return;z=!0,f++,T==null||T.close(),setTimeout(async()=>{await H().catch(console.error),z=!1},c)}else y.clear(),I.clear()}async function H(){const K=await e({onClose(){var j,B;for(const D of y.values())(j=D.onError)==null||j.call(D,new dw({url:o}));for(const D of I.values())(B=D.onError)==null||B.call(D,new dw({url:o}));$()},onError(j){var B,D;S=j;for(const P of y.values())(B=P.onError)==null||B.call(P,S);for(const P of I.values())(D=P.onError)==null||D.call(P,S);$()},onOpen(){S=void 0,f=0},onResponse(j){const B=j.method==="eth_subscription",D=B?j.params.subscription:j.id,P=B?I:y,E=P.get(D);E&&E.onResponse(j),B||P.delete(D)}});if(T=K,n&&(N&&clearInterval(N),N=setInterval(()=>{var j;return(j=T.ping)==null?void 0:j.call(T)},s)),i&&I.size>0){const j=I.entries();for(const[B,{onResponse:D,body:P,onError:E}]of j)P&&(I.delete(B),u==null||u.request({body:P,onResponse:D,onError:E}))}return K}return await H(),S=void 0,u={close(){N&&clearInterval(N),T.close(),Bx.delete(l)},get socket(){return T},request({body:K,onError:j,onResponse:B}){S&&j&&j(S);const D=K.id??wS.take(),P=E=>{var b;typeof E.id=="number"&&D!==E.id||(K.method==="eth_subscribe"&&typeof E.result=="string"&&I.set(E.result,{onResponse:P,onError:j,body:K}),K.method==="eth_unsubscribe"&&I.delete((b=K.params)==null?void 0:b[0]),B(E))};y.set(D,{onResponse:P,onError:j});try{T.request({body:{jsonrpc:"2.0",id:D,...K}})}catch(E){j==null||j(E)}},requestAsync({body:K,timeout:j=1e4}){return D4(()=>new Promise((B,D)=>this.request({body:K,onError:D,onResponse:B})),{errorInstance:new vS({body:K,url:o}),timeout:j})},requests:y,subscriptions:I,url:o},Bx.set(l,u),[u]}}),[m,[w]]=await p();return w}async function fy(t,e={}){const{keepAlive:n,reconnect:r}=e;return uoe({async getSocket({onClose:i,onError:o,onOpen:s,onResponse:a}){const c=await In(()=>import("./native-P2dgms0y.js"),[]).then(m=>m.WebSocket),l=new c(t);function u(){l.removeEventListener("close",u),l.removeEventListener("message",f),l.removeEventListener("error",o),l.removeEventListener("open",s),i()}function f({data:m}){try{const w=JSON.parse(m);a(w)}catch(w){o(w)}}l.addEventListener("close",u),l.addEventListener("message",f),l.addEventListener("error",o),l.addEventListener("open",s),l.readyState===c.CONNECTING&&await new Promise((m,w)=>{l&&(l.onopen=m,l.onerror=w)});const{close:p}=l;return Object.assign(l,{close(){p.bind(l)(),u()},ping(){try{if(l.readyState===l.CLOSED||l.readyState===l.CLOSING)throw new eT({url:l.url,cause:new dw({url:l.url})});const m={jsonrpc:"2.0",method:"net_version",params:[]};l.send(JSON.stringify(m))}catch(m){o(m)}},request({body:m}){if(l.readyState===l.CLOSED||l.readyState===l.CLOSING)throw new eT({body:m,url:l.url,cause:new dw({url:l.url})});return l.send(JSON.stringify(m))}})},keepAlive:n,reconnect:r,url:t})}async function doe(t){const e=await fy(t);return Object.assign(e.socket,{requests:e.requests,subscriptions:e.subscriptions})}function foe(t,e={}){const{keepAlive:n,key:r="webSocket",methods:i,name:o="WebSocket JSON-RPC",reconnect:s,retryDelay:a}=e;return({chain:c,retryCount:l,timeout:u})=>{var y;const f=e.retryCount??l,p=u??e.timeout??1e4,m=t||((y=c==null?void 0:c.rpcUrls.default.webSocket)==null?void 0:y[0]),w={keepAlive:n,reconnect:s};if(!m)throw new Z7;return J7({key:r,methods:i,name:o,async request({method:I,params:S}){const T={method:I,params:S},N=await fy(m,w),{error:z,result:$}=await N.requestAsync({body:T,timeout:p});if(z)throw new B4({body:T,error:z,url:m});return $},retryCount:f,retryDelay:a,timeout:p,type:"webSocket"},{getSocket(){return doe(m)},getRpcClient(){return fy(m,w)},async subscribe({params:I,onData:S,onError:T}){const N=await fy(m,w),{result:z}=await new Promise(($,H)=>N.request({body:{method:"eth_subscribe",params:I},onError(K){H(K),T==null||T(K)},onResponse(K){if(K.error){H(K.error),T==null||T(K.error);return}if(typeof K.id=="number"){$(K);return}K.method==="eth_subscription"&&S(K.params)}}));return{subscriptionId:z,async unsubscribe(){return new Promise($=>N.request({body:{method:"eth_unsubscribe",params:[z]},onResponse:$}))}}}})}}class hoe{constructor(e){ke(this,"provider",void 0),this.provider=e}async requestAccounts(){return await this.provider.request({method:yf.SOLANA_REQUEST_ACCOUNTS})}async getAccounts(){return await this.provider.request({method:yf.GET_ACCOUNTS})}async signAndSendTransaction(e){return await this.provider.request({method:yf.SEND_TRANSACTION,params:{message:this.serializeTransaction(e)}})}async signTransaction(e){return await this.provider.request({method:yf.SIGN_TRANSACTION,params:{message:this.serializeTransaction(e)}})}async signAllTransactions(e){const n=e.map(i=>this.serializeTransaction(i));return await this.provider.request({method:yf.SIGN_ALL_TRANSACTIONS,params:{message:n}})}async signMessage(e,n){return await this.provider.request({method:yf.SIGN_MESSAGE,params:{data:e,from:n}})}async request(e){return await this.provider.request(e)}serializeTransaction(e){return e instanceof M4?Buffer.from(e.serialize()).toString("base64"):Buffer.from(e.serialize({requireAllSignatures:!1})).toString("base64")}}const poe=be.createContext(null);function goe({children:t,context:e}){const n=be.useContext(e),{getPlugin:r,isInitialized:i,isConnected:o}=n,[s,a]=be.useState(!1),[c,l]=be.useState(!1),[u,f]=be.useState(null);be.useEffect(()=>{if(i){const m=r(Qy.WALLET_SERVICES);f(m)}},[i,r]),be.useEffect(()=>{if(o){const m=r(Qy.WALLET_SERVICES);f(m),(m==null?void 0:m.status)===ht.CONNECTED&&a(!0)}},[o,r,u]),be.useEffect(()=>{const m=()=>{a(!0),l(!1)},w=()=>{a(!1),l(!1)},y=()=>{l(!0)};return u&&(u.on(Ls.CONNECTED,m),u.on(Ls.DISCONNECTED,w),u.on(Ls.CONNECTING,y)),()=>{u&&(u.off(Ls.CONNECTED,m),u.off(Ls.DISCONNECTED,w),u.off(Ls.CONNECTING,y))}},[u]);const p=be.useMemo(()=>({plugin:u,ready:s,connecting:c}),[u,s,c]);return be.createElement(poe.Provider,{value:p},t)}const moe="10.1.0",voe={hideWalletDiscovery:!1,connectors:{[Ay.AUTH]:{label:"Auth",showOnModal:!0}}},yoe="https://assets.web3auth.io/v1/wallet-registry.json";function j4(t){return t.charAt(0).toUpperCase()+t.slice(1)}const woe=new Set([ut.CUSTOM,ut.PASSKEYS,ut.TELEGRAM,ut.AUTHENTICATOR]),bS=Object.values(ut).filter(t=>!woe.has(t)),boe=bS.reduce((t,e)=>(e==="email_passwordless"?t[e]="Email":e==="sms_passwordless"?t[e]="Mobile":t[e]=j4(e),t),{}),Eoe={[ao.DEVELOPMENT]:"https://api-develop.web3auth.io/passwordless-service",[ao.STAGING]:"https://api.web3auth.io/passwordless-service",[ao.PRODUCTION]:"https://api.web3auth.io/passwordless-service",[ao.TESTING]:"https://api-develop.web3auth.io/passwordless-service"},xoe="d5f0c15c-eeda-4f9c-934a-d8e0348e83b2",Mv={MODAL_VISIBILITY:"MODAL_VISIBILITY"},pr={INITIALIZED:"initialized",CONNECTED:"connected",CONNECTING:"connecting",ERRORED:"errored"};let fw=function(t){return t.SUCCESS="success",t.ERROR="error",t.WARNING="warning",t.INFO="info",t}({});function _oe(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var Soe=`@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap");.w3a-parent-container *,.w3a-parent-container :after,.w3a-parent-container :before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.w3a-parent-container ::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }
/*! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com*/.w3a-parent-container *,.w3a-parent-container :after,.w3a-parent-container :before{border:0 solid;box-sizing:border-box}.w3a-parent-container :after,.w3a-parent-container :before{--tw-content:""}.w3a-parent-container :host,.w3a-parent-container html{-webkit-text-size-adjust:100%;font-feature-settings:normal;-webkit-tap-highlight-color:transparent;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;tab-size:4}.w3a-parent-container body{line-height:inherit;margin:0}.w3a-parent-container hr{border-top-width:1px;color:inherit;height:0}.w3a-parent-container abbr:where([title]){text-decoration:underline dotted}.w3a-parent-container h1,.w3a-parent-container h2,.w3a-parent-container h3,.w3a-parent-container h4,.w3a-parent-container h5,.w3a-parent-container h6{font-size:inherit;font-weight:inherit}.w3a-parent-container a{color:inherit;text-decoration:inherit}.w3a-parent-container b,.w3a-parent-container strong{font-weight:bolder}.w3a-parent-container code,.w3a-parent-container kbd,.w3a-parent-container pre,.w3a-parent-container samp{font-feature-settings:normal;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em;font-variation-settings:normal}.w3a-parent-container small{font-size:80%}.w3a-parent-container sub,.w3a-parent-container sup{font-size:75%;line-height:0;position:relative;vertical-align:initial}.w3a-parent-container sub{bottom:-.25em}.w3a-parent-container sup{top:-.5em}.w3a-parent-container table{border-collapse:collapse;border-color:inherit;text-indent:0}.w3a-parent-container button,.w3a-parent-container input,.w3a-parent-container optgroup,.w3a-parent-container select,.w3a-parent-container textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}.w3a-parent-container button,.w3a-parent-container select{text-transform:none}.w3a-parent-container button,.w3a-parent-container input:where([type=button]),.w3a-parent-container input:where([type=reset]),.w3a-parent-container input:where([type=submit]){-webkit-appearance:button;background-color:initial;background-image:none}.w3a-parent-container :-moz-focusring{outline:auto}.w3a-parent-container :-moz-ui-invalid{box-shadow:none}.w3a-parent-container progress{vertical-align:initial}.w3a-parent-container ::-webkit-inner-spin-button,.w3a-parent-container ::-webkit-outer-spin-button{height:auto}.w3a-parent-container [type=search]{-webkit-appearance:textfield;outline-offset:-2px}.w3a-parent-container ::-webkit-search-decoration{-webkit-appearance:none}.w3a-parent-container ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.w3a-parent-container summary{display:list-item}.w3a-parent-container blockquote,.w3a-parent-container dd,.w3a-parent-container dl,.w3a-parent-container figure,.w3a-parent-container h1,.w3a-parent-container h2,.w3a-parent-container h3,.w3a-parent-container h4,.w3a-parent-container h5,.w3a-parent-container h6,.w3a-parent-container hr,.w3a-parent-container p,.w3a-parent-container pre{margin:0}.w3a-parent-container fieldset{margin:0;padding:0}.w3a-parent-container legend{padding:0}.w3a-parent-container menu,.w3a-parent-container ol,.w3a-parent-container ul{list-style:none;margin:0;padding:0}.w3a-parent-container dialog{padding:0}.w3a-parent-container textarea{resize:vertical}.w3a-parent-container input::placeholder,.w3a-parent-container textarea::placeholder{color:#9ca3af;opacity:1}.w3a-parent-container [role=button],.w3a-parent-container button{cursor:pointer}.w3a-parent-container :disabled{cursor:default}.w3a-parent-container audio,.w3a-parent-container canvas,.w3a-parent-container embed,.w3a-parent-container iframe,.w3a-parent-container img,.w3a-parent-container object,.w3a-parent-container svg,.w3a-parent-container video{display:block;vertical-align:middle}.w3a-parent-container img,.w3a-parent-container video{height:auto;max-width:100%}.w3a-parent-container [hidden]:where(:not([hidden=until-found])){display:none}.w3a-parent-container{--app-on-primary:#fff;--app-primary-50:#ebf5ff;--app-primary-100:#e1effe;--app-primary-200:#c3ddfd;--app-primary-300:#a4cafe;--app-primary-400:#76a9fa;--app-primary-500:#3f83f8;--app-primary-600:#0346ff;--app-primary-700:#1a56db;--app-primary-800:#1e429f;--app-primary-900:#233876;--app-gray-50:#f9fafb;--app-gray-100:#f3f4f6;--app-gray-200:#e5e7eb;--app-gray-300:#d1d5db;--app-gray-400:#9ca3af;--app-gray-500:#6b7280;--app-gray-600:#4b5563;--app-gray-700:#374151;--app-gray-800:#1f2a37;--app-gray-900:#111928;--app-blue-50:#ebf5ff;--app-blue-100:#e1effe;--app-blue-200:#c3ddfd;--app-blue-300:#a4cafe;--app-blue-400:#76a9fa;--app-blue-500:#3f83f8;--app-blue-600:#0346ff;--app-blue-700:#1a56db;--app-blue-800:#1e429f;--app-blue-900:#233876;--app-red-50:#fdf2f2;--app-red-100:#fde8e8;--app-red-200:#fbd5d5;--app-red-300:#f8b4b4;--app-red-400:#f98080;--app-red-500:#f05252;--app-red-600:#e02424;--app-red-700:#c81e1e;--app-red-800:#9b1c1c;--app-red-900:#771d1d;--app-green-50:#f3faf7;--app-green-100:#def7ec;--app-green-200:#bcf0da;--app-green-300:#84e1bc;--app-green-400:#31c48d;--app-green-500:#0e9f6e;--app-green-600:#057a55;--app-green-700:#046c4e;--app-green-800:#03543f;--app-green-900:#014737;--app-yellow-50:#fdfdea;--app-yellow-100:#fdf6b2;--app-yellow-200:#fce96a;--app-yellow-300:#faca15;--app-yellow-400:#e3a008;--app-yellow-500:#c27803;--app-yellow-600:#9f580a;--app-yellow-700:#8e4b10;--app-yellow-800:#723b13;--app-yellow-900:#633112;--app-success:#30cca4;--app-warning:#fbc94a;--app-error:#fb4a61;--app-info:#d4d4d4;--app-white:#fff;--app-black:#000}.w3a-parent-container body{box-sizing:border-box;margin:0!important;padding:0!important}.w3a-parent-container{font-family:Inter;position:relative}.w3a-parent-container .w3a-parent-container>*{scrollbar-color:#e5e7eb!important}.w3a-parent-container .w3a--social-container{scroll-padding-right:10px;scrollbar-color:#e5e7eb!important}.w3a-parent-container .w3a--modal-curtain{background-color:initial;left:0;opacity:0;position:absolute;right:0;top:0;transition:opacity 50ms ease-in;z-index:1}.w3a-parent-container .w3a--fixed{position:fixed}.w3a-parent-container .w3a--absolute{position:absolute}.w3a-parent-container .w3a--relative{position:relative}.w3a-parent-container .w3a--inset-x-4{left:1rem;right:1rem}.w3a-parent-container .w3a--bottom-2{bottom:.5rem}.w3a-parent-container .w3a--bottom-4{bottom:1rem}.w3a-parent-container .w3a--bottom-8{bottom:2rem}.w3a-parent-container .w3a--bottom-\\[100\\%\\]{bottom:100%}.w3a-parent-container .w3a--left-0{left:0}.w3a-parent-container .w3a--left-2{left:.5rem}.w3a-parent-container .w3a--left-\\[50\\%\\]{left:50%}.w3a-parent-container .w3a--right-4{right:1rem}.w3a-parent-container .w3a--right-6{right:1.5rem}.w3a-parent-container .w3a--top-0{top:0}.w3a-parent-container .w3a--top-1\\/2{top:50%}.w3a-parent-container .w3a--top-4{top:1rem}.w3a-parent-container .w3a--top-8{top:2rem}.w3a-parent-container .w3a--top-\\[16px\\]{top:16px}.w3a-parent-container .w3a--top-\\[30px\\]{top:30px}.w3a-parent-container .w3a--z-10{z-index:10}.w3a-parent-container .w3a--z-20{z-index:20}.w3a-parent-container .w3a--z-50{z-index:50}.w3a-parent-container .w3a--z-\\[-1\\]{z-index:-1}.w3a-parent-container .w3a--z-\\[45\\]{z-index:45}.w3a-parent-container .w3a--z-\\[60\\]{z-index:60}.w3a-parent-container .w3a--mx-auto{margin-left:auto;margin-right:auto}.w3a-parent-container .w3a--my-2{margin-bottom:.5rem;margin-top:.5rem}.w3a-parent-container .w3a--my-4{margin-bottom:1rem;margin-top:1rem}.w3a-parent-container .w3a--my-6{margin-bottom:1.5rem;margin-top:1.5rem}.w3a-parent-container .-w3a--mt-10{margin-top:-2.5rem}.w3a-parent-container .-w3a--mt-2{margin-top:-.5rem}.w3a-parent-container .-w3a--mt-6{margin-top:-1.5rem}.w3a-parent-container .w3a--mb-2{margin-bottom:.5rem}.w3a-parent-container .w3a--ml-0{margin-left:0}.w3a-parent-container .w3a--ml-2{margin-left:.5rem}.w3a-parent-container .w3a--ml-4{margin-left:1rem}.w3a-parent-container .w3a--mr-2\\.5{margin-right:.625rem}.w3a-parent-container .w3a--mr-auto{margin-right:auto}.w3a-parent-container .w3a--mt-2{margin-top:.5rem}.w3a-parent-container .w3a--mt-3{margin-top:.75rem}.w3a-parent-container .w3a--mt-auto{margin-top:auto}.w3a-parent-container .w3a--block{display:block}.w3a-parent-container .w3a--flex{display:flex}.w3a-parent-container .w3a--inline-flex{display:inline-flex}.w3a-parent-container .w3a--grid{display:grid}.w3a-parent-container .w3a--contents{display:contents}.w3a-parent-container .w3a--hidden{display:none}.w3a-parent-container .w3a--size-10{height:2.5rem;width:2.5rem}.w3a-parent-container .w3a--size-3{height:.75rem;width:.75rem}.w3a-parent-container .w3a--size-5{height:1.25rem;width:1.25rem}.w3a-parent-container .w3a--size-\\[300px\\]{height:300px;width:300px}.w3a-parent-container .w3a--size-auto{height:auto;width:auto}.w3a-parent-container .w3a--size-full{height:100%;width:100%}.w3a-parent-container .w3a--h-0{height:0}.w3a-parent-container .w3a--h-11{height:2.75rem}.w3a-parent-container .w3a--h-12{height:3rem}.w3a-parent-container .w3a--h-9{height:2.25rem}.w3a-parent-container .w3a--h-\\[280px\\]{height:280px}.w3a-parent-container .w3a--h-\\[300px\\]{height:300px}.w3a-parent-container .w3a--h-\\[328px\\]{height:328px}.w3a-parent-container .w3a--h-\\[42px\\]{height:42px}.w3a-parent-container .w3a--h-\\[50px\\]{height:50px}.w3a-parent-container .w3a--h-auto{height:auto}.w3a-parent-container .w3a--h-full{height:100%}.w3a-parent-container .w3a--h-px{height:1px}.w3a-parent-container .w3a--h-screen{height:100vh}.w3a-parent-container .w3a--w-0{width:0}.w3a-parent-container .w3a--w-12{width:3rem}.w3a-parent-container .w3a--w-4\\/5{width:80%}.w3a-parent-container .w3a--w-\\[100px\\]{width:100px}.w3a-parent-container .w3a--w-\\[104px\\]{width:104px}.w3a-parent-container .w3a--w-\\[200px\\]{width:200px}.w3a-parent-container .w3a--w-\\[356px\\]{width:356px}.w3a-parent-container .w3a--w-\\[90\\%\\]{width:90%}.w3a-parent-container .w3a--w-\\[96\\%\\]{width:96%}.w3a-parent-container .w3a--w-auto{width:auto}.w3a-parent-container .w3a--w-full{width:100%}.w3a-parent-container .w3a--w-max{width:max-content}.w3a-parent-container .w3a--w-screen{width:100vw}.w3a-parent-container .w3a--max-w-\\[180px\\]{max-width:180px}.w3a-parent-container .w3a--flex-1{flex:1 1 0%}.w3a-parent-container .-w3a--translate-x-10{--tw-translate-x:-2.5rem}.w3a-parent-container .-w3a--translate-x-10,.w3a-parent-container .-w3a--translate-x-6{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .-w3a--translate-x-6{--tw-translate-x:-1.5rem}.w3a-parent-container .-w3a--translate-y-1\\/2{--tw-translate-y:-50%}.w3a-parent-container .-w3a--translate-y-1\\/2,.w3a-parent-container .w3a--translate-y-0{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--translate-y-0{--tw-translate-y:0px}.w3a-parent-container .w3a--translate-y-\\[100vh\\]{--tw-translate-y:100vh}.w3a-parent-container .w3a--translate-y-\\[100vh\\],.w3a-parent-container .w3a--translate-y-full{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--translate-y-full{--tw-translate-y:100%}@keyframes w3a--pulse{50%{opacity:.5}}.w3a-parent-container .w3a--animate-pulse{animation:w3a--pulse 2s cubic-bezier(.4,0,.6,1) infinite}.w3a-parent-container .w3a--cursor-not-allowed{cursor:not-allowed}.w3a-parent-container .w3a--cursor-pointer{cursor:pointer}.w3a-parent-container .w3a--appearance-none{appearance:none}.w3a-parent-container .w3a--auto-rows-min{grid-auto-rows:min-content}.w3a-parent-container .w3a--grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.w3a-parent-container .w3a--flex-col{flex-direction:column}.w3a-parent-container .w3a--items-start{align-items:flex-start}.w3a-parent-container .w3a--items-end{align-items:flex-end}.w3a-parent-container .w3a--items-center{align-items:center}.w3a-parent-container .\\!w3a--justify-start{justify-content:flex-start!important}.w3a-parent-container .w3a--justify-start{justify-content:flex-start}.w3a-parent-container .\\!w3a--justify-center{justify-content:center!important}.w3a-parent-container .w3a--justify-center{justify-content:center}.w3a-parent-container .\\!w3a--justify-between{justify-content:space-between!important}.w3a-parent-container .w3a--justify-between{justify-content:space-between}.w3a-parent-container .w3a--justify-items-start{justify-items:start}.w3a-parent-container .w3a--gap-2{gap:.5rem}.w3a-parent-container .w3a--gap-3{gap:.75rem}.w3a-parent-container .w3a--gap-x-1{column-gap:.25rem}.w3a-parent-container .w3a--gap-x-2{column-gap:.5rem}.w3a-parent-container .w3a--gap-x-4{column-gap:1rem}.w3a-parent-container .w3a--gap-x-6{column-gap:1.5rem}.w3a-parent-container .w3a--gap-y-1{row-gap:.25rem}.w3a-parent-container .w3a--gap-y-2{row-gap:.5rem}.w3a-parent-container .w3a--gap-y-4{row-gap:1rem}.w3a-parent-container .w3a--space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(.5rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(.5rem*var(--tw-space-x-reverse))}.w3a-parent-container .w3a--overflow-hidden{overflow:hidden}.w3a-parent-container .w3a--overflow-y-auto{overflow-y:auto}.w3a-parent-container .w3a--truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.w3a-parent-container .w3a--rounded{border-radius:.25rem}.w3a-parent-container .w3a--rounded-2xl{border-radius:1rem}.w3a-parent-container .w3a--rounded-3xl{border-radius:1.5rem}.w3a-parent-container .w3a--rounded-\\[30px\\]{border-radius:30px}.w3a-parent-container .w3a--rounded-full{border-radius:9999px}.w3a-parent-container .w3a--rounded-lg{border-radius:.5rem}.w3a-parent-container .w3a--rounded-md{border-radius:.375rem}.w3a-parent-container .w3a--rounded-none{border-radius:0}.w3a-parent-container .w3a--border{border-width:1px}.w3a-parent-container .\\!w3a--border-app-primary-600{border-color:var(--app-primary-600)!important}.w3a-parent-container .w3a--border-app-blue-200{border-color:var(--app-blue-200)}.w3a-parent-container .w3a--border-app-gray-100{border-color:var(--app-gray-100)}.w3a-parent-container .w3a--border-app-gray-200{border-color:var(--app-gray-200)}.w3a-parent-container .w3a--border-app-gray-300{border-color:var(--app-gray-300)}.w3a-parent-container .w3a--border-app-gray-800{border-color:var(--app-gray-800)}.w3a-parent-container .w3a--border-app-green-200{border-color:var(--app-green-200)}.w3a-parent-container .w3a--border-app-green-400{border-color:var(--app-green-400)}.w3a-parent-container .w3a--border-app-red-200{border-color:var(--app-red-200)}.w3a-parent-container .w3a--border-app-red-600{border-color:var(--app-red-600)}.w3a-parent-container .w3a--border-app-yellow-200{border-color:var(--app-yellow-200)}.w3a-parent-container .w3a--border-transparent{border-color:#0000}.w3a-parent-container .\\!w3a--bg-app-gray-800{background-color:var(--app-gray-800)!important}.w3a-parent-container .w3a--bg-app-blue-100{background-color:var(--app-blue-100)}.w3a-parent-container .w3a--bg-app-gray-100{background-color:var(--app-gray-100)}.w3a-parent-container .w3a--bg-app-gray-200{background-color:var(--app-gray-200)}.w3a-parent-container .w3a--bg-app-gray-400{background-color:var(--app-gray-400)}.w3a-parent-container .w3a--bg-app-gray-50{background-color:var(--app-gray-50)}.w3a-parent-container .w3a--bg-app-gray-500{background-color:var(--app-gray-500)}.w3a-parent-container .w3a--bg-app-gray-800{background-color:var(--app-gray-800)}.w3a-parent-container .w3a--bg-app-green-100{background-color:var(--app-green-100)}.w3a-parent-container .w3a--bg-app-light-surface1{background-color:var(--app-white)}.w3a-parent-container .w3a--bg-app-primary-100{background-color:var(--app-primary-100)}.w3a-parent-container .w3a--bg-app-red-100{background-color:var(--app-red-100)}.w3a-parent-container .w3a--bg-app-white{background-color:var(--app-white)}.w3a-parent-container .w3a--bg-app-yellow-100{background-color:var(--app-yellow-100)}.w3a-parent-container .w3a--bg-transparent{background-color:initial}.w3a-parent-container .w3a--object-contain{object-fit:contain}.w3a-parent-container .w3a--p-0{padding:0}.w3a-parent-container .w3a--p-2{padding:.5rem}.w3a-parent-container .w3a--p-3{padding:.75rem}.w3a-parent-container .w3a--p-4{padding:1rem}.w3a-parent-container .w3a--p-6{padding:1.5rem}.w3a-parent-container .w3a--px-2{padding-left:.5rem;padding-right:.5rem}.w3a-parent-container .w3a--px-2\\.5{padding-left:.625rem;padding-right:.625rem}.w3a-parent-container .w3a--px-4{padding-left:1rem;padding-right:1rem}.w3a-parent-container .w3a--px-5{padding-left:1.25rem;padding-right:1.25rem}.w3a-parent-container .w3a--px-\\[6px\\]{padding-left:6px;padding-right:6px}.w3a-parent-container .w3a--py-0\\.5{padding-bottom:.125rem;padding-top:.125rem}.w3a-parent-container .w3a--py-1{padding-bottom:.25rem;padding-top:.25rem}.w3a-parent-container .w3a--py-2{padding-bottom:.5rem;padding-top:.5rem}.w3a-parent-container .w3a--py-2\\.5{padding-bottom:.625rem;padding-top:.625rem}.w3a-parent-container .w3a--py-3{padding-bottom:.75rem;padding-top:.75rem}.w3a-parent-container .w3a--py-6{padding-bottom:1.5rem;padding-top:1.5rem}.w3a-parent-container .w3a--py-\\[3px\\]{padding-bottom:3px;padding-top:3px}.w3a-parent-container .w3a--pl-2{padding-left:.5rem}.w3a-parent-container .w3a--pl-6{padding-left:1.5rem}.w3a-parent-container .w3a--pr-1\\.5{padding-right:.375rem}.w3a-parent-container .w3a--pr-2\\.5{padding-right:.625rem}.w3a-parent-container .w3a--pr-3{padding-right:.75rem}.w3a-parent-container .w3a--pt-5{padding-top:1.25rem}.w3a-parent-container .w3a--pt-6{padding-top:1.5rem}.w3a-parent-container .w3a--text-left{text-align:left}.w3a-parent-container .w3a--text-center{text-align:center}.w3a-parent-container .w3a--text-start{text-align:start}.w3a-parent-container .w3a--text-3xl{font-size:1.875rem;line-height:2.25rem}.w3a-parent-container .w3a--text-base{font-size:1rem;line-height:1.5rem}.w3a-parent-container .w3a--text-lg{font-size:1.125rem;line-height:1.75rem}.w3a-parent-container .w3a--text-sm{font-size:.875rem;line-height:1.25rem}.w3a-parent-container .w3a--text-xl{font-size:1.25rem;line-height:1.75rem}.w3a-parent-container .w3a--text-xs{font-size:.75rem;line-height:1rem}.w3a-parent-container .w3a--font-bold{font-weight:700}.w3a-parent-container .w3a--font-medium{font-weight:500}.w3a-parent-container .w3a--font-normal{font-weight:400}.w3a-parent-container .w3a--font-semibold{font-weight:600}.w3a-parent-container .w3a--uppercase{text-transform:uppercase}.w3a-parent-container .w3a--text-app-blue-900{color:var(--app-blue-900)}.w3a-parent-container .w3a--text-app-gray-100{color:var(--app-gray-100)}.w3a-parent-container .w3a--text-app-gray-400{color:var(--app-gray-400)}.w3a-parent-container .w3a--text-app-gray-500{color:var(--app-gray-500)}.w3a-parent-container .w3a--text-app-gray-700{color:var(--app-gray-700)}.w3a-parent-container .w3a--text-app-gray-900{color:var(--app-gray-900)}.w3a-parent-container .w3a--text-app-green-400{color:var(--app-green-400)}.w3a-parent-container .w3a--text-app-green-500{color:var(--app-green-500)}.w3a-parent-container .w3a--text-app-green-900{color:var(--app-green-900)}.w3a-parent-container .w3a--text-app-primary-600{color:var(--app-primary-600)}.w3a-parent-container .w3a--text-app-primary-800{color:var(--app-primary-800)}.w3a-parent-container .w3a--text-app-red-400{color:var(--app-red-400)}.w3a-parent-container .w3a--text-app-red-500{color:var(--app-red-500)}.w3a-parent-container .w3a--text-app-red-900{color:var(--app-red-900)}.w3a-parent-container .w3a--text-app-yellow-900{color:var(--app-yellow-900)}.w3a-parent-container .w3a--opacity-0{opacity:0}.w3a-parent-container .w3a--shadow-2xl{--tw-shadow:0 25px 50px -12px #00000040;--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color)}.w3a-parent-container .w3a--shadow-2xl,.w3a-parent-container .w3a--shadow-lg{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--shadow-lg{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color)}.w3a-parent-container .w3a--shadow-xl{--tw-shadow:0 20px 25px -5px #0000001a,0 8px 10px -6px #0000001a;--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--outline-none{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .w3a--transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--transition-opacity{transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--transition-transform{transition-duration:.15s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--delay-100{transition-delay:.1s}.w3a-parent-container .w3a--delay-300{transition-delay:.3s}.w3a-parent-container .w3a--delay-500{transition-delay:.5s}.w3a-parent-container .w3a--delay-700{transition-delay:.7s}.w3a-parent-container .w3a--duration-150{transition-duration:.15s}.w3a-parent-container .w3a--duration-300{transition-duration:.3s}.w3a-parent-container .w3a--duration-500{transition-duration:.5s}.w3a-parent-container .w3a--duration-\\[400ms\\]{transition-duration:.4s}.w3a-parent-container .w3a--ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.w3a-parent-container .w3a--bottom-sheet-bg{background-color:var(--app-gray-600);opacity:.5}.w3a-parent-container .w3a--connected-logo{color:var(--app-green-500);height:4rem;width:4rem}.w3a-parent-container .w3a--connected-logo:is(.w3a--dark *){color:var(--app-green-400)}.w3a-parent-container .w3a--error-logo{color:var(--app-red-500);height:4rem;width:4rem}.w3a-parent-container .w3a--error-logo:is(.w3a--dark *){color:var(--app-red-400)}.w3a-parent-container .w3a--btn{align-items:center;appearance:none;border-color:var(--app-gray-200);border-width:1px;color:var(--app-gray-700);column-gap:.5rem;display:flex;font-size:1rem;font-weight:400;justify-content:center;line-height:1.5rem;padding:.75rem 1.25rem;width:100%}.w3a-parent-container .w3a--btn:hover{--tw-translate-y:0.5px;--tw-shadow:0px 2px 8px 2px #e5e7eb;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);background-color:var(--app-gray-50);border-color:var(--app-gray-50);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--btn:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .w3a--btn:hover:is(.w3a--dark *){--tw-shadow:0px 2px 8px 2px #111928;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);background-color:var(--app-gray-800);border-color:var(--app-gray-800);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--input{align-items:center;border-color:var(--app-gray-200);border-width:1px;column-gap:.5rem;display:flex;justify-content:space-between;padding:.75rem 1.25rem;width:100%}.w3a-parent-container .w3a--input:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .first-letter\\:w3a--capitalize:first-letter{text-transform:capitalize}.w3a-parent-container .placeholder\\:w3a--text-xs::placeholder{font-size:.75rem;line-height:1rem}.w3a-parent-container .placeholder\\:w3a--text-app-gray-400::placeholder{color:var(--app-gray-400)}.w3a-parent-container .hover\\:w3a--translate-y-\\[0\\.5px\\]:hover{--tw-translate-y:0.5px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .hover\\:w3a--border-app-gray-50:hover{border-color:var(--app-gray-50)}.w3a-parent-container .hover\\:w3a--border-transparent:hover{border-color:#0000}.w3a-parent-container .hover\\:\\!w3a--bg-app-gray-100:hover{background-color:var(--app-gray-100)!important}.w3a-parent-container .hover\\:w3a--bg-app-gray-200:hover{background-color:var(--app-gray-200)}.w3a-parent-container .hover\\:w3a--text-app-gray-900:hover{color:var(--app-gray-900)}.w3a-parent-container .hover\\:w3a--shadow-light:hover{--tw-shadow:0px 2px 8px 2px #e5e7eb;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .focus\\:w3a--outline-none:focus{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .active\\:w3a--scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .active\\:w3a--outline-none:active{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--block{display:block}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--hidden{display:none}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-0{--tw-translate-x:0px}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-0,.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-6{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-6{--tw-translate-x:1.5rem}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--opacity-0{opacity:0}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--opacity-100{opacity:1}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--delay-0{transition-delay:0s}.w3a-parent-container .dark\\:w3a--block:is(.w3a--dark *){display:block}.w3a-parent-container .dark\\:w3a--hidden:is(.w3a--dark *){display:none}.w3a-parent-container .dark\\:w3a--border:is(.w3a--dark *){border-width:1px}.w3a-parent-container .dark\\:w3a--border-app-gray-500:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--border-app-gray-600:is(.w3a--dark *){border-color:var(--app-gray-600)}.w3a-parent-container .dark\\:w3a--border-app-gray-700:is(.w3a--dark *){border-color:var(--app-gray-700)}.w3a-parent-container .dark\\:w3a--border-app-gray-800:is(.w3a--dark *){border-color:var(--app-gray-800)}.w3a-parent-container .dark\\:w3a--border-app-green-500:is(.w3a--dark *){border-color:var(--app-green-500)}.w3a-parent-container .dark\\:w3a--border-app-primary-400:is(.w3a--dark *){border-color:var(--app-primary-400)}.w3a-parent-container .dark\\:w3a--border-app-primary-500:is(.w3a--dark *){border-color:var(--app-primary-500)}.w3a-parent-container .dark\\:w3a--border-app-red-500:is(.w3a--dark *){border-color:var(--app-red-500)}.w3a-parent-container .dark\\:w3a--bg-app-dark-surface-main:is(.w3a--dark *){background-color:var(--app-gray-900)}.w3a-parent-container .dark\\:w3a--bg-app-gray-200:is(.w3a--dark *){background-color:var(--app-gray-200)}.w3a-parent-container .dark\\:w3a--bg-app-gray-400:is(.w3a--dark *){background-color:var(--app-gray-400)}.w3a-parent-container .dark\\:w3a--bg-app-gray-500:is(.w3a--dark *){background-color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--bg-app-gray-600:is(.w3a--dark *){background-color:var(--app-gray-600)}.w3a-parent-container .dark\\:w3a--bg-app-gray-700:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container .dark\\:w3a--bg-app-gray-800:is(.w3a--dark *){background-color:var(--app-gray-800)}.w3a-parent-container .dark\\:w3a--bg-transparent:is(.w3a--dark *){background-color:initial}.w3a-parent-container .dark\\:w3a--text-app-gray-200:is(.w3a--dark *){color:var(--app-gray-200)}.w3a-parent-container .dark\\:w3a--text-app-gray-300:is(.w3a--dark *){color:var(--app-gray-300)}.w3a-parent-container .dark\\:w3a--text-app-gray-400:is(.w3a--dark *){color:var(--app-gray-400)}.w3a-parent-container .dark\\:w3a--text-app-gray-500:is(.w3a--dark *){color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--text-app-green-400:is(.w3a--dark *){color:var(--app-green-400)}.w3a-parent-container .dark\\:w3a--text-app-primary-400:is(.w3a--dark *){color:var(--app-primary-400)}.w3a-parent-container .dark\\:w3a--text-app-primary-500:is(.w3a--dark *){color:var(--app-primary-500)}.w3a-parent-container .dark\\:w3a--text-app-red-400:is(.w3a--dark *){color:var(--app-red-400)}.w3a-parent-container .dark\\:w3a--text-app-white:is(.w3a--dark *){color:var(--app-white)}.w3a-parent-container .dark\\:placeholder\\:w3a--text-app-gray-500:is(.w3a--dark *)::placeholder{color:var(--app-gray-500)}.w3a-parent-container .dark\\:hover\\:w3a--border-app-gray-800:hover:is(.w3a--dark *){border-color:var(--app-gray-800)}.w3a-parent-container .dark\\:hover\\:w3a--border-transparent:hover:is(.w3a--dark *){border-color:#0000}.w3a-parent-container .dark\\:hover\\:\\!w3a--bg-app-gray-800:hover:is(.w3a--dark *){background-color:var(--app-gray-800)!important}.w3a-parent-container .dark\\:hover\\:w3a--bg-app-gray-600:hover:is(.w3a--dark *){background-color:var(--app-gray-600)}.w3a-parent-container .dark\\:hover\\:w3a--bg-app-gray-700:hover:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container .dark\\:hover\\:w3a--text-app-white:hover:is(.w3a--dark *){color:var(--app-white)}.w3a-parent-container .dark\\:hover\\:w3a--shadow-dark:hover:is(.w3a--dark *){--tw-shadow:0px 2px 8px 2px #111928;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}@media (min-width:640px){.w3a-parent-container .sm\\:w3a--left-8{left:2rem}.w3a-parent-container .sm\\:w3a--right-8{right:2rem}.w3a-parent-container .sm\\:w3a--justify-start{justify-content:flex-start}.w3a-parent-container .sm\\:w3a--justify-end{justify-content:flex-end}.w3a-parent-container .sm\\:w3a--shadow-lg{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}}@media(min-width:375px){.w3a-parent-container .\\[\\@media\\(min-width\\:375px\\)\\]\\:w3a--w-\\[393px\\]{width:393px}}`;_oe(Soe);const Coe=t=>({ui_modal_login_methods_order:t==null?void 0:t.loginMethodsOrder,ui_modal_z_index:t==null?void 0:t.modalZIndex,ui_modal_display_errors_on_modal:t==null?void 0:t.displayErrorsOnModal,ui_modal_login_grid_col:t==null?void 0:t.loginGridCol,ui_modal_primary_button:t==null?void 0:t.primaryButton,ui_modal_widget_type:t==null?void 0:t.widgetType,ui_modal_target_id_used:!!(t!=null&&t.targetId),ui_modal_logo_alignment:t==null?void 0:t.logoAlignment,ui_modal_border_radius_type:t==null?void 0:t.borderRadiusType,ui_modal_button_radius_type:t==null?void 0:t.buttonRadiusType,ui_modal_sign_in_methods:t==null?void 0:t.signInMethods,ui_modal_add_previous_login_hint:t==null?void 0:t.addPreviousLoginHint,ui_modal_display_installed_external_wallets:t==null?void 0:t.displayInstalledExternalWallets,ui_modal_display_external_wallets_count:t==null?void 0:t.displayExternalWalletsCount}),Fu={LOGIN:"login",CONNECT_WALLET:"connect_wallet"},Rl={CONNECT_WALLET:"Connect Your Wallet",SELECTED_WALLET:"Selected Wallet"},ej="https://images.web3auth.io/web3auth-logo-w.svg",tj="https://images.web3auth.io/web3auth-logo-w-light.svg",Aoe="https://images.web3auth.io/login-wallet-connect.svg",Ioe="#0364FF",koe="#FFFFFF",Moe={app:{android:"io.metamask",chrome:"nkbihfbeogaeaoehlefnkodbefgpgknn",edge:"ejbalbakoplchlghecdalmeeeajnimhm",firefox:"ether-metamask",ios:"id1438144202"},chains:["eip155:1"],imgExtension:"webp",injected:[{injected_id:"isMetaMask",namespace:"eip155"}],mobile:{inAppBrowser:"https://metamask.app.link/dapp",native:"metamask://wc",universal:"https://metamask.app.link/wc"},name:"MetaMask",primaryColor:"#E2761B",walletConnect:{sdks:["sign_v1","sign_v2"]}};function nj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=nj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Roe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=nj(t))&&(r&&(r+=" "),r+=e);return r}const $4="-",Ooe=t=>{const e=Noe(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const a=s.split($4);return a[0]===""&&a.length!==1&&a.shift(),rj(a,e)||Toe(s)},getConflictingClassGroupIds:(s,a)=>{const c=n[s]||[];return a&&r[s]?[...c,...r[s]]:c}}},rj=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?rj(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join($4);return(s=e.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},tT=/^\[(.+)\]$/,Toe=t=>{if(tT.test(t)){const e=tT.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Noe=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)ES(n[i],r,i,e);return r},ES=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:nT(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(Poe(i)){ES(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{ES(s,nT(e,o),n,r)})})},nT=(t,e)=>{let n=t;return e.split($4).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Poe=t=>t.isThemeGetter,Loe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},xS="!",_S=":",Boe=_S.length,Doe=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const o=[];let s=0,a=0,c=0,l;for(let w=0;w<i.length;w++){let y=i[w];if(s===0&&a===0){if(y===_S){o.push(i.slice(c,w)),c=w+Boe;continue}if(y==="/"){l=w;continue}}y==="["?s++:y==="]"?s--:y==="("?a++:y===")"&&a--}const u=o.length===0?i:i.substring(c),f=joe(u),p=f!==u,m=l&&l>c?l-c:void 0;return{modifiers:o,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:m}};if(e){const i=e+_S,o=r;r=s=>s.startsWith(i)?o(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},joe=t=>t.endsWith(xS)?t.substring(0,t.length-1):t.startsWith(xS)?t.substring(1):t,$oe=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let o=[];return r.forEach(s=>{s[0]==="["||e[s]?(i.push(...o.sort(),s),o=[]):o.push(s)}),i.push(...o.sort()),i}},Foe=t=>({cache:Loe(t.cacheSize),parseClassName:Doe(t),sortModifiers:$oe(t),...Ooe(t)}),Uoe=/\s+/,zoe=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=e,s=[],a=t.trim().split(Uoe);let c="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{isExternal:f,modifiers:p,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:y}=n(u);if(f){c=u+(c.length>0?" "+c:c);continue}let I=!!y,S=r(I?w.substring(0,y):w);if(!S){if(!I){c=u+(c.length>0?" "+c:c);continue}if(S=r(w),!S){c=u+(c.length>0?" "+c:c);continue}I=!1}const T=o(p).join(":"),N=m?T+xS:T,z=N+S;if(s.includes(z))continue;s.push(z);const $=i(S,I);for(let H=0;H<$.length;++H){const K=$[H];s.push(N+K)}c=u+(c.length>0?" "+c:c)}return c};function qoe(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=ij(e))&&(r&&(r+=" "),r+=n);return r}const ij=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=ij(t[r]))&&(n&&(n+=" "),n+=e);return n};function Hoe(t,...e){let n,r,i,o=s;function s(c){const l=e.reduce((u,f)=>f(u),t());return n=Foe(l),r=n.cache.get,i=n.cache.set,o=a,a(c)}function a(c){const l=r(c);if(l)return l;const u=zoe(c,n);return i(c,u),u}return function(){return o(qoe.apply(null,arguments))}}const Tr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},oj=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,sj=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Koe=/^\d+\/\d+$/,Woe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Voe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Goe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Yoe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Joe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bf=t=>Koe.test(t),un=t=>!!t&&!Number.isNaN(Number(t)),fl=t=>!!t&&Number.isInteger(Number(t)),Dx=t=>t.endsWith("%")&&un(t.slice(0,-1)),Ya=t=>Woe.test(t),Zoe=()=>!0,Xoe=t=>Voe.test(t)&&!Goe.test(t),aj=()=>!1,Qoe=t=>Yoe.test(t),ese=t=>Joe.test(t),tse=t=>!It(t)&&!kt(t),nse=t=>Mh(t,uj,aj),It=t=>oj.test(t),Bu=t=>Mh(t,dj,Xoe),jx=t=>Mh(t,ase,un),rT=t=>Mh(t,cj,aj),rse=t=>Mh(t,lj,ese),Rv=t=>Mh(t,fj,Qoe),kt=t=>sj.test(t),Ap=t=>Rh(t,dj),ise=t=>Rh(t,cse),iT=t=>Rh(t,cj),ose=t=>Rh(t,uj),sse=t=>Rh(t,lj),Ov=t=>Rh(t,fj,!0),Mh=(t,e,n)=>{const r=oj.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Rh=(t,e,n=!1)=>{const r=sj.exec(t);return r?r[1]?e(r[1]):n:!1},cj=t=>t==="position"||t==="percentage",lj=t=>t==="image"||t==="url",uj=t=>t==="length"||t==="size"||t==="bg-size",dj=t=>t==="length",ase=t=>t==="number",cse=t=>t==="family-name",fj=t=>t==="shadow",lse=()=>{const t=Tr("color"),e=Tr("font"),n=Tr("text"),r=Tr("font-weight"),i=Tr("tracking"),o=Tr("leading"),s=Tr("breakpoint"),a=Tr("container"),c=Tr("spacing"),l=Tr("radius"),u=Tr("shadow"),f=Tr("inset-shadow"),p=Tr("text-shadow"),m=Tr("drop-shadow"),w=Tr("blur"),y=Tr("perspective"),I=Tr("aspect"),S=Tr("ease"),T=Tr("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...z(),kt,It],H=()=>["auto","hidden","clip","visible","scroll"],K=()=>["auto","contain","none"],j=()=>[kt,It,c],B=()=>[bf,"full","auto",...j()],D=()=>[fl,"none","subgrid",kt,It],P=()=>["auto",{span:["full",fl,kt,It]},fl,kt,It],E=()=>[fl,"auto",kt,It],b=()=>["auto","min","max","fr",kt,It],g=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],v=()=>["start","end","center","stretch","center-safe","end-safe"],A=()=>["auto",...j()],L=()=>[bf,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],C=()=>[t,kt,It],O=()=>[...z(),iT,rT,{position:[kt,It]}],x=()=>["no-repeat",{repeat:["","x","y","space","round"]}],R=()=>["auto","cover","contain",ose,nse,{size:[kt,It]}],_=()=>[Dx,Ap,Bu],k=()=>["","none","full",l,kt,It],U=()=>["",un,Ap,Bu],q=()=>["solid","dashed","dotted","double"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>[un,Dx,iT,rT],Y=()=>["","none",w,kt,It],X=()=>["none",un,kt,It],ee=()=>["none",un,kt,It],ie=()=>[un,kt,It],oe=()=>[bf,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ya],breakpoint:[Ya],color:[Zoe],container:[Ya],"drop-shadow":[Ya],ease:["in","out","in-out"],font:[tse],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ya],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ya],shadow:[Ya],spacing:["px",un],text:[Ya],"text-shadow":[Ya],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",bf,It,kt,I]}],container:["container"],columns:[{columns:[un,It,kt,a]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:K()}],"overscroll-x":[{"overscroll-x":K()}],"overscroll-y":[{"overscroll-y":K()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:B()}],"inset-x":[{"inset-x":B()}],"inset-y":[{"inset-y":B()}],start:[{start:B()}],end:[{end:B()}],top:[{top:B()}],right:[{right:B()}],bottom:[{bottom:B()}],left:[{left:B()}],visibility:["visible","invisible","collapse"],z:[{z:[fl,"auto",kt,It]}],basis:[{basis:[bf,"full","auto",a,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[un,bf,"auto","initial","none",It]}],grow:[{grow:["",un,kt,It]}],shrink:[{shrink:["",un,kt,It]}],order:[{order:[fl,"first","last","none",kt,It]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":b()}],"auto-rows":[{"auto-rows":b()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...g(),"normal"]}],"justify-items":[{"justify-items":[...v(),"normal"]}],"justify-self":[{"justify-self":["auto",...v()]}],"align-content":[{content:["normal",...g()]}],"align-items":[{items:[...v(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...v(),{baseline:["","last"]}]}],"place-content":[{"place-content":g()}],"place-items":[{"place-items":[...v(),"baseline"]}],"place-self":[{"place-self":["auto",...v()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:A()}],mx:[{mx:A()}],my:[{my:A()}],ms:[{ms:A()}],me:[{me:A()}],mt:[{mt:A()}],mr:[{mr:A()}],mb:[{mb:A()}],ml:[{ml:A()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:L()}],w:[{w:[a,"screen",...L()]}],"min-w":[{"min-w":[a,"screen","none",...L()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[s]},...L()]}],h:[{h:["screen","lh",...L()]}],"min-h":[{"min-h":["screen","lh","none",...L()]}],"max-h":[{"max-h":["screen","lh",...L()]}],"font-size":[{text:["base",n,Ap,Bu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,kt,jx]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Dx,It]}],"font-family":[{font:[ise,It,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,kt,It]}],"line-clamp":[{"line-clamp":[un,"none",kt,jx]}],leading:[{leading:[o,...j()]}],"list-image":[{"list-image":["none",kt,It]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",kt,It]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:C()}],"text-color":[{text:C()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:[un,"from-font","auto",kt,Bu]}],"text-decoration-color":[{decoration:C()}],"underline-offset":[{"underline-offset":[un,"auto",kt,It]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",kt,It]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",kt,It]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:O()}],"bg-repeat":[{bg:x()}],"bg-size":[{bg:R()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},fl,kt,It],radial:["",kt,It],conic:[fl,kt,It]},sse,rse]}],"bg-color":[{bg:C()}],"gradient-from-pos":[{from:_()}],"gradient-via-pos":[{via:_()}],"gradient-to-pos":[{to:_()}],"gradient-from":[{from:C()}],"gradient-via":[{via:C()}],"gradient-to":[{to:C()}],rounded:[{rounded:k()}],"rounded-s":[{"rounded-s":k()}],"rounded-e":[{"rounded-e":k()}],"rounded-t":[{"rounded-t":k()}],"rounded-r":[{"rounded-r":k()}],"rounded-b":[{"rounded-b":k()}],"rounded-l":[{"rounded-l":k()}],"rounded-ss":[{"rounded-ss":k()}],"rounded-se":[{"rounded-se":k()}],"rounded-ee":[{"rounded-ee":k()}],"rounded-es":[{"rounded-es":k()}],"rounded-tl":[{"rounded-tl":k()}],"rounded-tr":[{"rounded-tr":k()}],"rounded-br":[{"rounded-br":k()}],"rounded-bl":[{"rounded-bl":k()}],"border-w":[{border:U()}],"border-w-x":[{"border-x":U()}],"border-w-y":[{"border-y":U()}],"border-w-s":[{"border-s":U()}],"border-w-e":[{"border-e":U()}],"border-w-t":[{"border-t":U()}],"border-w-r":[{"border-r":U()}],"border-w-b":[{"border-b":U()}],"border-w-l":[{"border-l":U()}],"divide-x":[{"divide-x":U()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":U()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...q(),"hidden","none"]}],"divide-style":[{divide:[...q(),"hidden","none"]}],"border-color":[{border:C()}],"border-color-x":[{"border-x":C()}],"border-color-y":[{"border-y":C()}],"border-color-s":[{"border-s":C()}],"border-color-e":[{"border-e":C()}],"border-color-t":[{"border-t":C()}],"border-color-r":[{"border-r":C()}],"border-color-b":[{"border-b":C()}],"border-color-l":[{"border-l":C()}],"divide-color":[{divide:C()}],"outline-style":[{outline:[...q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[un,kt,It]}],"outline-w":[{outline:["",un,Ap,Bu]}],"outline-color":[{outline:C()}],shadow:[{shadow:["","none",u,Ov,Rv]}],"shadow-color":[{shadow:C()}],"inset-shadow":[{"inset-shadow":["none",f,Ov,Rv]}],"inset-shadow-color":[{"inset-shadow":C()}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:C()}],"ring-offset-w":[{"ring-offset":[un,Bu]}],"ring-offset-color":[{"ring-offset":C()}],"inset-ring-w":[{"inset-ring":U()}],"inset-ring-color":[{"inset-ring":C()}],"text-shadow":[{"text-shadow":["none",p,Ov,Rv]}],"text-shadow-color":[{"text-shadow":C()}],opacity:[{opacity:[un,kt,It]}],"mix-blend":[{"mix-blend":[...V(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":V()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[un]}],"mask-image-linear-from-pos":[{"mask-linear-from":Q()}],"mask-image-linear-to-pos":[{"mask-linear-to":Q()}],"mask-image-linear-from-color":[{"mask-linear-from":C()}],"mask-image-linear-to-color":[{"mask-linear-to":C()}],"mask-image-t-from-pos":[{"mask-t-from":Q()}],"mask-image-t-to-pos":[{"mask-t-to":Q()}],"mask-image-t-from-color":[{"mask-t-from":C()}],"mask-image-t-to-color":[{"mask-t-to":C()}],"mask-image-r-from-pos":[{"mask-r-from":Q()}],"mask-image-r-to-pos":[{"mask-r-to":Q()}],"mask-image-r-from-color":[{"mask-r-from":C()}],"mask-image-r-to-color":[{"mask-r-to":C()}],"mask-image-b-from-pos":[{"mask-b-from":Q()}],"mask-image-b-to-pos":[{"mask-b-to":Q()}],"mask-image-b-from-color":[{"mask-b-from":C()}],"mask-image-b-to-color":[{"mask-b-to":C()}],"mask-image-l-from-pos":[{"mask-l-from":Q()}],"mask-image-l-to-pos":[{"mask-l-to":Q()}],"mask-image-l-from-color":[{"mask-l-from":C()}],"mask-image-l-to-color":[{"mask-l-to":C()}],"mask-image-x-from-pos":[{"mask-x-from":Q()}],"mask-image-x-to-pos":[{"mask-x-to":Q()}],"mask-image-x-from-color":[{"mask-x-from":C()}],"mask-image-x-to-color":[{"mask-x-to":C()}],"mask-image-y-from-pos":[{"mask-y-from":Q()}],"mask-image-y-to-pos":[{"mask-y-to":Q()}],"mask-image-y-from-color":[{"mask-y-from":C()}],"mask-image-y-to-color":[{"mask-y-to":C()}],"mask-image-radial":[{"mask-radial":[kt,It]}],"mask-image-radial-from-pos":[{"mask-radial-from":Q()}],"mask-image-radial-to-pos":[{"mask-radial-to":Q()}],"mask-image-radial-from-color":[{"mask-radial-from":C()}],"mask-image-radial-to-color":[{"mask-radial-to":C()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":z()}],"mask-image-conic-pos":[{"mask-conic":[un]}],"mask-image-conic-from-pos":[{"mask-conic-from":Q()}],"mask-image-conic-to-pos":[{"mask-conic-to":Q()}],"mask-image-conic-from-color":[{"mask-conic-from":C()}],"mask-image-conic-to-color":[{"mask-conic-to":C()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:O()}],"mask-repeat":[{mask:x()}],"mask-size":[{mask:R()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",kt,It]}],filter:[{filter:["","none",kt,It]}],blur:[{blur:Y()}],brightness:[{brightness:[un,kt,It]}],contrast:[{contrast:[un,kt,It]}],"drop-shadow":[{"drop-shadow":["","none",m,Ov,Rv]}],"drop-shadow-color":[{"drop-shadow":C()}],grayscale:[{grayscale:["",un,kt,It]}],"hue-rotate":[{"hue-rotate":[un,kt,It]}],invert:[{invert:["",un,kt,It]}],saturate:[{saturate:[un,kt,It]}],sepia:[{sepia:["",un,kt,It]}],"backdrop-filter":[{"backdrop-filter":["","none",kt,It]}],"backdrop-blur":[{"backdrop-blur":Y()}],"backdrop-brightness":[{"backdrop-brightness":[un,kt,It]}],"backdrop-contrast":[{"backdrop-contrast":[un,kt,It]}],"backdrop-grayscale":[{"backdrop-grayscale":["",un,kt,It]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[un,kt,It]}],"backdrop-invert":[{"backdrop-invert":["",un,kt,It]}],"backdrop-opacity":[{"backdrop-opacity":[un,kt,It]}],"backdrop-saturate":[{"backdrop-saturate":[un,kt,It]}],"backdrop-sepia":[{"backdrop-sepia":["",un,kt,It]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",kt,It]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[un,"initial",kt,It]}],ease:[{ease:["linear","initial",S,kt,It]}],delay:[{delay:[un,kt,It]}],animate:[{animate:["none",T,kt,It]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,kt,It]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:X()}],"rotate-x":[{"rotate-x":X()}],"rotate-y":[{"rotate-y":X()}],"rotate-z":[{"rotate-z":X()}],scale:[{scale:ee()}],"scale-x":[{"scale-x":ee()}],"scale-y":[{"scale-y":ee()}],"scale-z":[{"scale-z":ee()}],"scale-3d":["scale-3d"],skew:[{skew:ie()}],"skew-x":[{"skew-x":ie()}],"skew-y":[{"skew-y":ie()}],transform:[{transform:[kt,It,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:oe()}],"translate-x":[{"translate-x":oe()}],"translate-y":[{"translate-y":oe()}],"translate-z":[{"translate-z":oe()}],"translate-none":["translate-none"],accent:[{accent:C()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:C()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",kt,It]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",kt,It]}],fill:[{fill:["none",...C()]}],"stroke-w":[{stroke:[un,Ap,Bu,jx]}],stroke:[{stroke:["none",...C()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},use=Hoe(lse),$x=new Map;function vn(...t){const e=JSON.stringify(t);if($x.has(e))return $x.get(e);const n=use(Roe(t));return $x.set(e,n),n}const dse=(t,e)=>{if(e!=null&&e.startsWith("https://"))return e;switch(t){case"chrome":return`https://chrome.google.com/webstore/detail/${e}`;case"firefox":return`https://addons.mozilla.org/firefox/addon/${e}`;case"edge":return`https://microsoftedge.microsoft.com/addons/detail/${e}`;default:return null}},fse=(t,e)=>{if(e!=null&&e.includes("https://"))return e;switch(t){case"android":return`https://play.google.com/store/apps/details?id=${e}`;case"ios":return`https://apps.apple.com/app/safepal-wallet/${e}`;default:return""}},hse=t=>{switch(t){case"ios":return"iOS";case"android":return"Android";default:return""}},pse=t=>t.charAt(0).toUpperCase()+t.slice(1),go=t=>`https://images.web3auth.io/login-modal/${t}.svg`,hj="https://api.web3auth.io/passwordless-service",gse=async()=>{try{const t=await Oa(`${hj}/api/v3/user/location`);return t&&t.data.country?{country:t.data.country,dialCode:t.data.dial_code}:null}catch(t){return ct.error("error getting user country",t),null}},mse=async t=>{try{const e=await hd(`${hj}/api/v3/phone_number/validate`,{phone_number:t});return e&&e.success?e:{success:!1,parsed_number:"",country_flag:""}}catch(e){return ct.error("error validating phone number",e),e.status===400?{success:!1,parsed_number:"",country_flag:""}:{success:!1,parsed_number:"",country_flag:""}}},pj=t=>{let e=t;return e||(e=(typeof window<"u"&&(window.navigator.userLanguage||window.navigator.language)||"en-US").split("-")[0]),Object.prototype.hasOwnProperty.call(lH,e)?e:Zo.en};function vse(t){const e=encodeURIComponent(t.uri);return t.link.startsWith("http")?`${t.link}/wc?uri=${e}`:t.link?`${t.link}wc?uri=${e}`:""}const yse=t=>{if(!t)return"passwordless.something-wrong-error";switch(t){case"E001":return"passwordless.error-invalid-params";case"E002":return"passwordless.error-invalid-origin";case"E201":return"passwordless.error-sending-sms-failed";case"E300":return"passwordless.error-no-mail-generated";case"E301":return"passwordless.error-invalid-link";case"E302":return"passwordless.error-new-link-generated-heading";case"E304":case"E403":return"passwordless.error-max-retry-limit-reached";case"E305":case"E401":return"passwordless.error-invalid-otp";case"E306":return"passwordless.error-otp-expired";case"E400":return"passwordless.error-no-sms-generated";case"E411":return"passwordless.error-plan-limit-reached";case"E412":return"passwordless.error-recaptcha-verification-failed";case"E502":return"passwordless.error-invalid-test-account";default:return"passwordless.something-wrong-error"}};function wse(t){const{open:e=!0,padding:n=!0,shadow:r=!0,border:i=!1,showCloseIcon:o=!1,onClose:s,children:a,borderRadius:c="large"}=t,[l,u]=be.useState(!1);be.useEffect(()=>{e?setTimeout(()=>{u(!0)},50):u(!1)},[e]);const f=()=>{s&&s()};return l?re.jsxs("div",{className:vn("w3a--bg-app-light-surface1 dark:w3a--bg-app-dark-surface-main w3a--rounded-3xl w3a--w-[356px] [@media(min-width:375px)]:w3a--w-[393px] w3a--h-auto w3a--flex w3a--flex-col w3a--duration-500",{"w3a--translate-y-0 w3a--delay-100":l,"w3a--translate-y-[100vh]":!l,"w3a--p-4":n,"w3a--shadow-xl sm:w3a--shadow-lg":r,"w3a--border w3a--border-app-gray-100 dark:w3a--border-app-gray-800":i,"w3a--rounded-[30px]":c==="large","w3a--rounded-2xl":c==="medium","w3a--rounded-none":c==="small"}),children:[o&&re.jsx("div",{className:"w3a--absolute w3a--right-6 w3a--top-[30px] w3a--z-10 w3a--cursor-pointer",children:re.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:f,className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:re.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),a]}):null}function bse(t){const{children:e,open:n,onClose:r,placement:i="center",padding:o=!0,shadow:s=!0,border:a=!1,showCloseIcon:c=!0,borderRadius:l="large"}=t,[u,f]=be.useState(!1);be.useEffect(()=>{n?(document.body.style.overflow="hidden",setTimeout(()=>{f(!0)},50)):(f(!1),document.body.style.overflow="")},[n]);const p=be.useMemo(()=>({center:"w3a--top-0 w3a--left-0 w3a--items-center w3a--justify-center","top-center":"w3a--top-8 w3a--left-0 w3a--items-start w3a--justify-center","bottom-center":"w3a--bottom-8 w3a--left-0 w3a--items-end w3a--justify-center",left:"sm:w3a--left-8 w3a--flex w3a--items-center w3a--justify-center sm:w3a--justify-start",right:"sm:w3a--right-8 w3a--flex w3a--items-center w3a--justify-center sm:w3a--justify-end"}),[]),m=be.useMemo(()=>p[i],[i,p]),w=()=>{r&&r()};return re.jsx("div",{className:vn("w3a--fixed w3a--z-50 w3a--overflow-hidden w3a--flex w3a--transition-all",m,{"w3a--w-screen w3a--h-screen":u,"w3a--w-0 w3a--h-0 w3a--delay-500":!u}),children:re.jsxs("div",{className:vn("w3a--bg-app-light-surface1 dark:w3a--bg-app-dark-surface-main w3a--w-[356px] [@media(min-width:375px)]:w3a--w-[393px] w3a--h-auto w3a--flex w3a--flex-col w3a--duration-500",{"w3a--translate-y-0 w3a--delay-100":u,"w3a--translate-y-[100vh]":!u,"w3a--p-4":o,"w3a--shadow-xl sm:w3a--shadow-lg":s,"w3a--border w3a--border-app-gray-100 dark:w3a--border-app-gray-800":a,"w3a--rounded-[30px]":l==="large","w3a--rounded-2xl":l==="medium","w3a--rounded-none":l==="small"}),children:[c&&re.jsx("div",{className:"w3a--absolute w3a--right-6 w3a--top-[30px] w3a--z-10 w3a--cursor-pointer",children:re.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:w,className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:re.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),e]})})}const Ese=(t,e,n,r)=>{var o,s,a,c;const i=[n,{code:e,...r||{}}];if((s=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&s.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);fd(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(c=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&c.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},oT={},SS=(t,e,n,r)=>{fd(n)&&oT[n]||(fd(n)&&(oT[n]=new Date),Ese(t,e,n,r))},gj=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},CS=(t,e,n)=>{t.loadNamespaces(e,gj(t,n))},sT=(t,e,n,r)=>{if(fd(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return CS(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,gj(t,r))},xse=(t,e,n={})=>!e.languages||!e.languages.length?(SS(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),fd=t=>typeof t=="string",_se=t=>typeof t=="object"&&t!==null,Sse=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Cse={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Ase=t=>Cse[t],Ise=t=>t.replace(Sse,Ase);let AS={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Ise};const kse=(t={})=>{AS={...AS,...t}},Mse=()=>AS;let mj;const Rse=t=>{mj=t},Ose=()=>mj,Tse={type:"3rdParty",init(t){kse(t.options.react),Rse(t)}},Nse=be.createContext();class Pse{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Lse=(t,e)=>{const n=be.useRef();return be.useEffect(()=>{n.current=t},[t,e]),n.current},vj=(t,e,n,r)=>t.getFixedT(e,n,r),Bse=(t,e,n,r)=>be.useCallback(vj(t,e,n,r),[t,e,n,r]),Hi=(t,e={})=>{var z,$,H,K;const{i18n:n}=e,{i18n:r,defaultNS:i}=be.useContext(Nse)||{},o=n||r||Ose();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new Pse),!o){SS(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const j=(D,P)=>fd(P)?P:_se(P)&&fd(P.defaultValue)?P.defaultValue:Array.isArray(D)?D[D.length-1]:D,B=[j,{},!1];return B.t=j,B.i18n={},B.ready=!1,B}(z=o.options.react)!=null&&z.wait&&SS(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...Mse(),...o.options.react,...e},{useSuspense:a,keyPrefix:c}=s;let l=i||(($=o.options)==null?void 0:$.defaultNS);l=fd(l)?[l]:l||["translation"],(K=(H=o.reportNamespaces).addUsedNamespaces)==null||K.call(H,l);const u=(o.isInitialized||o.initializedStoreOnce)&&l.every(j=>xse(j,o,s)),f=Bse(o,e.lng||null,s.nsMode==="fallback"?l:l[0],c),p=()=>f,m=()=>vj(o,e.lng||null,s.nsMode==="fallback"?l:l[0],c),[w,y]=be.useState(p);let I=l.join();e.lng&&(I=`${e.lng}${I}`);const S=Lse(I),T=be.useRef(!0);be.useEffect(()=>{const{bindI18n:j,bindI18nStore:B}=s;T.current=!0,!u&&!a&&(e.lng?sT(o,e.lng,l,()=>{T.current&&y(m)}):CS(o,l,()=>{T.current&&y(m)})),u&&S&&S!==I&&T.current&&y(m);const D=()=>{T.current&&y(m)};return j&&(o==null||o.on(j,D)),B&&(o==null||o.store.on(B,D)),()=>{T.current=!1,o&&j&&(j==null||j.split(" ").forEach(P=>o.off(P,D))),B&&o&&B.split(" ").forEach(P=>o.store.off(P,D))}},[o,I]),be.useEffect(()=>{T.current&&u&&y(p)},[o,c,u]);const N=[w,o,u];if(N.t=w,N.i18n=o,N.ready=u,u||!u&&!a)return N;throw new Promise(j=>{e.lng?sT(o,e.lng,l,()=>j()):CS(o,l,()=>j())})},bg=be.createContext({bodyState:{metamaskQrCode:{show:!1,wallet:null},installLinks:{show:!1,wallet:null},multiChainSelector:{show:!1,wallet:null}},toast:{message:"",type:fw.SUCCESS},setBodyState:()=>{},setToast:()=>{}}),p1=be.createContext({isDark:!0}),Xt=t=>typeof t=="string",Ip=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},aT=t=>t==null?"":""+t,Dse=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},jse=/###/g,cT=t=>t&&t.indexOf("###")>-1?t.replace(jse,"."):t,lT=t=>!t||Xt(t),e0=(t,e,n)=>{const r=Xt(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(lT(t))return{};const o=cT(r[i]);!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++i}return lT(t)?{}:{obj:t,k:cT(r[i])}},uT=(t,e,n)=>{const{obj:r,k:i}=e0(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let o=e[e.length-1],s=e.slice(0,e.length-1),a=e0(t,s,Object);for(;a.obj===void 0&&s.length;)o=`${s[s.length-1]}.${o}`,s=s.slice(0,s.length-1),a=e0(t,s,Object),a!=null&&a.obj&&typeof a.obj[`${a.k}.${o}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${o}`]=n},$se=(t,e,n,r)=>{const{obj:i,k:o}=e0(t,e,Object);i[o]=i[o]||[],i[o].push(n)},hw=(t,e)=>{const{obj:n,k:r}=e0(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Fse=(t,e,n)=>{const r=hw(t,n);return r!==void 0?r:hw(e,n)},yj=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?Xt(t[r])||t[r]instanceof String||Xt(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):yj(t[r],e[r],n):t[r]=e[r]);return t},Ef=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Use={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const zse=t=>Xt(t)?t.replace(/[&<>"'\/]/g,e=>Use[e]):t;class qse{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const Hse=[" ",",","?","!",";"],Kse=new qse(20),Wse=(t,e,n)=>{e=e||"",n=n||"";const r=Hse.filter(s=>e.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=Kse.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let o=!i.test(t);if(!o){const s=t.indexOf(n);s>0&&!i.test(t.substring(0,s))&&(o=!0)}return o},IS=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let s,a="";for(let c=o;c<r.length;++c)if(c!==o&&(a+=n),a+=r[c],s=i[a],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&c<r.length-1)continue;o+=c-o+1;break}i=s}return i},G0=t=>t==null?void 0:t.replace("_","-"),Vse={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class pw{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||Vse,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(Xt(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new pw(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new pw(this.logger,e)}}var Ea=new pw;class g1{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,o])=>{for(let s=0;s<o;s++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,o])=>{for(let s=0;s<o;s++)i.apply(i,[e,...n])})}}class dT extends g1{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var l,u;const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):Xt(r)&&o?a.push(...r.split(o)):a.push(r)));const c=hw(this.data,a);return!c&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),c||!s||!Xt(r)?c:IS((u=(l=this.data)==null?void 0:l[e])==null?void 0:u[n],r,o)}addResource(e,n,r,i,o={silent:!1}){const s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(a=e.split("."),i=n,n=a[1]),this.addNamespaces(n),uT(this.data,a,i),o.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const o in r)(Xt(r[o])||Array.isArray(r[o]))&&this.addResource(e,n,o,r[o],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,o,s={silent:!1,skipCopy:!1}){let a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let c=hw(this.data,a)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?yj(c,r,o):c={...c,...r},uT(this.data,a,c),s.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var wj={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(o=>{var s;e=((s=this.processors[o])==null?void 0:s.process(e,n,r,i))??e}),e}};const fT={},hT=t=>!Xt(t)&&typeof t!="boolean"&&typeof t!="number";class gw extends g1{constructor(e,n={}){super(),Dse(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ea.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const s=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Wse(e,r,i);if(s&&!a){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:Xt(o)?[o]:o};const l=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(l[0])>-1)&&(o=l.shift()),e=l.join(i)}return{key:e,namespaces:Xt(o)?[o]:o}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:a,namespaces:c}=this.extractFromKey(e[e.length-1],i),l=c[c.length-1];let u=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const f=i.lng||this.language,p=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return p?o?{res:`${l}${u}${a}`,usedKey:a,exactUsedKey:a,usedLng:f,usedNS:l,usedParams:this.getUsedParamsDetails(i)}:`${l}${u}${a}`:o?{res:a,usedKey:a,exactUsedKey:a,usedLng:f,usedNS:l,usedParams:this.getUsedParamsDetails(i)}:a;const m=this.resolve(e,i);let w=m==null?void 0:m.res;const y=(m==null?void 0:m.usedKey)||a,I=(m==null?void 0:m.exactUsedKey)||a,S=["[object Number]","[object Function]","[object RegExp]"],T=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,N=!this.i18nFormat||this.i18nFormat.handleAsObject,z=i.count!==void 0&&!Xt(i.count),$=gw.hasDefaultValue(i),H=z?this.pluralResolver.getSuffix(f,i.count,i):"",K=i.ordinal&&z?this.pluralResolver.getSuffix(f,i.count,{ordinal:!1}):"",j=z&&!i.ordinal&&i.count===0,B=j&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${H}`]||i[`defaultValue${K}`]||i.defaultValue;let D=w;N&&!w&&$&&(D=B);const P=hT(D),E=Object.prototype.toString.apply(D);if(N&&D&&P&&S.indexOf(E)<0&&!(Xt(T)&&Array.isArray(D))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const b=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,D,{...i,ns:c}):`key '${a} (${this.language})' returned an object instead of string.`;return o?(m.res=b,m.usedParams=this.getUsedParamsDetails(i),m):b}if(s){const b=Array.isArray(D),g=b?[]:{},v=b?I:y;for(const A in D)if(Object.prototype.hasOwnProperty.call(D,A)){const L=`${v}${s}${A}`;$&&!w?g[A]=this.translate(L,{...i,defaultValue:hT(B)?B[A]:void 0,joinArrays:!1,ns:c}):g[A]=this.translate(L,{...i,joinArrays:!1,ns:c}),g[A]===L&&(g[A]=D[A])}w=g}}else if(N&&Xt(T)&&Array.isArray(w))w=w.join(T),w&&(w=this.extendTranslation(w,e,i,r));else{let b=!1,g=!1;!this.isValidLookup(w)&&$&&(b=!0,w=B),this.isValidLookup(w)||(g=!0,w=a);const A=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&g?void 0:w,L=$&&B!==w&&this.options.updateMissing;if(g||b||L){if(this.logger.log(L?"updateKey":"missingKey",f,l,a,L?B:w),s){const R=this.resolve(a,{...i,keySeparator:!1});R&&R.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let C=[];const O=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&O&&O[0])for(let R=0;R<O.length;R++)C.push(O[R]);else this.options.saveMissingTo==="all"?C=this.languageUtils.toResolveHierarchy(i.lng||this.language):C.push(i.lng||this.language);const x=(R,_,k)=>{var q;const U=$&&k!==w?k:A;this.options.missingKeyHandler?this.options.missingKeyHandler(R,l,_,U,L,i):(q=this.backendConnector)!=null&&q.saveMissing&&this.backendConnector.saveMissing(R,l,_,U,L,i),this.emit("missingKey",R,l,_,w)};this.options.saveMissing&&(this.options.saveMissingPlurals&&z?C.forEach(R=>{const _=this.pluralResolver.getSuffixes(R,i);j&&i[`defaultValue${this.options.pluralSeparator}zero`]&&_.indexOf(`${this.options.pluralSeparator}zero`)<0&&_.push(`${this.options.pluralSeparator}zero`),_.forEach(k=>{x([R],a+k,i[`defaultValue${k}`]||B)})}):x(C,a,B))}w=this.extendTranslation(w,e,i,m,r),g&&w===a&&this.options.appendNamespaceToMissingKey&&(w=`${l}${u}${a}`),(g||b)&&this.options.parseMissingKeyHandler&&(w=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}${u}${a}`:a,b?w:void 0,i))}return o?(m.res=w,m.usedParams=this.getUsedParamsDetails(i),m):w}extendTranslation(e,n,r,i,o){var c,l;if((c=this.i18nFormat)!=null&&c.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=Xt(e)&&(((l=r==null?void 0:r.interpolation)==null?void 0:l.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(u){const m=e.match(this.interpolator.nestingRegexp);f=m&&m.length}let p=r.replace&&!Xt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,r.lng||this.language||i.usedLng,r),u){const m=e.match(this.interpolator.nestingRegexp),w=m&&m.length;f<w&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...m)=>(o==null?void 0:o[0])===m[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):this.translate(...m,n),r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,a=Xt(s)?[s]:s;return e!=null&&(a!=null&&a.length)&&r.applyPostProcessor!==!1&&(e=wj.handle(a,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,o,s,a;return Xt(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(r))return;const l=this.extractFromKey(c,n),u=l.key;i=u;let f=l.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const p=n.count!==void 0&&!Xt(n.count),m=p&&!n.ordinal&&n.count===0,w=n.context!==void 0&&(Xt(n.context)||typeof n.context=="number")&&n.context!=="",y=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(I=>{var S,T;this.isValidLookup(r)||(a=I,!fT[`${y[0]}-${I}`]&&((S=this.utils)!=null&&S.hasLoadedNamespace)&&!((T=this.utils)!=null&&T.hasLoadedNamespace(a))&&(fT[`${y[0]}-${I}`]=!0,this.logger.warn(`key "${i}" for languages "${y.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(N=>{var H;if(this.isValidLookup(r))return;s=N;const z=[u];if((H=this.i18nFormat)!=null&&H.addLookupKeys)this.i18nFormat.addLookupKeys(z,u,N,I,n);else{let K;p&&(K=this.pluralResolver.getSuffix(N,n.count,n));const j=`${this.options.pluralSeparator}zero`,B=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(z.push(u+K),n.ordinal&&K.indexOf(B)===0&&z.push(u+K.replace(B,this.options.pluralSeparator)),m&&z.push(u+j)),w){const D=`${u}${this.options.contextSeparator}${n.context}`;z.push(D),p&&(z.push(D+K),n.ordinal&&K.indexOf(B)===0&&z.push(D+K.replace(B,this.options.pluralSeparator)),m&&z.push(D+j))}}let $;for(;$=z.pop();)this.isValidLookup(r)||(o=$,r=this.getResource(N,I,$,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:s,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var o;return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Xt(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const o of n)delete i[o]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class pT{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ea.create("languageUtils")}getScriptPartFromCode(e){if(e=G0(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=G0(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Xt(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(s=>{if(s===o)return s;if(!(s.indexOf("-")<0&&o.indexOf("-")<0)&&(s.indexOf("-")>0&&o.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===o||s.indexOf(o)===0&&o.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Xt(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],o=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return Xt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):Xt(e)&&o(this.formatLanguageCode(e)),r.forEach(s=>{i.indexOf(s)<0&&o(this.formatLanguageCode(s))}),i}}const gT={zero:0,one:1,two:2,few:3,many:4,other:5},mT={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Gse{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Ea.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=G0(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let s;try{s=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),mT;if(!e.match(/-|_/))return mT;const c=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(c,n)}return this.pluralRulesCache[o]=s,s}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,o)=>gT[i]-gT[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const vT=(t,e,n,r=".",i=!0)=>{let o=Fse(t,e,n);return!o&&i&&Xt(n)&&(o=IS(t,n,r),o===void 0&&(o=IS(e,n,r))),o},Fx=t=>t.replace(/\$/g,"$$$$");class Yse{constructor(e={}){var n;this.logger=Ea.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:s,suffix:a,suffixEscaped:c,formatSeparator:l,unescapeSuffix:u,unescapePrefix:f,nestingPrefix:p,nestingPrefixEscaped:m,nestingSuffix:w,nestingSuffixEscaped:y,nestingOptionsSeparator:I,maxReplaces:S,alwaysFormat:T}=e.interpolation;this.escape=n!==void 0?n:zse,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?Ef(o):s||"{{",this.suffix=a?Ef(a):c||"}}",this.formatSeparator=l||",",this.unescapePrefix=u?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=p?Ef(p):m||Ef("$t("),this.nestingSuffix=w?Ef(w):y||Ef(")"),this.nestingOptionsSeparator=I||",",this.maxReplaces=S||1e3,this.alwaysFormat=T!==void 0?T:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var m;let o,s,a;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=w=>{if(w.indexOf(this.formatSeparator)<0){const T=vT(n,c,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(T,void 0,r,{...i,...n,interpolationkey:w}):T}const y=w.split(this.formatSeparator),I=y.shift().trim(),S=y.join(this.formatSeparator).trim();return this.format(vT(n,c,I,this.options.keySeparator,this.options.ignoreJSONStructure),S,r,{...i,...n,interpolationkey:I})};this.resetRegExp();const u=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((m=i==null?void 0:i.interpolation)==null?void 0:m.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:w=>Fx(w)},{regex:this.regexp,safeValue:w=>this.escapeValue?Fx(this.escape(w)):Fx(w)}].forEach(w=>{for(a=0;o=w.regex.exec(e);){const y=o[1].trim();if(s=l(y),s===void 0)if(typeof u=="function"){const S=u(e,o,i);s=Xt(S)?S:""}else if(i&&Object.prototype.hasOwnProperty.call(i,y))s="";else if(f){s=o[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),s="";else!Xt(s)&&!this.useRawValueToEscape&&(s=aT(s));const I=w.safeValue(s);if(e=e.replace(o[0],I),f?(w.regex.lastIndex+=s.length,w.regex.lastIndex-=o[0].length):w.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,o,s;const a=(c,l)=>{const u=this.nestingOptionsSeparator;if(c.indexOf(u)<0)return c;const f=c.split(new RegExp(`${u}[ ]*{`));let p=`{${f[1]}`;c=f[0],p=this.interpolate(p,s);const m=p.match(/'/g),w=p.match(/"/g);(((m==null?void 0:m.length)??0)%2===0&&!w||w.length%2!==0)&&(p=p.replace(/'/g,'"'));try{s=JSON.parse(p),l&&(s={...l,...s})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,y),`${c}${u}${p}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,c};for(;i=this.nestingRegexp.exec(e);){let c=[];s={...r},s=s.replace&&!Xt(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;const l=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(l!==-1&&(c=i[1].slice(l).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),i[1]=i[1].slice(0,l)),o=n(a.call(this,i[1].trim(),s),s),o&&i[0]===e&&!Xt(o))return o;Xt(o)||(o=aT(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),o=""),c.length&&(o=c.reduce((u,f)=>this.format(u,f,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),e=e.replace(i[0],o),this.regexp.lastIndex=0}return e}}const Jse=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(s){const[a,...c]=s.split(":"),l=c.join(":").trim().replace(/^'+|'+$/g,""),u=a.trim();n[u]||(n[u]=l),l==="false"&&(n[u]=!1),l==="true"&&(n[u]=!0),isNaN(l)||(n[u]=parseInt(l,10))}})}return{formatName:e,formatOptions:n}},yT=t=>{const e={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const s=r+JSON.stringify(o);let a=e[s];return a||(a=t(G0(r),i),e[s]=a),a(n)}},Zse=t=>(e,n,r)=>t(G0(n),r)(e);class Xse{constructor(e={}){this.logger=Ea.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?yT:Zse;this.formats={number:r((i,o)=>{const s=new Intl.NumberFormat(i,{...o});return a=>s.format(a)}),currency:r((i,o)=>{const s=new Intl.NumberFormat(i,{...o,style:"currency"});return a=>s.format(a)}),datetime:r((i,o)=>{const s=new Intl.DateTimeFormat(i,{...o});return a=>s.format(a)}),relativetime:r((i,o)=>{const s=new Intl.RelativeTimeFormat(i,{...o});return a=>s.format(a,o.range||"day")}),list:r((i,o)=>{const s=new Intl.ListFormat(i,{...o});return a=>s.format(a)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=yT(n)}format(e,n,r,i={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(a=>a.indexOf(")")>-1)){const a=o.findIndex(c=>c.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,a)].join(this.formatSeparator)}return o.reduce((a,c)=>{var f;const{formatName:l,formatOptions:u}=Jse(c);if(this.formats[l]){let p=a;try{const m=((f=i==null?void 0:i.formatParams)==null?void 0:f[i.interpolationkey])||{},w=m.locale||m.lng||i.locale||i.lng||r;p=this.formats[l](a,w,{...u,...i,...m})}catch(m){this.logger.warn(m)}return p}else this.logger.warn(`there was no format function for ${l}`);return a},e)}}const Qse=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class eae extends g1{constructor(e,n,r,i={}){var o,s;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Ea.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(s=(o=this.backend)==null?void 0:o.init)==null||s.call(o,r,i.backend,i)}queueLoad(e,n,r,i){const o={},s={},a={},c={};return e.forEach(l=>{let u=!0;n.forEach(f=>{const p=`${l}|${f}`;!r.reload&&this.store.hasResourceBundle(l,f)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?s[p]===void 0&&(s[p]=!0):(this.state[p]=1,u=!1,s[p]===void 0&&(s[p]=!0),o[p]===void 0&&(o[p]=!0),c[f]===void 0&&(c[f]=!0)))}),u||(a[l]=!0)}),(Object.keys(o).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(c)}}loaded(e,n,r){const i=e.split("|"),o=i[0],s=i[1];n&&this.emit("failedLoading",o,s,n),!n&&r&&this.store.addResourceBundle(o,s,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const a={};this.queue.forEach(c=>{$se(c.loaded,[o],s),Qse(c,e),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(l=>{a[l]||(a[l]={});const u=c.loaded[l];u.length&&u.forEach(f=>{a[l][f]===void 0&&(a[l][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(c=>!c.done)}read(e,n,r,i=0,o=this.retryTimeout,s){if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:o,callback:s});return}this.readingCalls++;const a=(l,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(l&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,o*2,s)},o);return}s(l,u)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const l=c(e,n);l&&typeof l.then=="function"?l.then(u=>a(null,u)).catch(a):a(null,l)}catch(l){a(l)}return}return c(e,n,a)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Xt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Xt(n)&&(n=[n]);const o=this.queueLoad(e,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(s=>{this.loadOne(s)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(s,a)=>{s&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,s),!s&&a&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,a),this.loaded(e,s,a)})}saveMissing(e,n,r,i,o,s={},a=()=>{}){var c,l,u,f,p;if((l=(c=this.services)==null?void 0:c.utils)!=null&&l.hasLoadedNamespace&&!((f=(u=this.services)==null?void 0:u.utils)!=null&&f.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((p=this.backend)!=null&&p.create){const m={...s,isUpdate:o},w=this.backend.create.bind(this.backend);if(w.length<6)try{let y;w.length===5?y=w(e,n,r,i,m):y=w(e,n,r,i),y&&typeof y.then=="function"?y.then(I=>a(null,I)).catch(a):a(null,y)}catch(y){a(y)}else w(e,n,r,i,a,m)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const wT=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Xt(t[1])&&(e.defaultValue=t[1]),Xt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),bT=t=>{var e,n;return Xt(t.ns)&&(t.ns=[t.ns]),Xt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Xt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Tv=()=>{},tae=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Y0 extends g1{constructor(e={},n){if(super(),this.options=bT(e),this.services={},this.logger=Ea,this.modules={external:[]},tae(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Xt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=wT();this.options={...r,...this.options,...bT(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=l=>l?typeof l=="function"?new l:l:null;if(!this.options.isClone){this.modules.logger?Ea.init(i(this.modules.logger),this.options):Ea.init(null,this.options);let l;this.modules.formatter?l=this.modules.formatter:l=Xse;const u=new pT(this.options);this.store=new dT(this.options.resources,this.options);const f=this.services;f.logger=Ea,f.resourceStore=this.store,f.languageUtils=u,f.pluralResolver=new Gse(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),l&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(f.formatter=i(l),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new Yse(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new eae(i(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(m,...w)=>{this.emit(m,...w)}),this.modules.languageDetector&&(f.languageDetector=i(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=i(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new gw(this.services,this.options),this.translator.on("*",(m,...w)=>{this.emit(m,...w)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Tv),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=(...u)=>this.store[l](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=(...u)=>(this.store[l](...u),this)});const a=Ip(),c=()=>{const l=(u,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(f),n(u,f)};if(this.languages&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),a}loadResources(e,n=Tv){var o,s;let r=n;const i=Xt(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],c=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(f=>{f!=="cimode"&&a.indexOf(f)<0&&a.push(f)})};i?c(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>c(u)),(s=(o=this.options.preload)==null?void 0:o.forEach)==null||s.call(o,l=>c(l)),this.services.backendConnector.load(a,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(e,n,r){const i=Ip();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Tv),this.services.backendConnector.reload(e,n,o=>{i.resolve(),r(o)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&wj.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=Ip();this.emit("languageChanging",e);const i=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},o=(a,c)=>{c?this.isLanguageChangingTo===e&&(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve((...l)=>this.t(...l)),n&&n(a,(...l)=>this.t(...l))},s=a=>{var u,f;!e&&!a&&this.services.languageDetector&&(a=[]);const c=Xt(a)?a:a&&a[0],l=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Xt(a)?[a]:a);l&&(this.language||i(l),this.translator.language||this.translator.changeLanguage(l),(f=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||f.call(u,l)),this.loadResources(l,p=>{o(p,l)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),r}getFixedT(e,n,r){const i=(o,s,...a)=>{let c;typeof s!="object"?c=this.options.overloadTranslationOptionHandler([o,s].concat(a)):c={...s},c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||i.keyPrefix);const l=this.options.keySeparator||".";let u;return c.keyPrefix&&Array.isArray(o)?u=o.map(f=>`${c.keyPrefix}${l}${f}`):u=c.keyPrefix?`${c.keyPrefix}${l}${o}`:o,this.t(u,c)};return Xt(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(a,c)=>{const l=this.services.backendConnector.state[`${a}|${c}`];return l===-1||l===0||l===2};if(n.precheck){const a=n.precheck(this,s);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,e)&&(!i||s(o,e)))}loadNamespaces(e,n){const r=Ip();return this.options.ns?(Xt(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Ip();Xt(e)&&(e=[e]);const i=this.options.preload||[],o=e.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return o.length?(this.options.preload=i.concat(o),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(e){var i,o;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const s=new Intl.Locale(e);if(s&&s.getTextInfo){const a=s.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((o=this.services)==null?void 0:o.languageUtils)||new pT(wT());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new Y0(e,n)}cloneInstance(e={},n=Tv){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},o=new Y0(i);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(a=>{o[a]=this[a]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){const a=Object.keys(this.store.data).reduce((c,l)=>(c[l]={...this.store.data[l]},c[l]=Object.keys(c[l]).reduce((u,f)=>(u[f]={...c[l][f]},u),c[l]),c),{});o.store=new dT(a,i),o.services.resourceStore=o.store}return o.translator=new gw(o.services,i),o.translator.on("*",(a,...c)=>{o.emit(a,...c)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Mi=Y0.createInstance();Mi.createInstance=Y0.createInstance;Mi.createInstance;Mi.dir;Mi.init;Mi.loadResources;Mi.reloadResources;Mi.use;Mi.changeLanguage;Mi.getFixedT;Mi.t;Mi.exists;Mi.setDefaultNamespace;Mi.hasLoadedNamespace;Mi.loadNamespaces;Mi.loadLanguages;var bj={"adapter-loader.message":"Verify your {{adapter}} account to continue","adapter-loader.message1":"Verify your {{adapter}}","adapter-loader.message2":"account to continue",allChains:"All Chains","connect-wallet.more-wallets":"More Wallets",connectYourWallet:"Connect your wallet","errors-invalid-email":"Invalid Email","errors-invalid-number":"Invalid Phone Number","errors-invalid-number-email":"Invalid Email or Phone Number","errors-required":"Required","external.all-wallets":"All Wallets","external.back":"Back","external.connect":"Continue with a wallet","external.connect-wallet":"Connect Wallet","external.continue":"Continue with external wallet","external.continue-custom":"Continue with {{wallet}}","external.dont-have":"Don't have","external.get":"Get","external.get-wallet":"Get Wallet","external.install-browser-extension":"Install {{browser}} extension","external.install-mobile-app":"Install {{os}} app","external.installed":"Installed","external.no-wallets-found":"No wallets found","external.search-subtext":"Try search instead","external.search-text":"Don't see your wallet?","external.search-wallet":"Search through {{count}} wallets...","external.select-chain":"Select Chain","external.select-chain-description":"This {{wallet}} wallet supports multiple chains. Select which chain you'd like to connect to","external.title":"External Wallet","external.walletconnect-connect":"Connect","external.walletconnect-copy":"Scan the QR code with WalletConnect supported wallet or click to copy link","external.walletconnect-subtitle":"Scan the QR code with a WalletConnect-compatible wallet","footer.and":"and","footer.by-signing-in":"By signing in, you agree to our","footer.message":"Self-custodial login by","footer.message-new":"Self-custody via","footer.policy":"Privacy Policy","footer.privacy-policy":"Privacy Policy","footer.terms":"Terms of Use","footer.terms-of-service":"Terms of Service","footer.terms-service":"Terms of Service","footer.version":"Version",getWallet:"Get Wallet","header-subtitle":"Select one of the following options to continue","header-subtitle-name":"Your {{appName}} wallet with one click","header-subtitle-new":"Your blockchain wallet with one click","header-title":"Sign in","header-tooltip-desc":"The wallet serves as an account to store and manage your digital assets on the blockchain.","header-tooltip-title":"Wallet","network.add-request":"This site is requesting to add a network","network.cancel":"Cancel","network.from":"From","network.proceed":"Proceed","network.switch-request":"This site is requesting to switch networks","network.to":"To","otp.email-subtext":"Please enter the 6-digit verification code","otp.email-subtext-example":"that was sent to your email {{email}}","otp.email-title":"Email verification","otp.mobile-subtext":"Enter the OTP sent to","otp.mobile-title":"OTP verification","otp.success":"You are connected to your account!","passkey.add":"Add Passkey","passkey.haveExisting":"Have an existing passkey?","passkey.learn-more":"Learn more","passkey.or":"or","passkey.register-desc":"With passkeys, you can verify your identity through your face, fingerprint, or security keys.","passkey.register-title":"Register Passkey","passkey.use":"I have a passkey","passwordless.title":"Continue with {{title}}","popup.phone-body":"Your country code will be detected automatically, but if you're using a phone number from a different country, you'll need to enter the correct country code manually.","popup.phone-header":"Phone number and country code","post-loading.connected":"You are connected with your account","post-loading.something-wrong":"Something went wrong!",resendCode:"Resend Code",resendTimer:" Resend in {{timer}} seconds","social.continue":"Continue with","social.continueCustom":"Continue with {{adapter}}","social.email":"Email","social.email-continue":"Continue with Email","social.email-new":"name@example.com","social.passwordless-cta":"Continue","social.passwordless-login":"Login","social.passwordless-title":"Email/Phone","social.phone":"Phone","social.policy":"We do not store any data related to your social logins.","social.sign-in":"Sign in","social.sms":"Mobile","social.sms-continue":"Continue with Mobile","social.sms-invalid-number":"Invalid phone number","social.sms-placeholder-text":"E.g.:","social.view-less":"View less","social.view-less-socials":"View less socials","social.view-more":"View more","social.view-more-socials":"View more socials"},Ej={"error-invalid-link":"Invalid verification link or link expired","error-invalid-origin":"Something went wrong, error code: E002","error-invalid-otp":"Invalid OTP, please try again","error-invalid-params":"Missing or Invalid Parameters.","error-max-retry-limit-reached":"You have reached the limit for wrong attempts. Please restart the flow again to complete verification.","error-new-link-generated-heading":"New verification link generated","error-no-mail-generated":"No mail generated. Please initiate the passwordless flow first.","error-no-sms-generated":"No OTP generated. Please initiate the passwordless flow first.","error-otp-expired":"OTP Expired","error-plan-limit-reached":"E411. Limit Reached","error-recaptcha-verification-failed":"Captcha verification failed. Please try again.","error-sending-sms-failed":"There was an error sending an sms. Please try again.","error-invalid-test-account":"Invalid test account","something-wrong-error":"Something went wrong"},xj={modal:bj,passwordless:Ej};const nae=Object.freeze(Object.defineProperty({__proto__:null,default:xj,modal:bj,passwordless:Ej},Symbol.toStringTag,{value:"Module"})),yn=Mi.createInstance();yn.use(Tse).init({resources:{en:{translation:xj}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1},debug:!1,react:{useSuspense:!0}});function ET({isShown:t,onClose:e,children:n,uiConfig:r}){const{borderRadiusType:i="large"}=r;return re.jsxs(re.Fragment,{children:[re.jsx("div",{className:vn("w3a--bottom-sheet-bg w3a--fixed w3a--left-0 w3a--top-0 w3a--size-full w3a--transition-opacity w3a--duration-300",{"w3a--rounded-[30px]":i==="large","w3a--rounded-2xl":i==="medium","w3a--rounded-none":i==="small"}),onClick:e,"aria-hidden":"true",role:"button"}),re.jsxs("div",{className:vn(`w3a--fixed w3a--bottom-2 w3a--left-2 w3a--mx-auto w3a--flex w3a--w-[96%] w3a--flex-col 
      w3a--gap-y-2 w3a--border w3a--border-app-gray-100 w3a--bg-app-white w3a--p-4 w3a--shadow-lg w3a--transition-transform w3a--duration-500 
      w3a--ease-out dark:w3a--border-app-gray-600 dark:w3a--bg-app-dark-surface-main
      ${t?"w3a--translate-y-0 w3a--delay-700":"w3a--translate-y-full"}`,{"w3a--rounded-[30px]":i==="large","w3a--rounded-2xl":i==="medium","w3a--rounded-none":i==="small"}),children:[re.jsx("div",{className:"w3a--absolute w3a--right-4 w3a--top-[16px] w3a--z-10 w3a--cursor-pointer",children:re.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:e,className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:re.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),n]})]})}const F4=be.createContext({analytics:void 0});function rae(t){const{isDark:e,isLoading:n,selectedChain:r,setSelectedChain:i,chainNamespace:o}=t,[s]=Hi(void 0,{i18n:yn}),a=be.useMemo(()=>{const c=[{id:"all",name:"modal.allChains",icon:""}];for(const l of o)(l===tn.EIP155||l===tn.SOLANA)&&c.push({id:l,name:l===tn.EIP155?"EVM":l,icon:l===tn.EIP155?"ethereum":l});return c},[o]);return n?re.jsx("div",{className:"w3a--flex w3a--items-center w3a--justify-between w3a--gap-x-2",children:Array.from({length:a.length}).map((c,l)=>re.jsx("div",{className:"w3a--h-12 w3a--w-[100px] w3a--animate-pulse w3a--rounded-2xl w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700"},`chain-loader-${l}`))}):re.jsx("div",{className:"w3a--flex w3a--items-center w3a--justify-items-start w3a--gap-x-4",children:a.map(c=>re.jsxs("button",{type:"button",className:vn("w3a--flex w3a--w-[104px] w3a--items-center w3a--justify-center w3a--gap-x-1 w3a--text-xs w3a--font-medium w3a--px-4 w3a--py-3 w3a--text-app-gray-500 dark:w3a--text-app-gray-300 hover:w3a--bg-app-gray-200 dark:hover:w3a--bg-app-gray-700 w3a--h-12 w3a--rounded-2xl w3a--border w3a--border-transparent",{"w3a--bg-app-gray-100 dark:w3a--bg-app-gray-800 w3a--border-app-gray-200 dark:w3a--border-app-gray-700 w3a--text-app-gray-900 dark:w3a--text-app-white hover:!w3a--bg-app-gray-100 dark:hover:!w3a--bg-app-gray-800":r===c.id}),onClick:()=>i(c.id),children:[c.icon&&re.jsx("img",{src:go(e?`${c.icon}-dark`:`${c.icon}-light`),alt:c.name,className:"w3a--size-5 w3a--object-contain"}),re.jsx("span",{className:"first-letter:w3a--capitalize",children:s(c.name)})]},c.id))})}function _j(t){const{onBackClick:e,currentPage:n,selectedButton:r}=t,[i]=Hi(void 0,{i18n:yn}),o=()=>{e&&e()};return re.jsxs("div",{className:"w3a--flex w3a--items-center w3a--justify-between",children:[re.jsx("button",{type:"button",className:"w3a--z-20 w3a--flex w3a--size-5 w3a--cursor-pointer w3a--items-center w3a--justify-center w3a--rounded-full",onClick:o,children:re.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:re.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.707 16.707a1 1 0 0 1-1.414 0l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 1.414L5.414 9H17a1 1 0 1 1 0 2H5.414l4.293 4.293a1 1 0 0 1 0 1.414",clipRule:"evenodd"})})}),re.jsx("p",{className:"w3a--text-base w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:n===Rl.SELECTED_WALLET?r==null?void 0:r.displayName:n===Rl.CONNECT_WALLET?i("modal.connectYourWallet"):n}),re.jsx("div",{className:"w3a--z-[-1] w3a--size-5"})]})}const Jf={SOCIAL:"social",WALLET:"wallet"};function ds(t){const{id:e="",isButton:n=!1,imageData:r="",height:i="auto",width:o="auto",extension:s="svg",darkImageId:a="",darkHoverImageId:c="",imageId:l,hoverImageId:u,fallbackImageId:f}=t,{isDark:p}=be.useContext(p1),m=be.useMemo(()=>p&&a?a:l,[p,a,l]),w=be.useMemo(()=>p&&c?c:u,[p,c,u]);return n?r?re.jsx("img",{id:e,src:r,height:i,width:o,alt:u,className:vn("w3a--object-contain",`w3a--h-${i} w3a--w-${o}`)}):re.jsx("img",{id:e,src:`https://images.web3auth.io/${w}.${s}`,height:i,width:o,alt:u,className:vn("w3a--rounded w3a--object-contain",`w3a--h-${i} w3a--w-${o}`)}):r?re.jsx("img",{id:e,src:r,height:i,width:o,alt:l,className:vn("w3a--object-contain",`w3a--h-${i} w3a--w-${o}`),onError:({currentTarget:y})=>{if(f){const I=y;I.onerror=null,I.src=`https://images.web3auth.io/${f}.svg`}}}):re.jsx("img",{id:e,src:`https://images.web3auth.io/${m}.${s}`,height:i,width:o,alt:l,className:vn("w3a--rounded w3a--object-contain",`w3a--h-${i} w3a--w-${o}`),onError:({currentTarget:y})=>{if(f){const I=y;I.onerror=null,I.src=`https://images.web3auth.io/${f}.svg`}}})}function iae(t,e,n){const r=t===ut.TWITTER?`login-X${e?"-light":"-dark"}`:`login-${t}${e?"-light":"-dark"}`,i=t===ut.APPLE||t===ut.GITHUB||t===ut.TWITTER?r:`login-${t}-active`;return n?re.jsx(ds,{width:"20",imageId:i,hoverImageId:i,isButton:!0}):re.jsx(ds,{width:"20",imageId:r,hoverImageId:i})}function oae(t){const{text:e,showIcon:n,showText:r,method:i,isDark:o,isPrimaryBtn:s,onClick:a,children:c,btnStyle:l,buttonRadius:u="pill"}=t;return re.jsxs("button",{type:"button",onClick:f=>a&&a(f),className:vn("w3a--btn",l,{"w3a--rounded-full":u==="pill","w3a--rounded-lg":u==="rounded","w3a--rounded-none":u==="square"}),children:[n&&iae(i,o,s),r&&re.jsx("p",{className:"w3a--text-sm w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:e}),c]})}var Ux={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var xT;function sae(){return xT||(xT=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(Ux)),Ux.exports}var aae=sae();const cae=si(aae);function lae(t){const[e]=Hi(void 0,{i18n:yn}),{deviceDetails:n,button:r,walletConnectUri:i,onClick:o,label:s,buttonRadius:a}=t,c=be.useContext(p1),l=be.useMemo(()=>n.platform!=="desktop"&&r.href&&r.hasWalletConnect&&!r.isInstalled,[n,r]),u=be.useMemo(()=>r.href?vse({uri:i,link:r.href}):i,[r,i]),f=()=>{u&&l?window.open(u,"_blank"):o&&o()};return re.jsxs("button",{type:"button",className:cae(`w3a--group w3a--relative w3a--overflow-hidden w3a--flex w3a--w-full w3a--items-center w3a--justify-between w3a--bg-app-gray-50 w3a--p-3 hover:w3a--bg-app-gray-200 
        hover:w3a--text-app-gray-900 dark:w3a--bg-app-gray-800 dark:hover:w3a--bg-app-gray-600 active:w3a--scale-95 w3a--transition-all w3a--duration-150`,{"w3a--rounded-full":a==="pill","w3a--rounded-lg":a==="rounded","w3a--rounded-none":a==="square"}),onClick:f,children:[re.jsxs("div",{className:"w3a--flex w3a--items-center w3a--gap-x-2",children:[re.jsx("figure",{className:"w3a--size-5",children:re.jsx(ds,{imageData:r.icon,imageId:`login-${r.name}`,hoverImageId:`login-${r.name}`,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:r.imgExtension||"webp"})}),re.jsx("p",{className:"w3a--max-w-[180px] w3a--truncate w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:s})]}),r.hasInjectedWallet&&re.jsx("span",{className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--flex w3a--w-auto -w3a--translate-y-1/2 w3a--items-center w3a--rounded-md w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:e("modal.external.installed")}),re.jsx("img",{id:"injected-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:go(c?"chevron-right-light":"chevron-right-dark"),alt:"arrow"})]})}function hy(t){const{type:e,props:n}=t,r=n,i=n,{text:o,showIcon:s,showText:a,method:c,isDark:l,isPrimaryBtn:u,onClick:f,children:p,btnStyle:m,buttonRadius:w}=r,{label:y,onClick:I,button:S,deviceDetails:T,walletConnectUri:N,buttonRadius:z}=i;return re.jsxs(re.Fragment,{children:[e===Jf.SOCIAL&&re.jsx(oae,{text:o,showIcon:s,showText:a,method:c,isDark:l,isPrimaryBtn:u,onClick:f,btnStyle:m,buttonRadius:w,children:p}),e===Jf.WALLET&&re.jsx(lae,{label:y,walletConnectUri:N,onClick:I,button:S,deviceDetails:T,buttonRadius:z})]})}function uae(){const[t]=Hi(void 0,{i18n:yn});return re.jsx("div",{className:"w3a--flex w3a--w-full w3a--items-center w3a--justify-center w3a--py-6 w3a--text-center w3a--text-app-gray-400 dark:w3a--text-app-gray-500",children:t("modal.external.no-wallets-found")})}function dae(t){const{externalButtons:e,isLoading:n,handleWalletClick:r,deviceDetails:i,walletConnectUri:o,buttonRadius:s}=t;return n?re.jsx("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:Array.from({length:6}).map((a,c)=>re.jsx("div",{className:vn("w3a--h-12 w3a--w-full w3a--animate-pulse w3a--rounded-2xl w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700",{"w3a--rounded-full":s==="pill","w3a--rounded-lg":s==="rounded","w3a--rounded-none":s==="square"})},`loader-${c}`))}):re.jsx("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2 w3a--pr-1.5",children:e.map(a=>re.jsx(hy,{type:Jf.WALLET,props:{label:a.displayName,onClick:()=>r(a),button:a,deviceDetails:i,walletConnectUri:o,buttonRadius:s}},a.name))})}function fae(t){const{totalExternalWalletsCount:e,initialWalletCount:n,handleMoreWallets:r,isLoading:i,isDark:o,buttonRadius:s}=t,[a]=Hi(void 0,{i18n:yn}),c=()=>{r&&r()};return i&&n<e?re.jsx("div",{className:vn("w3a--h-12 w3a--w-full w3a--animate-pulse w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700",{"w3a--rounded-full":s==="pill","w3a--rounded-lg":s==="rounded","w3a--rounded-none":s==="square"})}):re.jsxs("button",{type:"button",className:vn("w3a--flex w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--bg-app-gray-50 w3a--p-3 hover:w3a--bg-app-gray-200 dark:w3a--bg-app-gray-800 dark:hover:w3a--bg-app-gray-600 active:w3a--scale-95 w3a--transition-all w3a--duration-150 w3a--mr-2.5",{"w3a--rounded-full":s==="pill","w3a--rounded-lg":s==="rounded","w3a--rounded-none":s==="square"}),onClick:c,children:[re.jsx("img",{src:go(o?"view-dark":"view-light"),alt:"view",height:"24",width:"24"}),re.jsx("p",{className:"w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:a("modal.connect-wallet.more-wallets")}),re.jsx("span",{className:"w3a--inline-flex w3a--items-center w3a--rounded-full w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:e-n})]})}function hae(t){const{externalButtons:e,isLoading:n,totalExternalWalletsCount:r,initialWalletCount:i,handleWalletClick:o,handleMoreWallets:s,isDark:a,deviceDetails:c,walletConnectUri:l,buttonRadius:u}=t,[f,p]=be.useState(!0),m=()=>{p(!1),s()};return re.jsxs(re.Fragment,{children:[re.jsx("ul",{className:vn("w3a--overflow-y-auto w3a--flex w3a--flex-col w3a--gap-y-2 w3a--h-[280px] w3a--social-container w3a--pr-2.5",{"w3a--h-[328px]":!f}),children:e.length===0?re.jsx(uae,{}):re.jsx(dae,{externalButtons:e,isLoading:n,handleWalletClick:o,deviceDetails:c,walletConnectUri:l,buttonRadius:u})}),f&&r>15&&!n&&i<r&&re.jsx(fae,{totalExternalWalletsCount:r,initialWalletCount:i,handleMoreWallets:m,isLoading:n,isDark:a,buttonRadius:u})]})}var Ja={},jp={exports:{}};jp.exports;var _T;function pae(){return _T||(_T=1,function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",u="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Function]",w="[object GeneratorFunction]",y="[object Map]",I="[object Number]",S="[object Null]",T="[object Object]",N="[object Promise]",z="[object Proxy]",$="[object RegExp]",H="[object Set]",K="[object String]",j="[object Symbol]",B="[object Undefined]",D="[object WeakMap]",P="[object ArrayBuffer]",E="[object DataView]",b="[object Float32Array]",g="[object Float64Array]",v="[object Int8Array]",A="[object Int16Array]",L="[object Int32Array]",C="[object Uint8Array]",O="[object Uint8ClampedArray]",x="[object Uint16Array]",R="[object Uint32Array]",_=/[\\^$.*+?()[\]{}|]/g,k=/^\[object .+?Constructor\]$/,U=/^(?:0|[1-9]\d*)$/,q={};q[b]=q[g]=q[v]=q[A]=q[L]=q[C]=q[O]=q[x]=q[R]=!0,q[a]=q[c]=q[P]=q[u]=q[E]=q[f]=q[p]=q[m]=q[y]=q[I]=q[T]=q[$]=q[H]=q[K]=q[D]=!1;var V=typeof window=="object"&&window&&window.Object===Object&&window,Q=typeof self=="object"&&self&&self.Object===Object&&self,Y=V||Q||Function("return this")(),X=e&&!e.nodeType&&e,ee=X&&!0&&t&&!t.nodeType&&t,ie=ee&&ee.exports===X,oe=ie&&V.process,te=function(){try{return oe&&oe.binding&&oe.binding("util")}catch{}}(),se=te&&te.isTypedArray;function ue(he,Me){for(var Ye=-1,wt=he==null?0:he.length,Nn=0,Zt=[];++Ye<wt;){var zn=he[Ye];Me(zn,Ye,he)&&(Zt[Nn++]=zn)}return Zt}function me(he,Me){for(var Ye=-1,wt=Me.length,Nn=he.length;++Ye<wt;)he[Nn+Ye]=Me[Ye];return he}function ye(he,Me){for(var Ye=-1,wt=he==null?0:he.length;++Ye<wt;)if(Me(he[Ye],Ye,he))return!0;return!1}function pe(he,Me){for(var Ye=-1,wt=Array(he);++Ye<he;)wt[Ye]=Me(Ye);return wt}function de(he){return function(Me){return he(Me)}}function Ee(he,Me){return he.has(Me)}function Ce(he,Me){return he==null?void 0:he[Me]}function we(he){var Me=-1,Ye=Array(he.size);return he.forEach(function(wt,Nn){Ye[++Me]=[Nn,wt]}),Ye}function $e(he,Me){return function(Ye){return he(Me(Ye))}}function ze(he){var Me=-1,Ye=Array(he.size);return he.forEach(function(wt){Ye[++Me]=wt}),Ye}var Ze=Array.prototype,We=Function.prototype,ne=Object.prototype,G=Y["__core-js_shared__"],Z=We.toString,ce=ne.hasOwnProperty,ge=function(){var he=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||"");return he?"Symbol(src)_1."+he:""}(),Ae=ne.toString,Re=RegExp("^"+Z.call(ce).replace(_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lt=ie?Y.Buffer:void 0,Ct=Y.Symbol,ot=Y.Uint8Array,Ot=ne.propertyIsEnumerable,vt=Ze.splice,xt=Ct?Ct.toStringTag:void 0,hn=Object.getOwnPropertySymbols,rn=lt?lt.isBuffer:void 0,Ve=$e(Object.keys,Object),jt=Na(Y,"DataView"),Nt=Na(Y,"Map"),gt=Na(Y,"Promise"),Mt=Na(Y,"Set"),le=Na(Y,"WeakMap"),fe=Na(Object,"create"),He=ci(jt),Ue=ci(Nt),Ge=ci(gt),Pt=ci(Mt),Jt=ci(le),Lt=Ct?Ct.prototype:void 0,Qt=Lt?Lt.valueOf:void 0;function sn(he){var Me=-1,Ye=he==null?0:he.length;for(this.clear();++Me<Ye;){var wt=he[Me];this.set(wt[0],wt[1])}}function Kt(){this.__data__=fe?fe(null):{},this.size=0}function kn(he){var Me=this.has(he)&&delete this.__data__[he];return this.size-=Me?1:0,Me}function Mn(he){var Me=this.__data__;if(fe){var Ye=Me[he];return Ye===r?void 0:Ye}return ce.call(Me,he)?Me[he]:void 0}function Wt(he){var Me=this.__data__;return fe?Me[he]!==void 0:ce.call(Me,he)}function pn(he,Me){var Ye=this.__data__;return this.size+=this.has(he)?0:1,Ye[he]=fe&&Me===void 0?r:Me,this}sn.prototype.clear=Kt,sn.prototype.delete=kn,sn.prototype.get=Mn,sn.prototype.has=Wt,sn.prototype.set=pn;function on(he){var Me=-1,Ye=he==null?0:he.length;for(this.clear();++Me<Ye;){var wt=he[Me];this.set(wt[0],wt[1])}}function wn(){this.__data__=[],this.size=0}function kr(he){var Me=this.__data__,Ye=Nd(Me,he);if(Ye<0)return!1;var wt=Me.length-1;return Ye==wt?Me.pop():vt.call(Me,Ye,1),--this.size,!0}function sr(he){var Me=this.__data__,Ye=Nd(Me,he);return Ye<0?void 0:Me[Ye][1]}function Do(he){return Nd(this.__data__,he)>-1}function jo(he,Me){var Ye=this.__data__,wt=Nd(Ye,he);return wt<0?(++this.size,Ye.push([he,Me])):Ye[wt][1]=Me,this}on.prototype.clear=wn,on.prototype.delete=kr,on.prototype.get=sr,on.prototype.has=Do,on.prototype.set=jo;function Pr(he){var Me=-1,Ye=he==null?0:he.length;for(this.clear();++Me<Ye;){var wt=he[Me];this.set(wt[0],wt[1])}}function hs(){this.size=0,this.__data__={hash:new sn,map:new(Nt||on),string:new sn}}function ps(he){var Me=En(this,he).delete(he);return this.size-=Me?1:0,Me}function An(he){return En(this,he).get(he)}function gs(he){return En(this,he).has(he)}function yo(he,Me){var Ye=En(this,he),wt=Ye.size;return Ye.set(he,Me),this.size+=Ye.size==wt?0:1,this}Pr.prototype.clear=hs,Pr.prototype.delete=ps,Pr.prototype.get=An,Pr.prototype.has=gs,Pr.prototype.set=yo;function Ri(he){var Me=-1,Ye=he==null?0:he.length;for(this.__data__=new Pr;++Me<Ye;)this.add(he[Me])}function Ki(he){return this.__data__.set(he,r),this}function ms(he){return this.__data__.has(he)}Ri.prototype.add=Ri.prototype.push=Ki,Ri.prototype.has=ms;function Mr(he){var Me=this.__data__=new on(he);this.size=Me.size}function Wi(){this.__data__=new on,this.size=0}function Sr(he){var Me=this.__data__,Ye=Me.delete(he);return this.size=Me.size,Ye}function vs(he){return this.__data__.get(he)}function Vr(he){return this.__data__.has(he)}function iu(he,Me){var Ye=this.__data__;if(Ye instanceof on){var wt=Ye.__data__;if(!Nt||wt.length<n-1)return wt.push([he,Me]),this.size=++Ye.size,this;Ye=this.__data__=new Pr(wt)}return Ye.set(he,Me),this.size=Ye.size,this}Mr.prototype.clear=Wi,Mr.prototype.delete=Sr,Mr.prototype.get=vs,Mr.prototype.has=Vr,Mr.prototype.set=iu;function b1(he,Me){var Ye=Vs(he),wt=!Ye&&au(he),Nn=!Ye&&!wt&&Ph(he),Zt=!Ye&&!wt&&!Nn&&Bh(he),zn=Ye||wt||Nn||Zt,gr=zn?pe(he.length,String):[],qn=gr.length;for(var Fn in he)ce.call(he,Fn)&&!(zn&&(Fn=="length"||Nn&&(Fn=="offset"||Fn=="parent")||Zt&&(Fn=="buffer"||Fn=="byteLength"||Fn=="byteOffset")||Sg(Fn,qn)))&&gr.push(Fn);return gr}function Nd(he,Me){for(var Ye=he.length;Ye--;)if(ws(he[Ye][0],Me))return Ye;return-1}function Pd(he,Me,Ye){var wt=Me(he);return Vs(he)?wt:me(wt,Ye(he))}function Ks(he){return he==null?he===void 0?B:S:xt&&xt in Object(he)?_g(he):Ws(he)}function Nc(he){return Ys(he)&&Ks(he)==a}function ou(he,Me,Ye,wt,Nn){return he===Me?!0:he==null||Me==null||!Ys(he)&&!Ys(Me)?he!==he&&Me!==Me:E1(he,Me,Ye,wt,ou,Nn)}function E1(he,Me,Ye,wt,Nn,Zt){var zn=Vs(he),gr=Vs(Me),qn=zn?c:ys(he),Fn=gr?c:ys(Me);qn=qn==a?T:qn,Fn=Fn==a?T:Fn;var Lr=qn==T,Vi=Fn==T,mr=qn==Fn;if(mr&&Ph(he)){if(!Ph(Me))return!1;zn=!0,Lr=!1}if(mr&&!Lr)return Zt||(Zt=new Mr),zn||Bh(he)?Ld(he,Me,Ye,wt,Nn,Zt):su(he,Me,qn,Ye,wt,Nn,Zt);if(!(Ye&i)){var Gr=Lr&&ce.call(he,"__wrapped__"),Oi=Vi&&ce.call(Me,"__wrapped__");if(Gr||Oi){var ar=Gr?he.value():he,li=Oi?Me.value():Me;return Zt||(Zt=new Mr),Nn(ar,li,Ye,wt,Zt)}}return mr?(Zt||(Zt=new Mr),_1(he,Me,Ye,wt,Nn,Zt)):!1}function x1(he){if(!Lh(he)||Nh(he))return!1;var Me=Pc(he)?Re:k;return Me.test(ci(he))}function Oh(he){return Ys(he)&&Ig(he.length)&&!!q[Ks(he)]}function xg(he){if(!Dd(he))return Ve(he);var Me=[];for(var Ye in Object(he))ce.call(he,Ye)&&Ye!="constructor"&&Me.push(Ye);return Me}function Ld(he,Me,Ye,wt,Nn,Zt){var zn=Ye&i,gr=he.length,qn=Me.length;if(gr!=qn&&!(zn&&qn>gr))return!1;var Fn=Zt.get(he);if(Fn&&Zt.get(Me))return Fn==Me;var Lr=-1,Vi=!0,mr=Ye&o?new Ri:void 0;for(Zt.set(he,Me),Zt.set(Me,he);++Lr<gr;){var Gr=he[Lr],Oi=Me[Lr];if(wt)var ar=zn?wt(Oi,Gr,Lr,Me,he,Zt):wt(Gr,Oi,Lr,he,Me,Zt);if(ar!==void 0){if(ar)continue;Vi=!1;break}if(mr){if(!ye(Me,function(li,bs){if(!Ee(mr,bs)&&(Gr===li||Nn(Gr,li,Ye,wt,Zt)))return mr.push(bs)})){Vi=!1;break}}else if(!(Gr===Oi||Nn(Gr,Oi,Ye,wt,Zt))){Vi=!1;break}}return Zt.delete(he),Zt.delete(Me),Vi}function su(he,Me,Ye,wt,Nn,Zt,zn){switch(Ye){case E:if(he.byteLength!=Me.byteLength||he.byteOffset!=Me.byteOffset)return!1;he=he.buffer,Me=Me.buffer;case P:return!(he.byteLength!=Me.byteLength||!Zt(new ot(he),new ot(Me)));case u:case f:case I:return ws(+he,+Me);case p:return he.name==Me.name&&he.message==Me.message;case $:case K:return he==Me+"";case y:var gr=we;case H:var qn=wt&i;if(gr||(gr=ze),he.size!=Me.size&&!qn)return!1;var Fn=zn.get(he);if(Fn)return Fn==Me;wt|=o,zn.set(he,Me);var Lr=Ld(gr(he),gr(Me),wt,Nn,Zt,zn);return zn.delete(he),Lr;case j:if(Qt)return Qt.call(he)==Qt.call(Me)}return!1}function _1(he,Me,Ye,wt,Nn,Zt){var zn=Ye&i,gr=Bd(he),qn=gr.length,Fn=Bd(Me),Lr=Fn.length;if(qn!=Lr&&!zn)return!1;for(var Vi=qn;Vi--;){var mr=gr[Vi];if(!(zn?mr in Me:ce.call(Me,mr)))return!1}var Gr=Zt.get(he);if(Gr&&Zt.get(Me))return Gr==Me;var Oi=!0;Zt.set(he,Me),Zt.set(Me,he);for(var ar=zn;++Vi<qn;){mr=gr[Vi];var li=he[mr],bs=Me[mr];if(wt)var Lc=zn?wt(bs,li,mr,Me,he,Zt):wt(li,bs,mr,he,Me,Zt);if(!(Lc===void 0?li===bs||Nn(li,bs,Ye,wt,Zt):Lc)){Oi=!1;break}ar||(ar=mr=="constructor")}if(Oi&&!ar){var jd=he.constructor,Bc=Me.constructor;jd!=Bc&&"constructor"in he&&"constructor"in Me&&!(typeof jd=="function"&&jd instanceof jd&&typeof Bc=="function"&&Bc instanceof Bc)&&(Oi=!1)}return Zt.delete(he),Zt.delete(Me),Oi}function Bd(he){return Pd(he,S1,Th)}function En(he,Me){var Ye=he.__data__;return Cg(Me)?Ye[typeof Me=="string"?"string":"hash"]:Ye.map}function Na(he,Me){var Ye=Ce(he,Me);return x1(Ye)?Ye:void 0}function _g(he){var Me=ce.call(he,xt),Ye=he[xt];try{he[xt]=void 0;var wt=!0}catch{}var Nn=Ae.call(he);return wt&&(Me?he[xt]=Ye:delete he[xt]),Nn}var Th=hn?function(he){return he==null?[]:(he=Object(he),ue(hn(he),function(Me){return Ot.call(he,Me)}))}:cu,ys=Ks;(jt&&ys(new jt(new ArrayBuffer(1)))!=E||Nt&&ys(new Nt)!=y||gt&&ys(gt.resolve())!=N||Mt&&ys(new Mt)!=H||le&&ys(new le)!=D)&&(ys=function(he){var Me=Ks(he),Ye=Me==T?he.constructor:void 0,wt=Ye?ci(Ye):"";if(wt)switch(wt){case He:return E;case Ue:return y;case Ge:return N;case Pt:return H;case Jt:return D}return Me});function Sg(he,Me){return Me=Me??s,!!Me&&(typeof he=="number"||U.test(he))&&he>-1&&he%1==0&&he<Me}function Cg(he){var Me=typeof he;return Me=="string"||Me=="number"||Me=="symbol"||Me=="boolean"?he!=="__proto__":he===null}function Nh(he){return!!ge&&ge in he}function Dd(he){var Me=he&&he.constructor,Ye=typeof Me=="function"&&Me.prototype||ne;return he===Ye}function Ws(he){return Ae.call(he)}function ci(he){if(he!=null){try{return Z.call(he)}catch{}try{return he+""}catch{}}return""}function ws(he,Me){return he===Me||he!==he&&Me!==Me}var au=Nc(function(){return arguments}())?Nc:function(he){return Ys(he)&&ce.call(he,"callee")&&!Ot.call(he,"callee")},Vs=Array.isArray;function Gs(he){return he!=null&&Ig(he.length)&&!Pc(he)}var Ph=rn||lu;function Ag(he,Me){return ou(he,Me)}function Pc(he){if(!Lh(he))return!1;var Me=Ks(he);return Me==m||Me==w||Me==l||Me==z}function Ig(he){return typeof he=="number"&&he>-1&&he%1==0&&he<=s}function Lh(he){var Me=typeof he;return he!=null&&(Me=="object"||Me=="function")}function Ys(he){return he!=null&&typeof he=="object"}var Bh=se?de(se):Oh;function S1(he){return Gs(he)?b1(he):xg(he)}function cu(){return[]}function lu(){return!1}t.exports=Ag}(jp,jp.exports)),jp.exports}var zx={exports:{}},ST;function gae(){return ST||(ST=1,function(t,e){var n=function(){var r=function($,H){var K=236,j=17,B=$,D=o[H],P=null,E=0,b=null,g=[],v={},A=function(Y,X){E=B*4+17,P=function(ee){for(var ie=new Array(ee),oe=0;oe<ee;oe+=1){ie[oe]=new Array(ee);for(var te=0;te<ee;te+=1)ie[oe][te]=null}return ie}(E),L(0,0),L(E-7,0),L(0,E-7),x(),O(),_(Y,X),B>=7&&R(Y),b==null&&(b=q(B,D,g)),k(b,X)},L=function(Y,X){for(var ee=-1;ee<=7;ee+=1)if(!(Y+ee<=-1||E<=Y+ee))for(var ie=-1;ie<=7;ie+=1)X+ie<=-1||E<=X+ie||(0<=ee&&ee<=6&&(ie==0||ie==6)||0<=ie&&ie<=6&&(ee==0||ee==6)||2<=ee&&ee<=4&&2<=ie&&ie<=4?P[Y+ee][X+ie]=!0:P[Y+ee][X+ie]=!1)},C=function(){for(var Y=0,X=0,ee=0;ee<8;ee+=1){A(!0,ee);var ie=a.getLostPoint(v);(ee==0||Y>ie)&&(Y=ie,X=ee)}return X},O=function(){for(var Y=8;Y<E-8;Y+=1)P[Y][6]==null&&(P[Y][6]=Y%2==0);for(var X=8;X<E-8;X+=1)P[6][X]==null&&(P[6][X]=X%2==0)},x=function(){for(var Y=a.getPatternPosition(B),X=0;X<Y.length;X+=1)for(var ee=0;ee<Y.length;ee+=1){var ie=Y[X],oe=Y[ee];if(P[ie][oe]==null)for(var te=-2;te<=2;te+=1)for(var se=-2;se<=2;se+=1)te==-2||te==2||se==-2||se==2||te==0&&se==0?P[ie+te][oe+se]=!0:P[ie+te][oe+se]=!1}},R=function(Y){for(var X=a.getBCHTypeNumber(B),ee=0;ee<18;ee+=1){var ie=!Y&&(X>>ee&1)==1;P[Math.floor(ee/3)][ee%3+E-8-3]=ie}for(var ee=0;ee<18;ee+=1){var ie=!Y&&(X>>ee&1)==1;P[ee%3+E-8-3][Math.floor(ee/3)]=ie}},_=function(Y,X){for(var ee=D<<3|X,ie=a.getBCHTypeInfo(ee),oe=0;oe<15;oe+=1){var te=!Y&&(ie>>oe&1)==1;oe<6?P[oe][8]=te:oe<8?P[oe+1][8]=te:P[E-15+oe][8]=te}for(var oe=0;oe<15;oe+=1){var te=!Y&&(ie>>oe&1)==1;oe<8?P[8][E-oe-1]=te:oe<9?P[8][15-oe-1+1]=te:P[8][15-oe-1]=te}P[E-8][8]=!Y},k=function(Y,X){for(var ee=-1,ie=E-1,oe=7,te=0,se=a.getMaskFunction(X),ue=E-1;ue>0;ue-=2)for(ue==6&&(ue-=1);;){for(var me=0;me<2;me+=1)if(P[ie][ue-me]==null){var ye=!1;te<Y.length&&(ye=(Y[te]>>>oe&1)==1);var pe=se(ie,ue-me);pe&&(ye=!ye),P[ie][ue-me]=ye,oe-=1,oe==-1&&(te+=1,oe=7)}if(ie+=ee,ie<0||E<=ie){ie-=ee,ee=-ee;break}}},U=function(Y,X){for(var ee=0,ie=0,oe=0,te=new Array(X.length),se=new Array(X.length),ue=0;ue<X.length;ue+=1){var me=X[ue].dataCount,ye=X[ue].totalCount-me;ie=Math.max(ie,me),oe=Math.max(oe,ye),te[ue]=new Array(me);for(var pe=0;pe<te[ue].length;pe+=1)te[ue][pe]=255&Y.getBuffer()[pe+ee];ee+=me;var de=a.getErrorCorrectPolynomial(ye),Ee=l(te[ue],de.getLength()-1),Ce=Ee.mod(de);se[ue]=new Array(de.getLength()-1);for(var pe=0;pe<se[ue].length;pe+=1){var we=pe+Ce.getLength()-se[ue].length;se[ue][pe]=we>=0?Ce.getAt(we):0}}for(var $e=0,pe=0;pe<X.length;pe+=1)$e+=X[pe].totalCount;for(var ze=new Array($e),Ze=0,pe=0;pe<ie;pe+=1)for(var ue=0;ue<X.length;ue+=1)pe<te[ue].length&&(ze[Ze]=te[ue][pe],Ze+=1);for(var pe=0;pe<oe;pe+=1)for(var ue=0;ue<X.length;ue+=1)pe<se[ue].length&&(ze[Ze]=se[ue][pe],Ze+=1);return ze},q=function(Y,X,ee){for(var ie=u.getRSBlocks(Y,X),oe=f(),te=0;te<ee.length;te+=1){var se=ee[te];oe.put(se.getMode(),4),oe.put(se.getLength(),a.getLengthInBits(se.getMode(),Y)),se.write(oe)}for(var ue=0,te=0;te<ie.length;te+=1)ue+=ie[te].dataCount;if(oe.getLengthInBits()>ue*8)throw"code length overflow. ("+oe.getLengthInBits()+">"+ue*8+")";for(oe.getLengthInBits()+4<=ue*8&&oe.put(0,4);oe.getLengthInBits()%8!=0;)oe.putBit(!1);for(;!(oe.getLengthInBits()>=ue*8||(oe.put(K,8),oe.getLengthInBits()>=ue*8));)oe.put(j,8);return U(oe,ie)};v.addData=function(Y,X){X=X||"Byte";var ee=null;switch(X){case"Numeric":ee=p(Y);break;case"Alphanumeric":ee=m(Y);break;case"Byte":ee=w(Y);break;case"Kanji":ee=y(Y);break;default:throw"mode:"+X}g.push(ee),b=null},v.isDark=function(Y,X){if(Y<0||E<=Y||X<0||E<=X)throw Y+","+X;return P[Y][X]},v.getModuleCount=function(){return E},v.make=function(){if(B<1){for(var Y=1;Y<40;Y++){for(var X=u.getRSBlocks(Y,D),ee=f(),ie=0;ie<g.length;ie++){var oe=g[ie];ee.put(oe.getMode(),4),ee.put(oe.getLength(),a.getLengthInBits(oe.getMode(),Y)),oe.write(ee)}for(var te=0,ie=0;ie<X.length;ie++)te+=X[ie].dataCount;if(ee.getLengthInBits()<=te*8)break}B=Y}A(!1,C())},v.createTableTag=function(Y,X){Y=Y||2,X=typeof X>"u"?Y*4:X;var ee="";ee+='<table style="',ee+=" border-width: 0px; border-style: none;",ee+=" border-collapse: collapse;",ee+=" padding: 0px; margin: "+X+"px;",ee+='">',ee+="<tbody>";for(var ie=0;ie<v.getModuleCount();ie+=1){ee+="<tr>";for(var oe=0;oe<v.getModuleCount();oe+=1)ee+='<td style="',ee+=" border-width: 0px; border-style: none;",ee+=" border-collapse: collapse;",ee+=" padding: 0px; margin: 0px;",ee+=" width: "+Y+"px;",ee+=" height: "+Y+"px;",ee+=" background-color: ",ee+=v.isDark(ie,oe)?"#000000":"#ffffff",ee+=";",ee+='"/>';ee+="</tr>"}return ee+="</tbody>",ee+="</table>",ee},v.createSvgTag=function(Y,X,ee,ie){var oe={};typeof arguments[0]=="object"&&(oe=arguments[0],Y=oe.cellSize,X=oe.margin,ee=oe.alt,ie=oe.title),Y=Y||2,X=typeof X>"u"?Y*4:X,ee=typeof ee=="string"?{text:ee}:ee||{},ee.text=ee.text||null,ee.id=ee.text?ee.id||"qrcode-description":null,ie=typeof ie=="string"?{text:ie}:ie||{},ie.text=ie.text||null,ie.id=ie.text?ie.id||"qrcode-title":null;var te=v.getModuleCount()*Y+X*2,se,ue,me,ye,pe="",de;for(de="l"+Y+",0 0,"+Y+" -"+Y+",0 0,-"+Y+"z ",pe+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',pe+=oe.scalable?"":' width="'+te+'px" height="'+te+'px"',pe+=' viewBox="0 0 '+te+" "+te+'" ',pe+=' preserveAspectRatio="xMinYMin meet"',pe+=ie.text||ee.text?' role="img" aria-labelledby="'+V([ie.id,ee.id].join(" ").trim())+'"':"",pe+=">",pe+=ie.text?'<title id="'+V(ie.id)+'">'+V(ie.text)+"</title>":"",pe+=ee.text?'<description id="'+V(ee.id)+'">'+V(ee.text)+"</description>":"",pe+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',pe+='<path d="',me=0;me<v.getModuleCount();me+=1)for(ye=me*Y+X,se=0;se<v.getModuleCount();se+=1)v.isDark(me,se)&&(ue=se*Y+X,pe+="M"+ue+","+ye+de);return pe+='" stroke="transparent" fill="black"/>',pe+="</svg>",pe},v.createDataURL=function(Y,X){Y=Y||2,X=typeof X>"u"?Y*4:X;var ee=v.getModuleCount()*Y+X*2,ie=X,oe=ee-X;return z(ee,ee,function(te,se){if(ie<=te&&te<oe&&ie<=se&&se<oe){var ue=Math.floor((te-ie)/Y),me=Math.floor((se-ie)/Y);return v.isDark(me,ue)?0:1}else return 1})},v.createImgTag=function(Y,X,ee){Y=Y||2,X=typeof X>"u"?Y*4:X;var ie=v.getModuleCount()*Y+X*2,oe="";return oe+="<img",oe+=' src="',oe+=v.createDataURL(Y,X),oe+='"',oe+=' width="',oe+=ie,oe+='"',oe+=' height="',oe+=ie,oe+='"',ee&&(oe+=' alt="',oe+=V(ee),oe+='"'),oe+="/>",oe};var V=function(Y){for(var X="",ee=0;ee<Y.length;ee+=1){var ie=Y.charAt(ee);switch(ie){case"<":X+="&lt;";break;case">":X+="&gt;";break;case"&":X+="&amp;";break;case'"':X+="&quot;";break;default:X+=ie;break}}return X},Q=function(Y){var X=1;Y=typeof Y>"u"?X*2:Y;var ee=v.getModuleCount()*X+Y*2,ie=Y,oe=ee-Y,te,se,ue,me,ye,pe={"":""," ":""," ":"","  ":" "},de={"":""," ":""," ":" ","  ":" "},Ee="";for(te=0;te<ee;te+=2){for(ue=Math.floor((te-ie)/X),me=Math.floor((te+1-ie)/X),se=0;se<ee;se+=1)ye="",ie<=se&&se<oe&&ie<=te&&te<oe&&v.isDark(ue,Math.floor((se-ie)/X))&&(ye=" "),ie<=se&&se<oe&&ie<=te+1&&te+1<oe&&v.isDark(me,Math.floor((se-ie)/X))?ye+=" ":ye+="",Ee+=Y<1&&te+1>=oe?de[ye]:pe[ye];Ee+=`
`}return ee%2&&Y>0?Ee.substring(0,Ee.length-ee-1)+Array(ee+1).join(""):Ee.substring(0,Ee.length-1)};return v.createASCII=function(Y,X){if(Y=Y||1,Y<2)return Q(X);Y-=1,X=typeof X>"u"?Y*2:X;var ee=v.getModuleCount()*Y+X*2,ie=X,oe=ee-X,te,se,ue,me,ye=Array(Y+1).join(""),pe=Array(Y+1).join("  "),de="",Ee="";for(te=0;te<ee;te+=1){for(ue=Math.floor((te-ie)/Y),Ee="",se=0;se<ee;se+=1)me=1,ie<=se&&se<oe&&ie<=te&&te<oe&&v.isDark(ue,Math.floor((se-ie)/Y))&&(me=0),Ee+=me?ye:pe;for(ue=0;ue<Y;ue+=1)de+=Ee+`
`}return de.substring(0,de.length-1)},v.renderTo2dContext=function(Y,X){X=X||2;for(var ee=v.getModuleCount(),ie=0;ie<ee;ie++)for(var oe=0;oe<ee;oe++)Y.fillStyle=v.isDark(ie,oe)?"black":"white",Y.fillRect(ie*X,oe*X,X,X)},v};r.stringToBytesFuncs={default:function($){for(var H=[],K=0;K<$.length;K+=1){var j=$.charCodeAt(K);H.push(j&255)}return H}},r.stringToBytes=r.stringToBytesFuncs.default,r.createStringToBytes=function($,H){var K=function(){for(var B=T($),D=function(){var O=B.read();if(O==-1)throw"eof";return O},P=0,E={};;){var b=B.read();if(b==-1)break;var g=D(),v=D(),A=D(),L=String.fromCharCode(b<<8|g),C=v<<8|A;E[L]=C,P+=1}if(P!=H)throw P+" != "+H;return E}(),j=63;return function(B){for(var D=[],P=0;P<B.length;P+=1){var E=B.charCodeAt(P);if(E<128)D.push(E);else{var b=K[B.charAt(P)];typeof b=="number"?(b&255)==b?D.push(b):(D.push(b>>>8),D.push(b&255)):D.push(j)}}return D}};var i={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},o={L:1,M:0,Q:3,H:2},s={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},a=function(){var $=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],H=1335,K=7973,j=21522,B={},D=function(P){for(var E=0;P!=0;)E+=1,P>>>=1;return E};return B.getBCHTypeInfo=function(P){for(var E=P<<10;D(E)-D(H)>=0;)E^=H<<D(E)-D(H);return(P<<10|E)^j},B.getBCHTypeNumber=function(P){for(var E=P<<12;D(E)-D(K)>=0;)E^=K<<D(E)-D(K);return P<<12|E},B.getPatternPosition=function(P){return $[P-1]},B.getMaskFunction=function(P){switch(P){case s.PATTERN000:return function(E,b){return(E+b)%2==0};case s.PATTERN001:return function(E,b){return E%2==0};case s.PATTERN010:return function(E,b){return b%3==0};case s.PATTERN011:return function(E,b){return(E+b)%3==0};case s.PATTERN100:return function(E,b){return(Math.floor(E/2)+Math.floor(b/3))%2==0};case s.PATTERN101:return function(E,b){return E*b%2+E*b%3==0};case s.PATTERN110:return function(E,b){return(E*b%2+E*b%3)%2==0};case s.PATTERN111:return function(E,b){return(E*b%3+(E+b)%2)%2==0};default:throw"bad maskPattern:"+P}},B.getErrorCorrectPolynomial=function(P){for(var E=l([1],0),b=0;b<P;b+=1)E=E.multiply(l([1,c.gexp(b)],0));return E},B.getLengthInBits=function(P,E){if(1<=E&&E<10)switch(P){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:return 8;case i.MODE_KANJI:return 8;default:throw"mode:"+P}else if(E<27)switch(P){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw"mode:"+P}else if(E<41)switch(P){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw"mode:"+P}else throw"type:"+E},B.getLostPoint=function(P){for(var E=P.getModuleCount(),b=0,g=0;g<E;g+=1)for(var v=0;v<E;v+=1){for(var A=0,L=P.isDark(g,v),C=-1;C<=1;C+=1)if(!(g+C<0||E<=g+C))for(var O=-1;O<=1;O+=1)v+O<0||E<=v+O||C==0&&O==0||L==P.isDark(g+C,v+O)&&(A+=1);A>5&&(b+=3+A-5)}for(var g=0;g<E-1;g+=1)for(var v=0;v<E-1;v+=1){var x=0;P.isDark(g,v)&&(x+=1),P.isDark(g+1,v)&&(x+=1),P.isDark(g,v+1)&&(x+=1),P.isDark(g+1,v+1)&&(x+=1),(x==0||x==4)&&(b+=3)}for(var g=0;g<E;g+=1)for(var v=0;v<E-6;v+=1)P.isDark(g,v)&&!P.isDark(g,v+1)&&P.isDark(g,v+2)&&P.isDark(g,v+3)&&P.isDark(g,v+4)&&!P.isDark(g,v+5)&&P.isDark(g,v+6)&&(b+=40);for(var v=0;v<E;v+=1)for(var g=0;g<E-6;g+=1)P.isDark(g,v)&&!P.isDark(g+1,v)&&P.isDark(g+2,v)&&P.isDark(g+3,v)&&P.isDark(g+4,v)&&!P.isDark(g+5,v)&&P.isDark(g+6,v)&&(b+=40);for(var R=0,v=0;v<E;v+=1)for(var g=0;g<E;g+=1)P.isDark(g,v)&&(R+=1);var _=Math.abs(100*R/E/E-50)/5;return b+=_*10,b},B}(),c=function(){for(var $=new Array(256),H=new Array(256),K=0;K<8;K+=1)$[K]=1<<K;for(var K=8;K<256;K+=1)$[K]=$[K-4]^$[K-5]^$[K-6]^$[K-8];for(var K=0;K<255;K+=1)H[$[K]]=K;var j={};return j.glog=function(B){if(B<1)throw"glog("+B+")";return H[B]},j.gexp=function(B){for(;B<0;)B+=255;for(;B>=256;)B-=255;return $[B]},j}();function l($,H){if(typeof $.length>"u")throw $.length+"/"+H;var K=function(){for(var B=0;B<$.length&&$[B]==0;)B+=1;for(var D=new Array($.length-B+H),P=0;P<$.length-B;P+=1)D[P]=$[P+B];return D}(),j={};return j.getAt=function(B){return K[B]},j.getLength=function(){return K.length},j.multiply=function(B){for(var D=new Array(j.getLength()+B.getLength()-1),P=0;P<j.getLength();P+=1)for(var E=0;E<B.getLength();E+=1)D[P+E]^=c.gexp(c.glog(j.getAt(P))+c.glog(B.getAt(E)));return l(D,0)},j.mod=function(B){if(j.getLength()-B.getLength()<0)return j;for(var D=c.glog(j.getAt(0))-c.glog(B.getAt(0)),P=new Array(j.getLength()),E=0;E<j.getLength();E+=1)P[E]=j.getAt(E);for(var E=0;E<B.getLength();E+=1)P[E]^=c.gexp(c.glog(B.getAt(E))+D);return l(P,0).mod(B)},j}var u=function(){var $=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],H=function(B,D){var P={};return P.totalCount=B,P.dataCount=D,P},K={},j=function(B,D){switch(D){case o.L:return $[(B-1)*4+0];case o.M:return $[(B-1)*4+1];case o.Q:return $[(B-1)*4+2];case o.H:return $[(B-1)*4+3];default:return}};return K.getRSBlocks=function(B,D){var P=j(B,D);if(typeof P>"u")throw"bad rs block @ typeNumber:"+B+"/errorCorrectionLevel:"+D;for(var E=P.length/3,b=[],g=0;g<E;g+=1)for(var v=P[g*3+0],A=P[g*3+1],L=P[g*3+2],C=0;C<v;C+=1)b.push(H(A,L));return b},K}(),f=function(){var $=[],H=0,K={};return K.getBuffer=function(){return $},K.getAt=function(j){var B=Math.floor(j/8);return($[B]>>>7-j%8&1)==1},K.put=function(j,B){for(var D=0;D<B;D+=1)K.putBit((j>>>B-D-1&1)==1)},K.getLengthInBits=function(){return H},K.putBit=function(j){var B=Math.floor(H/8);$.length<=B&&$.push(0),j&&($[B]|=128>>>H%8),H+=1},K},p=function($){var H=i.MODE_NUMBER,K=$,j={};j.getMode=function(){return H},j.getLength=function(P){return K.length},j.write=function(P){for(var E=K,b=0;b+2<E.length;)P.put(B(E.substring(b,b+3)),10),b+=3;b<E.length&&(E.length-b==1?P.put(B(E.substring(b,b+1)),4):E.length-b==2&&P.put(B(E.substring(b,b+2)),7))};var B=function(P){for(var E=0,b=0;b<P.length;b+=1)E=E*10+D(P.charAt(b));return E},D=function(P){if("0"<=P&&P<="9")return P.charCodeAt(0)-48;throw"illegal char :"+P};return j},m=function($){var H=i.MODE_ALPHA_NUM,K=$,j={};j.getMode=function(){return H},j.getLength=function(D){return K.length},j.write=function(D){for(var P=K,E=0;E+1<P.length;)D.put(B(P.charAt(E))*45+B(P.charAt(E+1)),11),E+=2;E<P.length&&D.put(B(P.charAt(E)),6)};var B=function(D){if("0"<=D&&D<="9")return D.charCodeAt(0)-48;if("A"<=D&&D<="Z")return D.charCodeAt(0)-65+10;switch(D){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+D}};return j},w=function($){var H=i.MODE_8BIT_BYTE,K=r.stringToBytes($),j={};return j.getMode=function(){return H},j.getLength=function(B){return K.length},j.write=function(B){for(var D=0;D<K.length;D+=1)B.put(K[D],8)},j},y=function($){var H=i.MODE_KANJI,K=r.stringToBytesFuncs.SJIS;if(!K)throw"sjis not supported.";(function(D,P){var E=K(D);if(E.length!=2||(E[0]<<8|E[1])!=P)throw"sjis not supported."})("",38726);var j=K($),B={};return B.getMode=function(){return H},B.getLength=function(D){return~~(j.length/2)},B.write=function(D){for(var P=j,E=0;E+1<P.length;){var b=(255&P[E])<<8|255&P[E+1];if(33088<=b&&b<=40956)b-=33088;else if(57408<=b&&b<=60351)b-=49472;else throw"illegal char at "+(E+1)+"/"+b;b=(b>>>8&255)*192+(b&255),D.put(b,13),E+=2}if(E<P.length)throw"illegal char at "+(E+1)},B},I=function(){var $=[],H={};return H.writeByte=function(K){$.push(K&255)},H.writeShort=function(K){H.writeByte(K),H.writeByte(K>>>8)},H.writeBytes=function(K,j,B){j=j||0,B=B||K.length;for(var D=0;D<B;D+=1)H.writeByte(K[D+j])},H.writeString=function(K){for(var j=0;j<K.length;j+=1)H.writeByte(K.charCodeAt(j))},H.toByteArray=function(){return $},H.toString=function(){var K="";K+="[";for(var j=0;j<$.length;j+=1)j>0&&(K+=","),K+=$[j];return K+="]",K},H},S=function(){var $=0,H=0,K=0,j="",B={},D=function(E){j+=String.fromCharCode(P(E&63))},P=function(E){if(!(E<0)){if(E<26)return 65+E;if(E<52)return 97+(E-26);if(E<62)return 48+(E-52);if(E==62)return 43;if(E==63)return 47}throw"n:"+E};return B.writeByte=function(E){for($=$<<8|E&255,H+=8,K+=1;H>=6;)D($>>>H-6),H-=6},B.flush=function(){if(H>0&&(D($<<6-H),$=0,H=0),K%3!=0)for(var E=3-K%3,b=0;b<E;b+=1)j+="="},B.toString=function(){return j},B},T=function($){var H=$,K=0,j=0,B=0,D={};D.read=function(){for(;B<8;){if(K>=H.length){if(B==0)return-1;throw"unexpected end of file./"+B}var E=H.charAt(K);if(K+=1,E=="=")return B=0,-1;if(E.match(/^\s$/))continue;j=j<<6|P(E.charCodeAt(0)),B+=6}var b=j>>>B-8&255;return B-=8,b};var P=function(E){if(65<=E&&E<=90)return E-65;if(97<=E&&E<=122)return E-97+26;if(48<=E&&E<=57)return E-48+52;if(E==43)return 62;if(E==47)return 63;throw"c:"+E};return D},N=function($,H){var K=$,j=H,B=new Array($*H),D={};D.setPixel=function(g,v,A){B[v*K+g]=A},D.write=function(g){g.writeString("GIF87a"),g.writeShort(K),g.writeShort(j),g.writeByte(128),g.writeByte(0),g.writeByte(0),g.writeByte(0),g.writeByte(0),g.writeByte(0),g.writeByte(255),g.writeByte(255),g.writeByte(255),g.writeString(","),g.writeShort(0),g.writeShort(0),g.writeShort(K),g.writeShort(j),g.writeByte(0);var v=2,A=E(v);g.writeByte(v);for(var L=0;A.length-L>255;)g.writeByte(255),g.writeBytes(A,L,255),L+=255;g.writeByte(A.length-L),g.writeBytes(A,L,A.length-L),g.writeByte(0),g.writeString(";")};var P=function(g){var v=g,A=0,L=0,C={};return C.write=function(O,x){if(O>>>x)throw"length over";for(;A+x>=8;)v.writeByte(255&(O<<A|L)),x-=8-A,O>>>=8-A,L=0,A=0;L=O<<A|L,A=A+x},C.flush=function(){A>0&&v.writeByte(L)},C},E=function(g){for(var v=1<<g,A=(1<<g)+1,L=g+1,C=b(),O=0;O<v;O+=1)C.add(String.fromCharCode(O));C.add(String.fromCharCode(v)),C.add(String.fromCharCode(A));var x=I(),R=P(x);R.write(v,L);var _=0,k=String.fromCharCode(B[_]);for(_+=1;_<B.length;){var U=String.fromCharCode(B[_]);_+=1,C.contains(k+U)?k=k+U:(R.write(C.indexOf(k),L),C.size()<4095&&(C.size()==1<<L&&(L+=1),C.add(k+U)),k=U)}return R.write(C.indexOf(k),L),R.write(A,L),R.flush(),x.toByteArray()},b=function(){var g={},v=0,A={};return A.add=function(L){if(A.contains(L))throw"dup key:"+L;g[L]=v,v+=1},A.size=function(){return v},A.indexOf=function(L){return g[L]},A.contains=function(L){return typeof g[L]<"u"},A};return D},z=function($,H,K){for(var j=N($,H),B=0;B<H;B+=1)for(var D=0;D<$;D+=1)j.setPixel(D,B,K(D,B));var P=I();j.write(P);for(var E=S(),b=P.toByteArray(),g=0;g<b.length;g+=1)E.writeByte(b[g]);return E.flush(),"data:image/gif;base64,"+E};return r}();(function(){n.stringToBytesFuncs["UTF-8"]=function(r){function i(o){for(var s=[],a=0;a<o.length;a++){var c=o.charCodeAt(a);c<128?s.push(c):c<2048?s.push(192|c>>6,128|c&63):c<55296||c>=57344?s.push(224|c>>12,128|c>>6&63,128|c&63):(a++,c=65536+((c&1023)<<10|o.charCodeAt(a)&1023),s.push(240|c>>18,128|c>>12&63,128|c>>6&63,128|c&63))}return s}return i(r)}})(),function(r){t.exports=r()}(function(){return n})}(zx)),zx.exports}var CT;function mae(){if(CT)return Ja;CT=1;var t=Ja&&Ja.__extends||function(){var s=function(a,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(l[f]=u[f])},s(a,c)};return function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");s(a,c);function l(){this.constructor=a}a.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)}}(),e=Ja&&Ja.__assign||function(){return e=Object.assign||function(s){for(var a,c=1,l=arguments.length;c<l;c++){a=arguments[c];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])}return s},e.apply(this,arguments)};Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.QRCode=void 0;var n=pae(),r=gae(),i=xh(),o=function(s){t(a,s);function a(c){var l=s.call(this,c)||this;return l.canvasRef=i.createRef(),l}return a.prototype.download=function(c,l){if(this.canvasRef.current){var u=void 0;switch(c){case"jpg":u="image/jpeg";break;case"webp":u="image/webp";break;case"png":default:u="image/png";break}var f=this.canvasRef.current.toDataURL(u,1),p=document.createElement("a");p.download=l??"react-qrcode-logo",p.href=f,p.click()}},a.prototype.utf16to8=function(c){var l="",u,f,p=c.length;for(u=0;u<p;u++)f=c.charCodeAt(u),f>=1&&f<=127?l+=c.charAt(u):f>2047?(l+=String.fromCharCode(224|f>>12&15),l+=String.fromCharCode(128|f>>6&63),l+=String.fromCharCode(128|f>>0&63)):(l+=String.fromCharCode(192|f>>6&31),l+=String.fromCharCode(128|f>>0&63));return l},a.prototype.drawRoundedSquare=function(c,l,u,f,p,m,w,y){y.lineWidth=c,y.fillStyle=p,y.strokeStyle=p,u+=c/2,l+=c/2,f-=c,Array.isArray(m)||(m=[m,m,m,m]),m=m.map(function(z){return z=Math.min(z,f/2),z<0?0:z});var I=m[0]||0,S=m[1]||0,T=m[2]||0,N=m[3]||0;y.beginPath(),y.moveTo(l+I,u),y.lineTo(l+f-S,u),S&&y.quadraticCurveTo(l+f,u,l+f,u+S),y.lineTo(l+f,u+f-T),T&&y.quadraticCurveTo(l+f,u+f,l+f-T,u+f),y.lineTo(l+N,u+f),N&&y.quadraticCurveTo(l,u+f,l,u+f-N),y.lineTo(l,u+I),I&&y.quadraticCurveTo(l,u,l+I,u),y.closePath(),y.stroke(),w&&y.fill()},a.prototype.drawPositioningPattern=function(c,l,u,f,p,m,w){w===void 0&&(w=[0,0,0,0]);var y=Math.ceil(l),I,S;typeof w!="number"&&!Array.isArray(w)?(I=w.outer||0,S=w.inner||0):(I=w,S=I);var T,N;typeof m!="string"?(T=m.outer,N=m.inner):(T=m,N=m);var z=f*l+u,$=p*l+u,H=l*7;this.drawRoundedSquare(y,$,z,H,T,I,!1,c),H=l*3,z+=l*2,$+=l*2,this.drawRoundedSquare(y,$,z,H,N,S,!0,c)},a.prototype.isInPositioninZone=function(c,l,u){return u.some(function(f){return l>=f.row&&l<=f.row+7&&c>=f.col&&c<=f.col+7})},a.prototype.transformPixelLengthIntoNumberOfCells=function(c,l){return c/l},a.prototype.isCoordinateInImage=function(c,l,u,f,p,m,w,y){if(y){var I=2,S=this.transformPixelLengthIntoNumberOfCells(p,w),T=this.transformPixelLengthIntoNumberOfCells(m,w),N=this.transformPixelLengthIntoNumberOfCells(u,w)-1,z=this.transformPixelLengthIntoNumberOfCells(f,w)-1;return l>=S-I&&l<=S+N+I&&c>=T-I&&c<=T+z+I}else return!1},a.prototype.shouldComponentUpdate=function(c){return!n(this.props,c)},a.prototype.componentDidMount=function(){this.update()},a.prototype.componentDidUpdate=function(){this.update()},a.prototype.update=function(){var c,l=this.props,u=l.value,f=l.ecLevel,p=l.enableCORS,m=l.bgColor,w=l.fgColor,y=l.logoImage,I=l.logoOpacity,S=l.logoOnLoad,T=l.removeQrCodeBehindLogo,N=l.qrStyle,z=l.eyeRadius,$=l.eyeColor,H=l.logoPaddingStyle,K=+this.props.size,j=+this.props.quietZone,B=this.props.logoWidth?+this.props.logoWidth:0,D=this.props.logoHeight?+this.props.logoHeight:0,P=this.props.logoPadding?+this.props.logoPadding:0,E=r(0,f);E.addData(this.utf16to8(u)),E.make();var b=(c=this.canvasRef)===null||c===void 0?void 0:c.current,g=b.getContext("2d"),v=K+2*j,A=E.getModuleCount(),L=K/A,C=window.devicePixelRatio||1;b.height=b.width=v*C,g.scale(C,C),g.fillStyle=m,g.fillRect(0,0,v,v);var O=j,x=[{row:0,col:0},{row:0,col:A-7},{row:A-7,col:0}];if(g.strokeStyle=w,N==="dots"){g.fillStyle=w;for(var R=L/2,_=0;_<A;_++)for(var k=0;k<A;k++)E.isDark(_,k)&&!this.isInPositioninZone(_,k,x)&&(g.beginPath(),g.arc(Math.round(k*L)+R+O,Math.round(_*L)+R+O,R/100*75,0,2*Math.PI,!1),g.closePath(),g.fill())}else if(N==="fluid"){for(var R=Math.ceil(L/2),_=0;_<A;_++)for(var k=0;k<A;k++)if(E.isDark(_,k)&&!this.isInPositioninZone(_,k,x)){var U=[!1,!1,!1,!1];_>0&&!E.isDark(_-1,k)&&k>0&&!E.isDark(_,k-1)&&(U[0]=!0),_>0&&!E.isDark(_-1,k)&&k<A-1&&!E.isDark(_,k+1)&&(U[1]=!0),_<A-1&&!E.isDark(_+1,k)&&k<A-1&&!E.isDark(_,k+1)&&(U[2]=!0),_<A-1&&!E.isDark(_+1,k)&&k>0&&!E.isDark(_,k-1)&&(U[3]=!0);var q=Math.ceil((k+1)*L)-Math.floor(k*L),V=Math.ceil((_+1)*L)-Math.floor(_*L);g.fillStyle=w,g.beginPath(),g.arc(Math.round(k*L)+R+O,Math.round(_*L)+R+O,R,0,2*Math.PI,!1),g.closePath(),g.fill(),U[0]||g.fillRect(Math.round(k*L)+O,Math.round(_*L)+O,q/2,V/2),U[1]||g.fillRect(Math.round(k*L)+O+Math.floor(q/2),Math.round(_*L)+O,q/2,V/2),U[2]||g.fillRect(Math.round(k*L)+O+Math.floor(q/2),Math.round(_*L)+O+Math.floor(V/2),q/2,V/2),U[3]||g.fillRect(Math.round(k*L)+O,Math.round(_*L)+O+Math.floor(V/2),q/2,V/2)}}else for(var _=0;_<A;_++)for(var k=0;k<A;k++)if(E.isDark(_,k)&&!this.isInPositioninZone(_,k,x)){g.fillStyle=w;var q=Math.ceil((k+1)*L)-Math.floor(k*L),V=Math.ceil((_+1)*L)-Math.floor(_*L);g.fillRect(Math.round(k*L)+O,Math.round(_*L)+O,q,V)}for(var Q=0;Q<3;Q++){var Y=x[Q],_=Y.row,k=Y.col,X=z,ee=void 0;Array.isArray(X)&&(X=X[Q]),typeof X=="number"&&(X=[X,X,X,X]),$?Array.isArray($)?ee=$[Q]:ee=$:ee=w,this.drawPositioningPattern(g,L,O,_,k,ee,X)}if(y){var ie=new Image;p&&(ie.crossOrigin="Anonymous"),ie.onload=function(oe){g.save();var te=B||K*.2,se=D||te,ue=(K-te)/2,me=(K-se)/2;if(T||P){g.beginPath(),g.strokeStyle=m,g.fillStyle=m;var ye=te+2*P,pe=se+2*P,de=ue+O-P,Ee=me+O-P;if(H==="circle"){var Ce=de+ye/2,we=Ee+pe/2;g.ellipse(Ce,we,ye/2,pe/2,0,0,2*Math.PI),g.stroke(),g.fill()}else g.fillRect(de,Ee,ye,pe)}g.globalAlpha=I,g.drawImage(ie,ue+O,me+O,te,se),g.restore(),S&&S(oe)},ie.src=y}},a.prototype.render=function(){var c,l=+this.props.size+2*+this.props.quietZone;return i.createElement("canvas",{id:(c=this.props.id)!==null&&c!==void 0?c:"react-qrcode-logo",height:l,width:l,style:e({height:l+"px",width:l+"px"},this.props.style),ref:this.canvasRef})},a.defaultProps={value:"https://reactjs.org/",ecLevel:"M",enableCORS:!1,size:150,quietZone:10,bgColor:"#FFFFFF",fgColor:"#000000",logoOpacity:1,qrStyle:"squares",eyeRadius:[0,0,0],logoPaddingStyle:"square"},a}(i.Component);return Ja.QRCode=o,Ja}var vae=mae();function Sj(t){var e;const[n]=Hi(void 0,{i18n:yn}),{bodyState:r,setBodyState:i}=be.useContext(bg),{qrCodeValue:o,isDark:s,selectedButton:a,logoImage:c,primaryColor:l}=t,u=be.useMemo(()=>typeof window>"u"?!1:$p.getParser(window.navigator.userAgent).getPlatformType()==="desktop",[]),f=document.documentElement,p="#FFFFFF",m="#000000",w=((e=getComputedStyle(f))===null||e===void 0||(e=e.getPropertyValue("--app-gray-800"))===null||e===void 0?void 0:e.trim())||"#1f2a37",y=l&&l.toLowerCase()==="#ffffff"?"#000000":l;return re.jsxs("div",{className:"w3a--contents",children:[o?re.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4 w3a--rounded-2xl w3a--border w3a--border-app-gray-200 w3a--p-4 dark:w3a--border-app-gray-700",children:[re.jsx("div",{className:"w3a--relative w3a--flex w3a--size-[300px] w3a--items-center w3a--justify-center w3a--rounded-2xl",children:re.jsx(vae.QRCode,{size:u?300:260,eyeRadius:5,qrStyle:"dots",removeQrCodeBehindLogo:!0,logoImage:c||Aoe,value:o,logoHeight:32,logoWidth:32,logoPadding:10,eyeColor:s?p:y,bgColor:s?w:p,fgColor:s?p:m})}),re.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:n("modal.external.walletconnect-copy")})]}):re.jsx("div",{className:"w3a--mx-auto w3a--flex w3a--size-[300px] w3a--animate-pulse w3a--items-center w3a--justify-center w3a--rounded-lg w3a--bg-app-gray-200 w3a--p-2 dark:w3a--bg-app-gray-700",children:re.jsx(ds,{imageId:`login-${a.name}`,hoverImageId:`login-${a.name}`,fallbackImageId:"wallet",height:"30",width:"30",isButton:!0,extension:a.imgExtension})}),re.jsxs("div",{className:"w3a--flex w3a--w-full w3a--items-center w3a--justify-between w3a--rounded-2xl w3a--bg-app-gray-50  w3a--px-4 w3a--py-2 w3a--text-app-gray-900 dark:w3a--bg-app-gray-800 dark:w3a--text-app-white",children:[re.jsxs("p",{className:"w3a--text-sm w3a--text-app-gray-900 dark:w3a--text-app-white",children:[n("modal.external.dont-have")," ",re.jsx("span",{children:a==null?void 0:a.displayName}),"?"]}),re.jsx("button",{type:"button",className:"w3a--appearance-none w3a--rounded-full w3a--border w3a--border-app-gray-200 w3a--bg-transparent w3a--px-5 w3a--py-2 w3a--text-base w3a--font-normal w3a--text-app-gray-700 w3a--transition-all w3a--duration-150 hover:w3a--border-transparent hover:w3a--shadow-light active:w3a--scale-95 dark:w3a--border-app-gray-700 dark:w3a--text-app-gray-300 dark:hover:w3a--border-transparent dark:hover:w3a--shadow-dark",onClick:()=>{i(_e(_e({},r),{},{installLinks:{show:!0,wallet:a}}))},children:n("modal.external.get-wallet")})]})]})}function yae(t){const{totalExternalWalletCount:e,isLoading:n,walletSearch:r,handleWalletSearch:i,buttonRadius:o}=t,[s,a]=be.useState(!1),[c]=Hi(void 0,{i18n:yn}),l=u=>{i(u),a(!0)};return re.jsx("input",{type:"text",value:r,onInput:l,onFocus:u=>{u.target.placeholder="",a(!0)},onBlur:u=>{u.target.placeholder=c("modal.external.search-wallet",{count:e}),a(!1)},placeholder:n?c("modal.external.search-wallet-loading"):c("modal.external.search-wallet",{count:e}),disabled:n,className:vn("w3a--input w3a--appearance-none w3a--outline-none active:w3a--outline-none focus:w3a--outline-none w3a--bg-transparent placeholder:w3a--text-app-gray-400 dark:placeholder:w3a--text-app-gray-500 w3a--text-app-gray-900 dark:w3a--text-app-white",s&&"!w3a--border-app-primary-600",{"w3a--rounded-full":o==="pill","w3a--rounded-lg":o==="rounded","w3a--rounded-none":o==="square"})})}function wae(t){var e;const{isDark:n,config:r,walletConnectUri:i,metamaskConnectUri:o,walletRegistry:s,allExternalButtons:a,customConnectorButtons:c,connectorVisibilityMap:l,deviceDetails:u,buttonRadius:f="pill",chainNamespace:p,onBackClick:m,handleExternalWalletClick:w,handleWalletDetailsHeight:y}=t,{bodyState:I,setBodyState:S}=be.useContext(bg),{analytics:T}=be.useContext(F4),[N,z]=be.useState(Rl.CONNECT_WALLET),[$,H]=be.useState(!1),[K]=be.useState(!1),[j,B]=be.useState(null),[D,P]=be.useState(""),[E,b]=be.useState("all"),[g,v]=be.useState(!1),A=()=>{if(!$&&N===Rl.CONNECT_WALLET&&m){m(!1);return}$&&(z(Rl.CONNECT_WALLET),H(!1),y())},L=be.useMemo(()=>s&&Object.keys(s.default||{}).length>0&&Object.keys(s.others||{}).length>0,[s]),C=be.useMemo(()=>{const ie=new Set;return c.concat(a).filter(oe=>ie.has(oe.name)?!1:(ie.add(oe.name),!0))},[a,c]),O=be.useMemo(()=>new Set(Object.keys(s.default)),[s]),x=be.useMemo(()=>{const ie=[...a.filter(te=>te.hasInjectedWallet&&O.has(te.name)),...c,...a.filter(te=>!te.hasInjectedWallet&&O.has(te.name))].sort((te,se)=>te.name===St.METAMASK&&se.name===St.METAMASK?te.hasInjectedWallet?-1:se.hasInjectedWallet?1:te.isInstalled?-1:se.isInstalled?1:0:te.name===St.METAMASK?-1:se.name===St.METAMASK?1:0),oe=new Set;return ie.filter(te=>oe.has(te.name)?!1:(oe.add(te.name),!0)).filter(te=>{var se;return E==="all"||((se=te.chainNamespaces)===null||se===void 0?void 0:se.includes(E))})},[a,c,O,E]),R=be.useMemo(()=>{const ie=l;return Object.keys(r).reduce((oe,te)=>(te!==St.WALLET_CONNECT_V2&&ie[te]&&oe.push({name:te,displayName:r[te].label||te,hasInjectedWallet:r[te].isInjected,hasWalletConnect:!1,hasInstallLinks:!1}),oe),[])},[l,r]),_=ie=>{const oe=ie.target.value;P(oe)},k=ie=>{b(ie),v(!1)},U=be.useMemo(()=>L?[...C.filter(ie=>ie.hasInjectedWallet),...C.filter(ie=>!ie.hasInjectedWallet)].sort((ie,oe)=>ie.name===St.METAMASK?-1:1).filter(ie=>E==="all"||ie.chainNamespaces.includes(E)).filter(ie=>ie.name.toLowerCase().includes(D.toLowerCase())):R,[L,R,D,C,E]),q=be.useMemo(()=>L&&!D&&!g?x:U,[L,D,U,x,g]),V=be.useMemo(()=>U.length,[U]),Q=be.useMemo(()=>g?V:L?x.length:R.length,[L,x,R,g,V]),Y=ie=>{if(T==null||T.track(Dn.EXTERNAL_WALLET_SELECTED,{connector:ie.isInstalled?ie.name:ie.hasWalletConnect?St.WALLET_CONNECT_V2:"",wallet_name:ie.displayName,is_installed:ie.isInstalled,is_injected:ie.hasInjectedWallet,chain_namespaces:ie.chainNamespaces,has_wallet_connect:ie.hasWalletConnect,has_install_links:ie.hasInstallLinks,has_wallet_registry_item:!!ie.walletRegistryItem,total_external_wallets:C.length}),ie.isInstalled){var oe;if(ie.name===St.METAMASK&&!ie.hasInjectedWallet&&u.platform==="desktop"){w({connector:ie.name}),B(ie),H(!0),z(Rl.SELECTED_WALLET),y();return}if(((oe=ie.chainNamespaces)===null||oe===void 0?void 0:oe.length)>1){S(_e(_e({},I),{},{multiChainSelector:{show:!0,wallet:ie}}));return}w({connector:ie.name});return}else ie.hasWalletConnect?(B(ie),H(!0),z(Rl.SELECTED_WALLET),y()):S(_e(_e({},I),{},{installLinks:{show:!0,wallet:ie}}))},X=()=>{v(!0)},ee=be.useMemo(()=>$?j.name===St.METAMASK&&!j.hasInjectedWallet?o:i:null,[o,j,$,i]);return re.jsxs("div",{className:"w3a--relative w3a--flex w3a--flex-1 w3a--flex-col w3a--gap-y-4",children:[re.jsx(_j,{onBackClick:A,currentPage:N,selectedButton:j}),$?re.jsx(Sj,{qrCodeValue:ee,isDark:n,selectedButton:j,primaryColor:(e=j.walletRegistryItem)===null||e===void 0?void 0:e.primaryColor,logoImage:`https://images.web3auth.io/login-${j.name}.${j.imgExtension}`}):re.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:[re.jsx(rae,{isDark:n,isLoading:K,selectedChain:E,setSelectedChain:k,chainNamespace:p}),re.jsx(yae,{totalExternalWalletCount:V,isLoading:K,walletSearch:D,handleWalletSearch:_,buttonRadius:f}),re.jsx(hae,{externalButtons:q,isLoading:K,totalExternalWalletsCount:V,initialWalletCount:Q,handleWalletClick:Y,handleMoreWallets:X,isDark:n,deviceDetails:u,walletConnectUri:i,buttonRadius:f})]})]})}const bae=t=>{const{isDark:e,wallet:n,handleExternalWalletClick:r}=t,[i]=Hi(void 0,{i18n:yn}),o=n.chainNamespaces.sort().map(s=>({chainNamespace:s,displayName:s==="eip155"?"EVM":s,imageId:`chain-${s==="eip155"?"evm":s}`}));return re.jsxs("div",{children:[re.jsx("div",{className:"w3a--flex w3a--items-center w3a--justify-center",children:re.jsx("p",{className:"w3a--text-base w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:i("modal.external.select-chain")})}),re.jsx("div",{className:"w3a--my-6 w3a--flex w3a--justify-center",children:re.jsx(ds,{imageId:`login-${n.name}`,hoverImageId:`login-${n.name}`,fallbackImageId:"wallet",height:"100",width:"100",isButton:!0,extension:n.imgExtension})}),re.jsx("p",{className:"w3a--my-6 w3a--text-center w3a--text-sm w3a--text-app-gray-500",children:i("modal.external.select-chain-description",{wallet:n.displayName})}),re.jsx("ul",{className:"w3a--flex w3a--flex-col w3a--gap-3",children:o.map(({chainNamespace:s,displayName:a,imageId:c})=>re.jsx("li",{children:re.jsxs("button",{type:"button",className:"w3a--btn w3a--group w3a--relative w3a--h-11 w3a--w-full w3a--items-center !w3a--justify-between w3a--overflow-hidden w3a--rounded-full",onClick:()=>r({connector:n.name,chainNamespace:s}),children:[re.jsxs("div",{className:"w3a--flex w3a--items-center",children:[re.jsx(ds,{imageId:c,hoverImageId:c,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:"svg"}),re.jsx("p",{className:"w3a--ml-2 w3a--text-left w3a--text-sm first-letter:w3a--capitalize",children:a})]}),re.jsx("img",{id:"chain-namespace-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:go(e?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})},s))})]})};function Eae({privacyPolicy:t,termsOfService:e}){const[n]=Hi(void 0,{i18n:yn});return re.jsxs("div",{className:"w3a--mx-auto w3a--mt-auto w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4 w3a--pt-5",children:[(t||e)&&re.jsxs("p",{className:"w3a--mx-auto w3a--w-4/5 w3a--text-center w3a--text-xs w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:[n("modal.footer.by-signing-in")," ",e&&re.jsxs("a",{href:e,className:"w3a--text-app-primary-600 dark:w3a--text-app-primary-500",children:[n("modal.footer.terms-of-service")," "]}),t&&re.jsxs(re.Fragment,{children:[n("modal.footer.and")," ",re.jsx("a",{href:t,className:"w3a--text-app-primary-600 dark:w3a--text-app-primary-500",children:n("modal.footer.privacy-policy")})]})]}),re.jsxs("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-2",children:[re.jsx("img",{height:"36",src:"https://images.web3auth.io/metamask-footer-logo-light.svg",alt:"Web3Auth Logo Light",className:"w3a--block w3a--h-9 dark:w3a--hidden"}),re.jsx("img",{height:"36",src:"https://images.web3auth.io/metamask-footer-logo-dark.svg",alt:"Web3Auth Logo Dark",className:"w3a--hidden w3a--h-9 dark:w3a--block"})]})]})}const U4=()=>re.jsxs("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-x-2",children:[re.jsx("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-500 dark:w3a--bg-app-gray-200"}),re.jsx("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-400 dark:w3a--bg-app-gray-400"}),re.jsx("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-600"})]});function xae(t){const[e]=Hi(void 0,{i18n:yn}),{connector:n,appLogo:r,connectorName:i}=t,o=be.useMemo(()=>n==="twitter"?re.jsx(ds,{imageId:"login-x-dark"}):re.jsx(ds,{imageId:`login-${n}`,height:"40",width:"40"}),[n]);return re.jsxs("div",{className:"w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[re.jsxs("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-x-6",children:[re.jsx("figure",{className:"w3a--flex w3a--size-10 w3a--items-center w3a--justify-center w3a--overflow-hidden",children:re.jsx("img",{src:r,alt:"",className:"w3a--size-full w3a--object-contain"})}),re.jsx(U4,{}),o]}),re.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-1",children:[re.jsx("div",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e("modal.adapter-loader.message1",{adapter:i})}),re.jsx("div",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e("modal.adapter-loader.message2",{adapter:i})})]})]})}function _ae(t){const{message:e}=t;return re.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-2",children:[re.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--connected-logo",children:re.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.267 3.455a3.07 3.07 0 0 0 1.745-.723 3.066 3.066 0 0 1 3.976 0 3.07 3.07 0 0 0 1.745.723 3.066 3.066 0 0 1 2.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 0 1 0 3.976 3.07 3.07 0 0 0-.723 1.745 3.066 3.066 0 0 1-2.812 2.812 3.07 3.07 0 0 0-1.745.723 3.066 3.066 0 0 1-3.976 0 3.07 3.07 0 0 0-1.745-.723 3.066 3.066 0 0 1-2.812-2.812 3.07 3.07 0 0 0-.723-1.745 3.066 3.066 0 0 1 0-3.976 3.07 3.07 0 0 0 .723-1.745 3.066 3.066 0 0 1 2.812-2.812m7.44 5.252a1 1 0 0 0-1.414-1.414L9 10.586 7.707 9.293a1 1 0 0 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0z",clipRule:"evenodd"})}),re.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e})]})}function Sae(t){const{message:e}=t;return re.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-2",children:[re.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--error-logo",children:re.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16.001 0A8 8 0 0 1 18 10m-7 4a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-1-9a1 1 0 0 0-1 1v4a1 1 0 1 0 2 0V6a1 1 0 0 0-1-1",clipRule:"evenodd"})}),re.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e})]})}function Cae(t){const{connector:e,connectorName:n,modalStatus:r,onClose:i,appLogo:o,message:s}=t;return be.useEffect(()=>{r===pr.CONNECTED&&setTimeout(()=>{i()},1e3)},[r,i]),re.jsxs("div",{className:"w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[r===pr.CONNECTING&&re.jsx(xae,{connector:e,connectorName:n,appLogo:o}),r===pr.CONNECTED&&re.jsx(_ae,{message:s}),r===pr.ERRORED&&re.jsx(Sae,{message:s})]})}function Jo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kS(t,e){return kS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},kS(t,e)}function Aae(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,kS(t,e)}var Iae=Object.defineProperty,kae=Object.defineProperties,Mae=Object.getOwnPropertyDescriptors,mw=Object.getOwnPropertySymbols,Cj=Object.prototype.hasOwnProperty,Aj=Object.prototype.propertyIsEnumerable,MS=(t,e,n)=>e in t?Iae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ko=(t,e)=>{for(var n in e||(e={}))Cj.call(e,n)&&MS(t,n,e[n]);if(mw)for(var n of mw(e))Aj.call(e,n)&&MS(t,n,e[n]);return t},Ij=(t,e)=>kae(t,Mae(e)),Rae=(t,e)=>{var n={};for(var r in t)Cj.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&mw)for(var r of mw(t))e.indexOf(r)<0&&Aj.call(t,r)&&(n[r]=t[r]);return n},qr=(t,e,n)=>(MS(t,typeof e!="symbol"?e+"":e,n),n),Eh=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())}),Oae="hCaptcha-script",py="hCaptchaOnLoad",AT="script-error",Uu="@hCaptcha/loader";function Tae(t){return Object.entries(t).filter(([,e])=>e||e===!1).map(([e,n])=>`${encodeURIComponent(e)}=${encodeURIComponent(String(n))}`).join("&")}function kj(t){let e=t&&t.ownerDocument||document,n=e.defaultView||e.parentWindow||window;return{document:e,window:n}}function Mj(t){return t||document.head}function Nae(t){var e;t.setTag("source",Uu),t.setTag("url",document.URL),t.setContext("os",{UA:navigator.userAgent}),t.setContext("browser",ko({},Pae())),t.setContext("device",Ij(ko({},Lae()),{screen_width_pixels:screen.width,screen_height_pixels:screen.height,language:navigator.language,orientation:((e=screen.orientation)==null?void 0:e.type)||"Unknown",processor_count:navigator.hardwareConcurrency,platform:navigator.platform}))}function Pae(){var t,e,n,r,i,o;let s=navigator.userAgent,a,c;return s.indexOf("Firefox")!==-1?(a="Firefox",c=(t=s.match(/Firefox\/([\d.]+)/))==null?void 0:t[1]):s.indexOf("Edg")!==-1?(a="Microsoft Edge",c=(e=s.match(/Edg\/([\d.]+)/))==null?void 0:e[1]):s.indexOf("Chrome")!==-1&&s.indexOf("Safari")!==-1?(a="Chrome",c=(n=s.match(/Chrome\/([\d.]+)/))==null?void 0:n[1]):s.indexOf("Safari")!==-1&&s.indexOf("Chrome")===-1?(a="Safari",c=(r=s.match(/Version\/([\d.]+)/))==null?void 0:r[1]):s.indexOf("Opera")!==-1||s.indexOf("OPR")!==-1?(a="Opera",c=(i=s.match(/(Opera|OPR)\/([\d.]+)/))==null?void 0:i[2]):s.indexOf("MSIE")!==-1||s.indexOf("Trident")!==-1?(a="Internet Explorer",c=(o=s.match(/(MSIE |rv:)([\d.]+)/))==null?void 0:o[2]):(a="Unknown",c="Unknown"),{name:a,version:c}}function Lae(){let t=navigator.userAgent,e;t.indexOf("Win")!==-1?e="Windows":t.indexOf("Mac")!==-1?e="Mac":t.indexOf("Linux")!==-1?e="Linux":t.indexOf("Android")!==-1?e="Android":t.indexOf("like Mac")!==-1||t.indexOf("iPhone")!==-1||t.indexOf("iPad")!==-1?e="iOS":e="Unknown";let n;return/Mobile|iPhone|iPod|Android/i.test(t)?n="Mobile":/Tablet|iPad/i.test(t)?n="Tablet":n="Desktop",{model:e,family:e,device:n}}var Bae=class Rj{constructor(e){qr(this,"_parent"),qr(this,"breadcrumbs",[]),qr(this,"context",{}),qr(this,"extra",{}),qr(this,"tags",{}),qr(this,"request"),qr(this,"user"),this._parent=e}get parent(){return this._parent}child(){return new Rj(this)}setRequest(e){return this.request=e,this}removeRequest(){return this.request=void 0,this}addBreadcrumb(e){return typeof e.timestamp>"u"&&(e.timestamp=new Date().toISOString()),this.breadcrumbs.push(e),this}setExtra(e,n){return this.extra[e]=n,this}removeExtra(e){return delete this.extra[e],this}setContext(e,n){return typeof n.type>"u"&&(n.type=e),this.context[e]=n,this}removeContext(e){return delete this.context[e],this}setTags(e){return this.tags=ko(ko({},this.tags),e),this}setTag(e,n){return this.tags[e]=n,this}removeTag(e){return delete this.tags[e],this}setUser(e){return this.user=e,this}removeUser(){return this.user=void 0,this}toBody(){let e=[],n=this;for(;n;)e.push(n),n=n.parent;return e.reverse().reduce((r,i)=>{var o;return r.breadcrumbs=[...(o=r.breadcrumbs)!=null?o:[],...i.breadcrumbs],r.extra=ko(ko({},r.extra),i.extra),r.contexts=ko(ko({},r.contexts),i.context),r.tags=ko(ko({},r.tags),i.tags),i.user&&(r.user=i.user),i.request&&(r.request=i.request),r},{breadcrumbs:[],extra:{},contexts:{},tags:{},request:void 0,user:void 0})}clear(){this.breadcrumbs=[],this.context={},this.tags={},this.user=void 0}},Dae=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,jae=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,$ae=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Fae=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,Nv="?",IT="An unknown error occurred",Uae="0.0.4";function zae(t){for(let e=0;e<t.length;e++)t[e]=Math.floor(Math.random()*256);return t}function bi(t){return(t+256).toString(16).substring(1)}function qae(){let t=zae(new Array(16));return t[6]=t[6]&15|64,t[8]=t[8]&63|128,bi(t[0])+bi(t[1])+bi(t[2])+bi(t[3])+"-"+bi(t[4])+bi(t[5])+"-"+bi(t[6])+bi(t[7])+"-"+bi(t[8])+bi(t[9])+"-"+bi(t[10])+bi(t[11])+bi(t[12])+bi(t[13])+bi(t[14])+bi(t[15])}var Hae=[[Dae,"chrome"],[$ae,"winjs"],[jae,"gecko"]];function Kae(t){var e,n,r,i;if(!t.stack)return null;let o=[],s=(r=(n=(e=t.stack).split)==null?void 0:n.call(e,`
`))!=null?r:[];for(let a=0;a<s.length;++a){let c=null,l=null,u=null;for(let[f,p]of Hae)if(l=f.exec(s[a]),l){u=p;break}if(!(!l||!u)){if(u==="chrome")c={filename:(i=l[2])!=null&&i.startsWith("address at ")?l[2].substring(11):l[2],function:l[1]||Nv,lineno:l[3]?+l[3]:null,colno:l[4]?+l[4]:null};else if(u==="winjs")c={filename:l[2],function:l[1]||Nv,lineno:+l[3],colno:l[4]?+l[4]:null};else if(u==="gecko")a===0&&!l[5]&&t.columnNumber!==void 0&&o.length>0&&(o[0].column=t.columnNumber+1),c={filename:l[3],function:l[1]||Nv,lineno:l[4]?+l[4]:null,colno:l[5]?+l[5]:null};else continue;!c.function&&c.lineno&&(c.function=Nv),o.push(c)}}return o.length?o.reverse():null}function Wae(t){let e=Kae(t);return{type:t.name,value:t.message,stacktrace:{frames:e??[]}}}function Vae(t){let e=Fae.exec(t),n=e?e.slice(1):[];if(n.length!==6)throw new Error("Invalid DSN");let r=n[5].split("/"),i=r.slice(0,-1).join("/");return n[0]+"://"+n[3]+(n[4]?":"+n[4]:"")+(i?"/"+i:"")+"/api/"+r.pop()+"/envelope/?sentry_version=7&sentry_key="+n[1]+(n[2]?"&sentry_secret="+n[2]:"")}function Gae(t,e,n){var r,i;let o=ko({event_id:qae().replaceAll("-",""),platform:"javascript",sdk:{name:"@hcaptcha/sentry",version:Uae},environment:e,release:n,timestamp:Date.now()/1e3},t.scope.toBody());if(t.type==="exception"){o.message=(i=(r=t.error)==null?void 0:r.message)!=null?i:"Unknown error",o.fingerprint=[o.message];let s=[],a=t.error;for(let c=0;c<5&&a&&(s.push(Wae(a)),!(!a.cause||!(a.cause instanceof Error)));c++)a=a.cause;o.exception={values:s.reverse()}}return t.type==="message"&&(o.message=t.message,o.level=t.level),o}function Yae(t){if(t instanceof Error)return t;if(typeof t=="string")return new Error(t);if(typeof t=="object"&&t!==null&&!Array.isArray(t)){let n=t,{message:r}=n,i=Rae(n,["message"]),o=new Error(typeof r=="string"?r:IT);return Object.assign(o,i)}let e=new Error(IT);return Object.assign(e,{cause:t})}function Jae(t,e,n){return Eh(this,null,function*(){var r,i;try{if(typeof fetch<"u"&&typeof AbortSignal<"u"){let o;if(n){let c=new AbortController;o=c.signal,setTimeout(()=>c.abort(),n)}let s=yield fetch(t,Ij(ko({},e),{signal:o})),a=yield s.text();return{status:s.status,body:a}}return yield new Promise((o,s)=>{var a,c;let l=new XMLHttpRequest;if(l.open((a=e==null?void 0:e.method)!=null?a:"GET",t),l.onload=()=>o({status:l.status,body:l.responseText}),l.onerror=()=>s(new Error("XHR Network Error")),e==null?void 0:e.headers)for(let[u,f]of Object.entries(e.headers))l.setRequestHeader(u,f);if(n){let u=setTimeout(()=>{l.abort(),s(new Error("Request timed out"))},n);l.onloadend=()=>{clearTimeout(u)}}l.send((c=e==null?void 0:e.body)==null?void 0:c.toString())})}catch(o){return{status:0,body:(i=(r=o==null?void 0:o.toString)==null?void 0:r.call(o))!=null?i:"Unknown error"}}})}var ro,RS=(ro=class{constructor(t){qr(this,"apiURL"),qr(this,"dsn"),qr(this,"environment"),qr(this,"release"),qr(this,"sampleRate"),qr(this,"debug"),qr(this,"_scope"),qr(this,"shouldBuffer",!1),qr(this,"bufferlimit",20),qr(this,"buffer",[]);var e,n,r,i,o;this.environment=t.environment,this.release=t.release,this.sampleRate=(e=t.sampleRate)!=null?e:1,this.debug=(n=t.debug)!=null?n:!1,this._scope=(r=t.scope)!=null?r:new Bae,this.apiURL=Vae(t.dsn),this.dsn=t.dsn,this.shouldBuffer=(i=t.buffer)!=null?i:!1,this.bufferlimit=(o=t.bufferLimit)!=null?o:20}static init(t){ro._instance||(ro._instance=new ro(t))}static get instance(){if(!ro._instance)throw new Error("Sentry has not been initialized");return ro._instance}log(...t){this.debug&&console.log(...t)}get scope(){return this._scope}static get scope(){return ro.instance.scope}withScope(t){let e=this._scope.child();t(e)}static withScope(t){ro.instance.withScope(t)}captureException(t,e){this.captureEvent({type:"exception",level:"error",error:Yae(t),scope:e??this._scope})}static captureException(t,e){ro.instance.captureException(t,e)}captureMessage(t,e="info",n){this.captureEvent({type:"message",level:e,message:t,scope:n??this._scope})}static captureMessage(t,e="info",n){ro.instance.captureMessage(t,e,n)}captureEvent(t){if(Math.random()>=this.sampleRate){this.log("Dropped event due to sample rate");return}if(this.shouldBuffer){if(this.buffer.length>=this.bufferlimit)return;this.buffer.push(t)}else this.sendEvent(t)}sendEvent(t,e=5e3){return Eh(this,null,function*(){try{this.log("Sending sentry event",t);let n=Gae(t,this.environment,this.release),r={event_id:n.event_id,dsn:this.dsn},i={type:"event"},o=JSON.stringify(r)+`
`+JSON.stringify(i)+`
`+JSON.stringify(n),s=yield Jae(this.apiURL,{method:"POST",headers:{"Content-Type":"application/x-sentry-envelope"},body:o},e);this.log("Sentry response",s.status),s.status!==200&&(console.log(s.body),console.error("Failed to send event to Sentry",s))}catch(n){console.error("Failed to send event",n)}})}flush(t=5e3){return Eh(this,null,function*(){try{this.log("Flushing sentry events",this.buffer.length);let e=this.buffer.splice(0,this.buffer.length).map(n=>this.sendEvent(n,t));yield Promise.all(e),this.log("Flushed all events")}catch(e){console.error("Failed to flush events",e)}})}static flush(t=5e3){return ro.instance.flush(t)}static reset(){ro._instance=void 0}},qr(ro,"_instance"),ro),Zae="https://d233059272824702afc8c43834c4912d@sentry.hcaptcha.com/6",Xae="2.0.1",Qae="production";function ece(t=!0){if(!t)return kT();RS.init({dsn:Zae,release:Xae,environment:Qae});let e=RS.scope;return Nae(e),kT(e)}function kT(t=null){return{addBreadcrumb:e=>{t&&t.addBreadcrumb(e)},captureRequest:e=>{t&&t.setRequest(e)},captureException:e=>{t&&RS.captureException(e,t)}}}function tce({scriptLocation:t,query:e,loadAsync:n=!0,crossOrigin:r="anonymous",apihost:i="https://js.hcaptcha.com",cleanup:o=!0,secureApi:s=!1,scriptSource:a=""}={},c){let l=Mj(t),u=kj(l);return new Promise((f,p)=>{let m=u.document.createElement("script");m.id=Oae,a?m.src=`${a}?onload=${py}`:s?m.src=`${i}/1/secure-api.js?onload=${py}`:m.src=`${i}/1/api.js?onload=${py}`,m.crossOrigin=r,m.async=n;let w=(y,I)=>{try{!s&&o&&l.removeChild(m),I(y)}catch(S){p(S)}};m.onload=y=>w(y,f),m.onerror=y=>{c&&c(m.src),w(y,p)},m.src+=e!==""?`&${e}`:"",l.appendChild(m)})}var Pv=[];function nce(t={cleanup:!0},e){try{e.addBreadcrumb({category:Uu,message:"hCaptcha loader params",data:t});let n=Mj(t.scriptLocation),r=kj(n),i=Pv.find(({scope:s})=>s===r.window);if(i)return e.addBreadcrumb({category:Uu,message:"hCaptcha already loaded"}),i.promise;let o=new Promise((s,a)=>Eh(this,null,function*(){try{r.window[py]=()=>{e.addBreadcrumb({category:Uu,message:"hCaptcha script called onload function"}),s(r.window.hcaptcha)};let c=Tae({custom:t.custom,render:t.render,sentry:t.sentry,assethost:t.assethost,imghost:t.imghost,reportapi:t.reportapi,endpoint:t.endpoint,host:t.host,recaptchacompat:t.recaptchacompat,hl:t.hl});yield tce(ko({query:c},t),l=>{e.captureRequest({url:l,method:"GET"})}),e.addBreadcrumb({category:Uu,message:"hCaptcha loaded",data:i})}catch{e.addBreadcrumb({category:Uu,message:"hCaptcha failed to load"});let l=Pv.findIndex(u=>u.scope===r.window);l!==-1&&Pv.splice(l,1),a(new Error(AT))}}));return Pv.push({promise:o,scope:r.window}),o}catch(n){return e.captureException(n),Promise.reject(new Error(AT))}}function Oj(t,e,n=0){return Eh(this,null,function*(){let r=n<2?"Retry loading hCaptcha Api":"Exceeded maximum retries";try{return yield nce(t,e)}catch(i){return e.addBreadcrumb({category:Uu,message:r}),n>=2?(e.captureException(i),Promise.reject(i)):(n+=1,Oj(t,e,n))}})}function rce(){return Eh(this,arguments,function*(t={}){let e=ece(t.sentry);return yield Oj(t,e)})}function MT(t){var e=t&&t.ownerDocument||document,n=e.defaultView||e.parentWindow||window;return{document:e,window:n}}function RT(t){return t||document.head}var ice=function(t){Aae(e,t);function e(r){var i;return i=t.call(this,r)||this,i._hcaptcha=void 0,i.renderCaptcha=i.renderCaptcha.bind(Jo(i)),i.resetCaptcha=i.resetCaptcha.bind(Jo(i)),i.removeCaptcha=i.removeCaptcha.bind(Jo(i)),i.isReady=i.isReady.bind(Jo(i)),i._onReady=null,i.loadCaptcha=i.loadCaptcha.bind(Jo(i)),i.handleOnLoad=i.handleOnLoad.bind(Jo(i)),i.handleSubmit=i.handleSubmit.bind(Jo(i)),i.handleExpire=i.handleExpire.bind(Jo(i)),i.handleError=i.handleError.bind(Jo(i)),i.handleOpen=i.handleOpen.bind(Jo(i)),i.handleClose=i.handleClose.bind(Jo(i)),i.handleChallengeExpired=i.handleChallengeExpired.bind(Jo(i)),i.ref=be.createRef(),i.apiScriptRequested=!1,i.sentryHub=null,i.captchaId="",i.state={isApiReady:!1,isRemoved:!1,elementId:r.id},i}var n=e.prototype;return n.componentDidMount=function(){var i=this,o=RT(this.props.scriptLocation),s=MT(o);this._hcaptcha=s.window.hcaptcha||void 0;var a=typeof this._hcaptcha<"u";if(a){this.setState({isApiReady:!0},function(){i.renderCaptcha()});return}this.loadCaptcha()},n.componentWillUnmount=function(){var i=this._hcaptcha,o=this.captchaId;this.isReady()&&(i.reset(o),i.remove(o))},n.shouldComponentUpdate=function(i,o){return!(this.state.isApiReady!==o.isApiReady||this.state.isRemoved!==o.isRemoved)},n.componentDidUpdate=function(i){var o=this,s=["sitekey","size","theme","tabindex","languageOverride","endpoint"],a=s.every(function(c){return i[c]===o.props[c]});a||this.removeCaptcha(function(){o.renderCaptcha()})},n.loadCaptcha=function(){if(!this.apiScriptRequested){var i=this.props,o=i.apihost,s=i.assethost,a=i.endpoint,c=i.host,l=i.imghost,u=i.languageOverride,f=i.reCaptchaCompat,p=i.reportapi,m=i.sentry,w=i.custom,y=i.loadAsync,I=i.scriptLocation,S=i.scriptSource,T=i.secureApi,N=i.cleanup,z=N===void 0?!0:N,$={render:"explicit",apihost:o,assethost:s,endpoint:a,hl:u,host:c,imghost:l,recaptchacompat:f===!1?"off":null,reportapi:p,sentry:m,custom:w,loadAsync:y,scriptLocation:I,scriptSource:S,secureApi:T,cleanup:z};rce($).then(this.handleOnLoad,this.handleError).catch(this.handleError),this.apiScriptRequested=!0}},n.renderCaptcha=function(i){var o=this,s=this.props.onReady,a=this.state.isApiReady,c=this.captchaId;if(!(!a||c)){var l=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),u=this._hcaptcha,f=u.render(this.ref.current,l);this.captchaId=f,this.setState({isRemoved:!1},function(){i&&i(),s&&s(),o._onReady&&o._onReady(f)})}},n.resetCaptcha=function(){var i=this._hcaptcha,o=this.captchaId;this.isReady()&&i.reset(o)},n.removeCaptcha=function(i){var o=this,s=this._hcaptcha,a=this.captchaId;this.isReady()&&this.setState({isRemoved:!0},function(){o.captchaId="",s.remove(a),i&&i()})},n.handleOnLoad=function(){var i=this;this.setState({isApiReady:!0},function(){var o=RT(i.props.scriptLocation),s=MT(o);i._hcaptcha=s.window.hcaptcha,i.renderCaptcha(function(){var a=i.props.onLoad;a&&a()})})},n.handleSubmit=function(i){var o=this.props.onVerify,s=this.state.isRemoved,a=this._hcaptcha,c=this.captchaId;if(!(typeof a>"u"||s)){var l=a.getResponse(c),u=a.getRespKey(c);o&&o(l,u)}},n.handleExpire=function(){var i=this.props.onExpire,o=this._hcaptcha,s=this.captchaId;this.isReady()&&(o.reset(s),i&&i())},n.handleError=function(i){var o=this.props.onError,s=this._hcaptcha,a=this.captchaId;this.isReady()&&s.reset(a),o&&o(i)},n.isReady=function(){var i=this.state,o=i.isApiReady,s=i.isRemoved;return o&&!s},n.handleOpen=function(){!this.isReady()||!this.props.onOpen||this.props.onOpen()},n.handleClose=function(){!this.isReady()||!this.props.onClose||this.props.onClose()},n.handleChallengeExpired=function(){!this.isReady()||!this.props.onChalExpired||this.props.onChalExpired()},n.execute=function(i){var o=this;i===void 0&&(i=null),i=typeof i=="object"?i:null;try{var s=this._hcaptcha,a=this.captchaId;if(!this.isReady()){var c,l=new Promise(function(u,f){o._onReady=function(p){try{var m=o._hcaptcha;i&&i.async?m.execute(p,i).then(u).catch(f):u(m.execute(p,i))}catch(w){f(w)}}});return(c=i)!=null&&c.async?l:null}return s.execute(a,i)}catch(u){return i&&i.async?Promise.reject(u):null}},n.close=function(){var i=this._hcaptcha,o=this.captchaId;if(this.isReady())return i.close(o)},n.setData=function(i){var o=this._hcaptcha,s=this.captchaId;this.isReady()&&(i&&typeof i!="object"&&(i=null),o.setData(s,i))},n.getResponse=function(){var i=this._hcaptcha;return i.getResponse(this.captchaId)},n.getRespKey=function(){var i=this._hcaptcha;return i.getRespKey(this.captchaId)},n.render=function(){var i=this.state.elementId;return be.createElement("div",{ref:this.ref,id:i})},e}(be.Component);class Tj{constructor(e){if(ke(this,"authBaseApiUrl",void 0),ke(this,"passwordlessParams",void 0),ke(this,"trackingIdentifier",void 0),ke(this,"version",`web3auth-${moe.split(".")[0]}`),!e.authConnection)throw ft.invalidParams("authConnection is required");if(!e.web3authClientId)throw ft.invalidParams("web3authClientId is required");if(!e.loginHint)throw ft.invalidParams("loginHint is required");if(!e.network)throw ft.invalidParams("network is required");e.authBuildEnv||(e.authBuildEnv=ao.PRODUCTION),this.authBaseApiUrl=`${Eoe[e.authBuildEnv]}/api/v3/auth`,this.passwordlessParams=e}get name(){if(this.passwordlessParams.authConnection===ut.EMAIL_PASSWORDLESS)return"Email";if(this.passwordlessParams.authConnection===ut.SMS_PASSWORDLESS)return"Mobile";throw ft.invalidParams("Invalid authConnection")}get connection(){if(this.passwordlessParams.authConnection===ut.EMAIL_PASSWORDLESS)return"email";if(this.passwordlessParams.authConnection===ut.SMS_PASSWORDLESS)return"sms";throw ft.invalidParams("Invalid authConnection")}get trackingId(){return this.trackingIdentifier}get sessionStorageAvailable(){return r_("sessionStorage")}get whiteLabelParams(){var e;const{uiConfig:n}=this.passwordlessParams;if(!n)return{};const{appName:r,appUrl:i,defaultLanguage:o,mode:s,logoLight:a,logoDark:c,theme:l}=n,u=(e=s==="dark"?c:a)!==null&&e!==void 0?e:"";return{mode:s??"light",name:r??"",url:i??"",language:o??"en",logo:u.includes(".svg")?"":u,theme:l??{}}}set trackingId(e){this.trackingIdentifier=e}async start(e){try{const r=await hd(`${this.authBaseApiUrl}/passwordless/start`,e);if(r&&r.success){var n;this.trackingId=(n=r.data)===null||n===void 0?void 0:n.trackingId,this.sessionStorageAvailable&&window.sessionStorage.setItem("trackingId",this.trackingId)}return r}catch(r){return this.handleError(r)}}async verify(e){try{const n=await hd(`${this.authBaseApiUrl}/passwordless/verify`,e);return n.success?(this.sessionStorageAvailable&&window.sessionStorage.removeItem("trackingId"),{success:!0,data:{id_token:n.id_token}}):{success:!1,error:n.message}}catch(n){return this.handleError(n)}}async handleError(e){let n;if(e.status===429)n="passwordless.error-too-many-requests";else try{const r=await e.json();n=r.error_code?yse(r.error_code):r.message}catch{n="passwordless.something-wrong-error"}return{success:!1,error:n}}}class oce extends Tj{constructor(e){var n;super(e),ke(this,"mailSent",void 0),this.mailSent=!1,this.sessionStorageAvailable&&(this.trackingId=(n=window.sessionStorage.getItem("trackingId"))!==null&&n!==void 0?n:void 0)}async sendVerificationCode({captchaToken:e}){const{loginHint:n,network:r,web3authClientId:i}=this.passwordlessParams,o={client_id:i,web3auth_client_id:i,connection:this.connection,login_hint:n,tracking_id:this.trackingId,whitelabel:this.whiteLabelParams,version:this.version,network:r,flow_type:s_.code,captcha_token:e};return super.start(o)}async verifyCode(e){const{loginHint:n,network:r,web3authClientId:i}=this.passwordlessParams,o={client_id:i,login_hint:n,code:e,connection:"email",tracking_id:this.trackingId,version:this.version,network:r,flow_type:s_.code};return super.verify(o)}}class sce extends Tj{constructor(e){if(super(e),this.sessionStorageAvailable){var n;this.trackingId=(n=window.sessionStorage.getItem("trackingId"))!==null&&n!==void 0?n:void 0}}async sendVerificationCode({captchaToken:e}){const{loginHint:n,network:r,web3authClientId:i}=this.passwordlessParams,o=_e({client_id:i,web3auth_client_id:i,connection:this.connection,login_hint:n,tracking_id:this.trackingId,whitelabel:this.whiteLabelParams,version:this.version,network:r},e&&{captcha_token:e});return super.start(o)}async verifyCode(e){const{loginHint:n,network:r,web3authClientId:i}=this.passwordlessParams,o={client_id:i,login_hint:n,code:e,connection:this.connection,tracking_id:this.trackingId,version:this.version,network:r};return super.verify(o)}}const ace=(t,e)=>{switch(t){case ut.EMAIL_PASSWORDLESS:return new oce(e);case ut.SMS_PASSWORDLESS:return new sce(e);default:throw ft.invalidParams(`Unsupported auth connection: ${t}`)}},cce="test_account_",lce="@example.com",uce="+1-555",dce=(t,e)=>{if(t===ut.EMAIL_PASSWORDLESS)return e.startsWith(cce)&&e.endsWith(lce);if(t===ut.SMS_PASSWORDLESS)return e.startsWith(uce);throw ft.invalidParams(`Unsupported auth connection: ${t}`)},fce=({children:t,content:e,isDark:n=!1,hideHint:r=!1})=>{const[i,o]=be.useState(!1),s=()=>{o(!0)},a=()=>{o(!1)},c=be.useMemo(()=>({borderTop:"8px solid transparent",borderRight:"none",borderBottom:"8px solid transparent",borderLeft:`8px solid ${n?"#ffffff":"#1f2a37"}`,left:"0%",top:"calc(100% - 8px)"}),[n]);return re.jsxs("div",{className:"w3a--relative","aria-hidden":!0,onMouseEnter:s,onMouseLeave:a,onFocus:s,onBlur:a,onClick:a,children:[t,i&&!r&&re.jsxs("div",{"data-popover":!0,role:"tooltip",className:vn("w3a--absolute w3a--z-[45] w3a--shadow-2xl w3a--rounded-lg w3a--bottom-[100%] w3a--left-[50%] w3a--w-max w3a--text-xs w3a--px-[6px] w3a--py-[3px]",n?"w3a--bg-app-white w3a--text-app-gray-900":"w3a--bg-app-gray-800 w3a--text-app-gray-100"),children:[e,re.jsx("div",{className:"w3a--absolute",style:c})]})]})};function OT(t,e,n){const r=t===ut.TWITTER?`login-X${e?"-light":"-dark"}`:`login-${t}${e?"-light":"-dark"}`,i=t===ut.APPLE||t===ut.GITHUB||t===ut.TWITTER?r:`login-${t}-active`;return re.jsxs(re.Fragment,{children:[re.jsx("img",{id:"active-login-img",src:`https://images.web3auth.io/${i}${n}`,alt:"active-login-img",className:"w3a--hidden w3a--size-5 w3a--object-contain group-hover:w3a--block"}),re.jsx("img",{id:"login-img",src:`https://images.web3auth.io/${r}${n}`,alt:"login-img",className:"w3a--block w3a--size-5 w3a--object-contain group-hover:w3a--hidden"})]})}function hce(t){const{visibleRow:e,otherRow:n,isDark:r,canShowMore:i,handleSocialLoginClick:o,handleExpandSocialLogins:s,buttonRadius:a}=t,c=()=>e.length===1?"w3a--grid-cols-1":e.length===2?"w3a--grid-cols-2":e.length===3?"w3a--grid-cols-3":"w3a--grid-cols-4";return e.length!==0&&(n==null?void 0:n.length)===0?re.jsx("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:re.jsxs("div",{className:vn("w3a--grid w3a--w-full w3a--gap-x-2",c()),children:[e.filter((l,u)=>e.length===4?u<=3:u<3).map(l=>re.jsx(fce,{content:"Last Login",isDark:r,hideHint:!0,children:re.jsx(hy,{type:Jf.SOCIAL,props:{showText:!1,method:l.method,isDark:r,isPrimaryBtn:!1,btnStyle:"w3a--flex w3a--items-center !w3a--justify-center w3a--w-full w3a--h-11 w3a--group",children:re.jsx(re.Fragment,{children:OT(l.method,r,".svg")}),onClick:()=>o({connector:l.connector,loginParams:l.loginParams}),buttonRadius:a}},l.method)},l.method)),i&&e.length>4&&re.jsx(hy,{type:Jf.SOCIAL,props:{showIcon:!1,onClick:s,btnStyle:"w3a--flex w3a--items-center !w3a--justify-center w3a--w-full w3a--h-11",children:re.jsx("img",{src:go(r?"dots-dark-horizontal":"dots-light-horizontal"),alt:"Logo",className:"w3a--object-contain"}),buttonRadius:a}})]})}):re.jsxs("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-start w3a--justify-start w3a--gap-y-4",children:[re.jsx("button",{type:"button",className:"w3a--appearance-none",onClick:()=>s(),children:re.jsx("img",{src:go(r?"arrow-left-dark":"arrow-left-light"),alt:"Logo",className:"w3a--object-contain"})}),re.jsx("div",{className:"w3a--social-container w3a--grid w3a--h-[300px] w3a--w-full w3a--auto-rows-min w3a--grid-cols-1 w3a--gap-y-2 w3a--overflow-y-auto w3a--pl-2 w3a--pr-3",children:n.map(l=>re.jsx("div",{className:"w3a--h-11 w3a--w-full",children:re.jsx(hy,{type:Jf.SOCIAL,props:{method:l.method,isDark:r,isPrimaryBtn:!1,onClick:()=>o({connector:l.connector,loginParams:l.loginParams}),btnStyle:"w3a--group w3a--relative w3a--overflow-hidden w3a--flex w3a--items-center !w3a--justify-start w3a--w-full w3a--h-11",buttonRadius:a,children:re.jsxs(re.Fragment,{children:[OT(l.method,r,".svg"),re.jsx("p",{className:"w3a--text-sm w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:l.name}),re.jsx("img",{id:"login-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:go(r?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})}})},l.method))})]})}const Nj=be.forwardRef(({length:t,loading:e,resendTimer:n=60,onComplete:r,onChange:i,error:o=!1,success:s=!1,disabled:a=!1,classes:c,helperText:l="",onResendTimer:u,showCta:f=!0,showTimer:p=!0,autoFocus:m=!1,placeholder:w="",autoComplete:y="one-time-code",type:I="text",resendBtnText:S=""},T)=>{const[N,z]=be.useState(Array(t).fill("")),[$,H]=be.useState(n??0),[K]=Hi(void 0,{i18n:yn}),j=be.useRef([]),B=A=>/^\d$/.test(A)&&A.trim().length===1,D=(A,L)=>{if(A.key==="Backspace"||A.key==="Delete"){A.preventDefault();const R=[...N];if(N[L]!=="")R[L]="";else if(L>0){var C;(C=j.current[L-1])===null||C===void 0||C.focus(),R[L-1]=""}z(R),i&&i(R.join(""))}else if(A.key==="ArrowLeft"){var O;A.preventDefault(),(O=j.current[L-1])===null||O===void 0||O.focus()}else if(A.key==="ArrowRight"){var x;A.preventDefault(),(x=j.current[L+1])===null||x===void 0||x.focus()}else(A.key===" "||A.key==="Spacebar"||A.key==="Space"||!B(A.key)&&j.current[L+1])&&(A.preventDefault(),j.current[L+1].value="")},P=(A,L)=>{A.preventDefault();const{value:C}=A.target;if(C&&C.length>1&&C.length===t){var O;const R=C.split(""),_=[...N];R.forEach((k,U)=>{_[U]=k}),z(_),(O=j.current[R.length===t?t-1:R.length])===null||O===void 0||O.focus(),r&&t===_.length&&r(_.join(""))}else if(B(C)){const R=[...N].slice(0,t);R[L]=C,z(R);const _=R.join("");if(L<t-1&&j.current[L+1]){var x;(x=j.current[L+1])===null||x===void 0||x.focus()}i&&i(C),r&&t===_.length&&r(_)}},E=A=>{A.preventDefault();const L=A.clipboardData.getData("text").slice(0,t);if(L&&/^\d+$/.test(L)){var C;const O=L.split(""),x=[...N];O.forEach((R,_)=>{x[_]=R}),z(x),(C=j.current[O.length===t?t-1:O.length])===null||C===void 0||C.focus(),r&&t===x.length&&r(x.join(""))}},b=()=>{H(n||0),u&&u()};be.useEffect(()=>{let A=null;return f&&p&&(A=window.setInterval(()=>{$>0?H(L=>L-1):clearInterval(A)},1e3)),()=>{clearInterval(A)}},[$]),be.useEffect(()=>{if(j&&m){var A;(A=j.current)===null||A===void 0||A[0].focus()}},[m]);const g=vn("w3a--text-xs w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-white w3a--mt-2",{"w3a--text-app-red-500 dark:w3a--text-app-red-400":o,"w3a--text-app-green-500 dark:w3a--text-app-green-400":s},c==null?void 0:c.helperText),v=new Date().getFullYear();return re.jsxs("div",{className:vn("w3a--flex w3a--flex-col w3a--items-center",c==null?void 0:c.root),ref:T,children:[re.jsx("form",{className:vn("w3a--flex w3a--space-x-2",c==null?void 0:c.inputContainer),children:N.map((A,L)=>{var C,O,x;return re.jsx("input",{id:`${v+L}`,type:I,value:A,autoComplete:y,placeholder:Array.isArray(w)?w[L]:w,inputMode:"numeric",onInput:R=>P(R,L),onKeyUp:R=>D(R,L),onPaste:E,className:vn("w3a--w-12 w3a--h-[42px] w3a--rounded-full w3a--border w3a--text-center w3a--text-xl w3a--focus:outline-none w3a--active:outline-none w3a--focus:border-app-primary-600 dark:w3a--focus:border-app-primary-500 w3a--border-app-gray-300 dark:w3a--border-app-gray-500 w3a--bg-app-gray-50 dark:w3a--bg-app-gray-700 w3a--text-app-gray-900 dark:w3a--text-app-white",s&&((C=c==null?void 0:c.success)!==null&&C!==void 0?C:"w3a--border-app-green-400 dark:w3a--border-app-green-500 w3a--focus:w3a--border-app-green-400 dark:w3a--focus:w3a--border-app-green-500"),o&&((O=c==null?void 0:c.error)!==null&&O!==void 0?O:"w3a--border-app-red-600 dark:w3a--border-app-red-500 w3a--focus:w3a--border-app-red-600 dark:w3a--focus:w3a--border-app-red-500"),a&&((x=c==null?void 0:c.disabled)!==null&&x!==void 0?x:"w3a--border-app-gray-200 w3a--bg-app-gray-200 dark:w3a--border-app-gray-700 w3a--focus:w3a--border-app-gray-200 dark:w3a--focus:w3a--border-app-gray-700 w3a--cursor-not-allowed"),c==null?void 0:c.input),ref:R=>{j.current[L]=R},disabled:a},`${v+L}`)})}),l&&re.jsx("p",{className:g,children:l}),e&&re.jsx("div",{className:"w3a--mt-3",children:re.jsx(U4,{})}),f&&!e&&re.jsx("div",{className:vn("w3a--flex w3a--items-center w3a--mt-3",c==null?void 0:c.ctaContainer),children:$>0&&p?re.jsx("span",{className:vn("w3a--text-xs w3a--text-app-gray-500 dark:w3a--text-app-gray-400",c==null?void 0:c.timerText),children:K("modal.resendTimer",{timer:$})}):re.jsx("button",{type:"button",className:vn("w3a--text-xs w3a--p-0 w3a--text-app-primary-600 dark:w3a--text-app-primary-500",c==null?void 0:c.resendBtnText),onClick:b,disabled:$>0&&p,children:S||K("modal.resendCode")})})]})});Nj.displayName="OtpInput";function pce(t){const{setShowOtpFlow:e,handleOtpComplete:n,authConnection:r,loginHint:i="",errorMessage:o,otpLoading:s,countryFlag:a}=t,c=be.useMemo(()=>r===ut.SMS_PASSWORDLESS,[r]),[l]=Hi(void 0,{i18n:yn}),u=be.useMemo(()=>{if(r===ut.EMAIL_PASSWORDLESS)return i;const[f,p]=i.includes("-")?i.split("-"):["",i],m=`${p}`.slice(-Math.floor(p.length/2)).padStart(`${p}`.length,"*");return`${a} ${f} ${m}`},[i,r,a]);return re.jsxs(re.Fragment,{children:[re.jsx("div",{className:"w3a--mr-auto w3a--flex w3a--w-full w3a--items-start w3a--justify-start",children:re.jsx("button",{type:"button",className:"w3a--z-20 w3a--flex w3a--size-5 w3a--cursor-pointer w3a--items-center w3a--justify-center w3a--rounded-full",onClick:()=>e(!1),children:re.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:re.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.707 16.707a1 1 0 0 1-1.414 0l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 1.414L5.414 9H17a1 1 0 1 1 0 2H5.414l4.293 4.293a1 1 0 0 1 0 1.414",clipRule:"evenodd"})})})}),re.jsxs("div",{className:"-w3a--mt-10 w3a--flex w3a--size-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[re.jsx("img",{src:go(c?"sms-otp-light":"email-otp-light"),alt:"otp",className:"w3a--size-auto"}),re.jsxs("div",{className:"w3a--mx-auto -w3a--mt-6 w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:[re.jsx("p",{className:"w3a--text-lg w3a--font-bold w3a--text-app-gray-900 dark:w3a--text-app-white",children:l(c?"modal.otp.mobile-title":"modal.otp.email-title")}),re.jsxs("div",{className:"w3a--mx-auto w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-1",children:[re.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:l(c?"modal.otp.mobile-subtext":"modal.otp.email-subtext")}),re.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:c?u:l("modal.otp.email-subtext-example",{email:u})})]})]}),re.jsx(Nj,{length:6,onComplete:n,error:!!o,helperText:o,loading:s,disabled:s})]})]})}function gce(t){const{otpLoading:e,setShowOtpFlow:n,handleOtpComplete:r,authConnection:i,loginHint:o,errorMessage:s,countryFlag:a}=t;return re.jsx("div",{className:"w3a--flex w3a--size-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:re.jsx(pce,{errorMessage:s,setShowOtpFlow:n,handleOtpComplete:r,authConnection:i,loginHint:o,otpLoading:e,countryFlag:a})})}function mce(t){const{isModalVisible:e,isPasswordLessCtaClicked:n,setIsPasswordLessCtaClicked:r,title:i,placeholder:o,handleFormSubmit:s,errorMessage:a,isDark:c,isPasswordLessLoading:l,buttonRadius:u}=t,[f]=Hi(void 0,{i18n:yn}),p=be.useRef(null),[m,w]=be.useState(""),[y,I]=be.useState(!1),S=z=>{w(z.target.value),I(!0)},T=z=>{const{key:$}=z;$==="Enter"&&(s(m),I(!1))},N=z=>{z.preventDefault(),z.stopPropagation(),s(m),I(!1)};return be.useEffect(()=>{e||r(!1)},[e,r]),be.useEffect(()=>{if(n){var z;(z=p.current)===null||z===void 0||z.focus()}},[n]),n?re.jsxs(re.Fragment,{children:[re.jsxs("div",{className:vn("w3a--input",y&&"!w3a--border-app-primary-600",{"w3a--rounded-full":u==="pill","w3a--rounded-lg":u==="rounded","w3a--rounded-none":u==="square"}),children:[re.jsx("input",{ref:p,onInput:S,value:m,placeholder:o,onFocus:()=>{I(!0)},onBlur:z=>{z.target.placeholder=`${o}`,I(!1)},type:"text",className:vn("w3a--w-full w3a--appearance-none w3a--bg-transparent w3a--text-app-gray-900 w3a--outline-none placeholder:w3a--text-xs placeholder:w3a--text-app-gray-400 focus:w3a--outline-none active:w3a--outline-none dark:w3a--text-app-white dark:placeholder:w3a--text-app-gray-500"),onKeyDown:z=>T(z),disabled:l}),l&&re.jsx(U4,{}),m&&!l&&re.jsx("button",{type:"button",className:"w3a--appearance-none",onClick:N,children:re.jsx("img",{src:go(c?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})})]}),a&&!y&&n&&re.jsx("p",{className:"w3a--w-full w3a--pl-6 w3a--text-start w3a--text-xs w3a--font-normal w3a--text-app-red-500 dark:w3a--text-app-red-400",children:a})]}):re.jsxs("button",{type:"button",className:vn("w3a--btn !w3a--justify-between w3a--relative w3a--group w3a--overflow-hidden",{"w3a--rounded-full":u==="pill","w3a--rounded-lg":u==="rounded","w3a--rounded-none":u==="square"}),onClick:()=>{r(!0)},children:[re.jsx("p",{className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:f("modal.passwordless.title",{title:i})}),re.jsx("img",{id:"passwordless-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:go(c?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})}const vce=[ut.SMS_PASSWORDLESS,ut.EMAIL_PASSWORDLESS,ut.AUTHENTICATOR,ut.PASSKEYS,ut.TELEGRAM,ut.CUSTOM];function yce(t){const{web3authClientId:e,web3authNetwork:n,authBuildEnv:r,appLogo:i,isModalVisible:o,handleSocialLoginHeight:s,socialLoginsConfig:a,installedExternalWalletConfig:c,isDark:l,handleSocialLoginClick:u,totalExternalWallets:f,isEmailPasswordLessLoginVisible:p,isSmsPasswordLessLoginVisible:m,handleExternalWalletBtnClick:w,handleExternalWalletClick:y,areSocialLoginsVisible:I,showPasswordLessInput:S,showExternalWalletButton:T,showExternalWalletCount:N,showInstalledExternalWallets:z,logoAlignment:$="center",buttonRadius:H="pill",deviceDetails:K}=t,[j]=Hi(void 0,{i18n:yn}),{bodyState:B,setBodyState:D}=be.useContext(bg),{analytics:P}=be.useContext(F4),[E,b]=be.useState(""),[g,v]=be.useState(""),[A,L]=be.useState(""),[C,O]=be.useState(""),[x,R]=be.useState(!1),[_,k]=be.useState(!1),[U,q]=be.useState([]),[V,Q]=be.useState([]),[Y,X]=be.useState(!1),[ee,ie]=be.useState(!1),[oe,te]=be.useState(void 0),[se,ue]=be.useState(void 0),[me,ye]=be.useState(!1),[pe,de]=be.useState(!1),[Ee,Ce]=be.useState(!1),[we,$e]=be.useState(""),ze=be.useRef(null),Ze=()=>{R(Ve=>!Ve),X(!1),s()};be.useEffect(()=>{const Ve=Object.keys(a.loginMethods).filter(le=>a.loginMethods[le].showOnModal),jt=[],Nt=[],gt=(a.loginMethodsOrder||[]).reduce((le,fe,He)=>(le[fe]=He,le),{}),Mt=Object.keys(a.loginMethods).filter(le=>!!a.loginMethods[le].showOnModal&&!vce.includes(le)).sort((le,fe)=>{var He,Ue;const Ge=(a.loginMethodsOrder||[]).length,Pt=(He=gt[le])!==null&&He!==void 0?He:Ge,Jt=(Ue=gt[fe])!==null&&Ue!==void 0?Ue:Ge,{mainOption:Lt}=a.loginMethods[le]||{},{mainOption:Qt}=a.loginMethods[fe]||{};return Lt&&Qt?Pt-Jt:Lt?-1:Qt?1:Pt-Jt});Mt.forEach((le,fe)=>{var He;const Ue=a.loginMethods[le],Ge=j4(Ue.name||le),Pt=fe+1,Jt=(a==null||(He=a.uiConfig)===null||He===void 0?void 0:He.primaryButton)==="socialLogin"&&Pt===1,Lt=Mt.length;(Lt>=4?Pt>0&&Pt<=Lt:Pt>0&&Pt<4)&&jt.push({method:le,isDark:l,isPrimaryBtn:Jt,name:Ge,connector:a.connector,loginParams:{authConnection:Ue.authConnection||le,authConnectionId:Ue.authConnectionId,groupedAuthConnectionId:Ue.groupedAuthConnectionId,extraLoginOptions:Ue.extraLoginOptions,name:Ge,login_hint:""},order:Pt}),Nt.push({method:le,isDark:l,isPrimaryBtn:Jt,name:Ge==="Twitter"?"X":Ge,connector:a.connector,loginParams:{authConnection:le,authConnectionId:Ue.authConnectionId,groupedAuthConnectionId:Ue.groupedAuthConnectionId,extraLoginOptions:Ue.extraLoginOptions,name:Ge,login_hint:""},order:Pt})}),q(jt),Q(Nt),k(Ve.length>4)},[a,l,H]);const We=async(Ve,jt)=>{try{const gt=ace(Ve,{loginHint:jt,web3authClientId:e,network:n,uiConfig:a.uiConfig,authConnection:Ve,authBuildEnv:r});let Mt;if(!dce(Ve,jt)){var Nt;const fe=await((Nt=ze.current)===null||Nt===void 0?void 0:Nt.execute({async:!0}));if(!fe)throw Ft.connectionError("Captcha token is required");Mt=fe.response}const le=await gt.sendVerificationCode({captchaToken:Mt});if(le!=null&&le.error){L(j(le.error));return}te(Ve),ie(!0),ue(gt)}catch(gt){ct.error(gt)}finally{ye(!1)}},ne=async Ve=>{if(ye(!0),p&&Ve.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i)){const Nt=a.loginMethods[ut.EMAIL_PASSWORDLESS];return Nt.isDefault?u({connector:a.connector,loginParams:{authConnection:ut.EMAIL_PASSWORDLESS,authConnectionId:Nt.authConnectionId,groupedAuthConnectionId:Nt.groupedAuthConnectionId,extraLoginOptions:Nt.extraLoginOptions,loginHint:Ve,name:"Email"}}):We(ut.EMAIL_PASSWORDLESS,Ve)}if(m){const jt=Ve.startsWith("+")?Ve:`${E}${Ve}`,Nt=await mse(jt);if(Nt.success){const gt=typeof Nt.parsed_number=="string"?Nt.parsed_number:jt,Mt=a.loginMethods[ut.SMS_PASSWORDLESS];return Mt.isDefault?u({connector:a.connector,loginParams:{authConnection:ut.SMS_PASSWORDLESS,authConnectionId:Mt.authConnectionId,groupedAuthConnectionId:Mt.groupedAuthConnectionId,extraLoginOptions:Mt.extraLoginOptions,loginHint:gt,name:"Mobile"}}):(v(Nt.country_flag),We(ut.SMS_PASSWORDLESS,gt))}}L(ce),ye(!1)},G=be.useMemo(()=>j(p&&m?"modal.social.passwordless-title":p?"modal.social.email":"modal.social.phone"),[p,m,j]),Z=be.useMemo(()=>p&&m?"+(00)123456/name@example.com":p?"name@example.com":"+(00)123456",[p,m]),ce=be.useMemo(()=>j(p&&m?"modal.errors-invalid-number-email":p?"modal.errors-invalid-email":"modal.errors-invalid-number"),[p,m,j]);be.useEffect(()=>{m&&(async()=>{const jt=await gse();jt&&jt.dialCode&&b(jt.dialCode)})()},[m]);const ge=Ve=>{P==null||P.track(Dn.EXTERNAL_WALLET_LIST_EXPANDED,{total_external_wallets:f,installed_external_wallets:lt.length}),X(!1),Ve.preventDefault(),w&&w(!0)},Ae=async Ve=>{de(!0),C&&O("");try{var jt;const gt=a.loginMethods[oe],Mt=await(se==null?void 0:se.verifyCode(Ve));if(Mt!=null&&Mt.error){O(j(Mt.error));return}if(Mt!=null&&(jt=Mt.data)!==null&&jt!==void 0&&jt.id_token){var Nt;return u({connector:a.connector,loginParams:{authConnection:oe,authConnectionId:gt.authConnectionId,groupedAuthConnectionId:gt.groupedAuthConnectionId,extraLoginOptions:_e(_e({},gt.extraLoginOptions),{},{id_token:(Nt=Mt.data)===null||Nt===void 0?void 0:Nt.id_token}),loginHint:se.passwordlessParams.loginHint,name:se.name}})}}catch(gt){ct.error(gt)}finally{de(!1)}},Re=Ve=>{var jt;if(P==null||P.track(Dn.EXTERNAL_WALLET_SELECTED,{connector:Ve.name,wallet_name:Ve.displayName,is_installed:Ve.isInstalled,is_injected:Ve.hasInjectedWallet,chain_namespaces:Ve.chainNamespaces,has_wallet_connect:Ve.hasWalletConnect,has_install_links:Ve.hasInstallLinks,has_wallet_registry_item:!!Ve.walletRegistryItem,total_external_wallets:f}),Ve.name===St.METAMASK&&!Ve.hasInjectedWallet&&K.platform==="desktop"){y({connector:Ve.name}),D(_e(_e({},B),{},{metamaskQrCode:{show:!0,wallet:Ve}}));return}((jt=Ve.chainNamespaces)===null||jt===void 0?void 0:jt.length)>1?D(_e(_e({},B),{},{multiChainSelector:{show:!0,wallet:Ve}})):y({connector:Ve.name})},lt=be.useMemo(()=>z?c:c.filter(Ve=>Ve.name===St.METAMASK),[c,z]);if(ee)return re.jsx(gce,{otpLoading:pe,loginHint:se==null?void 0:se.passwordlessParams.loginHint,setShowOtpFlow:ie,authConnection:oe,handleOtpComplete:Ae,errorMessage:C,countryFlag:g});const Ct=(Ve=[])=>re.jsx(hce,{otherRow:Ve,isDark:l,visibleRow:U,canShowMore:_,handleSocialLoginClick:u,socialLoginsConfig:a,handleExpandSocialLogins:Ze,buttonRadius:H},"social-login-section"),ot=()=>re.jsx(mce,{isModalVisible:o,isPasswordLessCtaClicked:Y,setIsPasswordLessCtaClicked:X,title:G,placeholder:Z,handleFormSubmit:ne,errorMessage:A,isDark:l,buttonRadius:H,isPasswordLessLoading:me},"passwordless-section"),Ot=()=>re.jsxs("div",{className:vn("w3a--flex w3a--w-full w3a--flex-col w3a--items-start w3a--justify-start w3a--gap-y-2"),children:[lt.length>0&&lt.map(Ve=>re.jsxs("button",{type:"button",className:vn("w3a--btn !w3a--justify-between w3a--group w3a--relative w3a--overflow-hidden",{"w3a--rounded-full":H==="pill","w3a--rounded-lg":H==="rounded","w3a--rounded-none":H==="square"}),onClick:()=>Re(Ve),children:[re.jsx("p",{className:"w3a--max-w-[180px] w3a--truncate w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:Ve.displayName}),re.jsxs("div",{className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--flex w3a--w-auto -w3a--translate-y-1/2 w3a--items-center w3a--gap-x-2 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0",children:[Ve.hasInjectedWallet&&re.jsx("span",{className:"w3a--inline-flex w3a--items-center w3a--rounded-md w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:j("modal.external.installed")}),re.jsx("figure",{className:"w3a--size-5",children:re.jsx(ds,{imageData:Ve.icon,imageId:`login-${Ve.name}`,hoverImageId:`login-${Ve.name}`,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:Ve.imgExtension||"webp"})})]}),re.jsx("img",{id:"injected-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:go(l?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]},Ve.name)),f>3&&re.jsxs("button",{type:"button",className:vn("w3a--btn !w3a--justify-between w3a--group w3a--relative w3a--overflow-hidden",{"w3a--rounded-full":H==="pill","w3a--rounded-lg":H==="rounded","w3a--rounded-none":H==="square"}),onClick:ge,children:[re.jsx("p",{className:"w3a--text-base w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:j("modal.external.all-wallets")}),N&&f>0&&re.jsx("div",{id:"external-wallet-count",className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--w-auto -w3a--translate-y-1/2 w3a--rounded-full w3a--bg-app-primary-100 w3a--px-2.5 w3a--py-0.5 w3a--text-xs w3a--font-medium w3a--text-app-primary-800 w3a--transition-all w3a--delay-300 w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0 group-hover:w3a--delay-0 dark:w3a--border dark:w3a--border-app-primary-500 dark:w3a--bg-transparent dark:w3a--text-app-primary-500",children:f-1}),re.jsx("img",{id:"external-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:go(l?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})]},"external-wallets-section"),vt=[tj,ej].includes(i)?"":i,xt=Ve=>re.jsxs("div",{className:vn("w3a--flex w3a--w-full w3a--items-center w3a--gap-x-2",vt?"w3a--my-2":"w3a--my-4"),children:[re.jsx("div",{className:"w3a--h-px w3a--w-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-500"}),re.jsx("p",{className:"w3a--text-xs w3a--font-normal w3a--uppercase w3a--text-app-gray-400 dark:w3a--text-app-gray-400",children:"or"}),re.jsx("div",{className:"w3a--h-px w3a--w-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-500"})]},`section-delimiter-${Ve}`),hn=()=>{var Ve;const jt={social:Ct,passwordless:ot,externalWallets:Ot},Nt={social:I,passwordless:S,externalWallets:T},gt=((Ve=a.uiConfig)===null||Ve===void 0?void 0:Ve.signInMethods)||["social","passwordless","externalWallets"];Object.entries(Nt).forEach(([le,fe])=>{fe&&!gt.includes(le)&&gt.push(le)});const Mt=gt.map(le=>Nt[le]&&jt[le]()).filter(Boolean);if(Mt.length===3){const le=gt.findIndex(fe=>fe==="externalWallets");le===0?Mt.splice(1,0,xt(1)):le===1?(Mt.splice(1,0,xt(1)),Mt.splice(3,0,xt(2))):le===2&&Mt.splice(2,0,xt(1))}else Mt.length===2&&Nt.externalWallets&&Mt.splice(1,0,xt(1));return Mt},rn=()=>Ct(V);return re.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-4 w3a--p-2",children:[re.jsxs("div",{className:vn("w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2 w3a--pt-6",$==="center"?"":"w3a--w-full"),children:[vt&&re.jsx("figure",{className:vn("w3a--mx-auto w3a--h-12 w3a--w-[200px]",$==="center"?"w3a--flex w3a--justify-center w3a--items-center":"w3a--ml-0 w3a--w-auto"),children:re.jsx("img",{src:vt,alt:"Logo",className:"w3a--size-full w3a--object-contain"})}),re.jsx("p",{className:vn("w3a--text-app-gray-900 dark:w3a--text-app-white",$==="center"?"w3a--text-center":"w3a--text-left w3a--w-full w3a--ml-4",vt?"w3a--text-lg w3a--font-semibold":"w3a--text-3xl w3a--font-medium"),children:j("modal.social.sign-in")})]}),re.jsx(ice,{ref:ze,sitekey:xoe,size:"invisible",languageOverride:a.uiConfig.defaultLanguage,theme:a.uiConfig.theme,onOpen:()=>Ce(!0),onClose:()=>Ce(!1),onError:()=>$e("passwordless.captcha-default-error"),onChalExpired:()=>$e("passwordless.captcha-default-error")}),we&&Ee&&re.jsx("p",{className:"-w3a--mt-2 w3a--w-full w3a--pl-6 w3a--text-start w3a--text-xs w3a--font-normal w3a--text-app-red-500 dark:w3a--text-app-red-400",children:j(we)}),!Ee&&re.jsxs("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:[!x&&hn(),x&&rn()]})]})}const wce=()=>{const{toast:t,setToast:e}=be.useContext(bg);if(be.useEffect(()=>{t.message&&setTimeout(()=>{e({message:"",type:fw.SUCCESS})},3e3)},[t.message,e]),!t.message)return null;const n={success:"w3a--border-app-green-200 w3a--bg-app-green-100 w3a--text-app-green-900",error:"w3a--border-app-red-200 w3a--bg-app-red-100 w3a--text-app-red-900",warning:"w3a--border-app-yellow-200 w3a--bg-app-yellow-100 w3a--text-app-yellow-900",info:"w3a--border-app-blue-200 w3a--bg-app-blue-100 w3a--text-app-blue-900"},r={success:"w3a--text-app-green-900",error:"w3a--text-app-red-900",warning:"w3a--text-app-yellow-900",info:"w3a--text-app-blue-900"};return re.jsxs("div",{className:`w3a--absolute w3a--inset-x-4 w3a--bottom-4 w3a--z-[60] w3a--mx-auto w3a--w-[90%] w3a--rounded-md w3a--border w3a--p-4 w3a--text-sm ${n[t.type]}`,children:[re.jsx("div",{className:"w3a--absolute w3a--right-4 w3a--top-4 w3a--z-10 w3a--cursor-pointer",children:re.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:()=>e({message:"",type:fw.SUCCESS}),className:r[t.type],children:re.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),re.jsxs("div",{className:"w3a--flex w3a--items-center w3a--gap-2",children:[re.jsx("p",{className:r[t.type],children:"x"}),re.jsx("p",{children:t.message})]})]})};function TT(t){var e,n,r,i,o,s,a;const{setModalState:c,modalState:l,handleExternalWalletBtnClick:u,chainNamespaces:f,walletRegistry:p,appLogo:m,onCloseLoader:w,handleSocialLoginClick:y,showPasswordLessInput:I,showExternalWalletButton:S,socialLoginsConfig:T,areSocialLoginsVisible:N,isEmailPrimary:z,isExternalPrimary:$,showExternalWalletPage:H,isEmailPasswordLessLoginVisible:K,isSmsPasswordLessLoginVisible:j,preHandleExternalWalletClick:B,uiConfig:D,deviceDetails:P}=t,{logoAlignment:E="center",buttonRadiusType:b="pill",privacyPolicy:g="",tncLink:v="",displayInstalledExternalWallets:A=!0,displayExternalWalletsCount:L=!0}=D,[C]=Hi(void 0,{i18n:yn}),{isDark:O}=be.useContext(p1),[x,R]=be.useState({metamaskQrCode:{show:!1,wallet:null},installLinks:{show:!1,wallet:null},multiChainSelector:{show:!1,wallet:null}}),[_,k]=be.useState({message:"",type:fw.SUCCESS}),[U,q]=be.useState(!1),[V,Q]=be.useState(!1),Y=We=>{c(_e(_e({},l),{},{currentPage:Fu.CONNECT_WALLET})),u&&u(We)},X=We=>{c(_e(_e({},l),{},{currentPage:Fu.LOGIN})),u&&u(We)},ee=be.useMemo(()=>{var We;if(P.platform==="desktop")return[];const ne=((We=x.installLinks)===null||We===void 0||(We=We.wallet)===null||We===void 0||(We=We.walletRegistryItem)===null||We===void 0?void 0:We.app)||{};return Object.keys(ne).reduce((Z,ce)=>{if(!["android","ios"].includes(ce))return Z;const ge=ne[ce];if(!ge)return Z;const Ae=fse(ce,ge);if(!Ae)return Z;const Re=`${ce}-light`,lt=`${ce}-dark`;return Z.push(re.jsx("li",{className:"w3a--w-full",children:re.jsx("a",{href:Ae,rel:"noopener noreferrer",target:"_blank",children:re.jsxs("button",{type:"button",className:vn("w3a--group w3a--relative w3a--overflow-hidden w3a--h-11 w3a--flex w3a--w-full w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--border w3a--border-app-gray-200 w3a--bg-app-gray-50 w3a--px-5 w3a--py-2.5 hover:w3a--translate-y-[0.5px] hover:w3a--border-app-gray-50 dark:w3a--border-app-gray-500 dark:w3a--bg-app-gray-800 dark:hover:w3a--border-app-gray-800",{"w3a--rounded-full":b==="pill","w3a--rounded-lg":b==="rounded","w3a--rounded-none":b==="square"}),children:[re.jsx(ds,{imageId:Re,darkImageId:lt,hoverImageId:Re,darkHoverImageId:lt,height:"28",width:"28",isButton:!0}),re.jsx("span",{className:"w3a--text-sm w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:C("modal.external.install-mobile-app",{os:hse(ce)})}),re.jsx("img",{id:"install-links-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:go(O?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})})},Ae)),Z},[])},[(e=x.installLinks)===null||e===void 0||(e=e.wallet)===null||e===void 0||(e=e.walletRegistryItem)===null||e===void 0?void 0:e.app,P.platform,O,C,b]),ie=be.useMemo(()=>{var We;if(P.platform!=="desktop")return[];const ne=P.browser==="brave"?"chrome":P.browser,G=((We=x.installLinks)===null||We===void 0||(We=We.wallet)===null||We===void 0||(We=We.walletRegistryItem)===null||We===void 0?void 0:We.app)||{},Z=G.browser&&G.browser.includes(ne)?G.browser:void 0,ce=G[ne]||Z,ge=ce?dse(ne,ce):null;return[ge?re.jsx("li",{children:re.jsx("a",{href:ge,rel:"noopener noreferrer",target:"_blank",children:re.jsxs("button",{type:"button",className:vn("w3a--group w3a--relative w3a--overflow-hidden w3a--h-11 w3a--flex w3a--w-full w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--border w3a--border-app-gray-200 w3a--bg-app-gray-50 w3a--px-5 w3a--py-2.5 hover:w3a--translate-y-[0.5px] hover:w3a--border-app-gray-50 dark:w3a--border-app-gray-500 dark:w3a--bg-app-gray-800 dark:hover:w3a--border-app-gray-800",{"w3a--rounded-full":b==="pill","w3a--rounded-lg":b==="rounded","w3a--rounded-none":b==="square"}),children:[re.jsx(ds,{imageId:P.browser,darkImageId:P.browser,hoverImageId:P.browser,darkHoverImageId:P.browser,height:"30",width:"30",isButton:!0}),re.jsx("span",{className:"w3a--text-sm w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:C("modal.external.install-browser-extension",{browser:pse(P.browser)})}),re.jsx("img",{id:"install-links-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:go(O?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})})},ge):null,...ee]},[(n=x.installLinks)===null||n===void 0||(n=n.wallet)===null||n===void 0||(n=n.walletRegistryItem)===null||n===void 0?void 0:n.app,P.browser,P.platform,O,ee,b,C]),oe=be.useMemo(()=>l.externalWalletsConfig,[l.externalWalletsConfig]),te=be.useMemo(()=>{const We={};return Object.keys(oe).forEach(ne=>{var G;We[ne]=!!(!((G=oe[ne])===null||G===void 0)&&G.showOnModal)}),We},[oe]),se=be.useMemo(()=>Object.keys((p==null?void 0:p.default)||{}).length>0||Object.keys((p==null?void 0:p.others)||{}).length>0,[p]),ue=be.useCallback(We=>Object.keys(We).reduce((ne,G)=>{var Z,ce,ge;if(te[G]===!1)return ne;const Ae=We[G];let Re="";if(P.platform!=="desktop"){var lt,Ct;const Ve=Ae==null||(lt=Ae.mobile)===null||lt===void 0?void 0:lt.universal,jt=Ae==null||(Ct=Ae.mobile)===null||Ct===void 0?void 0:Ct.native;Re=Ve||jt}const ot=oe[G],Ot=(ot==null?void 0:ot.chainNamespaces)||[],vt=new Set((Z=Ae.chains)===null||Z===void 0?void 0:Z.map(Ve=>Ve.split(":")[0])),xt=new Set((ce=Ae.injected)===null||ce===void 0?void 0:ce.map(Ve=>Ve.namespace)),hn=f.filter(Ve=>vt.has(Ve)||xt.has(Ve)||Ot.includes(Ve)),rn={name:G,displayName:Ae.name,href:Re,hasInjectedWallet:(ot==null?void 0:ot.isInjected)||!1,isInstalled:!!ot,hasWalletConnect:se&&((ge=Ae.walletConnect)===null||ge===void 0||(ge=ge.sdks)===null||ge===void 0?void 0:ge.includes("sign_v2")),hasInstallLinks:Object.keys(Ae.app||{}).length>0,walletRegistryItem:Ae,imgExtension:Ae.imgExtension||"svg",icon:ot==null?void 0:ot.icon,chainNamespaces:hn};return!rn.hasInjectedWallet&&!rn.hasWalletConnect&&!rn.hasInstallLinks||hn.length===0||ne.push(rn),ne},[]),[te,f,oe,P.platform,se]),me=be.useMemo(()=>[...ue(p.default),...ue(p.others)],[ue,p.default,p.others]),ye=be.useMemo(()=>{const We=Object.keys(oe).reduce((G,Z)=>{if(Z===St.WALLET_CONNECT_V2||!te[Z])return G;const ce=oe[Z];return G.push({name:Z,displayName:(ce==null?void 0:ce.label)||Z,hasInjectedWallet:(ce==null?void 0:ce.isInjected)||!1,isInstalled:!0,hasWalletConnect:!1,hasInstallLinks:!1,icon:ce==null?void 0:ce.icon,chainNamespaces:(ce==null?void 0:ce.chainNamespaces)||[]}),G},[]),ne=We.findIndex(G=>G.name===St.METAMASK&&!G.hasInjectedWallet);if(ne!==-1){const G=We[ne];let Z=me.find(ce=>ce.name===St.METAMASK);Z||(Z=ue({[St.METAMASK]:Moe})[0]),Z&&We.splice(ne,1,_e(_e({},Z),{},{chainNamespaces:G.chainNamespaces,isInstalled:!0}))}return We},[me,oe,te,ue]),pe=be.useMemo(()=>ye.filter(We=>!We.hasInjectedWallet),[ye]),de=be.useMemo(()=>ye.sort((ne,G)=>ne.name===St.METAMASK?-1:1).slice(0,A?3:1),[ye,A]),Ee=be.useMemo(()=>{const We=new Set;return me.concat(ye).filter(ne=>We.has(ne.name)?!1:(We.add(ne.name),!0)).length},[me,ye]),Ce=()=>{q(We=>!We)},we=()=>{Q(We=>!We)},$e=be.useMemo(()=>{var We;const ne=g||v;if(l.status!==pr.INITIALIZED)return"530px";if(V||(We=x.metamaskQrCode)!==null&&We!==void 0&&We.show)return ne?"640px":"588px";if(l.currentPage===Fu.CONNECT_WALLET)return ne?"640px":"580px";if(U)return ne?"644px":"588px";if(de.length===1)return ne?"560px":"530px";if(de.length>1){const G=500+(de.length-1)*58;return ne?`${G+60}px`:`${G+16}px`}return"539px"},[g,v,l.status,l.currentPage,V,(r=x.metamaskQrCode)===null||r===void 0?void 0:r.show,U,de.length]),ze=be.useMemo(()=>({bodyState:x,setBodyState:R,toast:_,setToast:k}),[x,R,_,k]),Ze=be.useMemo(()=>l.status!==pr.INITIALIZED,[l.status]);return re.jsx(bg.Provider,{value:ze,children:re.jsxs("div",{className:"w3a--relative w3a--flex w3a--flex-col",children:[re.jsxs("div",{className:"w3a--relative w3a--h-screen w3a--overflow-hidden w3a--transition-all w3a--duration-[400ms] w3a--ease-in-out",style:{maxHeight:$e},children:[re.jsx("div",{className:"w3a--modal-curtain"}),re.jsxs("div",{className:"w3a--relative w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--p-6",children:[Ze?re.jsx(Cae,{connector:l.detailedLoaderConnector,connectorName:l.detailedLoaderConnectorName,modalStatus:l.status,onClose:w,appLogo:m}):re.jsx(re.Fragment,{children:(i=x.metamaskQrCode)!==null&&i!==void 0&&i.show?re.jsxs("div",{className:"w3a--relative w3a--flex w3a--flex-1 w3a--flex-col w3a--gap-y-4",children:[re.jsx(_j,{onBackClick:()=>R(_e(_e({},x),{},{metamaskQrCode:{show:!1,wallet:null}})),currentPage:Rl.SELECTED_WALLET,selectedButton:x.metamaskQrCode.wallet}),re.jsx(Sj,{qrCodeValue:l.metamaskConnectUri,isDark:O,selectedButton:x.metamaskQrCode.wallet,primaryColor:(o=x.metamaskQrCode.wallet.walletRegistryItem)===null||o===void 0?void 0:o.primaryColor,logoImage:`https://images.web3auth.io/login-${x.metamaskQrCode.wallet.name}.${x.metamaskQrCode.wallet.imgExtension}`})]}):re.jsxs(re.Fragment,{children:[l.currentPage===Fu.LOGIN&&H&&l.status===pr.INITIALIZED&&re.jsx(yce,{web3authClientId:l.web3authClientId,web3authNetwork:l.web3authNetwork,authBuildEnv:l.authBuildEnv,isModalVisible:l.modalVisibility,isDark:O,appLogo:m,showPasswordLessInput:I,showExternalWalletButton:S,showExternalWalletCount:L,showInstalledExternalWallets:A,socialLoginsConfig:T,areSocialLoginsVisible:N,isEmailPrimary:z,isExternalPrimary:$,installedExternalWalletConfig:de,isEmailPasswordLessLoginVisible:K,isSmsPasswordLessLoginVisible:j,totalExternalWallets:Ee,logoAlignment:E,buttonRadius:b,deviceDetails:P,handleSocialLoginClick:y,handleExternalWalletBtnClick:Y,handleSocialLoginHeight:Ce,handleExternalWalletClick:B}),l.currentPage===Fu.CONNECT_WALLET&&!H&&l.status===pr.INITIALIZED&&re.jsx(wae,{isDark:O,walletConnectUri:l.walletConnectUri,metamaskConnectUri:l.metamaskConnectUri,config:l.externalWalletsConfig,walletRegistry:p,allExternalButtons:me,connectorVisibilityMap:te,customConnectorButtons:pe,deviceDetails:P,chainNamespace:f,buttonRadius:b,handleWalletDetailsHeight:we,onBackClick:X,handleExternalWalletClick:B})]})}),re.jsx(Eae,{privacyPolicy:g,termsOfService:v}),((s=x.multiChainSelector)===null||s===void 0?void 0:s.show)&&re.jsx(ET,{uiConfig:D,isShown:x.multiChainSelector.show,onClose:()=>R(_e(_e({},x),{},{multiChainSelector:{show:!1,wallet:null}})),children:re.jsx(bae,{isDark:O,wallet:x.multiChainSelector.wallet,handleExternalWalletClick:We=>{B(We),R(_e(_e({},x),{},{multiChainSelector:{show:!1,wallet:null}}))}})}),((a=x.installLinks)===null||a===void 0?void 0:a.show)&&re.jsxs(ET,{uiConfig:D,isShown:x.installLinks.show,onClose:()=>R(_e(_e({},x),{},{installLinks:{show:!1,wallet:null}})),children:[re.jsx("p",{className:"w3a--mb-2 w3a--text-center w3a--text-base w3a--font-semibold w3a--text-app-gray-900 dark:w3a--text-app-white",children:C("modal.getWallet")}),re.jsx("div",{className:"w3a--my-4 w3a--flex w3a--justify-center",children:re.jsx(ds,{imageId:`login-${x.installLinks.wallet.name}`,hoverImageId:`login-${x.installLinks.wallet.name}`,fallbackImageId:"wallet",height:"80",width:"80",isButton:!0,extension:x.installLinks.wallet.imgExtension})}),re.jsx("ul",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:P.platform==="desktop"?ie:ee})]})]})]}),re.jsx(wce,{})]})})}function bce(t){const{stateListener:e,handleSocialLoginClick:n,handleExternalWalletClick:r,handleShowExternalWallets:i,closeModal:o,appLogo:s,appName:a,chainNamespaces:c,walletRegistry:l,uiConfig:u,deviceDetails:f}=t,{widgetType:p}=u,m=be.useMemo(()=>p===kf.EMBED,[p]),[w,y]=be.useState({externalWalletsVisibility:!1,status:pr.INITIALIZED,hasExternalWallets:!1,externalWalletsInitialized:!1,modalVisibility:!1,modalVisibilityDelayed:!1,postLoadingMessage:"",walletConnectUri:"",metamaskConnectUri:"",socialLoginsConfig:{loginMethods:{},loginMethodsOrder:[],connector:"",uiConfig:{}},externalWalletsConfig:{},showExternalWalletsOnly:!1,currentPage:Fu.LOGIN,detailedLoaderConnector:"",detailedLoaderConnectorName:"",web3authClientId:"",web3authNetwork:cd.SAPPHIRE_MAINNET,authBuildEnv:ao.PRODUCTION});be.useEffect(()=>{y(g=>_e(_e({},g),{},{modalVisibility:m}))},[m]),be.useEffect(()=>{e.on("STATE_UPDATED",g=>{ct.debug("state updated",g),y(v=>Hu(Xn(v,g,{arrayMerge:(L,C)=>C})))}),e.emit("MOUNTED")},[e]);const I=g=>{const{connector:v}=g;y(A=>_e(_e({},A),{},{detailedLoaderConnector:v,detailedLoaderAdapterName:HP[v]})),r&&r(g)},S=g=>{const{loginParams:v}=g;y(A=>_e(_e({},A),{},{detailedLoaderConnector:v.authConnection,detailedLoaderConnectorName:v.name})),n(g)},T=be.useMemo(()=>{var g,v;return w.showExternalWalletsOnly||Object.keys(((g=w.socialLoginsConfig)===null||g===void 0?void 0:g.loginMethods)||{}).length===0?!1:Object.entries(((v=w.socialLoginsConfig)===null||v===void 0?void 0:v.loginMethods)||{}).some(([L,C])=>L!==ut.EMAIL_PASSWORDLESS&&C.showOnModal!==!1)},[w]),N=be.useMemo(()=>{var g;return(g=w.socialLoginsConfig)===null||g===void 0||(g=g.loginMethods[ut.EMAIL_PASSWORDLESS])===null||g===void 0?void 0:g.showOnModal},[w.socialLoginsConfig]),z=be.useMemo(()=>{var g;return(g=w.socialLoginsConfig)===null||g===void 0||(g=g.loginMethods[ut.SMS_PASSWORDLESS])===null||g===void 0?void 0:g.showOnModal},[w.socialLoginsConfig]),$=be.useMemo(()=>{var g;return((g=w.socialLoginsConfig)===null||g===void 0||(g=g.uiConfig)===null||g===void 0?void 0:g.primaryButton)==="emailLogin"},[w.socialLoginsConfig]),H=be.useMemo(()=>{var g;return((g=w.socialLoginsConfig)===null||g===void 0||(g=g.uiConfig)===null||g===void 0?void 0:g.primaryButton)==="externalLogin"},[w.socialLoginsConfig]),K=be.useMemo(()=>N||z,[N,z]),j=be.useMemo(()=>w.hasExternalWallets||!!w.externalWalletsConfig[St.METAMASK],[w]),B=be.useMemo(()=>(T||K||!!w.externalWalletsConfig[St.METAMASK])&&!w.externalWalletsVisibility,[T,K,w]),D=g=>{y(v=>_e(_e({},v),{},{externalWalletsVisibility:g})),g&&i&&i(w.externalWalletsInitialized)},P=()=>{y(g=>_e(_e({},g),{},{externalWalletsVisibility:!1,modalVisibility:!1,currentPage:Fu.LOGIN})),o()},E=()=>{w.status===pr.CONNECTED&&y(_e(_e({},w),{},{modalVisibility:!1,externalWalletsVisibility:!1})),w.status===pr.ERRORED&&y(_e(_e({},w),{},{modalVisibility:!0,status:pr.INITIALIZED}))},b=be.useMemo(()=>w.status===pr.INITIALIZED||w.status===pr.CONNECTED||w.status===pr.ERRORED,[w.status]);return be.useEffect(()=>{if(w.modalVisibility&&typeof w.externalWalletsConfig=="object"){var g;(((g=w.externalWalletsConfig[St.WALLET_CONNECT_V2])===null||g===void 0?void 0:g.showOnModal)||!1)!==!1&&!w.walletConnectUri&&typeof r=="function"&&r({connector:St.WALLET_CONNECT_V2})}},[w,r]),p===kf.MODAL?re.jsx(bse,{open:w.modalVisibility,placement:"center",padding:!1,showCloseIcon:b,onClose:P,borderRadius:u.borderRadiusType,children:w.modalVisibility&&re.jsx(TT,{appLogo:s,appName:a,chainNamespaces:c,walletRegistry:l,showPasswordLessInput:K,showExternalWalletButton:j,handleSocialLoginClick:g=>S(g),socialLoginsConfig:w.socialLoginsConfig,areSocialLoginsVisible:T,isEmailPrimary:$,isExternalPrimary:H,showExternalWalletPage:B,handleExternalWalletBtnClick:D,modalState:w,preHandleExternalWalletClick:I,setModalState:y,onCloseLoader:E,isEmailPasswordLessLoginVisible:N,isSmsPasswordLessLoginVisible:z,uiConfig:u,deviceDetails:f})}):re.jsx(wse,{open:w.modalVisibility,padding:!1,onClose:P,borderRadius:u.borderRadiusType,children:w.modalVisibility&&re.jsx(TT,{chainNamespaces:c,walletRegistry:l,appLogo:s,appName:a,showPasswordLessInput:K,showExternalWalletButton:j,handleSocialLoginClick:g=>S(g),socialLoginsConfig:w.socialLoginsConfig,areSocialLoginsVisible:T,isEmailPrimary:$,isExternalPrimary:H,showExternalWalletPage:B,handleExternalWalletBtnClick:D,modalState:w,preHandleExternalWalletClick:I,setModalState:y,onCloseLoader:E,isEmailPasswordLessLoginVisible:N,isSmsPasswordLessLoginVisible:z,uiConfig:u,deviceDetails:f})})}function Ece(t){const e=document.getElementById("w3a-parent-container");e&&e.remove();const n=document.createElement("section");n.classList.add("w3a-parent-container"),n.setAttribute("id","w3a-parent-container"),n.style.zIndex=t,n.style.position="relative",document.body.appendChild(n)}function xce(t){const e=document.getElementById(t);if(!e){ct.error(`Element with ID ${t} not found`);return}e.innerHTML='<div id="w3a-parent-container" class="w3a-parent-container"></div>'}class _ce{constructor(e,n){if(ke(this,"uiConfig",void 0),ke(this,"stateEmitter",void 0),ke(this,"chainNamespaces",void 0),ke(this,"walletRegistry",void 0),ke(this,"callbacks",void 0),ke(this,"externalWalletsConfig",void 0),ke(this,"analytics",void 0),ke(this,"initModal",async()=>{const r={isDark:this.isDark},i=this.uiConfig.defaultLanguage||Zo.en;return i===Zo.de?In(()=>import("./german.json-BA4x9QbI.js"),[]).then(o=>(yn.addResourceBundle(i,"translation",o.default),yn.changeLanguage(i))).catch(o=>{ct.error(o)}):i===Zo.ja?In(()=>import("./japanese.json-7Mklqb6K.js"),[]).then(o=>(yn.addResourceBundle(i,"translation",o.default),yn.changeLanguage(i))).catch(o=>{ct.error(o)}):i===Zo.ko?In(()=>import("./korean.json-go86i6vu.js"),[]).then(o=>(yn.addResourceBundle(i,"translation",o.default),yn.changeLanguage(i))).catch(o=>{ct.error(o)}):i===Zo.zh?In(()=>import("./mandarin.json-BCFiiB7j.js"),[]).then(o=>(yn.addResourceBundle(i,"translation",o.default),yn.changeLanguage(i))).catch(o=>{ct.error(o)}):i===Zo.es?In(()=>import("./spanish.json-hcJYa-HC.js"),[]).then(o=>(yn.addResourceBundle(i,"translation",o.default),yn.changeLanguage(i))).catch(o=>{ct.error(o)}):i===Zo.fr?In(()=>import("./french.json-CNaRgoEZ.js"),[]).then(o=>(yn.addResourceBundle(i,"translation",o.default),yn.changeLanguage(i))).catch(o=>{ct.error(o)}):i===Zo.pt?In(()=>import("./portuguese.json-Dtrng74A.js"),[]).then(o=>(yn.addResourceBundle(i,"translation",o.default),yn.changeLanguage(i))).catch(o=>{ct.error(o)}):i===Zo.nl?In(()=>import("./dutch.json-BZVBI9RL.js"),[]).then(o=>(yn.addResourceBundle(i,"translation",o.default),yn.changeLanguage(i))).catch(o=>{ct.error(o)}):i===Zo.tr?In(()=>import("./turkish.json-CHfdJZqr.js"),[]).then(o=>(yn.addResourceBundle(i,"translation",o.default),yn.changeLanguage(i))).catch(o=>{ct.error(o)}):i===Zo.en&&In(()=>Promise.resolve().then(()=>nae),void 0).then(o=>(yn.addResourceBundle(i,"translation",o.default),yn.changeLanguage(i))).catch(o=>{ct.error(o)}),new Promise(o=>{var s,a,c;if(this.stateEmitter.once("MOUNTED",()=>(ct.info("rendered"),this.setState({status:pr.INITIALIZED,web3authClientId:this.uiConfig.web3authClientId,web3authNetwork:this.uiConfig.web3authNetwork,authBuildEnv:this.uiConfig.authBuildEnv}),o())),this.uiConfig.widgetType===kf.MODAL)Ece(this.uiConfig.modalZIndex);else if(this.uiConfig.widgetType===kf.EMBED)xce(this.uiConfig.targetId);else throw ft.invalidParams(`Invalid widget type: ${this.uiConfig.widgetType}`);const l=document.getElementById("w3a-parent-container");r.isDark?l.classList.add("w3a--dark"):l.classList.remove("w3a--dark"),S9.createRoot(l).render(re.jsx(p1.Provider,{value:r,children:re.jsx(F4.Provider,{value:{analytics:this.analytics},children:re.jsx(bce,{stateListener:this.stateEmitter,appLogo:r.isDark?this.uiConfig.logoDark:this.uiConfig.logoLight,appName:this.uiConfig.appName,chainNamespaces:this.chainNamespaces,walletRegistry:this.walletRegistry,deviceDetails:this.deviceDetails,handleShowExternalWallets:this.handleShowExternalWallets,handleExternalWalletClick:this.handleExternalWalletClick,handleSocialLoginClick:this.handleSocialLoginClick,closeModal:this.closeModal,uiConfig:this.uiConfig})})}));const f=((s=this.uiConfig)===null||s===void 0||(s=s.theme)===null||s===void 0?void 0:s.primary)===Ioe&&((a=this.uiConfig.theme)===null||a===void 0?void 0:a.onPrimary)===koe;(c=this.uiConfig)!==null&&c!==void 0&&c.theme&&!f&&In(async()=>{const{default:p}=await import("./index-CcYQaUMU.js");return{default:p}},[]).then(({default:p})=>{const m=document.getElementById("w3a-parent-container");NW(p,m,this.uiConfig.theme)}).catch(p=>{ct.error(p)})})}),ke(this,"addSocialLogins",(r,i,o,s)=>{this.setState({socialLoginsConfig:{connector:r,loginMethods:i,loginMethodsOrder:o,uiConfig:s}}),ct.info("addSocialLogins",r,i,o,s)}),ke(this,"addWalletLogins",(r,i)=>{this.externalWalletsConfig=r;const o=!!r[St.METAMASK];this.setState({externalWalletsConfig:r,externalWalletsInitialized:!!i.externalWalletsInitialized,showExternalWalletsOnly:!!i.showExternalWalletsOnly,externalWalletsVisibility:o?!1:!!i.externalWalletsVisibility})}),ke(this,"open",()=>{var r,i,o;this.setState({modalVisibility:!0}),(r=this.analytics)===null||r===void 0||r.track(Dn.LOGIN_MODAL_OPENED,_e(_e({chain_namespaces:this.chainNamespaces,wallet_registry_count:Object.keys((i=this.walletRegistry)===null||i===void 0?void 0:i.default).length+Object.keys((o=this.walletRegistry)===null||o===void 0?void 0:o.others).length,external_wallet_connectors:Object.keys(this.externalWalletsConfig||{})},UP(this.uiConfig)),Coe(this.uiConfig))),this.callbacks.onModalVisibility&&this.callbacks.onModalVisibility(!0)}),ke(this,"closeModal",()=>{var r;this.setState({modalVisibility:!1,externalWalletsVisibility:!1}),(r=this.analytics)===null||r===void 0||r.track(Dn.LOGIN_MODAL_CLOSED),this.callbacks.onModalVisibility&&this.callbacks.onModalVisibility(!1)}),ke(this,"initExternalWalletContainer",()=>{this.setState({hasExternalWallets:!0})}),ke(this,"handleShowExternalWallets",r=>{this.callbacks.onInitExternalWallets&&this.callbacks.onInitExternalWallets({externalWalletsInitialized:r})}),ke(this,"handleExternalWalletClick",r=>{ct.info("external wallet clicked",r);const{connector:i,chainNamespace:o}=r;this.callbacks.onExternalWalletLogin&&this.callbacks.onExternalWalletLogin({connector:i,loginParams:{chainNamespace:o}})}),ke(this,"handleSocialLoginClick",r=>{var i;ct.info("social login clicked",r);const{connector:o,loginParams:s}=r;(i=this.analytics)===null||i===void 0||i.track(Dn.SOCIAL_LOGIN_SELECTED,{connector:o,auth_connection:s.authConnection,auth_connection_id:s.authConnectionId,group_auth_connection_id:s.groupedAuthConnectionId}),this.callbacks.onSocialLogin&&this.callbacks.onSocialLogin({connector:o,loginParams:s})}),ke(this,"setState",r=>{this.stateEmitter.emit("STATE_UPDATED",r)}),ke(this,"handleConnectorData",r=>{if(r.connectorName===St.WALLET_CONNECT_V2){const i=r.data;i.uri&&this.setState({walletConnectUri:i.uri})}if(r.connectorName===St.METAMASK){const i=r.data;i.uri&&this.setState({metamaskConnectUri:i.uri})}}),ke(this,"subscribeCoreEvents",r=>{r.on(Et.CONNECTING,i=>{var o;if(ct.info("connecting with connector",i),(i==null?void 0:i.connector)===St.WALLET_CONNECT_V2)return;const s=(o=this.externalWalletsConfig)===null||o===void 0||(o=o[St.METAMASK])===null||o===void 0?void 0:o.isInjected;(i==null?void 0:i.connector)===St.METAMASK&&!s&&this.deviceDetails.platform==="desktop"||this.setState({status:pr.CONNECTING})}),r.on(Et.CONNECTED,i=>{ct.debug("connected with connector",i),!i.reconnected&&i.loginMode===c0.MODAL?this.setState({status:pr.CONNECTED,modalVisibility:!0,postLoadingMessage:"modal.post-loading.connected"}):this.setState({status:pr.CONNECTED})}),r.on(Et.ERRORED,(i,o)=>{ct.error("error",i,i.message),o!==c0.NO_MODAL&&(i.code===5e3?this.uiConfig.displayErrorsOnModal?this.setState({modalVisibility:!0,postLoadingMessage:i.message||"modal.post-loading.something-wrong",status:pr.ERRORED}):this.setState({modalVisibility:!1}):this.setState({modalVisibility:!0,status:pr.INITIALIZED}))}),r.on(Et.DISCONNECTED,()=>{this.setState({status:pr.INITIALIZED,externalWalletsVisibility:!1})}),r.on(Et.CONNECTOR_DATA_UPDATED,i=>{this.handleConnectorData(i)})}),this.uiConfig=e,e.logoDark||(this.uiConfig.logoDark=tj),e.logoLight||(this.uiConfig.logoLight=ej),e.mode||(this.uiConfig.mode="light"),e.modalZIndex||(this.uiConfig.modalZIndex="99998"),typeof e.displayErrorsOnModal>"u"&&(this.uiConfig.displayErrorsOnModal=!0),e.appName||(this.uiConfig.appName="Web3Auth"),e.loginGridCol||(this.uiConfig.loginGridCol=3),e.primaryButton||(this.uiConfig.primaryButton="socialLogin"),e.defaultLanguage||(this.uiConfig.defaultLanguage=pj(e.defaultLanguage)),e.widgetType||(this.uiConfig.widgetType=kf.MODAL),e.widgetType===kf.EMBED&&!e.targetId)throw ct.error("targetId is required for embed widget"),ft.invalidParams("targetId is required for embed widget");this.stateEmitter=new ru,this.chainNamespaces=e.chainNamespaces,this.walletRegistry=e.walletRegistry,this.callbacks=n,this.analytics=e.analytics,this.subscribeCoreEvents(this.uiConfig.connectorListener)}get isDark(){return this.uiConfig.mode==="dark"||this.uiConfig.mode==="auto"&&window.matchMedia("(prefers-color-scheme: dark)").matches}get deviceDetails(){if(typeof window>"u")return{platform:"mobile",browser:"chrome",os:"ios"};const e=$p.getParser(window.navigator.userAgent);return{platform:e.getPlatformType(),browser:e.getBrowserName().toLowerCase(),os:e.getOSName()}}}class Sce extends nte{constructor(e,n){super(e,n),ke(this,"loginModal",void 0),ke(this,"options",void 0),ke(this,"modalConfig",Hu(voe)),ke(this,"onInitExternalWallets",async r=>{r.externalWalletsInitialized||await this.initExternalConnectors(this.connectors.filter(i=>i.name===St.WALLET_CONNECT_V2),{externalWalletsInitialized:!0,externalWalletsVisibility:!0})}),ke(this,"onSocialLogin",async r=>{try{await this.connectTo(St.AUTH,r.loginParams,c0.MODAL)}catch(i){ct.error(`Error while connecting to connector: ${r.connector}`,i)}}),ke(this,"onExternalWalletLogin",async r=>{try{var i;const o=this.getConnector(r.connector,(i=r.loginParams)===null||i===void 0?void 0:i.chainNamespace);if(o.name===St.WALLET_CONNECT_V2){const a=this.getInitialChainIdForConnector(o);await o.connect({chainId:a.chainId})}else await this.connectTo(r.connector,r.loginParams,c0.MODAL)}catch(o){ct.error(`Error while connecting to connector: ${r.connector}`,o)}}),ke(this,"onModalVisibility",async r=>{ct.debug("is login modal visible",r),this.emit(Mv.MODAL_VISIBILITY,r);const i=this.getConnector(St.WALLET_CONNECT_V2);if(i){const o=i==null?void 0:i.status;if(ct.debug("trying refreshing wc session",r,o),r&&(o===ht.READY||o===ht.CONNECTING)){ct.debug("refreshing wc session");try{const s=this.getInitialChainIdForConnector(i);i.connect({chainId:s.chainId})}catch(s){ct.error("Error while disconnecting to wallet connect in core",s)}}!r&&this.status===ht.CONNECTED&&(o===ht.READY||o===ht.CONNECTING)&&(ct.debug("this stops wc connector from trying to reconnect once proposal expires"),i.status=ht.READY)}}),ke(this,"getChainNamespaces",()=>{var r;return[...new Set(((r=this.coreOptions.chains)===null||r===void 0?void 0:r.map(i=>i.chainNamespace))||[])]}),this.options=_e({},e),this.options.uiConfig||(this.options.uiConfig={}),this.options.modalConfig&&(this.modalConfig=this.options.modalConfig),ct.info("modalConfig",this.modalConfig)}async init(e){const n=Date.now();this.analytics.init(),this.analytics.identify(this.options.clientId,{web3auth_client_id:this.options.clientId,web3auth_network:this.options.web3AuthNetwork}),this.analytics.setGlobalProperties({dapp_url:window.location.origin,sdk_name:$P.WEB_MODAL,sdk_version:zP,web3auth_client_id:this.options.clientId,web3auth_network:this.options.web3AuthNetwork});let r={};try{var i,o;const{signal:s}=e||{};super.checkInitRequirements();const{projectConfig:a,walletRegistry:c}=await this.getProjectAndWalletConfig();this.initUIConfig(a),super.initAccountAbstractionConfig(a),super.initChainsConfig(a),super.initCachedConnectorAndChainId(),super.initWalletServicesConfig(a),this.analytics.setGlobalProperties({team_id:a.teamId}),r=this.getInitializationTrackData();const{filteredWalletRegistry:l,disabledExternalWallets:u}=this.filterWalletRegistry(c,a);this.loginModal=new _ce(_e(_e({},this.options.uiConfig),{},{connectorListener:this,web3authClientId:this.options.clientId,web3authNetwork:this.options.web3AuthNetwork,authBuildEnv:this.options.authBuildEnv,chainNamespaces:this.getChainNamespaces(),walletRegistry:l,analytics:this.analytics}),{onInitExternalWallets:this.onInitExternalWallets,onSocialLogin:this.onSocialLogin,onExternalWalletLogin:this.onExternalWalletLogin,onModalVisibility:this.onModalVisibility}),await uc(()=>this.loginModal.initModal(),s),await uc(()=>this.setupCommonJRPCProvider(),s),this.on(Et.CONNECTORS_UPDATED,({connectors:p})=>{uc(()=>this.initConnectors({connectors:p,projectConfig:a,disabledExternalWallets:u}),s,()=>{var w;ct.debug("init aborted"),((w=this.connectors)===null||w===void 0?void 0:w.length)>0&&super.cleanup()})}),await uc(()=>super.loadConnectors({projectConfig:a,modalMode:!0}),s),await uc(()=>super.initPlugins(),s);const f=this.getConnector(St.AUTH);r=_e(_e({},r),{},{connectors:this.connectors.map(p=>p.name),plugins:Object.keys(this.plugins),auth_ux_mode:(f==null||(i=f.authInstance)===null||i===void 0||(i=i.options)===null||i===void 0?void 0:i.uxMode)||((o=this.coreOptions.uiConfig)===null||o===void 0?void 0:o.uxMode)}),this.analytics.track(Dn.SDK_INITIALIZATION_COMPLETED,_e(_e({},r),{},{duration:Date.now()-n}))}catch(s){if(s instanceof DOMException&&s.name==="AbortError")return;throw this.analytics.track(Dn.SDK_INITIALIZATION_FAILED,_e(_e(_e({},r),Sf(s)),{},{duration:Date.now()-n})),ct.error("Failed to initialize modal",s),s}}async connect(){if(!this.loginModal)throw ft.notReady("Login modal is not initialized");return this.connectedConnectorName&&this.status===ht.CONNECTED&&this.provider?this.provider:(this.loginModal.open(),new Promise((e,n)=>{const r=()=>(this.removeListener(Et.ERRORED,i),this.removeListener(Mv.MODAL_VISIBILITY,o),e(this.provider)),i=s=>(this.removeListener(Et.CONNECTED,r),this.removeListener(Mv.MODAL_VISIBILITY,o),n(s)),o=s=>{if(!s&&this.status!==ht.CONNECTED)return this.removeListener(Et.CONNECTED,r),this.removeListener(Et.ERRORED,i),n(new Error("User closed the modal"))};this.once(Et.CONNECTED,r),this.once(Et.ERRORED,i),this.once(Mv.MODAL_VISIBILITY,o)}))}initUIConfig(e){super.initUIConfig(e),this.options.uiConfig=Xn(Hu(e.whitelabel||{}),this.options.uiConfig||{}),this.options.uiConfig.defaultLanguage||(this.options.uiConfig.defaultLanguage=pj(this.options.uiConfig.defaultLanguage)),this.options.uiConfig.mode||(this.options.uiConfig.mode="light"),this.options.uiConfig=Xn(e.loginModal||{},this.options.uiConfig,{arrayMerge:(s,a)=>a});const n=e.embeddedWalletAuth.filter(s=>s.isDefault).map(s=>s.authConnection),r=[...this.options.uiConfig.loginMethodsOrder||[],...n],i=[],o=new Set;for(const s of r)o.has(s)||(o.add(s),i.push(s));this.options.uiConfig.loginMethodsOrder=i}getInitializationTrackData(){var e,n,r,i,o,s,a,c,l,u,f,p,m,w,y,I,S;return _e(_e({},super.getInitializationTrackData()),{},{modal_hide_wallet_discovery:(e=this.modalConfig)===null||e===void 0?void 0:e.hideWalletDiscovery,modal_connectors:Object.keys(((n=this.modalConfig)===null||n===void 0?void 0:n.connectors)||{}),modal_auth_connector_login_methods:Object.keys(((r=this.modalConfig)===null||r===void 0||(r=r.connectors)===null||r===void 0||(r=r[St.AUTH])===null||r===void 0?void 0:r.loginMethods)||{}),ui_login_methods_order:(i=this.options.uiConfig)===null||i===void 0?void 0:i.loginMethodsOrder,ui_modal_z_index:(o=this.options.uiConfig)===null||o===void 0?void 0:o.modalZIndex,ui_display_errors_on_modal:(s=this.options.uiConfig)===null||s===void 0?void 0:s.displayErrorsOnModal,ui_login_grid_col:(a=this.options.uiConfig)===null||a===void 0?void 0:a.loginGridCol,ui_primary_button:(c=this.options.uiConfig)===null||c===void 0?void 0:c.primaryButton,ui_modal_widget_type:(l=this.options.uiConfig)===null||l===void 0?void 0:l.widgetType,ui_modal_target_id_used:!!(!((u=this.options.uiConfig)===null||u===void 0)&&u.targetId),ui_modal_logo_alignment:(f=this.options.uiConfig)===null||f===void 0?void 0:f.logoAlignment,ui_modal_border_radius_type:(p=this.options.uiConfig)===null||p===void 0?void 0:p.borderRadiusType,ui_modal_button_radius_type:(m=this.options.uiConfig)===null||m===void 0?void 0:m.buttonRadiusType,ui_modal_sign_in_methods:(w=this.options.uiConfig)===null||w===void 0?void 0:w.signInMethods,ui_modal_add_previous_login_hint:(y=this.options.uiConfig)===null||y===void 0?void 0:y.addPreviousLoginHint,ui_modal_display_installed_external_wallets:(I=this.options.uiConfig)===null||I===void 0?void 0:I.displayInstalledExternalWallets,ui_modal_display_external_wallets_count:(S=this.options.uiConfig)===null||S===void 0?void 0:S.displayExternalWalletsCount})}filterWalletRegistry(e,n){const{disableAllRecommendedWallets:r,disableAllOtherWallets:i,disabledWallets:o}=n.externalWalletAuth||{},s=new Set(o||[]);r&&Object.keys(e.default).forEach(c=>s.add(c)),i&&Object.keys(e.others).forEach(c=>s.add(c)),s.delete(St.METAMASK);const a=Hu(e);return s.forEach(c=>{delete a.default[c],delete a.others[c]}),{disabledExternalWallets:s,filteredWalletRegistry:a}}async getProjectAndWalletConfig(){var e,n;const[r,i]=await Promise.allSettled([FP({clientId:this.options.clientId,web3AuthNetwork:this.options.web3AuthNetwork,aaProvider:(e=this.options.accountAbstractionConfig)===null||e===void 0?void 0:e.smartAccountType,authBuildEnv:this.options.authBuildEnv}),YY(yoe)]);if(r.status==="rejected"){const c=await nC(r.reason);throw ct.error("Failed to fetch project configurations",c),ft.notReady("failed to fetch project configurations",c)}const o=r.value;let s={others:{},default:{}};return!!o.externalWalletAuth&&!((n=this.modalConfig)!==null&&n!==void 0&&n.hideWalletDiscovery)&&(i.status==="fulfilled"?s=i.value:ct.error("Failed to fetch wallet registry",i.reason)),{projectConfig:o,walletRegistry:s}}async initConnectors({connectors:e,projectConfig:n,disabledExternalWallets:r}){const i=await this.filterConnectors({projectConfig:n,disabledExternalWallets:r}),{hasInAppConnectors:o,hasExternalConnectors:s}=await this.checkConnectorAvailability(i),a=e.filter(c=>i.includes(c.name));await this.initInAppAndCachedConnectors(a),s&&(o?(this.loginModal.initExternalWalletContainer(),this.initExternalConnectors(a.filter(c=>c.type===Xa.EXTERNAL&&c.name!==St.WALLET_CONNECT_V2),{externalWalletsInitialized:!1,showExternalWalletsOnly:!1,externalWalletsVisibility:!1})):await this.initExternalConnectors(a.filter(c=>c.type===Xa.EXTERNAL),{externalWalletsInitialized:!0,showExternalWalletsOnly:!0,externalWalletsVisibility:!0})),this.status===ht.NOT_READY&&(this.status=ht.READY,this.emit(Et.READY))}async filterConnectors({projectConfig:e,disabledExternalWallets:n}){var r;const i={},o=new Map;for(const u of e.embeddedWalletAuth||[]){const{isDefault:f,authConnection:p,groupedAuthConnectionId:m,authConnectionId:w}=u;f&&(i[p]={name:boe[p],authConnection:p,authConnectionId:w,groupedAuthConnectionId:m,extraLoginOptions:u.jwtParameters,isDefault:!0,showOnModal:!0}),o.set(m||w,u)}const s={[St.AUTH]:{label:St.AUTH,loginMethods:i}};(r=this.modalConfig)!==null&&r!==void 0&&(r=r.connectors)!==null&&r!==void 0&&r[St.AUTH]&&(this.modalConfig.connectors[St.AUTH].loginMethods||(this.modalConfig.connectors[St.AUTH].loginMethods={}));const a=new Set(bS);return Object.keys(this.modalConfig.connectors[St.AUTH].loginMethods).forEach(u=>{const f=this.modalConfig.connectors[St.AUTH].loginMethods[u],{authConnectionId:p,groupedAuthConnectionId:m}=f;if(!a.has(u))throw ft.invalidParams(`Invalid auth connection: ${u}`);if(m||p){if(!o.has(m||p))throw ft.invalidParams(`Invalid auth connection config, authConnection: ${u}. Missing AuthConnectionConfig from the dashboard.`);const w=o.get(m||p);this.modalConfig.connectors[St.AUTH].loginMethods[u]={authConnection:w.authConnection,authConnectionId:w.authConnectionId,groupedAuthConnectionId:w.groupedAuthConnectionId,isDefault:w.isDefault||!1,extraLoginOptions:_e(_e({},w.jwtParameters),f.extraLoginOptions)}}}),this.modalConfig.connectors=Xn(s,Hu(this.modalConfig.connectors||{})),[...new Set([...Object.keys(this.modalConfig.connectors||{}),...this.connectors.map(u=>u.name)])].map(u=>{var f,p,m;const w={label:HP[u]||u.split("-").map(j4).join(" "),showOnModal:!0};this.modalConfig.connectors[u]=_e(_e({},w),((f=this.modalConfig)===null||f===void 0||(f=f.connectors)===null||f===void 0?void 0:f[u])||{});const y=this.getConnector(u);ct.debug("connector config",u,(p=this.modalConfig.connectors)===null||p===void 0||(p=p[u])===null||p===void 0?void 0:p.showOnModal,y);const I=(m=this.modalConfig.connectors)===null||m===void 0?void 0:m[u];if(!y){if(I.showOnModal)throw ft.invalidParams(`Connector ${u} is not configured`);return}if(!I.showOnModal)return;const S=!!e.externalWalletAuth;if(!(y.type===Xa.EXTERNAL&&y.name!==St.METAMASK&&(!S||n.has(u)))){if(u===St.WALLET_CONNECT_V2){var T;if(!S||(T=this.modalConfig)!==null&&T!==void 0&&T.hideWalletDiscovery)return}return this.modalConfig.connectors[u]=I,u}}).filter(u=>u!==void 0)}async checkConnectorAvailability(e){const n=this.connectors.some(i=>{var o,s;return i.type!==Xa.IN_APP||((o=this.modalConfig.connectors)===null||o===void 0||(o=o[i.name])===null||o===void 0?void 0:o.showOnModal)!==!0?!1:!!(!((s=this.modalConfig.connectors)!==null&&s!==void 0&&(s=s[i.name])!==null&&s!==void 0&&s.loginMethods)||Object.values(this.modalConfig.connectors[i.name].loginMethods).some(a=>a.showOnModal))});ct.debug(n,this.connectors,e,"hasInAppWallets");const r=e.some(i=>{var o,s;return i===St.WALLET_CONNECT_V2?!0:((o=this.getConnector(i))===null||o===void 0?void 0:o.type)===Xa.EXTERNAL&&((s=this.modalConfig.connectors)===null||s===void 0||(s=s[i])===null||s===void 0?void 0:s.showOnModal)});return{hasInAppConnectors:n,hasExternalConnectors:r}}async initInAppAndCachedConnectors(e){await Promise.all(e.map(async n=>{const r=n.name;try{if(n.status!==ht.NOT_READY||this.cachedConnector!==r&&n.type===Xa.EXTERNAL)return;this.subscribeToConnectorEvents(n);const c=this.getInitialChainIdForConnector(n),l=super.checkIfAutoConnect(n);if(await n.init({autoConnect:l,chainId:c.chainId}),n.type===Xa.IN_APP){var i,o,s,a;ct.info("connectorInitResults",r);const u=((i=this.modalConfig.connectors[r])===null||i===void 0?void 0:i.loginMethods)||{};this.loginModal.addSocialLogins(r,u,((o=this.options.uiConfig)===null||o===void 0?void 0:o.loginMethodsOrder)||bS,_e(_e({},this.options.uiConfig),{},{loginGridCol:((s=this.options.uiConfig)===null||s===void 0?void 0:s.loginGridCol)||3,primaryButton:((a=this.options.uiConfig)===null||a===void 0?void 0:a.primaryButton)||"socialLogin"}))}}catch(c){ct.error(c,"error while initializing connector ",r)}}))}async initExternalConnectors(e,n){const r={},i={};e.forEach(async o=>{const s=o.name;if(ct.debug("init external wallet",this.cachedConnector,s,o.status),i[s]||(i[s]=new Set),o.connectorNamespace===ql.MULTICHAIN?this.getChainNamespaces().forEach(a=>i[s].add(a)):i[s].add(o.connectorNamespace),o.status===ht.NOT_READY&&this.cachedConnector!==s)try{this.subscribeToConnectorEvents(o);const a=this.getInitialChainIdForConnector(o);await o.init({autoConnect:this.cachedConnector===s,chainId:a.chainId})}catch(a){ct.error(a,"error while initializing connector",s)}if([ht.NOT_READY,ht.READY,ht.CONNECTING,ht.CONNECTED].includes(o.status)){const a=this.modalConfig.connectors[s];r[s]=_e(_e({},a),{},{isInjected:o.isInjected,icon:o.icon,chainNamespaces:Array.from(i[s])}),this.loginModal.addWalletLogins(r,{showExternalWalletsOnly:!!n.showExternalWalletsOnly,externalWalletsVisibility:!!n.externalWalletsVisibility,externalWalletsInitialized:!!n.externalWalletsInitialized})}})}}const z4=be.createContext(null);function Cce(t){const{children:e,config:n,initialState:r}=t,{web3AuthOptions:i}=n,[o,s]=be.useState(!1),[a,c]=be.useState(null),[l,u]=be.useState(null),[f,p]=be.useState(!1),[m,w]=be.useState(!1),y=be.useMemo(()=>(u(null),new Sce(i,r)),[i,r]),[I,S]=be.useState(y.status===ht.CONNECTED),[T,N]=be.useState(y.status),z=be.useCallback(H=>{if(!y)throw ft.notReady();return y.getPlugin(H)},[y]);be.useEffect(()=>{const H=new AbortController;async function K(){try{c(null),s(!0),y.setAnalyticsProperties({integration_type:jP.REACT_HOOKS}),await y.init({signal:H.signal})}catch(j){c(j)}finally{s(!1)}}return y&&K(),()=>{H.abort()}},[y,n]),be.useEffect(()=>{const H=()=>N(y.status),K=()=>{N(y.status),p(!0)},j=g=>{N(y.status),y.status===ht.CONNECTED&&(p(!0),S(!0),u(g.provider))},B=()=>{N(y.status),S(!1),u(null)},D=()=>{N(y.status)},P=()=>{N(y.status)},E=()=>{N(y.status),S(!1),u(null)},b=g=>{typeof g=="boolean"&&w(g)};return y&&(N(y.status),y.on(Et.NOT_READY,H),y.on(Et.READY,K),y.on(Et.CONNECTED,j),y.on(Et.DISCONNECTED,B),y.on(Et.CONNECTING,D),y.on(Et.ERRORED,P),y.on(Et.REHYDRATION_ERROR,E),y.on(Et.MFA_ENABLED,b)),()=>{y&&(y.off(Et.NOT_READY,H),y.off(Et.READY,K),y.off(Et.CONNECTED,j),y.off(Et.DISCONNECTED,B),y.off(Et.CONNECTING,D),y.off(Et.ERRORED,P),y.off(Et.REHYDRATION_ERROR,E),y.off(Et.MFA_ENABLED,b),y.cleanup())}},[y]);const $=be.useMemo(()=>({web3Auth:y,isConnected:I,isInitialized:f,provider:l,status:T,isInitializing:o,initError:a,isMFAEnabled:m,getPlugin:z,setIsMFAEnabled:w}),[y,I,m,w,f,l,T,z,o,a]);return be.createElement(z4.Provider,{value:$},e)}const q4=()=>{const t=be.useContext(z4);if(!t)throw ft.fromCode(1e3,"usage of useWeb3Auth not wrapped in `Web3AuthContextProvider`.");return t},H4=()=>{const{initError:t,isConnected:e,isInitialized:n,isInitializing:r,provider:i,status:o,web3Auth:s,getPlugin:a}=q4();return{initError:t,isConnected:e,isInitialized:n,isInitializing:r,provider:i,status:o,web3Auth:s,getPlugin:a}},Pj=()=>{const{web3Auth:t,isConnected:e}=q4(),[n,r]=be.useState(!1),[i,o]=be.useState(null),[s,a]=be.useState(null);be.useEffect(()=>{t&&(!e&&s&&a(null),e&&!s&&a(t.connectedConnectorName))},[e,s,t]);const c=be.useCallback(async()=>{r(!0),o(null);try{const u=await t.connect();return u&&a(t.connectedConnectorName),u}catch(u){o(u)}finally{r(!1)}},[t]),l=be.useCallback(async(u,f)=>{r(!0),o(null);try{const p=await t.connectTo(u,f);return p&&a(t.connectedConnectorName),p}catch(p){o(p)}finally{r(!1)}},[t]);return{isConnected:e,loading:n,error:i,connectorName:s,connect:c,connectTo:l}},K4=()=>{const{web3Auth:t}=q4(),[e,n]=be.useState(!1),[r,i]=be.useState(null),o=be.useCallback(async s=>{n(!0),i(null);try{await t.logout(s)}catch(a){i(a)}finally{n(!1)}},[t]);return{loading:e,error:r,disconnect:o}};function NT({config:t,initialState:e,children:n}){const r=be.createElement(goe,{context:z4},n);return be.createElement(Cce,{config:t,initialState:e},r)}const gy="2.19.0",Ace=()=>`@wagmi/core@${gy}`;var Lj=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},vw,Bj;let W4=class OS extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return Ace()}constructor(e,n={}){var o;super(),vw.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof OS?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,i=n.cause instanceof OS&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return Lj(this,vw,"m",Bj).call(this,this,e)}};vw=new WeakSet,Bj=function t(e,n){return n!=null&&n(e)?e:e.cause?Lj(this,vw,"m",t).call(this,e.cause,n):e};class TS extends W4{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}function Dj(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,i=r==null?void 0:r[0],o=t.chains.find(a=>a.id===(n==null?void 0:n.chainId)),s=t.state.status;switch(s){case"connected":return{address:i,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:s};case"reconnecting":return{address:i,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:s};case"connecting":return{address:i,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:s};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:s}}}function yw(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!yw(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const i=Object.keys(t);if(n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.hasOwn(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(o&&!yw(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}let qx=!1;async function jj(t,e={}){var l,u;if(qx)return[];qx=!0,t.setState(f=>({...f,status:f.current?"reconnecting":"connecting"}));const n=[];if((l=e.connectors)!=null&&l.length)for(const f of e.connectors){let p;typeof f=="function"?p=t._internal.connectors.setup(f):p=f,n.push(p)}else n.push(...t.connectors);let r;try{r=await((u=t.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const i={};for(const[,f]of t.state.connections)i[f.connector.id]=1;r&&(i[r]=0);const o=Object.keys(i).length>0?[...n].sort((f,p)=>(i[f.id]??10)-(i[p.id]??10)):n;let s=!1;const a=[],c=[];for(const f of o){const p=await f.getProvider().catch(()=>{});if(!p||c.some(y=>y===p)||!await f.isAuthorized())continue;const w=await f.connect({isReconnecting:!0}).catch(()=>null);w&&(f.emitter.off("connect",t._internal.events.connect),f.emitter.on("change",t._internal.events.change),f.emitter.on("disconnect",t._internal.events.disconnect),t.setState(y=>{const I=new Map(s?y.connections:new Map).set(f.uid,{accounts:w.accounts,chainId:w.chainId,connector:f});return{...y,current:s?y.current:f.uid,connections:I}}),a.push({accounts:w.accounts,chainId:w.chainId,connector:f}),c.push(p),s=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(s?t.setState(f=>({...f,status:"connected"})):t.setState(f=>({...f,connections:new Map,current:null,status:"disconnected"}))),qx=!1,a}class xf extends W4{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}function $j(t,e){const{onChange:n}=e;return t.subscribe(()=>Dj(t),n,{equalityFn(r,i){const{connector:o,...s}=r,{connector:a,...c}=i;return yw(s,c)&&(o==null?void 0:o.id)===(a==null?void 0:a.id)&&(o==null?void 0:o.uid)===(a==null?void 0:a.uid)}})}m1.type="injected";function m1(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const c=t.target;if(typeof c=="function"){const l=c();if(l)return l}return typeof c=="object"?c:typeof c=="string"?{...Ice[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(l){return l==null?void 0:l.ethereum}}}let i,o,s,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:m1.type,async setup(){const l=await this.getProvider();l!=null&&l.on&&t.target&&(s||(s=this.onConnect.bind(this),l.on("connect",s)),i||(i=this.onAccountsChanged.bind(this),l.on("accountsChanged",i)))},async connect({chainId:l,isReconnecting:u}={}){var m,w,y,I,S,T;const f=await this.getProvider();if(!f)throw new xf;let p=[];if(u)p=await this.getAccounts().catch(()=>[]);else if(e)try{p=(I=(y=(w=(m=(await f.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:m.caveats)==null?void 0:w[0])==null?void 0:y.value)==null?void 0:I.map(z=>Cv(z)),p.length>0&&(p=await this.getAccounts())}catch(N){const z=N;if(z.code===Di.code)throw new Di(z);if(z.code===Gl.code)throw z}try{!(p!=null&&p.length)&&!u&&(p=(await f.request({method:"eth_requestAccounts"})).map($=>Cv($))),s&&(f.removeListener("connect",s),s=void 0),i||(i=this.onAccountsChanged.bind(this),f.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),f.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),f.on("disconnect",a));let N=await this.getChainId();if(l&&N!==l){const z=await this.switchChain({chainId:l}).catch($=>{if($.code===Di.code)throw $;return{id:N}});N=(z==null?void 0:z.id)??N}return e&&await((S=c.storage)==null?void 0:S.removeItem(`${this.id}.disconnected`)),t.target||await((T=c.storage)==null?void 0:T.setItem("injected.connected",!0)),{accounts:p,chainId:N}}catch(N){const z=N;throw z.code===Di.code?new Di(z):z.code===Gl.code?new Gl(z):z}},async disconnect(){var u,f;const l=await this.getProvider();if(!l)throw new xf;o&&(l.removeListener("chainChanged",o),o=void 0),a&&(l.removeListener("disconnect",a),a=void 0),s||(s=this.onConnect.bind(this),l.on("connect",s));try{await D4(()=>l.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((u=c.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),t.target||await((f=c.storage)==null?void 0:f.removeItem("injected.connected"))},async getAccounts(){const l=await this.getProvider();if(!l)throw new xf;return(await l.request({method:"eth_accounts"})).map(f=>Cv(f))},async getChainId(){const l=await this.getProvider();if(!l)throw new xf;const u=await l.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let l;const u=r();return typeof u.provider=="function"?l=u.provider(window):typeof u.provider=="string"?l=my(window,u.provider):l=u.provider,l&&!l.removeListener&&("off"in l&&typeof l.off=="function"?l.removeListener=l.off:l.removeListener=()=>{}),l},async isAuthorized(){var l,u;try{if(e&&await((l=c.storage)==null?void 0:l.getItem(`${this.id}.disconnected`))||!t.target&&!await((u=c.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const w=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",w),!!await this.getProvider()),y=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(S=>window.addEventListener("ethereum#initialized",()=>S(w()),{once:!0}))]:[],new Promise(S=>setTimeout(()=>S(w()),y))]))return!0}throw new xf}return!!(await G7(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:u}){var w,y,I,S;const f=await this.getProvider();if(!f)throw new xf;const p=c.chains.find(T=>T.id===u);if(!p)throw new bd(new TS);const m=new Promise(T=>{const N=z=>{"chainId"in z&&z.chainId===u&&(c.emitter.off("change",N),T())};c.emitter.on("change",N)});try{return await Promise.all([f.request({method:"wallet_switchEthereumChain",params:[{chainId:uw(u)}]}).then(async()=>{await this.getChainId()===u&&c.emitter.emit("change",{chainId:u})}),m]),p}catch(T){const N=T;if(N.code===4902||((y=(w=N==null?void 0:N.data)==null?void 0:w.originalError)==null?void 0:y.code)===4902)try{const{default:z,...$}=p.blockExplorers??{};let H;l!=null&&l.blockExplorerUrls?H=l.blockExplorerUrls:z&&(H=[z.url,...Object.values($).map(B=>B.url)]);let K;(I=l==null?void 0:l.rpcUrls)!=null&&I.length?K=l.rpcUrls:K=[((S=p.rpcUrls.default)==null?void 0:S.http[0])??""];const j={blockExplorerUrls:H,chainId:uw(u),chainName:(l==null?void 0:l.chainName)??p.name,iconUrls:l==null?void 0:l.iconUrls,nativeCurrency:(l==null?void 0:l.nativeCurrency)??p.nativeCurrency,rpcUrls:K};return await Promise.all([f.request({method:"wallet_addEthereumChain",params:[j]}).then(async()=>{if(await this.getChainId()===u)c.emitter.emit("change",{chainId:u});else throw new Di(new Error("User rejected switch after adding network."))}),m]),p}catch(z){throw new Di(z)}throw N.code===Di.code?new Di(N):new bd(N)}},async onAccountsChanged(l){var u;if(l.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const f=(await this.getChainId()).toString();this.onConnect({chainId:f}),e&&await((u=c.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:l.map(f=>Cv(f))})},onChainChanged(l){const u=Number(l);c.emitter.emit("change",{chainId:u})},async onConnect(l){const u=await this.getAccounts();if(u.length===0)return;const f=Number(l.chainId);c.emitter.emit("connect",{accounts:u,chainId:f});const p=await this.getProvider();p&&(s&&(p.removeListener("connect",s),s=void 0),i||(i=this.onAccountsChanged.bind(this),p.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),p.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),p.on("disconnect",a)))},async onDisconnect(l){const u=await this.getProvider();l&&l.code===1013&&u&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),u&&(o&&(u.removeListener("chainChanged",o),o=void 0),a&&(u.removeListener("disconnect",a),a=void 0),s||(s=this.onConnect.bind(this),u.on("connect",s))))}})}const Ice={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:my(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return my(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:my(t,"isPhantom")}}};function my(t,e){function n(i){return typeof e=="function"?e(i):typeof e=="string"?i[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(i=>n(i));if(r&&n(r))return r}const kce=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(s,a,c)=>{let l=s;if(a){const u=(c==null?void 0:c.equalityFn)||Object.is;let f=s(r.getState());l=p=>{const m=s(p);if(!u(f,m)){const w=f;a(f=m,w)}},c!=null&&c.fireImmediately&&a(f,f)}return i(l)},t(e,n,r)},Mce=kce;function Rce(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var o;const s=c=>c===null?null:JSON.parse(c,void 0),a=(o=n.getItem(i))!=null?o:null;return a instanceof Promise?a.then(s):s(a)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const NS=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return NS(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return NS(r)(n)}}}},Oce=(t,e)=>(n,r,i)=>{let o={storage:Rce(()=>localStorage),partialize:y=>y,version:0,merge:(y,I)=>({...I,...y}),...e},s=!1;const a=new Set,c=new Set;let l=o.storage;if(!l)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...y)},r,i);const u=()=>{const y=o.partialize({...r()});return l.setItem(o.name,{state:y,version:o.version})},f=i.setState;i.setState=(y,I)=>{f(y,I),u()};const p=t((...y)=>{n(...y),u()},r,i);i.getInitialState=()=>p;let m;const w=()=>{var y,I;if(!l)return;s=!1,a.forEach(T=>{var N;return T((N=r())!=null?N:p)});const S=((I=o.onRehydrateStorage)==null?void 0:I.call(o,(y=r())!=null?y:p))||void 0;return NS(l.getItem.bind(l))(o.name).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==o.version){if(o.migrate)return[!0,o.migrate(T.state,T.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,T.state];return[!1,void 0]}).then(T=>{var N;const[z,$]=T;if(m=o.merge($,(N=r())!=null?N:p),n(m,!0),z)return u()}).then(()=>{S==null||S(m,void 0),m=r(),s=!0,c.forEach(T=>T(m))}).catch(T=>{S==null||S(void 0,T)})};return i.persist={setOptions:y=>{o={...o,...y},y.storage&&(l=y.storage)},clearStorage:()=>{l==null||l.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>w(),hasHydrated:()=>s,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},o.skipHydration||w(),m||p},Tce=Oce,PT=t=>{let e;const n=new Set,r=(l,u)=>{const f=typeof l=="function"?l(e):l;if(!Object.is(f,e)){const p=e;e=u??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(m=>m(e,p))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,i,a);return a},Hx=t=>t?PT(t):PT;class Nce{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new A4})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function Pce(t){return new Nce(t)}function Lce(t,e){return JSON.parse(t,(n,r)=>{let i=r;return(i==null?void 0:i.__type)==="bigint"&&(i=BigInt(i.value)),(i==null?void 0:i.__type)==="Map"&&(i=new Map(i.value)),(e==null?void 0:e(n,i))??i})}function LT(t,e){return t.slice(0,e).join(".")||"."}function BT(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function Bce(t,e){const n=typeof t=="function",r=typeof e=="function",i=[],o=[];return function(a,c){if(typeof c=="object")if(i.length){const l=BT(i,this);l===0?i[i.length]=this:(i.splice(l),o.splice(l)),o[o.length]=a;const u=BT(i,c);if(u!==0)return r?e.call(this,a,c,LT(o,u)):`[ref=${LT(o,u)}]`}else i[0]=c,o[0]=a;return n?t.call(this,a,c):c}}function Dce(t,e,n,r){return JSON.stringify(t,Bce((i,o)=>{let s=o;return typeof s=="bigint"&&(s={__type:"bigint",value:o.toString()}),s instanceof Map&&(s={__type:"Map",value:Array.from(o.entries())}),(e==null?void 0:e(i,s))??s},r),n??void 0)}function jce(t){const{deserialize:e=Lce,key:n="wagmi",serialize:r=Dce,storage:i=Fj}=t;function o(s){return s instanceof Promise?s.then(a=>a).catch(()=>null):s}return{...i,key:n,async getItem(s,a){const c=i.getItem(`${n}.${s}`),l=await o(c);return l?e(l)??null:a??null},async setItem(s,a){const c=`${n}.${s}`;a===null?await o(i.removeItem(c)):await o(i.setItem(c,r(a)))},async removeItem(s){await o(i.removeItem(`${n}.${s}`))}}}const Fj={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function $ce(){const t=typeof window<"u"&&window.localStorage?window.localStorage:Fj;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const PS=256;let Lv=PS,Bv;function Fce(t=11){if(!Bv||Lv+t>PS*2){Bv="",Lv=0;for(let e=0;e<PS;e++)Bv+=(256+Math.random()*256|0).toString(16).substring(1)}return Bv.substring(Lv,Lv+++t)}function Uj(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=jce({storage:$ce()}),syncConnectedChain:r=!0,ssr:i=!1,...o}=t,s=typeof window<"u"&&e?ite():void 0,a=Hx(()=>o.chains),c=Hx(()=>{const $=[],H=new Set;for(const K of o.connectors??[]){const j=l(K);if($.push(j),!i&&j.rdns){const B=typeof j.rdns=="string"?[j.rdns]:j.rdns;for(const D of B)H.add(D)}}if(!i&&s){const K=s.getProviders();for(const j of K)H.has(j.info.rdns)||$.push(l(u(j)))}return $});function l($){var j;const H=Pce(Fce()),K={...$({emitter:H,chains:a.getState(),storage:n,transports:o.transports}),emitter:H,uid:H.uid};return H.on("connect",N),(j=K.setup)==null||j.call(K),K}function u($){const{info:H}=$,K=$.provider;return m1({target:{...H,id:H.rdns,provider:K}})}const f=new Map;function p($={}){const H=$.chainId??I.getState().chainId,K=a.getState().find(B=>B.id===H);if($.chainId&&!K)throw new TS;{const B=f.get(I.getState().chainId);if(B&&!K)return B;if(!K)throw new TS}{const B=f.get(H);if(B)return B}let j;if(o.client)j=o.client({chain:K});else{const B=K.id,D=a.getState().map(b=>b.id),P={},E=Object.entries(o);for(const[b,g]of E)if(!(b==="chains"||b==="client"||b==="connectors"||b==="transports"))if(typeof g=="object")if(B in g)P[b]=g[B];else{if(D.some(A=>A in g))continue;P[b]=g}else P[b]=g;j=ioe({...P,chain:K,batch:P.batch??{multicall:!0},transport:b=>o.transports[B]({...b,connectors:c})})}return f.set(H,j),j}function m(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let w;const y="0.0.0-canary-";gy.startsWith(y)?w=Number.parseInt(gy.replace(y,"")):w=Number.parseInt(gy.split(".")[0]??"0");const I=Hx(Mce(n?Tce(m,{migrate($,H){if(H===w)return $;const K=m(),j=S($,K.chainId);return{...K,chainId:j}},name:"store",partialize($){return{connections:{__type:"Map",value:Array.from($.connections.entries()).map(([H,K])=>{const{id:j,name:B,type:D,uid:P}=K.connector;return[H,{...K,connector:{id:j,name:B,type:D,uid:P}}]})},chainId:$.chainId,current:$.current}},merge($,H){typeof $=="object"&&$&&"status"in $&&delete $.status;const K=S($,H.chainId);return{...H,...$,chainId:K}},skipHydration:i,storage:n,version:w}):m));I.setState(m());function S($,H){return $&&typeof $=="object"&&"chainId"in $&&typeof $.chainId=="number"&&a.getState().some(K=>K.id===$.chainId)?$.chainId:H}r&&I.subscribe(({connections:$,current:H})=>{var K;return H?(K=$.get(H))==null?void 0:K.chainId:void 0},$=>{if(a.getState().some(K=>K.id===$))return I.setState(K=>({...K,chainId:$??K.chainId}))}),s==null||s.subscribe($=>{const H=new Set,K=new Set;for(const B of c.getState())if(H.add(B.id),B.rdns){const D=typeof B.rdns=="string"?[B.rdns]:B.rdns;for(const P of D)K.add(P)}const j=[];for(const B of $){if(K.has(B.info.rdns))continue;const D=l(u(B));H.has(D.id)||j.push(D)}n&&!I.persist.hasHydrated()||c.setState(B=>[...B,...j],!0)});function T($){I.setState(H=>{const K=H.connections.get($.uid);return K?{...H,connections:new Map(H.connections).set($.uid,{accounts:$.accounts??K.accounts,chainId:$.chainId??K.chainId,connector:K.connector})}:H})}function N($){I.getState().status==="connecting"||I.getState().status==="reconnecting"||I.setState(H=>{const K=c.getState().find(j=>j.uid===$.uid);return K?(K.emitter.listenerCount("connect")&&K.emitter.off("connect",T),K.emitter.listenerCount("change")||K.emitter.on("change",T),K.emitter.listenerCount("disconnect")||K.emitter.on("disconnect",z),{...H,connections:new Map(H.connections).set($.uid,{accounts:$.accounts,chainId:$.chainId,connector:K}),current:$.uid,status:"connected"}):H})}function z($){I.setState(H=>{const K=H.connections.get($.uid);if(K){const B=K.connector;B.emitter.listenerCount("change")&&K.connector.emitter.off("change",T),B.emitter.listenerCount("disconnect")&&K.connector.emitter.off("disconnect",z),B.emitter.listenerCount("connect")||K.connector.emitter.on("connect",N)}if(H.connections.delete($.uid),H.connections.size===0)return{...H,connections:new Map,current:null,status:"disconnected"};const j=H.connections.values().next().value;return{...H,connections:new Map(H.connections),current:j.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:p,get state(){return I.getState()},setState($){let H;typeof $=="function"?H=$(I.getState()):H=$;const K=m();typeof H!="object"&&(H=K),Object.keys(K).some(B=>!(B in H))&&(H=K),I.setState(H,!0)},subscribe($,H,K){return I.subscribe($,H,K?{...K,fireImmediately:K.emitImmediately}:void 0)},_internal:{mipd:s,store:I,ssr:!!i,syncConnectedChain:r,transports:o.transports,chains:{setState($){const H=typeof $=="function"?$(a.getState()):$;if(H.length!==0)return a.setState(H,!0)},subscribe($){return a.subscribe($)}},connectors:{providerDetailToConnector:u,setup:l,setState($){return c.setState(typeof $=="function"?$(c.getState()):$,!0)},subscribe($){return c.subscribe($)}},events:{change:T,connect:N,disconnect:z}}}}function Uce(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(i=>i.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(i=>{var c;const o=new Set;for(const l of i??[])if(l.rdns){const u=Array.isArray(l.rdns)?l.rdns:[l.rdns];for(const f of u)o.add(f)}const s=[],a=((c=t._internal.mipd)==null?void 0:c.getProviders())??[];for(const l of a){if(o.has(l.info.rdns))continue;const u=t._internal.connectors.providerDetailToConnector(l),f=t._internal.connectors.setup(u);s.push(f)}return[...i,...s]})),r?jj(t):t.storage&&t.setState(i=>({...i,connections:new Map}))}}}function zce(t){const{children:e,config:n,initialState:r,reconnectOnMount:i=!0}=t,{onMount:o}=Uce(n,{initialState:r,reconnectOnMount:i});n._internal.ssr||o();const s=be.useRef(!0);return be.useEffect(()=>{if(s.current&&n._internal.ssr)return o(),()=>{s.current=!1}},[]),e}const zj=be.createContext(void 0);function qce(t){const{children:e,config:n}=t,r={value:n};return be.createElement(zce,t,be.createElement(zj.Provider,r,e))}const Hce="2.16.2",Kce=()=>`wagmi@${Hce}`;class Wce extends W4{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return Kce()}}class Vce extends Wce{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function v1(t={}){const e=t.config??be.useContext(zj);if(!e)throw new Vce;return e}var Kx={exports:{}},Wx={},Vx={exports:{}},Gx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DT;function Gce(){if(DT)return Gx;DT=1;var t=xh();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,s=t.useDebugValue;function a(f,p){var m=p(),w=r({inst:{value:m,getSnapshot:p}}),y=w[0].inst,I=w[1];return o(function(){y.value=m,y.getSnapshot=p,c(y)&&I({inst:y})},[f,m,p]),i(function(){return c(y)&&I({inst:y}),f(function(){c(y)&&I({inst:y})})},[f]),s(m),m}function c(f){var p=f.getSnapshot;f=f.value;try{var m=p();return!n(f,m)}catch{return!0}}function l(f,p){return p()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:a;return Gx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,Gx}var jT;function Yce(){return jT||(jT=1,Vx.exports=Gce()),Vx.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T;function Jce(){if($T)return Wx;$T=1;var t=xh(),e=Yce();function n(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,s=t.useEffect,a=t.useMemo,c=t.useDebugValue;return Wx.useSyncExternalStoreWithSelector=function(l,u,f,p,m){var w=o(null);if(w.current===null){var y={hasValue:!1,value:null};w.current=y}else y=w.current;w=a(function(){function S(H){if(!T){if(T=!0,N=H,H=p(H),m!==void 0&&y.hasValue){var K=y.value;if(m(K,H))return z=K}return z=H}if(K=z,r(N,H))return K;var j=p(H);return m!==void 0&&m(K,j)?(N=H,K):(N=H,z=j)}var T=!1,N,z,$=f===void 0?null:f;return[function(){return S(u())},$===null?void 0:function(){return S($())}]},[u,f,p,m]);var I=i(l,w[0],w[1]);return s(function(){y.hasValue=!0,y.value=I},[I]),c(I),I},Wx}var FT;function Zce(){return FT||(FT=1,Kx.exports=Jce()),Kx.exports}var Xce=Zce();const Yx=t=>typeof t=="object"&&!Array.isArray(t);function Qce(t,e,n=e,r=yw){const i=be.useRef([]),o=Xce.useSyncExternalStoreWithSelector(t,e,n,s=>s,(s,a)=>{if(Yx(s)&&Yx(a)&&i.current.length){for(const c of i.current)if(!r(s[c],a[c]))return!1;return!0}return r(s,a)});return be.useMemo(()=>{if(Yx(o)){const s={...o};let a={};for(const[c,l]of Object.entries(s))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(i.current.includes(c)||i.current.push(c),l)}};return Object.defineProperties(s,a),s}return o},[o])}function ele(t={}){const e=v1(t);return Qce(n=>$j(e,{onChange:n}),()=>Dj(e))}function tle(t={}){const{onConnect:e,onDisconnect:n}=t,r=v1(t);be.useEffect(()=>$j(r,{onChange(i,o){if((o.status==="reconnecting"||o.status==="connecting"&&o.address===void 0)&&i.status==="connected"){const{address:s,addresses:a,chain:c,chainId:l,connector:u}=i,f=o.status==="reconnecting"||o.status===void 0;e==null||e({address:s,addresses:a,chain:c,chainId:l,connector:u,isReconnected:f})}else o.status==="connected"&&i.status==="disconnected"&&(n==null||n())}}),[r,e,n])}var Eg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},y1=typeof window>"u"||"Deno"in globalThis;function as(){}function nle(t,e){return typeof t=="function"?t(e):t}function rle(t){return typeof t=="number"&&t>=0&&t!==1/0}function ile(t,e){return Math.max(t+(e||0)-Date.now(),0)}function LS(t,e){return typeof t=="function"?t(e):t}function ole(t,e){return typeof t=="function"?t(e):t}function UT(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(r){if(e.queryHash!==V4(s,e.options))return!1}else if(!J0(e.queryKey,s))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||o&&!o(e))}function zT(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Ed(e.options.mutationKey)!==Ed(o))return!1}else if(!J0(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function V4(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ed)(t)}function Ed(t){return JSON.stringify(t,(e,n)=>BS(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function J0(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>J0(t[n],e[n])):!1}function qj(t,e){if(t===e)return t;const n=qT(t)&&qT(e);if(n||BS(t)&&BS(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),s=o.length,a=n?[]:{},c=new Set(r);let l=0;for(let u=0;u<s;u++){const f=n?u:o[u];(!n&&c.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,l++):(a[f]=qj(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&l++)}return i===s&&l===i?t:a}return e}function sle(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function qT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function BS(t){if(!HT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!HT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function HT(t){return Object.prototype.toString.call(t)==="[object Object]"}function ale(t){return new Promise(e=>{setTimeout(e,t)})}function cle(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?qj(t,e):e}function lle(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function ule(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var G4=Symbol();function Hj(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===G4?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function dle(t,e){return typeof t=="function"?t(...e):!!t}var ed,Ol,Zf,g9,fle=(g9=class extends Eg{constructor(){super();gn(this,ed);gn(this,Ol);gn(this,Zf);Vt(this,Zf,e=>{if(!y1&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){je(this,Ol)||this.setEventListener(je(this,Zf))}onUnsubscribe(){var e;this.hasListeners()||((e=je(this,Ol))==null||e.call(this),Vt(this,Ol,void 0))}setEventListener(e){var n;Vt(this,Zf,e),(n=je(this,Ol))==null||n.call(this),Vt(this,Ol,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){je(this,ed)!==e&&(Vt(this,ed,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof je(this,ed)=="boolean"?je(this,ed):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ed=new WeakMap,Ol=new WeakMap,Zf=new WeakMap,g9),Kj=new fle,Xf,Tl,Qf,m9,hle=(m9=class extends Eg{constructor(){super();gn(this,Xf,!0);gn(this,Tl);gn(this,Qf);Vt(this,Qf,e=>{if(!y1&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){je(this,Tl)||this.setEventListener(je(this,Qf))}onUnsubscribe(){var e;this.hasListeners()||((e=je(this,Tl))==null||e.call(this),Vt(this,Tl,void 0))}setEventListener(e){var n;Vt(this,Qf,e),(n=je(this,Tl))==null||n.call(this),Vt(this,Tl,e(this.setOnline.bind(this)))}setOnline(e){je(this,Xf)!==e&&(Vt(this,Xf,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return je(this,Xf)}},Xf=new WeakMap,Tl=new WeakMap,Qf=new WeakMap,m9),ww=new hle;function ple(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function gle(t){return Math.min(1e3*2**t,3e4)}function Wj(t){return(t??"online")==="online"?ww.isOnline():!0}var Vj=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Jx(t){return t instanceof Vj}function Gj(t){let e=!1,n=0,r=!1,i;const o=ple(),s=y=>{var I;r||(p(new Vj(y)),(I=t.abort)==null||I.call(t))},a=()=>{e=!0},c=()=>{e=!1},l=()=>Kj.isFocused()&&(t.networkMode==="always"||ww.isOnline())&&t.canRun(),u=()=>Wj(t.networkMode)&&t.canRun(),f=y=>{var I;r||(r=!0,(I=t.onSuccess)==null||I.call(t,y),i==null||i(),o.resolve(y))},p=y=>{var I;r||(r=!0,(I=t.onError)==null||I.call(t,y),i==null||i(),o.reject(y))},m=()=>new Promise(y=>{var I;i=S=>{(r||l())&&y(S)},(I=t.onPause)==null||I.call(t)}).then(()=>{var y;i=void 0,r||(y=t.onContinue)==null||y.call(t)}),w=()=>{if(r)return;let y;const I=n===0?t.initialPromise:void 0;try{y=I??t.fn()}catch(S){y=Promise.reject(S)}Promise.resolve(y).then(f).catch(S=>{var H;if(r)return;const T=t.retry??(y1?0:3),N=t.retryDelay??gle,z=typeof N=="function"?N(n,S):N,$=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,S);if(e||!$){p(S);return}n++,(H=t.onFail)==null||H.call(t,n,S),ale(z).then(()=>l()?void 0:m()).then(()=>{e?p(S):w()})})};return{promise:o,cancel:s,continue:()=>(i==null||i(),o),cancelRetry:a,continueRetry:c,canStart:u,start:()=>(u()?w():m().then(w),o)}}var mle=t=>setTimeout(t,0);function vle(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=mle;const o=a=>{e?t.push(a):i(()=>{n(a)})},s=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||s()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var ri=vle(),td,v9,Yj=(v9=class{constructor(){gn(this,td)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rle(this.gcTime)&&Vt(this,td,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(y1?1/0:300*1e3))}clearGcTimeout(){je(this,td)&&(clearTimeout(je(this,td)),Vt(this,td,void 0))}},td=new WeakMap,v9),eh,nd,rs,rd,_i,Z0,id,Os,Za,y9,yle=(y9=class extends Yj{constructor(e){super();gn(this,Os);gn(this,eh);gn(this,nd);gn(this,rs);gn(this,rd);gn(this,_i);gn(this,Z0);gn(this,id);Vt(this,id,!1),Vt(this,Z0,e.defaultOptions),this.setOptions(e.options),this.observers=[],Vt(this,rd,e.client),Vt(this,rs,je(this,rd).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Vt(this,eh,ble(this.options)),this.state=e.state??je(this,eh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=je(this,_i))==null?void 0:e.promise}setOptions(e){this.options={...je(this,Z0),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&je(this,rs).remove(this)}setData(e,n){const r=cle(this.state.data,e,this.options);return yr(this,Os,Za).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){yr(this,Os,Za).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=je(this,_i))==null?void 0:r.promise;return(i=je(this,_i))==null||i.cancel(e),n?n.then(as).catch(as):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(je(this,eh))}isActive(){return this.observers.some(e=>ole(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===G4||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>LS(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!ile(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=je(this,_i))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=je(this,_i))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),je(this,rs).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(je(this,_i)&&(je(this,id)?je(this,_i).cancel({revert:!0}):je(this,_i).cancelRetry()),this.scheduleGc()),je(this,rs).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yr(this,Os,Za).call(this,{type:"invalidate"})}fetch(e,n){var l,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(je(this,_i))return je(this,_i).continueRetry(),je(this,_i).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Vt(this,id,!0),r.signal)})},o=()=>{const p=Hj(this.options,n),w=(()=>{const y={client:je(this,rd),queryKey:this.queryKey,meta:this.meta};return i(y),y})();return Vt(this,id,!1),this.options.persister?this.options.persister(p,w,this):p(w)},a=(()=>{const p={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:je(this,rd),state:this.state,fetchFn:o};return i(p),p})();(l=this.options.behavior)==null||l.onFetch(a,this),Vt(this,nd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&yr(this,Os,Za).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const c=p=>{var m,w,y,I;Jx(p)&&p.silent||yr(this,Os,Za).call(this,{type:"error",error:p}),Jx(p)||((w=(m=je(this,rs).config).onError)==null||w.call(m,p,this),(I=(y=je(this,rs).config).onSettled)==null||I.call(y,this.state.data,p,this)),this.scheduleGc()};return Vt(this,_i,Gj({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var m,w,y,I;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(S){c(S);return}(w=(m=je(this,rs).config).onSuccess)==null||w.call(m,p,this),(I=(y=je(this,rs).config).onSettled)==null||I.call(y,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,m)=>{yr(this,Os,Za).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{yr(this,Os,Za).call(this,{type:"pause"})},onContinue:()=>{yr(this,Os,Za).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),je(this,_i).start()}},eh=new WeakMap,nd=new WeakMap,rs=new WeakMap,rd=new WeakMap,_i=new WeakMap,Z0=new WeakMap,id=new WeakMap,Os=new WeakSet,Za=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...wle(r.data,this.options),fetchMeta:e.meta??null};case"success":return Vt(this,nd,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Jx(i)&&i.revert&&je(this,nd)?{...je(this,nd),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),ri.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),je(this,rs).notify({query:this,type:"updated",action:e})})},y9);function wle(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Wj(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ble(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ua,w9,Ele=(w9=class extends Eg{constructor(e={}){super();gn(this,ua);this.config=e,Vt(this,ua,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??V4(i,n);let s=this.get(o);return s||(s=new yle({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){je(this,ua).has(e.queryHash)||(je(this,ua).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=je(this,ua).get(e.queryHash);n&&(e.destroy(),n===e&&je(this,ua).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ri.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return je(this,ua).get(e)}getAll(){return[...je(this,ua).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>UT(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>UT(e,r)):n}notify(e){ri.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ri.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ri.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ua=new WeakMap,w9),da,Li,od,fa,wl,b9,xle=(b9=class extends Yj{constructor(e){super();gn(this,fa);gn(this,da);gn(this,Li);gn(this,od);this.mutationId=e.mutationId,Vt(this,Li,e.mutationCache),Vt(this,da,[]),this.state=e.state||Jj(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){je(this,da).includes(e)||(je(this,da).push(e),this.clearGcTimeout(),je(this,Li).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Vt(this,da,je(this,da).filter(n=>n!==e)),this.scheduleGc(),je(this,Li).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){je(this,da).length||(this.state.status==="pending"?this.scheduleGc():je(this,Li).remove(this))}continue(){var e;return((e=je(this,od))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,s,a,c,l,u,f,p,m,w,y,I,S,T,N,z,$,H,K,j;const n=()=>{yr(this,fa,wl).call(this,{type:"continue"})};Vt(this,od,Gj({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(B,D)=>{yr(this,fa,wl).call(this,{type:"failed",failureCount:B,error:D})},onPause:()=>{yr(this,fa,wl).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>je(this,Li).canRun(this)}));const r=this.state.status==="pending",i=!je(this,od).canStart();try{if(r)n();else{yr(this,fa,wl).call(this,{type:"pending",variables:e,isPaused:i}),await((s=(o=je(this,Li).config).onMutate)==null?void 0:s.call(o,e,this));const D=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));D!==this.state.context&&yr(this,fa,wl).call(this,{type:"pending",context:D,variables:e,isPaused:i})}const B=await je(this,od).start();return await((u=(l=je(this,Li).config).onSuccess)==null?void 0:u.call(l,B,e,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,B,e,this.state.context)),await((w=(m=je(this,Li).config).onSettled)==null?void 0:w.call(m,B,null,this.state.variables,this.state.context,this)),await((I=(y=this.options).onSettled)==null?void 0:I.call(y,B,null,e,this.state.context)),yr(this,fa,wl).call(this,{type:"success",data:B}),B}catch(B){try{throw await((T=(S=je(this,Li).config).onError)==null?void 0:T.call(S,B,e,this.state.context,this)),await((z=(N=this.options).onError)==null?void 0:z.call(N,B,e,this.state.context)),await((H=($=je(this,Li).config).onSettled)==null?void 0:H.call($,void 0,B,this.state.variables,this.state.context,this)),await((j=(K=this.options).onSettled)==null?void 0:j.call(K,void 0,B,e,this.state.context)),B}finally{yr(this,fa,wl).call(this,{type:"error",error:B})}}finally{je(this,Li).runNext(this)}}},da=new WeakMap,Li=new WeakMap,od=new WeakMap,fa=new WeakSet,wl=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ri.batch(()=>{je(this,da).forEach(r=>{r.onMutationUpdate(e)}),je(this,Li).notify({mutation:this,type:"updated",action:e})})},b9);function Jj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var sc,Ts,X0,E9,_le=(E9=class extends Eg{constructor(e={}){super();gn(this,sc);gn(this,Ts);gn(this,X0);this.config=e,Vt(this,sc,new Set),Vt(this,Ts,new Map),Vt(this,X0,0)}build(e,n,r){const i=new xle({mutationCache:this,mutationId:++Em(this,X0)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){je(this,sc).add(e);const n=Dv(e);if(typeof n=="string"){const r=je(this,Ts).get(n);r?r.push(e):je(this,Ts).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(je(this,sc).delete(e)){const n=Dv(e);if(typeof n=="string"){const r=je(this,Ts).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&je(this,Ts).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Dv(e);if(typeof n=="string"){const r=je(this,Ts).get(n),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Dv(e);if(typeof n=="string"){const i=(r=je(this,Ts).get(n))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ri.batch(()=>{je(this,sc).forEach(e=>{this.notify({type:"removed",mutation:e})}),je(this,sc).clear(),je(this,Ts).clear()})}getAll(){return Array.from(je(this,sc))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>zT(n,r))}findAll(e={}){return this.getAll().filter(n=>zT(e,n))}notify(e){ri.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ri.batch(()=>Promise.all(e.map(n=>n.continue().catch(as))))}},sc=new WeakMap,Ts=new WeakMap,X0=new WeakMap,E9);function Dv(t){var e;return(e=t.options.scope)==null?void 0:e.id}function KT(t){return{onFetch:(e,n)=>{var u,f,p,m,w;const r=e.options,i=(p=(f=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,o=((m=e.state.data)==null?void 0:m.pages)||[],s=((w=e.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let y=!1;const I=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},S=Hj(e.options,e.fetchOptions),T=async(N,z,$)=>{if(y)return Promise.reject();if(z==null&&N.pages.length)return Promise.resolve(N);const K=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:z,direction:$?"backward":"forward",meta:e.options.meta};return I(P),P})(),j=await S(K),{maxPages:B}=e.options,D=$?ule:lle;return{pages:D(N.pages,j,B),pageParams:D(N.pageParams,z,B)}};if(i&&o.length){const N=i==="backward",z=N?Sle:WT,$={pages:o,pageParams:s},H=z(r,$);a=await T($,H,N)}else{const N=t??o.length;do{const z=c===0?s[0]??r.initialPageParam:WT(r,a);if(c>0&&z==null)break;a=await T(a,z),c++}while(c<N)}return a};e.options.persister?e.fetchFn=()=>{var y,I;return(I=(y=e.options).persister)==null?void 0:I.call(y,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function WT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Sle(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var lr,Nl,Pl,th,nh,Ll,rh,ih,x9,Cle=(x9=class{constructor(t={}){gn(this,lr);gn(this,Nl);gn(this,Pl);gn(this,th);gn(this,nh);gn(this,Ll);gn(this,rh);gn(this,ih);Vt(this,lr,t.queryCache||new Ele),Vt(this,Nl,t.mutationCache||new _le),Vt(this,Pl,t.defaultOptions||{}),Vt(this,th,new Map),Vt(this,nh,new Map),Vt(this,Ll,0)}mount(){Em(this,Ll)._++,je(this,Ll)===1&&(Vt(this,rh,Kj.subscribe(async t=>{t&&(await this.resumePausedMutations(),je(this,lr).onFocus())})),Vt(this,ih,ww.subscribe(async t=>{t&&(await this.resumePausedMutations(),je(this,lr).onOnline())})))}unmount(){var t,e;Em(this,Ll)._--,je(this,Ll)===0&&((t=je(this,rh))==null||t.call(this),Vt(this,rh,void 0),(e=je(this,ih))==null||e.call(this),Vt(this,ih,void 0))}isFetching(t){return je(this,lr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return je(this,Nl).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=je(this,lr).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=je(this,lr).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(LS(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return je(this,lr).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=je(this,lr).get(r.queryHash),o=i==null?void 0:i.state.data,s=nle(e,o);if(s!==void 0)return je(this,lr).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return ri.batch(()=>je(this,lr).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=je(this,lr).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=je(this,lr);ri.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=je(this,lr);return ri.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=ri.batch(()=>je(this,lr).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(as).catch(as)}invalidateQueries(t,e={}){return ri.batch(()=>(je(this,lr).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=ri.batch(()=>je(this,lr).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(as)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(as)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=je(this,lr).build(this,e);return n.isStaleByTime(LS(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(as).catch(as)}fetchInfiniteQuery(t){return t.behavior=KT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(as).catch(as)}ensureInfiniteQueryData(t){return t.behavior=KT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ww.isOnline()?je(this,Nl).resumePausedMutations():Promise.resolve()}getQueryCache(){return je(this,lr)}getMutationCache(){return je(this,Nl)}getDefaultOptions(){return je(this,Pl)}setDefaultOptions(t){Vt(this,Pl,t)}setQueryDefaults(t,e){je(this,th).set(Ed(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...je(this,th).values()],n={};return e.forEach(r=>{J0(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){je(this,nh).set(Ed(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...je(this,nh).values()],n={};return e.forEach(r=>{J0(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...je(this,Pl).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=V4(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===G4&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...je(this,Pl).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){je(this,lr).clear(),je(this,Nl).clear()}},lr=new WeakMap,Nl=new WeakMap,Pl=new WeakMap,th=new WeakMap,nh=new WeakMap,Ll=new WeakMap,rh=new WeakMap,ih=new WeakMap,x9),Bl,Dl,so,ac,_c,vy,DS,_9,Ale=(_9=class extends Eg{constructor(n,r){super();gn(this,_c);gn(this,Bl);gn(this,Dl);gn(this,so);gn(this,ac);Vt(this,Bl,n),this.setOptions(r),this.bindMethods(),yr(this,_c,vy).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=je(this,Bl).defaultMutationOptions(n),sle(this.options,r)||je(this,Bl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:je(this,so),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ed(r.mutationKey)!==Ed(this.options.mutationKey)?this.reset():((i=je(this,so))==null?void 0:i.state.status)==="pending"&&je(this,so).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=je(this,so))==null||n.removeObserver(this)}onMutationUpdate(n){yr(this,_c,vy).call(this),yr(this,_c,DS).call(this,n)}getCurrentResult(){return je(this,Dl)}reset(){var n;(n=je(this,so))==null||n.removeObserver(this),Vt(this,so,void 0),yr(this,_c,vy).call(this),yr(this,_c,DS).call(this)}mutate(n,r){var i;return Vt(this,ac,r),(i=je(this,so))==null||i.removeObserver(this),Vt(this,so,je(this,Bl).getMutationCache().build(je(this,Bl),this.options)),je(this,so).addObserver(this),je(this,so).execute(n)}},Bl=new WeakMap,Dl=new WeakMap,so=new WeakMap,ac=new WeakMap,_c=new WeakSet,vy=function(){var r;const n=((r=je(this,so))==null?void 0:r.state)??Jj();Vt(this,Dl,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},DS=function(n){ri.batch(()=>{var r,i,o,s,a,c,l,u;if(je(this,ac)&&this.hasListeners()){const f=je(this,Dl).variables,p=je(this,Dl).context;(n==null?void 0:n.type)==="success"?((i=(r=je(this,ac)).onSuccess)==null||i.call(r,n.data,f,p),(s=(o=je(this,ac)).onSettled)==null||s.call(o,n.data,null,f,p)):(n==null?void 0:n.type)==="error"&&((c=(a=je(this,ac)).onError)==null||c.call(a,n.error,f,p),(u=(l=je(this,ac)).onSettled)==null||u.call(l,void 0,n.error,f,p))}this.listeners.forEach(f=>{f(je(this,Dl))})})},_9);function Ile(t){return{mutationFn(e){return jj(t,e)},mutationKey:["reconnect"]}}var Zj=be.createContext(void 0),kle=t=>{const e=be.useContext(Zj);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Mle=({client:t,children:e})=>(be.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),re.jsx(Zj.Provider,{value:t,children:e}));function Rle(t,e){const n=kle(),[r]=be.useState(()=>new Ale(n,t));be.useEffect(()=>{r.setOptions(t)},[r,t]);const i=be.useSyncExternalStore(be.useCallback(s=>r.subscribe(ri.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=be.useCallback((s,a)=>{r.mutate(s,a).catch(as)},[r]);if(i.error&&dle(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}function Ole(t={}){const{mutation:e}=t,n=v1(t),r=Ile(n),{mutate:i,mutateAsync:o,...s}=Rle({...e,...r});return{...s,connectors:n.connectors,reconnect:i,reconnectAsync:o}}const Zx=Q7({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Tle=Uj({chains:[Zx],connectors:[],ssr:!0,transports:{[Zx.id]:X7(Zx.rpcUrls.default.http[0])}}),Nle=["children"],jS="web3auth";async function Ple(t,e){let n=e.connectors.find(i=>i.id===jS);if(n)return n;n=m1({target:{provider:t,id:jS,name:"Web3Auth"}});const r=e._internal.connectors.setup(n);return e._internal.connectors.setState(i=>[...i,r]),r}async function Lle(t,e){var n,r;await Promise.all([(n=e.storage)===null||n===void 0?void 0:n.removeItem(`${t.id}.disconnected`),(r=e.storage)===null||r===void 0?void 0:r.setItem("recentConnectorId",t.id)]);let i=await t.getChainId();e.chains.find(a=>a.id===i)||(i=e.chains[0].id);const o=await t.getAccounts(),s=new Map([[t.uid,{accounts:[o[0]],chainId:i,connector:t}]]);e.setState(a=>_e(_e({},a),{},{chainId:i,connections:s,current:t.uid,status:"connected"}))}async function Ble(t){t._internal.connectors.setState(e=>e.filter(n=>n.id!==jS)),t.setState(e=>_e(_e({},e),{},{chainId:e.chainId,connections:new Map,current:void 0,status:"disconnected"}))}function Dle({children:t}){const{isConnected:e,provider:n}=H4(),{disconnect:r}=K4(),i=v1(),{reconnect:o}=Ole();return tle({onDisconnect:async()=>{ct.info("Disconnected from wagmi"),e&&await r()}}),be.useEffect(()=>{(async()=>{if(e&&n){const s=await Ple(n,i);if(!s)throw ct.error("Failed to setup react wagmi connector"),new Error("Failed to setup connector");await Lle(s,i),o()}else e||i.state.status==="connected"&&await Ble(i)})()},[e,i,n,o]),be.createElement(be.Fragment,null,t)}function jle(t){let{children:e}=t,n=Cw(t,Nle);const{config:r}=n,{web3Auth:i,isInitialized:o}=H4(),s=be.useMemo(()=>{var a;if(i==null||i.setAnalyticsProperties({wagmi_enabled:!0}),!o)return Tle;const c=_e(_e({ssr:!0},r),{},{chains:void 0,connectors:[],transports:{},multiInjectedProviderDiscovery:!1,client:void 0}),l=[];if(o&&i!==null&&i!==void 0&&(a=i.coreOptions)!==null&&a!==void 0&&a.chains){var u;const f=(u=i.currentChain)===null||u===void 0?void 0:u.chainId,p=i.coreOptions.chains.filter(m=>m.chainNamespace===tn.EIP155);if(p.length===0)throw ft.invalidParams("No valid chains found in web3auth config for wagmi.");p.forEach(m=>{const w=Q7({id:Number.parseInt(m.chainId,16),name:m.displayName,rpcUrls:{default:{http:[m.rpcTarget],webSocket:[m.wsTarget]}},blockExplorers:m.blockExplorerUrl?{default:{name:"explorer",url:m.blockExplorerUrl}}:void 0,nativeCurrency:{name:m.tickerName,symbol:m.ticker,decimals:m.decimals||18}});f===m.chainId?l.unshift(w):l.push(w),c.transports[w.id]=m.wsTarget?foe(m.wsTarget):X7(m.rpcTarget)}),c.chains=[l[0],...l.slice(1)]}return Uj(c)},[r,i,o]);return be.createElement(qce,_e(_e({},n),{},{config:s,reconnectOnMount:!1}),be.createElement(Dle,null,e))}const $le="BC5dL3f8Bn4vOO1LjC499LshGqwzthRjYKSXRZLWlwuEhbKAUxxxul1jC57VPL1ZnV-GT0sweRK_qko-KbXUxWg",Fle={web3AuthOptions:{clientId:$le,web3AuthNetwork:cd.SAPPHIRE_DEVNET}},Ule="BC5dL3f8Bn4vOO1LjC499LshGqwzthRjYKSXRZLWlwuEhbKAUxxxul1jC57VPL1ZnV-GT0sweRK_qko-KbXUxWg",zle={web3AuthOptions:{clientId:Ule,web3AuthNetwork:cd.SAPPHIRE_DEVNET}};var Xj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},VT=sd.createContext&&sd.createContext(Xj),qle=["attr","size","title"];function Hle(t,e){if(t==null)return{};var n=Kle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bw(){return bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bw.apply(this,arguments)}function GT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ew(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GT(Object(n),!0).forEach(function(r){Wle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wle(t,e,n){return e=Vle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vle(t){var e=Gle(t,"string");return typeof e=="symbol"?e:e+""}function Gle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qj(t){return t&&t.map((e,n)=>sd.createElement(e.tag,Ew({key:n},e.attr),Qj(e.child)))}function Yle(t){return e=>sd.createElement(Jle,bw({attr:Ew({},t.attr)},e),Qj(t.child))}function Jle(t){var e=n=>{var{attr:r,size:i,title:o}=t,s=Hle(t,qle),a=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),sd.createElement("svg",bw({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:c,style:Ew(Ew({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&sd.createElement("title",null,o),t.children)};return VT!==void 0?sd.createElement(VT.Consumer,null,n=>e(n)):e(Xj)}function Zle(t){return Yle({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"},child:[]}]})(t)}const Xle=[{price:1e-4,maxAmount:1e6},{price:2e-4,maxAmount:2e6},{price:3e-4,maxAmount:3e6},{price:4e-4,maxAmount:4e6},{price:5e-4,maxAmount:5e6}],e$=({currentStage:t,onPurchase:e,isConnected:n,connect:r})=>{const[i,o]=be.useState(1),[s,a]=be.useState(!1),c=async()=>{if(!n){alert("Please connect your wallet first.");return}a(!0);try{alert(`Successfully purchased ${i} tokens!`),e()}catch(l){console.error("Error during purchase:",l),alert("An error occurred during the purchase. Please try again.")}finally{a(!1)}};return re.jsx("div",{className:"flex flex-col items-center gap-4 sm:flex-row sm:justify-center",children:n?re.jsxs(re.Fragment,{children:[re.jsx("input",{type:"number",value:i,onChange:l=>o(Math.max(1,Number.parseInt(l.target.value))),min:"1",className:"w-24 p-2 text-base text-gray-100 bg-gray-800 border border-gray-600 rounded focus:outline-none focus:border-blue-600"}),re.jsx("button",{className:"flex items-center gap-2 px-6 py-3 text-base font-medium text-gray-300 transition transform bg-gray-600 rounded-lg shadow-lg hover:bg-gray-700 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",onClick:c,disabled:s,children:s?re.jsxs(re.Fragment,{children:[re.jsx(Zle,{className:"w-5 h-5 animate-spin"}),"Processing..."]}):`Buy ${i} ELY for ${(Xle[t].price*i).toFixed(4)} SOL`})]}):re.jsx("button",{className:"px-6 py-3 text-base font-medium text-white transition transform bg-blue-600 rounded-lg shadow-lg hover:bg-blue-700 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",onClick:r,disabled:s,children:"Connect Web3 Wallet"})})},Qle="_countdown_zcv3m_1",eue="_timeUnit_zcv3m_9",tue="_value_zcv3m_13",nue="_label_zcv3m_19",So={countdown:Qle,timeUnit:eue,value:tue,label:nue};class rue{constructor(){Pn(this,"config",null)}async loadConfig(){if(this.config)return this.config;try{const e=await fetch("/presale.json");if(!e.ok)throw new Error("Failed to fetch presale configuration");return this.config=await e.json(),this.config}catch(e){throw console.error("Error loading config:",e),e}}async getPresaleData(){return await this.loadConfig()}async addPurchase(e){try{const n=await this.loadConfig(),r=await fetch(`${n.backend_host}/backend/api.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_address:e.address,network:"ethereum",amount:e.amount})});if(!r.ok)throw new Error("Failed to add purchase");return await r.json()}catch(n){throw console.error("Error adding purchase:",n),n}}async getUserPurchases(e){try{const n=await this.loadConfig(),r=await fetch(`${n.backend_host}/backend/api.php?address=${encodeURIComponent(e)}`);if(!r.ok)throw new Error("Failed to get user purchases");return(await r.json()).deposits||[]}catch(n){throw console.error("Error getting user purchases:",n),n}}async getTotalSales(){try{const e=await this.loadConfig(),n=await fetch(`${e.backend_host}/backend/api.php`);if(!n.ok)throw new Error("Failed to get total sales");return((await n.json()).deposits||[]).reduce((o,s)=>o+parseFloat(s.amount||0),0)}catch(e){throw console.error("Error getting total sales:",e),e}}async getLatestPurchase(){try{const e=await this.loadConfig(),n=await fetch(`${e.backend_host}/backend/api.php`);if(!n.ok)throw new Error("Failed to get latest purchase");const i=(await n.json()).deposits||[];if(i.length===0)return null;const o=i.sort((s,a)=>new Date(a.timestamp).getTime()-new Date(s.timestamp).getTime())[0];return{amount:parseFloat(o.amount),price:parseFloat(o.token_price),timestamp:new Date(o.timestamp),address:o.user_address,txHash:o.user_address}}catch(e){throw console.error("Error getting latest purchase:",e),e}}}const iue=new rue,Y4=()=>iue.getPresaleData(),oue=()=>{const[t,e]=be.useState({days:0,hours:0,minutes:0,seconds:0});return be.useEffect(()=>{(async()=>{try{const r=await Y4(),i=new Date(r.countdown.endDate).getTime(),o=()=>{const a=new Date().getTime(),c=i-a;e({days:Math.floor(c/(1e3*60*60*24)),hours:Math.floor(c%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(c%(1e3*60*60)/(1e3*60)),seconds:Math.floor(c%(1e3*60)/1e3)})};o();const s=setInterval(o,1e3);return()=>clearInterval(s)}catch(r){console.error("Failed to fetch countdown end date:",r)}})()},[]),t},t$=()=>{const{days:t,hours:e,minutes:n,seconds:r}=oue();return re.jsxs("div",{className:So.countdown,children:[re.jsxs("div",{className:So.timeUnit,children:[re.jsx("span",{className:So.value,children:t}),re.jsx("span",{className:So.label,children:"Days"})]}),re.jsxs("div",{className:So.timeUnit,children:[re.jsx("span",{className:So.value,children:e}),re.jsx("span",{className:So.label,children:"Hours"})]}),re.jsxs("div",{className:So.timeUnit,children:[re.jsx("span",{className:So.value,children:n}),re.jsx("span",{className:So.label,children:"Minutes"})]}),re.jsxs("div",{className:So.timeUnit,children:[re.jsx("span",{className:So.value,children:r}),re.jsx("span",{className:So.label,children:"Seconds"})]})]})},sue="_header_1l7ut_1",aue="_title_1l7ut_6",cue="_subtitle_1l7ut_18",Xx={header:sue,title:aue,subtitle:cue},n$=()=>re.jsxs("div",{className:Xx.header,children:[re.jsx("h1",{className:Xx.title,children:"ELY Presale"}),re.jsx("p",{className:Xx.subtitle,children:"Your investment opportunity starts here."})]}),lue="_container_1sawj_1",uue="_currencyTabs_1sawj_5",due="_currencyCard_1sawj_12",fue="_active_1sawj_40",hue="_currencyLogo_1sawj_51",pue="_currencyName_1sawj_59",gue="_optionsGrid_1sawj_65",mue="_option_1sawj_65",vue="_label_1sawj_91",yue="_value_1sawj_98",wue="_loading_1sawj_106",bue="_error_1sawj_117",Eue="_retryButton_1sawj_130",xue="_noOptions_1sawj_151",Ei={container:lue,currencyTabs:uue,currencyCard:due,active:fue,currencyLogo:hue,currencyName:pue,optionsGrid:gue,option:mue,label:vue,value:yue,loading:wue,error:bue,retryButton:Eue,noOptions:xue},YT={usdc:{name:"USDC",logo:"/icons/USDC.png",displayName:"USD Coin"},usdt:{name:"USDT",logo:"/icons/USDT.png",displayName:"Tether USD"}},r$=()=>{const[t,e]=be.useState([]),[n,r]=be.useState(null),[i,o]=be.useState("usdc"),[s,a]=be.useState(!0),[c,l]=be.useState(null),u=be.useMemo(()=>Object.keys(YT),[]),f=be.useCallback(async()=>{try{a(!0),l(null);const m=await Y4();e(m.investmentOptions),r(m.paymentOptions)}catch(m){console.error("Error fetching investment options:",m),l("Failed to load investment options")}finally{a(!1)}},[]);be.useEffect(()=>{f()},[f]);const p=be.useCallback(m=>{o(m)},[]);return s?re.jsx("div",{className:Ei.container,children:re.jsx("div",{className:Ei.loading,children:"Loading investment options..."})}):c?re.jsx("div",{className:Ei.container,children:re.jsxs("div",{className:Ei.error,children:[c,re.jsx("button",{onClick:f,className:Ei.retryButton,children:"Retry"})]})}):re.jsxs("div",{className:Ei.container,children:[re.jsx("div",{className:Ei.currencyTabs,children:u.map(m=>{const w=YT[m],y=i===m;return re.jsxs("button",{type:"button",className:`${Ei.currencyCard} ${y?Ei.active:""}`,onClick:()=>p(m),"aria-label":`Select ${w.displayName}`,"aria-pressed":y,children:[re.jsx("img",{src:w.logo,alt:`${w.name} logo`,className:Ei.currencyLogo,width:24,height:24,loading:"lazy"}),re.jsx("span",{className:Ei.currencyName,children:w.name})]},m)})}),re.jsx("div",{className:Ei.optionsGrid,children:t.length>0?t.map(m=>re.jsxs("div",{className:Ei.option,children:[re.jsx("span",{className:Ei.label,children:m.name}),re.jsxs("span",{className:Ei.value,children:[m.allocation.toLocaleString()," ELY @ ",m.price," ",i.toUpperCase()]})]},m.id)):re.jsx("div",{className:Ei.noOptions,children:"No investment options available"})})]})};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ue=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Sue=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),JT=t=>{const e=Sue(t);return e.charAt(0).toUpperCase()+e.slice(1)},i$=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Cue=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Aue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iue=be.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},c)=>be.createElement("svg",{ref:c,...Aue,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:i$("lucide",i),...!o&&!Cue(a)&&{"aria-hidden":"true"},...a},[...s.map(([l,u])=>be.createElement(l,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=(t,e)=>{const n=be.forwardRef(({className:r,...i},o)=>be.createElement(Iue,{ref:o,iconNode:e,className:i$(`lucide-${_ue(JT(t))}`,`lucide-${t}`,r),...i}));return n.displayName=JT(t),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kue=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],kp=w1("chevron-down",kue);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mue=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],_f=w1("external-link",Mue);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rue=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Oue=w1("menu",Rue);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tue=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nue=w1("x",Tue),Pue=new URL("/elysiumx-logo.png",import.meta.url).href,o$=({connect:t,disconnect:e,isConnected:n,address:r})=>{const[i,o]=be.useState(!1),[s,a]=be.useState(null),c=be.useRef(null),l=()=>o(!i),u=p=>{a(s===p?null:p)};be.useEffect(()=>{const p=m=>{c.current&&!c.current.contains(m.target)&&(a(null),o(!1))};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const f=()=>{o(!1),a(null)};return re.jsxs("nav",{ref:c,className:"modern-navbar",children:[re.jsx("div",{className:"navbar-brand",onClick:()=>window.open("/","_blank"),children:re.jsx("img",{src:Pue,alt:"ElysiumX logo",className:"brand-logo"})}),re.jsxs("div",{className:"navbar-nav desktop-only",children:[re.jsxs("div",{className:"nav-dropdown",children:[re.jsxs("button",{className:"nav-link dropdown-toggle",onClick:()=>u("projects"),onMouseEnter:()=>a("projects"),children:["Projects",re.jsx(kp,{className:`dropdown-icon ${s==="projects"?"rotated":""}`})]}),re.jsxs("div",{className:`dropdown-menu ${s==="projects"?"show":""}`,children:[re.jsxs("a",{href:"https://gov.elysiumx.io",target:"_blank",className:"dropdown-item",children:[re.jsx("span",{children:"Governance"}),re.jsx(_f,{className:"external-icon"})]}),re.jsxs("a",{href:"https://app.elysiumx.io",target:"_blank",className:"dropdown-item",children:[re.jsx("span",{children:"Exchange"}),re.jsx(_f,{className:"external-icon"})]})]})]}),re.jsx("a",{href:"https://elysiumx.io",className:"nav-link",children:"About Us"}),re.jsxs("div",{className:"nav-dropdown",children:[re.jsxs("button",{className:"nav-link dropdown-toggle",onClick:()=>u("docs"),onMouseEnter:()=>a("docs"),children:["Docs",re.jsx(kp,{className:`dropdown-icon ${s==="docs"?"rotated":""}`})]}),re.jsx("div",{className:`dropdown-menu ${s==="docs"?"show":""}`,children:re.jsxs("a",{href:"https://docs.elysiumx.io",target:"_blank",rel:"noopener noreferrer",className:"dropdown-item",children:[re.jsx("span",{children:"Whitepaper"}),re.jsx(_f,{className:"external-icon"})]})})]}),re.jsx("a",{href:"https://t.me/elysiumx_io",target:"_blank",className:"nav-link",children:"Community"})]}),re.jsx("div",{className:"navbar-actions desktop-only",children:n?re.jsxs("div",{className:"wallet-dropdown",children:[re.jsxs("button",{className:"wallet-button connected",onClick:()=>u("wallet"),children:[re.jsxs("div",{className:"wallet-info",children:[re.jsx("span",{className:"wallet-address",children:r?`${r.substring(0,6)}...${r.substring(r.length-4)}`:"Connected"}),re.jsx("span",{className:"connection-status",children:"Connected"})]}),re.jsx(kp,{className:`dropdown-icon ${s==="wallet"?"rotated":""}`})]}),re.jsx("div",{className:`dropdown-menu right ${s==="wallet"?"show":""}`,children:re.jsx("button",{onClick:()=>{e(),f()},className:"dropdown-item disconnect",children:"Disconnect Wallet"})})]}):re.jsx("button",{onClick:t,className:"connect-button",children:"Connect Wallet"})}),re.jsx("button",{className:"mobile-menu-toggle",onClick:l,children:i?re.jsx(Nue,{size:24}):re.jsx(Oue,{size:24})}),re.jsx("div",{className:`mobile-nav-overlay ${i?"show":""}`,children:re.jsxs("div",{className:"mobile-nav-content",children:[re.jsxs("div",{className:"mobile-nav-section",children:[re.jsxs("div",{className:"mobile-dropdown",children:[re.jsxs("button",{className:"mobile-nav-link",onClick:()=>u("mobile-projects"),children:[re.jsx("span",{children:"Projects"}),re.jsx(kp,{className:`dropdown-icon ${s==="mobile-projects"?"rotated":""}`})]}),s==="mobile-projects"&&re.jsxs("div",{className:"mobile-dropdown-content",children:[re.jsxs("a",{href:"https://gov.elysiumx.io",target:"_blank",onClick:f,className:"mobile-dropdown-item",children:["Governance ",re.jsx(_f,{size:16})]}),re.jsxs("a",{href:"https://app.elysiumx.io",target:"_blank",onClick:f,className:"mobile-dropdown-item",children:["Exchange ",re.jsx(_f,{size:16})]})]})]}),re.jsx("a",{href:"https://elysiumx.io",onClick:f,className:"mobile-nav-link",children:"About Us"}),re.jsxs("div",{className:"mobile-dropdown",children:[re.jsxs("button",{className:"mobile-nav-link",onClick:()=>u("mobile-docs"),children:[re.jsx("span",{children:"Docs"}),re.jsx(kp,{className:`dropdown-icon ${s==="mobile-docs"?"rotated":""}`})]}),s==="mobile-docs"&&re.jsx("div",{className:"mobile-dropdown-content",children:re.jsxs("a",{href:"https://docs.elysiumx.io",target:"_blank",rel:"noopener noreferrer",onClick:f,className:"mobile-dropdown-item",children:["Whitepaper ",re.jsx(_f,{size:16})]})})]}),re.jsx("a",{href:"https://t.me/elysiumx_io",target:"_blank",onClick:f,className:"mobile-nav-link",children:"Community"})]}),re.jsx("div",{className:"mobile-nav-actions",children:n?re.jsxs(re.Fragment,{children:[re.jsxs("div",{className:"mobile-wallet-info",children:[re.jsx("span",{className:"mobile-wallet-address",children:r?`${r.substring(0,8)}...${r.substring(r.length-6)}`:"Connected"}),re.jsx("span",{className:"mobile-connection-status",children:"Connected"})]}),re.jsx("button",{onClick:()=>{e(),f()},className:"mobile-action-button disconnect",children:"Disconnect Wallet"})]}):re.jsx("button",{onClick:()=>{t(),f()},className:"mobile-action-button connect",children:"Connect Wallet"})})]})})]})},Lue="_container_187jd_1",Bue="_header_187jd_5",Due="_bar_187jd_13",jue="_progress_187jd_20",$ue="_stageInfo_187jd_27",Mp={container:Lue,header:Bue,bar:Due,progress:jue,stageInfo:$ue},s$=({currentStage:t,setCurrentStage:e})=>{const[n,r]=be.useState([]),[i,o]=be.useState(0);if(be.useEffect(()=>{const c=async()=>{try{const u=await Y4();r(u.progressBar.stages),e(u.progressBar.currentStage-1);const f=u.progressBar.stages.reduce((p,m)=>p+m.raised,0);o(f)}catch(u){console.error("Error fetching progress bar data:",u)}};c();const l=setInterval(c,3e4);return()=>clearInterval(l)},[e]),n.length===0)return re.jsx("div",{children:"Loading..."});const s=n[t],a=i/s.target*100;return re.jsxs("div",{className:Mp.container,children:[re.jsxs("div",{className:Mp.header,children:[re.jsxs("span",{children:[s.name," Progress"]}),re.jsxs("span",{children:[i.toLocaleString()," / ",s.target.toLocaleString()," ELY"]})]}),re.jsx("div",{className:Mp.bar,children:re.jsx("div",{className:Mp.progress,style:{width:`${a}%`}})}),re.jsx("div",{className:Mp.stageInfo})]})},Fue="_container_30uss_1",a$={container:Fue},c$=({children:t,duration:e=500,blur:n=!1,easing:r="ease-in-out",initialOpacity:i=0,direction:o="up",distance:s="20px",className:a=""})=>{const[c,l]=be.useState(!1),u=be.useRef(null);be.useEffect(()=>{const m=new IntersectionObserver(([w])=>{w.isIntersecting&&(l(!0),m.disconnect())},{threshold:.1});return u.current&&m.observe(u.current),()=>{u.current&&m.unobserve(u.current)}},[]);const f=()=>{if(!c)switch(o){case"left":return`translateX(-${s})`;case"right":return`translateX(${s})`;case"down":return`translateY(${s})`;case"up":default:return`translateY(${s})`}return"translate(0)"},p={transition:`all ${e}ms ${r}`,opacity:c?1:i,filter:c?"blur(0)":n?"blur(5px)":"none",transform:f()};return re.jsx("div",{ref:u,style:p,className:a,children:t})};function t0(t){let e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function $S(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Uue(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function ZT(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function XT(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function zue(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function que(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function Qx(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function Hue(t,e){let n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function Kue(t,e){let n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function QT(t){let e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function Wue(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function Vue(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function FS(t,e){let n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function l$(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function e9(t,e,n){let r=e[0],i=e[1],o=e[2],s=n[0],a=n[1],c=n[2];return t[0]=i*c-o*a,t[1]=o*s-r*c,t[2]=r*a-i*s,t}function Gue(t,e,n,r){let i=e[0],o=e[1],s=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=s+r*(n[2]-s),t}function Yue(t,e,n,r,i){const o=Math.exp(-r*i);let s=e[0],a=e[1],c=e[2];return t[0]=n[0]+(s-n[0])*o,t[1]=n[1]+(a-n[1])*o,t[2]=n[2]+(c-n[2])*o,t}function Jue(t,e,n){let r=e[0],i=e[1],o=e[2],s=n[3]*r+n[7]*i+n[11]*o+n[15];return s=s||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/s,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/s,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/s,t}function Zue(t,e,n){let r=e[0],i=e[1],o=e[2],s=n[3]*r+n[7]*i+n[11]*o+n[15];return s=s||1,t[0]=(n[0]*r+n[4]*i+n[8]*o)/s,t[1]=(n[1]*r+n[5]*i+n[9]*o)/s,t[2]=(n[2]*r+n[6]*i+n[10]*o)/s,t}function Xue(t,e,n){let r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function Que(t,e,n){let r=e[0],i=e[1],o=e[2],s=n[0],a=n[1],c=n[2],l=n[3],u=a*o-c*i,f=c*r-s*o,p=s*i-a*r,m=a*p-c*f,w=c*u-s*p,y=s*f-a*u,I=l*2;return u*=I,f*=I,p*=I,m*=2,w*=2,y*=2,t[0]=r+u+m,t[1]=i+f+w,t[2]=o+p+y,t}const ede=function(){const t=[0,0,0],e=[0,0,0];return function(n,r){$S(t,n),$S(e,r),FS(t,t),FS(e,e);let i=l$(t,e);return i>1?0:i<-1?Math.PI:Math.acos(i)}}();function tde(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}class Fs extends Array{constructor(e=0,n=e,r=e){return super(e,n,r),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,n=e,r=e){return e.length?this.copy(e):(Uue(this,e,n,r),this)}copy(e){return $S(this,e),this}add(e,n){return n?ZT(this,e,n):ZT(this,this,e),this}sub(e,n){return n?XT(this,e,n):XT(this,this,e),this}multiply(e){return e.length?zue(this,this,e):Qx(this,this,e),this}divide(e){return e.length?que(this,this,e):Qx(this,this,1/e),this}inverse(e=this){return Vue(this,e),this}len(){return t0(this)}distance(e){return e?Hue(this,e):t0(this)}squaredLen(){return QT(this)}squaredDistance(e){return e?Kue(this,e):QT(this)}negate(e=this){return Wue(this,e),this}cross(e,n){return n?e9(this,e,n):e9(this,this,e),this}scale(e){return Qx(this,this,e),this}normalize(){return FS(this,this),this}dot(e){return l$(this,e)}equals(e){return tde(this,e)}applyMatrix3(e){return Xue(this,this,e),this}applyMatrix4(e){return Jue(this,this,e),this}scaleRotateMatrix4(e){return Zue(this,this,e),this}applyQuaternion(e){return Que(this,this,e),this}angle(e){return ede(this,e)}lerp(e,n){return Gue(this,this,e,n),this}smoothLerp(e,n,r){return Yue(this,this,e,n,r),this}clone(){return new Fs(this[0],this[1],this[2])}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}transformDirection(e){const n=this[0],r=this[1],i=this[2];return this[0]=e[0]*n+e[4]*r+e[8]*i,this[1]=e[1]*n+e[5]*r+e[9]*i,this[2]=e[2]*n+e[6]*r+e[10]*i,this.normalize()}}const t9=new Fs;let nde=1,rde=1,n9=!1;class ide{constructor(e,n={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=n,this.id=nde++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let r in n)this.addAttribute(r,n[r])}addAttribute(e,n){if(this.attributes[e]=n,n.id=rde++,n.size=n.size||1,n.type=n.type||(n.data.constructor===Float32Array?this.gl.FLOAT:n.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),n.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,n.normalized=n.normalized||!1,n.stride=n.stride||0,n.offset=n.offset||0,n.count=n.count||(n.stride?n.data.byteLength/n.stride:n.data.length/n.size),n.divisor=n.instanced||0,n.needsUpdate=!1,n.usage=n.usage||this.gl.STATIC_DRAW,n.buffer||this.updateAttribute(n),n.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==n.count*n.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,n.count*n.divisor);this.instancedCount=n.count*n.divisor}else e==="index"?this.drawRange.count=n.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,n.count))}updateAttribute(e){const n=!e.buffer;n&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),n?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((n,{name:r,type:i})=>{if(!this.attributes[r]){console.warn(`active attribute ${r} not being supplied`);return}const o=this.attributes[r];this.gl.bindBuffer(o.target,o.buffer),this.glState.boundBuffer=o.buffer;let s=1;i===35674&&(s=2),i===35675&&(s=3),i===35676&&(s=4);const a=o.size/s,c=s===1?0:s*s*4,l=s===1?0:s*4;for(let u=0;u<s;u++)this.gl.vertexAttribPointer(n+u,a,o.type,o.normalized,o.stride+c,o.offset+u*l),this.gl.enableVertexAttribArray(n+u),this.gl.renderer.vertexAttribDivisor(n+u,o.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:n=this.gl.TRIANGLES}){var i;this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((o,{name:s})=>{const a=this.attributes[s];a.needsUpdate&&this.updateAttribute(a)});let r=2;((i=this.attributes.index)==null?void 0:i.type)===this.gl.UNSIGNED_INT&&(r=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r,this.instancedCount):this.gl.renderer.drawArraysInstanced(n,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r):this.gl.drawArrays(n,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!n9)return console.warn("No position buffer data found to compute bounds"),n9=!0}computeBoundingBox(e){e||(e=this.getPosition());const n=e.data,r=e.size;this.bounds||(this.bounds={min:new Fs,max:new Fs,center:new Fs,scale:new Fs,radius:1/0});const i=this.bounds.min,o=this.bounds.max,s=this.bounds.center,a=this.bounds.scale;i.set(1/0),o.set(-1/0);for(let c=0,l=n.length;c<l;c+=r){const u=n[c],f=n[c+1],p=n[c+2];i.x=Math.min(u,i.x),i.y=Math.min(f,i.y),i.z=Math.min(p,i.z),o.x=Math.max(u,o.x),o.y=Math.max(f,o.y),o.z=Math.max(p,o.z)}a.sub(o,i),s.add(i,o).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const n=e.data,r=e.size;this.bounds||this.computeBoundingBox(e);let i=0;for(let o=0,s=n.length;o<s;o+=r)t9.fromArray(n,o),i=Math.max(i,this.bounds.center.squaredDistance(t9));this.bounds.radius=Math.sqrt(i)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let ode=1;const r9={};class u${constructor(e,{vertex:n,fragment:r,uniforms:i={},transparent:o=!1,cullFace:s=e.BACK,frontFace:a=e.CCW,depthTest:c=!0,depthWrite:l=!0,depthFunc:u=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=i,this.id=ode++,n||console.warn("vertex shader not supplied"),r||console.warn("fragment shader not supplied"),this.transparent=o,this.cullFace=s,this.frontFace=a,this.depthTest=c,this.depthWrite=l,this.depthFunc=u,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:n,fragment:r})}setShaders({vertex:e,fragment:n}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${i9(e)}`)),n&&(this.gl.shaderSource(this.fragmentShader,n),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${i9(n)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let r=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let s=0;s<r;s++){let a=this.gl.getActiveUniform(this.program,s);this.uniformLocations.set(a,this.gl.getUniformLocation(this.program,a.name));const c=a.name.match(/(\w+)/g);a.uniformName=c[0],a.nameComponents=c.slice(1)}this.attributeLocations=new Map;const i=[],o=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let s=0;s<o;s++){const a=this.gl.getActiveAttrib(this.program,s),c=this.gl.getAttribLocation(this.program,a.name);c!==-1&&(i[c]=a.name,this.attributeLocations.set(a,c))}this.attributeOrder=i.join("")}setBlendFunc(e,n,r,i){this.blendFunc.src=e,this.blendFunc.dst=n,this.blendFunc.srcAlpha=r,this.blendFunc.dstAlpha=i,e&&(this.transparent=!0)}setBlendEquation(e,n){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=n}setStencilFunc(e,n,r){this.stencilRef=n,this.stencilFunc.func=e,this.stencilFunc.ref=n,this.stencilFunc.mask=r}setStencilOp(e,n,r){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=n,this.stencilOp.depthPass=r}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let n=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((i,o)=>{let s=this.uniforms[o.uniformName];for(const a of o.nameComponents){if(!s)break;if(a in s)s=s[a];else{if(Array.isArray(s.value))break;s=void 0;break}}if(!s)return o9(`Active uniform ${o.name} has not been supplied`);if(s&&s.value===void 0)return o9(`${o.name} uniform is missing a value parameter`);if(s.value.texture)return n=n+1,s.value.update(n),e_(this.gl,o.type,i,n);if(s.value.length&&s.value[0].texture){const a=[];return s.value.forEach(c=>{n=n+1,c.update(n),a.push(n)}),e_(this.gl,o.type,i,a)}e_(this.gl,o.type,i,s.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function e_(t,e,n,r){r=r.length?sde(r):r;const i=t.renderer.state.uniformLocations.get(n);if(r.length)if(i===void 0||i.length!==r.length)t.renderer.state.uniformLocations.set(n,r.slice(0));else{if(ade(i,r))return;i.set?i.set(r):cde(i,r),t.renderer.state.uniformLocations.set(n,i)}else{if(i===r)return;t.renderer.state.uniformLocations.set(n,r)}switch(e){case 5126:return r.length?t.uniform1fv(n,r):t.uniform1f(n,r);case 35664:return t.uniform2fv(n,r);case 35665:return t.uniform3fv(n,r);case 35666:return t.uniform4fv(n,r);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return r.length?t.uniform1iv(n,r):t.uniform1i(n,r);case 35671:case 35667:return t.uniform2iv(n,r);case 35672:case 35668:return t.uniform3iv(n,r);case 35673:case 35669:return t.uniform4iv(n,r);case 35674:return t.uniformMatrix2fv(n,!1,r);case 35675:return t.uniformMatrix3fv(n,!1,r);case 35676:return t.uniformMatrix4fv(n,!1,r)}}function i9(t){let e=t.split(`
`);for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join(`
`)}function sde(t){const e=t.length,n=t[0].length;if(n===void 0)return t;const r=e*n;let i=r9[r];i||(r9[r]=i=new Float32Array(r));for(let o=0;o<e;o++)i.set(t[o],o*n);return i}function ade(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function cde(t,e){for(let n=0,r=t.length;n<r;n++)t[n]=e[n]}let t_=0;function o9(t){t_>100||(console.warn(t),t_++,t_>100&&console.warn("More than 100 program warnings - stopping logs."))}const n_=new Fs;let lde=1;class d${constructor({canvas:e=document.createElement("canvas"),width:n=300,height:r=150,dpr:i=1,alpha:o=!1,depth:s=!0,stencil:a=!1,antialias:c=!1,premultipliedAlpha:l=!1,preserveDrawingBuffer:u=!1,powerPreference:f="default",autoClear:p=!0,webgl:m=2}={}){const w={alpha:o,depth:s,stencil:a,antialias:c,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:f};this.dpr=i,this.alpha=o,this.color=!0,this.depth=s,this.stencil=a,this.premultipliedAlpha=l,this.autoClear=p,this.id=lde++,m===2&&(this.gl=e.getContext("webgl2",w)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",w)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(n,r),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,n){this.width=e,this.height=n,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=n*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:n+"px"})}setViewport(e,n,r=0,i=0){this.state.viewport.width===e&&this.state.viewport.height===n||(this.state.viewport.width=e,this.state.viewport.height=n,this.state.viewport.x=r,this.state.viewport.y=i,this.gl.viewport(r,i,e,n))}setScissor(e,n,r=0,i=0){this.gl.scissor(r,i,e,n)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,n,r,i){this.state.blendFunc.src===e&&this.state.blendFunc.dst===n&&this.state.blendFunc.srcAlpha===r&&this.state.blendFunc.dstAlpha===i||(this.state.blendFunc.src=e,this.state.blendFunc.dst=n,this.state.blendFunc.srcAlpha=r,this.state.blendFunc.dstAlpha=i,r!==void 0?this.gl.blendFuncSeparate(e,n,r,i):this.gl.blendFunc(e,n))}setBlendEquation(e,n){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===n)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=n,n!==void 0?this.gl.blendEquationSeparate(e,n):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,n,r){this.state.stencilFunc===e&&this.state.stencilRef===n&&this.state.stencilFuncMask===r||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=n||0,this.state.stencilFuncMask=r||0,this.gl.stencilFunc(e||this.gl.ALWAYS,n||0,r||0))}setStencilOp(e,n,r){this.state.stencilFail===e&&this.state.stencilDepthFail===n&&this.state.stencilDepthPass===r||(this.state.stencilFail=e,this.state.stencilDepthFail=n,this.state.stencilDepthPass=r,this.gl.stencilOp(e,n,r))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:n=null}={}){this.state.framebuffer!==n&&(this.state.framebuffer=n,this.gl.bindFramebuffer(e,n))}getExtension(e,n,r){return n&&this.gl[n]?this.gl[n].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),n?this.extensions[e]?this.extensions[e][r].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:e.zDepth!==n.zDepth?e.zDepth-n.zDepth:n.id-e.id}sortTransparent(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.zDepth!==n.zDepth?n.zDepth-e.zDepth:n.id-e.id}sortUI(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:n.id-e.id}getRenderList({scene:e,camera:n,frustumCull:r,sort:i}){let o=[];if(n&&r&&n.updateFrustum(),e.traverse(s=>{if(!s.visible)return!0;s.draw&&(r&&s.frustumCulled&&n&&!n.frustumIntersectsMesh(s)||o.push(s))}),i){const s=[],a=[],c=[];o.forEach(l=>{l.program.transparent?l.program.depthTest?a.push(l):c.push(l):s.push(l),l.zDepth=0,!(l.renderOrder!==0||!l.program.depthTest||!n)&&(l.worldMatrix.getTranslation(n_),n_.applyMatrix4(n.projectionViewMatrix),l.zDepth=n_.z)}),s.sort(this.sortOpaque),a.sort(this.sortTransparent),c.sort(this.sortUI),o=s.concat(a,c)}return o}render({scene:e,camera:n,target:r=null,update:i=!0,sort:o=!0,frustumCull:s=!0,clear:a}){r===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(r),this.setViewport(r.width,r.height)),(a||this.autoClear&&a!==!1)&&(this.depth&&(!r||r.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!r||r.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),i&&e.updateMatrixWorld(),n&&n.updateMatrixWorld(),this.getRenderList({scene:e,camera:n,frustumCull:s,sort:o}).forEach(l=>{l.draw({camera:n})})}}function ude(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function dde(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function fde(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],s=n*n+r*r+i*i+o*o;return s>0&&(s=1/Math.sqrt(s)),t[0]=n*s,t[1]=r*s,t[2]=i*s,t[3]=o*s,t}function hde(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function pde(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function gde(t,e,n){n=n*.5;let r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function s9(t,e,n){let r=e[0],i=e[1],o=e[2],s=e[3],a=n[0],c=n[1],l=n[2],u=n[3];return t[0]=r*u+s*a+i*l-o*c,t[1]=i*u+s*c+o*a-r*l,t[2]=o*u+s*l+r*c-i*a,t[3]=s*u-r*a-i*c-o*l,t}function mde(t,e,n){n*=.5;let r=e[0],i=e[1],o=e[2],s=e[3],a=Math.sin(n),c=Math.cos(n);return t[0]=r*c+s*a,t[1]=i*c+o*a,t[2]=o*c-i*a,t[3]=s*c-r*a,t}function vde(t,e,n){n*=.5;let r=e[0],i=e[1],o=e[2],s=e[3],a=Math.sin(n),c=Math.cos(n);return t[0]=r*c-o*a,t[1]=i*c+s*a,t[2]=o*c+r*a,t[3]=s*c-i*a,t}function yde(t,e,n){n*=.5;let r=e[0],i=e[1],o=e[2],s=e[3],a=Math.sin(n),c=Math.cos(n);return t[0]=r*c+i*a,t[1]=i*c-r*a,t[2]=o*c+s*a,t[3]=s*c-o*a,t}function wde(t,e,n,r){let i=e[0],o=e[1],s=e[2],a=e[3],c=n[0],l=n[1],u=n[2],f=n[3],p,m,w,y,I;return m=i*c+o*l+s*u+a*f,m<0&&(m=-m,c=-c,l=-l,u=-u,f=-f),1-m>1e-6?(p=Math.acos(m),w=Math.sin(p),y=Math.sin((1-r)*p)/w,I=Math.sin(r*p)/w):(y=1-r,I=r),t[0]=y*i+I*c,t[1]=y*o+I*l,t[2]=y*s+I*u,t[3]=y*a+I*f,t}function bde(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],s=n*n+r*r+i*i+o*o,a=s?1/s:0;return t[0]=-n*a,t[1]=-r*a,t[2]=-i*a,t[3]=o*a,t}function Ede(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function xde(t,e){let n=e[0]+e[4]+e[8],r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{let i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);let o=(i+1)%3,s=(i+2)%3;r=Math.sqrt(e[i*3+i]-e[o*3+o]-e[s*3+s]+1),t[i]=.5*r,r=.5/r,t[3]=(e[o*3+s]-e[s*3+o])*r,t[o]=(e[o*3+i]+e[i*3+o])*r,t[s]=(e[s*3+i]+e[i*3+s])*r}return t}function _de(t,e,n="YXZ"){let r=Math.sin(e[0]*.5),i=Math.cos(e[0]*.5),o=Math.sin(e[1]*.5),s=Math.cos(e[1]*.5),a=Math.sin(e[2]*.5),c=Math.cos(e[2]*.5);return n==="XYZ"?(t[0]=r*s*c+i*o*a,t[1]=i*o*c-r*s*a,t[2]=i*s*a+r*o*c,t[3]=i*s*c-r*o*a):n==="YXZ"?(t[0]=r*s*c+i*o*a,t[1]=i*o*c-r*s*a,t[2]=i*s*a-r*o*c,t[3]=i*s*c+r*o*a):n==="ZXY"?(t[0]=r*s*c-i*o*a,t[1]=i*o*c+r*s*a,t[2]=i*s*a+r*o*c,t[3]=i*s*c-r*o*a):n==="ZYX"?(t[0]=r*s*c-i*o*a,t[1]=i*o*c+r*s*a,t[2]=i*s*a-r*o*c,t[3]=i*s*c+r*o*a):n==="YZX"?(t[0]=r*s*c+i*o*a,t[1]=i*o*c+r*s*a,t[2]=i*s*a-r*o*c,t[3]=i*s*c-r*o*a):n==="XZY"&&(t[0]=r*s*c-i*o*a,t[1]=i*o*c-r*s*a,t[2]=i*s*a+r*o*c,t[3]=i*s*c+r*o*a),t}const Sde=ude,Cde=dde,Ade=hde,Ide=fde;class kde extends Array{constructor(e=0,n=0,r=0,i=1){super(e,n,r,i),this.onChange=()=>{},this._target=this;const o=["0","1","2","3"];return new Proxy(this,{set(s,a){const c=Reflect.set(...arguments);return c&&o.includes(a)&&s.onChange(),c}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return pde(this._target),this.onChange(),this}set(e,n,r,i){return e.length?this.copy(e):(Cde(this._target,e,n,r,i),this.onChange(),this)}rotateX(e){return mde(this._target,this._target,e),this.onChange(),this}rotateY(e){return vde(this._target,this._target,e),this.onChange(),this}rotateZ(e){return yde(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return bde(this._target,e),this.onChange(),this}conjugate(e=this._target){return Ede(this._target,e),this.onChange(),this}copy(e){return Sde(this._target,e),this.onChange(),this}normalize(e=this._target){return Ide(this._target,e),this.onChange(),this}multiply(e,n){return n?s9(this._target,e,n):s9(this._target,this._target,e),this.onChange(),this}dot(e){return Ade(this._target,e)}fromMatrix3(e){return xde(this._target,e),this.onChange(),this}fromEuler(e,n){return _de(this._target,e,e.order),n||this.onChange(),this}fromAxisAngle(e,n){return gde(this._target,e,n),this.onChange(),this}slerp(e,n){return wde(this._target,this._target,e,n),this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this._target[3]=e[n+3],this.onChange(),this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e}}const Mde=1e-6;function Rde(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Ode(t,e,n,r,i,o,s,a,c,l,u,f,p,m,w,y,I){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=s,t[6]=a,t[7]=c,t[8]=l,t[9]=u,t[10]=f,t[11]=p,t[12]=m,t[13]=w,t[14]=y,t[15]=I,t}function Tde(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Nde(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],l=e[7],u=e[8],f=e[9],p=e[10],m=e[11],w=e[12],y=e[13],I=e[14],S=e[15],T=n*a-r*s,N=n*c-i*s,z=n*l-o*s,$=r*c-i*a,H=r*l-o*a,K=i*l-o*c,j=u*y-f*w,B=u*I-p*w,D=u*S-m*w,P=f*I-p*y,E=f*S-m*y,b=p*S-m*I,g=T*b-N*E+z*P+$*D-H*B+K*j;return g?(g=1/g,t[0]=(a*b-c*E+l*P)*g,t[1]=(i*E-r*b-o*P)*g,t[2]=(y*K-I*H+S*$)*g,t[3]=(p*H-f*K-m*$)*g,t[4]=(c*D-s*b-l*B)*g,t[5]=(n*b-i*D+o*B)*g,t[6]=(I*z-w*K-S*N)*g,t[7]=(u*K-p*z+m*N)*g,t[8]=(s*E-a*D+l*j)*g,t[9]=(r*D-n*E-o*j)*g,t[10]=(w*H-y*z+S*T)*g,t[11]=(f*z-u*H-m*T)*g,t[12]=(a*B-s*P-c*j)*g,t[13]=(n*P-r*B+i*j)*g,t[14]=(y*N-w*$-I*T)*g,t[15]=(u*$-f*N+p*T)*g,t):null}function f$(t){let e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],s=t[5],a=t[6],c=t[7],l=t[8],u=t[9],f=t[10],p=t[11],m=t[12],w=t[13],y=t[14],I=t[15],S=e*s-n*o,T=e*a-r*o,N=e*c-i*o,z=n*a-r*s,$=n*c-i*s,H=r*c-i*a,K=l*w-u*m,j=l*y-f*m,B=l*I-p*m,D=u*y-f*w,P=u*I-p*w,E=f*I-p*y;return S*E-T*P+N*D+z*B-$*j+H*K}function a9(t,e,n){let r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],u=e[7],f=e[8],p=e[9],m=e[10],w=e[11],y=e[12],I=e[13],S=e[14],T=e[15],N=n[0],z=n[1],$=n[2],H=n[3];return t[0]=N*r+z*a+$*f+H*y,t[1]=N*i+z*c+$*p+H*I,t[2]=N*o+z*l+$*m+H*S,t[3]=N*s+z*u+$*w+H*T,N=n[4],z=n[5],$=n[6],H=n[7],t[4]=N*r+z*a+$*f+H*y,t[5]=N*i+z*c+$*p+H*I,t[6]=N*o+z*l+$*m+H*S,t[7]=N*s+z*u+$*w+H*T,N=n[8],z=n[9],$=n[10],H=n[11],t[8]=N*r+z*a+$*f+H*y,t[9]=N*i+z*c+$*p+H*I,t[10]=N*o+z*l+$*m+H*S,t[11]=N*s+z*u+$*w+H*T,N=n[12],z=n[13],$=n[14],H=n[15],t[12]=N*r+z*a+$*f+H*y,t[13]=N*i+z*c+$*p+H*I,t[14]=N*o+z*l+$*m+H*S,t[15]=N*s+z*u+$*w+H*T,t}function Pde(t,e,n){let r=n[0],i=n[1],o=n[2],s,a,c,l,u,f,p,m,w,y,I,S;return e===t?(t[12]=e[0]*r+e[4]*i+e[8]*o+e[12],t[13]=e[1]*r+e[5]*i+e[9]*o+e[13],t[14]=e[2]*r+e[6]*i+e[10]*o+e[14],t[15]=e[3]*r+e[7]*i+e[11]*o+e[15]):(s=e[0],a=e[1],c=e[2],l=e[3],u=e[4],f=e[5],p=e[6],m=e[7],w=e[8],y=e[9],I=e[10],S=e[11],t[0]=s,t[1]=a,t[2]=c,t[3]=l,t[4]=u,t[5]=f,t[6]=p,t[7]=m,t[8]=w,t[9]=y,t[10]=I,t[11]=S,t[12]=s*r+u*i+w*o+e[12],t[13]=a*r+f*i+y*o+e[13],t[14]=c*r+p*i+I*o+e[14],t[15]=l*r+m*i+S*o+e[15]),t}function Lde(t,e,n){let r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Bde(t,e,n,r){let i=r[0],o=r[1],s=r[2],a=Math.hypot(i,o,s),c,l,u,f,p,m,w,y,I,S,T,N,z,$,H,K,j,B,D,P,E,b,g,v;return Math.abs(a)<Mde?null:(a=1/a,i*=a,o*=a,s*=a,c=Math.sin(n),l=Math.cos(n),u=1-l,f=e[0],p=e[1],m=e[2],w=e[3],y=e[4],I=e[5],S=e[6],T=e[7],N=e[8],z=e[9],$=e[10],H=e[11],K=i*i*u+l,j=o*i*u+s*c,B=s*i*u-o*c,D=i*o*u-s*c,P=o*o*u+l,E=s*o*u+i*c,b=i*s*u+o*c,g=o*s*u-i*c,v=s*s*u+l,t[0]=f*K+y*j+N*B,t[1]=p*K+I*j+z*B,t[2]=m*K+S*j+$*B,t[3]=w*K+T*j+H*B,t[4]=f*D+y*P+N*E,t[5]=p*D+I*P+z*E,t[6]=m*D+S*P+$*E,t[7]=w*D+T*P+H*E,t[8]=f*b+y*g+N*v,t[9]=p*b+I*g+z*v,t[10]=m*b+S*g+$*v,t[11]=w*b+T*g+H*v,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function Dde(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function h$(t,e){let n=e[0],r=e[1],i=e[2],o=e[4],s=e[5],a=e[6],c=e[8],l=e[9],u=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(o,s,a),t[2]=Math.hypot(c,l,u),t}function jde(t){let e=t[0],n=t[1],r=t[2],i=t[4],o=t[5],s=t[6],a=t[8],c=t[9],l=t[10];const u=e*e+n*n+r*r,f=i*i+o*o+s*s,p=a*a+c*c+l*l;return Math.sqrt(Math.max(u,f,p))}const p$=function(){const t=[1,1,1];return function(e,n){let r=t;h$(r,n);let i=1/r[0],o=1/r[1],s=1/r[2],a=n[0]*i,c=n[1]*o,l=n[2]*s,u=n[4]*i,f=n[5]*o,p=n[6]*s,m=n[8]*i,w=n[9]*o,y=n[10]*s,I=a+f+y,S=0;return I>0?(S=Math.sqrt(I+1)*2,e[3]=.25*S,e[0]=(p-w)/S,e[1]=(m-l)/S,e[2]=(c-u)/S):a>f&&a>y?(S=Math.sqrt(1+a-f-y)*2,e[3]=(p-w)/S,e[0]=.25*S,e[1]=(c+u)/S,e[2]=(m+l)/S):f>y?(S=Math.sqrt(1+f-a-y)*2,e[3]=(m-l)/S,e[0]=(c+u)/S,e[1]=.25*S,e[2]=(p+w)/S):(S=Math.sqrt(1+y-a-f)*2,e[3]=(c-u)/S,e[0]=(m+l)/S,e[1]=(p+w)/S,e[2]=.25*S),e}}();function $de(t,e,n,r){let i=t0([t[0],t[1],t[2]]);const o=t0([t[4],t[5],t[6]]),s=t0([t[8],t[9],t[10]]);f$(t)<0&&(i=-i),n[0]=t[12],n[1]=t[13],n[2]=t[14];const c=t.slice(),l=1/i,u=1/o,f=1/s;c[0]*=l,c[1]*=l,c[2]*=l,c[4]*=u,c[5]*=u,c[6]*=u,c[8]*=f,c[9]*=f,c[10]*=f,p$(e,c),r[0]=i,r[1]=o,r[2]=s}function Fde(t,e,n,r){const i=t,o=e[0],s=e[1],a=e[2],c=e[3],l=o+o,u=s+s,f=a+a,p=o*l,m=o*u,w=o*f,y=s*u,I=s*f,S=a*f,T=c*l,N=c*u,z=c*f,$=r[0],H=r[1],K=r[2];return i[0]=(1-(y+S))*$,i[1]=(m+z)*$,i[2]=(w-N)*$,i[3]=0,i[4]=(m-z)*H,i[5]=(1-(p+S))*H,i[6]=(I+T)*H,i[7]=0,i[8]=(w+N)*K,i[9]=(I-T)*K,i[10]=(1-(p+y))*K,i[11]=0,i[12]=n[0],i[13]=n[1],i[14]=n[2],i[15]=1,i}function Ude(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],s=n+n,a=r+r,c=i+i,l=n*s,u=r*s,f=r*a,p=i*s,m=i*a,w=i*c,y=o*s,I=o*a,S=o*c;return t[0]=1-f-w,t[1]=u+S,t[2]=p-I,t[3]=0,t[4]=u-S,t[5]=1-l-w,t[6]=m+y,t[7]=0,t[8]=p+I,t[9]=m-y,t[10]=1-l-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function zde(t,e,n,r,i){let o=1/Math.tan(e/2),s=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*s,t[15]=0,t}function qde(t,e,n,r,i,o,s){let a=1/(e-n),c=1/(r-i),l=1/(o-s);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*a,t[13]=(i+r)*c,t[14]=(s+o)*l,t[15]=1,t}function Hde(t,e,n,r){let i=e[0],o=e[1],s=e[2],a=r[0],c=r[1],l=r[2],u=i-n[0],f=o-n[1],p=s-n[2],m=u*u+f*f+p*p;m===0?p=1:(m=1/Math.sqrt(m),u*=m,f*=m,p*=m);let w=c*p-l*f,y=l*u-a*p,I=a*f-c*u;return m=w*w+y*y+I*I,m===0&&(l?a+=1e-6:c?l+=1e-6:c+=1e-6,w=c*p-l*f,y=l*u-a*p,I=a*f-c*u,m=w*w+y*y+I*I),m=1/Math.sqrt(m),w*=m,y*=m,I*=m,t[0]=w,t[1]=y,t[2]=I,t[3]=0,t[4]=f*I-p*y,t[5]=p*w-u*I,t[6]=u*y-f*w,t[7]=0,t[8]=u,t[9]=f,t[10]=p,t[11]=0,t[12]=i,t[13]=o,t[14]=s,t[15]=1,t}function c9(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function l9(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function Kde(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}class xw extends Array{constructor(e=1,n=0,r=0,i=0,o=0,s=1,a=0,c=0,l=0,u=0,f=1,p=0,m=0,w=0,y=0,I=1){return super(e,n,r,i,o,s,a,c,l,u,f,p,m,w,y,I),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,n,r,i,o,s,a,c,l,u,f,p,m,w,y,I){return e.length?this.copy(e):(Ode(this,e,n,r,i,o,s,a,c,l,u,f,p,m,w,y,I),this)}translate(e,n=this){return Pde(this,n,e),this}rotate(e,n,r=this){return Bde(this,r,e,n),this}scale(e,n=this){return Lde(this,n,typeof e=="number"?[e,e,e]:e),this}add(e,n){return n?c9(this,e,n):c9(this,this,e),this}sub(e,n){return n?l9(this,e,n):l9(this,this,e),this}multiply(e,n){return e.length?n?a9(this,e,n):a9(this,this,e):Kde(this,this,e),this}identity(){return Tde(this),this}copy(e){return Rde(this,e),this}fromPerspective({fov:e,aspect:n,near:r,far:i}={}){return zde(this,e,n,r,i),this}fromOrthogonal({left:e,right:n,bottom:r,top:i,near:o,far:s}){return qde(this,e,n,r,i,o,s),this}fromQuaternion(e){return Ude(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return Nde(this,e),this}compose(e,n,r){return Fde(this,e,n,r),this}decompose(e,n,r){return $de(this,e,n,r),this}getRotation(e){return p$(e,this),this}getTranslation(e){return Dde(e,this),this}getScaling(e){return h$(e,this),this}getMaxScaleOnAxis(){return jde(this)}lookAt(e,n,r){return Hde(this,e,n,r),this}determinant(){return f$(this)}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this[3]=e[n+3],this[4]=e[n+4],this[5]=e[n+5],this[6]=e[n+6],this[7]=e[n+7],this[8]=e[n+8],this[9]=e[n+9],this[10]=e[n+10],this[11]=e[n+11],this[12]=e[n+12],this[13]=e[n+13],this[14]=e[n+14],this[15]=e[n+15],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e[n+4]=this[4],e[n+5]=this[5],e[n+6]=this[6],e[n+7]=this[7],e[n+8]=this[8],e[n+9]=this[9],e[n+10]=this[10],e[n+11]=this[11],e[n+12]=this[12],e[n+13]=this[13],e[n+14]=this[14],e[n+15]=this[15],e}}function Wde(t,e,n="YXZ"){return n==="XYZ"?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):n==="YXZ"?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):n==="ZXY"?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):n==="ZYX"?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):n==="YZX"?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):n==="XZY"&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0)),t}const u9=new xw;class Vde extends Array{constructor(e=0,n=e,r=e,i="YXZ"){super(e,n,r),this.order=i,this.onChange=()=>{},this._target=this;const o=["0","1","2"];return new Proxy(this,{set(s,a){const c=Reflect.set(...arguments);return c&&o.includes(a)&&s.onChange(),c}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,n=e,r=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=n,this._target[2]=r,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,n=this.order){return Wde(this._target,e,n),this.onChange(),this}fromQuaternion(e,n=this.order,r){return u9.fromQuaternion(e),this._target.fromRotationMatrix(u9,n),r||this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}}class Gde{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new xw,this.worldMatrix=new xw,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new Fs,this.quaternion=new kde,this.scale=new Fs(1),this.rotation=new Vde,this.up=new Fs(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,n=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,n&&e&&e.addChild(this,!1)}addChild(e,n=!0){~this.children.indexOf(e)||this.children.push(e),n&&e.setParent(this,!1)}removeChild(e,n=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),n&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let n=0,r=this.children.length;n<r;n++)this.children[n].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let n=0,r=this.children.length;n<r;n++)this.children[n].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,n=!1){n?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function Yde(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function Jde(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],s=n+n,a=r+r,c=i+i,l=n*s,u=r*s,f=r*a,p=i*s,m=i*a,w=i*c,y=o*s,I=o*a,S=o*c;return t[0]=1-f-w,t[3]=u-S,t[6]=p+I,t[1]=u+S,t[4]=1-l-w,t[7]=m-y,t[2]=p-I,t[5]=m+y,t[8]=1-l-f,t}function Zde(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Xde(t,e,n,r,i,o,s,a,c,l){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=s,t[6]=a,t[7]=c,t[8]=l,t}function Qde(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function efe(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],l=e[7],u=e[8],f=u*s-a*l,p=-u*o+a*c,m=l*o-s*c,w=n*f+r*p+i*m;return w?(w=1/w,t[0]=f*w,t[1]=(-u*r+i*l)*w,t[2]=(a*r-i*s)*w,t[3]=p*w,t[4]=(u*n-i*c)*w,t[5]=(-a*n+i*o)*w,t[6]=m*w,t[7]=(-l*n+r*c)*w,t[8]=(s*n-r*o)*w,t):null}function d9(t,e,n){let r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],u=e[7],f=e[8],p=n[0],m=n[1],w=n[2],y=n[3],I=n[4],S=n[5],T=n[6],N=n[7],z=n[8];return t[0]=p*r+m*s+w*l,t[1]=p*i+m*a+w*u,t[2]=p*o+m*c+w*f,t[3]=y*r+I*s+S*l,t[4]=y*i+I*a+S*u,t[5]=y*o+I*c+S*f,t[6]=T*r+N*s+z*l,t[7]=T*i+N*a+z*u,t[8]=T*o+N*c+z*f,t}function tfe(t,e,n){let r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],u=e[7],f=e[8],p=n[0],m=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=s,t[4]=a,t[5]=c,t[6]=p*r+m*s+l,t[7]=p*i+m*a+u,t[8]=p*o+m*c+f,t}function nfe(t,e,n){let r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],u=e[7],f=e[8],p=Math.sin(n),m=Math.cos(n);return t[0]=m*r+p*s,t[1]=m*i+p*a,t[2]=m*o+p*c,t[3]=m*s-p*r,t[4]=m*a-p*i,t[5]=m*c-p*o,t[6]=l,t[7]=u,t[8]=f,t}function rfe(t,e,n){let r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function ife(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],l=e[7],u=e[8],f=e[9],p=e[10],m=e[11],w=e[12],y=e[13],I=e[14],S=e[15],T=n*a-r*s,N=n*c-i*s,z=n*l-o*s,$=r*c-i*a,H=r*l-o*a,K=i*l-o*c,j=u*y-f*w,B=u*I-p*w,D=u*S-m*w,P=f*I-p*y,E=f*S-m*y,b=p*S-m*I,g=T*b-N*E+z*P+$*D-H*B+K*j;return g?(g=1/g,t[0]=(a*b-c*E+l*P)*g,t[1]=(c*D-s*b-l*B)*g,t[2]=(s*E-a*D+l*j)*g,t[3]=(i*E-r*b-o*P)*g,t[4]=(n*b-i*D+o*B)*g,t[5]=(r*D-n*E-o*j)*g,t[6]=(y*K-I*H+S*$)*g,t[7]=(I*z-w*K-S*N)*g,t[8]=(w*H-y*z+S*T)*g,t):null}class ofe extends Array{constructor(e=1,n=0,r=0,i=0,o=1,s=0,a=0,c=0,l=1){return super(e,n,r,i,o,s,a,c,l),this}set(e,n,r,i,o,s,a,c,l){return e.length?this.copy(e):(Xde(this,e,n,r,i,o,s,a,c,l),this)}translate(e,n=this){return tfe(this,n,e),this}rotate(e,n=this){return nfe(this,n,e),this}scale(e,n=this){return rfe(this,n,e),this}multiply(e,n){return n?d9(this,e,n):d9(this,this,e),this}identity(){return Qde(this),this}copy(e){return Zde(this,e),this}fromMatrix4(e){return Yde(this,e),this}fromQuaternion(e){return Jde(this,e),this}fromBasis(e,n,r){return this.set(e[0],e[1],e[2],n[0],n[1],n[2],r[0],r[1],r[2]),this}inverse(e=this){return efe(this,e),this}getNormalMatrix(e){return ife(this,e),this}}let sfe=0;class g$ extends Gde{constructor(e,{geometry:n,program:r,mode:i=e.TRIANGLES,frustumCulled:o=!0,renderOrder:s=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=sfe++,this.geometry=n,this.program=r,this.mode=i,this.frustumCulled=o,this.renderOrder=s,this.modelViewMatrix=new xw,this.normalMatrix=new ofe,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}));let n=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:n}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}))}}const f9={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function h9(t){t.length===4&&(t=t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e||console.warn(`Unable to convert hex string ${t} to rgb values`),[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]}function afe(t){return t=parseInt(t),[(t>>16&255)/255,(t>>8&255)/255,(t&255)/255]}function p9(t){return t===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(t)?t[0]==="#"?h9(t):f9[t.toLowerCase()]?h9(f9[t.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):afe(t)}class _w extends Array{constructor(e){return Array.isArray(e)?super(...e):super(...p9(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(e){this[0]=e}set g(e){this[1]=e}set b(e){this[2]=e}set(e){return Array.isArray(e)?this.copy(e):this.copy(p9(...arguments))}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this}}class m$ extends ide{constructor(e,{attributes:n={}}={}){Object.assign(n,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,n)}}const cfe=`#version 300 es
in vec2 position;
void main() {
  gl_Position = vec4(position, 0.0, 1.0);
}
`,lfe=`#version 300 es
precision highp float;

uniform float uTime;
uniform float uAmplitude;
uniform vec3 uColorStops[3];
uniform vec2 uResolution;
uniform float uBlend;

out vec4 fragColor;

vec3 permute(vec3 x) {
  return mod(((x * 34.0) + 1.0) * x, 289.0);
}

float snoise(vec2 v){
  const vec4 C = vec4(
      0.211324865405187, 0.366025403784439,
      -0.577350269189626, 0.024390243902439
  );
  vec2 i  = floor(v + dot(v, C.yy));
  vec2 x0 = v - i + dot(i, C.xx);
  vec2 i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);
  vec4 x12 = x0.xyxy + C.xxzz;
  x12.xy -= i1;
  i = mod(i, 289.0);

  vec3 p = permute(
      permute(i.y + vec3(0.0, i1.y, 1.0))
    + i.x + vec3(0.0, i1.x, 1.0)
  );

  vec3 m = max(
      0.5 - vec3(
          dot(x0, x0),
          dot(x12.xy, x12.xy),
          dot(x12.zw, x12.zw)
      ),
      0.0
  );
  m = m * m;
  m = m * m;

  vec3 x = 2.0 * fract(p * C.www) - 1.0;
  vec3 h = abs(x) - 0.5;
  vec3 ox = floor(x + 0.5);
  vec3 a0 = x - ox;
  m *= 1.79284291400159 - 0.85373472095314 * (a0*a0 + h*h);

  vec3 g;
  g.x  = a0.x  * x0.x  + h.x  * x0.y;
  g.yz = a0.yz * x12.xz + h.yz * x12.yw;
  return 130.0 * dot(m, g);
}

struct ColorStop {
  vec3 color;
  float position;
};

#define COLOR_RAMP(colors, factor, finalColor) {                int index = 0;                                              for (int i = 0; i < 2; i++) {                                    ColorStop currentColor = colors[i];                         bool isInBetween = currentColor.position <= factor;         index = int(mix(float(index), float(i), float(isInBetween)));   }                                                           ColorStop currentColor = colors[index];                     ColorStop nextColor = colors[index + 1];                    float range = nextColor.position - currentColor.position;   float lerpFactor = (factor - currentColor.position) / range;   finalColor = mix(currentColor.color, nextColor.color, lerpFactor); }

void main() {
  vec2 uv = gl_FragCoord.xy / uResolution;
  
  ColorStop colors[3];
  colors[0] = ColorStop(uColorStops[0], 0.0);
  colors[1] = ColorStop(uColorStops[1], 0.5);
  colors[2] = ColorStop(uColorStops[2], 1.0);
  
  vec3 rampColor;
  COLOR_RAMP(colors, uv.x, rampColor);
  
  float height = snoise(vec2(uv.x * 2.0 + uTime * 0.1, uTime * 0.25)) * 0.5 * uAmplitude;
  height = exp(height);
  height = (uv.y * 2.0 - height + 0.2);
  float intensity = 0.6 * height;
  
  float midPoint = 0.20;
  float auroraAlpha = smoothstep(midPoint - uBlend * 0.5, midPoint + uBlend * 0.5, intensity);
  
  vec3 auroraColor = intensity * rampColor;
  
  fragColor = vec4(auroraColor * auroraAlpha, auroraAlpha);
}
`;function v$(t){const{colorStops:e=["#5227FF","#7cff67","#5227FF"],amplitude:n=1,blend:r=.5}=t,i=be.useRef(t);i.current=t;const o=be.useRef(null);return be.useEffect(()=>{const s=o.current;if(!s)return;const a=new d$({alpha:!0,premultipliedAlpha:!0,antialias:!0}),c=a.gl;c.clearColor(0,0,0,0),c.enable(c.BLEND),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA),c.canvas.style.backgroundColor="transparent";let l;function u(){if(!s)return;const I=s.offsetWidth,S=s.offsetHeight;a.setSize(I,S),l&&(l.uniforms.uResolution.value=[I,S])}window.addEventListener("resize",u);const f=new m$(c);f.attributes.uv&&delete f.attributes.uv;const p=e.map(I=>{const S=new _w(I);return[S.r,S.g,S.b]});l=new u$(c,{vertex:cfe,fragment:lfe,uniforms:{uTime:{value:0},uAmplitude:{value:n},uColorStops:{value:p},uResolution:{value:[s.offsetWidth,s.offsetHeight]},uBlend:{value:r}}});const m=new g$(c,{geometry:f,program:l});s.appendChild(c.canvas);let w=0;const y=I=>{w=requestAnimationFrame(y);const{time:S=I*.01,speed:T=1}=i.current;l.uniforms.uTime.value=S*T*.1,l.uniforms.uAmplitude.value=i.current.amplitude??1,l.uniforms.uBlend.value=i.current.blend??r;const N=i.current.colorStops??e;l.uniforms.uColorStops.value=N.map(z=>{const $=new _w(z);return[$.r,$.g,$.b]}),a.render({scene:m})};return w=requestAnimationFrame(y),u(),()=>{var I;cancelAnimationFrame(w),window.removeEventListener("resize",u),s&&c.canvas.parentNode===s&&s.removeChild(c.canvas),(I=c.getExtension("WEBGL_lose_context"))==null||I.loseContext()}},[n]),re.jsx("div",{ref:o,className:"w-full h-full fixed top-0 left-0 -z-10"})}const Sw=({children:t,className:e="",spotlightColor:n="rgba(255, 255, 255, 0.25)"})=>{const r=be.useRef(null),[i,o]=be.useState(!1),[s,a]=be.useState({x:0,y:0}),[c,l]=be.useState(0),u=y=>{if(!r.current||i)return;const I=r.current.getBoundingClientRect();a({x:y.clientX-I.left,y:y.clientY-I.top})},f=()=>{o(!0),l(.6)},p=()=>{o(!1),l(0)},m=()=>{l(.6)},w=()=>{l(0)};return re.jsxs("div",{ref:r,onMouseMove:u,onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:w,className:`relative rounded-3xl border border-neutral-800 bg-neutral-900 overflow-hidden p-8 ${e}`,children:[re.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-0 transition-opacity duration-500 ease-in-out",style:{opacity:c,background:`radial-gradient(circle at ${s.x}px ${s.y}px, ${n}, transparent 80%)`}}),t]})},ufe=()=>{const[t,e]=be.useState(0),[n,r]=be.useState(0),{connect:i,isConnected:o,connectorName:s}=Pj(),{disconnect:a}=K4(),{address:c}=ele(),l=()=>{r(u=>u+1)};return re.jsxs(re.Fragment,{children:[re.jsx(v$,{colorStops:["#e32fff","#00bbff","#2d4af0"],blend:.5,amplitude:1,speed:.5}),re.jsx(o$,{connect:i,disconnect:a,isConnected:o,address:c,connectorName:s}),re.jsx("div",{className:a$.container,children:re.jsx(c$,{children:re.jsxs(Sw,{spotlightColor:"rgba(26, 36, 180, 0.25)",children:[re.jsx(n$,{}),re.jsx(t$,{}),re.jsx(s$,{currentStage:t,setCurrentStage:e}),re.jsx(r$,{},n),re.jsx(e$,{currentStage:t,onPurchase:l,isConnected:o,connect:i})]})})})]})},dfe=()=>{const{provider:t,web3Auth:e}=H4(),[n,r]=be.useState(null),i=be.useMemo(()=>t?new hoe(t):null,[t]),o=be.useMemo(()=>!e||!t?null:new Pie(e.currentChain.rpcTarget),[e,t]);return be.useEffect(()=>{i&&(async()=>{var a;if(!(e!=null&&(a=e.currentChain)!==null&&a!==void 0&&a.chainNamespace)||e.currentChain.chainNamespace!==tn.SOLANA||!i)return;const c=await i.getAccounts();(c==null?void 0:c.length)>0&&r(c)})()},[i,e]),{solanaWallet:i,accounts:n,connection:o}},ffe=()=>{const[t,e]=be.useState(0),[n,r]=be.useState(0),{connect:i,isConnected:o,connectorName:s}=Pj(),{disconnect:a}=K4(),{accounts:c}=dfe(),l=()=>{r(u=>u+1)};return re.jsxs(re.Fragment,{children:[re.jsx(v$,{colorStops:["#e32fff","#00bbff","#2d4af0"],blend:.5,amplitude:1,speed:.5}),re.jsx(o$,{connect:i,disconnect:a,isConnected:o,address:c==null?void 0:c[0],connectorName:s}),re.jsx("div",{className:a$.container,children:re.jsx(c$,{children:re.jsxs(Sw,{spotlightColor:"rgba(26, 36, 180, 0.25)",children:[re.jsx(n$,{}),re.jsx(t$,{}),re.jsx(s$,{currentStage:t,setCurrentStage:e}),re.jsx(r$,{},n),re.jsx(e$,{currentStage:t,onPurchase:l,isConnected:o,connect:i})]})})})]})},hfe=`
attribute vec2 uv;
attribute vec2 position;

varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = vec4(position, 0, 1);
}
`,pfe=`
precision highp float;

uniform float uTime;
uniform vec3 uResolution;
uniform vec2 uFocal;
uniform vec2 uRotation;
uniform float uStarSpeed;
uniform float uDensity;
uniform float uHueShift;
uniform float uSpeed;
uniform vec2 uMouse;
uniform float uGlowIntensity;
uniform float uSaturation;
uniform bool uMouseRepulsion;
uniform float uTwinkleIntensity;
uniform float uRotationSpeed;
uniform float uRepulsionStrength;
uniform float uMouseActiveFactor;
uniform float uAutoCenterRepulsion;
uniform bool uTransparent;

varying vec2 vUv;

#define NUM_LAYER 4.0
#define STAR_COLOR_CUTOFF 0.2
#define MAT45 mat2(0.7071, -0.7071, 0.7071, 0.7071)
#define PERIOD 3.0

float Hash21(vec2 p) {
  p = fract(p * vec2(123.34, 456.21));
  p += dot(p, p + 45.32);
  return fract(p.x * p.y);
}

float tri(float x) {
  return abs(fract(x) * 2.0 - 1.0);
}

float tris(float x) {
  float t = fract(x);
  return 1.0 - smoothstep(0.0, 1.0, abs(2.0 * t - 1.0));
}

float trisn(float x) {
  float t = fract(x);
  return 2.0 * (1.0 - smoothstep(0.0, 1.0, abs(2.0 * t - 1.0))) - 1.0;
}

vec3 hsv2rgb(vec3 c) {
  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);
  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);
  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);
}

float Star(vec2 uv, float flare) {
  float d = length(uv);
  float m = (0.05 * uGlowIntensity) / d;
  float rays = smoothstep(0.0, 1.0, 1.0 - abs(uv.x * uv.y * 1000.0));
  m += rays * flare * uGlowIntensity;
  uv *= MAT45;
  rays = smoothstep(0.0, 1.0, 1.0 - abs(uv.x * uv.y * 1000.0));
  m += rays * 0.3 * flare * uGlowIntensity;
  m *= smoothstep(1.0, 0.2, d);
  return m;
}

vec3 StarLayer(vec2 uv) {
  vec3 col = vec3(0.0);

  vec2 gv = fract(uv) - 0.5; 
  vec2 id = floor(uv);

  for (int y = -1; y <= 1; y++) {
    for (int x = -1; x <= 1; x++) {
      vec2 offset = vec2(float(x), float(y));
      vec2 si = id + vec2(float(x), float(y));
      float seed = Hash21(si);
      float size = fract(seed * 345.32);
      float glossLocal = tri(uStarSpeed / (PERIOD * seed + 1.0));
      float flareSize = smoothstep(0.9, 1.0, size) * glossLocal;

      float red = smoothstep(STAR_COLOR_CUTOFF, 1.0, Hash21(si + 1.0)) + STAR_COLOR_CUTOFF;
      float blu = smoothstep(STAR_COLOR_CUTOFF, 1.0, Hash21(si + 3.0)) + STAR_COLOR_CUTOFF;
      float grn = min(red, blu) * seed;
      vec3 base = vec3(red, grn, blu);
      
      float hue = atan(base.g - base.r, base.b - base.r) / (2.0 * 3.14159) + 0.5;
      hue = fract(hue + uHueShift / 360.0);
      float sat = length(base - vec3(dot(base, vec3(0.299, 0.587, 0.114)))) * uSaturation;
      float val = max(max(base.r, base.g), base.b);
      base = hsv2rgb(vec3(hue, sat, val));

      vec2 pad = vec2(tris(seed * 34.0 + uTime * uSpeed / 10.0), tris(seed * 38.0 + uTime * uSpeed / 30.0)) - 0.5;

      float star = Star(gv - offset - pad, flareSize);
      vec3 color = base;

      float twinkle = trisn(uTime * uSpeed + seed * 6.2831) * 0.5 + 1.0;
      twinkle = mix(1.0, twinkle, uTwinkleIntensity);
      star *= twinkle;
      
      col += star * size * color;
    }
  }

  return col;
}

void main() {
  vec2 focalPx = uFocal * uResolution.xy;
  vec2 uv = (vUv * uResolution.xy - focalPx) / uResolution.y;

  vec2 mouseNorm = uMouse - vec2(0.5);
  
  if (uAutoCenterRepulsion > 0.0) {
    vec2 centerUV = vec2(0.0, 0.0); // Center in UV space
    float centerDist = length(uv - centerUV);
    vec2 repulsion = normalize(uv - centerUV) * (uAutoCenterRepulsion / (centerDist + 0.1));
    uv += repulsion * 0.05;
  } else if (uMouseRepulsion) {
    vec2 mousePosUV = (uMouse * uResolution.xy - focalPx) / uResolution.y;
    float mouseDist = length(uv - mousePosUV);
    vec2 repulsion = normalize(uv - mousePosUV) * (uRepulsionStrength / (mouseDist + 0.1));
    uv += repulsion * 0.05 * uMouseActiveFactor;
  } else {
    vec2 mouseOffset = mouseNorm * 0.1 * uMouseActiveFactor;
    uv += mouseOffset;
  }

  float autoRotAngle = uTime * uRotationSpeed;
  mat2 autoRot = mat2(cos(autoRotAngle), -sin(autoRotAngle), sin(autoRotAngle), cos(autoRotAngle));
  uv = autoRot * uv;

  uv = mat2(uRotation.x, -uRotation.y, uRotation.y, uRotation.x) * uv;

  vec3 col = vec3(0.0);

  for (float i = 0.0; i < 1.0; i += 1.0 / NUM_LAYER) {
    float depth = fract(i + uStarSpeed * uSpeed);
    float scale = mix(20.0 * uDensity, 0.5 * uDensity, depth);
    float fade = depth * smoothstep(1.0, 0.9, depth);
    col += StarLayer(uv * scale + i * 453.32) * fade;
  }

  if (uTransparent) {
    float alpha = length(col);
    alpha = smoothstep(0.0, 0.3, alpha); // Enhance contrast
    alpha = min(alpha, 1.0); // Clamp to maximum 1.0
    gl_FragColor = vec4(col, alpha);
  } else {
    gl_FragColor = vec4(col, 1.0);
  }
}
`;function gfe({focal:t=[.5,.5],rotation:e=[1,0],starSpeed:n=.5,density:r=1,hueShift:i=140,disableAnimation:o=!1,speed:s=1,mouseInteraction:a=!0,glowIntensity:c=.3,saturation:l=0,mouseRepulsion:u=!0,repulsionStrength:f=2,twinkleIntensity:p=.3,rotationSpeed:m=.1,autoCenterRepulsion:w=0,transparent:y=!0,...I}){const S=be.useRef(null),T=be.useRef({x:.5,y:.5}),N=be.useRef({x:.5,y:.5}),z=be.useRef(0),$=be.useRef(0);return be.useEffect(()=>{if(!S.current)return;const H=S.current,K=new d$({alpha:y,premultipliedAlpha:!1}),j=K.gl;y?(j.enable(j.BLEND),j.blendFunc(j.SRC_ALPHA,j.ONE_MINUS_SRC_ALPHA),j.clearColor(0,0,0,0)):j.clearColor(0,0,0,1);let B;function D(){K.setSize(H.offsetWidth*1,H.offsetHeight*1),B&&(B.uniforms.uResolution.value=new _w(j.canvas.width,j.canvas.height,j.canvas.width/j.canvas.height))}window.addEventListener("resize",D,!1),D();const P=new m$(j);B=new u$(j,{vertex:hfe,fragment:pfe,uniforms:{uTime:{value:0},uResolution:{value:new _w(j.canvas.width,j.canvas.height,j.canvas.width/j.canvas.height)},uFocal:{value:new Float32Array(t)},uRotation:{value:new Float32Array(e)},uStarSpeed:{value:n},uDensity:{value:r},uHueShift:{value:i},uSpeed:{value:s},uMouse:{value:new Float32Array([N.current.x,N.current.y])},uGlowIntensity:{value:c},uSaturation:{value:l},uMouseRepulsion:{value:u},uTwinkleIntensity:{value:p},uRotationSpeed:{value:m},uRepulsionStrength:{value:f},uMouseActiveFactor:{value:0},uAutoCenterRepulsion:{value:w},uTransparent:{value:y}}});const E=new g$(j,{geometry:P,program:B});let b;function g(L){b=requestAnimationFrame(g),o||(B.uniforms.uTime.value=L*.001,B.uniforms.uStarSpeed.value=L*.001*n/10);const C=.05;N.current.x+=(T.current.x-N.current.x)*C,N.current.y+=(T.current.y-N.current.y)*C,$.current+=(z.current-$.current)*C,B.uniforms.uMouse.value[0]=N.current.x,B.uniforms.uMouse.value[1]=N.current.y,B.uniforms.uMouseActiveFactor.value=$.current,K.render({scene:E})}b=requestAnimationFrame(g),H.appendChild(j.canvas);function v(L){const C=H.getBoundingClientRect(),O=(L.clientX-C.left)/C.width,x=1-(L.clientY-C.top)/C.height;T.current={x:O,y:x},z.current=1}function A(){z.current=0}return a&&(H.addEventListener("mousemove",v),H.addEventListener("mouseleave",A)),()=>{var L;cancelAnimationFrame(b),window.removeEventListener("resize",D),a&&(H.removeEventListener("mousemove",v),H.removeEventListener("mouseleave",A)),H.removeChild(j.canvas),(L=j.getExtension("WEBGL_lose_context"))==null||L.loseContext()}},[t,e,n,r,i,o,s,a,c,l,u,p,m,f,w,y]),re.jsx("div",{ref:S,className:"w-full h-full relative",...I})}const mfe="_container_1c4bv_1",vfe="_backgroundWrapper_1c4bv_8",yfe="_contentWrapper_1c4bv_17",wfe="_title_1c4bv_29",bfe="_subtitle_1c4bv_36",Efe="_cardsWrapper_1c4bv_45",xfe="_cardContent_1c4bv_54",_fe="_cardTitle_1c4bv_63",Sfe="_cardDescription_1c4bv_69",Cfe="_selectButton_1c4bv_73",io={container:mfe,backgroundWrapper:vfe,contentWrapper:yfe,title:wfe,subtitle:bfe,cardsWrapper:Efe,cardContent:xfe,cardTitle:_fe,cardDescription:Sfe,selectButton:Cfe},Afe=({onSelectChain:t})=>re.jsxs("div",{className:io.container,children:[re.jsx("div",{className:io.backgroundWrapper,children:re.jsx(gfe,{density:.8,glowIntensity:.3,saturation:.8,hueShift:240})}),re.jsxs("div",{className:io.contentWrapper,children:[re.jsx("h1",{className:io.title,children:"Choose Your Ecosystem"}),re.jsx("p",{className:io.subtitle,children:"The ElysiumX Presale is now live. Please select your preferred network to participate."}),re.jsxs("div",{className:io.cardsWrapper,children:[re.jsx(Sw,{spotlightColor:"rgba(88, 101, 242, 0.2)",className:"w-full",children:re.jsxs("div",{className:io.cardContent,children:[re.jsxs("div",{children:[re.jsx("h2",{className:io.cardTitle,children:"EVM Chains"}),re.jsx("p",{className:io.cardDescription,children:"Connect to Ethereum, Polygon, Avalanche, BSC, and other compatible networks."})]}),re.jsxs("button",{className:io.selectButton,onClick:()=>t("evm"),children:["Select EVM",re.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[re.jsx("path",{d:"M5 12h14"}),re.jsx("path",{d:"m12 5 7 7-7 7"})]})]})]})}),re.jsx(Sw,{spotlightColor:"rgba(227, 47, 255, 0.2)",className:"w-full",children:re.jsxs("div",{className:io.cardContent,children:[re.jsxs("div",{children:[re.jsx("h2",{className:io.cardTitle,children:"Solana"}),re.jsx("p",{className:io.cardDescription,children:"Connect to the high-speed Solana network for instant transactions."})]}),re.jsxs("button",{className:io.selectButton,onClick:()=>t("solana"),children:["Select Solana",re.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[re.jsx("path",{d:"M5 12h14"}),re.jsx("path",{d:"m12 5 7 7-7 7"})]})]})]})})]})]})]}),Ife=new Cle,kfe=()=>{const[t,e]=be.useState(null);return t?t==="evm"?re.jsx(NT,{config:Fle,children:re.jsx(Mle,{client:Ife,children:re.jsx(jle,{children:re.jsx(ufe,{})})})}):t==="solana"?re.jsx(NT,{config:zle,children:re.jsx(ffe,{})}):null:re.jsx(Afe,{onSelectChain:e})};iU.createRoot(document.getElementById("root")).render(re.jsx(kfe,{}));export{r0 as $,P4 as A,Yee as B,ql as C,OK as D,tJ as E,XW as F,Yfe as G,Qp as H,Nr as I,ca as J,Jm as K,l0 as L,lh as M,LP as N,Nu as O,JG as P,cP as Q,bC as R,yf as S,SC as T,$G as U,qp as V,Ft as W,Ec as X,jV as Y,si as Z,ke as _,tn as a,z7 as a$,KS as a0,P9 as a1,ha as a2,T9 as a3,Mc as a4,eN as a5,fq as a6,zp as a7,$f as a8,zv as a9,a_ as aA,Zfe as aB,aJ as aC,sJ as aD,oV as aE,US as aF,Pw as aG,o_ as aH,Lfe as aI,Zk as aJ,St as aK,Xn as aL,Mf as aM,Dn as aN,HW as aO,XO as aP,Yie as aQ,Wie as aR,ehe as aS,uw as aT,Xie as aU,Jie as aV,Lie as aW,qie as aX,Die as aY,q7 as aZ,Td as a_,Uv as aa,jl as ab,dN as ac,_e as ad,KP as ae,ft as af,Wee as ag,Kee as ah,nV as ai,rV as aj,Vee as ak,Gee as al,bc as am,Gt as an,M4 as ao,yK as ap,zS as aq,ru as ar,Ffe as as,zfe as at,$fe as au,Wfe as av,WN as aw,bO as ax,Kfe as ay,dM as az,Xa as b,ihe as b0,Tx as b1,nhe as b2,Fie as b3,H7 as b4,W7 as b5,Qie as b6,ohe as b7,wh as b8,B4 as b9,zie as ba,the as bb,OO as bc,V7 as bd,roe as be,N0 as bf,L4 as bg,U0 as bh,V0 as bi,noe as bj,G7 as bk,J7 as bl,K7 as bm,kh as bn,Cv as bo,yy as bp,Q0 as bq,Ca as br,ad as bs,rhe as bt,ioe as bu,X7 as bv,CW as bw,Hfe as bx,Q7 as by,ht as c,Et as d,ls as e,ite as f,Bt as g,Dt as h,In as i,it as j,Vfe as k,ct as l,Gfe as m,Jfe as n,hE as o,nJ as p,TK as q,Ufe as r,RK as s,TC as t,EV as u,ZG as v,js as w,ai as x,wg as y,Vl as z};
